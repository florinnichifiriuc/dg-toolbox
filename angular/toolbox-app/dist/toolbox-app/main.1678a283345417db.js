"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{942:()=>{function Fe(t){return"function"==typeof t}function no(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ro=no(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function W4(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class d1{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof ro?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{jC(s)}catch(a){e=e??[],a instanceof ro?e=[...e,...a.errors]:e.push(a)}}if(e)throw new ro(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jC(e);else{if(e instanceof d1){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&W4(n,e)}remove(e){const{_finalizers:n}=this;n&&W4(n,e),e instanceof d1&&e._removeParent(this)}}d1.EMPTY=(()=>{const t=new d1;return t.closed=!0,t})();const BC=d1.EMPTY;function UC(t){return t instanceof d1||t&&"closed"in t&&Fe(t.remove)&&Fe(t.add)&&Fe(t.unsubscribe)}function jC(t){Fe(t)?t():t.unsubscribe()}const Or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},io={setTimeout(t,e,...n){const{delegate:r}=io;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=io;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $C(t){io.setTimeout(()=>{const{onUnhandledError:e}=Or;if(!e)throw t;e(t)})}function GC(){}const TW=_5("C",void 0,void 0);function _5(t,e,n){return{kind:t,value:e,error:n}}let Fr=null;function so(t){if(Or.useDeprecatedSynchronousErrorHandling){const e=!Fr;if(e&&(Fr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Fr;if(Fr=null,n)throw r}}else t()}class C5 extends d1{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,UC(e)&&e.add(this)):this.destination=BW}static create(e,n,r){return new Z3(e,n,r)}next(e){this.isStopped?w5(function kW(t){return _5("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?w5(function NW(t){return _5("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?w5(TW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const RW=Function.prototype.bind;function M5(t,e){return RW.call(t,e)}class OW{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ao(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ao(r)}else ao(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ao(n)}}}class Z3 extends C5{constructor(e,n,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Or.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&M5(e.next,s),error:e.error&&M5(e.error,s),complete:e.complete&&M5(e.complete,s)}):i=e}this.destination=new OW(i)}}function ao(t){Or.useDeprecatedSynchronousErrorHandling?function PW(t){Or.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=t)}(t):$C(t)}function w5(t,e){const{onStoppedNotification:n}=Or;n&&io.setTimeout(()=>n(t,e))}const BW={closed:!0,next:GC,error:function FW(t){throw t},complete:GC},V5="function"==typeof Symbol&&Symbol.observable||"@@observable";function co(t){return t}let Ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function jW(t){return t&&t instanceof C5||function UW(t){return t&&Fe(t.next)&&Fe(t.error)&&Fe(t.complete)}(t)&&UC(t)}(n)?n:new Z3(n,r,i);return so(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=WC(r))((i,s)=>{const a=new Z3({next:c=>{try{n(c)}catch(o){s(o),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[V5](){return this}pipe(...n){return function qC(t){return 0===t.length?co:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=WC(n))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return t.create=e=>new t(e),t})();function WC(t){var e;return null!==(e=t??Or.Promise)&&void 0!==e?e:Promise}const $W=no(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let oo=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new KC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $W}next(n){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?BC:(this.currentObservers=null,s.push(n),new d1(()=>{this.currentObservers=null,W4(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ye;return n.source=this,n}}return t.create=(e,n)=>new KC(e,n),t})();class KC extends oo{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:BC}}class GW extends oo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function qn(t){return e=>{if(function qW(t){return Fe(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function an(t,e,n,r,i){return new WW(t,e,n,r,i)}class WW extends C5{constructor(e,n,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(o){e.error(o)}}:super._next,this._error=i?function(c){try{i(c)}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function es(t,e){return qn((n,r)=>{let i=0;n.subscribe(an(r,s=>{r.next(t.call(e,s,i++))}))})}function lo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Wn(t){return this instanceof Wn?(this.v=t,this):new Wn(t)}function JC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function S5(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,o){!function i(s,a,c,o){Promise.resolve(o).then(function(l){s({value:l,done:c})},a)}(c,o,(a=t[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ZC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function eM(t){return Fe(t?.then)}function tM(t){return Fe(t[V5])}function nM(t){return Symbol.asyncIterator&&Fe(t?.[Symbol.asyncIterator])}function rM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const iM=function pK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sM(t){return Fe(t?.[iM])}function aM(t){return function XC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||c(d,h)})})}function c(d,h){try{!function o(d){d.value instanceof Wn?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){c("next",d)}function u(d){c("throw",d)}function f(d,h){d(h),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Wn(n.read());if(i)return yield Wn(void 0);yield yield Wn(r)}}finally{n.releaseLock()}})}function cM(t){return Fe(t?.getReader)}function E1(t){if(t instanceof Ye)return t;if(null!=t){if(tM(t))return function mK(t){return new Ye(e=>{const n=t[V5]();if(Fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ZC(t))return function gK(t){return new Ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(eM(t))return function vK(t){return new Ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$C)})}(t);if(nM(t))return oM(t);if(sM(t))return function yK(t){return new Ye(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(cM(t))return function _K(t){return oM(aM(t))}(t)}throw rM(t)}function oM(t){return new Ye(e=>{(function CK(t,e){var n,r,i,s;return function QC(t,e,n,r){return new(n||(n=Promise))(function(s,a){function c(u){try{l(r.next(u))}catch(f){a(f)}}function o(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(a){a(s)})}(u.value).then(c,o)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=JC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Kn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function lM(t,e,n=1/0){return Fe(e)?lM((r,i)=>es((s,a)=>e(r,s,i,a))(E1(t(r,i))),n):("number"==typeof e&&(n=e),qn((r,i)=>function MK(t,e,n,r,i,s,a,c){const o=[];let l=0,u=0,f=!1;const d=()=>{f&&!o.length&&!l&&e.complete()},h=g=>l<r?p(g):o.push(g),p=g=>{s&&e.next(g),l++;let v=!1;E1(n(g,u++)).subscribe(an(e,C=>{i?.(C),s?h(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;o.length&&l<r;){const C=o.shift();a?Kn(e,a,()=>p(C)):p(C)}d()}catch(C){e.error(C)}}))};return t.subscribe(an(e,h,()=>{f=!0,d()})),()=>{c?.()}}(r,i,t,n)))}const uM=new Ye(t=>t.complete());function x5(t){return t[t.length-1]}function fM(t){return function HK(t){return t&&Fe(t.schedule)}(x5(t))?t.pop():void 0}function uo(t,e=0){return qn((n,r)=>{n.subscribe(an(r,i=>Kn(r,t,()=>r.next(i),e),()=>Kn(r,t,()=>r.complete(),e),i=>Kn(r,t,()=>r.error(i),e)))})}function fo(t,e=0){return qn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dM(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ye(n=>{Kn(n,e,()=>{const r=t[Symbol.asyncIterator]();Kn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function I5(t,e){return e?function DK(t,e){if(null!=t){if(tM(t))return function SK(t,e){return E1(t).pipe(fo(e),uo(e))}(t,e);if(ZC(t))return function IK(t,e){return new Ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(eM(t))return function xK(t,e){return E1(t).pipe(fo(e),uo(e))}(t,e);if(nM(t))return dM(t,e);if(sM(t))return function EK(t,e){return new Ye(n=>{let r;return Kn(n,e,()=>{r=t[iM](),Kn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void n.error(a)}s?n.complete():n.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(t,e);if(cM(t))return function LK(t,e){return dM(aM(t),e)}(t,e)}throw rM(t)}(t,e):E1(t)}function AK(...t){const e=fM(t),n=function zK(t,e){return"number"==typeof x5(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?E1(r[0]):function wK(t=1/0){return lM(co,t)}(n)(I5(r,e)):uM}function hM(t={}){const{connector:e=(()=>new oo),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let a,c,o,l=0,u=!1,f=!1;const d=()=>{c?.unsubscribe(),c=void 0},h=()=>{d(),a=o=void 0,u=f=!1},p=()=>{const g=a;h(),g?.unsubscribe()};return qn((g,v)=>{l++,!f&&!u&&d();const C=o=o??e();v.add(()=>{l--,0===l&&!f&&!u&&(c=E5(p,i))}),C.subscribe(v),!a&&l>0&&(a=new Z3({next:y=>C.next(y),error:y=>{f=!0,d(),c=E5(h,n,y),C.error(y)},complete:()=>{u=!0,d(),c=E5(h,r),C.complete()}}),E1(g).subscribe(a))})(s)}}function E5(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Z3({next:()=>{r.unsubscribe(),t()}});return E1(e(...n)).subscribe(r)}function PK(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function ho(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function C2(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(C2).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function L5(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const RK=Me({__forward_ref__:Me});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return C2(this())},t}function Y(t){return D5(t)?t():t}function D5(t){return"function"==typeof t&&t.hasOwnProperty(RK)&&t.__forward_ref__===Se}function A5(t){return t&&!!t.\u0275providers}const pM="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function po(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function T5(t,e){throw new S(-201,!1)}function Zt(t,e){null==t&&function W(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function p2(t){return{providers:t.providers||[],imports:t.imports||[]}}function mo(t){return mM(t,vo)||mM(t,gM)}function mM(t,e){return t.hasOwnProperty(e)?t[e]:null}function go(t){return t&&(t.hasOwnProperty(N5)||t.hasOwnProperty(GK))?t[N5]:null}const vo=Me({\u0275prov:Me}),N5=Me({\u0275inj:Me}),gM=Me({ngInjectableDef:Me}),GK=Me({ngInjectorDef:Me});var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{});let k5;function St(t){const e=k5;return k5=t,e}function yM(t,e,n){const r=mo(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&le.Optional?null:void 0!==e?e:void T5(C2(t))}const be=globalThis,ts={},B5="__NG_DI_FLAG__",yo="ngTempTokenPath",KK=/\n/gm,CM="__source";let K4;function Qn(t){const e=K4;return K4=t,e}function XK(t,e=le.Default){if(void 0===K4)throw new S(-203,!1);return null===K4?yM(t,void 0,e):K4.get(t,e&le.Optional?null:void 0,e)}function ae(t,e=le.Default){return(function vM(){return k5}()||XK)(Y(t),e)}function O(t,e=le.Default){return ae(t,_o(e))}function _o(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function U5(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=le.Default;for(let a=0;a<r.length;a++){const c=r[a],o=JK(c);"number"==typeof o?-1===o?i=c.token:s|=o:i=c}e.push(ae(i,s))}else e.push(ae(r))}return e}function ns(t,e){return t[B5]=e,t.prototype[B5]=e,t}function JK(t){return t[B5]}function cn(t){return{toString:t}.toString()}var Co=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Co||{}),h1=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(h1||{});const L1={},ve=[],Mo=Me({\u0275cmp:Me}),j5=Me({\u0275dir:Me}),$5=Me({\u0275pipe:Me}),wM=Me({\u0275mod:Me}),on=Me({\u0275fac:Me}),rs=Me({__NG_ELEMENT_ID__:Me}),VM=Me({__NG_ENV_ID__:Me});function HM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function G5(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,s)}else{const s=i,a=n[++r];zM(s)?t.setProperty(e,s,a):t.setAttribute(e,s,a),r++}}return r}function bM(t){return 3===t||4===t||6===t}function zM(t){return 64===t.charCodeAt(0)}function is(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||SM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function SM(t,e,n,r,i){let s=0,a=t.length;if(-1===e)a=-1;else for(;s<t.length;){const c=t[s++];if("number"==typeof c){if(c===e){a=-1;break}if(c>e){a=s-1;break}}}for(;s<t.length;){const c=t[s];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(t.splice(a,0,e),s=a+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const xM="ng-template";function tQ(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const a=t[r++];if(n&&"class"===s&&-1!==HM(a.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function IM(t){return 4===t.type&&t.value!==xM}function nQ(t,e,n){return e===(4!==t.type||n?t.value:xM)}function rQ(t,e,n){let r=4;const i=t.attrs||[],s=function aQ(t){for(let e=0;e<t.length;e++)if(bM(t[e]))return e;return t.length}(i);let a=!1;for(let c=0;c<e.length;c++){const o=e[c];if("number"!=typeof o){if(!a)if(4&r){if(r=2|1&r,""!==o&&!nQ(t,o,n)||""===o&&1===e.length){if(p1(r))return!1;a=!0}}else{const l=8&r?o:e[++c];if(8&r&&null!==t.attrs){if(!tQ(t.attrs,l,n)){if(p1(r))return!1;a=!0}continue}const f=iQ(8&r?"class":o,i,IM(t),n);if(-1===f){if(p1(r))return!1;a=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==HM(h,l,0)||2&r&&l!==d){if(p1(r))return!1;a=!0}}}}else{if(!a&&!p1(r)&&!p1(o))return!1;if(a&&p1(o))continue;a=!1,r=o|1&r}}return p1(r)||a}function p1(t){return 0==(1&t)}function iQ(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const a=e[i];if(a===t)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function cQ(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function EM(t,e,n=!1){for(let r=0;r<e.length;r++)if(rQ(t,e[r],n))return!0;return!1}function oQ(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function LM(t,e){return t?":not("+e.trim()+")":e}function lQ(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!p1(a)&&(e+=LM(s,i),i=""),r=a,s=s||!p1(r);n++}return""!==i&&(e+=LM(s,i)),e}function D1(t){return cn(()=>{const e=AM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Co.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||h1.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};TM(n);const r=t.dependencies;return n.directiveDefs=wo(r,!1),n.pipeDefs=wo(r,!0),n.id=function vQ(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function hQ(t){return de(t)||$2(t)}function pQ(t){return null!==t}function M2(t){return cn(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function DM(t,e){if(null==t)return L1;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return cn(()=>{const e=AM(t);return TM(e),e})}function j2(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function de(t){return t[Mo]||null}function $2(t){return t[j5]||null}function pt(t){return t[$5]||null}function AM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||L1,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DM(t.inputs,e),outputs:DM(t.outputs)}}function TM(t){t.features?.forEach(e=>e(t))}function wo(t,e){if(!t)return null;const n=e?pt:hQ;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(pQ)}const s2=0,N=1,re=2,Be=3,m1=4,as=5,tt=6,Q4=7,a2=8,Yn=9,Y4=10,ee=11,cs=12,NM=13,X4=14,c2=15,os=16,J4=17,A1=18,ls=19,kM=20,Xn=21,ln=22,Vo=23,Ho=24,ce=25,q5=1,PM=2,T1=7,Z4=9,G2=11;function xt(t){return Array.isArray(t)&&"object"==typeof t[q5]}function It(t){return Array.isArray(t)&&!0===t[q5]}function W5(t){return 0!=(4&t.flags)}function Ur(t){return t.componentOffset>-1}function zo(t){return 1==(1&t.flags)}function g1(t){return!!t.template}function K5(t){return 0!=(512&t[re])}function jr(t,e){return t.hasOwnProperty(on)?t[on]:null}let VQ=be.WeakRef??class wQ{constructor(e){this.ref=e}deref(){return this.ref}},bQ=0,N1=null,So=!1;function A2(t){const e=N1;return N1=t,e}class UM{constructor(){this.id=bQ++,this.ref=function HQ(t){return new VQ(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=So;So=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{So=e}}producerAccessed(){if(So)throw new Error("");if(null===N1)return;let e=N1.producers.get(this.id);void 0===e?(e={consumerNode:N1.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:N1.trackingVersion},N1.producers.set(this.id,e),this.consumers.set(N1.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=N1.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==N1?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let jM=null;function $M(t){const e=A2(null);try{return t()}finally{A2(e)}}const GM=()=>{};class IQ extends UM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=GM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=A2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=GM,this.watch(this.registerOnCleanup)}finally{A2(e)}}cleanup(){this.cleanupFn()}}class EQ{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function e1(){return qM}function qM(t){return t.type.prototype.ngOnChanges&&(t.setInput=DQ),LQ}function LQ(){const t=KM(this),e=t?.current;if(e){const n=t.previous;if(n===L1)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DQ(t,e,n,r){const i=this.declaredInputs[n],s=KM(t)||function AQ(t,e){return t[WM]=e}(t,{previous:L1,current:null}),a=s.current||(s.current={}),c=s.previous,o=c[i];a[i]=new EQ(o&&o.currentValue,e,c===L1),t[r]=e}e1.ngInherit=!0;const WM="__ngSimpleChanges__";function KM(t){return t[WM]||null}const k1=function(t,e,n){},QM="svg";function xe(t){for(;Array.isArray(t);)t=t[s2];return t}function Eo(t,e){return xe(e[t])}function Et(t,e){return xe(e[t.index])}function XM(t,e){return t.data[e]}function ei(t,e){return t[e]}function jt(t,e){const n=e[t];return xt(n)?n:n[s2]}function Jn(t,e){return null==e?null:t[e]}function JM(t){t[J4]=0}function FQ(t){1024&t[re]||(t[re]|=1024,ew(t,1))}function ZM(t){1024&t[re]&&(t[re]&=-1025,ew(t,-1))}function ew(t,e){let n=t[Be];if(null===n)return;n[as]+=e;let r=n;for(n=n[Be];null!==n&&(1===e&&1===r[as]||-1===e&&0===r[as]);)n[as]+=e,r=n,n=n[Be]}const Q={lFrame:fw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rw(){return Q.bindingsEnabled}function ti(){return null!==Q.skipHydrationRootTNode}function V(){return Q.lFrame.lView}function he(){return Q.lFrame.tView}function v1(t){return Q.lFrame.contextLView=t,t[a2]}function y1(t){return Q.lFrame.contextLView=null,t}function q2(){let t=iw();for(;null!==t&&64===t.type;)t=t.parent;return t}function iw(){return Q.lFrame.currentTNode}function P1(t,e){const n=Q.lFrame;n.currentTNode=t,n.isParent=e}function e7(){return Q.lFrame.isParent}function t7(){Q.lFrame.isParent=!1}function mt(){const t=Q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ni(){return Q.lFrame.bindingIndex++}function fn(t){const e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JQ(t,e){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,n7(e)}function n7(t){Q.lFrame.currentDirectiveIndex=t}function i7(t){Q.lFrame.currentQueryIndex=t}function eY(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[tt]:null}function lw(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&le.Host||(i=eY(s),null===i||(s=s[X4],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Q.lFrame=uw();return r.currentTNode=e,r.lView=t,!0}function s7(t){const e=uw(),n=t[N];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function uw(){const t=Q.lFrame,e=null===t?null:t.child;return null===e?fw(t):e}function fw(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function dw(){const t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const hw=dw;function a7(){const t=dw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gt(){return Q.lFrame.selectedIndex}function $r(t){Q.lFrame.selectedIndex=t}function $e(){const t=Q.lFrame;return XM(t.tView,t.selectedIndex)}let vw=!0;function Lo(){return vw}function Zn(t){vw=t}function Do(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:o,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),o&&(t.viewHooks??=[]).push(-n,o),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Ao(t,e,n){yw(t,e,3,n)}function To(t,e,n,r){(3&t[re])===n&&yw(t,e,n,r)}function c7(t,e){let n=t[re];(3&n)===e&&(n&=8191,n+=1,t[re]=n)}function yw(t,e,n,r){const s=r??-1,a=e.length-1;let c=0;for(let o=void 0!==r?65535&t[J4]:0;o<a;o++)if("number"==typeof e[o+1]){if(c=e[o],null!=r&&c>=r)break}else e[o]<0&&(t[J4]+=65536),(c<s||-1==s)&&(aY(t,n,e,o),t[J4]=(4294901760&t[J4])+o+2),o++}function _w(t,e){k1(4,t,e);const n=A2(null);try{e.call(t)}finally{A2(n),k1(5,t,e)}}function aY(t,e,n,r){const i=n[r]<0,s=n[r+1],c=t[i?-n[r]:n[r]];i?t[re]>>13<t[J4]>>16&&(3&t[re])===e&&(t[re]+=8192,_w(c,s)):_w(c,s)}const ri=-1;class ds{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function l7(t){return t!==ri}function hs(t){return 32767&t}function ps(t,e){let n=function uY(t){return t>>16}(t),r=e;for(;n>0;)r=r[X4],n--;return r}let u7=!0;function No(t){const e=u7;return u7=t,e}const Cw=255,Mw=5;let fY=0;const R1={};function ko(t,e){const n=ww(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,f7(r.data,t),f7(e,null),f7(r.blueprint,null));const i=Po(t,e),s=t.injectorIndex;if(l7(i)){const a=hs(i),c=ps(i,e),o=c[N].data;for(let l=0;l<8;l++)e[s+l]=c[a+l]|o[a+l]}return e[s+8]=i,s}function f7(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ww(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Po(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Iw(i),null===r)return ri;if(n++,i=i[X4],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ri}function d7(t,e,n){!function dY(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rs)&&(r=n[rs]),null==r&&(r=n[rs]=fY++);const i=r&Cw;e.data[t+(i>>Mw)]|=1<<i}(t,e,n)}function Vw(t,e,n){if(n&le.Optional||void 0!==t)return t;T5()}function Hw(t,e,n,r){if(n&le.Optional&&void 0===r&&(r=null),!(n&(le.Self|le.Host))){const i=t[Yn],s=St(void 0);try{return i?i.get(e,r,n&le.Optional):yM(e,r,n&le.Optional)}finally{St(s)}}return Vw(r,0,n)}function bw(t,e,n,r=le.Default,i){if(null!==t){if(2048&e[re]&&!(r&le.Self)){const a=function yY(t,e,n,r,i){let s=t,a=e;for(;null!==s&&null!==a&&2048&a[re]&&!(512&a[re]);){const c=zw(s,a,n,r|le.Self,R1);if(c!==R1)return c;let o=s.parent;if(!o){const l=a[kM];if(l){const u=l.get(n,R1,r);if(u!==R1)return u}o=Iw(a),a=a[X4]}s=o}return i}(t,e,n,r,R1);if(a!==R1)return a}const s=zw(t,e,n,r,R1);if(s!==R1)return s}return Hw(e,n,r,i)}function zw(t,e,n,r,i){const s=function mY(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(rs)?t[rs]:void 0;return"number"==typeof e?e>=0?e&Cw:vY:e}(n);if("function"==typeof s){if(!lw(e,t,r))return r&le.Host?Vw(i,0,r):Hw(e,n,r,i);try{let a;if(a=s(r),null!=a||r&le.Optional)return a;T5()}finally{hw()}}else if("number"==typeof s){let a=null,c=ww(t,e),o=ri,l=r&le.Host?e[c2][tt]:null;for((-1===c||r&le.SkipSelf)&&(o=-1===c?Po(t,e):e[c+8],o!==ri&&xw(r,!1)?(a=e[N],c=hs(o),e=ps(o,e)):c=-1);-1!==c;){const u=e[N];if(Sw(s,c,u.data)){const f=pY(c,e,n,a,r,l);if(f!==R1)return f}o=e[c+8],o!==ri&&xw(r,e[N].data[c+8]===l)&&Sw(s,c,e)?(a=u,c=hs(o),e=ps(o,e)):c=-1}}return i}function pY(t,e,n,r,i,s){const a=e[N],c=a.data[t+8],u=function Ro(t,e,n,r,i){const s=t.providerIndexes,a=e.data,c=1048575&s,o=t.directiveStart,u=s>>20,d=i?c+u:t.directiveEnd;for(let h=r?c:c+u;h<d;h++){const p=a[h];if(h<o&&n===p||h>=o&&p.type===n)return h}if(i){const h=a[o];if(h&&g1(h)&&h.type===n)return o}return null}(c,a,n,null==r?Ur(c)&&u7:r!=a&&0!=(3&c.type),i&le.Host&&s===c);return null!==u?Gr(e,a,u,c):R1}function Gr(t,e,n,r){let i=t[n];const s=e.data;if(function cY(t){return t instanceof ds}(i)){const a=i;a.resolving&&function OK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(s[n]));const c=No(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?St(a.injectImpl):null;lw(t,r,le.Default);try{i=t[n]=a.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function sY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=qM(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&St(l),No(c),a.resolving=!1,hw()}}return i}function Sw(t,e,n){return!!(n[e+(t>>Mw)]&1<<t)}function xw(t,e){return!(t&le.Self||t&le.Host&&e)}class vt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bw(this._tNode,this._lView,e,_o(r),n)}}function vY(){return new vt(q2(),V())}function h7(t){return D5(t)?()=>{const e=h7(Y(t));return e&&e()}:jr(t)}function Iw(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[tt]:null}const si="__parameters__";function ci(t,e,n){return cn(()=>{const r=function m7(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(o,l,u){const f=o.hasOwnProperty(si)?o[si]:Object.defineProperty(o,si,{value:[]})[si];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),o}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function li(t,e){t.forEach(n=>Array.isArray(n)?li(n,e):e(n))}function Lw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Oo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vs(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function $t(t,e,n){let r=ui(t,e);return r>=0?t[1|r]=n:(r=~r,function bY(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function g7(t,e){const n=ui(t,e);if(n>=0)return t[1|n]}function ui(t,e){return function Dw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),a=t[s<<n];if(e===a)return s<<n;a>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Lt=ns(ci("Optional"),8),y7=ns(ci("SkipSelf"),4);function Go(t){return 128==(128&t.flags)}var er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(er||{});const qY=/^>|^->|<!--|-->|--!>|<!-$/g,WY=/(<|>)/,KY="\u200b$1\u200b";const w7=new Map;let QY=0;const H7="__ngContext__";function rt(t,e){xt(e)?(t[H7]=e[ls],function XY(t){w7.set(t[ls],t)}(e)):t[H7]=e}let b7;function z7(t,e){return b7(t,e)}function Cs(t){const e=t[Be];return It(e)?e[Be]:e}function Jw(t){return eV(t[cs])}function Zw(t){return eV(t[m1])}function eV(t){for(;null!==t&&!It(t);)t=t[m1];return t}function hi(t,e,n,r,i){if(null!=r){let s,a=!1;It(r)?s=r:xt(r)&&(a=!0,r=r[s2]);const c=xe(r);0===t&&null!==n?null==i?iV(e,n,c):qr(e,n,c,i||null,!0):1===t&&null!==n?qr(e,n,c,i||null,!0):2===t?function Jo(t,e,n){const r=Yo(t,e);r&&function gX(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,c,a):3===t&&e.destroyNode(c),null!=s&&function _X(t,e,n,r,i){const s=n[T1];s!==xe(n)&&hi(e,t,r,s,i);for(let c=G2;c<n.length;c++){const o=n[c];ws(o[N],o,t,e,r,s)}}(e,t,s,n,i)}}function S7(t,e){return t.createComment(function $w(t){return t.replace(qY,e=>e.replace(WY,KY))}(e))}function Ko(t,e,n){return t.createElement(e,n)}function nV(t,e){const n=t[Z4],r=n.indexOf(e);ZM(e),n.splice(r,1)}function Qo(t,e){if(t.length<=G2)return;const n=G2+e,r=t[n];if(r){const i=r[os];null!==i&&i!==t&&nV(i,r),e>0&&(t[n-1][m1]=r[m1]);const s=Oo(t,G2+e);!function oX(t,e){ws(t,e,e[ee],2,null,null),e[s2]=null,e[tt]=null}(r[N],r);const a=s[A1];null!==a&&a.detachView(s[N]),r[Be]=null,r[m1]=null,r[re]&=-129}return r}function x7(t,e){if(!(256&e[re])){const n=e[ee];e[Vo]?.destroy(),e[Ho]?.destroy(),n.destroyNode&&ws(t,e,n,3,null,null),function fX(t){let e=t[cs];if(!e)return I7(t[N],t);for(;e;){let n=null;if(xt(e))n=e[cs];else{const r=e[G2];r&&(n=r)}if(!n){for(;e&&!e[m1]&&e!==t;)xt(e)&&I7(e[N],e),e=e[Be];null===e&&(e=t),xt(e)&&I7(e[N],e),n=e&&e[m1]}e=n}}(e)}}function I7(t,e){if(!(256&e[re])){e[re]&=-129,e[re]|=256,function mX(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ds)){const s=n[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],o=s[a+1];k1(4,c,o);try{o.call(c)}finally{k1(5,c,o)}}else{k1(4,i,s);try{s.call(i)}finally{k1(5,i,s)}}}}}(t,e),function pX(t,e){const n=t.cleanup,r=e[Q4];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Q4]=null);const i=e[Xn];if(null!==i){e[Xn]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[N].type&&e[ee].destroy();const n=e[os];if(null!==n&&It(e[Be])){n!==e[Be]&&nV(n,e);const r=e[A1];null!==r&&r.detachView(t)}!function JY(t){w7.delete(t[ls])}(e)}}function E7(t,e,n){return function rV(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[s2];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===h1.None||s===h1.Emulated)return null}return Et(r,n)}}(t,e.parent,n)}function qr(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iV(t,e,n){t.appendChild(e,n)}function sV(t,e,n,r,i){null!==r?qr(t,e,n,r,i):iV(t,e,n)}function Yo(t,e){return t.parentNode(e)}function aV(t,e,n){return oV(t,e,n)}let L7,Zo,N7,e6,oV=function cV(t,e,n){return 40&t.type?Et(t,n):null};function Xo(t,e,n,r){const i=E7(t,r,e),s=e[ee],c=aV(r.parent||e[tt],r,e);if(null!=i)if(Array.isArray(n))for(let o=0;o<n.length;o++)sV(s,i,n[o],c,!1);else sV(s,i,n,c,!1);void 0!==L7&&L7(s,r,e,n,i)}function Ms(t,e){if(null!==e){const n=e.type;if(3&n)return Et(e,t);if(4&n)return D7(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ms(t,r);{const i=t[e.index];return It(i)?D7(-1,i):xe(i)}}if(32&n)return z7(e,t)()||xe(t[e.index]);{const r=uV(t,e);return null!==r?Array.isArray(r)?r[0]:Ms(Cs(t[c2]),r):Ms(t,e.next)}}return null}function uV(t,e){return null!==e?t[c2][tt].projection[e.projection]:null}function D7(t,e){const n=G2+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return Ms(r,i)}return e[T1]}function A7(t,e,n,r,i,s,a){for(;null!=n;){const c=r[n.index],o=n.type;if(a&&0===e&&(c&&rt(xe(c),r),n.flags|=2),32!=(32&n.flags))if(8&o)A7(t,e,n.child,r,i,s,!1),hi(e,t,i,c,s);else if(32&o){const l=z7(n,r);let u;for(;u=l();)hi(e,t,i,u,s);hi(e,t,i,c,s)}else 16&o?dV(t,e,r,n,i,s):hi(e,t,i,c,s);n=a?n.projectionNext:n.next}}function ws(t,e,n,r,i,s){A7(n,r,t.firstChild,e,i,s,!1)}function dV(t,e,n,r,i,s){const a=n[c2],o=a[tt].projection[r.projection];if(Array.isArray(o))for(let l=0;l<o.length;l++)hi(e,t,i,o[l],s);else{let l=o;const u=a[Be];Go(r)&&(l.flags|=128),A7(t,e,l,u,i,s,!0)}}function hV(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pV(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&G5(t,e,r),null!==i&&hV(t,e,i),null!==s&&function MX(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function pi(t){return function T7(){if(void 0===Zo&&(Zo=null,be.trustedTypes))try{Zo=be.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zo}()?.createHTML(t)||t}function mi(){if(void 0!==N7)return N7;if(typeof document<"u")return document;throw new S(210,!1)}function mV(t){return function k7(){if(void 0===e6&&(e6=null,be.trustedTypes))try{e6=be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return e6}()?.createHTML(t)||t}class Wr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pM})`}}class zX extends Wr{getTypeName(){return"HTML"}}class SX extends Wr{getTypeName(){return"Style"}}class xX extends Wr{getTypeName(){return"Script"}}class IX extends Wr{getTypeName(){return"URL"}}class EX extends Wr{getTypeName(){return"ResourceURL"}}function Gt(t){return t instanceof Wr?t.changingThisBreaksApplicationSecurity:t}function O1(t,e){const n=function LX(t){return t instanceof Wr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${pM})`)}return n===e}class PX{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(pi(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class RX{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=pi(e),n}}const FX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function t6(t){return(t=String(t)).match(FX)?t:"unsafe:"+t}function dn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Vs(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const _V=dn("area,br,col,hr,img,wbr"),CV=dn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MV=dn("rp,rt"),P7=Vs(_V,Vs(CV,dn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vs(MV,dn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vs(MV,CV)),R7=dn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wV=Vs(R7,dn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),BX=dn("script,style,template");class UX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!P7.hasOwnProperty(n))return this.sanitizedSomething=!0,!BX.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,c=a.toLowerCase();if(!wV.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let o=s.value;R7[c]&&(o=t6(o)),this.buf.push(" ",a,'="',VV(o),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();P7.hasOwnProperty(n)&&!_V.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(VV(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const jX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$X=/([^\#-~ |!])/g;function VV(t){return t.replace(/&/g,"&amp;").replace(jX,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($X,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let n6;function HV(t,e){let n=null;try{n6=n6||function yV(t){const e=new RX(t);return function OX(){try{return!!(new window.DOMParser).parseFromString(pi(""),"text/html")}catch{return!1}}()?new PX(e):e}(t);let r=e?String(e):"";n=n6.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=n6.getInertBodyElement(r)}while(r!==s);return pi((new UX).sanitizeChildren(O7(n)||n))}finally{if(n){const r=O7(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function O7(t){return"content"in t&&function GX(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var n1=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(n1||{});function bV(t){const e=function Hs(){const t=V();return t&&t[Y4].sanitizer}();return e?mV(e.sanitize(n1.HTML,t)||""):O1(t,"HTML")?mV(Gt(t)):HV(mi(),J(t))}class ${constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const r6=new $("ENVIRONMENT_INITIALIZER"),xV=new $("INJECTOR",-1),IV=new $("INJECTOR_DEF_TYPES");class F7{get(e,n=ts){if(n===ts){const r=new Error(`NullInjectorError: No provider for ${C2(e)}!`);throw r.name="NullInjectorError",r}return n}}function JX(...t){return{\u0275providers:LV(0,t),\u0275fromNgModule:!0}}function LV(t,...e){const n=[],r=new Set;let i;const s=a=>{n.push(a)};return li(e,a=>{const c=a;i6(c,s,[],r)&&(i||=[],i.push(c))}),void 0!==i&&DV(i,s),n}function DV(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];B7(i,s=>{e(s,r)})}}function i6(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,s=go(t);const a=!s&&de(t);if(s||a){if(a&&!a.standalone)return!1;i=t}else{const o=t.ngModule;if(s=go(o),!s)return!1;i=o}const c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){const o="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of o)i6(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let l;r.add(i);try{li(s.imports,u=>{i6(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&DV(l,e)}if(!c){const l=jr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:IV,useValue:i,multi:!0},i),e({provide:r6,useValue:()=>ae(i),multi:!0},i)}const o=s.providers;if(null!=o&&!c){const l=t;B7(o,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function B7(t,e){for(let n of t)A5(n)&&(n=n.\u0275providers),Array.isArray(n)?B7(n,e):e(n)}const ZX=Me({provide:String,useValue:Me});function U7(t){return null!==t&&"object"==typeof t&&ZX in t}function Kr(t){return"function"==typeof t}const j7=new $("Set Injector scope."),s6={},tJ={};let $7;function a6(){return void 0===$7&&($7=new F7),$7}class hn{}class c6 extends hn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,q7(e,a=>this.processProvider(a)),this.records.set(xV,gi(void 0,this)),i.has("environment")&&this.records.set(hn,gi(void 0,this));const s=this.records.get(j7);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(IV.multi,ve,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Qn(this),r=St(void 0);try{return e()}finally{Qn(n),St(r)}}get(e,n=ts,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(VM))return e[VM](this);r=_o(r);const s=Qn(this),a=St(void 0);try{if(!(r&le.SkipSelf)){let o=this.records.get(e);if(void 0===o){const l=function aJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof $}(e)&&mo(e);o=l&&this.injectableDefInScope(l)?gi(G7(e),s6):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(r&le.Self?a6():this.parent).get(e,n=r&le.Optional&&n===ts?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[yo]=c[yo]||[]).unshift(C2(e)),s)throw c;return function ZK(t,e,n,r){const i=t[yo];throw e[CM]&&i.unshift(e[CM]),t.message=function eQ(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=C2(e);if(Array.isArray(e))i=e.map(C2).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):C2(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[yo]=null,t}(c,e,"R3InjectorError",this.source)}throw c}finally{St(a),Qn(s)}}resolveInjectorInitializers(){const e=Qn(this),n=St(void 0);try{const i=this.get(r6.multi,ve,le.Self);for(const s of i)s()}finally{Qn(e),St(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(C2(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Kr(e=Y(e))?e:Y(e&&e.provide);const r=function rJ(t){return U7(t)?gi(void 0,t.useValue):gi(NV(t),s6)}(e);if(Kr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=gi(void 0,s6,!0),i.factory=()=>U5(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===s6&&(n.value=tJ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function sJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function G7(t){const e=mo(t),n=null!==e?e.factory:jr(t);if(null!==n)return n;if(t instanceof $)throw new S(204,!1);if(t instanceof Function)return function nJ(t){const e=t.length;if(e>0)throw vs(e,"?"),new S(204,!1);const n=function $K(t){return t&&(t[vo]||t[gM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function NV(t,e,n){let r;if(Kr(t)){const i=Y(t);return jr(i)||G7(i)}if(U7(t))r=()=>Y(t.useValue);else if(function TV(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...U5(t.deps||[]));else if(function AV(t){return!(!t||!t.useExisting)}(t))r=()=>ae(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function iJ(t){return!!t.deps}(t))return jr(i)||G7(i);r=()=>new i(...U5(t.deps))}return r}function gi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function q7(t,e){for(const n of t)Array.isArray(n)?q7(n,e):n&&A5(n)?q7(n.\u0275providers,e):e(n)}const o6=new $("AppId",{providedIn:"root",factory:()=>cJ}),cJ="ng",kV=new $("Platform Initializer"),pn=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PV=new $("CSP nonce",{providedIn:"root",factory:()=>mi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let OV=(t,e,n)=>null;function Z7(t,e,n=!1){return OV(t,e,n)}class vJ{}class UV{}class _J{resolveComponentFactory(e){throw function yJ(t){const e=Error(`No component factory found for ${C2(t)}.`);return e.ngComponent=t,e}(e)}}let p6=(()=>{class e{}return e.NULL=new _J,e})();function CJ(){return yi(q2(),V())}function yi(t,e){return new At(Et(t,e))}let At=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=CJ,e})();class $V{}let mn=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function wJ(){const t=V(),n=jt(q2().index,t);return(xt(n)?n:t)[ee]}(),e})(),VJ=(()=>{var t;class e{}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:()=>null}),e})();class xs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const GV=new xs("16.2.1"),nu={};function QV(t,e=null,n=null,r){const i=YV(t,e,n,r);return i.resolveInjectorInitializers(),i}function YV(t,e=null,n=null,r,i=new Set){const s=[n||ve,JX(t)];return r=r||("object"==typeof t?void 0:C2(t)),new c6(s,e||a6(),r||null,i)}let it=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return QV({name:""},i,r,"");{const s=r.name??"";return QV({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=ts,t.NULL=new F7,t.\u0275prov=Z({token:t,providedIn:"any",factory:()=>ae(xV)}),t.__NG_ELEMENT_ID__=-1,e})();let su=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new S(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:()=>new t}),e})();function Is(t){for(;t;){t[re]|=64;const e=Cs(t);if(K5(t)&&!e)return t;t=e}return null}function au(t){return t.ngOriginalError}class Qr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&au(e);for(;n&&au(n);)n=au(n);return n||null}}const tH=new $("",{providedIn:"root",factory:()=>!1});class sH extends UM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Is(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=A2(this);this.trackingVersion++;try{e(n,r)}finally{A2(i)}}destroy(){this.trackingVersion++}}let g6=null;function aH(){return g6??=new sH,g6}function cH(t,e){return t[e]??aH()}function oH(t,e){const n=aH();n.hasReadASignal&&(t[e]=g6,n.lView=t,g6=new sH)}const ie={};function R(t){lH(he(),V(),gt()+t,!1)}function lH(t,e,n,r){if(!r)if(3==(3&e[re])){const s=t.preOrderCheckHooks;null!==s&&Ao(e,s,n)}else{const s=t.preOrderHooks;null!==s&&To(e,s,0,n)}$r(n)}function z(t,e=le.Default){const n=V();return null===n?ae(t,e):bw(q2(),n,Y(t),e)}function v6(t,e,n,r,i,s,a,c,o,l,u){const f=e.blueprint.slice();return f[s2]=i,f[re]=140|r,(null!==l||t&&2048&t[re])&&(f[re]|=2048),JM(f),f[Be]=f[X4]=t,f[a2]=n,f[Y4]=a||t&&t[Y4],f[ee]=c||t&&t[ee],f[Yn]=o||t&&t[Yn]||null,f[tt]=s,f[ls]=function YY(){return QY++}(),f[ln]=u,f[kM]=l,f[c2]=2==e.type?t[c2]:f,f}function Mi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function cu(t,e,n,r,i){const s=iw(),a=e7(),o=t.data[e]=function WJ(t,e,n,r,i,s){let a=e?e.injectorIndex:-1,c=0;return ti()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=o),null!==s&&(a?null==s.child&&null!==o.parent&&(s.child=o):null===s.next&&(s.next=o,o.prev=s)),o}(t,e,n,r,i),function XQ(){return Q.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const a=function fs(){const t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return P1(s,!0),s}function Es(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uH(t,e,n,r,i){const s=cH(e,Vo),a=gt(),c=2&r;try{if($r(-1),c&&e.length>ce&&lH(t,e,ce,!1),k1(c?2:0,i),c)s.runInContext(n,r,i);else{const l=A2(null);try{n(r,i)}finally{A2(l)}}}finally{c&&null===e[Vo]&&oH(e,Vo),$r(a),k1(c?3:1,i)}}function ou(t,e,n){if(W5(e)){const r=A2(null);try{const s=e.directiveEnd;for(let a=e.directiveStart;a<s;a++){const c=t.data[a];c.contentQueries&&c.contentQueries(1,n[a],a)}}finally{A2(r)}}}function lu(t,e,n){rw()&&(function eZ(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ur(n)&&function cZ(t,e,n){const r=Et(e,t),i=fH(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const c=y6(t,v6(t,i,null,a,r,e,null,t[Y4].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=c}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ko(n,e),rt(r,e);const a=n.initialInputs;for(let c=i;c<s;c++){const o=t.data[c],l=Gr(e,t,c,n);rt(l,e),null!==a&&oZ(0,c-i,l,o,0,a),g1(o)&&(jt(n.index,e)[a2]=Gr(e,t,c,n))}}(t,e,n,Et(n,e)),64==(64&n.flags)&&gH(t,e,n))}function uu(t,e,n=Et){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],c=-1===a?n(e,t):t[a];t[i++]=c}}}function fH(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function fu(t,e,n,r,i,s,a,c,o,l,u){const f=ce+r,d=f+i,h=function BJ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(f,d),p="function"==typeof l?l():l;return h[N]={type:t,blueprint:h,template:n,queries:null,viewQuery:c,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:o,consts:p,incompleteFirstPass:!1,ssrId:u}}let dH=t=>null;function hH(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?pH(n,e,i,s):r.hasOwnProperty(i)&&pH(n,e,r[i],s)}return n}function pH(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function qt(t,e,n,r,i,s,a,c){const o=Et(e,n);let u,l=e.inputs;!c&&null!=l&&(u=l[r])?(gu(t,n,u,r,i),Ur(e)&&function YJ(t,e){const n=jt(e,t);16&n[re]||(n[re]|=64)}(n,e.index)):3&e.type&&(r=function QJ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.value||"",r):i,s.setProperty(o,r,i))}function du(t,e,n,r){if(rw()){const i=null===r?null:{"":-1},s=function nZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(EM(e,a.selectors,!1))if(r||(r=[]),g1(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a),hu(t,e,c.length)}else r.unshift(a),hu(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(t,n);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&mH(t,e,n,a,i,c),i&&function rZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=is(n.mergedAttrs,n.attrs)}function mH(t,e,n,r,i,s){for(let l=0;l<r.length;l++)d7(ko(n,e),t,r[l].type);!function sZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let a=!1,c=!1,o=Es(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=is(n.mergedAttrs,u.hostAttrs),aZ(t,n,e,o,u),iZ(o,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),o++}!function KJ(t,e,n){const i=e.directiveEnd,s=t.data,a=e.attrs,c=[];let o=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=n?n.get(f):null,p=d?d.outputs:null;o=hH(f.inputs,u,o,d?d.inputs:null),l=hH(f.outputs,u,l,p);const g=null===o||null===a||IM(e)?null:lZ(o,u,a);c.push(g)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=8),o.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=o,e.outputs=l}(t,n,s)}function gH(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function ZQ(){return Q.lFrame.currentDirectiveIndex}();try{$r(s);for(let c=r;c<i;c++){const o=t.data[c],l=e[c];n7(c),(null!==o.hostBindings||0!==o.hostVars||null!==o.hostAttrs)&&tZ(o,l)}}finally{$r(-1),n7(a)}}function tZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function hu(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;g1(e)&&(n[""]=t)}}function aZ(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=jr(i.type)),a=new ds(s,g1(i),z);t.blueprint[r]=a,n[r]=a,function JJ(t,e,n,r,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~e.index;(function ZJ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(n,r,s)}}(t,e,r,Es(t,n,i.hostVars,ie),i)}function F1(t,e,n,r,i,s){const a=Et(t,e);!function pu(t,e,n,r,i,s,a){if(null==s)t.removeAttribute(e,i,n);else{const c=null==a?J(s):a(s,r||"",i);t.setAttribute(e,i,c,n)}}(e[ee],a,s,t.value,n,r,i)}function oZ(t,e,n,r,i,s){const a=s[e];if(null!==a)for(let c=0;c<a.length;)vH(r,n,a[c++],a[c++],a[c++])}function vH(t,e,n,r,i){const s=A2(null);try{const a=t.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{A2(s)}}function lZ(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const a=t[s];for(let c=0;c<a.length;c+=2)if(a[c]===e){r.push(s,a[c+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function yH(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function _H(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const a=t.data[s];i7(n[r]),a.contentQueries(2,e[s],s)}}}function y6(t,e){return t[cs]?t[NM][m1]=e:t[cs]=e,t[NM]=e,e}function mu(t,e,n){i7(0);const r=A2(null);try{e(t,n)}finally{A2(r)}}function VH(t,e){const n=t[Yn],r=n?n.get(Qr,null):null;r&&r.handleError(e)}function gu(t,e,n,r,i){for(let s=0;s<n.length;){const a=n[s++],c=n[s++];vH(t.data[a],e[a],r,c,i)}}function uZ(t,e){const n=jt(e,t),r=n[N];!function fZ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[s2];null!==i&&null===n[ln]&&(n[ln]=Z7(i,n[Yn])),vu(r,n,n[a2])}function vu(t,e,n){s7(e);try{const r=t.viewQuery;null!==r&&mu(1,r,n);const i=t.template;null!==i&&uH(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_H(t,e),t.staticViewQueries&&mu(2,t.viewQuery,n);const s=t.components;null!==s&&function dZ(t,e){for(let n=0;n<e.length;n++)uZ(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,a7()}}let HH=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const a=typeof Zone>"u"?null:Zone.current,c=new IQ(r,u=>{this.all.has(u)&&this.queue.set(u,a)},s);let o;this.all.add(c),c.notify();const l=()=>{c.cleanup(),o?.(),this.all.delete(c),this.queue.delete(c)};return o=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:()=>new t}),e})();function _6(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const c=e[a];"number"==typeof c?s=c:1==s?i=L5(i,c):2==s&&(r=L5(r,c+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ls(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(xe(s)),It(s)){for(let c=G2;c<s.length;c++){const o=s[c],l=o[N].firstChild;null!==l&&Ls(o[N],o,l,r)}s[T1]!==s[s2]&&r.push(s[T1])}const a=n.type;if(8&a)Ls(t,e,n.child,r);else if(32&a){const c=z7(n,e);let o;for(;o=c();)r.push(o)}else if(16&a){const c=uV(e,n);if(Array.isArray(c))r.push(...c);else{const o=Cs(e[c2]);Ls(o[N],o,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function C6(t,e,n,r=!0){const i=e[Y4],s=i.rendererFactory,a=i.afterRenderEventManager;s.begin?.(),a?.begin();try{bH(t,e,t.template,n)}catch(o){throw r&&VH(e,o),o}finally{s.end?.(),i.effectManager?.flush(),a?.end()}}function bH(t,e,n,r){const i=e[re];if(256!=(256&i)){e[Y4].effectManager?.flush(),s7(e);try{JM(e),function aw(t){return Q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&uH(t,e,n,2,r);const a=3==(3&i);if(a){const l=t.preOrderCheckHooks;null!==l&&Ao(e,l,null)}else{const l=t.preOrderHooks;null!==l&&To(e,l,0,null),c7(e,0)}if(function mZ(t){for(let e=Jw(t);null!==e;e=Zw(e)){if(!e[PM])continue;const n=e[Z4];for(let r=0;r<n.length;r++){FQ(n[r])}}}(e),zH(e,2),null!==t.contentQueries&&_H(t,e),a){const l=t.contentCheckHooks;null!==l&&Ao(e,l)}else{const l=t.contentHooks;null!==l&&To(e,l,1),c7(e,1)}!function FJ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=cH(e,Ho);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)$r(~s);else{const a=s,c=n[++i],o=n[++i];JQ(c,a),r.runInContext(o,2,e[a])}}}finally{null===e[Ho]&&oH(e,Ho),$r(-1)}}(t,e);const c=t.components;null!==c&&xH(e,c,0);const o=t.viewQuery;if(null!==o&&mu(2,o,r),a){const l=t.viewCheckHooks;null!==l&&Ao(e,l)}else{const l=t.viewHooks;null!==l&&To(e,l,2),c7(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[re]&=-73,ZM(e)}finally{a7()}}}function zH(t,e){for(let n=Jw(t);null!==n;n=Zw(n))for(let r=G2;r<n.length;r++)SH(n[r],e)}function gZ(t,e,n){SH(jt(e,t),n)}function SH(t,e){if(!function RQ(t){return 128==(128&t[re])}(t))return;const n=t[N];if(80&t[re]&&0===e||1024&t[re]||2===e)bH(n,t,n.template,t[a2]);else if(t[as]>0){zH(t,1);const i=t[N].components;null!==i&&xH(t,i,1)}}function xH(t,e,n){for(let r=0;r<e.length;r++)gZ(t,e[r],n)}class Ds{get rootNodes(){const e=this._lView,n=e[N];return Ls(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[a2]}set context(e){this._lView[a2]=e}get destroyed(){return 256==(256&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(It(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Qo(e,r),Oo(n,r))}this._attachedToViewContainer=!1}x7(this._lView[N],this._lView)}onDestroy(e){!function tw(t,e){if(256==(256&t[re]))throw new S(911,!1);null===t[Xn]&&(t[Xn]=[]),t[Xn].push(e)}(this._lView,e)}markForCheck(){Is(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){this._lView[re]|=128}detectChanges(){C6(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uX(t,e){ws(t,e,e[ee],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class vZ extends Ds{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;C6(e[N],e,e[a2],!1)}checkNoChanges(){}get context(){return null}}class IH extends p6{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new As(n,this.ngModule)}}function EH(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class _Z{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_o(r);const i=this.injector.get(e,nu,r);return i!==nu||n===nu?i:this.parentInjector.get(e,n,r)}}class As extends UV{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=EH(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return EH(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function uQ(t){return t.map(lQ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof hn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new _Z(e,s):e,c=a.get($V,null);if(null===c)throw new S(407,!1);const f={rendererFactory:c,sanitizer:a.get(VJ,null),effectManager:a.get(HH,null),afterRenderEventManager:a.get(su,null)},d=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function UJ(t,e,n,r){const s=r.get(tH,!1)||n===h1.ShadowDom,a=t.selectRootElement(e,s);return function jJ(t){dH(t)}(a),a}(d,r,this.componentDef.encapsulation,a):Ko(d,h,function yZ(t){const e=t.toLowerCase();return"svg"===e?QM:"math"===e?"math":null}(h)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=Z7(p,a,!0));const w=fu(0,null,null,1,0,null,null,null,null,null,null),I=v6(null,w,null,C,null,null,f,d,a,null,y);let T,G;s7(I);try{const fe=this.componentDef;let _2,D2=null;fe.findHostDirectiveDefs?(_2=[],D2=new Map,fe.findHostDirectiveDefs(fe,_2,D2),_2.push(fe)):_2=[fe];const to=function MZ(t,e){const n=t[N],r=ce;return t[r]=e,Mi(n,r,2,"#host",null)}(I,p),yGe=function wZ(t,e,n,r,i,s,a){const c=i[N];!function VZ(t,e,n,r){for(const i of t)e.mergedAttrs=is(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(_6(e,e.mergedAttrs,!0),null!==n&&pV(r,n,e))}(r,t,e,a);let o=null;null!==e&&(o=Z7(e,i[Yn]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=v6(i,fH(n),null,u,i[t.index],t,s,l,null,null,o);return c.firstCreatePass&&hu(c,t,r.length-1),y6(i,f),i[t.index]=f}(to,p,fe,_2,I,f,d);G=XM(w,ce),p&&function bZ(t,e,n,r){if(r)G5(t,n,["ng-version",GV.full]);else{const{attrs:i,classes:s}=function fQ(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!p1(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&G5(t,n,i),s&&s.length>0&&hV(t,n,s.join(" "))}}(d,fe,p,r),void 0!==n&&function zZ(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),T=function HZ(t,e,n,r,i,s){const a=q2(),c=i[N],o=Et(a,i);mH(c,i,a,n,null,r);for(let u=0;u<n.length;u++)rt(Gr(i,c,a.directiveStart+u,a),i);gH(c,i,a),o&&rt(o,i);const l=Gr(i,c,a.directiveStart+a.componentOffset,a);if(t[a2]=i[a2]=l,null!==s)for(const u of s)u(l,e);return ou(c,a,t),l}(yGe,fe,_2,D2,I,[SZ]),vu(w,I,null)}finally{a7()}return new CZ(this.componentType,T,yi(G,I),I,G)}}class CZ extends vJ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vZ(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;gu(s[N],s,i,e,n),this.previousInputValues.set(e,n),Is(jt(this._tNode.index,s))}}get injector(){return new vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function SZ(){const t=q2();Do(V()[N],t)}function we(t){let e=function LH(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(g1(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const a=t;a.inputs=M6(t.inputs),a.inputTransforms=M6(t.inputTransforms),a.declaredInputs=M6(t.declaredInputs),a.outputs=M6(t.outputs);const c=i.hostBindings;c&&LZ(t,c);const o=i.viewQuery,l=i.contentQueries;if(o&&IZ(t,o),l&&EZ(t,l),ho(t.inputs,i.inputs),ho(t.declaredInputs,i.declaredInputs),ho(t.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),ho(a.inputTransforms,i.inputTransforms)),g1(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const c=s[a];c&&c.ngInherit&&c(t),c===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function xZ(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=is(i.hostAttrs,n=is(n,i.hostAttrs))}}(r)}function M6(t){return t===L1?{}:t===ve?[]:t}function IZ(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function EZ(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function LZ(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function w6(t){return!!yu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function yu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function B1(t,e,n){return t[e]=n}function st(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Yr(t,e,n,r){const i=st(t,e,n);return st(t,e+1,r)||i}function U1(t,e,n,r){const i=V();return st(i,ni(),e)&&(he(),F1($e(),i,t,e,n,r)),U1}function Vi(t,e,n,r){return st(t,ni(),n)?e+J(n)+r:ie}function yt(t,e,n,r,i,s,a,c){const o=V(),l=he(),u=t+ce,f=l.firstCreatePass?function ree(t,e,n,r,i,s,a,c,o){const l=e.consts,u=Mi(e,t,4,a||null,Jn(l,c));du(e,n,u,Jn(l,o)),Do(e,u);const f=u.tView=fu(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,o,e,n,r,i,s,a):l.data[u];P1(f,!1);const d=WH(l,o,f,t);Lo()&&Xo(l,o,d,f),rt(d,o),y6(o,o[u]=yH(d,o,d,f)),zo(f)&&lu(l,o,f),null!=a&&uu(o,f,c)}let WH=function KH(t,e,n,r){return Zn(!0),e[ee].createComment("")};function Hu(t){return ei(function YQ(){return Q.lFrame.contextLView}(),ce+t)}function q(t,e,n){const r=V();return st(r,ni(),e)&&qt(he(),$e(),r,t,e,r[ee],n,!1),q}function bu(t,e,n,r,i){const a=i?"class":"style";gu(t,n,e.inputs[a],a,r)}function L(t,e,n,r){const i=V(),s=he(),a=ce+t,c=i[ee],o=s.firstCreatePass?function cee(t,e,n,r,i,s){const a=e.consts,o=Mi(e,t,2,r,Jn(a,i));return du(e,n,o,Jn(a,s)),null!==o.attrs&&_6(o,o.attrs,!1),null!==o.mergedAttrs&&_6(o,o.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,o),o}(a,s,i,e,n,r):s.data[a],l=QH(s,i,o,c,e,t);i[a]=l;const u=zo(o);return P1(o,!0),pV(c,l,o),32!=(32&o.flags)&&Lo()&&Xo(s,i,l,o),0===function UQ(){return Q.lFrame.elementDepthCount}()&&rt(l,i),function jQ(){Q.lFrame.elementDepthCount++}(),u&&(lu(s,i,o),ou(s,o,i)),null!==r&&uu(i,o),L}function F(){let t=q2();e7()?t7():(t=t.parent,P1(t,!1));const e=t;(function GQ(t){return Q.skipHydrationRootTNode===t})(e)&&function QQ(){Q.skipHydrationRootTNode=null}(),function $Q(){Q.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(Do(n,t),W5(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function oY(t){return 0!=(8&t.flags)}(e)&&bu(n,e,V(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lY(t){return 0!=(16&t.flags)}(e)&&bu(n,e,V(),e.stylesWithoutHost,!1),F}function Ge(t,e,n,r){return L(t,e,n,r),F(),Ge}let QH=(t,e,n,r,i,s)=>(Zn(!0),Ko(r,i,function gw(){return Q.lFrame.currentNamespace}()));function S6(t,e,n){const r=V(),i=he(),s=t+ce,a=i.firstCreatePass?function uee(t,e,n,r,i){const s=e.consts,a=Jn(s,r),c=Mi(e,t,8,"ng-container",a);return null!==a&&_6(c,a,!0),du(e,n,c,Jn(s,i)),null!==e.queries&&e.queries.elementStart(e,c),c}(s,i,r,e,n):i.data[s];P1(a,!0);const c=XH(i,r,a,t);return r[s]=c,Lo()&&Xo(i,r,c,a),rt(c,r),zo(a)&&(lu(i,r,a),ou(i,a,r)),null!=n&&uu(r,a),S6}function x6(){let t=q2();const e=he();return e7()?t7():(t=t.parent,P1(t,!1)),e.firstCreatePass&&(Do(e,t),W5(t)&&e.queries.elementEnd(t)),x6}let XH=(t,e,n,r)=>(Zn(!0),S7(e[ee],""));function Xr(){return V()}function I6(t){return!!t&&"function"==typeof t.then}function JH(t){return!!t&&"function"==typeof t.subscribe}function qe(t,e,n,r){const i=V(),s=he(),a=q2();return function eb(t,e,n,r,i,s,a){const c=zo(r),l=t.firstCreatePass&&function MH(t){return t.cleanup||(t.cleanup=[])}(t),u=e[a2],f=function CH(t){return t[Q4]||(t[Q4]=[])}(e);let d=!0;if(3&r.type||a){const g=Et(r,e),v=a?a(g):g,C=f.length,y=a?I=>a(xe(I[r.index])):r.index;let w=null;if(!a&&c&&(w=function hee(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===n&&i[s+1]===r){const c=e[Q4],o=i[s+2];return c.length>o?c[o]:null}"string"==typeof a&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,d=!1;else{s=nb(r,e,u,s,!1);const I=n.listen(v,i,s);f.push(s,I),l&&l.push(i,y,C,C+1)}}else s=nb(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const T=e[p[v]][p[v+1]].subscribe(s),G=f.length;f.push(s,T),l&&l.push(i,r.index,G,-(G+1))}}}(s,i,i[ee],a,t,e,r),qe}function tb(t,e,n,r){try{return k1(6,e,n),!1!==n(r)}catch(i){return VH(t,i),!1}finally{k1(7,e,n)}}function nb(t,e,n,r,i){return function s(a){if(a===Function)return r;Is(t.componentOffset>-1?jt(t.index,e):e);let o=tb(e,n,r,a),l=s.__ngNextListenerFn__;for(;l;)o=tb(e,n,l,a)&&o,l=l.__ngNextListenerFn__;return i&&!1===o&&a.preventDefault(),o}}function V2(t=1){return function tY(t){return(Q.lFrame.contextLView=function nY(t,e){for(;t>0;)e=e[X4],t--;return e}(t,Q.lFrame.contextLView))[a2]}(t)}function pee(t,e){let n=null;const r=function sQ(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?EM(t,s,!0):oQ(r,s))return i}else n=i}return n}function zu(t,e,n){return Su(t,"",e,"",n),zu}function Su(t,e,n,r,i){const s=V(),a=Vi(s,e,n,r);return a!==ie&&qt(he(),$e(),s,t,a,s[ee],i,!1),Su}function E6(t,e){return t<<17|e<<2}function tr(t){return t>>17&32767}function xu(t){return 2|t}function Jr(t){return(131068&t)>>2}function Iu(t,e){return-131069&t|e<<2}function Eu(t){return 1|t}function hb(t,e,n,r,i){const s=t[n+1],a=null===e;let c=r?tr(s):Jr(s),o=!1;for(;0!==c&&(!1===o||a);){const u=t[c+1];Cee(t[c],e)&&(o=!0,t[c+1]=r?Eu(u):xu(u)),c=r?tr(u):Jr(u)}o&&(t[n+1]=r?xu(s):Eu(s))}function Cee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ui(t,e)>=0}const H2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pb(t){return t.substring(H2.key,H2.keyEnd)}function Mee(t){return t.substring(H2.value,H2.valueEnd)}function gb(t,e){const n=H2.textEnd;let r=H2.key=Li(t,e,n);return n===r?-1:(r=H2.keyEnd=function bee(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=yb(t,r,n),r=H2.value=Li(t,r,n),r=H2.valueEnd=function zee(t,e,n){let r=-1,i=-1,s=-1,a=e,c=a;for(;a<n;){const o=t.charCodeAt(a++);if(59===o)return c;34===o||39===o?c=a=_b(t,o,a,n):e===a-4&&85===s&&82===i&&76===r&&40===o?c=a=_b(t,41,a,n):o>32&&(c=a),s=i,i=r,r=-33&o}return c}(t,r,n),yb(t,r,n))}function Li(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function yb(t,e,n,r){return(e=Li(t,e,n))<n&&e++,e}function _b(t,e,n,r){let i=-1,s=n;for(;s<r;){const a=t.charCodeAt(s++);if(a==e&&92!==i)return s;i=92==a&&92===i?0:a}throw new Error}function Rs(t,e){return function _1(t,e,n,r){const i=V(),s=he(),a=fn(2);s.firstUpdatePass&&wb(s,t,a,r),e!==ie&&st(i,a,e)&&Hb(s,s.data[gt()],i,i[ee],t,i[a+1]=function kee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=C2(Gt(t)))),t}(e,n),r,a)}(t,e,null,!0),Rs}function b2(t){!function C1(t,e,n,r){const i=he(),s=fn(2);i.firstUpdatePass&&wb(i,null,s,r);const a=V();if(n!==ie&&st(a,s,n)){const c=i.data[gt()];if(zb(c,r)&&!Mb(i,s)){let o=r?c.classesWithoutHost:c.stylesWithoutHost;null!==o&&(n=L5(o,n||"")),bu(i,c,a,n,r)}else!function Nee(t,e,n,r,i,s,a,c){i===ie&&(i=ve);let o=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=o<i.length?i[o+1]:void 0,h=l<s.length?s[l+1]:void 0;let g,p=null;u===f?(o+=2,l+=2,d!==h&&(p=f,g=h)):null===f||null!==u&&u<f?(o+=2,p=u):(l+=2,p=f,g=h),null!==p&&Hb(t,e,n,r,p,g,a,c),u=o<i.length?i[o]:null,f=l<s.length?s[l]:null}}(i,c,a,a[ee],a[s+1],a[s+1]=function Aee(t,e,n){if(null==n||""===n)return ve;const r=[],i=Gt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(Vb,See,t,!1)}function See(t,e){for(let n=function Vee(t){return function vb(t){H2.key=0,H2.keyEnd=0,H2.value=0,H2.valueEnd=0,H2.textEnd=t.length}(t),gb(t,Li(t,0,H2.textEnd))}(e);n>=0;n=gb(e,n))Vb(t,pb(e),Mee(e))}function Mb(t,e){return e>=t.expandoStartIndex}function wb(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[gt()],a=Mb(t,n);zb(s,r)&&null===e&&!a&&(e=!1),e=function Iee(t,e,n,r){const i=function r7(t){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Os(n=Lu(null,t,e,n,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Lu(i,t,e,n,r),null===s){let o=function Eee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Jr(r))return t[tr(r)]}(t,e,r);void 0!==o&&Array.isArray(o)&&(o=Lu(null,t,e,o[1],r),o=Os(o,e.attrs,r),function Lee(t,e,n,r){t[tr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,o))}else s=function Dee(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Os(r,t[s].hostAttrs,n);return Os(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function yee(t,e,n,r,i,s){let a=s?e.classBindings:e.styleBindings,c=tr(a),o=Jr(a);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||ui(n,u)>0)&&(l=!0)):u=n,i)if(0!==o){const d=tr(t[c+1]);t[r+1]=E6(d,c),0!==d&&(t[d+1]=Iu(t[d+1],r)),t[c+1]=function gee(t,e){return 131071&t|e<<17}(t[c+1],r)}else t[r+1]=E6(c,0),0!==c&&(t[c+1]=Iu(t[c+1],r)),c=r;else t[r+1]=E6(o,0),0===c?c=r:t[o+1]=Iu(t[o+1],r),o=r;l&&(t[r+1]=xu(t[r+1])),hb(t,u,r,!0),hb(t,u,r,!1),function _ee(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ui(s,e)>=0&&(n[r+1]=Eu(n[r+1]))}(e,u,t,r,s),a=E6(c,o),s?e.classBindings=a:e.styleBindings=a}(i,s,e,n,a,r)}}function Lu(t,e,n,r,i){let s=null;const a=n.directiveEnd;let c=n.directiveStylingLast;for(-1===c?c=n.directiveStart:c++;c<a&&(s=e[c],r=Os(r,s.hostAttrs,i),s!==t);)c++;return null!==t&&(n.directiveStylingLast=c),r}function Os(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$t(t,a,!!n||e[++s]))}return void 0===t?null:t}function Vb(t,e,n){$t(t,e,Gt(n))}function Hb(t,e,n,r,i,s,a,c){if(!(3&e.type))return;const o=t.data,l=o[c+1],u=function vee(t){return 1==(1&t)}(l)?bb(o,e,n,i,Jr(l),a):void 0;L6(u)||(L6(s)||function mee(t){return 2==(2&t)}(l)&&(s=bb(o,null,n,i,c,a)),function CX(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:er.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=er.Important),t.setStyle(n,r,i,s))}}(r,a,Eo(gt(),n),i,s))}function bb(t,e,n,r,i,s){const a=null===e;let c;for(;i>0;){const o=t[i],l=Array.isArray(o),u=l?o[1]:o,f=null===u;let d=n[i+1];d===ie&&(d=f?ve:void 0);let h=f?g7(d,r):u===r?d:void 0;if(l&&!L6(h)&&(h=g7(o,r)),L6(h)&&(c=h,a))return c;const p=t[i+1];i=a?tr(p):Jr(p)}if(null!==e){let o=s?e.residualClasses:e.residualStyles;null!=o&&(c=g7(o,r))}return c}function L6(t){return void 0!==t}function zb(t,e){return 0!=(t.flags&(e?8:16))}function te(t,e=""){const n=V(),r=he(),i=t+ce,s=r.firstCreatePass?Mi(r,i,1,e,null):r.data[i],a=Sb(r,n,s,e,t);n[i]=a,Lo()&&Xo(r,n,a,s),P1(s,!1)}let Sb=(t,e,n,r,i)=>(Zn(!0),function Wo(t,e){return t.createText(e)}(e[ee],r));function Xe(t){return Fs("",t,""),Xe}function Fs(t,e,n){const r=V(),i=Vi(r,t,e,n);return i!==ie&&function vn(t,e,n){const r=Eo(e,t);!function tV(t,e,n){t.setValue(e,n)}(t[ee],r,n)}(r,gt(),i),Fs}function Du(t,e,n){const r=V();return st(r,ni(),e)&&qt(he(),$e(),r,t,e,r[ee],n,!0),Du}const Zr=void 0;var i2e=["en",[["a","p"],["AM","PM"],Zr],[["AM","PM"],Zr,Zr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zr,"{1} 'at' {0}",Zr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function r2e(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Di={};function _t(t){const e=function s2e(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Wb(e);if(n)return n;const r=e.split("-")[0];if(n=Wb(r),n)return n;if("en"===r)return i2e;throw new S(701,!1)}function Wb(t){return t in Di||(Di[t]=be.ng&&be.ng.common&&be.ng.common.locales&&be.ng.common.locales[t]),Di[t]}var Ie=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ie||{});const Ai="en-US";let Kb=Ai;function Nu(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let s=0;s<t.length;s++)Nu(t[s],e,n,r,i);else{const s=he(),a=V(),c=q2();let o=Kr(t)?t:Y(t.provide);const l=NV(t),u=1048575&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>20;if(Kr(t)||!t.multi){const h=new ds(l,i,z),p=Pu(o,e,i?u:u+d,f);-1===p?(d7(ko(c,a),s,o),ku(s,t,e.length),e.push(o),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(h),a.push(h)):(n[p]=h,a[p]=h)}else{const h=Pu(o,e,u+d,f),p=Pu(o,e,u,u+d),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){d7(ko(c,a),s,o);const C=function rte(t,e,n,r,i){const s=new ds(t,n,z);return s.multi=[],s.index=e,s.componentProviders=0,_z(s,i,r&&!n),s}(i?nte:tte,n.length,i,r,l);!i&&v&&(n[p].providerFactory=C),ku(s,t,e.length,0),e.push(o),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(C),a.push(C)}else ku(s,t,h>-1?h:p,_z(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function ku(t,e,n,r){const i=Kr(e),s=function eJ(t){return!!t.useClass}(e);if(i||s){const o=(s?Y(e.useClass):e).prototype.ngOnDestroy;if(o){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,o]):l[u+1].push(r,o)}else l.push(n,o)}}}function _z(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Pu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function tte(t,e,n,r){return Ru(this.multi,[])}function nte(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Gr(n,n[N],this.providerFactory.index,r);s=c.slice(0,a),Ru(i,s);for(let o=a;o<c.length;o++)s.push(c[o])}else s=[],Ru(i,s);return s}function Ru(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ue(t,e=[]){return n=>{n.providersResolver=(r,i)=>function ete(t,e,n){const r=he();if(r.firstCreatePass){const i=g1(t);Nu(n,r.data,r.blueprint,i,!0),Nu(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class e4{}class ite{}class Ou extends e4{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new IH(this);const i=function Ut(t,e){const n=t[wM]||null;if(!n&&!0===e)throw new Error(`Type ${C2(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function gn(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=YV(e,n,[{provide:e4,useValue:this},{provide:p6,useValue:this.componentFactoryResolver},...r],C2(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Fu extends ite{constructor(e){super(),this.moduleType=e}create(e){return new Ou(this.moduleType,e,[])}}function z2(t,e,n){const r=mt()+t,i=V();return i[r]===ie?B1(i,r,n?e.call(n):e()):function Ts(t,e){return t[e]}(i,r)}function Nt(t,e,n,r){return xz(V(),mt(),t,e,n,r)}function Sz(t,e,n,r,i){return function Iz(t,e,n,r,i,s,a){const c=e+n;return Yr(t,c,i,s)?B1(t,c+2,a?r.call(a,i,s):r(i,s)):qs(t,c+2)}(V(),mt(),t,e,n,r,i)}function qs(t,e){const n=t[e];return n===ie?void 0:n}function xz(t,e,n,r,i,s){const a=e+n;return st(t,a,i)?B1(t,a+1,s?r.call(s,i):r(i)):qs(t,a+1)}function Ez(t,e,n,r,i,s,a,c){const o=e+n;return function V6(t,e,n,r,i){const s=Yr(t,e,n,r);return st(t,e+2,i)||s}(t,o,i,s,a)?B1(t,o+3,c?r.call(c,i,s,a):r(i,s,a)):qs(t,o+3)}function S2(t,e){const n=he();let r;const i=t+ce;n.firstCreatePass?(r=function bte(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=jr(r.type)),c=St(z);try{const o=No(!1),l=s();return No(o),function aee(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,V(),i,l),l}finally{St(c)}}function i1(t,e,n){const r=t+ce,i=V(),s=ei(i,r);return Ws(i,r)?xz(i,mt(),e,s.transform,n,s):s.transform(n)}function nr(t,e,n,r,i){const s=t+ce,a=V(),c=ei(a,s);return Ws(a,s)?Ez(a,mt(),e,c.transform,n,r,i,c):c.transform(n,r,i)}function Ws(t,e){return t[N].data[e].pure}function Uu(t){return e=>{setTimeout(t,void 0,e)}}const W2=class Ite extends oo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),a=r;if(e&&"object"==typeof e){const o=e;i=o.next?.bind(o),s=o.error?.bind(o),a=o.complete?.bind(o)}this.__isAsync&&(s=Uu(s),i&&(i=Uu(i)),a&&(a=Uu(a)));const c=super.subscribe({next:i,error:s,complete:a});return e instanceof d1&&e.add(c),c}};function Dte(t,e,n,r=!0){const i=e[N];if(function dX(t,e,n,r){const i=G2+r,s=n.length;r>0&&(n[i-1][m1]=e),r<s-G2?(e[m1]=n[i],Lw(n,G2+r,e)):(n.push(e),e[m1]=null),e[Be]=n;const a=e[os];null!==a&&n!==a&&function hX(t,e){const n=t[Z4];e[c2]!==e[Be][Be][c2]&&(t[PM]=!0),null===n?t[Z4]=[e]:n.push(e)}(a,e);const c=e[A1];null!==c&&c.insertView(t),e[re]|=128}(i,e,t,n),r){const s=D7(n,t),a=e[ee],c=Yo(a,t[T1]);null!==c&&function lX(t,e,n,r,i,s){r[s2]=i,r[tt]=e,ws(t,r,n,1,i,s)}(i,t[tt],a,e,c,s)}}let yn=(()=>{class e{}return e.__NG_ELEMENT_ID__=Nte,e})();const Ate=yn,Tte=class extends Ate{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Lte(t,e,n,r){const i=e.tView,c=v6(t,i,n,4096&t[re]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);c[os]=t[e.index];const l=t[A1];return null!==l&&(c[A1]=l.createEmbeddedView(i)),vu(i,c,n),c}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Ds(i)}};function Nte(){return function k6(t,e){return 4&t.type?new Tte(e,t,yi(t,e)):null}(q2(),V())}let $1=(()=>{class e{}return e.__NG_ELEMENT_ID__=Bte,e})();function Bte(){return function Oz(t,e){let n;const r=e[t.index];return It(r)?n=r:(n=yH(r,e,null,t),e[t.index]=n,y6(e,n)),Fz(n,e,t,r),new Pz(n,t,e)}(q2(),V())}const Ute=$1,Pz=class extends Ute{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yi(this._hostTNode,this._hostLView)}get injector(){return new vt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Po(this._hostTNode,this._hostLView);if(l7(e)){const n=ps(e,this._hostLView),r=hs(e);return new vt(n[N].data[r+8],n)}return new vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Rz(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-G2}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const c=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(c,i,false),c}createComponent(e,n,r,i,s){const a=e&&!function gs(t){return"function"==typeof t}(e);let c;if(a)c=n;else{const g=n||{};c=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const o=a?e:new As(de(e)),l=r||this.parentInjector;if(!s&&null==o.ngModule){const v=(a?l:this.parentInjector).get(hn,null);v&&(s=v)}de(o.componentType??{});const h=o.create(l,i,null,s);return this.insertImpl(h.hostView,c,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function OQ(t){return It(t[Be])}(i)){const o=this.indexOf(e);if(-1!==o)this.detach(o);else{const l=i[Be],u=new Pz(l,l[tt],l[Be]);u.detach(u.indexOf(e))}}const a=this._adjustIndex(n),c=this._lContainer;return Dte(c,i,a,!r),e.attachToViewContainerRef(),Lw($u(c),a,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Rz(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Qo(this._lContainer,n);r&&(Oo($u(this._lContainer),n),x7(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=Qo(this._lContainer,n);return r&&null!=Oo($u(this._lContainer),n)?new Ds(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Rz(t){return t[8]}function $u(t){return t[8]||(t[8]=[])}let Fz=function Bz(t,e,n,r){if(t[T1])return;let i;i=8&n.type?xe(r):function jte(t,e){const n=t[ee],r=n.createComment(""),i=Et(e,t);return qr(n,Yo(n,i),r,function vX(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[T1]=i};const V1e=new $("Application Initializer");let ef=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(V1e,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const a=s();if(I6(a))r.push(a);else if(JH(a)){const c=new Promise((o,l)=>{a.subscribe({complete:o,error:l})});r.push(c)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const _n=new $("LocaleId",{providedIn:"root",factory:()=>O(_n,le.Optional|le.SkipSelf)||function b1e(){return typeof $localize<"u"&&$localize.locale||Ai}()});let x1e=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new GW(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hS(...t){}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new W2(!1),this.onMicrotaskEmpty=new W2(!1),this.onStable=new W2(!1),this.onError=new W2(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Q1e(){const t="function"==typeof be.requestAnimationFrame;let e=be[t?"requestAnimationFrame":"setTimeout"],n=be[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function J1e(t){const e=()=>{!function X1e(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sf(t),t.isCheckStableRunning=!0,rf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,a,c)=>{try{return pS(t),n.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),mS(t)}},onInvoke:(n,r,i,s,a,c,o)=>{try{return pS(t),n.invoke(i,s,a,c,o)}finally{t.shouldCoalesceRunChangeDetection&&e(),mS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,sf(t),rf(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,Y1e,hS,hS);try{return s.runTask(a,n,r)}finally{s.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Y1e={};function rf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mS(t){t._nesting--,rf(t)}class Z1e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new W2,this.onMicrotaskEmpty=new W2,this.onStable=new W2,this.onError=new W2}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const gS=new $("",{providedIn:"root",factory:vS});function vS(){const t=O(Ae);let e=!0;return AK(new Ye(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ye(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const a=t.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(hM()))}const yS=new $(""),F6=new $("");let lf,af=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lf||(function ene(t){lf=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Ae),ae(cf),ae(F6))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})(),cf=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return lf?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),rr=null;const _S=new $("AllowMultipleToken"),uf=new $("PlatformDestroyListeners"),CS=new $("appBootstrapListener");function VS(t,e,n=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let a=ff();if(!a||a.injector.get(_S,!1)){const c=[...n,...s,{provide:i,useValue:!0}];t?t(c):function rne(t){if(rr&&!rr.get(_S,!1))throw new S(400,!1);(function MS(){!function SQ(t){jM=t}(()=>{throw new S(600,!1)})})(),rr=t;const e=t.get(bS);(function wS(t){t.get(kV,null)?.forEach(n=>n())})(t)}(function HS(t=[],e){return it.create({name:e,providers:[{provide:j7,useValue:"platform"},{provide:uf,useValue:new Set([()=>rr=null])},...t]})}(c,r))}return function sne(t){const e=ff();if(!e)throw new S(401,!1);return e}()}}function ff(){return rr?.get(bS)??null}let bS=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function ane(t="zone.js",e){return"noop"===t?new Z1e:"zone.js"===t?new Ae(e):t}(i?.ngZone,function zS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const a=function ate(t,e,n){return new Ou(t,e,n)}(r.moduleType,this.injector,function LS(t){return[{provide:Ae,useFactory:t},{provide:r6,multi:!0,useFactory:()=>{const e=O(one,{optional:!0});return()=>e.initialize()}},{provide:ES,useFactory:cne},{provide:gS,useFactory:vS}]}(()=>s)),c=a.injector.get(Qr,null);return s.runOutsideAngular(()=>{const o=s.onError.subscribe({next:l=>{c.handleError(l)}});a.onDestroy(()=>{B6(this._modules,a),o.unsubscribe()})}),function SS(t,e,n){try{const r=n();return I6(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(c,s,()=>{const o=a.injector.get(ef);return o.runInitializers(),o.donePromise.then(()=>(function Qb(t){Zt(t,"Expected localeId to be defined"),"string"==typeof t&&(Kb=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(_n,Ai)||Ai),this._moduleDoBootstrap(a),a))})})}bootstrapModule(r,i=[]){const s=xS({},i);return function tne(t,e,n){const r=new Fu(n);return Promise.resolve(r)}(0,0,r).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(r){const i=r.injector.get(Ys);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(uf,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(it))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function xS(t,e){return Array.isArray(e)?e.reduce(xS,t):{...t,...e}}let Ys=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(ES),this.zoneIsStable=O(gS),this.componentTypes=[],this.components=[],this.isStable=O(x1e).hasPendingTasks.pipe(function NK(t,e){return qn((n,r)=>{let i=null,s=0,a=!1;const c=()=>a&&!i&&r.complete();n.subscribe(an(r,o=>{i?.unsubscribe();let l=0;const u=s++;E1(t(o,u)).subscribe(i=an(r,f=>r.next(e?e(o,f,u,l++):f),()=>{i=null,c()}))},()=>{a=!0,c()}))})}(r=>r?function TK(...t){return I5(t,fM(t))}(!1):this.zoneIsStable),function kK(t,e=co){return t=t??PK,qn((n,r)=>{let i,s=!0;n.subscribe(an(r,a=>{const c=e(a);(s||!t(i,c))&&(s=!1,i=c,r.next(a))}))})}(),hM()),this._injector=O(hn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof UV;if(!this._injector.get(ef).done)throw!s&&function ss(t){const e=de(t)||$2(t)||pt(t);return null!==e&&e.standalone}(r),new S(405,!1);let c;c=s?r:this._injector.get(p6).resolveComponentFactory(r),this.componentTypes.push(c.componentType);const o=function nne(t){return t.isBoundToModule}(c)?void 0:this._injector.get(e4),u=c.create(it.NULL,[],i||c.selector,o),f=u.location.nativeElement,d=u.injector.get(yS,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),B6(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;B6(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(CS,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>B6(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function B6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ES=new $("",{providedIn:"root",factory:()=>O(Qr).handleError.bind(void 0)});function cne(){const t=O(Ae),e=O(Qr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let one=(()=>{var t;class e{constructor(){this.zone=O(Ae),this.applicationRef=O(Ys)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Xs=(()=>{class e{}return e.__NG_ELEMENT_ID__=fne,e})();function fne(t){return function dne(t,e,n){if(Ur(t)&&!n){const r=jt(t.index,e);return new Ds(r,r)}return 47&t.type?new Ds(e[c2],e):null}(q2(),V(),16==(16&t))}class NS{constructor(){}supports(e){return w6(e)}create(e){return new yne(e)}}const vne=(t,e)=>e;class yne{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vne}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const a=!r||n&&n.currentIndex<PS(r,i,s)?n:r,c=PS(a,i,s),o=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,null==a.previousIndex)i++;else{s||(s=[]);const l=c-i,u=o-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[a.previousIndex]=u-l}}c!==o&&e(a,c,o)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!w6(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],a=this._trackByFn(c,s),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,s,a,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,a,c),r=!0),n=n._next}else i=0,function OZ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,c=>{a=this._trackByFn(i,c),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,c,a,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,a,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new _ne(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new kS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _ne{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cne{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class kS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Cne,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PS(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class RS{constructor(){}supports(e){return e instanceof Map||yu(e)}create(){return new Mne}}class Mne{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||yu(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new wne(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class wne{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OS(){return new $6([new NS])}let $6=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||OS()),deps:[[e,new y7,new Lt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:OS}),e})();function FS(){return new Js([new RS])}let Js=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||FS()),deps:[[e,new y7,new Lt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:FS}),e})();const bne=VS(null,"core",[]);let zne=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Ys))},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({}),e})();let yf=null;function Zs(){return yf}class One{}const Cn=new $("DocumentToken");var q6=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(q6||{}),o2=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(o2||{});function s1(t,e){const n=_t(t),r=n[Ie.NumberSymbols][e];if(typeof r>"u"){if(e===o2.CurrencyDecimal)return n[Ie.NumberSymbols][o2.Decimal];if(e===o2.CurrencyGroup)return n[Ie.NumberSymbols][o2.Group]}return r}const pre=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function zf(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const xf=/\s+/,nx=[];let If=(()=>{var t;class e{constructor(r,i,s,a){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this.initialClasses=nx,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(xf):nx}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(xf):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(xf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(z($6),z(Js),z(At),z(mn))},t.\u0275dir=K({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Sre{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let n0=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,a,c)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Sre(s.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const o=i.get(a);i.move(o,c),ix(o,s)}});for(let s=0,a=i.length;s<a;s++){const o=i.get(s).context;o.index=s,o.count=a,o.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{ix(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(z($1),z(yn),z($6))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function ix(t,e){t.context.$implicit=e.item}let n4=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new xre,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){sx("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){sx("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(z($1),z(yn))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class xre{constructor(){this.$implicit=null,this.ngIf=null}}function sx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${C2(e)}'.`)}function w1(t,e){return new S(2100,!1)}class Lre{createSubscription(e,n){return $M(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){$M(()=>e.unsubscribe())}}class Dre{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Are=new Dre,Tre=new Lre;let r0=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(I6(r))return Are;if(JH(r))return Tre;throw w1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Xs,16))},t.\u0275pipe=j2({name:"async",type:t,pure:!1,standalone:!0}),e})(),cx=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=ox}transform(r,i=ox){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),a=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(c=>{this.keyValues.push(function Wre(t,e){return{key:t,value:e}}(c.key,c.currentValue))})),(s||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Js,16))},t.\u0275pipe=j2({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function ox(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Pi=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function Df(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function Cre(t,e,n){return function Hf(t,e,n,r,i,s,a=!1){let c="",o=!1;if(isFinite(t)){let l=function wre(t){let r,i,s,a,c,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(c=e.length))r=[0],i=1;else{for(c--;"0"===e.charAt(c);)c--;for(i-=s,r=[],a=0;s<=c;s++,a++)r[a]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);a&&(l=function Mre(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const y=s.match(pre);if(null===y)throw new Error(`${s} is not a valid digit info`);const w=y[1],I=y[3],T=y[5];null!=w&&(u=zf(w)),null!=I&&(f=zf(I)),null!=T?d=zf(T):null!=I&&f>d&&(d=f)}!function Vre(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let a=s+t.integerLen,c=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let f=a;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let f=1;f<a;f++)r[f]=0}if(c>=5)if(a-1<0){for(let f=0;f>a;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,s);i++)r.push(0);let o=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,o&&(0===p[h]&&h>=l?p.pop():o=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(o=h.every(y=>!y);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const C=[];for(h.length>=e.lgSize&&C.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)C.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&C.unshift(h.join("")),c=C.join(s1(n,r)),v.length&&(c+=s1(n,i)+v.join("")),g&&(c+=s1(n,o2.Exponential)+"+"+g)}else c=s1(n,o2.Infinity);return c=t<0&&!o?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf,c}(t,function bf(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],c=a[0],o=a[1]||"";n.posPre=c.substring(0,c.indexOf("#"));for(let u=0;u<o.length;u++){const f=o.charAt(u);"0"===f?n.minFrac=n.maxFrac=u+1:"#"===f?n.maxFrac=u+1:n.posSuf+=f}const l=c.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf("#");n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function _f(t,e){return _t(t)[Ie.NumberFormats][e]}(e,q6.Decimal),s1(e,o2.MinusSign)),e,o2.Group,o2.Decimal,n)}(function Af(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(a){throw w1()}}}return(t=e).\u0275fac=function(r){return new(r||t)(z(_n,16))},t.\u0275pipe=j2({name:"number",type:t,pure:!0,standalone:!0}),e})();let Yre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({}),e})();const Xre="server";function Tf(t){return t===Xre}class H4e extends One{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pf extends H4e{static makeCurrent(){!function Rne(t){yf||(yf=t)}(new Pf)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function b4e(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}();return null==n?null:function z4e(t){c0=c0||document.createElement("a"),c0.setAttribute("href",t);const e=c0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function bre(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let c0,ra=null,x4e=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();const Rf=new $("EventManagerPlugins");let px=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Rf),ae(Ae))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();class mx{constructor(e){this._doc=e}}const Of="ng-app-id";let gx=(()=>{var t;class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tf(a),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Of}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(Of),a;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Of,this.appId),c}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const a=this.styleRef,c=a.get(i)?.elements;c?c.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn),ae(o6),ae(PV,8),ae(pn))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();const Ff={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bf=/%COMP%/g,D4e=new $("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function yx(t,e){return e.map(n=>n.replace(Bf,t))}let _x=(()=>{var t;class e{constructor(r,i,s,a,c,o,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=o,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Tf(o),this.defaultRenderer=new Uf(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===h1.ShadowDom&&(i={...i,encapsulation:h1.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof Mx?s.applyToHost(r):s instanceof jf&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let a=s.get(i.id);if(!a){const c=this.doc,o=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case h1.Emulated:a=new Mx(l,u,i,this.appId,f,c,o,d);break;case h1.ShadowDom:return new k4e(l,u,r,i,c,o,this.nonce,d);default:a=new jf(l,u,i,f,c,o,d)}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(px),ae(gx),ae(o6),ae(D4e),ae(Cn),ae(pn),ae(Ae),ae(PV))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();class Uf{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ff[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Cx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Cx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Ff[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ff[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(n,r,i&er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Zs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Cx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class k4e extends Uf{constructor(e,n,r,i,s,a,c,o){super(e,s,a,o),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=yx(i.id,i.styles);for(const u of l){const f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jf extends Uf{constructor(e,n,r,i,s,a,c,o){super(e,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=o?yx(o,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Mx extends jf{constructor(e,n,r,i,s,a,c,o){const l=i+"-"+r.id;super(e,n,r,s,a,c,o,l),this.contentAttr=function A4e(t){return"_ngcontent-%COMP%".replace(Bf,t)}(l),this.hostAttr=function T4e(t){return"_nghost-%COMP%".replace(Bf,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let P4e=(()=>{var t;class e extends mx{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();const wx=["alt","control","meta","shift"],R4e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O4e={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let F4e=(()=>{var t;class e extends mx{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const a=e.parseEventName(i),c=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zs().onAndCancel(r,a.domEventName,c))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(i.pop());let c="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),c="code."),wx.forEach(u=>{const f=i.indexOf(u);f>-1&&(i.splice(f,1),c+=u+".")}),c+=a,0!=i.length||0===a.length)return null;const l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=R4e[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),wx.forEach(c=>{c!==s&&(0,O4e[c])(r)&&(a+=c+".")}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();const Hx=[{provide:pn,useValue:"browser"},{provide:kV,useValue:function B4e(){Pf.makeCurrent()},multi:!0},{provide:Cn,useFactory:function j4e(){return function bX(t){N7=t}(document),document},deps:[]}],$4e=VS(bne,"browser",Hx),G4e=new $(""),bx=[{provide:F6,useClass:class S4e{addToWindow(e){be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},be.getAllAngularTestabilities=()=>e.getAllTestabilities(),be.getAllAngularRootElements=()=>e.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(r=>{const i=be.getAllAngularTestabilities();let s=i.length,a=!1;const c=function(o){a=a||o,s--,0==s&&r(a)};i.forEach(o=>{o.whenStable(c)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Zs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:yS,useClass:af,deps:[Ae,cf,F6]},{provide:af,useClass:af,deps:[Ae,cf,F6]}],zx=[{provide:j7,useValue:"root"},{provide:Qr,useFactory:function U4e(){return new Qr},deps:[]},{provide:Rf,useClass:P4e,multi:!0,deps:[Cn,Ae,pn]},{provide:Rf,useClass:F4e,multi:!0,deps:[Cn]},_x,gx,px,{provide:$V,useExisting:_x},{provide:class t4e{},useClass:x4e,deps:[]},[]];let r4=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:o6,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(G4e,12))},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({providers:[...zx,...bx],imports:[Yre,zne]}),e})();typeof window<"u"&&window;let Ix=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:function(r){let i=null;return i=r?new(r||t):ae(Ex),i},providedIn:"root"}),e})(),Ex=(()=>{var t;class e extends Ix{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case n1.NONE:return i;case n1.HTML:return O1(i,"HTML")?Gt(i):HV(this._doc,String(i)).toString();case n1.STYLE:return O1(i,"Style")?Gt(i):i;case n1.SCRIPT:if(O1(i,"Script"))return Gt(i);throw new S(5200,!1);case n1.URL:return O1(i,"URL")?Gt(i):t6(String(i));case n1.RESOURCE_URL:if(O1(i,"ResourceURL"))return Gt(i);throw new S(5201,!1);default:throw new S(5202,!1)}}bypassSecurityTrustHtml(r){return function DX(t){return new zX(t)}(r)}bypassSecurityTrustStyle(r){return function AX(t){return new SX(t)}(r)}bypassSecurityTrustScript(r){return function TX(t){return new xX(t)}(r)}bypassSecurityTrustUrl(r){return function NX(t){return new IX(t)}(r)}bypassSecurityTrustResourceUrl(r){return function kX(t){return new EX(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=Z({token:t,factory:function(r){let i=null;return i=r?new r:function X4e(t){return new Ex(t.get(Cn))}(ae(it)),i},providedIn:"root"}),e})();var Yf={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},Jf={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},u9={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},m0={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},Ri={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},E9={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},V0={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function nk(t,e,n,r,i,s,a){try{var c=t[s](a),o=c.value}catch(l){return void n(l)}c.done?e(o):Promise.resolve(o).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(o){nk(s,r,i,a,c,"next",o)}function c(o){nk(s,r,i,a,c,"throw",o)}a(void 0)})}}const rk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},U9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,o=i+2<t.length,l=o?t[i+2]:0;let d=(15&c)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[s>>2],n[(3&s)<<4|c>>4],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==c||null==l||null==f)throw new wHe;r.push(s<<2|c>>4),64!==l&&(r.push(c<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wHe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b0=function(t){return function(t){const e=rk(t);return U9.encodeByteArray(e,!0)}(t).replace(/\./g,"")},z0=function(t){try{return U9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const S0=()=>{try{return sk().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z0(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},ak=t=>{var e,n;return null===(n=null===(e=S0())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},ck=()=>{var t;return null===(t=S0())||void 0===t?void 0:t.config},ok=t=>{var e;return null===(e=S0())||void 0===e?void 0:e[`_${t}`]};class Oi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function T2(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function j9(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function sr(){try{return"object"==typeof indexedDB}catch{return!1}}function la(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function $9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class c1 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,c1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G1.prototype.create)}}class G1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?function NHe(t,e){return t.replace(kHe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new c1(i,`${this.serviceName}: ${a} (${i}).`,r)}}const kHe=/\{\$([^}]+)}/g;function I0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(uk(s)&&uk(a)){if(!I0(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uk(t){return null!==t&&"object"==typeof t}function ua(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class OHe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function FHe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=G9),void 0===i.error&&(i.error=G9),void 0===i.complete&&(i.complete=G9);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G9(){}const BHe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},UHe=1e3,jHe=2,$He=144e5,GHe=.5;function E0(t,e=UHe,n=jHe){const r=e*Math.pow(n,t),i=Math.round(GHe*r*(Math.random()-.5)*2);return Math.min($He,r+i)}function l2(t){return t&&t._delegate?t._delegate:t}class at{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i4="[DEFAULT]";class WHe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Oi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function QHe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i4})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=i4){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=i4){return this.instances.has(e)}getOptions(e=i4){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&a.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===i4?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=i4){return this.component?this.component.multipleInstances?e:i4:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class YHe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WHe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const W9=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const fk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},XHe=ge.INFO,JHe={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},ZHe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=JHe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Fi{constructor(e){this.name=e,this._logLevel=XHe,this._logHandler=ZHe,this._userLogHandler=null,W9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?fk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const ebe=(t,e)=>e.some(n=>t instanceof n);let dk,hk;const pk=new WeakMap,K9=new WeakMap,mk=new WeakMap,Q9=new WeakMap,Y9=new WeakMap;let X9={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return K9.get(t);if("objectStoreNames"===e)return t.objectStoreNames||mk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function cbe(t){return"function"==typeof t?function abe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nbe(){return hk||(hk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(J9(this),e),ar(pk.get(this))}:function(...e){return ar(t.apply(J9(this),e))}:function(e,...n){const r=t.call(J9(this),e,...n);return mk.set(r,e.sort?e.sort():[e]),ar(r)}}(t):(t instanceof IDBTransaction&&function ibe(t){if(K9.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});K9.set(t,e)}(t),ebe(t,function tbe(){return dk||(dk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,X9):t)}function ar(t){if(t instanceof IDBRequest)return function rbe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ar(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&pk.set(n,t)}).catch(()=>{}),Y9.set(e,t),e}(t);if(Q9.has(t))return Q9.get(t);const e=cbe(t);return e!==t&&(Q9.set(t,e),Y9.set(e,t)),e}const J9=t=>Y9.get(t),lbe=["get","getKey","getAll","getAllKeys","count"],ube=["put","add","delete","clear"],Z9=new Map;function gk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Z9.get(e))return Z9.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ube.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!lbe.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return Z9.set(e,s),s}!function sbe(t){X9=t(X9)}(t=>({...t,get:(e,n,r)=>gk(e,n)||t.get(e,n,r),has:(e,n)=>!!gk(e,n)||t.has(e,n)}));class fbe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function dbe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const ed="@firebase/app",s4=new Fi("@firebase/app"),L0="[DEFAULT]",Rbe={[ed]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},a4=new Map,D0=new Map;function Obe(t,e){try{t.container.addComponent(e)}catch(n){s4.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wt(t){const e=t.name;if(D0.has(e))return s4.debug(`There were multiple attempts to register component ${e}.`),!1;D0.set(e,t);for(const n of a4.values())Obe(n,t);return!0}function cr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Vn=new G1("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bbe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new at("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const c4="9.23.0";function yk(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:L0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Vn.create("bad-app-name",{appName:String(i)});if(n||(n=ck()),!n)throw Vn.create("no-options");const s=a4.get(i);if(s){if(I0(n,s.options)&&I0(r,s.config))return s;throw Vn.create("duplicate-app",{appName:i})}const a=new YHe(i);for(const o of D0.values())a.addComponent(o);const c=new Bbe(n,r,a);return a4.set(i,c),c}function ha(t=L0){const e=a4.get(t);if(!e&&t===L0&&ck())return yk();if(!e)throw Vn.create("no-app",{appName:t});return e}function _k(){return Array.from(a4.values())}function We(t,e,n){var r;let i=null!==(r=Rbe[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];return s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void s4.warn(c.join(" "))}wt(new at(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ube="firebase-heartbeat-database",jbe=1,pa="firebase-heartbeat-store";let nd=null;function Ck(){return nd||(nd=function obe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=ar(a);return r&&a.addEventListener("upgradeneeded",o=>{r(ar(a.result),o.oldVersion,o.newVersion,ar(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}(Ube,jbe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(pa)}}).catch(t=>{throw Vn.create("idb-open",{originalErrorMessage:t.message})})),nd}function rd(){return(rd=m(function*(t){try{return yield(yield Ck()).transaction(pa).objectStore(pa).get(wk(t))}catch(e){if(e instanceof c1)s4.warn(e.message);else{const n=Vn.create("idb-get",{originalErrorMessage:e?.message});s4.warn(n.message)}}})).apply(this,arguments)}function Mk(t,e){return id.apply(this,arguments)}function id(){return(id=m(function*(t,e){try{const r=(yield Ck()).transaction(pa,"readwrite");yield r.objectStore(pa).put(e,wk(t)),yield r.done}catch(n){if(n instanceof c1)s4.warn(n.message);else{const r=Vn.create("idb-set",{originalErrorMessage:n?.message});s4.warn(r.message)}}})).apply(this,arguments)}function wk(t){return`${t.name}!${t.options.appId}`}class Wbe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qbe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Vk(),{heartbeatsToSend:r,unsentEntries:i}=function Kbe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Hk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=b0(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Vk(){return(new Date).toISOString().substring(0,10)}class Qbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!sr()&&la().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function $be(t){return rd.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Mk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Mk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Hk(t){return b0(JSON.stringify({version:2,heartbeats:t})).length}!function Ybe(t){wt(new at("platform-logger",e=>new fbe(e),"PRIVATE")),wt(new at("heartbeat",e=>new Wbe(e),"PRIVATE")),We(ed,"0.9.13",t),We(ed,"0.9.13","esm2017"),We("fire-js","")}(""),We("firebase","9.23.0","app");const Zbe=(t,e)=>e.some(n=>t instanceof n);let bk,zk;const Sk=new WeakMap,sd=new WeakMap,xk=new WeakMap,ad=new WeakMap,cd=new WeakMap;let od={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return sd.get(t);if("objectStoreNames"===e)return t.objectStoreNames||xk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function aze(t){return"function"==typeof t?function sze(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tze(){return zk||(zk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ld(this),e),or(Sk.get(this))}:function(...e){return or(t.apply(ld(this),e))}:function(e,...n){const r=t.call(ld(this),e,...n);return xk.set(r,e.sort?e.sort():[e]),or(r)}}(t):(t instanceof IDBTransaction&&function rze(t){if(sd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});sd.set(t,e)}(t),Zbe(t,function eze(){return bk||(bk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,od):t)}function or(t){if(t instanceof IDBRequest)return function nze(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(or(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Sk.set(n,t)}).catch(()=>{}),cd.set(e,t),e}(t);if(ad.has(t))return ad.get(t);const e=aze(t);return e!==t&&(ad.set(t,e),cd.set(e,t)),e}const ld=t=>cd.get(t),oze=["get","getKey","getAll","getAllKeys","count"],lze=["put","add","delete","clear"],ud=new Map;function Ik(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ud.get(e))return ud.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!oze.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return ud.set(e,s),s}!function ize(t){od=t(od)}(t=>({...t,get:(e,n,r)=>Ik(e,n)||t.get(e,n,r),has:(e,n)=>!!Ik(e,n)||t.has(e,n)}));const Ek="@firebase/installations",fd="0.6.4",Lk=1e4,Dk=`w:${fd}`,Ak="FIS_v2",uze="https://firebaseinstallations.googleapis.com/v1",fze=36e5,Hn=new G1("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tk(t){return t instanceof c1&&t.code.includes("request-failed")}function dd({projectId:t}){return`${uze}/projects/${t}/installations`}function Nk(t){return{token:t.token,requestStatus:2,expiresIn:mze(t.expiresIn),creationTime:Date.now()}}function hd(t,e){return pd.apply(this,arguments)}function pd(){return(pd=m(function*(t,e){const r=(yield e.json()).error;return Hn.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function kk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function md(t){return gd.apply(this,arguments)}function gd(){return(gd=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function mze(t){return Number(t.replace("s","000"))}function vd(){return(vd=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=dd(t),i=kk(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const c={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Ak,appId:t.appId,sdkVersion:Dk})},o=yield md(()=>fetch(r,c));if(o.ok){const l=yield o.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Nk(l.authToken)}}throw yield hd("Create Installation",o)})).apply(this,arguments)}function Rk(t){return new Promise(e=>{setTimeout(e,t)})}const _ze=/^[cdef][\w-]{21}$/,yd="";function Cze(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Mze(t){return function yze(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return _ze.test(n)?n:yd}catch{return yd}}function Bi(t){return`${t.appName}!${t.appId}`}const Ui=new Map;function Ok(t,e){const n=Bi(t);Fk(n,e),function Hze(t,e){const n=function Bk(){return!o4&&"BroadcastChannel"in self&&(o4=new BroadcastChannel("[Firebase] FID Change"),o4.onmessage=t=>{Fk(t.data.key,t.data.fid)}),o4}();n&&n.postMessage({key:t,fid:e}),function Uk(){0===Ui.size&&o4&&(o4.close(),o4=null)}()}(n,e)}function Fk(t,e){const n=Ui.get(t);if(n)for(const r of n)r(e)}let o4=null;const bze="firebase-installations-database",zze=1,l4="firebase-installations-store";let _d=null;function Cd(){return _d||(_d=function cze(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=or(a);return r&&a.addEventListener("upgradeneeded",o=>{r(or(a.result),o.oldVersion,o.newVersion,or(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}(bze,zze,{upgrade:(t,e)=>{0===e&&t.createObjectStore(l4)}})),_d}function A0(t,e){return Md.apply(this,arguments)}function Md(){return(Md=m(function*(t,e){const n=Bi(t),i=(yield Cd()).transaction(l4,"readwrite"),s=i.objectStore(l4),a=yield s.get(n);return yield s.put(e,n),yield i.done,(!a||a.fid!==e.fid)&&Ok(t,e.fid),e})).apply(this,arguments)}function wd(t){return Vd.apply(this,arguments)}function Vd(){return(Vd=m(function*(t){const e=Bi(t),r=(yield Cd()).transaction(l4,"readwrite");yield r.objectStore(l4).delete(e),yield r.done})).apply(this,arguments)}function ma(t,e){return Hd.apply(this,arguments)}function Hd(){return(Hd=m(function*(t,e){const n=Bi(t),i=(yield Cd()).transaction(l4,"readwrite"),s=i.objectStore(l4),a=yield s.get(n),c=e(a);return void 0===c?yield s.delete(n):yield s.put(c,n),yield i.done,c&&(!a||a.fid!==c.fid)&&Ok(t,c.fid),c})).apply(this,arguments)}function bd(t){return zd.apply(this,arguments)}function zd(){return zd=m(function*(t){let e;const n=yield ma(t.appConfig,r=>{const i=function Sze(t){return $k(t||{fid:Cze(),registrationStatus:0})}(r),s=function xze(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hn.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Ize(t,e){return Sd.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Eze(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===yd?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),zd.apply(this,arguments)}function Sd(){return Sd=m(function*(t,e){try{const n=yield function vze(t,e){return vd.apply(this,arguments)}(t,e);return A0(t.appConfig,n)}catch(n){throw Tk(n)&&409===n.customData.serverCode?yield wd(t.appConfig):yield A0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Sd.apply(this,arguments)}function Eze(t){return xd.apply(this,arguments)}function xd(){return(xd=m(function*(t){let e=yield jk(t.appConfig);for(;1===e.registrationStatus;)yield Rk(100),e=yield jk(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield bd(t);return r||n}return e})).apply(this,arguments)}function jk(t){return ma(t,e=>{if(!e)throw Hn.create("installation-not-found");return $k(e)})}function $k(t){return function Lze(t){return 1===t.registrationStatus&&t.registrationTime+Lk<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Id(){return(Id=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Aze(t,{fid:e}){return`${dd(t)}/${e}/authTokens:generate`}(t,n),i=function Pk(t,{refreshToken:e}){const n=kk(t);return n.append("Authorization",function gze(t){return`${Ak} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const c={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Dk,appId:t.appId}})},o=yield md(()=>fetch(r,c));if(o.ok)return Nk(yield o.json());throw yield hd("Generate Auth Token",o)})).apply(this,arguments)}function Ed(t){return Ld.apply(this,arguments)}function Ld(){return Ld=m(function*(t,e=!1){let n;const r=yield ma(t.appConfig,s=>{if(!qk(s))throw Hn.create("not-registered");const a=s.authToken;if(!e&&function kze(t){return 2===t.requestStatus&&!function Pze(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fze}(t)}(a))return s;if(1===a.requestStatus)return n=function Tze(t,e){return Dd.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Hn.create("app-offline");const c=function Rze(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Nze(t,e){return Ad.apply(this,arguments)}(t,c),c}});return n?yield n:r.authToken}),Ld.apply(this,arguments)}function Dd(){return(Dd=m(function*(t,e){let n=yield Gk(t.appConfig);for(;1===n.authToken.requestStatus;)yield Rk(100),n=yield Gk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Ed(t,e):r})).apply(this,arguments)}function Gk(t){return ma(t,e=>{if(!qk(e))throw Hn.create("not-registered");return function Oze(t){return 1===t.requestStatus&&t.requestTime+Lk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ad(){return Ad=m(function*(t,e){try{const n=yield function Dze(t,e){return Id.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield A0(t.appConfig,r),n}catch(n){if(!Tk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield A0(t.appConfig,r)}else yield wd(t.appConfig);throw n}}),Ad.apply(this,arguments)}function qk(t){return void 0!==t&&2===t.registrationStatus}function Td(){return(Td=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield bd(e);return r?r.catch(console.error):Ed(e).catch(console.error),n.fid})).apply(this,arguments)}function Nd(){return Nd=m(function*(t,e=!1){const n=t;return yield function Uze(t){return kd.apply(this,arguments)}(n),(yield Ed(n,e)).token}),Nd.apply(this,arguments)}function kd(){return(kd=m(function*(t){const{registrationPromise:e}=yield bd(t);e&&(yield e)})).apply(this,arguments)}function Od(t){return Hn.create("missing-app-config-values",{valueName:t})}const Wk="installations",Wze=t=>{const e=t.getProvider("app").getImmediate(),n=function Gze(t){if(!t||!t.options)throw Od("App Configuration");if(!t.name)throw Od("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Od(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:cr(e,"heartbeat"),_delete:()=>Promise.resolve()}},Kze=t=>{const n=cr(t.getProvider("app").getImmediate(),Wk).getImmediate();return{getId:()=>function Fze(t){return Td.apply(this,arguments)}(n),getToken:i=>function Bze(t){return Nd.apply(this,arguments)}(n,i)}};(function Qze(){wt(new at(Wk,Wze,"PUBLIC")),wt(new at("installations-internal",Kze,"PRIVATE"))})(),We(Ek,fd),We(Ek,fd,"esm2017");const Fd="@firebase/remote-config",Pt=new G1("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aSe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),a=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&a.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(a),s})()}}function cSe(t=navigator){return t.languages&&t.languages[0]||t.language}class oSe{constructor(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:cSe()},l={method:"POST",headers:c,body:JSON.stringify(o)},u=fetch(a,l),f=new Promise((C,y)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",y(w)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(C){let y="fetch-client-network";throw"AbortError"===C?.name&&(y="fetch-timeout"),Pt.create(y,{originalErrorMessage:C?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(200===d.status){let C;try{C=yield d.json()}catch(y){throw Pt.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=C.entries,v=C.state}if("INSTANCE_STATE_UNSPECIFIED"===v?h=500:"NO_CHANGE"===v?h=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==h&&200!==h)throw Pt.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class fSe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function lSe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Pt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function uSe(t){if(!(t instanceof c1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const a={throttleEndTimeMillis:Date.now()+E0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(a),i.attemptFetch(e,a)}})()}}class pSe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function N0(t,e){const n=t.target.error||void 0;return Pt.create(e,{originalErrorMessage:n&&n?.message})}const u4="app_namespace_store";class ySe{constructor(e,n,r,i=function vSe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(N0(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(u4,{keyPath:"compositeKey"})}}catch(n){e(Pt.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const c=r.transaction([u4],"readonly").objectStore(u4),o=n.createCompositeKey(e);try{const l=c.get(o);l.onerror=u=>{s(N0(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(Pt.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,a)=>{const o=i.transaction([u4],"readwrite").objectStore(u4),l=r.createCompositeKey(e);try{const u=o.put({compositeKey:l,value:n});u.onerror=f=>{a(N0(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){a(Pt.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const c=r.transaction([u4],"readwrite").objectStore(u4),o=n.createCompositeKey(e);try{const l=c.delete(o);l.onerror=u=>{s(N0(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Pt.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class _Se{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const a=yield r;a&&(e.lastSuccessfulFetchTimestampMillis=a);const c=yield i;c&&(e.activeConfig=c)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function MSe(){return Gd.apply(this,arguments)}function Gd(){return(Gd=m(function*(){if(!sr())return!1;try{return yield la()}catch{return!1}})).apply(this,arguments)}!function CSe(){wt(new at("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pt.create("registration-window");if(!sr())throw Pt.create("indexed-db-unavailable");const{projectId:s,apiKey:a,appId:c}=r.options;if(!s)throw Pt.create("registration-project-id");if(!a)throw Pt.create("registration-api-key");if(!c)throw Pt.create("registration-app-id");const o=new ySe(c,r.name,n=n||"firebase"),l=new _Se(o),u=new Fi(Fd);u.logLevel=ge.ERROR;const f=new oSe(i,c4,n,s,a,c),d=new fSe(f,o),h=new aSe(d,o,l,u),p=new pSe(r,h,l,o,u);return function rSe(t){const e=l2(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),We(Fd,"0.4.4"),We(Fd,"0.4.4","esm2017")}();const wSe=(t,e)=>e.some(n=>t instanceof n);let Xk,Jk;const Zk=new WeakMap,qd=new WeakMap,eP=new WeakMap,Wd=new WeakMap,Kd=new WeakMap;let Qd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return qd.get(t);if("objectStoreNames"===e)return t.objectStoreNames||eP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ISe(t){return"function"==typeof t?function xSe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function HSe(){return Jk||(Jk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Yd(this),e),bn(Zk.get(this))}:function(...e){return bn(t.apply(Yd(this),e))}:function(e,...n){const r=t.call(Yd(this),e,...n);return eP.set(r,e.sort?e.sort():[e]),bn(r)}}(t):(t instanceof IDBTransaction&&function zSe(t){if(qd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});qd.set(t,e)}(t),wSe(t,function VSe(){return Xk||(Xk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Qd):t)}function bn(t){if(t instanceof IDBRequest)return function bSe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(bn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Zk.set(n,t)}).catch(()=>{}),Kd.set(e,t),e}(t);if(Wd.has(t))return Wd.get(t);const e=ISe(t);return e!==t&&(Wd.set(t,e),Kd.set(e,t)),e}const Yd=t=>Kd.get(t);function tP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=bn(a);return r&&a.addEventListener("upgradeneeded",o=>{r(bn(a.result),o.oldVersion,o.newVersion,bn(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}function Xd(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),bn(n).then(()=>{})}const ESe=["get","getKey","getAll","getAllKeys","count"],LSe=["put","add","delete","clear"],Jd=new Map;function nP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LSe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ESe.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return Jd.set(e,s),s}!function SSe(t){Qd=t(Qd)}(t=>({...t,get:(e,n,r)=>nP(e,n)||t.get(e,n,r),has:(e,n)=>!!nP(e,n)||t.has(e,n)}));const DSe="/firebase-messaging-sw.js",ASe="/firebase-cloud-messaging-push-scope",rP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TSe="https://fcmregistrations.googleapis.com/v1",iP="google.c.a.c_id",NSe="google.c.a.c_l",kSe="google.c.a.ts";var k0=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(k0||{});function zn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function OSe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Zd="fcm_token_details_db",FSe=5,sP="fcm_token_object_Store";function eh(){return eh=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Zd))return null;let e=null;return(yield tP(Zd,FSe,{upgrade:(r=m(function*(i,s,a,c){var o;if(s<2||!i.objectStoreNames.contains(sP))return;const l=c.objectStore(sP),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(o=f.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:zn(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:zn(f.auth),p256dh:zn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:zn(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:zn(f.auth),p256dh:zn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:zn(f.vapidKey)}}}}),function(s,a,c,o){return r.apply(this,arguments)})})).close(),yield Xd(Zd),yield Xd("fcm_vapid_details_db"),yield Xd("undefined"),function USe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),eh.apply(this,arguments)}const jSe="firebase-messaging-database",$Se=1,f4="firebase-messaging-store";let th=null;function nh(){return th||(th=tP(jSe,$Se,{upgrade:(t,e)=>{0===e&&t.createObjectStore(f4)}})),th}function aP(t){return rh.apply(this,arguments)}function rh(){return rh=m(function*(t){const e=ch(t),r=yield(yield nh()).transaction(f4).objectStore(f4).get(e);if(r)return r;{const i=yield function BSe(t){return eh.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield ih(t,i),i}}),rh.apply(this,arguments)}function ih(t,e){return sh.apply(this,arguments)}function sh(){return(sh=m(function*(t,e){const n=ch(t),i=(yield nh()).transaction(f4,"readwrite");return yield i.objectStore(f4).put(e,n),yield i.done,e})).apply(this,arguments)}function ah(){return(ah=m(function*(t){const e=ch(t),r=(yield nh()).transaction(f4,"readwrite");yield r.objectStore(f4).delete(e),yield r.done})).apply(this,arguments)}function ch({appConfig:t}){return t.appId}const K2=new G1("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function WSe(t,e){return oh.apply(this,arguments)}function oh(){return(oh=m(function*(t,e){const n=yield dh(t),r=oP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(fh(t.appConfig),i)).json()}catch(a){throw K2.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(s.error)throw K2.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw K2.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function lh(){return(lh=m(function*(t,e){const n=yield dh(t),r=oP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${fh(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw K2.create("token-update-failed",{errorInfo:a?.toString()})}if(s.error)throw K2.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw K2.create("token-update-no-token");return s.token})).apply(this,arguments)}function cP(t,e){return uh.apply(this,arguments)}function uh(){return(uh=m(function*(t,e){const r={method:"DELETE",headers:yield dh(t)};try{const s=yield(yield fetch(`${fh(t.appConfig)}/${e}`,r)).json();if(s.error)throw K2.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw K2.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function fh({projectId:t}){return`${TSe}/projects/${t}/registrations`}function dh(t){return hh.apply(this,arguments)}function hh(){return(hh=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function oP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==rP&&(i.web.applicationPubKey=r),i}const QSe=6048e5;function ph(){return ph=m(function*(t){const e=yield function JSe(t,e){return yh.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:zn(e.getKey("auth")),p256dh:zn(e.getKey("p256dh"))},r=yield aP(t.firebaseDependencies);if(r){if(function ZSe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+QSe?function XSe(t,e){return gh.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield cP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return uP(t.firebaseDependencies,n)}return uP(t.firebaseDependencies,n)}),ph.apply(this,arguments)}function mh(){return mh=m(function*(t){const e=yield aP(t.firebaseDependencies);e&&(yield cP(t.firebaseDependencies,e.token),yield function GSe(t){return ah.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),mh.apply(this,arguments)}function gh(){return gh=m(function*(t,e){try{const n=yield function KSe(t,e){return lh.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield ih(t.firebaseDependencies,r),n}catch(n){throw yield function lP(t){return mh.apply(this,arguments)}(t),n}}),gh.apply(this,arguments)}function uP(t,e){return vh.apply(this,arguments)}function vh(){return(vh=m(function*(t,e){const r={token:yield WSe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield ih(t,r),r.token})).apply(this,arguments)}function yh(){return(yh=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:OSe(e)})})).apply(this,arguments)}function fP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function exe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function txe(t,e){e.data&&(t.data=e.data)}(e,t),function nxe(t,e){var n,r,i,s,a;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const c=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;c&&(t.fcmOptions.link=c);const o=null===(a=e.fcmOptions)||void 0===a?void 0:a.analytics_label;o&&(t.fcmOptions.analyticsLabel=o)}(e,t),e}function dP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function _h(t){return K2.create("missing-app-config-values",{valueName:t})}dP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sxe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function ixe(t){if(!t||!t.options)throw _h("App Configuration Object");if(!t.name)throw _h("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw _h(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Ch(){return(Ch=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(DSe,{scope:ASe}),t.swRegistration.update().catch(()=>{})}catch(e){throw K2.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Mh(){return(Mh=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function hP(t){return Ch.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw K2.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function wh(){return(wh=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=rP)})).apply(this,arguments)}function Vh(){return Vh=m(function*(t,e){if(!navigator)throw K2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw K2.create("permission-blocked");return yield function cxe(t,e){return wh.apply(this,arguments)}(t,e?.vapidKey),yield function axe(t,e){return Mh.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function YSe(t){return ph.apply(this,arguments)}(t)}),Vh.apply(this,arguments)}function Hh(){return(Hh=m(function*(t,e,n){const r=function lxe(t){switch(t){case k0.NOTIFICATION_CLICKED:return"notification_open";case k0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[iP],message_name:n[NSe],message_time:n[kSe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bh(){return bh=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===k0.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(fP(n)):t.onMessageHandler.next(fP(n)));const r=n.data;(function rxe(t){return"object"==typeof t&&!!t&&iP in t})(r)&&"1"===r["google.c.a.e"]&&(yield function oxe(t,e,n){return Hh.apply(this,arguments)}(t,n.messageType,r))}),bh.apply(this,arguments)}const mP="@firebase/messaging",fxe=t=>{const e=new sxe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function uxe(t,e){return bh.apply(this,arguments)}(e,n)),e},dxe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function pP(t,e){return Vh.apply(this,arguments)}(e,r)}};function vP(){return zh.apply(this,arguments)}function zh(){return(zh=m(function*(){try{yield la()}catch{return!1}return typeof window<"u"&&sr()&&$9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hxe(){wt(new at("messaging",fxe,"PUBLIC")),wt(new at("messaging-internal",dxe,"PRIVATE")),We(mP,"0.12.4"),We(mP,"0.12.4","esm2017")}();const P0="analytics",gxe="firebase_id",vxe="origin",yxe=6e4,_xe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ih="https://www.googletagmanager.com/gtag/js",N2=new Fi("@firebase/analytics"),Vt=new G1("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Mxe(t){if(!t.startsWith(Ih)){const e=Vt.create("invalid-gtag-resource",{gtagURL:t});return N2.warn(e.message),""}return t}function yP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Eh(){return(Eh=m(function*(t,e,n,r,i,s){const a=r[i];try{if(a)yield e[a];else{const o=(yield yP(n)).find(l=>l.measurementId===i);o&&(yield e[o.appId])}}catch(c){N2.error(c)}t("config",i,s)})).apply(this,arguments)}function Lh(){return(Lh=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const c=yield yP(n);for(const o of a){const l=c.find(f=>f.measurementId===o),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){N2.error(s)}})).apply(this,arguments)}const Exe=30,_P=new class Dxe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Axe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Dh(){return(Dh=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Axe(r)},s=_xe.replace("{app-id}",n),a=yield fetch(s,i);if(200!==a.status&&304!==a.status){let c="";try{const o=yield a.json();null!==(e=o.error)&&void 0!==e&&e.message&&(c=o.error.message)}catch{}throw Vt.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()})).apply(this,arguments)}function Ah(){return(Ah=m(function*(t,e=_P,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Vt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Vt.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Rxe;return setTimeout(m(function*(){c.abort()}),void 0!==n?n:yxe),CP({appId:r,apiKey:i,measurementId:s},a,c,e)})).apply(this,arguments)}function CP(t,e,n){return Th.apply(this,arguments)}function Th(){return Th=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=_P){var s;const{appId:a,measurementId:c}=t;try{yield function kxe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(o){if(c)return N2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${o?.message}]`),{appId:a,measurementId:c};throw o}try{const o=yield function Txe(t){return Dh.apply(this,arguments)}(t);return i.deleteThrottleMetadata(a),o}catch(o){const l=o;if(!function Pxe(t){if(!(t instanceof c1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(a),c)return N2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:c};throw o}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?E0(n,i.intervalMillis,Exe):E0(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,f),N2.debug(`Calling attemptFetch again in ${u} millis`),CP(t,f,r,i)}}),Th.apply(this,arguments)}class Rxe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Nh,Uh;function kh(){return(kh=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function jh(){return(jh=m(function*(){if(!sr())return N2.warn(Vt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield la()}catch(t){return N2.warn(Vt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function $h(){return $h=m(function*(t,e,n,r,i,s,a){var c;const o=function Nxe(t){return Ah.apply(this,arguments)}(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&N2.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>N2.error(h)),e.push(o);const l=function Gxe(){return jh.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([o,l]);(function Ixe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ih)&&n.src.includes(t))return n;return null})(s)||function Vxe(t,e){const n=function wxe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Mxe}),r=document.createElement("script"),i=`${Ih}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),Uh&&(i("consent","default",Uh),function MP(t){Uh=t}(void 0)),i("js",new Date);const d=null!==(c=a?.config)&&void 0!==c?c:{};return d[vxe]="firebase",d.update=!0,null!=f&&(d[gxe]=f),i("config",u.measurementId,d),Nh&&(i("set",Nh),function wP(t){Nh=t}(void 0)),u.measurementId}),$h.apply(this,arguments)}class Wxe{constructor(e){this.app=e}_delete(){return delete q1[this.app.options.appId],Promise.resolve()}}let q1={},VP=[];const HP={};let zP,W1,R0="dataLayer",Gh=!1;function Qxe(t,e,n){!function Kxe(){const t=[];if(j9()&&t.push("This is a browser extension environment."),$9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vt.create("invalid-analytics-context",{errorInfo:e});N2.warn(n.message)}}();const r=t.options.appId;if(!r)throw Vt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Vt.create("no-api-key");N2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=q1[r])throw Vt.create("already-exists",{id:r});if(!Gh){!function Hxe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(R0);const{wrappedGtag:s,gtagCore:a}=function xxe(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Sxe(t,e,n,r){function s(){return s=m(function*(a,...c){try{if("event"===a){const[o,l]=c;yield function zxe(t,e,n,r,i){return Lh.apply(this,arguments)}(t,e,n,o,l)}else if("config"===a){const[o,l]=c;yield function bxe(t,e,n,r,i,s){return Eh.apply(this,arguments)}(t,e,n,r,o,l)}else if("consent"===a){const[o]=c;t("consent","update",o)}else if("get"===a){const[o,l,u]=c;t("get",o,l,u)}else if("set"===a){const[o]=c;t("set",o)}else t(a,...c)}catch(o){N2.error(o)}}),s.apply(this,arguments)}return function i(a){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(q1,VP,HP,R0,"gtag");W1=s,zP=a,Gh=!0}return q1[r]=function qxe(t,e,n,r,i,s,a){return $h.apply(this,arguments)}(t,VP,HP,e,zP,R0,n),new Wxe(t)}function Xxe(){return qh.apply(this,arguments)}function qh(){return(qh=m(function*(){if(j9()||!$9()||!sr())return!1;try{return yield la()}catch{return!1}})).apply(this,arguments)}const SP="@firebase/analytics";!function Zxe(){wt(new at(P0,(e,{options:n})=>Qxe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wt(new at("analytics-internal",function t(e){try{const n=e.getProvider(P0).getImmediate();return{logEvent:(r,i,s)=>function Jxe(t,e,n,r){t=l2(t),function Oxe(t,e,n,r,i){return kh.apply(this,arguments)}(W1,q1[t.app.options.appId],e,n,r).catch(i=>N2.error(i))}(n,r,i,s)}}catch(n){throw Vt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),We(SP,"0.10.0"),We(SP,"0.10.0","esm2017")}();class eIe extends d1{constructor(e,n){super()}schedule(e,n=0){return this}}const O0={setInterval(t,e,...n){const{delegate:r}=O0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=O0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class IP extends eIe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return O0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&O0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,W4(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const EP={now:()=>(EP.delegate||Date).now(),delegate:void 0};class ga{constructor(e,n=ga.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ga.now=EP.now;class LP extends ga{constructor(e,n=ga.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const rIe=new class nIe extends LP{}(class tIe extends IP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),iIe=new LP(IP),va=new xs("7.6.1"),Kh="__angularfire_symbol__analyticsIsSupportedValue",Qh="__angularfire_symbol__analyticsIsSupported",Yh="__angularfire_symbol__remoteConfigIsSupportedValue",Xh="__angularfire_symbol__remoteConfigIsSupported",Jh="__angularfire_symbol__messagingIsSupportedValue",Zh="__angularfire_symbol__messagingIsSupported";function tp(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(a=>a.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Qh]||(globalThis[Qh]=Xxe().then(t=>globalThis[Kh]=t).catch(()=>globalThis[Kh]=!1)),globalThis[Zh]||(globalThis[Zh]=vP().then(t=>globalThis[Jh]=t).catch(()=>globalThis[Jh]=!1)),globalThis[Xh]||(globalThis[Xh]=MSe().then(t=>globalThis[Yh]=t).catch(()=>globalThis[Yh]=!1));const np=(t,e)=>{const n=e?[e]:_k(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r};function ji(){}class DP{constructor(e,n=rIe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(a){i.runGuarded(()=>{e.apply(this,[a])})},n,r)}}class aIe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ji,{},ji,ji)),n.pipe(function sIe(t,e,n){const r=Fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?qn((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let c=!0;i.subscribe(an(s,o=>{var l;null===(l=r.next)||void 0===l||l.call(r,o),s.next(o)},()=>{var o;c=!1,null===(o=r.complete)||void 0===o||o.call(r),s.complete()},o=>{var l;c=!1,null===(l=r.error)||void 0===l||l.call(r,o),s.error(o)},()=>{var o,l;c&&(null===(o=r.unsubscribe)||void 0===o||o.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):co}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let F0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new DP(Zone.current)),this.insideAngular=n.run(()=>new DP(Zone.current,iIe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ae(Ae))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function d4(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function h4(t){return d4().ngZone.run(()=>t())}function oIe(t){return d4(),function lIe(t){return function(n){return(n=n.lift(new aIe(t.ngZone))).pipe(fo(t.outsideAngular),uo(t.insideAngular))}}(d4())(t)}const uIe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),h4(()=>t.apply(void 0,r))},k2=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=h4(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ji,{},ji,ji)))),r[s]=uIe(r[s],n));const i=function cIe(t){return d4().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ye){const s=d4();return i.pipe(fo(s.outsideAngular),uo(s.insideAngular))}return h4(()=>i)}return i instanceof Ye?i.pipe(oIe):i instanceof Promise?h4(()=>new Promise((s,a)=>i.then(c=>h4(()=>s(c)),c=>h4(()=>a(c))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:h4(()=>i)};class $i{constructor(e){return e}}class B0{constructor(){return _k()}}const rp=new $("angularfire2._apps"),dIe={provide:$i,useFactory:function fIe(t){return t&&1===t.length?t[0]:new $i(ha())},deps:[[new Lt,rp]]},hIe={provide:B0,deps:[[new Lt,rp]]};function pIe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $i(r)}}let mIe=(()=>{class t{constructor(n){We("angularfire",va.full,"core"),We("angularfire",va.full,"app"),We("angular",GV.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ae(pn))},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({providers:[dIe,hIe]}),t})();function Gi(t,...e){return{ngModule:mIe,providers:[{provide:rp,useFactory:pIe(t),multi:!0,deps:[Ae,it,F0,...e]}]}}const qi=k2(ha,!0),Wi=k2(yk,!0),ip=new Map,AP={activated:!1,tokenObservers:[]},gIe={initialized:!1,enabled:!1};function Ze(t){return ip.get(t)||Object.assign({},AP)}function U0(){return gIe}const sp="https://content-firebaseappcheck.googleapis.com/v1",CIe="exchangeDebugToken",TP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wIe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Oi,yield function VIe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Oi,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Q2=new G1("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function j0(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function ap(t){if(!Ze(t).activated)throw Q2.create("use-before-activation",{appName:t.name})}function cp(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let a="";return n&&(a+=$0(n)+"d:"),r&&(a+=$0(r)+"h:"),a+=$0(i)+"m:"+$0(s)+"s",a}function $0(t){return 0===t?"00":t>=10?t.toString():"0"+t}function G0(t,e){return op.apply(this,arguments)}function op(){return(op=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let a,c;try{a=yield fetch(t,s)}catch(f){throw Q2.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==a.status)throw Q2.create("fetch-status-error",{httpStatus:a.status});try{c=yield a.json()}catch(f){throw Q2.create("fetch-parse-error",{originalErrorMessage:f?.message})}const o=c.ttl.match(/^([\d.]+)(s)$/);if(!o||!o[2]||isNaN(Number(o[1])))throw Q2.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const l=1e3*Number(o[1]),u=Date.now();return{token:c.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function NP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${sp}/projects/${n}/apps/${r}:${CIe}?key=${i}`,body:{debug_token:e}}}const SIe="firebase-app-check-database",xIe=1,ya="firebase-app-check-store",kP="debug-token";let q0=null;function PP(){return q0||(q0=new Promise((t,e)=>{try{const n=indexedDB.open(SIe,xIe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Q2.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ya,{keyPath:"compositeKey"})}}catch(n){e(Q2.create("storage-open",{originalErrorMessage:n?.message}))}}),q0)}function RP(t,e){return lp.apply(this,arguments)}function lp(){return(lp=m(function*(t,e){const r=(yield PP()).transaction(ya,"readwrite"),s=r.objectStore(ya).put({compositeKey:t,value:e});return new Promise((a,c)=>{s.onsuccess=o=>{a()},r.onerror=o=>{var l;c(Q2.create("storage-set",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}function OP(t){return up.apply(this,arguments)}function up(){return(up=m(function*(t){const n=(yield PP()).transaction(ya,"readonly"),i=n.objectStore(ya).get(t);return new Promise((s,a)=>{i.onsuccess=c=>{const o=c.target.result;s(o?o.value:void 0)},n.onerror=c=>{var o;a(Q2.create("storage-get",{originalErrorMessage:null===(o=c.target.error)||void 0===o?void 0:o.message}))}})})).apply(this,arguments)}function FP(t){return`${t.options.appId}-${t.name}`}const _a=new Fi("@firebase/app-check");function fp(){return(fp=m(function*(t){if(sr()){let e;try{e=yield function IIe(t){return OP(FP(t))}(t)}catch(n){_a.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function dp(t,e){return sr()?function EIe(t,e){return RP(FP(t),e)}(t,e).catch(n=>{_a.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function hp(){return(hp=m(function*(){let t;try{t=yield function DIe(){return OP(kP)}()}catch{}if(t)return t;{const e=BHe();return function LIe(t){return RP(kP,t)}(e).catch(n=>_a.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function pp(){return U0().enabled}function mp(){return gp.apply(this,arguments)}function gp(){return(gp=m(function*(){const t=U0();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const kIe={error:"UNKNOWN_ERROR"};function PIe(t){return U9.encodeString(JSON.stringify(t),!1)}function W0(t){return vp.apply(this,arguments)}function vp(){return(vp=m(function*(t,e=!1){const n=t.app;ap(n);const r=Ze(n);let s,i=r.token;if(i&&!Ki(i)&&(r.token=void 0,i=void 0),!i){const o=yield r.cachedTokenPromise;o&&(Ki(o)?i=o:yield dp(n,void 0))}if(!e&&i&&Ki(i))return{token:i.token};let c,a=!1;if(pp()){r.exchangeTokenPromise||(r.exchangeTokenPromise=G0(NP(n,yield mp()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);const o=yield r.exchangeTokenPromise;return yield dp(n,o),r.token=o,{token:o.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),i=yield Ze(n).exchangeTokenPromise}catch(o){"appCheck/throttled"===o.code?_a.warn(o.message):_a.error(o),s=o}return i?s?c=Ki(i)?{token:i.token,internalError:s}:$P(s):(c={token:i.token},r.token=i,yield dp(n,i)):c=$P(s),a&&jP(n,c),c})).apply(this,arguments)}function BP(t){return yp.apply(this,arguments)}function yp(){return(yp=m(function*(t){const e=t.app;ap(e);const{provider:n}=Ze(e);if(pp()){const r=yield mp(),{token:i}=yield G0(NP(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function _p(t,e,n,r){const{app:i}=t,s=Ze(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ki(s.token)){const c=s.token;Promise.resolve().then(()=>{n({token:c.token}),UP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UP(t))}function Cp(t,e){const n=Ze(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function UP(t){const{app:e}=t,n=Ze(e);let r=n.tokenRefresher;r||(r=function RIe(t){const{app:e}=t;return new wIe(m(function*(){let r;if(r=Ze(e).token?yield W0(t,!0):yield W0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ze(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},TP.RETRIAL_MIN_WAIT,TP.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function jP(t,e){const n=Ze(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ki(t){return t.expireTimeMillis-Date.now()>0}function $P(t){return{token:PIe(kIe),error:t}}class OIe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ze(this.app);for(const n of e)Cp(this.app,n.next);return Promise.resolve()}}function qIe(t,e){const n=new Oi;Ze(t).reCAPTCHAState={initialized:n};const i=function GP(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=j0(!1);return s?K0(t,e,s,i,n):function QIe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const a=j0(!1);if(!a)throw new Error("no recaptcha");K0(t,e,a,i,n)}),n.promise}function K0(t,e,n,r,i){n.ready(()=>{(function KIe(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Ze(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Ze(t).reCAPTCHAState.succeeded=!1}}),s=Ze(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function qP(t){return Mp.apply(this,arguments)}function Mp(){return(Mp=m(function*(t){ap(t);const n=yield Ze(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Ze(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class lr{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function YP(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Q2.create("throttled",{time:cp(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield qP(e._app).catch(c=>{throw Q2.create("recaptcha-error")});if(null===(n=Ze(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw Q2.create("recaptcha-error");let a;try{a=yield G0(function bIe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${sp}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(c){throw null!==(r=c.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function QP(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=E0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=c.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),Q2.create("throttled",{time:cp(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):c}return e._throttleData=null,a})()}initialize(e){this._app=e,this._heartbeatServiceProvider=cr(e,"heartbeat"),qIe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof lr&&this._siteKey===e._siteKey}}function XIe(t=ha(),e){const n=cr(t=l2(t),"app-check");if(U0().initialized||function NIe(){const t=sk(),e=U0();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Oi;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function TIe(){return hp.apply(this,arguments)}())}(),pp()&&mp().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Q2.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function JIe(t,e,n){const r=function vIe(t,e){return ip.set(t,e),ip.get(t)}(t,Object.assign({},AP));r.activated=!0,r.provider=e,r.cachedTokenPromise=function AIe(t){return fp.apply(this,arguments)}(t).then(i=>(i&&Ki(i)&&(r.token=i,jP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),Ze(t).isTokenAutoRefreshEnabled&&_p(r,"INTERNAL",()=>{}),r}const XP="app-check-internal";!function eEe(){wt(new at("app-check",t=>function FIe(t,e){return new OIe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(XP).initialize()})),wt(new at(XP,t=>function BIe(t){return{getToken:e=>W0(t,e),getLimitedUseToken:()=>BP(t),addTokenListener:e=>_p(t,"INTERNAL",e),removeTokenListener:e=>Cp(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),We("@firebase/app-check","0.8.0")}();const JP="app-check";class Vp{constructor(e){return e}}class Hp{constructor(){return np(JP)}}const bp=new $("angularfire2.app-check-instances"),nEe=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function rEe(t){return(e,n,r)=>{var i;!Tf(r)&&nEe&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new Vp(s)}}const iEe={provide:Hp,deps:[[new Lt,bp]]},sEe={provide:Vp,useFactory:function tEe(t,e){const n=tp(JP,t,e);return n&&new Vp(n)},deps:[[new Lt,bp],$i,pn]};let aEe=(()=>{class t{constructor(){We("angularfire",va.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({providers:[sEe,iEe]}),t})();function Qi(t,...e){return{ngModule:aEe,providers:[{provide:bp,useFactory:rEe(t),multi:!0,deps:[Ae,it,pn,F0,B0,...e]}]}}const Yi=k2(XIe,!0);const cEe=function ZP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},eR=new G1("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Q0=new Fi("@firebase/auth");function Y0(t,...e){Q0.logLevel<=ge.ERROR&&Q0.error(`Auth (${c4}): ${t}`,...e)}function Rt(t,...e){throw zp(t,...e)}function Kt(t,...e){return zp(t,...e)}function tR(t,e,n){const r=Object.assign(Object.assign({},cEe()),{[e]:n});return new G1("auth","Firebase",r).create(e,{appName:t.name})}function zp(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eR.create(t,...e)}function x(t,e,...n){if(!t)throw zp(e,...n)}function K1(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Y0(e),new Error(e)}function Sn(t,e){t||K1(e)}function Ca(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function nR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ma{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sn(n>e,"Short delay should be less than long delay!"),this.isMobile=function EHe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T2())}()||function DHe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function lEe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Sp(){return"http:"===nR()||"https:"===nR()}()||j9()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(t,e){Sn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class rR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void K1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void K1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void K1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fEe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dEe=new Ma(3e4,6e4);function Ke(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function e2(t,e,n,r){return Ip.apply(this,arguments)}function Ip(){return(Ip=m(function*(t,e,n,r,i={}){return iR(t,i,m(function*(){let s={},a={};r&&("GET"===e?a=r:s={body:JSON.stringify(r)});const c=ua(Object.assign({key:t.config.apiKey},a)).slice(1),o=yield t._getAdditionalHeaders();return o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode),rR.fetch()(sR(t,t.config.apiHost,n,c),Object.assign({method:e,headers:o,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function iR(t,e,n){return Ep.apply(this,arguments)}function Ep(){return(Ep=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fEe),e);try{const i=new hEe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=yield s.json();if("needConfirmation"in a)throw wa(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[o,l]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===o)throw wa(t,"credential-already-in-use",a);if("EMAIL_EXISTS"===o)throw wa(t,"email-already-in-use",a);if("USER_DISABLED"===o)throw wa(t,"user-disabled",a);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw tR(t,u,l);Rt(t,u)}}catch(i){if(i instanceof c1)throw i;Rt(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function xn(t,e,n,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=m(function*(t,e,n,r,i={}){const s=yield e2(t,e,n,r,i);return"mfaPendingCredential"in s&&Rt(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function sR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xp(t.config,i):`${t.config.apiScheme}://${i}`}class hEe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kt(this.auth,"network-request-failed")),dEe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kt(t,e,r);return i.customData._tokenResponse=n,i}function Dp(){return(Dp=m(function*(t,e){return e2(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Tp(){return(Tp=m(function*(t,e){return e2(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Np(){return(Np=m(function*(t,e=!1){const n=l2(t),r=yield n.getIdToken(e),i=X0(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Va(kp(i.auth_time)),issuedAtTime:Va(kp(i.iat)),expirationTime:Va(kp(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function kp(t){return 1e3*Number(t)}function X0(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Y0("JWT malformed, contained fewer than 3 sections"),null;try{const i=z0(n);return i?JSON.parse(i):(Y0("Failed to decode base64 JWT payload"),null)}catch(i){return Y0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function In(t,e){return Pp.apply(this,arguments)}function Pp(){return(Pp=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof c1&&function _Ee({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class CEe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class aR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ha(t){return Rp.apply(this,arguments)}function Rp(){return Rp=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield In(t,function gEe(t,e){return Tp.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function VEe(t){return t.map(e=>{var{providerId:n}=e,r=lo(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],c=function wEe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,a),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||c?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new aR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}),Rp.apply(this,arguments)}function Op(){return(Op=m(function*(t){const e=l2(t);yield Ha(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Fp(){return(Fp=m(function*(t,e){const n=yield iR(t,{},m(function*(){const r=ua({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=sR(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",rR.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yEe(t){const e=X0(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:a}=yield function HEe(t,e){return Fp.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(a))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new ba;return r&&(x("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return K1("not implemented")}}function ur(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class p4{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CEe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield In(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function vEe(t){return Np.apply(this,arguments)}(this,e)}reload(){return function MEe(t){return Op.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new p4(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ha(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield In(e,function pEe(t,e){return Dp.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,o,l,u;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,g=null!==(c=n.tenantId)&&void 0!==c?c:void 0,v=null!==(o=n._redirectEventId)&&void 0!==o?o:void 0,C=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:I,isAnonymous:T,providerData:G,stsTokenManager:fe}=n;x(w&&fe,e,"internal-error");const _2=ba.fromJSON(this.name,fe);x("string"==typeof w,e,"internal-error"),ur(f,e.name),ur(d,e.name),x("boolean"==typeof I,e,"internal-error"),x("boolean"==typeof T,e,"internal-error"),ur(h,e.name),ur(p,e.name),ur(g,e.name),ur(v,e.name),ur(C,e.name),ur(y,e.name);const D2=new p4({uid:w,auth:e,email:d,emailVerified:I,displayName:f,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:_2,createdAt:C,lastLoginAt:y});return G&&Array.isArray(G)&&(D2.providerData=G.map(to=>Object.assign({},to))),v&&(D2._redirectEventId=v),D2}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new ba;i.updateFromServerResponse(n);const s=new p4({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ha(s),s})()}}const cR=new Map;function En(t){Sn(t instanceof Function,"Expected a class definition");let e=cR.get(t);return e?(Sn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cR.set(t,e),e)}const oR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function J0(t,e,n){return`firebase:${t}:${e}:${n}`}class Ji{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=J0(this.userKey,i.apiKey,s),this.fullPersistenceKey=J0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?p4._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Ji(En(oR),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||En(oR);const a=J0(r,e.config.apiKey,e.name);let c=null;for(const l of n)try{const u=yield l._get(a);if(u){const f=p4._fromJSON(e,u);l!==s&&(c=f),s=l;break}}catch{}const o=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],c&&(yield s._set(a,c.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(a)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Ji(s,e,r)):new Ji(s,e,r)})()}}function lR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pR(e))return"Blackberry";if(mR(e))return"Webos";if(Bp(e))return"Safari";if((e.includes("chrome/")||fR(e))&&!e.includes("edge/"))return"Chrome";if(hR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function uR(t=T2()){return/firefox\//i.test(t)}function Bp(t=T2()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fR(t=T2()){return/crios\//i.test(t)}function dR(t=T2()){return/iemobile/i.test(t)}function hR(t=T2()){return/android/i.test(t)}function pR(t=T2()){return/blackberry/i.test(t)}function mR(t=T2()){return/webos/i.test(t)}function Z0(t=T2()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gR(t=T2()){return Z0(t)||hR(t)||mR(t)||pR(t)||/windows phone/i.test(t)||dR(t)}function vR(t,e=[]){let n;switch(t){case"Browser":n=lR(T2());break;case"Worker":n=`${lR(T2())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${c4}/${r}`}function yR(t,e){return jp.apply(this,arguments)}function jp(){return(jp=m(function*(t,e){return e2(t,"GET","/v2/recaptchaConfig",Ke(t,e))})).apply(this,arguments)}function CR(t){return void 0!==t&&void 0!==t.enterprise}class MR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function $p(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function IEe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function wR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class VR{constructor(e){this.type="recaptcha-enterprise",this.auth=P2(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(c){if(!n){if(null==c.tenantId&&null!=c._agentRecaptchaConfig)return c._agentRecaptchaConfig.siteKey;if(null!=c.tenantId&&void 0!==c._tenantRecaptchaConfigs[c.tenantId])return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(function(){var o=m(function*(l,u){yR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new MR(f);return null==c.tenantId?c._agentRecaptchaConfig=d:c._tenantRecaptchaConfigs[c.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return o.apply(this,arguments)}}())}),s.apply(this,arguments)}function a(c,o,l){const u=window.grecaptcha;CR(u)?u.enterprise.ready(()=>{u.enterprise.execute(c,{action:e}).then(f=>{o(f)}).catch(()=>{o("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,o)=>{(function i(c){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&CR(window.grecaptcha))a(l,c,o);else{if(typeof window>"u")return void o(new Error("RecaptchaVerifier is only supported in browser"));$p("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{a(l,c,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})})()}}function fr(t,e,n){return Gp.apply(this,arguments)}function Gp(){return(Gp=m(function*(t,e,n,r=!1){const i=new VR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const a=Object.assign({},e);return Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})).apply(this,arguments)}class AEe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{a(e(s))}catch(o){c(o)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class TEe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HR(this),this.idTokenSubscription=new HR(this),this.beforeStateQueue=new AEe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=En(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ji.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const c=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!c||c===o)&&l?.user&&(s=l.user,a=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{yield n.beforeStateQueue.runMiddleware(s)}catch(c){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(c))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Ha(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function uEe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?l2(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(En(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield yR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new MR(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new VR(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new G1("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&En(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield Ji.create(n,[En(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return x(a,this,"internal-error"),a.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function oEe(t,...e){Q0.logLevel<=ge.WARN&&Q0.warn(`Auth (${c4}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function P2(t){return l2(t)}class HR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function RHe(t,e){const n=new OHe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return K1("not implemented")}_getIdTokenResponse(e){return K1("not implemented")}_linkToIdToken(e,n){return K1("not implemented")}_getReauthenticationResolver(e){return K1("not implemented")}}function xR(t,e){return Kp.apply(this,arguments)}function Kp(){return(Kp=m(function*(t,e){return e2(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Yp(t,e){return Xp.apply(this,arguments)}function Xp(){return(Xp=m(function*(t,e){return xn(t,"POST","/v1/accounts:signInWithPassword",Ke(t,e))})).apply(this,arguments)}function sm(){return(sm=m(function*(t,e){return xn(t,"POST","/v1/accounts:signInWithEmailLink",Ke(t,e))})).apply(this,arguments)}function am(){return(am=m(function*(t,e){return xn(t,"POST","/v1/accounts:signInWithEmailLink",Ke(t,e))})).apply(this,arguments)}class za extends qp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new za(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new za(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield fr(e,i,"signInWithPassword");return Yp(e,s)}return Yp(e,i).catch(function(){var s=m(function*(a){if("auth/missing-recaptcha-token"===a.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const c=yield fr(e,i,"signInWithPassword");return Yp(e,c)}return Promise.reject(a)});return function(a){return s.apply(this,arguments)}}());case"emailLink":return function jEe(t,e){return sm.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Rt(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return xR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function $Ee(t,e){return am.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Rt(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ln(t,e){return cm.apply(this,arguments)}function cm(){return(cm=m(function*(t,e){return xn(t,"POST","/v1/accounts:signInWithIdp",Ke(t,e))})).apply(this,arguments)}class Zi extends qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lo(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Zi(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return Ln(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ln(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ln(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ua(n)}return e}}class xa{constructor(e){var n,r,i,s,a,c;const o=fa(da(e)),l=null!==(n=o.apiKey)&&void 0!==n?n:null,u=null!==(r=o.oobCode)&&void 0!==r?r:null,f=function XEe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=o.mode)&&void 0!==i?i:null);x(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(c=o.tenantId)&&void 0!==c?c:null}static parseLink(e){const n=function JEe(t){const e=fa(da(t)).link,n=e?fa(da(e)).deep_link_id:null,r=fa(da(t)).deep_link_id;return(r?fa(da(r)).link:null)||r||n||e||t}(e);try{return new xa(n)}catch{return null}}}let IR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return za._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=xa.parseLink(r);return x(i,"argument-error"),za._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class dr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ER extends dr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let ZEe=(()=>{class t extends ER{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Zi._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class o1{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield p4._fromIdTokenResponse(e,r,i),a=LR(r);return new o1({user:s,providerId:a,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=LR(r);return new o1({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function LR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class r8 extends c1{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,r8.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new r8(e,n,r,i)}}function DR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?r8._fromErrorAndOperation(t,s,e,r):s})}function vm(){return(vm=m(function*(t,e,n=!1){const r=yield In(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return o1._forOperation(t,"link",r)})).apply(this,arguments)}function _m(){return(_m=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield In(t,DR(r,i,e,t),n);x(s.idToken,r,"internal-error");const a=X0(s.idToken);x(a,r,"internal-error");const{sub:c}=a;return x(t.uid===c,r,"user-mismatch"),o1._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Rt(r,"user-mismatch"),s}})).apply(this,arguments)}function NR(t,e){return Cm.apply(this,arguments)}function Cm(){return(Cm=m(function*(t,e,n=!1){const r="signIn",i=yield DR(t,r,e),s=yield o1._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function wm(){return(wm=m(function*(t,e){return NR(P2(t),e)})).apply(this,arguments)}function aLe(t,e,n){return function Mm(t,e){return wm.apply(this,arguments)}(l2(t),IR.credential(e,n))}const s8="__sak";class PR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(s8,"1"),this.storage.removeItem(s8),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HLe=(()=>{class t extends PR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function MLe(){const t=T2();return Bp(t)||Z0(t)}()&&function SEe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((c,o,l)=>{this.notifyListeners(c,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(i);if(n.newValue!==c)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);!function zEe(){return function AHe(){const t=T2();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||a===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),RR=(()=>{class t extends PR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let zLe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:a,data:c}=i.data,o=r.handlersMap[a];if(!o?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(o).map(function(){var f=m(function*(d){return d(i.origin,c)});return function(d){return f.apply(this,arguments)}}()),u=yield function bLe(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function a8(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class SLe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((o,l)=>{const u=a8("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"))}}},i.handlers.add(c),s.port1.addEventListener("message",c.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{c&&i.removeMessageHandler(c)})})()}}function g2(){return window}function Ym(){return typeof g2().WorkerGlobalScope<"u"&&"function"==typeof g2().importScripts}function Xm(){return(Xm=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const OR="firebaseLocalStorageDb",c8="firebaseLocalStorage",FR="fbase_key";class Ea{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function o8(t,e){return t.transaction([c8],e?"readwrite":"readonly").objectStore(c8)}function Jm(){const t=indexedDB.open(OR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(c8,{keyPath:FR})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(c8)?e(r):(r.close(),yield function ALe(){const t=indexedDB.deleteDatabase(OR);return new Ea(t).toPromise()}(),e(yield Jm()))}))})}function BR(t,e,n){return Zm.apply(this,arguments)}function Zm(){return(Zm=m(function*(t,e,n){const r=o8(t,!0).put({[FR]:e,value:n});return new Ea(r).toPromise()})).apply(this,arguments)}function eg(){return(eg=m(function*(t,e){const n=o8(t,!1).get(e),r=yield new Ea(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function UR(t,e){const n=o8(t,!0).delete(e);return new Ea(n).toPromise()}const PLe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield Jm()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return Ym()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=zLe._getInstance(function LLe(){return Ym()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function ILe(){return Xm.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new SLe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function ELe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield Jm();return yield BR(n,s8,"1"),yield UR(n,s8),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>BR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function TLe(t,e){return eg.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>UR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(a=>{const c=o8(a,!1).getAll();return new Ea(c).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:a,value:c}of r)s.add(a),JSON.stringify(n.localCache[a])!==JSON.stringify(c)&&(n.notifyListeners(a,c),i.push(a));for(const a of Object.keys(n.localCache))n.localCache[a]&&!s.has(a)&&(n.notifyListeners(a,null),i.push(a));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function g4(t,e){return e?En(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}wR("rcb"),new Ma(3e4,6e4);class lg extends qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ln(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ln(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ln(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZLe(t){return NR(t.auth,new lg(t),t.bypassAuthState)}function eDe(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function TR(t,e){return _m.apply(this,arguments)}(n,new lg(t),t.bypassAuthState)}function tDe(t){return ug.apply(this,arguments)}function ug(){return(ug=m(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function gm(t,e){return vm.apply(this,arguments)}(n,new lg(t),t.bypassAuthState)})).apply(this,arguments)}class $R{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:a,error:c,type:o}=e;if(c)return void n.reject(c);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(o)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZLe;case"linkViaPopup":case"linkViaRedirect":return tDe;case"reauthViaPopup":case"reauthViaRedirect":return eDe;default:Rt(this.auth,"internal-error")}}resolve(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nDe=new Ma(2e3,1e4);function rDe(t,e,n){return fg.apply(this,arguments)}function fg(){return(fg=m(function*(t,e,n){const r=P2(t);!function Xi(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Rt(t,"argument-error"),tR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,dr);const i=g4(r,n);return new pg(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let pg=(()=>{class t extends $R{constructor(n,r,i,s,a){super(n,r,s,a),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return x(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){Sn(1===n.filter.length,"Popup operations only handle one event");const r=a8();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Kt(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Kt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,nDe.get())};n()}}return t.currentPopupAction=null,t})();const iDe="pendingRedirect",La=new Map;class sDe extends $R{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=La.get(n.auth._key());if(!r){try{const s=(yield function aDe(t,e){return mg.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}La.set(n.auth._key(),r)}return n.bypassAuthState||La.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function mg(){return(mg=m(function*(t,e){const n=function qR(t){return J0(iDe,t.config.apiKey,t.name)}(e),r=function GR(t){return En(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function cDe(t,e){La.set(t._key(),e)}function WR(t,e){return wg.apply(this,arguments)}function wg(){return(wg=m(function*(t,e,n=!1){const r=P2(t),i=g4(r,e),a=yield new sDe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})).apply(this,arguments)}class dDe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function hDe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(QR(e))}saveEventToCache(e){this.cachedEventUids.add(QR(e)),this.lastProcessedEventTime=Date.now()}}function QR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Hg(){return(Hg=m(function*(t,e={}){return e2(t,"GET","/v1/projects",e)})).apply(this,arguments)}const mDe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gDe=/^https?/;function bg(){return bg=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function pDe(t){return Hg.apply(this,arguments)}(t);for(const n of e)try{if(yDe(n))return}catch{}Rt(t,"unauthorized-domain")}),bg.apply(this,arguments)}function yDe(t){const e=Ca(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return""===a.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!gDe.test(n))return!1;if(mDe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _De=new Ma(3e4,6e4);function XR(){const t=g2().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let u8=null;const wDe=new Ma(5e3,15e3),VDe="__/auth/iframe",HDe="emulator/auth/iframe",bDe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zDe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SDe(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xp(e,HDe):`https://${t.config.authDomain}/${VDe}`,r={apiKey:e.apiKey,appName:t.name,v:c4},i=zDe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ua(r).slice(1)}`}function zg(){return zg=m(function*(t){const e=yield function MDe(t){return u8=u8||function CDe(t){return new Promise((e,n)=>{var r,i,s;function a(){XR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XR(),n(Kt(t,"network-request-failed"))},timeout:_De.get()})}if(null!==(i=null===(r=g2().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=g2().gapi)||void 0===s||!s.load){const c=wR("iframefcb");return g2()[c]=()=>{gapi.load?a():n(Kt(t,"network-request-failed"))},$p(`https://apis.google.com/js/api.js?onload=${c}`).catch(o=>n(o))}a()}}).catch(e=>{throw u8=null,e})}(t),u8}(t),n=g2().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:SDe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bDe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,a){yield r.restyle({setHideOnLeave:!1});const c=Kt(t,"network-request-failed"),o=g2().setTimeout(()=>{a(c)},wDe.get());function l(){g2().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{a(c)})});return function(s,a){return i.apply(this,arguments)}}()))}),zg.apply(this,arguments)}const IDe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class JR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kDe="__/auth/handler",PDe="emulator/auth/handler",RDe=encodeURIComponent("fac");function ZR(t,e,n,r,i,s){return Sg.apply(this,arguments)}function Sg(){return(Sg=m(function*(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:c4,eventId:i};if(e instanceof dr){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function PHe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof ER){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const u of Object.keys(c))void 0===c[u]&&delete c[u];const o=yield t._getAppCheckToken(),l=o?`#${RDe}=${encodeURIComponent(o)}`:"";return`${function ODe({config:t}){return t.emulator?xp(t,PDe):`https://${t.authDomain}/${kDe}`}(t)}?${ua(c).slice(1)}${l}`})).apply(this,arguments)}const xg="webStorageSupport",BDe=class FDe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RR,this._completeRedirectFn=WR,this._overrideRedirectResult=cDe}_openPopup(e,n,r,i){var s=this;return m(function*(){var a;Sn(null===(a=s.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const c=yield ZR(e,n,r,Ca(),i);return function TDe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const o=Object.assign(Object.assign({},IDe),{width:r.toString(),height:i.toString(),top:s,left:a}),l=T2().toLowerCase();n&&(c=fR(l)?"_blank":n),uR(l)&&(e=e||"http://localhost",o.scrollbars="yes");const u=Object.entries(o).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function bEe(t=T2()){var e;return Z0(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==c)return function NDe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",c),new JR(null);const f=window.open(e||"",c,u);x(f,t,"popup-blocked");try{f.focus()}catch{}return new JR(f)}(e,c,a8())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function xLe(t){g2().location.href=t}(yield ZR(e,n,r,Ca(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function xDe(t){return zg.apply(this,arguments)}(e),i=new dDe(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xg,{type:xg},i=>{var s;const a=null===(s=i?.[0])||void 0===s?void 0:s[xg];void 0!==a&&n(!!a),Rt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function vDe(t){return bg.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gR()||Bp()||Z0()}};var nO="@firebase/auth";class UDe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qDe=ok("authIdTokenMaxAge")||300;let iO=null;const WDe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>qDe)return;const s=r?.token;iO!==s&&(iO=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function KDe(t=ha()){const e=cr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function NEe(t,e){const n=cr(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(I0(n.getOptions(),e??{}))return i;Rt(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:BDe,persistence:[PLe,HLe,RR]}),r=ok("authTokenSyncURL");if(r){const s=WDe(r);(function mLe(t,e,n){l2(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function pLe(t,e,n,r){l2(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}const i=ak("auth");return i&&function PEe(t,e,n){const r=P2(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=bR(e),{host:a,port:c}=function REe(t){const e=bR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zR(r.substr(s.length+1))}}{const[s,a]=r.split(":");return{host:s,port:zR(a)}}}(e);r.config.emulator={url:`${s}//${a}${null===c?"":`:${c}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function OEe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function QDe(t){return new Ye(function(e){var n=function gLe(t,e,n,r){return l2(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function $De(t){wt(new at("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;x(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vR(t)},l=new TEe(r,i,s,o);return function kEe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(En);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wt(new at("auth-internal",e=>{const n=P2(e.getProvider("auth").getImmediate());return new UDe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(nO,"0.23.2",function jDe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),We(nO,"0.23.2","esm2017")}("Browser");class d8{constructor(e){return e}}class aO{constructor(){return np("auth")}}const Eg=new $("angularfire2.auth-instances");function JDe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new d8(r)}}const ZDe={provide:aO,deps:[[new Lt,Eg]]},eAe={provide:d8,useFactory:function XDe(t,e){const n=tp("auth",t,e);return n&&new d8(n)},deps:[[new Lt,Eg],$i]};let tAe=(()=>{class t{constructor(){We("angularfire",va.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({providers:[eAe,ZDe]}),t})();function t3(t,...e){return{ngModule:tAe,providers:[{provide:Eg,useFactory:JDe(t),multi:!0,deps:[Ae,it,F0,B0,[new Lt,Hp],...e]}]}}const nAe=k2(QDe,!0),n3=k2(KDe,!0),rAe=k2(aLe,!0),iAe=k2(rDe,!0);var A,sAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V1={},Lg=Lg||{},ne=sAe||self;function h8(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Da(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Dg="closure_uid_"+(1e9*Math.random()>>>0),cAe=0;function oAe(t,e,n){return t.call.apply(t.bind,arguments)}function lAe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ct(t,e,n){return(ct=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oAe:lAe).apply(null,arguments)}function p8(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function R2(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function hr(){this.s=this.s,this.o=this.o}hr.prototype.s=!1,hr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function aAe(t){Object.prototype.hasOwnProperty.call(t,Dg)&&t[Dg]||(t[Dg]=++cAe)}(this)},hr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ag(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function oO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(h8(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var fAe=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function Aa(t){return/^[\s\xa0]*$/.test(t)}function m8(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function Q1(t){return-1!=m8().indexOf(t)}function Tg(t){return Tg[" "](t),t}Tg[" "]=function(){};var kg,t,hAe=Q1("Opera"),r3=Q1("Trident")||Q1("MSIE"),lO=Q1("Edge"),Ng=lO||r3,uO=Q1("Gecko")&&!(-1!=m8().toLowerCase().indexOf("webkit")&&!Q1("Edge"))&&!(Q1("Trident")||Q1("MSIE"))&&!Q1("Edge"),pAe=-1!=m8().toLowerCase().indexOf("webkit")&&!Q1("Edge");function fO(){var t=ne.document;return t?t.documentMode:void 0}e:{var Pg="",Rg=(t=m8(),uO?/rv:([^\);]+)(\)|;)/.exec(t):lO?/Edge\/([\d\.]+)/.exec(t):r3?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):pAe?/WebKit\/(\S+)/.exec(t):hAe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Rg&&(Pg=Rg?Rg[1]:""),r3){var Og=fO();if(null!=Og&&Og>parseFloat(Pg)){kg=String(Og);break e}}kg=Pg}var mAe=ne.document&&r3&&(fO()||parseInt(kg,10))||void 0;function Ta(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uO){e:{try{Tg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gAe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ta.$.h.call(this)}}R2(Ta,ot);var gAe={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),vAe=0;function yAe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vAe,this.fa=this.ia=!1}function g8(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Bg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function hO(t){const e={};for(const n in t)e[n]=t[n];return e}const pO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<pO.length;s++)n=pO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function v8(t){this.src=t,this.g={},this.h=0}function Ug(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=cO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(g8(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function jg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}v8.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var a=jg(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new yAe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var $g="closure_lm_"+(1e6*Math.random()|0),Gg={};function gO(t,e,n,r,i){if(r&&r.once)return yO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)gO(t,e[s],n,r,i);return null}return n=Qg(n),t&&t[Na]?t.O(e,n,Da(r)?!!r.capture:!!r,i):vO(t,e,n,!1,r,i)}function vO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=Da(i)?!!i.capture:!!i,c=Wg(t);if(c||(t[$g]=c=new v8(t)),(n=c.add(e,n,r,a,s)).proxy)return n;if(r=function CAe(){const e=MAe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fAe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(CO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yO(t,e[s],n,r,i);return null}return n=Qg(n),t&&t[Na]?t.P(e,n,Da(r)?!!r.capture:!!r,i):vO(t,e,n,!0,r,i)}function _O(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_O(t,e[s],n,r,i);else r=Da(r)?!!r.capture:!!r,n=Qg(n),t&&t[Na]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=jg(s=t.g[e],n,r,i))&&(g8(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Wg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jg(e,n,r,i)),(n=-1<t?e[t]:null)&&qg(n))}function qg(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Na])Ug(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(CO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wg(e))?(Ug(n,t),0==n.h&&(n.src=null,e[$g]=null)):g8(t)}}}function CO(t){return t in Gg?Gg[t]:Gg[t]="on"+t}function MAe(t,e){if(t.fa)t=!0;else{e=new Ta(e,this);var n=t.listener,r=t.la||t.src;t.ia&&qg(t),t=n.call(r,e)}return t}function Wg(t){return(t=t[$g])instanceof v8?t:null}var Kg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qg(t){return"function"==typeof t?t:(t[Kg]||(t[Kg]=function(e){return t.handleEvent(e)}),t[Kg])}function O2(){hr.call(this),this.i=new v8(this),this.S=this,this.J=null}function Y2(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;mO(e=new ot(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=y8(a,r,!0,e)&&i}if(i=y8(a=e.g=t,r,!0,e)&&i,i=y8(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=y8(a=e.g=n[s],r,!1,e)&&i}function y8(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,o=a.la||a.src;a.ia&&Ug(t.i,a),i=!1!==c.call(o,r)&&i}}return i&&!r.defaultPrevented}R2(O2,hr),O2.prototype[Na]=!0,O2.prototype.removeEventListener=function(t,e,n,r){_O(this,t,e,n,r)},O2.prototype.N=function(){if(O2.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)g8(n[r]);delete t.g[e],t.h--}}this.J=null},O2.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},O2.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Yg=ne.JSON.stringify;function VAe(){var t=Xg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var MO=new class wAe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new bAe,t=>t.reset());class bAe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zAe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function SAe(t){ne.setTimeout(()=>{throw t},0)}let ka,Pa=!1,Xg=new class HAe{constructor(){this.h=this.g=null}add(e,n){const r=MO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},wO=()=>{const t=ne.Promise.resolve(void 0);ka=()=>{t.then(xAe)}};var xAe=()=>{for(var t;t=VAe();){try{t.h.call(t.g)}catch(n){SAe(n)}var e=MO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pa=!1};function _8(t,e){O2.call(this),this.h=t||1,this.g=e||ne,this.j=ct(this.qb,this),this.l=Date.now()}function Jg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Zg(t,e,n){if("function"==typeof t)n&&(t=ct(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ct(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function VO(t){t.g=Zg(()=>{t.g=null,t.i&&(t.i=!1,VO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}R2(_8,O2),(A=_8.prototype).ga=!1,A.T=null,A.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Y2(this,"tick"),this.ga&&(Jg(this),this.start()))}},A.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},A.N=function(){_8.$.N.call(this),Jg(this),delete this.g};class IAe extends hr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VO(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(t){hr.call(this),this.h=t,this.g={}}R2(Ra,hr);var HO=[];function bO(t,e,n,r){Array.isArray(n)||(n&&(HO[0]=n.toString()),n=HO);for(var i=0;i<n.length;i++){var s=gO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function zO(t){Bg(t.g,function(e,n){this.g.hasOwnProperty(n)&&qg(e)},t),t.g={}}function C8(){this.g=!0}function i3(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function AAe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Yg(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ra.prototype.N=function(){Ra.$.N.call(this),zO(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},C8.prototype.Ea=function(){this.g=!1},C8.prototype.info=function(){};var v4={},SO=null;function M8(){return SO=SO||new O2}function xO(t){ot.call(this,v4.Ta,t)}function Oa(t){const e=M8();Y2(e,new xO(e))}function IO(t,e){ot.call(this,v4.STAT_EVENT,t),this.stat=e}function Ht(t){const e=M8();Y2(e,new IO(e,t))}function EO(t,e){ot.call(this,v4.Ua,t),this.size=e}function Fa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}v4.Ta="serverreachability",R2(xO,ot),v4.STAT_EVENT="statevent",R2(IO,ot),v4.Ua="timingevent",R2(EO,ot);var w8={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},LO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ev(){}function AO(){}ev.prototype.h=null;var rv,Ba={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tv(){ot.call(this,"d")}function nv(){ot.call(this,"c")}function V8(){}function Ua(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ra(this),this.P=TAe,this.V=new _8(t=Ng?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TO}function TO(){this.i=null,this.g="",this.h=!1}R2(tv,ot),R2(nv,ot),R2(V8,ev),V8.prototype.g=function(){return new XMLHttpRequest},V8.prototype.i=function(){return{}},rv=new V8;var TAe=45e3,iv={},H8={};function sv(t,e,n){t.L=1,t.v=x8(Dn(e)),t.s=n,t.S=!0,NO(t,null)}function NO(t,e){t.G=Date.now(),ja(t),t.A=Dn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),GO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new TO,t.g=mF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new IAe(ct(t.Pa,t,t.g),t.O)),bO(t.U,t.g,"readystatechange",t.nb),e=t.I?hO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Oa(),function EAe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),o=0;o<c.length;o++){var l=c[o].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");a=2<=f.length&&"type"==f[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.W,t.s)}function kO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function PO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=NAe(t,n),i==H8){4==e&&(t.o=4,Ht(14),r=!1),i3(t.j,t.m,null,"[Incomplete Response]");break}if(i==iv){t.o=4,Ht(15),i3(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}i3(t.j,t.m,i,null),av(t,i)}kO(t)&&i!=H8&&i!=iv&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ht(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hv(e),e.M=!0,Ht(11))):(i3(t.j,t.m,n,"[Invalid Chunked Response]"),y4(t),$a(t))}function NAe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?H8:(n=Number(e.substring(n,r)),isNaN(n)?iv:(r+=1)+n>e.length?H8:(e=e.slice(r,r+n),t.C=r+n,e))}function ja(t){t.Y=Date.now()+t.P,RO(t,t.P)}function RO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Fa(ct(t.lb,t),e)}function b8(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}function $a(t){0==t.l.H||t.J||fF(t.l,t)}function y4(t){b8(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Jg(t.V),zO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function av(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||cv(n.i,t)))if(!t.K&&cv(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;T8(n),D8(n)}dv(n),Ht(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Fa(ct(n.ib,n),6e3));if(1>=KO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else C4(n,11)}else if((t.K||n.g==t)&&T8(n),!Aa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(n.L=r=1.5*d,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ov(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Te(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=t;if((r=n).wa=pF(r,r.J?r.pa:null,r.Y),a.K){QO(r.i,a);var c=a,o=r.L;o&&c.setTimeout(o),c.B&&(b8(c),ja(c)),r.g=a}else lF(r);0<n.j.length&&A8(n)}else"stop"!=l[0]&&"close"!=l[0]||C4(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?C4(n,7):fv(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Oa()}catch{}}function OO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h8(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function PAe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(h8(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function kAe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(h8(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(A=Ua.prototype).setTimeout=function(t){this.P=t},A.nb=function(t){t=t.target;const e=this.M;e&&3==Y1(t)?e.l():this.Pa(t)},A.Pa=function(t){try{if(t==this.g)e:{const u=Y1(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Ng||this.g&&(this.h.h||this.g.ja()||rF(this.g)))){this.J||4!=u||7==e||Oa(),b8(this);var n=this.g.da();this.ca=n;t:if(kO(this)){var r=rF(this.g);t="";var i=r.length,s=4==Y1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){y4(this),$a(this);var a="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function LAe(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,o=this.g;if((c=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Aa(c)){var l=c;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Ht(12),y4(this),$a(this);break e}i3(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,av(this,n)}this.S?(PO(this,u,a),Ng&&this.i&&3==u&&(bO(this.U,this.V,"tick",this.mb),this.V.start())):(i3(this.j,this.m,a,null),av(this,a)),4==u&&y4(this),this.i&&!this.J&&(4==u?fF(this.l,this):(this.i=!1,ja(this)))}else(function tTe(t){const e={};t=(t.g&&2<=Y1(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Aa(t[r]))continue;var n=zAe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function _Ae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),y4(this),$a(this)}}}catch{}},A.mb=function(){if(this.g){var t=Y1(this.g),e=this.g.ja();this.C<e.length&&(b8(this),PO(this,t,e),this.i&&4!=t&&ja(this))}},A.cancel=function(){this.J=!0,y4(this)},A.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function DAe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Oa(),Ht(17)),y4(this),this.o=2,$a(this)):RO(this,this.Y-t)};var FO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _4(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _4){this.h=t.h,z8(this,t.j),this.s=t.s,this.g=t.g,S8(this,t.m),this.l=t.l;var e=t.i,n=new Wa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),BO(this,n),this.o=t.o}else t&&(e=String(t).match(FO))?(this.h=!1,z8(this,e[1]||"",!0),this.s=Ga(e[2]||""),this.g=Ga(e[3]||"",!0),S8(this,e[4]),this.l=Ga(e[5]||"",!0),BO(this,e[6]||"",!0),this.o=Ga(e[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}function Dn(t){return new _4(t)}function z8(t,e,n){t.j=n?Ga(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function S8(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function BO(t,e,n){e instanceof Wa?(t.i=e,function $Ae(t,e){e&&!t.j&&(pr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jO(this,r),GO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=qa(e,UAe)),t.i=new Wa(e,t.h))}function Te(t,e,n){t.i.set(e,n)}function x8(t){return Te(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ga(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,OAe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function OAe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_4.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qa(e,UO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(qa(e,UO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(qa(n,"/"==n.charAt(0)?BAe:FAe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qa(n,jAe)),t.join("")};var UO=/[#\/\?@]/g,FAe=/[#\?:]/g,BAe=/[#\?]/g,UAe=/[#\?@]/g,jAe=/#/g;function Wa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pr(t){t.g||(t.g=new Map,t.h=0,t.i&&function RAe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function jO(t,e){pr(t),e=s3(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $O(t,e){return pr(t),e=s3(t,e),t.g.has(e)}function GO(t,e,n){jO(t,e),0<n.length&&(t.i=null,t.g.set(s3(t,e),Ag(n)),t.h+=n.length)}function s3(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qO(t){this.l=t||qAe,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(A=Wa.prototype).add=function(t,e){pr(this),this.i=null,t=s3(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},A.forEach=function(t,e){pr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},A.ta=function(){pr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},A.Z=function(t){pr(this);let e=[];if("string"==typeof t)$O(this,t)&&(e=e.concat(this.g.get(s3(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},A.set=function(t,e){return pr(this),this.i=null,$O(this,t=s3(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},A.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},A.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var qAe=10;function WO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function KO(t){return t.h?1:t.g?t.g.size:0}function cv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ov(t,e){t.g?t.g.add(e):t.h=e}function QO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function YO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ag(t.i)}qO.prototype.cancel=function(){if(this.i=YO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var WAe=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function KAe(){this.g=new WAe}function QAe(t,e,n){const r=n||"";try{OO(t,function(i,s){let a=i;Da(i)&&(a=Yg(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function I8(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ka(t){this.l=t.fc||null,this.j=t.ob||!1}function E8(t,e){O2.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}R2(Ka,ev),Ka.prototype.g=function(){return new E8(this.l,this.j)},Ka.prototype.i=function(t){return function(){return t}}({}),R2(E8,O2);var lv=0;function XO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Qa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ya(t)}function Ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(A=E8.prototype).open=function(t,e){if(this.readyState!=lv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ya(this)},A.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},A.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qa(this)),this.readyState=lv},A.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},A.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qa(this):Ya(this),3==this.readyState&&XO(this)}},A.Za=function(t){this.g&&(this.response=this.responseText=t,Qa(this))},A.Ya=function(t){this.g&&(this.response=t,Qa(this))},A.ka=function(){this.g&&Qa(this)},A.setRequestHeader=function(t,e){this.v.append(t,e)},A.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},A.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(E8.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var XAe=ne.JSON.parse;function t2(t){O2.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JO,this.L=this.M=!1}R2(t2,O2);var JO="",JAe=/^https?$/i,ZAe=["POST","PUT"];function ZO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eF(t),L8(t)}function eF(t){t.F||(t.F=!0,Y2(t,"complete"),Y2(t,"error"))}function tF(t){if(t.h&&typeof Lg<"u"&&(!t.C[1]||4!=Y1(t)||2!=t.da()))if(t.v&&4==Y1(t))Zg(t.La,0,t);else if(Y2(t,"readystatechange"),4==Y1(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(FO)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!JAe.test(i?i.toLowerCase():"")}n=r}if(n)Y2(t,"complete"),Y2(t,"success");else{t.m=6;try{var s=2<Y1(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",eF(t)}}finally{L8(t)}}}function L8(t,e){if(t.g){nF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Y2(t,"ready");try{n.onreadystatechange=r}catch{}}}function nF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function Y1(t){return t.g?t.g.readyState:0}function rF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iF(t){let e="";return Bg(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function uv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Te(t,e,n))}function Xa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sF(t){this.Ga=0,this.j=[],this.l=new C8,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xa("baseRetryDelayMs",5e3,t),this.hb=Xa("retryDelaySeedMs",1e4,t),this.eb=Xa("forwardChannelMaxRetries",2,t),this.xa=Xa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qO(t&&t.concurrentRequestLimit),this.Ja=new KAe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fv(t){if(aF(t),3==t.H){var e=t.W++,n=Dn(t.I);if(Te(n,"SID",t.K),Te(n,"RID",e),Te(n,"TYPE","terminate"),Ja(t,n),(e=new Ua(t,t.l,e)).L=2,e.v=x8(Dn(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=mF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ja(e)}hF(t)}function D8(t){t.g&&(hv(t),t.g.cancel(),t.g=null)}function aF(t){D8(t),t.u&&(ne.clearTimeout(t.u),t.u=null),T8(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function A8(t){if(!WO(t.i)&&!t.m){t.m=!0;var e=t.Na;ka||wO(),Pa||(ka(),Pa=!0),Xg.add(e,t),t.C=0}}function cF(t,e){var n;n=e?e.m:t.W++;const r=Dn(t.I);Te(r,"SID",t.K),Te(r,"RID",n),Te(r,"AID",t.V),Ja(t,r),t.o&&t.s&&uv(r,t.o,t.s),n=new Ua(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=oF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ov(t.i,n),sv(n,r,e)}function Ja(t,e){t.na&&Bg(t.na,function(n,r){Te(e,r,n)}),t.h&&OO({},function(n,r){Te(e,r,n)})}function oF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ct(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];-1==s?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let o=0;o<n;o++){let l=i[o].g;const u=i[o].map;if(l-=s,0>l)s=Math.max(0,i[o].g-100),c=!1;else try{QAe(u,a,"req"+l+"_")}catch{r&&r(u)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function lF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ka||wO(),Pa||(ka(),Pa=!0),Xg.add(e,t),t.A=0}}function dv(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Fa(ct(t.Ma,t),dF(t,t.A)),t.A++,0))}function hv(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function uF(t){t.g=new Ua(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Dn(t.wa);Te(e,"RID","rpc"),Te(e,"SID",t.K),Te(e,"AID",t.V),Te(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Te(e,"TO",t.qa),Te(e,"TYPE","xmlhttp"),Ja(t,e),t.o&&t.s&&uv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=x8(Dn(e)),n.s=null,n.S=!0,NO(n,t)}function T8(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function fF(t,e){var n=null;if(t.g==e){T8(t),hv(t),t.g=null;var r=2}else{if(!cv(t.i,e))return;n=e.F,QO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Y2(r=M8(),new EO(r,n)),A8(t)}else lF(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function nTe(t,e){return!(KO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Fa(ct(t.Na,t,e),dF(t,t.C)),t.C++,0)))}(t,e)||2==r&&dv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:C4(t,5);break;case 4:C4(t,10);break;case 3:C4(t,6);break;default:C4(t,2)}}function dF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function C4(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ct(t.pb,t);n||(n=new _4("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||z8(n,"https"),x8(n)),function YAe(t,e){const n=new C8;if(ne.Image){const r=new Image;r.onload=p8(I8,n,r,"TestLoadImage: loaded",!0,e),r.onerror=p8(I8,n,r,"TestLoadImage: error",!1,e),r.onabort=p8(I8,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=p8(I8,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ht(2);t.H=0,t.h&&t.h.za(e),hF(t),aF(t)}function hF(t){if(t.H=0,t.ma=[],t.h){const e=YO(t.i);(0!=e.length||0!=t.j.length)&&(oO(t.ma,e),oO(t.ma,t.j),t.i.i.length=0,Ag(t.j),t.j.length=0),t.h.ya()}}function pF(t,e,n){var r=n instanceof _4?Dn(n):new _4(n);if(""!=r.g)e&&(r.g=e+"."+r.g),S8(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _4(null);r&&z8(s,r),e&&(s.g=e),i&&S8(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Te(r,n,e),Te(r,"VER",t.ra),Ja(t,r),r}function mF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new t2(n&&t.Ha&&!t.va?new Ka({ob:!0}):t.va)).Oa(t.J),e}function gF(){}function N8(){if(r3&&!(10<=Number(mAe)))throw Error("Environmental error: no available transport.")}function Qt(t,e){O2.call(this),this.g=new sF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Aa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Aa(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new a3(this)}function vF(t){tv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function yF(){nv.call(this),this.status=1}function a3(t){this.g=t}function H1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pv(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],a=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=n+((a=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(A=t2.prototype).Oa=function(t){this.M=t},A.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rv.g(),this.C=function DO(t){return t.h||(t.h=t.i())}(this.u?this.u:rv),this.g.onreadystatechange=ct(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void ZO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ne.FormData&&t instanceof ne.FormData,!(0<=cO(ZAe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nF(this),0<this.B&&((this.L=function eTe(t){return r3&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ct(this.ua,this)):this.A=Zg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ZO(this,s)}},A.ua=function(){typeof Lg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Y2(this,"timeout"),this.abort(8))},A.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Y2(this,"complete"),Y2(this,"abort"),L8(this))},A.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),L8(this,!0)),t2.$.N.call(this)},A.La=function(){this.s||(this.G||this.v||this.l?tF(this):this.kb())},A.kb=function(){tF(this)},A.isActive=function(){return!!this.g},A.da=function(){try{return 2<Y1(this)?this.g.status:-1}catch{return-1}},A.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},A.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),XAe(e)}},A.Ia=function(){return this.m},A.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(A=sF.prototype).ra=8,A.H=1,A.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ua(this,this.l,t);let s=this.s;if(this.U&&(s?(s=hO(s),mO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oF(this,i,e),Te(n=Dn(this.I),"RID",t),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),Ja(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(iF(s)))+"&"+e:this.o&&uv(n,this.o,s)),ov(this.i,i),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",e),Te(n,"SID","null"),i.aa=!0,sv(i,n,null)):sv(i,n,e),this.H=2}}else 3==this.H&&(t?cF(this,t):0==this.j.length||WO(this.i)||cF(this))},A.Ma=function(){if(this.u=null,uF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fa(ct(this.jb,this),t)}},A.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ht(10),D8(this),uF(this))},A.ib=function(){null!=this.v&&(this.v=null,D8(this),dv(this),Ht(19))},A.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ht(2)):(this.l.info("Failed to ping google.com"),Ht(1))},A.isActive=function(){return!!this.h&&this.h.isActive(this)},(A=gF.prototype).Ba=function(){},A.Aa=function(){},A.za=function(){},A.ya=function(){},A.isActive=function(){return!0},A.Va=function(){},N8.prototype.g=function(t,e){return new Qt(t,e)},R2(Qt,O2),Qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ht(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pF(t,null,t.Y),A8(t)},Qt.prototype.close=function(){fv(this.g)},Qt.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Yg(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&A8(e)},Qt.prototype.N=function(){this.g.h=null,delete this.j,fv(this.g),delete this.g,Qt.$.N.call(this)},R2(vF,tv),R2(yF,nv),R2(a3,gF),a3.prototype.Ba=function(){Y2(this.g,"a")},a3.prototype.Aa=function(t){Y2(this.g,new vF(t))},a3.prototype.za=function(t){Y2(this.g,new yF)},a3.prototype.ya=function(){Y2(this.g,"b")},R2(H1,function rTe(){this.blockSize=-1}),H1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},H1.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)pv(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){pv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){pv(this,r),i=0;break}}this.h=i,this.i+=e},H1.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var iTe={};function mv(t){return-128<=t&&128>t?function dAe(t,e){var n=iTe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ve([0|e],0>e?-1:0)}):new Ve([0|t],0>t?-1:0)}function X1(t){if(isNaN(t)||!isFinite(t))return c3;if(0>t)return X2(X1(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=gv;return new Ve(e,0)}var gv=4294967296,c3=mv(0),vv=mv(1),CF=mv(16777216);function An(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function l1(t){return-1==t.h}function X2(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(vv)}function k8(t,e){return t.add(X2(e))}function P8(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Za(t,e){this.g=t,this.h=e}function R8(t,e){if(An(e))throw Error("division by zero");if(An(t))return new Za(c3,c3);if(l1(t))return e=R8(X2(t),e),new Za(X2(e.g),X2(e.h));if(l1(e))return e=R8(t,X2(e)),new Za(X2(e.g),e.h);if(30<t.g.length){if(l1(t)||l1(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vv,r=e;0>=r.X(t);)n=MF(n),r=MF(r);var i=o3(n,1),s=o3(r,1);for(r=o3(r,2),n=o3(n,2);!An(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=o3(r,1),n=o3(n,1)}return e=k8(t,i.R(e)),new Za(i,e)}for(i=c3;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=X1(n)).R(e);l1(a)||0<a.X(t);)a=(s=X1(n-=r)).R(e);An(s)&&(s=vv),i=i.add(s),t=k8(t,a)}return new Za(i,t)}function MF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function o3(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ve(i,t.h)}(A=Ve.prototype).ea=function(){if(l1(this))return-X2(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:gv+r)*e,e*=gv}return t},A.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(An(this))return"0";if(l1(this))return"-"+X2(this).toString(t);for(var e=X1(Math.pow(t,6)),n=this,r="";;){var i=R8(n,e).g,s=((0<(n=k8(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(An(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},A.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},A.X=function(t){return l1(t=k8(this,t))?-1:An(t)?0:1},A.abs=function(){return l1(this)?X2(this):this},A.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,n[i]=(a&=65535)<<16|(s&=65535)}return new Ve(n,-2147483648&n[n.length-1]?-1:0)},A.R=function(t){if(An(this)||An(t))return c3;if(l1(this))return l1(t)?X2(this).R(X2(t)):X2(X2(this).R(t));if(l1(t))return X2(this.R(X2(t)));if(0>this.X(CF)&&0>t.X(CF))return X1(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),c=t.D(i)>>>16,o=65535&t.D(i);n[2*r+2*i]+=a*o,P8(n,2*r+2*i),n[2*r+2*i+1]+=s*o,P8(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,P8(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,P8(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)},A.gb=function(t){return R8(this,t).h},A.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)},A.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)},A.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)},N8.prototype.createWebChannel=N8.prototype.g,Qt.prototype.send=Qt.prototype.u,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,w8.NO_ERROR=0,w8.TIMEOUT=8,w8.HTTP_ERROR=6,LO.COMPLETE="complete",AO.EventType=Ba,Ba.OPEN="a",Ba.CLOSE="b",Ba.ERROR="c",Ba.MESSAGE="d",O2.prototype.listen=O2.prototype.O,t2.prototype.listenOnce=t2.prototype.P,t2.prototype.getLastError=t2.prototype.Sa,t2.prototype.getLastErrorCode=t2.prototype.Ia,t2.prototype.getStatus=t2.prototype.da,t2.prototype.getResponseJson=t2.prototype.Wa,t2.prototype.getResponseText=t2.prototype.ja,t2.prototype.send=t2.prototype.ha,t2.prototype.setWithCredentials=t2.prototype.Oa,H1.prototype.digest=H1.prototype.l,H1.prototype.reset=H1.prototype.reset,H1.prototype.update=H1.prototype.j,Ve.prototype.add=Ve.prototype.add,Ve.prototype.multiply=Ve.prototype.R,Ve.prototype.modulo=Ve.prototype.gb,Ve.prototype.compare=Ve.prototype.X,Ve.prototype.toNumber=Ve.prototype.ea,Ve.prototype.toString=Ve.prototype.toString,Ve.prototype.getBits=Ve.prototype.D,Ve.fromNumber=X1,Ve.fromString=function _F(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return X2(_F(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=X1(Math.pow(e,8)),r=c3,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=X1(Math.pow(e,s)),r=r.R(s).add(X1(a))):r=(r=r.R(n)).add(X1(a))}return r};var sTe=V1.createWebChannelTransport=function(){return new N8},aTe=V1.getStatEventTarget=function(){return M8()},yv=V1.ErrorCode=w8,cTe=V1.EventType=LO,oTe=V1.Event=v4,wF=V1.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lTe=V1.FetchXmlHttpFactory=Ka,O8=V1.WebChannel=AO,uTe=V1.XhrIo=t2,fTe=V1.Md5=H1,l3=V1.Integer=Ve;const VF="@firebase/firestore";class F2{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}F2.UNAUTHENTICATED=new F2(null),F2.GOOGLE_CREDENTIALS=new F2("google-credentials-uid"),F2.FIRST_PARTY=new F2("first-party-uid"),F2.MOCK_USER=new F2("mock-user");let u3="9.23.0";const mr=new Fi("@firebase/firestore");function _v(){return mr.logLevel}function b(t,...e){if(mr.logLevel<=ge.DEBUG){const n=e.map(Cv);mr.debug(`Firestore (${u3}): ${t}`,...n)}}function u2(t,...e){if(mr.logLevel<=ge.ERROR){const n=e.map(Cv);mr.error(`Firestore (${u3}): ${t}`,...n)}}function b1(t,...e){if(mr.logLevel<=ge.WARN){const n=e.map(Cv);mr.warn(`Firestore (${u3}): ${t}`,...n)}}function Cv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${u3}) INTERNAL ASSERTION FAILED: `+t;throw u2(e),new Error(e)}function B(t,e){t||k()}function D(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends c1{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class x2{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class HF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dTe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(F2.UNAUTHENTICATED))}shutdown(){}}class hTe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pTe{constructor(e){this.t=e,this.currentUser=F2.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let a=new x2;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new x2,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const l=a;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},o=l=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new x2)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new HF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new F2(e)}}class mTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=F2.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new mTe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(F2.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vTe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.T=n.token,new bF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yTe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class zF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=yTe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function f3(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Qe(0,0))}static max(){return new j(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ec{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ec.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends ec{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const _Te=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class f2 extends ec{construct(e,n,r){return new f2(e,n,r)}static isValidIdentifier(e){return _Te.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),f2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new f2(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new H(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if("\\"===c){if(i+1===e.length)throw new H(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[i+1];if("\\"!==o&&"."!==o&&"`"!==o)throw new H(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,i+=2}else"`"===c?(a=!a,i++):"."!==c||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new H(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new f2(n)}static emptyPath(){return new f2([])}}class E{constructor(e){this.path=e}static fromPath(e){return new E(pe.fromString(e))}static fromName(e){return new E(pe.fromString(e).popFirst(5))}static empty(){return new E(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new E(new pe(e.slice()))}}function IF(t){return new Yt(t.readTime,t.key,-1)}class Yt{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yt(j.min(),E.empty(),-1)}static max(){return new Yt(j.max(),E.empty(),-1)}}function wv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=E.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}const EF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wTe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gr(t){return Vv.apply(this,arguments)}function Vv(){return Vv=m(function*(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==EF)throw t;b("LocalStore","Unexpectedly lost primary lease")}),Vv.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},o=>r(o))}),a=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let o=0;o<s;o++){const l=o;n(e[l]).next(u=>{a[l]=u,++c,c===s&&r(a)},u=>i(u))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function vr(t){return"IndexedDbTransactionError"===t.name}let Xt=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function rc(t){return null==t}function ic(t){return 0===t&&1/t==-1/0}function OF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Le{constructor(e,n){this.comparator=e,this.root=n||J2.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,J2.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,J2.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $8(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $8(this.root,e,this.comparator,!1)}getReverseIterator(){return new $8(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $8(this.root,e,this.comparator,!0)}}class $8{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class J2{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??J2.RED,this.left=i??J2.EMPTY,this.right=s??J2.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new J2(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return J2.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return J2.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,J2.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,J2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}J2.EMPTY=null,J2.RED=!0,J2.BLACK=!1,J2.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,e,n,r,i){return this}insert(t,e,n){return new J2(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ne{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BF(this.data.getIterator())}getIteratorFrom(e){return new BF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ne(this.comparator);return n.data=e,n}}class BF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ot{constructor(e){this.fields=e,e.sort(f2.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new Ne(f2.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return f3(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class UF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class I2{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UF("Invalid base64 string: "+i):i}}(e);return new I2(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new I2(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}I2.EMPTY_BYTE_STRING=new I2("");const GTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(B(!!t),"string"==typeof t){let e=0;const n=GTe.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:n2(t.seconds),nanos:n2(t.nanos)}}function n2(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Tn(t){return"string"==typeof t?I2.fromBase64String(t):I2.fromUint8Array(t)}function G8(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function q8(t){const e=t.mapValue.fields.__previous_value__;return G8(e)?q8(e):e}function sc(t){const e=_r(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class qTe{constructor(e,n,r,i,s,a,c,o,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=o,this.useFetchStreams=l}}class V4{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new V4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof V4&&e.projectId===this.projectId&&e.database===this.database}}const Cr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G8(t)?4:qF(t)?9007199254740991:10:k()}function Z1(t,e){if(t===e)return!0;const n=Mr(t);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=_r(r.timestampValue),a=_r(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Tn(t.bytesValue).isEqual(Tn(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return n2(r.geoPointValue.latitude)===n2(i.geoPointValue.latitude)&&n2(r.geoPointValue.longitude)===n2(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return n2(r.integerValue)===n2(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=n2(r.doubleValue),a=n2(i.doubleValue);return s===a?ic(s)===ic(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return f3(t.arrayValue.values||[],e.arrayValue.values||[],Z1);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(OF(s)!==OF(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Z1(s[c],a[c])))return!1;return!0}(t,e);default:return k()}var i}function ac(t,e){return void 0!==(t.values||[]).find(n=>Z1(n,e))}function wr(t,e){if(t===e)return 0;const n=Mr(t),r=Mr(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=n2(i.integerValue||i.doubleValue),c=n2(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return jF(t.timestampValue,e.timestampValue);case 4:return jF(sc(t),sc(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,s){const a=Tn(i),c=Tn(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),c=s.split("/");for(let o=0;o<a.length&&o<c.length;o++){const l=X(a[o],c[o]);if(0!==l)return l}return X(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=X(n2(i.latitude),n2(s.latitude));return 0!==a?a:X(n2(i.longitude),n2(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],c=s.values||[];for(let o=0;o<a.length&&o<c.length;++o){const l=wr(a[o],c[o]);if(l)return l}return X(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cr.mapValue&&s===Cr.mapValue)return 0;if(i===Cr.mapValue)return 1;if(s===Cr.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),o=s.fields||{},l=Object.keys(o);c.sort(),l.sort();for(let u=0;u<c.length&&u<l.length;++u){const f=X(c[u],l[u]);if(0!==f)return f;const d=wr(a[c[u]],o[l[u]]);if(0!==d)return d}return X(c.length,l.length)}(t.mapValue,e.mapValue);default:throw k()}}function jF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=_r(t),r=_r(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function h3(t){return zv(t)}function zv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=_r(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Tn(t.bytesValue).toBase64():"referenceValue"in t?E.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const a of r.values||[])s?s=!1:i+=",",i+=zv(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const c of i)a?a=!1:s+=",",s+=`${c}:${zv(r.fields[c])}`;return s+"}"}(t.mapValue):k();var e}function H4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sv(t){return!!t&&"integerValue"in t}function cc(t){return!!t&&"arrayValue"in t}function $F(t){return!!t&&"nullValue"in t}function GF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Q8(t){return!!t&&"mapValue"in t}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Z2{constructor(e){this.value=e}static empty(){return new Z2({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Q8(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=f2.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const o=this.getFieldsMap(n);this.applyChanges(o,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=oc(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Q8(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Z1(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Q8(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Z2(oc(this.value))}}function QF(t){const e=[];return yr(t.fields,(n,r)=>{const i=new f2([n]);if(Q8(r)){const s=QF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ot(e)}class ke{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new ke(e,0,j.min(),j.min(),j.min(),Z2.empty(),0)}static newFoundDocument(e,n,r,i){return new ke(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new ke(e,2,n,j.min(),j.min(),Z2.empty(),0)}static newUnknownDocument(e,n){return new ke(e,3,n,j.min(),j.min(),Z2.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Z2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Z2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vr{constructor(e,n){this.position=e,this.inclusive=n}}function YF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(r=s.field.isKeyField()?E.comparator(E.fromName(a.referenceValue),n.key):wr(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function XF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Z1(t.position[n],e.position[n]))return!1;return!0}class p3{constructor(e,n="asc"){this.field=e,this.dir=n}}function QTe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class JF{}class oe extends JF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new YTe(e,n,r):"array-contains"===n?new ZTe(e,r):"in"===n?new iB(e,r):"not-in"===n?new eNe(e,r):"array-contains-any"===n?new tNe(e,r):new oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new XTe(e,r):new JTe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(wr(n,this.value)):null!==n&&Mr(this.value)===Mr(n)&&this.matchesComparison(wr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class He extends JF{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new He(e,n)}matches(e){return m3(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function m3(t){return"and"===t.op}function Iv(t){return function ZF(t){for(const e of t.filters)if(e instanceof He)return!1;return!0}(t)&&m3(t)}function Ev(t){if(t instanceof oe)return t.field.canonicalString()+t.op.toString()+h3(t.value);if(Iv(t))return t.filters.map(e=>Ev(e)).join(",");{const e=t.filters.map(n=>Ev(n)).join(",");return`${t.op}(${e})`}}function eB(t,e){return t instanceof oe?(n=t,(r=e)instanceof oe&&n.op===r.op&&n.field.isEqual(r.field)&&Z1(n.value,r.value)):t instanceof He?function(n,r){return r instanceof He&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,a)=>i&&eB(s,r.filters[a]),!0)}(t,e):void k();var n,r}function nB(t){return t instanceof oe?`${(e=t).field.canonicalString()} ${e.op} ${h3(e.value)}`:t instanceof He?function(e){return e.op.toString()+" {"+e.getFilters().map(nB).join(" ,")+"}"}(t):"Filter";var e}class YTe extends oe{constructor(e,n,r){super(e,n,r),this.key=E.fromName(r.referenceValue)}matches(e){const n=E.comparator(e.key,this.key);return this.matchesComparison(n)}}class XTe extends oe{constructor(e,n){super(e,"in",n),this.keys=rB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JTe extends oe{constructor(e,n){super(e,"not-in",n),this.keys=rB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>E.fromName(r.referenceValue))}class ZTe extends oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cc(n)&&ac(n.arrayValue,this.value)}}class iB extends oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ac(this.value.arrayValue,n)}}class eNe extends oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ac(this.value.arrayValue,n)}}class tNe extends oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}class nNe{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.dt=null}}function Lv(t,e=null,n=[],r=[],i=null,s=null,a=null){return new nNe(t,e,n,r,i,s,a)}function b4(t){const e=D(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ev(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),rc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>h3(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>h3(r)).join(",")),e.dt=n}return e.dt}function lc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QTe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XF(t.startAt,e.startAt)&&XF(t.endAt,e.endAt)}function Y8(t){return E.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Nn{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=o,this.wt=null,this._t=null}}function g3(t){return new Nn(t)}function oB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Dv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function J8(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Av(t){return null!==t.collectionGroup}function z4(t){const e=D(t);if(null===e.wt){e.wt=[];const n=J8(e),r=Dv(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new p3(n)),e.wt.push(new p3(f2.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new p3(f2.keyField(),s))}}}return e.wt}function bt(t){const e=D(t);if(!e._t)if("F"===e.limitType)e._t=Lv(e.path,e.collectionGroup,z4(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of z4(e))n.push(new p3(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Vr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Vr(e.startAt.position,e.startAt.inclusive):null;e._t=Lv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Tv(t,e){e.getFirstInequalityField(),J8(t);const n=t.filters.concat([e]);return new Nn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Z8(t,e,n){return new Nn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uc(t,e){return lc(bt(t),bt(e))&&t.limitType===e.limitType}function lB(t){return`${b4(bt(t))}|lt:${t.limitType}`}function Nv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>nB(r)).join(", ")}]`),rc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>h3(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>h3(r)).join(",")),`Target(${n})`}(bt(t))}; limitType=${t.limitType})`}function fc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):E.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of z4(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,a){const c=YF(i,s,a);return i.inclusive?c<=0:c<0}(n.startAt,z4(n),r)||n.endAt&&!function(i,s,a){const c=YF(i,s,a);return i.inclusive?c>=0:c>0}(n.endAt,z4(n),r)));var n,r}function fB(t){return(e,n)=>{let r=!1;for(const i of z4(t)){const s=rNe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function rNe(t,e,n){const r=t.field.isKeyField()?E.comparator(e.key,n.key):function(i,s,a){const c=s.data.field(i),o=a.data.field(i);return null!==c&&null!==o?wr(c,o):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class kn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FF(this.inner)}size(){return this.innerSize}}const iNe=new Le(E.comparator);function Ft(){return iNe}const dB=new Le(E.comparator);function dc(...t){let e=dB;for(const n of t)e=e.insert(n.key,n);return e}function hB(t){let e=dB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function en(){return hc()}function pB(){return hc()}function hc(){return new kn(t=>t.toString(),(t,e)=>t.isEqual(e))}const sNe=new Le(E.comparator),aNe=new Ne(E.comparator);function se(...t){let e=aNe;for(const n of t)e=e.add(n);return e}const cNe=new Ne(X);function mB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function gB(t){return{integerValue:""+t}}function vB(t,e){return function DF(t){return"number"==typeof t&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?gB(e):mB(t,e)}class el{constructor(){this._=void 0}}function oNe(t,e,n){return t instanceof v3?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&G8(i)&&(i=q8(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof S4?_B(t,e):t instanceof x4?CB(t,e):function(r,i){const s=yB(r,i),a=MB(s)+MB(r.gt);return Sv(s)&&Sv(r.gt)?gB(a):mB(r.serializer,a)}(t,e)}function lNe(t,e,n){return t instanceof S4?_B(t,e):t instanceof x4?CB(t,e):n}function yB(t,e){return t instanceof y3?Sv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class v3 extends el{}class S4 extends el{constructor(e){super(),this.elements=e}}function _B(t,e){const n=wB(e);for(const r of t.elements)n.some(i=>Z1(i,r))||n.push(r);return{arrayValue:{values:n}}}class x4 extends el{constructor(e){super(),this.elements=e}}function CB(t,e){let n=wB(e);for(const r of t.elements)n=n.filter(i=>!Z1(i,r));return{arrayValue:{values:n}}}class y3 extends el{constructor(e,n){super(),this.serializer=e,this.gt=n}}function MB(t){return n2(t.integerValue||t.doubleValue)}function wB(t){return cc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class fNe{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class nl{}function VB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new C3(t.key,je.none()):new _3(t.key,t.data,je.none());{const n=t.data,r=Z2.empty();let i=new Ne(f2.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);null===a&&s.length>1&&(s=s.popLast(),a=n.field(s)),null===a?r.delete(s):r.set(s,a),i=i.add(s)}return new Pn(t.key,r,new Ot(i.toArray()),je.none())}}function dNe(t,e,n){t instanceof _3?function(r,i,s){const a=r.value.clone(),c=zB(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pn?function(r,i,s){if(!tl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=zB(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(bB(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function mc(t,e,n,r){return t instanceof _3?function(i,s,a,c){if(!tl(i.precondition,s))return a;const o=i.value.clone(),l=SB(i.fieldTransforms,c,s);return o.setAll(l),s.convertToFoundDocument(s.version,o).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pn?function(i,s,a,c){if(!tl(i.precondition,s))return a;const o=SB(i.fieldTransforms,c,s),l=s.data;return l.setAll(bB(i)),l.setAll(o),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(a=n,tl(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function hNe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yB(r.transform,i||null);null!=s&&(null===n&&(n=Z2.empty()),n.set(r.field,s))}return n||null}function HB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&f3(n,r,(i,s)=>function uNe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof S4&&r instanceof S4||n instanceof x4&&r instanceof x4?f3(n.elements,r.elements,Z1):n instanceof y3&&r instanceof y3?Z1(n.gt,r.gt):n instanceof v3&&r instanceof v3);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class _3 extends nl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pn extends nl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zB(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,lNe(a,c,n[i]))}return r}function SB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,oNe(s,a,e))}return r}class C3 extends nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pv extends nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dNe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pB();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const o=VB(a,c);null!==o&&r.set(i.key,o),a.isValidDocument()||a.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&f3(this.mutations,e.mutations,(n,r)=>HB(n,r))&&f3(this.baseMutations,e.baseMutations,(n,r)=>HB(n,r))}}class Ov{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=sNe;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Ov(e,n,r,i)}}class Fv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mNe{constructor(e,n){this.count=e,this.unchangedNames=n}}var v2,me;function IB(t){if(void 0===t)return u2("GRPC error has no .code"),M.UNKNOWN;switch(t){case v2.OK:return M.OK;case v2.CANCELLED:return M.CANCELLED;case v2.UNKNOWN:return M.UNKNOWN;case v2.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case v2.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case v2.INTERNAL:return M.INTERNAL;case v2.UNAVAILABLE:return M.UNAVAILABLE;case v2.UNAUTHENTICATED:return M.UNAUTHENTICATED;case v2.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case v2.NOT_FOUND:return M.NOT_FOUND;case v2.ALREADY_EXISTS:return M.ALREADY_EXISTS;case v2.PERMISSION_DENIED:return M.PERMISSION_DENIED;case v2.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case v2.ABORTED:return M.ABORTED;case v2.OUT_OF_RANGE:return M.OUT_OF_RANGE;case v2.UNIMPLEMENTED:return M.UNIMPLEMENTED;case v2.DATA_LOSS:return M.DATA_LOSS;default:return k()}}(me=v2||(v2={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class Bv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rl}static getOrCreateInstance(){return null===rl&&(rl=new Bv),rl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let rl=null;const gNe=new l3([4294967295,4294967295],0);function LB(t){const e=function EB(){return new TextEncoder}().encode(t),n=new fTe;return n.update(e),new Uint8Array(n.digest())}function DB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new l3([n,r],0),new l3([i,s],0)]}class Uv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gc(`Invalid padding: ${n}`);if(r<0)throw new gc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new gc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new gc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=l3.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(l3.fromNumber(r)));return 1===i.compare(gNe)&&(i=new l3([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=LB(e),[r,i]=DB(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);if(!this.At(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Uv(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(0===this.It)return;const n=LB(e),[r,i]=DB(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);this.Rt(a)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vc(j.min(),i,new Le(X),Ft(),se())}}class yc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yc(r,n,se(),se(),se())}}class il{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class AB{constructor(e,n){this.targetId=e,this.Vt=n}}class TB{constructor(e,n,r=I2.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NB{constructor(){this.St=0,this.Dt=PB(),this.Ct=I2.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new yc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=PB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vNe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ft(),this.zt=kB(),this.Wt=new Le(X)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const a=s.target;if(Y8(a))if(0===i){const c=new E(a.path);this.Yt(r,c,ke.newNoDocument(c,j.min()))}else B(1===i);else{const c=this.ie(r);if(c!==i){const o=this.re(e,c);0!==o&&(this.ee(r),this.Wt=this.Wt.insert(r,2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Bv.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,g,v,C;const y={localCacheCount:u,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(y.bloomFilter={applied:0===l,hashCount:null!==(d=w?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(g=null===(p=null===(h=w?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(C=null===(v=w?.bits)||void 0===v?void 0:v.padding)&&void 0!==C?C:0}),y}(o,c,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=r;let o,l;try{o=Tn(s).toUint8Array()}catch(u){if(u instanceof UF)return b1("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new Uv(o,a,c)}catch(u){return b1(u instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const a=this.Gt.ue(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(c)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,a)=>{const c=this.se(a);if(c){if(s.current&&Y8(c.target)){const o=new E(c.target.path);null!==this.jt.get(o)||this.ae(a,o)||this.Yt(a,o,ke.newNoDocument(o,e))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let r=se();this.zt.forEach((s,a)=>{let c=!0;a.forEachWhile(o=>{const l=this.se(o);return!l||"TargetPurposeLimboResolution"===l.purpose||(c=!1,!1)}),c&&(r=r.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const i=new vc(e,n,this.Wt,this.jt,r);return this.jt=Ft(),this.zt=kB(),this.Wt=new Le(X),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new NB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ne(X),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new NB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function kB(){return new Le(E.comparator)}function PB(){return new Le(E.comparator)}const yNe={asc:"ASCENDING",desc:"DESCENDING"},_Ne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CNe={and:"AND",or:"OR"};class MNe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jv(t,e){return t.useProto3Json||rc(e)?e:{value:e}}function M3(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wNe(t,e){return M3(t,e.toTimestamp())}function d2(t){return B(!!t),j.fromTimestamp(function(e){const n=_r(e);return new Qe(n.seconds,n.nanos)}(t))}function $v(t,e){return(n=t,new pe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function OB(t){const e=pe.fromString(t);return B(KB(e)),e}function _c(t,e){return $v(t.databaseId,e.path)}function tn(t,e){const n=OB(e);if(n.get(1)!==t.databaseId.projectId)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new E(BB(n))}function Gv(t,e){return $v(t.databaseId,e)}function Cc(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BB(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function UB(t,e,n){return{name:_c(t,e),fields:n.value.mapValue.fields}}function $B(t,e){return{documents:[Gv(t,e.path)]}}function Wv(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Gv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(o){if(0!==o.length)return WB(He.create(o,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(o){if(0!==o.length)return o.map(l=>{return{field:Hr((u=l).field),direction:SNe(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=jv(t,e.limit);var c,o;return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt={before:!(o=e.endAt).inclusive,values:o.position}),n}function GB(t){let e=function FB(t){const e=OB(t);return 4===e.length?pe.emptyPath():BB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const f=qB(u);return f instanceof He&&Iv(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(u=>{return new p3(w3((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let c=null;n.limit&&(c=function(u){let f;return f="object"==typeof u?u.value:u,rc(f)?null:f}(n.limit));let o=null;var u;n.startAt&&(o=new Vr((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new Vr(u.values||[],!u.before)}(n.endAt)),function cB(t,e,n,r,i,s,a,c){return new Nn(t,e,n,r,i,s,a,c)}(e,i,a,s,c,"F",o,l)}function qB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=w3(e.unaryFilter.field);return oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=w3(e.unaryFilter.field);return oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=w3(e.unaryFilter.field);return oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=w3(e.unaryFilter.field);return oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?oe.create(w3((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return He.create(e.compositeFilter.filters.map(n=>qB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(t):k();var e}function SNe(t){return yNe[t]}function xNe(t){return _Ne[t]}function INe(t){return CNe[t]}function Hr(t){return{fieldPath:t.canonicalString()}}function w3(t){return f2.fromServerFormat(t.fieldPath)}function WB(t){return t instanceof oe?function(e){if("=="===e.op){if(GF(e.value))return{unaryFilter:{field:Hr(e.field),op:"IS_NAN"}};if($F(e.value))return{unaryFilter:{field:Hr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(GF(e.value))return{unaryFilter:{field:Hr(e.field),op:"IS_NOT_NAN"}};if($F(e.value))return{unaryFilter:{field:Hr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(e.field),op:xNe(e.op),value:e.value}}}(t):t instanceof He?function(e){const n=e.getFilters().map(r=>WB(r));return 1===n.length?n[0]:{compositeFilter:{op:INe(e.op),filters:n}}}(t):k()}function ENe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Rn{constructor(e,n,r,i,s=j.min(),a=j.min(),c=I2.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=o}withSequenceNumber(e){return new Rn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QB{constructor(e){this.fe=e}}function Kv(t){const e=GB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Z8(e,e.limit,"L"):e}class D4{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(n2(e.integerValue));else if("doubleValue"in e){const r=n2(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ic(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Tn(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?qF(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):k()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),E.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}D4.Ve=new D4;class ONe{constructor(){this.rn=new ey}addToCollectionParentIndex(e,n){return this.rn.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Yt.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Yt.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class ey{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ne(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ne(pe.comparator)).toArray()}}new Uint8Array(0);class ut{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ut(e,ut.DEFAULT_COLLECTION_PERCENTILE,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ut.DEFAULT_COLLECTION_PERCENTILE=10,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ut.DEFAULT=new ut(41943040,ut.DEFAULT_COLLECTION_PERCENTILE,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ut.DISABLED=new ut(-1,0,0);class T4{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new T4(0)}static Mn(){return new T4(-1)}}class GNe{constructor(){this.changes=new kn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KNe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class MU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&mc(r.mutation,i,Ot.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=en();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=dc();return s.forEach((c,o)=>{a=a.insert(c,o.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=en();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=Ft();const a=hc(),c=hc();return n.forEach((o,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof Pn)?s=s.insert(l.key,l):void 0!==u?(a.set(l.key,u.mutation.getFieldMask()),mc(u.mutation,l,u.mutation.getFieldMask(),Qe.now())):a.set(l.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,s).next(o=>(o.forEach((l,u)=>a.set(l,u)),n.forEach((l,u)=>{var f;return c.set(l,new KNe(u,null!==(f=a.get(l))&&void 0!==f?f:null))}),c))}recalculateAndSaveOverlays(e,n){const r=hc();let i=new Le((a,c)=>a-c),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(o=>{const l=n.get(o);if(null===l)return;let u=r.get(o)||Ot.empty();u=c.applyToLocalView(l,u),r.set(o,u);const f=(i.get(c.batchId)||se()).add(o);i=i.insert(c.batchId,f)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const o=c.getNext(),l=o.key,u=o.value,f=pB();u.forEach(d=>{if(!s.has(d)){const h=VB(n.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,f))}return _.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return E.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Av(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(en());let c=-1,o=s;return a.next(l=>_.forEach(l,(u,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),s.get(u)?_.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{o=o.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,o,l,se())).next(u=>({batchId:c,changes:hB(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new E(n)).next(r=>{let i=dc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=dc();return this.indexManager.getCollectionParents(e,i).next(a=>_.forEach(a,c=>{const o=(l=n,u=c.child(i),new Nn(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,o,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((c,o)=>{const l=o.getKey();null===s.get(l)&&(s=s.insert(l,ke.newInvalidDocument(l)))});let a=dc();return s.forEach((c,o)=>{const l=i.get(c);void 0!==l&&mc(l.mutation,o,Ot.empty(),Qe.now()),fc(n,o)&&(a=a.insert(c,o))}),a})}}class QNe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return _.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:d2(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Kv(r.bundledQuery),readTime:d2(r.readTime)}),_.resolve();var r}}class YNe{constructor(){this.overlays=new Le(E.comparator),this.ls=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=en();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=en(),s=n.length+1,a=new E(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const o=c.getNext().value,l=o.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&o.largestBatchId>r&&i.set(o.getKey(),o)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=en(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const c=en(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,u)=>c.set(l,u)),!(c.size()>=i)););return _.resolve(c)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Fv(n,r));let s=this.ls.get(n);void 0===s&&(s=se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class ty{constructor(){this.fs=new Ne(U2.ds),this.ws=new Ne(U2._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new U2(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new U2(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new E(new pe([])),r=new U2(n,e),i=new U2(n,e+1),s=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new E(new pe([])),r=new U2(n,e),i=new U2(n,e+1);let s=se();return this.ws.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new U2(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class U2{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return E.comparator(e.key,n.key)||X(e.As,n.As)}static _s(e,n){return X(e.As,n.As)||E.comparator(e.key,n.key)}}class XNe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ne(U2.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const a=new Rv(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.Rs=this.Rs.add(new U2(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return _.resolve(a)}lookupMutationBatch(e,n){return _.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new U2(n,0),i=new U2(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],a=>{const c=this.Ps(a.As);s.push(c)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(X);return n.forEach(i=>{const s=new U2(i,0),a=new U2(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],c=>{r=r.add(c.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;E.isDocumentKey(s)||(s=s.child(""));const a=new U2(new E(s),0);let c=new Ne(X);return this.Rs.forEachWhile(o=>{const l=o.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(o.As)),!0)},a),_.resolve(this.Vs(c))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(n.mutations,i=>{const s=new U2(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new U2(n,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JNe{constructor(e){this.Ds=e,this.docs=new Le(E.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():ke.newInvalidDocument(n))}getEntries(e,n){let r=Ft();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ke.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ft();const a=n.path,c=new E(a.child("")),o=this.docs.getIteratorFrom(c);for(;o.hasNext();){const{key:l,value:{document:u}}=o.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||wv(IF(u),r)<=0||(i.has(u.key)||fc(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Cs(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZNe(this)}getSize(e){return _.resolve(this.size)}}class ZNe extends GNe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class eke{constructor(e){this.persistence=e,this.xs=new kn(n=>b4(n),lc),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ty,this.targetCount=0,this.Ms=T4.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),_.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new T4(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Fn(n),_.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((a,c)=>{c.sequenceNumber<=n&&null===r.get(c.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.ks.containsKey(n))}}class ny{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xt(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new eke(this),this.indexManager=new ONe,this.remoteDocumentCache=new JNe(r=>this.referenceDelegate.Ls(r)),this.serializer=new QB(n),this.qs=new QNe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YNe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new XNe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new tke(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class tke extends wTe{constructor(e){super(),this.currentSequenceNumber=e}}class hl{constructor(e){this.persistence=e,this.Qs=new ty,this.js=null}static zs(e){return new hl(e)}get Ws(){if(this.js)return this.js;throw k()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),_.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=E.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return _.or([()=>_.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class ay{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ay(e,n.fromCache,r,i)}}class VU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(oB(n))return _.resolve(null);let r=bt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Z8(n,null,"F"),r=bt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=se(...s);return this.Ui.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(o=>{const l=this.ji(n,c);return this.zi(n,l,a,o.readTime)?this.Ki(e,Z8(n,null,"F")):this.Wi(e,l,n,o)}))})))}Gi(e,n,r,i){return oB(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const a=this.ji(n,s);return this.zi(n,a,r,i)?this.Qi(e,n):(_v()<=ge.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nv(n)),this.Wi(e,a,n,function xF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new Yt(i,E.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ne(fB(e));return n.forEach((i,s)=>{fc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return _v()<=ge.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Nv(n)),this.Ui.getDocumentsMatchingQuery(e,n,Yt.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}class rke{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Le(X),this.Yi=new kn(s=>b4(s),lc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function bU(t,e){return cy.apply(this,arguments)}function cy(){return cy=m(function*(t,e){const n=D(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let o=se();for(const l of i){a.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}for(const l of s){c.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(l=>({er:l,removedBatchIds:a,addedBatchIds:c}))})})}),cy.apply(this,arguments)}function zU(t){const e=D(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ake(t,e){const n=D(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z3(t,e,n){return oy.apply(this,arguments)}function oy(){return oy=m(function*(t,e,n){const r=D(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!vr(a))throw a;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),oy.apply(this,arguments)}function gl(t,e,n){const r=D(t);let i=j.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",a=>function(c,o,l){const u=D(c),f=u.Yi.get(l);return void 0!==f?_.resolve(u.Ji.get(f)):u.Bs.getTargetData(o,l)}(r,a,bt(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,c.targetId).next(o=>{s=o})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,e,n?i:j.min(),n?s:se())).next(c=>(function EU(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function uB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),c),{documents:c,ir:s})))}class hy{constructor(){this.activeTargetIds=function kv(){return cNe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AU{constructor(){this.Hr=new hy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new hy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lke{Yr(e){}shutdown(){}}class TU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _l=null;function my(){return null===_l?_l=268435456+Math.round(2147483648*Math.random()):_l++,"0x"+_l.toString(16)}const uke={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fke{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ft="WebChannelConnection";class dke extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const a=my(),c=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const o={};return this.Eo(o,i,s),this.Ao(e,c,o,r).then(l=>(b("RestConnection",`Received RPC '${e}' ${a}: `,l),l),l=>{throw b1("RestConnection",`RPC '${e}' ${a} failed with error: `,l,"url: ",c,"request:",r),l})}vo(e,n,r,i,s,a){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+u3,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${uke[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=my();return new Promise((a,c)=>{const o=new uTe;o.setWithCredentials(!0),o.listenOnce(cTe.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case yv.NO_ERROR:const u=o.getResponseJson();b(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case yv.TIMEOUT:b(ft,`RPC '${e}' ${s} timed out`),c(new H(M.DEADLINE_EXCEEDED,"Request time out"));break;case yv.HTTP_ERROR:const f=o.getStatus();if(b(ft,`RPC '${e}' ${s} failed with status:`,f,"response text:",o.getResponseText()),f>0){let d=o.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(h.status);c(new H(p,h.message))}else c(new H(M.UNKNOWN,"Server responded with status "+o.getStatus()))}else c(new H(M.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{b(ft,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);b(ft,`RPC '${e}' ${s} sending request:`,i),o.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=my(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=sTe(),c=aTe(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new lTe({})),this.Eo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=s.join("");b(ft,`Creating RPC '${e}' stream ${i}: ${u}`,o);const f=a.createWebChannel(u,o);let d=!1,h=!1;const p=new fke({ro:v=>{h?b(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(b(ft,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),b(ft,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},oo:()=>f.close()}),g=(v,C,y)=>{v.listen(C,w=>{try{y(w)}catch(I){setTimeout(()=>{throw I},0)}})};return g(f,O8.EventType.OPEN,()=>{h||b(ft,`RPC '${e}' stream ${i} transport opened.`)}),g(f,O8.EventType.CLOSE,()=>{h||(h=!0,b(ft,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(f,O8.EventType.ERROR,v=>{h||(h=!0,b1(ft,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new H(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,O8.EventType.MESSAGE,v=>{var C;if(!h){const y=v.data[0];B(!!y);const I=y.error||(null===(C=y[0])||void 0===C?void 0:C.error);if(I){b(ft,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let G=function(_2){const D2=v2[_2];if(void 0!==D2)return IB(D2)}(T),fe=I.message;void 0===G&&(G=M.INTERNAL,fe="Unknown error status: "+T+" with message "+I.message),h=!0,p.wo(new H(G,fe)),f.close()}else b(ft,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(c,oTe.STAT_EVENT,v=>{v.stat===wF.PROXY?b(ft,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===wF.NOPROXY&&b(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Cl(){return typeof document<"u"?document:null}function Ec(t){return new MNe(t,!0)}class gy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class kU{constructor(e,n,r,i,s,a,c,o){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new gy(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(u2(n.toString()),u2("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new H(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hke extends kU{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function HNe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:k(),i=e.targetChange.targetIds||[],s=function(o,l){return o.useProto3Json?(B(void 0===l||"string"==typeof l),I2.fromBase64String(l||"")):(B(void 0===l||l instanceof Uint8Array),I2.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(o){const l=void 0===o.code?M.UNKNOWN:IB(o.code);return new H(l,o.message||"")}(a);n=new TB(r,i,s,c||null)}else if("documentChange"in e){const r=e.documentChange,i=tn(t,r.document.name),s=d2(r.document.updateTime),a=r.document.createTime?d2(r.document.createTime):j.min(),c=new Z2({mapValue:{fields:r.document.fields}}),o=ke.newFoundDocument(i,s,a,c);n=new il(r.targetIds||[],r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e){const r=e.documentDelete,i=tn(t,r.document),s=r.readTime?d2(r.readTime):j.min(),a=ke.newNoDocument(i,s);n=new il([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const r=e.documentRemove,i=tn(t,r.document);n=new il([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:s}=r,a=new mNe(i,s);n=new AB(r.targetId,a)}}var o;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?d2(s.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Cc(this.serializer),n.addTarget=function(i,s){let a;const c=s.target;if(a=Y8(c)?{documents:$B(i,c)}:{query:Wv(i,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=RB(i,s.resumeToken);const o=jv(i,s.expectedCount);null!==o&&(a.expectedCount=o)}else if(s.snapshotVersion.compareTo(j.min())>0){a.readTime=M3(i,s.snapshotVersion.toTimestamp());const o=jv(i,s.expectedCount);null!==o&&(a.expectedCount=o)}return a}(this.serializer,e);const r=function zNe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Cc(this.serializer),n.removeTarget=e,this.Wo(n)}}class pke extends kU{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function bNe(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let s=d2(r.updateTime?r.updateTime:i);return s.isEqual(j.min())&&(s=d2(i)),new fNe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=d2(e.commitTime);return this.listener.cu(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Mc(t,e){let n;if(e instanceof _3)n={update:UB(t,e.key,e.value)};else if(e instanceof C3)n={delete:_c(t,e.key)};else if(e instanceof Pn)n={update:UB(t,e.key,e.data),updateMask:ENe(e.fieldMask)};else{if(!(e instanceof Pv))return k();n={verify:_c(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof v3)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof S4)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof x4)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof y3)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:wNe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:k()),n;var i}(this.serializer,r))};this.Wo(n)}}class mke extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,n,r,s,a,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class vke{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(u2(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class yke{constructor(e,n,r,i,s){var a=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(c=>{r.enqueueAndForget(m(function*(){var o;xr(a)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(o=m(function*(l){const u=D(l);u.vu.add(4),yield S3(u),u.bu.set("Unknown"),u.vu.delete(4),yield Lc(u)}),function(l){return o.apply(this,arguments)})(a))}))}),this.bu=new vke(r,i)}}function Lc(t){return yy.apply(this,arguments)}function yy(){return yy=m(function*(t){if(xr(t))for(const e of t.Ru)yield e(!0)}),yy.apply(this,arguments)}function S3(t){return _y.apply(this,arguments)}function _y(){return _y=m(function*(t){for(const e of t.Ru)yield e(!1)}),_y.apply(this,arguments)}function Ml(t,e){const n=D(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),wy(n)?My(n):I3(n).Ko()&&Cy(n,e))}function Dc(t,e){const n=D(t),r=I3(n);n.Au.delete(e),r.Ko()&&PU(n,e),0===n.Au.size&&(r.Ko()?r.jo():xr(n)&&n.bu.set("Unknown"))}function Cy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}I3(t).su(e)}function PU(t,e){t.Vu.qt(e),I3(t).iu(e)}function My(t){t.Vu=new vNe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),I3(t).start(),t.bu.gu()}function wy(t){return xr(t)&&!I3(t).Uo()&&t.Au.size>0}function xr(t){return 0===D(t).vu.size}function RU(t){t.Vu=void 0}function _ke(t){return Vy.apply(this,arguments)}function Vy(){return Vy=m(function*(t){t.Au.forEach((e,n)=>{Cy(t,e)})}),Vy.apply(this,arguments)}function Cke(t,e){return Hy.apply(this,arguments)}function Hy(){return Hy=m(function*(t,e){RU(t),wy(t)?(t.bu.Iu(e),My(t)):t.bu.set("Unknown")}),Hy.apply(this,arguments)}function Mke(t,e,n){return by.apply(this,arguments)}function by(){return by=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof TB&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const a=s.cause;for(const c of s.targetIds)i.Au.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i.Au.delete(c),i.Vu.removeTarget(c))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wl(t,r)}else if(e instanceof il?t.Vu.Ht(e):e instanceof AB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(j.min()))try{const r=yield zU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const a=i.Vu.ce(s);return a.targetChanges.forEach((c,o)=>{if(c.resumeToken.approximateByteSize()>0){const l=i.Au.get(o);l&&i.Au.set(o,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,o)=>{const l=i.Au.get(c);if(!l)return;i.Au.set(c,l.withResumeToken(I2.EMPTY_BYTE_STRING,l.snapshotVersion)),PU(i,c);const u=new Rn(l.target,c,o,l.sequenceNumber);Cy(i,u)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield wl(t,r)}var r}),by.apply(this,arguments)}function wl(t,e,n){return zy.apply(this,arguments)}function zy(){return zy=m(function*(t,e,n){if(!vr(e))throw e;t.vu.add(1),yield S3(t),t.bu.set("Offline"),n||(n=()=>zU(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Lc(t)}))}),zy.apply(this,arguments)}function OU(t,e){return e().catch(n=>wl(t,n,e))}function x3(t){return Sy.apply(this,arguments)}function Sy(){return Sy=m(function*(t){const e=D(t),n=Ir(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;wke(e);)try{const i=yield ake(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Vke(e,i)}catch(i){yield wl(e,i)}FU(e)&&BU(e)}),Sy.apply(this,arguments)}function wke(t){return xr(t)&&t.Eu.length<10}function Vke(t,e){t.Eu.push(e);const n=Ir(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function FU(t){return xr(t)&&!Ir(t).Uo()&&t.Eu.length>0}function BU(t){Ir(t).start()}function Hke(t){return xy.apply(this,arguments)}function xy(){return xy=m(function*(t){Ir(t).hu()}),xy.apply(this,arguments)}function bke(t){return Iy.apply(this,arguments)}function Iy(){return Iy=m(function*(t){const e=Ir(t);for(const n of t.Eu)e.uu(n.mutations)}),Iy.apply(this,arguments)}function zke(t,e,n){return Ey.apply(this,arguments)}function Ey(){return Ey=m(function*(t,e,n){const r=t.Eu.shift(),i=Ov.from(r,e,n);yield OU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield x3(t)}),Ey.apply(this,arguments)}function Ske(t,e){return Ly.apply(this,arguments)}function Ly(){return Ly=m(function*(t,e){var n;e&&Ir(t).ou&&(yield(n=m(function*(r,i){if(function xB(t){switch(t){default:return k();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(s=i.code)&&s!==M.ABORTED){const a=r.Eu.shift();Ir(r).Qo(),yield OU(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),yield x3(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),FU(t)&&BU(t)}),Ly.apply(this,arguments)}function UU(t,e){return Dy.apply(this,arguments)}function Dy(){return Dy=m(function*(t,e){const n=D(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=xr(n);n.vu.add(3),yield S3(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Lc(n)}),Dy.apply(this,arguments)}function Ty(){return Ty=m(function*(t,e){const n=D(t);e?(n.vu.delete(2),yield Lc(n)):e||(n.vu.add(2),yield S3(n),n.bu.set("Unknown"))}),Ty.apply(this,arguments)}function I3(t){return t.Su||(t.Su=function(e,n,r){const i=D(e);return i.fu(),new hke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:_ke.bind(null,t),ao:Cke.bind(null,t),nu:Mke.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),wy(t)?My(t):t.bu.set("Unknown")):(yield t.Su.stop(),RU(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ir(t){return t.Du||(t.Du=function(e,n,r){const i=D(e);return i.fu(),new pke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Hke.bind(null,t),ao:Ske.bind(null,t),au:bke.bind(null,t),cu:zke.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield x3(t)):(yield t.Du.stop(),t.Eu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Ny{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new x2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new Ny(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E3(t,e){if(u2("AsyncQueue",`${e}: ${t}`),vr(t))return new H(M.UNAVAILABLE,`${e}: ${t}`);throw t}class L3{constructor(e){this.comparator=e?(n,r)=>e(n,r)||E.comparator(n.key,r.key):(n,r)=>E.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new L3(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof L3)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new L3;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class jU{constructor(){this.Cu=new Le(E.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):k():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class D3{constructor(e,n,r,i,s,a,c,o,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new D3(e,n,L3.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class xke{constructor(){this.Nu=void 0,this.listeners=[]}}class Ike{constructor(){this.queries=new kn(e=>lB(e),uc),this.onlineState="Unknown",this.ku=new Set}}function Py(){return Py=m(function*(t,e){const n=D(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xke),i)try{s.Nu=yield n.onListen(r)}catch(a){const c=E3(a,`Initialization of query '${Nv(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Fy(n)}),Py.apply(this,arguments)}function Oy(){return Oy=m(function*(t,e){const n=D(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Oy.apply(this,arguments)}function Eke(t,e){const n=D(t);let r=!1;for(const i of e){const a=n.queries.get(i.query);if(a){for(const c of a.listeners)c.$u(i)&&(r=!0);a.Nu=i}}r&&Fy(n)}function Lke(t,e,n){const r=D(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Fy(t){t.ku.forEach(e=>{e.next()})}class By{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new D3(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=D3.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class qU{constructor(e){this.key=e}}class WU{constructor(e){this.key=e}}class KU{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=fB(e),this.ec=new L3(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new jU,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const o="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=fc(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.rc(d,h)||(r.track({type:2,doc:h}),v=!0,(o&&this.tc(h,o)>0||l&&this.tc(h,l)<0)&&(c=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(o||l)&&(c=!0)),v&&(h?(a=a.add(h),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const u="F"===this.query.limitType?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:a,ic:r,zi:c,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return h(f)-h(d)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const a=n?this.uc():[],c=0===this.Zu.size&&this.current?1:0,o=c!==this.Xu;return this.Xu=c,0!==s.length||o?{snapshot:new D3(this.query,e.ec,i,s,e.mutatedKeys,0===c,o,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new WU(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new qU(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return D3.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Tke{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nke{constructor(e){this.key=e,this.fc=!1}}class kke{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new kn(c=>lB(c),uc),this._c=new Map,this.mc=new Set,this.gc=new Le(E.comparator),this.yc=new Map,this.Ic=new ty,this.Tc={},this.Ec=new Map,this.Ac=T4.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Pke(t,e){return Uy.apply(this,arguments)}function Uy(){return Uy=m(function*(t,e){const n=function f_(t){const e=D(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qke.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fke.bind(null,e),e.dc.nu=Eke.bind(null,e.eventManager),e.dc.Pc=Lke.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const a=yield function b3(t,e){const n=D(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Bs.allocateTargetId(r).next(a=>(i=new Rn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,bt(e)),c=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=yield function jy(t,e,n,r,i){return $y.apply(this,arguments)}(n,e,r,"current"===c,a.resumeToken),n.isPrimaryClient&&Ml(n.remoteStore,a)}return i}),Uy.apply(this,arguments)}function $y(){return $y=m(function*(t,e,n,r,i){t.Rc=(f,d,h)=>{return(p=m(function*(g,v,C,y){let w=v.view.sc(C);w.zi&&(w=yield gl(g.localStore,v.query,!1).then(({documents:G})=>v.view.sc(G,w)));const I=y&&y.targetChanges.get(v.targetId),T=v.view.applyChanges(w,g.isPrimaryClient,I);return e_(g,v.targetId,T.cc),T.snapshot}),function(g,v,C,y){return p.apply(this,arguments)})(t,f,d,h);var p};const s=yield gl(t.localStore,e,!0),a=new KU(e,s.ir),c=a.sc(s.documents),o=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=a.applyChanges(c,t.isPrimaryClient,o);e_(t,n,l.cc);const u=new Tke(e,n,a);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),$y.apply(this,arguments)}function Rke(t,e){return Gy.apply(this,arguments)}function Gy(){return Gy=m(function*(t,e){const n=D(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!uc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield z3(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Dc(n.remoteStore,r.targetId),A3(n,r.targetId)}).catch(gr))):(A3(n,r.targetId),yield z3(n.localStore,r.targetId,!0))}),Gy.apply(this,arguments)}function qy(){return qy=m(function*(t,e,n){const r=function d_(t){const e=D(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bke.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uke.bind(null,e),e}(t);try{const i=yield function(s,a){const c=D(s),o=Qe.now(),l=a.reduce((d,h)=>d.add(h.key),se());let u,f;return c.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=Ft(),p=se();return c.Zi.getEntries(d,l).next(g=>{h=g,h.forEach((v,C)=>{C.isValidDocument()||(p=p.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(d,h)).next(g=>{u=g;const v=[];for(const C of a){const y=hNe(C,u.get(C.key).overlayedDocument);null!=y&&v.push(new Pn(C.key,y,QF(y.value.mapValue),je.exists(!0)))}return c.mutationQueue.addMutationBatch(d,o,v,a)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(u,p);return c.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:hB(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let o=s.Tc[s.currentUser.toKey()];o||(o=new Le(X)),o=o.insert(a,c),s.Tc[s.currentUser.toKey()]=o}(r,i.batchId,n),yield On(r,i.changes),yield x3(r.remoteStore)}catch(i){const s=E3(i,"Failed to persist write");n.reject(s)}}),qy.apply(this,arguments)}function QU(t,e){return Wy.apply(this,arguments)}function Wy(){return Wy=m(function*(t,e){const n=D(t);try{const r=yield function ske(t,e){const n=D(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const c=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;c.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,g,v;null!==e.targetMismatches.get(f)?h=h.withResumeToken(I2.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),g=h,v=u,(0===(p=d).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&c.push(n.Bs.updateTargetData(s,h))});let o=Ft(),l=se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),c.push(function SU(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ft();return n.forEach((c,o)=>{const l=s.get(c);o.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),o.isNoDocument()&&o.version.isEqual(j.min())?(e.removeEntry(c,o.readTime),a=a.insert(c,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||0===o.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(o),a=a.insert(c,o)):b("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",o.version)}),{nr:a,sr:i}})}(s,a,e.documentUpdates).next(u=>{o=u.nr,l=u.sr})),!r.isEqual(j.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(u)}return _.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,o,l)).next(()=>o)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.yc.get(s);a&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?B(a.fc):i.removedDocuments.size>0&&(B(a.fc),a.fc=!1))}),yield On(n,r,e)}catch(r){yield gr(r)}}),Wy.apply(this,arguments)}function YU(t,e,n){const r=D(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,a)=>{const c=a.view.Mu(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){const c=D(s);c.onlineState=a;let o=!1;c.queries.forEach((l,u)=>{for(const f of u.listeners)f.Mu(a)&&(o=!0)}),o&&Fy(c)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Fke(t,e,n){return Ky.apply(this,arguments)}function Ky(){return Ky=m(function*(t,e,n){const r=D(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let a=new Le(E.comparator);a=a.insert(s,ke.newNoDocument(s,j.min()));const c=se().add(s),o=new vc(j.min(),new Map,new Le(X),a,c);yield QU(r,o),r.gc=r.gc.remove(s),r.yc.delete(e),t_(r)}else yield z3(r.localStore,e,!1).then(()=>A3(r,e,n)).catch(gr)}),Ky.apply(this,arguments)}function Bke(t,e){return Qy.apply(this,arguments)}function Qy(){return Qy=m(function*(t,e){const n=D(t),r=e.batch.batchId;try{const i=yield function ike(t,e){const n=D(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,c,o,l){const u=o.batch,f=u.keys();let d=_.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(c,h)).next(p=>{const g=o.docVersions.get(h);B(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,o),p.isValidDocument()&&(p.setReadTime(o.commitVersion),l.addEntry(p)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(c,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=se();for(let o=0;o<a.mutationResults.length;++o)a.mutationResults[o].transformResults.length>0&&(c=c.add(a.batch.mutations[o].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Zy(n,r,null),Jy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield On(n,i)}catch(i){yield gr(i)}}),Qy.apply(this,arguments)}function Uke(t,e,n){return Yy.apply(this,arguments)}function Yy(){return Yy=m(function*(t,e,n){const r=D(t);try{const i=yield function(s,a){const c=D(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",o=>{let l;return c.mutationQueue.lookupMutationBatch(o,a).next(u=>(B(null!==u),l=u.keys(),c.mutationQueue.removeMutationBatch(o,u))).next(()=>c.mutationQueue.performConsistencyCheck(o)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(o,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,l)).next(()=>c.localDocuments.getDocuments(o,l))})}(r.localStore,e);Zy(r,e,n),Jy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield On(r,i)}catch(i){yield gr(i)}}),Yy.apply(this,arguments)}function Jy(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Zy(t,e,n){const r=D(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function A3(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||XU(t,r)})}function XU(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Dc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),t_(t))}function e_(t,e,n){for(const r of n)r instanceof qU?(t.Ic.addReference(r.key,e),$ke(t,r)):r instanceof WU?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||XU(t,r.key)):k()}function $ke(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),t_(t))}function t_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new E(pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Nke(n)),t.gc=t.gc.insert(n,r),Ml(t.remoteStore,new Rn(bt(g3(n.path)),r,"TargetPurposeLimboResolution",Xt.ct))}}function On(t,e,n){return n_.apply(this,arguments)}function n_(){return n_=m(function*(t,e,n){const r=D(t),i=[],s=[],a=[];var c;r.wc.isEmpty()||(r.wc.forEach((c,o)=>{a.push(r.Rc(o,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=ay.Li(o.targetId,l);s.push(u)}}))}),yield Promise.all(a),r.dc.nu(i),yield(c=m(function*(o,l){const u=D(o);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>_.forEach(l,d=>_.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>_.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!vr(f))throw f;b("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Ji.get(d),g=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Ji=u.Ji.insert(d,g)}}}),function(o,l){return c.apply(this,arguments)})(r.localStore,s))}),n_.apply(this,arguments)}function Gke(t,e){return r_.apply(this,arguments)}function r_(){return r_=m(function*(t,e){const n=D(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield bU(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(a=>{a.forEach(c=>{c.reject(new H(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield On(n,r.er)}var i}),r_.apply(this,arguments)}function qke(t,e){const n=D(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const s=n._c.get(e);if(!s)return i;for(const a of s){const c=n.wc.get(a);i=i.unionWith(c.view.nc)}return i}}class Vl{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=Ec(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function HU(t,e,n,r){return new rke(t,e,n,r)}(this.persistence,new VU,e.initialUser,this.serializer)}createPersistence(e){return new ny(hl.zs,this.serializer)}createSharedClientState(e){return new AU}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class T3{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>YU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Gke.bind(null,r.syncEngine),yield function Ay(t,e){return Ty.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ike}createDatastore(e){const n=Ec(e.databaseInfo.databaseId),r=new dke(e.databaseInfo);return new mke(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=c=>YU(this.syncEngine,c,0),a=TU.D()?new TU:new lke,new yke(n,r,i,s,a);var n,r,i,s,a}createSyncEngine(e,n){return function(r,i,s,a,c,o,l){const u=new kke(r,i,s,a,c,o);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=D(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield S3(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Hl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):u2("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class sPe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=F2.UNAUTHENTICATED,this.clientId=zF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var a=m(function*(c){b("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(b("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new x2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=E3(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function bl(t,e){return h_.apply(this,arguments)}function h_(){return h_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield bU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),h_.apply(this,arguments)}function p_(t,e){return m_.apply(this,arguments)}function m_(){return m_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function g_(t){return v_.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>UU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>UU(e.remoteStore,s)),t._onlineComponents=e}),m_.apply(this,arguments)}function v_(){return v_=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function rj(t){return"FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;b1("Error using user provided cache. Falling back to memory cache: "+n),yield bl(t,new Vl)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield bl(t,new Vl);return t._offlineComponents}),v_.apply(this,arguments)}function zl(t){return y_.apply(this,arguments)}function y_(){return y_=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield p_(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield p_(t,new T3))),t._onlineComponents}),y_.apply(this,arguments)}function N3(t){return C_.apply(this,arguments)}function C_(){return C_=m(function*(t){const e=yield zl(t),n=e.eventManager;return n.onListen=Pke.bind(null,e.syncEngine),n.onUnlisten=Rke.bind(null,e.syncEngine),n}),C_.apply(this,arguments)}function lj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const uj=new Map;function M_(t,e,n){if(!n)throw new H(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fj(t){if(!E.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dj(t){if(E.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xl(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":k()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xl(t);throw new H(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class pj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new H(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new H(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function pPe(t,e,n,r){if(!0===e&&!0===r)throw new H(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ac{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new H(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new dTe;switch(n.type){case"firstParty":return new gTe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=uj.get(e);n&&(b("ComponentProvider","Removing Datastore"),uj.delete(e),n.terminate())}(this),Promise.resolve()}}class h2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new h2(this.firestore,e,this._key)}}class et{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new et(this.firestore,e,this._query)}}class nn extends et{constructor(e,n,r){super(e,n,g3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new h2(this.firestore,null,new E(e))}withConverter(e){return new nn(this.firestore,e,this._path)}}function gPe(t,e,...n){if(t=l2(t),M_("collection","path",e),t instanceof Ac){const r=pe.fromString(e,...n);return dj(r),new nn(t,null,r)}{if(!(t instanceof h2||t instanceof nn))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return dj(r),new nn(t.firestore,null,r)}}function mj(t,e,...n){if(t=l2(t),1===arguments.length&&(e=zF.A()),M_("doc","path",e),t instanceof Ac){const r=pe.fromString(e,...n);return fj(r),new h2(t,null,new E(r))}{if(!(t instanceof h2||t instanceof nn))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return fj(r),new h2(t.firestore,t instanceof nn?t.converter:null,new E(r))}}class vPe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new gy(this,"async_queue_retry"),this.Xc=()=>{const n=Cl();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Cl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Cl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new x2;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!vr(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,u2("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Ny.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&k()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function w_(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Pe extends Ac{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vPe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vj(this),this._firestoreClient.terminate()}}function _Pe(t,e){const r="string"==typeof t?t:e||"(default)",i=cr("object"==typeof t?t:ha(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=ak("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function mPe(t,e,n,r={}){var i;const s=(t=ue(t,Ac))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&b1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,o;if("string"==typeof r.mockUserToken)c=r.mockUserToken,o=F2.MOCK_USER;else{c=function IHe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[b0(JSON.stringify({alg:"none",type:"JWT"})),b0(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new F2(l)}t._authCredentials=new hTe(new HF(c,o))}}(i,...s)}return i}function y2(t){return t._firestoreClient||vj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vj(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new qTe(t._databaseId,c,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,lj(l.experimentalLongPollingOptions),l.useFetchStreams));var c,l;t._firestoreClient=new sPe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class k4{constructor(e){this._byteString=e}static fromBase64String(e){try{return new k4(I2.fromBase64String(e))}catch(n){throw new H(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new k4(I2.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class k3{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new H(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new f2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class V_{constructor(e){this._methodName=e}}class H_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const MPe=/^__.*__$/;class wPe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Pn(e,this.data,this.fieldMask,n,this.fieldTransforms):new _3(e,this.data,n,this.fieldTransforms)}}class Cj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class Il{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Il(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ll(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Mj(this.ca)&&MPe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class VPe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ec(e)}ya(e,n,r,i=!1){return new Il({ca:e,methodName:n,ga:r,path:f2.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P3(t){const e=t._freezeSettings(),n=Ec(t._databaseId);return new VPe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b_(t,e,n,r,i,s={}){const a=t.ya(s.merge||s.mergeFields?2:0,e,n,i);S_("Data must be an object, but it was:",a,r);const c=zj(r,a);let o,l;if(s.merge)o=new Ot(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=kc(e,f,n);if(!a.contains(d))throw new H(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);xj(u,d)||u.push(d)}o=new Ot(u),l=a.fieldTransforms.filter(f=>o.covers(f.field))}else o=null,l=a.fieldTransforms;return new wPe(new Z2(c),o,l)}class Nc extends V_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nc}}function P4(t,e){if(Sj(t=l2(t)))return S_("Unsupported field value:",e,t),zj(t,e);if(t instanceof V_)return function(n,r){if(!Mj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let c=P4(a,r.wa(s));null==c&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=l2(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return vB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Qe.fromDate(n);return{timestampValue:M3(r.serializer,i)}}if(n instanceof Qe){const i=new Qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:M3(r.serializer,i)}}if(n instanceof H_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof k4)return{bytesValue:RB(r.serializer,n._byteString)};if(n instanceof h2){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$v(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${xl(n)}`)}(t,e)}function zj(t,e){const n={};return FF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(t,(r,i)=>{const s=P4(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Sj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof H_||t instanceof k4||t instanceof h2||t instanceof V_)}function S_(t,e,n){if(!Sj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xl(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function kc(t,e,n){if((e=l2(e))instanceof k3)return e._internalPath;if("string"==typeof e)return El(t,e);throw Ll("Field path arguments must be of type string or ",t,!1,void 0,n)}const SPe=new RegExp("[~\\*/\\[\\]]");function El(t,e,n){if(e.search(SPe)>=0)throw Ll(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new k3(...e.split("."))._internalPath}catch{throw Ll(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ll(t,e,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let o="";return(s||a)&&(o+=" (found",s&&(o+=` in field ${r}`),a&&(o+=` in document ${i}`),o+=")"),new H(M.INVALID_ARGUMENT,c+t+o)}function xj(t,e){return t.some(n=>n.isEqual(e))}class x_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new h2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xPe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class xPe extends x_{data(){return super.data()}}function Dl(t,e){return"string"==typeof e?El(t,e):e instanceof k3?e._internalPath:e._delegate._internalPath}class I_{}class E_ extends I_{}function IPe(t,e,...n){let r=[];e instanceof I_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(c=>c instanceof R3).length,a=i.filter(c=>c instanceof Pc).length;if(s>1||s>0&&a>0)throw new H(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Pc extends E_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pc(e,n,r)}_apply(e){const n=this._parse(e);return Aj(e._query,n),new et(e.firestore,e.converter,Tv(e._query,n))}_parse(e){const n=P3(e.firestore);return function(i,s,a,c,o,l,u){let f;if(o.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new H(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){Dj(u,l);const d=[];for(const h of u)d.push(Lj(c,i,h));f={arrayValue:{values:d}}}else f=Lj(c,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||Dj(u,l),f=function bj(t,e,n,r=!1){return P4(n,t.ya(r?4:3,e))}(a,"where",u,"in"===l||"not-in"===l);return oe.create(o,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function EPe(t,e,n){const r=e,i=Dl("where",t);return Pc._create(i,r,n)}class R3 extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R3(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:He.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const c of a)Aj(s,c),s=Tv(s,c)}(e._query,n),new et(e.firestore,e.converter,Tv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class L_ extends E_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new L_(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new H(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new H(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new p3(i,s);return function(c,o){if(null===Dv(c)){const l=J8(c);null!==l&&Tj(0,l,o.field)}}(r,a),a}(e._query,this._field,this._direction);return new et(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Nn(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function LPe(t,e="asc"){const n=e,r=Dl("orderBy",t);return L_._create(r,n)}class Al extends E_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Al(e,n,r)}_apply(e){return new et(e.firestore,e.converter,Z8(e._query,this._limit,this._limitType))}}function DPe(t){return function hj(t,e){if(e<=0)throw new H(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Al._create("limit",t,"F")}function Lj(t,e,n){if("string"==typeof(n=l2(n))){if(""===n)throw new H(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Av(e)&&-1!==n.indexOf("/"))throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!E.isDocumentKey(r))throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H4(t,new E(r))}if(n instanceof h2)return H4(t,n._key);throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xl(n)}.`)}function Dj(t,e){if(!Array.isArray(t)||0===t.length)throw new H(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Aj(t,e){if(e.isInequality()){const r=J8(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new H(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Dv(t);null!==s&&Tj(0,i,s)}const n=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new H(M.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Tj(t,e,n){if(!n.isEqual(e))throw new H(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class APe{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return n2(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new H_(n2(e.latitude),n2(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=q8(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=_r(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);B(KB(r));const i=new V4(r.get(1),r.get(3)),s=new E(r.popFirst(5));return i.isEqual(n)||u2(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class R4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class O3 extends x_{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dl("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kl extends O3{data(e={}){return super.data(e)}}class F3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new R4(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kl(this._firestore,this._userDataWriter,r.key,r,new R4(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new kl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new R4(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||3!==a.type).map(a=>{const c=new kl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new R4(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let o=-1,l=-1;return 0!==a.type&&(o=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:NPe(a.type),doc:c,oldIndex:o,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NPe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class Er extends APe{constructor(e){super(),this.firestore=e}convertBytes(e){return new k4(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new h2(this.firestore,null,n)}}function kPe(t,e,n,...r){t=ue(t,h2);const i=ue(t.firestore,Pe),s=P3(i);let a;return a="string"==typeof(e=l2(e))||e instanceof k3?function Hj(t,e,n,r,i,s){const a=t.ya(1,e,n),c=[kc(e,r,n)],o=[i];if(s.length%2!=0)throw new H(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)c.push(kc(e,s[d])),o.push(s[d+1]);const l=[],u=Z2.empty();for(let d=c.length-1;d>=0;--d)if(!xj(l,c[d])){const h=c[d];let p=o[d];p=l2(p);const g=a.da(h);if(p instanceof Nc)l.push(h);else{const v=P4(p,g);null!=v&&(l.push(h),u.set(h,v))}}const f=new Ot(l);return new Cj(u,f,a.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Vj(t,e,n,r){const i=t.ya(1,e,n);S_("Data must be an object, but it was:",i,r);const s=[],a=Z2.empty();yr(r,(o,l)=>{const u=El(e,o,n);l=l2(l);const f=i.da(u);if(l instanceof Nc)s.push(u);else{const d=P4(l,f);null!=d&&(s.push(u),a.set(u,d))}});const c=new Ot(s);return new Cj(a,c,i.fieldTransforms)}(s,"updateDoc",t._key,e),Rc(i,[a.toMutation(t._key,je.exists(!0))])}function PPe(t){return Rc(ue(t.firestore,Pe),[new C3(t._key,je.none())])}function RPe(t,e){const n=ue(t.firestore,Pe),r=mj(t),i=function D_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Rc(n,[b_(P3(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function Rc(t,e){return function(n,r){const i=new x2;return n.asyncQueue.enqueueAndForget(m(function*(){return function Oke(t,e,n){return qy.apply(this,arguments)}(yield function __(t){return zl(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(y2(t),e)}!function(t,e=!0){u3=c4,wt(new at("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new Pe(new pTe(n.getProvider("auth-internal")),new vTe(n.getProvider("app-check-internal")),function(c,o){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new V4(c.options.projectId,o)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),We(VF,"3.13.0",t),We(VF,"3.13.0","esm2017")}();var XPe={includeMetadataChanges:!1};function T_(t,e){return void 0===e&&(e=XPe),new Ye(function(n){var r=function OPe(t,...e){var n,r,i;t=l2(t);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||w_(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges};if(w_(e[a])){const f=e[a];e[a]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[a+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[a+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let o,l,u;if(t instanceof h2)l=ue(t.firestore,Pe),u=g3(t._key.path),o={next:f=>{e[a]&&e[a](function A_(t,e,n){const r=n.docs.get(e._key),i=new Er(t);return new O3(t,i,e._key,r,new R4(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,f))},error:e[a+1],complete:e[a+2]};else{const f=ue(t,et);l=ue(f.firestore,Pe),u=f._query;const d=new Er(l);o={next:h=>{e[a]&&e[a](new F3(l,d,f,h))},error:e[a+1],complete:e[a+2]},function Ij(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new H(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,d,h,p){const g=new Hl(p),v=new By(d,g,h);return f.asyncQueue.enqueueAndForget(m(function*(){return function ky(t,e){return Py.apply(this,arguments)}(yield N3(f),v)})),()=>{g.Dc(),f.asyncQueue.enqueueAndForget(m(function*(){return function Ry(t,e){return Oy.apply(this,arguments)}(yield N3(f),v)}))}}(y2(l),u,c,o)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function iRe(t,e){return void 0===e&&(e={}),function rRe(t){return T_(t,{includeMetadataChanges:!0}).pipe(es(function(e){return e.docs}))}(t).pipe(es(function(n){return n.map(function(r){return function Pj(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Fn{constructor(e){return e}}const Bj="firestore",P_=new $("angularfire2.firestore-instances");function cRe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fn(r)}}const oRe={provide:class sRe{constructor(){return np(Bj)}},deps:[[new Lt,P_]]},lRe={provide:Fn,useFactory:function aRe(t,e){const n=tp(Bj,t,e);return n&&new Fn(n)},deps:[[new Lt,P_],$i]};let uRe=(()=>{class t{constructor(){We("angularfire",va.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({providers:[lRe,oRe]}),t})();function B3(t,...e){return{ngModule:uRe,providers:[{provide:P_,useFactory:cRe(t),multi:!0,deps:[Ae,it,F0,B0,[new Lt,aO],[new Lt,Hp],...e]}]}}const U3=k2(iRe,!0),Uj=k2(RPe,!0),Bn=k2(gPe,!0),fRe=k2(PPe,!0),R_=k2(mj,!0),j3=k2(_Pe,!0),jj=k2(DPe,!0),dRe=k2(LPe,!0),$3=k2(IPe,!0),$j=k2(kPe,!0),Lr=k2(EPe,!0);let Gj=(()=>{var t;class e{constructor(){this.firestore=O(Fn)}subscribeToFleetOrders(r,i,s){let a=Bn(this.firestore,"orders");U3($3(a,Lr("user","==",r),Lr("executed","==",!1)),{idField:"id"}).forEach(c=>{i.next(c.length),s.detectChanges()}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class O_{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class qj{constructor(){this._orbit=0,this._ground=0,this._workers=new O_,this._soldiers=new O_,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class F_{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let hRe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new qj,a=i.querySelectorAll(".resourceLine .left > span"),c=[];a.forEach(l=>{let u=l.textContent.split(/\s+/),f=new F_;f.name=l.parentElement.className.split(/\s+/)[2],f.stored=parseInt(u[0].replace(/,/g,"")),f.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),f.abundance=parseInt(u[2].replace(/,/g,"")),c.push(f)}),s.resources=c;let o=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(o.substring(1,o.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Wj{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new O_,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var dt=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(dt||{});class pRe{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class mRe{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var De=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(De||{});class gRe{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let vRe=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new Wj,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=dt.SURFACE;break;case 2:s=dt.RESOURCE;break;case 0:s=dt.FLEET;break;default:s=dt.UNKNOWN}let a=new pRe(r,s);if(s!==dt.UNKNOWN){a.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";a.planetScan.owner=new gRe(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),c.substring(1,c.length-1))}if((s===dt.RESOURCE||s===dt.SURFACE)&&(a.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),a.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),a.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===dt.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let o=new F_;o.name=c.textContent.trim().toLowerCase(),a.planetScan.resources.push(o)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,o)=>{a.planetScan.resources[o].abundance=parseInt(c.textContent.trim())})),s===dt.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(o=>{let l=new F_;l.name=o.textContent.trim().toLowerCase(),a.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((o,l)=>{a.planetScan.resources[l].stored=parseInt(o.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((o,l)=>{a.planetScan.resources[l].abundance=parseInt(o.textContent.trim())});let c=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];a.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),a.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),a.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),a.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(o=>{a.planetScan.structures.push(new mRe(o.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(o.textContent.split(/x\s+/)[0].trim())))}),a.planetScan.structures.forEach(o=>{switch(o.name){case De.OUTPOST:a.planetScan.resources[0].production+=300,a.planetScan.resources[1].production+=200,a.planetScan.resources[2].production+=100;break;case De.METAL_MINE:a.planetScan.resources[0].production+=300*o.quantity;break;case De.MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=200*o.quantity;break;case De.FARM:a.planetScan.resources[2].production+=300*o.quantity;break;case De.SOLAR_GENERATOR:a.planetScan.resources[3].production+=100*o.quantity;break;case De.CORE_METAL_MINE:a.planetScan.resources[0].production+=900*o.quantity;break;case De.CORE_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=600*o.quantity;break;case De.HYDROPONICS_LAB:a.planetScan.resources[2].production+=900*o.quantity;break;case De.SOLAR_ARRAY:a.planetScan.resources[3].production+=300*o.quantity;break;case De.STRIP_METAL_MINE:a.planetScan.resources[0].production+=9e3*o.quantity;break;case De.STRIP_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=6e3*o.quantity;break;case De.HYDROPONICS_DOME:a.planetScan.resources[2].production+=9e3*o.quantity;break;case De.SOLAR_STATION:a.planetScan.resources[3].production+=3e3*o.quantity}})}return a.planetScan.resources.forEach(c=>{c.production=Math.ceil(c.production*c.abundance/100)}),a}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),yRe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new qj;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class _Re{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}}let CRe=(()=>{var t;class e{constructor(){}extract(){let r=[];return document.querySelector('[action="/alliances/join/"]')||document.querySelectorAll(".allianceBox > .playerList").forEach(i=>{"member list"===i.parentElement.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let a=new _Re;if(null!=s.querySelector("div.note")&&(a.note=s.querySelector("div.note").childNodes[0].textContent.trim()),null!=s.querySelector('[action^="/alliances/note/"]')){let c=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);a.dgId=c[c.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(a.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(console.log("name"),a.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(a))})}),r}cleanAfterExtract(){let r=document.querySelector(".allianceBox .playerList");r&&(r.parentNode.querySelector(".plainHeader").remove(),r.remove())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),S1=(()=>{var t;class e{constructor(){this.planetListExtractor=O(hRe),this.planetScanExtractor=O(vRe),this.navigationSystemPlanetsExtractor=O(yRe),this.allianceMembersExtractor=O(CRe)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(r){let i=this.allianceMembersExtractor.extract();return r&&this.allianceMembersExtractor.cleanAfterExtract(),i}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(){let r=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==r.indexOf("[")&&4==r.indexOf("]")&&(r=r.substring(5,r.length)),r.toLowerCase()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class B_{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Kj=function(t){return t.USER="user",t.ADMIN="admin",t}(Kj||{});let G3=(()=>{var t;class e{constructor(){this._authState=new W2,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=nAe(r).subscribe(s=>{null!=s?U3($3(Bn(i,"valid-users"),Lr("email","==",s.email),jj(1))).subscribe(a=>{if(a.length>0){let c=Object.assign({email:"",enabled:!1,role:Kj.USER},a[0]);c.enabled?(localStorage.setItem("user",JSON.stringify(s)),this._authState.emit(new B_(!0,c.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(localStorage.removeItem("user"),this._authState.emit(new B_(!1,null)))})}signInWithEmailAndPassword(r,i,s,a){rAe(r,i,s).then(()=>{a&&location.reload()}).catch(c=>{window.alert(c.message)})}signInWithGoogle(r,i){iAe(r,new ZEe).then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}signOut(r,i){this._authState.emit(new B_(!0,null)),localStorage.removeItem("user"),this._refreshInProgress=i,r.signOut().then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qj(Object(n),!0).forEach(function(r){E2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rl(t){return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U_(t,e){return function bRe(t){if(Array.isArray(t))return t}(t)||function SRe(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,c,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(o){s=!0,c=o}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw c}}return r}}(t,e)||Xj(t,e)||function IRe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(t){return function HRe(t){if(Array.isArray(t))return j_(t)}(t)||function zRe(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Xj(t)||function xRe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xj(t,e){if(t){if("string"==typeof t)return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function j_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jj=function(){},$_={},Zj={},e$=null,t$={mark:Jj,measure:Jj};try{typeof window<"u"&&($_=window),typeof document<"u"&&(Zj=document),typeof MutationObserver<"u"&&(e$=MutationObserver),typeof performance<"u"&&(t$=performance)}catch{}var Bl,Ul,jl,$l,Gl,n$=($_.navigator||{}).userAgent,r$=void 0===n$?"":n$,Dr=$_,Re=Zj,i$=e$,Fl=t$,Un=!!Re.documentElement&&!!Re.head&&"function"==typeof Re.addEventListener&&"function"==typeof Re.createElement,s$=~r$.indexOf("MSIE")||~r$.indexOf("Trident/"),jn="___FONT_AWESOME___",a$="fa",c$="svg-inline--fa",O4="data-fa-i2svg",q_="data-fa-pseudo-element",LRe="data-fa-pseudo-element-pending",W_="data-prefix",K_="data-icon",o$="fontawesome-i2svg",DRe="async",ARe=["HTML","HEAD","STYLE","SCRIPT"],l$=function(){try{return!0}catch{return!1}}(),Oe="classic",r2="sharp",Q_=[Oe,r2];function Bc(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Oe]}})}var Uc=Bc((E2(Bl={},Oe,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),E2(Bl,r2,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Bl)),jc=Bc((E2(Ul={},Oe,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),E2(Ul,r2,{solid:"fass",regular:"fasr",light:"fasl"}),Ul)),$c=Bc((E2(jl={},Oe,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),E2(jl,r2,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),jl)),TRe=Bc((E2($l={},Oe,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),E2($l,r2,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),$l)),NRe=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,u$="fa-layers-text",kRe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,PRe=Bc((E2(Gl={},Oe,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),E2(Gl,r2,{900:"fass",400:"fasr",300:"fasl"}),Gl)),f$=[1,2,3,4,5,6,7,8,9,10],RRe=f$.concat([11,12,13,14,15,16,17,18,19,20]),ORe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],F4={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Gc=new Set;Object.keys(jc[Oe]).map(Gc.add.bind(Gc)),Object.keys(jc[r2]).map(Gc.add.bind(Gc));var FRe=[].concat(Q_,Fc(Gc),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",F4.GROUP,F4.SWAP_OPACITY,F4.PRIMARY,F4.SECONDARY]).concat(f$.map(function(t){return"".concat(t,"x")})).concat(RRe.map(function(t){return"w-".concat(t)})),qc=Dr.FontAwesomeConfig||{};Re&&"function"==typeof Re.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=U_(t,2),r=e[1],i=function URe(t){return""===t||"false"!==t&&("true"===t||t)}(function BRe(t){var e=Re.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(qc[r]=i)});var d$={styleDefault:"solid",familyDefault:"classic",cssPrefix:a$,replacementClass:c$,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};qc.familyPrefix&&(qc.cssPrefix=qc.familyPrefix);var q3=P(P({},d$),qc);q3.autoReplaceSvg||(q3.observeMutations=!1);var U={};Object.keys(d$).forEach(function(t){Object.defineProperty(U,t,{enumerable:!0,set:function(n){q3[t]=n,Wc.forEach(function(r){return r(U)})},get:function(){return q3[t]}})}),Object.defineProperty(U,"familyPrefix",{enumerable:!0,set:function(e){q3.cssPrefix=e,Wc.forEach(function(n){return n(U)})},get:function(){return q3.cssPrefix}}),Dr.FontAwesomeConfig=U;var Wc=[],rn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},qRe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Kc(){for(var t=12,e="";t-- >0;)e+=qRe[62*Math.random()|0];return e}function W3(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Y_(t){return t.classList?W3(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function h$(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ql(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function X_(t){return t.size!==rn.size||t.x!==rn.x||t.y!==rn.y||t.rotate!==rn.rotate||t.flipX||t.flipY}var YRe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function p$(){var t=a$,e=c$,n=U.cssPrefix,r=U.replacementClass,i=YRe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(c,".".concat(r))}return i}var m$=!1;function J_(){U.autoAddCss&&!m$&&(function GRe(t){if(t&&Un){var e=Re.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Re.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}Re.head.insertBefore(e,r)}}(p$()),m$=!0)}var XRe={mixout:function(){return{dom:{css:p$,insertCss:J_}}},hooks:function(){return{beforeDOMElementCreation:function(){J_()},beforeI2svg:function(){J_()}}}},$n=Dr||{};$n[jn]||($n[jn]={}),$n[jn].styles||($n[jn].styles={}),$n[jn].hooks||($n[jn].hooks={}),$n[jn].shims||($n[jn].shims=[]);var x1=$n[jn],g$=[],Wl=!1;function Qc(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?h$(t):"<".concat(e," ").concat(function WRe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(h$(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Qc).join(""),"</").concat(e,">")}function v$(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Un&&((Wl=(Re.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Re.readyState))||Re.addEventListener("DOMContentLoaded",function t(){Re.removeEventListener("DOMContentLoaded",t),Wl=1,g$.map(function(e){return e()})}));var Z_=function(e,n,r,i){var o,l,u,s=Object.keys(e),a=s.length,c=void 0!==i?function(e,n){return function(r,i,s,a){return e.call(n,r,i,s,a)}}(n,i):n;for(void 0===r?(o=1,u=e[s[0]]):(o=0,u=r);o<a;o++)u=c(u,e[l=s[o]],l,e);return u};function eC(t){var e=function tOe(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function y$(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function tC(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=y$(e);"function"!=typeof x1.hooks.addPack||i?x1.styles[t]=P(P({},x1.styles[t]||{}),s):x1.hooks.addPack(t,y$(e)),"fas"===t&&tC("fa",e)}var Kl,Ql,Yl,K3=x1.styles,rOe=x1.shims,iOe=(E2(Kl={},Oe,Object.values($c[Oe])),E2(Kl,r2,Object.values($c[r2])),Kl),nC=null,_$={},C$={},M$={},w$={},V$={},sOe=(E2(Ql={},Oe,Object.keys(Uc[Oe])),E2(Ql,r2,Object.keys(Uc[r2])),Ql);var H$=function(){var e=function(s){return Z_(K3,function(a,c,o){return a[o]=Z_(c,s,{}),a},{})};_$=e(function(i,s,a){return s[3]&&(i[s[3]]=a),s[2]&&s[2].filter(function(o){return"number"==typeof o}).forEach(function(o){i[o.toString(16)]=a}),i}),C$=e(function(i,s,a){return i[a]=a,s[2]&&s[2].filter(function(o){return"string"==typeof o}).forEach(function(o){i[o]=a}),i}),V$=e(function(i,s,a){var c=s[2];return i[a]=a,c.forEach(function(o){i[o]=a}),i});var n="far"in K3||U.autoFetchSvg,r=Z_(rOe,function(i,s){var a=s[0],c=s[1],o=s[2];return"far"===c&&!n&&(c="fas"),"string"==typeof a&&(i.names[a]={prefix:c,iconName:o}),"number"==typeof a&&(i.unicodes[a.toString(16)]={prefix:c,iconName:o}),i},{names:{},unicodes:{}});M$=r.names,w$=r.unicodes,nC=Xl(U.styleDefault,{family:U.familyDefault})};function rC(t,e){return(_$[t]||{})[e]}function B4(t,e){return(V$[t]||{})[e]}function b$(t){return M$[t]||{prefix:null,iconName:null}}function Tr(){return nC}(function $Re(t){Wc.push(t)})(function(t){nC=Xl(t.styleDefault,{family:U.familyDefault})}),H$();var iC=function(){return{prefix:null,iconName:null,rest:[]}};function Xl(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Oe:n;return jc[r][t]||jc[r][Uc[r][t]]||(t in x1.styles?t:null)||null}var z$=(E2(Yl={},Oe,Object.keys($c[Oe])),E2(Yl,r2,Object.keys($c[r2])),Yl);function Jl(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(E2(e={},Oe,"".concat(U.cssPrefix,"-").concat(Oe)),E2(e,r2,"".concat(U.cssPrefix,"-").concat(r2)),e),a=null,c=Oe;(t.includes(s[Oe])||t.some(function(l){return z$[Oe].includes(l)}))&&(c=Oe),(t.includes(s[r2])||t.some(function(l){return z$[r2].includes(l)}))&&(c=r2);var o=t.reduce(function(l,u){var f=function cOe(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function aOe(t){return~FRe.indexOf(t)}(i)?null:i}(U.cssPrefix,u);if(K3[u]?(u=iOe[c].includes(u)?TRe[c][u]:u,a=u,l.prefix=u):sOe[c].indexOf(u)>-1?(a=u,l.prefix=Xl(u,{family:c})):f?l.iconName=f:u!==U.replacementClass&&u!==s[Oe]&&u!==s[r2]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===a?b$(l.iconName):{},h=B4(l.prefix,l.iconName);d.prefix&&(a=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!K3.far&&K3.fas&&!U.autoFetchSvg&&(l.prefix="fas")}return l},iC());return(t.includes("fa-brands")||t.includes("fab"))&&(o.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(o.prefix="fad"),!o.prefix&&c===r2&&(K3.fass||U.autoFetchSvg)&&(o.prefix="fass",o.iconName=B4(o.prefix,o.iconName)||o.iconName),("fa"===o.prefix||"fa"===a)&&(o.prefix=Tr()||"fas"),o}var uOe=function(){function t(){(function MRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function wRe(t,e,n){e&&Yj(t.prototype,e),n&&Yj(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(c){n.definitions[c]=P(P({},n.definitions[c]||{}),a[c]),tC(c,a[c]);var o=$c[Oe][c];o&&tC(o,a[c]),H$()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var a=i[s],c=a.prefix,o=a.iconName,l=a.icon,u=l[2];n[c]||(n[c]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[c][f]=l)}),n[c][o]=l}),n}}]),t}(),S$=[],Q3={},Y3={},fOe=Object.keys(Y3);function sC(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Q3[t]||[]).forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function U4(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Q3[t]||[]).forEach(function(s){s.apply(null,n)})}function Gn(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Y3[t]?Y3[t].apply(null,e):void 0}function aC(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Tr();if(e)return e=B4(n,e)||e,v$(x$.definitions,n,e)||v$(x1.styles,n,e)}var x$=new uOe,pOe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Un?(U4("beforeI2svg",e),Gn("pseudoElements2svg",e),Gn("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===U.autoReplaceSvg&&(U.autoReplaceSvg=!0),U.observeMutations=!0,function ZRe(t){Un&&(Wl?setTimeout(t,0):g$.push(t))}(function(){gOe({autoReplaceSvgRoot:n}),U4("watch",e)})}},Jt={noAuto:function(){U.autoReplaceSvg=!1,U.observeMutations=!1,U4("noAuto")},config:U,dom:pOe,parse:{icon:function(e){if(null===e)return null;if("object"===Rl(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:B4(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Xl(e[0]);return{prefix:r,iconName:B4(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(U.cssPrefix,"-"))>-1||e.match(NRe))){var i=Jl(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Tr(),iconName:B4(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=Tr();return{prefix:s,iconName:B4(s,e)||e}}}},library:x$,findIconDefinition:aC,toHtml:Qc},gOe=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Re:n;(Object.keys(x1.styles).length>0||U.autoFetchSvg)&&Un&&U.autoReplaceSvg&&Jt.dom.i2svg({node:r})};function Zl(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Qc(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Un){var r=Re.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function cC(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,c=t.symbol,o=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=void 0!==d&&d,p=r.found?r:n,g=p.width,v=p.height,C="fak"===i,y=[U.replacementClass,s?"".concat(U.cssPrefix,"-").concat(s):""].filter(function(D2){return-1===f.classes.indexOf(D2)}).filter(function(D2){return""!==D2||!!D2}).concat(f.classes).join(" "),w={children:[],attributes:P(P({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},I=C&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(w.attributes[O4]=""),o&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||Kc())},children:[o]}),delete w.attributes.title);var T=P(P({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:a,symbol:c,styles:P(P({},I),f.styles)}),G=r.found&&n.found?Gn("generateAbstractMask",T)||{children:[],attributes:{}}:Gn("generateAbstractIcon",T)||{children:[],attributes:{}},_2=G.attributes;return T.children=G.children,T.attributes=_2,c?function yOe(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,a=!0===s?"".concat(t.prefix,"-").concat(U.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:P(P({},i),{},{id:a}),children:r}]}]}(T):function vOe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(X_(a)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=ql(P(P({},s),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(T)}function I$(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,a=t.extra,c=t.watchable,o=void 0!==c&&c,l=P(P(P({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});o&&(l[O4]="");var u=P({},a.styles);X_(i)&&(u.transform=function QRe(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,a=t.startCentered,c=void 0!==a&&a,o="";return o+=c&&s$?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):c?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(o+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=ql(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var oC=x1.styles;function lC(t){var e=t[0],n=t[1],s=U_(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(U.cssPrefix,"-").concat(F4.GROUP)},children:[{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat(F4.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat(F4.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var COe={found:!1,width:512,height:512};function uC(t,e){var n=e;return"fa"===e&&null!==U.styleDefault&&(e=Tr()),new Promise(function(r,i){if(Gn("missingIconAbstract"),"fa"===n){var a=b$(t)||{};t=a.iconName||t,e=a.prefix||e}if(t&&e&&oC[e]&&oC[e][t])return r(lC(oC[e][t]));(function MOe(t,e){!l$&&!U.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(P(P({},COe),{},{icon:U.showMissingIcons&&t&&Gn("missingIconAbstract")||{}}))})}var E$=function(){},fC=U.measurePerformance&&Fl&&Fl.mark&&Fl.measure?Fl:{mark:E$,measure:E$},Yc='FA "6.4.2"',L$=function(e){fC.mark("".concat(Yc," ").concat(e," ends")),fC.measure("".concat(Yc," ").concat(e),"".concat(Yc," ").concat(e," begins"),"".concat(Yc," ").concat(e," ends"))},dC={begin:function(e){return fC.mark("".concat(Yc," ").concat(e," begins")),function(){return L$(e)}},end:L$},e5=function(){};function D$(t){return"string"==typeof(t.getAttribute?t.getAttribute(O4):null)}function zOe(t){return Re.createElementNS("http://www.w3.org/2000/svg",t)}function SOe(t){return Re.createElement(t)}function A$(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?zOe:SOe:n;if("string"==typeof t)return Re.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])}),(t.children||[]).forEach(function(a){i.appendChild(A$(a,{ceFn:r}))}),i}var t5={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(A$(i),n)}),null===n.getAttribute(O4)&&U.keepOriginalSource){var r=Re.createComment(function xOe(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Y_(n).indexOf(U.replacementClass))return t5.replace(e);var i=new RegExp("".concat(U.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(c,o){return o===U.replacementClass||o.match(i)?c.toSvg.push(o):c.toNode.push(o),c},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var a=r.map(function(c){return Qc(c)}).join("\n");n.setAttribute(O4,""),n.innerHTML=a}};function T$(t){t()}function N$(t,e){var n="function"==typeof e?e:e5;if(0===t.length)n();else{var r=T$;U.mutateApproach===DRe&&(r=Dr.requestAnimationFrame||T$),r(function(){var i=function bOe(){return!0===U.autoReplaceSvg?t5.replace:t5[U.autoReplaceSvg]||t5.replace}(),s=dC.begin("mutate");t.map(i),s(),n()})}}var hC=!1;function k$(){hC=!0}function pC(){hC=!1}var n5=null;function P$(t){if(i$&&U.observeMutations){var e=t.treeCallback,n=void 0===e?e5:e,r=t.nodeCallback,i=void 0===r?e5:r,s=t.pseudoElementsCallback,a=void 0===s?e5:s,c=t.observeMutationsRoot,o=void 0===c?Re:c;n5=new i$(function(l){if(!hC){var u=Tr();W3(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!D$(f.addedNodes[0])&&(U.searchPseudoElements&&a(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&U.searchPseudoElements&&a(f.target.parentNode),"attributes"===f.type&&D$(f.target)&&~ORe.indexOf(f.attributeName))if("class"===f.attributeName&&function VOe(t){var e=t.getAttribute?t.getAttribute(W_):null,n=t.getAttribute?t.getAttribute(K_):null;return e&&n}(f.target)){var d=Jl(Y_(f.target)),p=d.iconName;f.target.setAttribute(W_,d.prefix||u),p&&f.target.setAttribute(K_,p)}else(function HOe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(U.replacementClass)})(f.target)&&i(f.target)})}}),Un&&n5.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function R$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function LOe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=Jl(Y_(t));return i.prefix||(i.prefix=Tr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function oOe(t,e){return(C$[t]||{})[e]}(i.prefix,t.innerText)||rC(i.prefix,eC(t.innerText))),!i.iconName&&U.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,a=function DOe(t){var e=W3(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return U.autoA11y&&(n?e["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(r||Kc()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),c=sC("parseNodeAttributes",{},t),o=e.styleParser?function EOe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),a=s[0],c=s.slice(1);return a&&c.length>0&&(r[a]=c.join(":").trim()),r},{})),n}(t):[];return P({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:rn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:a}},c)}var TOe=x1.styles;function O$(t){var e="nest"===U.autoReplaceSvg?R$(t,{styleParser:!1}):R$(t);return~e.extra.classes.indexOf(u$)?Gn("generateLayersText",t,e):Gn("generateSvgReplacementMutation",t,e)}var Nr=new Set;function F$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Un)return Promise.resolve();var n=Re.documentElement.classList,r=function(f){return n.add("".concat(o$,"-").concat(f))},i=function(f){return n.remove("".concat(o$,"-").concat(f))},s=U.autoFetchSvg?Nr:Q_.map(function(u){return"fa-".concat(u)}).concat(Object.keys(TOe));s.includes("fa")||s.push("fa");var a=[".".concat(u$,":not([").concat(O4,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(O4,"])")})).join(", ");if(0===a.length)return Promise.resolve();var c=[];try{c=W3(t.querySelectorAll(a))}catch{}if(!(c.length>0))return Promise.resolve();r("pending"),i("complete");var o=dC.begin("onTree"),l=c.reduce(function(u,f){try{var d=O$(f);d&&u.push(d)}catch(h){l$||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){N$(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),o(),u()})}).catch(function(d){o(),f(d)})})}function NOe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;O$(t).then(function(n){n&&N$([n],e)})}function kOe(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:aC(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:aC(i||{})),t(r,P(P({},n),{},{mask:i}))}}Q_.map(function(t){Nr.add("fa-".concat(t))}),Object.keys(Uc[Oe]).map(Nr.add.bind(Nr)),Object.keys(Uc[r2]).map(Nr.add.bind(Nr)),Nr=Fc(Nr);var POe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?rn:r,s=n.symbol,a=void 0!==s&&s,c=n.mask,o=void 0===c?null:c,l=n.maskId,u=void 0===l?null:l,f=n.title,d=void 0===f?null:f,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,C=n.attributes,y=void 0===C?{}:C,w=n.styles,I=void 0===w?{}:w;if(e){var T=e.prefix,G=e.iconName,fe=e.icon;return Zl(P({type:"icon"},e),function(){return U4("beforeDOMElementCreation",{iconDefinition:e,params:n}),U.autoA11y&&(d?y["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(p||Kc()):(y["aria-hidden"]="true",y.focusable="false")),cC({icons:{main:lC(fe),mask:o?lC(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:T,iconName:G,transform:P(P({},rn),i),symbol:a,title:d,maskId:u,titleId:p,extra:{attributes:y,styles:I,classes:v}})})}},ROe={mixout:function(){return{icon:kOe(POe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=F$,n.nodeCallback=NOe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return F$(void 0===r?Re:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,a=r.titleId,c=r.prefix,o=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([uC(i,c),u.iconName?uC(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=U_(g,2);h([n,cC({icons:{main:v[0],mask:v[1]},prefix:c,iconName:i,transform:o,symbol:l,maskId:f,title:s,titleId:a,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,a=n.transform,o=ql(n.styles);return o.length>0&&(i.style=o),X_(a)&&(l=Gn("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},OOe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return Zl({type:"layer"},function(){U4("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(c){Array.isArray(c)?c.map(function(o){a=a.concat(o.abstract)}):a=a.concat(c.abstract)}),[{tag:"span",attributes:{class:["".concat(U.cssPrefix,"-layers")].concat(Fc(s)).join(" ")},children:a}]})}}}},FOe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,a=r.classes,c=void 0===a?[]:a,o=r.attributes,l=void 0===o?{}:o,u=r.styles,f=void 0===u?{}:u;return Zl({type:"counter",content:n},function(){return U4("beforeDOMElementCreation",{content:n,params:r}),function _Oe(t){var e=t.content,n=t.title,r=t.extra,i=P(P(P({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=ql(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(U.cssPrefix,"-layers-counter")].concat(Fc(c))}})})}}}},BOe={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?rn:i,a=r.title,c=void 0===a?null:a,o=r.classes,l=void 0===o?[]:o,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return Zl({type:"text",content:n},function(){return U4("beforeDOMElementCreation",{content:n,params:r}),I$({content:n,transform:P(P({},rn),s),title:c,extra:{attributes:f,styles:h,classes:["".concat(U.cssPrefix,"-layers-text")].concat(Fc(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,a=r.extra,c=null,o=null;if(s$){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();c=u.width/l,o=u.height/l}return U.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,I$({content:n.innerHTML,width:c,height:o,transform:s,title:i,extra:a,watchable:!0})])}}},UOe=new RegExp('"',"ug"),B$=[1105920,1112319];function U$(t,e){var n="".concat(LRe).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var a=W3(t.children).filter(function(fe){return fe.getAttribute(q_)===e})[0],c=Dr.getComputedStyle(t,e),o=c.getPropertyValue("font-family").match(kRe),l=c.getPropertyValue("font-weight"),u=c.getPropertyValue("content");if(a&&!o)return t.removeChild(a),r();if(o&&"none"!==u&&""!==u){var f=c.getPropertyValue("content"),d=~["Sharp"].indexOf(o[2])?r2:Oe,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(o[2])?jc[d][o[2].toLowerCase()]:PRe[d][l],p=function jOe(t){var e=t.replace(UOe,""),n=function nOe(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=B$[0]&&n<=B$[1],i=2===e.length&&e[0]===e[1];return{value:eC(i?e[0]:e),isSecondary:r||i}}(f),g=p.value,v=p.isSecondary,C=o[0].startsWith("FontAwesome"),y=rC(h,g),w=y;if(C){var I=function lOe(t){var e=w$[t],n=rC("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);I.iconName&&I.prefix&&(y=I.iconName,h=I.prefix)}if(!y||v||a&&a.getAttribute(W_)===h&&a.getAttribute(K_)===w)r();else{t.setAttribute(n,w),a&&t.removeChild(a);var T=function AOe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:rn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),G=T.extra;G.attributes[q_]=e,uC(y,h).then(function(fe){var _2=cC(P(P({},T),{},{icons:{main:fe,mask:iC()},prefix:h,iconName:w,extra:G,watchable:!0})),D2=Re.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(D2,t.firstChild):t.appendChild(D2),D2.outerHTML=_2.map(function(to){return Qc(to)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function $Oe(t){return Promise.all([U$(t,"::before"),U$(t,"::after")])}function GOe(t){return!(t.parentNode===document.head||~ARe.indexOf(t.tagName.toUpperCase())||t.getAttribute(q_)||t.parentNode&&"svg"===t.parentNode.tagName)}function j$(t){if(Un)return new Promise(function(e,n){var r=W3(t.querySelectorAll("*")).filter(GOe).map($Oe),i=dC.begin("searchPseudoElements");k$(),Promise.all(r).then(function(){i(),pC(),e()}).catch(function(){i(),pC(),n()})})}var $$=!1,G$=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),a=s[0],c=s.slice(1).join("-");if(a&&"h"===c)return r.flipX=!0,r;if(a&&"v"===c)return r.flipY=!0,r;if(c=parseFloat(c),isNaN(c))return r;switch(a){case"grow":r.size=r.size+c;break;case"shrink":r.size=r.size-c;break;case"left":r.x=r.x-c;break;case"right":r.x=r.x+c;break;case"up":r.y=r.y-c;break;case"down":r.y=r.y+c;break;case"rotate":r.rotate=r.rotate+c}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},mC={x:0,y:0,width:"100%",height:"100%"};function q$(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function QOe(t){return"g"===t.tag?t.children:[t]}var YOe={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?Jl(i.split(" ").map(function(a){return a.trim()})):iC();return s.prefix||(s.prefix=Tr()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.mask,c=n.maskId,u=s.icon,d=a.icon,h=function KRe(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(c)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:a.width,iconWidth:s.width}),p={tag:"rect",attributes:P(P({},mC),{},{fill:"white"})},g=u.children?{children:u.children.map(q$)}:{},v={tag:"g",attributes:P({},h.inner),children:[q$(P({tag:u.tag,attributes:P(P({},u.attributes),h.path)},g))]},C={tag:"g",attributes:P({},h.outer),children:[v]},y="mask-".concat(c||Kc()),w="clip-".concat(c||Kc()),I={tag:"mask",attributes:P(P({},mC),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,C]},T={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:QOe(d)},I]};return r.push(T,{tag:"rect",attributes:P({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},mC)}),{children:r,attributes:i}}}};!function dOe(t,e){var n=e.mixoutsTo;S$=t,Q3={},Object.keys(Y3).forEach(function(r){-1===fOe.indexOf(r)&&delete Y3[r]}),S$.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){"function"==typeof i[a]&&(n[a]=i[a]),"object"===Rl(i[a])&&Object.keys(i[a]).forEach(function(c){n[a]||(n[a]={}),n[a][c]=i[a][c]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(a){Q3[a]||(Q3[a]=[]),Q3[a].push(s[a])})}r.provides&&r.provides(Y3)})}([XRe,ROe,OOe,FOe,BOe,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=j$,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;U.searchPseudoElements&&j$(void 0===r?Re:r)}}},{mixout:function(){return{dom:{unwatch:function(){k$(),$$=!0}}}},hooks:function(){return{bootstrap:function(){P$(sC("mutationObserverCallbacks",{}))},noAuto:function(){!function IOe(){n5&&n5.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;$$?pC():P$(sC("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return G$(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=G$(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,a=n.iconWidth,c={transform:"translate(".concat(n.containerWidth/2," 256)")},o="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:c,inner:{transform:"".concat(o," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:P({},h.outer),children:[{tag:"g",attributes:P({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:P(P({},r.icon.attributes),h.path)}]}]}}}},YOe,{provides:function(e){var n=!1;Dr.matchMedia&&(n=Dr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:P(P({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=P(P({},s),{},{attributeName:"opacity"}),c={tag:"circle",attributes:P(P({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||c.children.push({tag:"animate",attributes:P(P({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:P(P({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(c),r.push({tag:"path",attributes:P(P({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:P(P({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:P(P({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:P(P({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:Jt});var eFe=Jt.parse,tFe=Jt.icon;const nFe=["*"],sFe=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let oFe=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),r5=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(a=>i[a]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),lFe=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[e1]}),e})(),uFe=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(At))},t.\u0275cmp=D1({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[e1],ngContentSelectors:nFe,decls:1,vars:0,template:function(r,i){1&r&&(function rb(t){const e=V()[c2][tt];if(!e.projection){const r=e.projection=vs(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const a=t?pee(s,t):0;null!==a&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}(),function ib(t,e=0,n){const r=V(),i=he(),s=Mi(i,ce+t,16,null,n||null);null===s.projection&&(s.projection=e),t7(),(!r[ln]||ti())&&32!=(32&s.flags)&&function yX(t,e,n){dV(e[ee],0,e,n,E7(t,n,e),aV(n.parent||e[tt],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),W$=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,a,c){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=a,this.classes=[],null!=c&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const a=this.buildParams();this.renderIcon(s,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?eFe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...sFe(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=tFe(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Ix),z(oFe),z(r5),z(lFe,8),z(uFe,8))},t.\u0275cmp=D1({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Du("innerHTML",i.renderedIconHTML,bV),U1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[e1],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),i5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({}),e})(),fFe=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Rs("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function dFe(t,e){if(1&t&&(L(0,"span",13),te(1),S2(2,"async"),F()),2&t){const n=V2();R(1),Xe(i1(2,1,n.fleetOrdersNotification))}}const j4=function(){return{color:"#eee"}},hFe=function(){return["fas","house-chimney"]},pFe=function(){return["fas","earth-americas"]},mFe=function(){return["fas","satellite-dish"]},gFe=function(){return["fas","jet-fighter-up"]},vFe=function(){return["fas","chess-board"]},yFe=function(){return["fas","flask-vial"]},_Fe=function(){return["fas","hand-fist"]};let CFe=(()=>{var t;class e{constructor(r){this.renderer=O(mn),this.badgeService=O(Gj),this.dgAPI=O(S1),this.changeDetection=O(Xs),this.authService=O(G3),r.addIcons(m0,Ri,u9,E9,Jf,Yf,V0),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new Ye(s=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),s,this.changeDetection)})),this.changeDetection.detectChanges()})}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(r5))},t.\u0275cmp=D1({type:t,selectors:[["dgt-navbar"]],decls:39,vars:45,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"],[1,"notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(L(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),Ge(4,"fa-icon",4),L(5,"span",5),te(6,"home"),F()()(),L(7,"li",2)(8,"a",6),Ge(9,"fa-icon",4),L(10,"span",5),te(11,"planets"),F()()(),L(12,"li",2)(13,"a",7),Ge(14,"fa-icon",4),L(15,"span",5),te(16,"radar"),F()()(),L(17,"li",2),yt(18,dFe,3,3,"span",8),S2(19,"async"),L(20,"a",9),Ge(21,"fa-icon",4),L(22,"span",5),te(23,"fleets"),F()()(),L(24,"li",2)(25,"a",10),Ge(26,"fa-icon",4),L(27,"span",5),te(28,"navigation"),F()()(),L(29,"li",2)(30,"a",11),Ge(31,"fa-icon",4),L(32,"span",5),te(33,"research"),F()()(),L(34,"li",2)(35,"a",12),Ge(36,"fa-icon",4),L(37,"span",5),te(38,"alliances"),F()()()()()),2&r&&(R(2),q("tabName","home"),R(2),b2(z2(31,j4)),q("icon",z2(32,hFe)),R(3),q("tabName","planets"),R(2),b2(z2(33,j4)),q("icon",z2(34,pFe)),R(3),q("tabName","radar"),R(2),b2(z2(35,j4)),q("icon",z2(36,mFe)),R(3),q("tabName","fleets"),R(1),q("ngIf",i.active&&i1(19,29,i.fleetOrdersNotification)),R(3),b2(z2(37,j4)),q("icon",z2(38,gFe)),R(3),q("tabName","navigation"),R(2),b2(z2(39,j4)),q("icon",z2(40,vFe)),R(3),q("tabName","research"),R(2),b2(z2(41,j4)),q("icon",z2(42,yFe)),R(3),q("tabName","alliances"),R(2),b2(z2(43,j4)),q("icon",z2(44,_Fe)))},dependencies:[n4,W$,fFe,r0],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const u1_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let MFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t,bootstrap:[CFe]}),t.\u0275inj=p2({providers:[Gj],imports:[r4,i5,Gi(()=>Wi(u1_firebase)),t3(()=>n3()),B3(()=>j3()),Qi(()=>Yi(qi(),{provider:new lr(u1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class wFe{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class VFe{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class K${constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class Q${constructor(){this._resources=new VFe,this._workers=new K$,this._soldiers=new K$}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var L2=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(L2||{});let Y$=(()=>{var t;class e{constructor(){this.dgAPI=O(S1)}extractStats(){let r=new wFe;return r.stats.set(L2.ALL,new Q$),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new Q$),r.stats.get(L2.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(L2.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(L2.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(L2.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(L2.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case L2.METAL:r.stats.get(L2.ALL).resources.metalStored+=s.stored,r.stats.get(L2.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case L2.MINERAL:r.stats.get(L2.ALL).resources.mineralStored+=s.stored,r.stats.get(L2.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case L2.FOOD:r.stats.get(L2.ALL).resources.foodStored+=s.stored,r.stats.get(L2.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case L2.ENERGY:r.stats.get(L2.ALL).resources.energyStored+=s.stored,r.stats.get(L2.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),HFe=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=j2({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),gC=(()=>{var t;class e{constructor(){this.decimalPipe=O(Pi)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=j2({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const bFe=function(t){return{"dgt-stats-totals-last-row":t}},f1=function(t){return{"dgt-padding-bottom-xs":t}};function zFe(t,e){if(1&t&&(L(0,"tr",4)(1,"th",5),te(2),S2(3,"galaxyNameFormatter"),F(),L(4,"td",6)(5,"div",7),Ge(6,"img",8),L(7,"span",9),te(8),S2(9,"number"),F()()(),L(10,"td",10)(11,"div",7)(12,"span",9),te(13),S2(14,"resourceProductionFormatter"),F()()(),L(15,"td",11)(16,"div",12),Ge(17,"img",13),L(18,"span",9),te(19),S2(20,"number"),F()()(),L(21,"td",10)(22,"div",12)(23,"span",9),te(24),S2(25,"resourceProductionFormatter"),F()()(),L(26,"td",11)(27,"div",14),Ge(28,"img",15),L(29,"span",9),te(30),S2(31,"number"),F()()(),L(32,"td",10)(33,"div",14)(34,"span",9),te(35),S2(36,"resourceProductionFormatter"),F()()(),L(37,"td",11)(38,"div",16),Ge(39,"img",17),L(40,"span",9),te(41),S2(42,"number"),F()()(),L(43,"td",18)(44,"div",16)(45,"span",9),te(46),S2(47,"resourceProductionFormatter"),F()()(),L(48,"td",19)(49,"div",20),Ge(50,"img",21),L(51,"span",9),te(52),S2(53,"number"),F()()(),L(54,"td",22)(55,"div",23),Ge(56,"img",24),L(57,"span",9),te(58),S2(59,"number"),F()()(),L(60,"td",25)(61,"div",26),Ge(62,"img",27),L(63,"span",9),te(64),S2(65,"number"),F()()()()),2&t){const n=e.$implicit,r=e.index,i=V2();q("ngClass",Nt(63,bFe,r==i.panel.stats.size-1)),R(1),q("ngClass",Nt(65,f1,r==i.panel.stats.size-2)),R(1),Xe(i1(3,25,n.key)),R(2),q("ngClass",Nt(67,f1,r==i.panel.stats.size-2)),R(4),Xe(nr(9,27,n.value.resources.metalStored,"1.0","en-US")),R(2),q("ngClass",Nt(69,f1,r==i.panel.stats.size-2)),R(3),Xe(i1(14,31,n.value.resources.metalProduction)),R(2),q("ngClass",Nt(71,f1,r==i.panel.stats.size-2)),R(4),Xe(nr(20,33,n.value.resources.mineralStored,"1.0","en-US")),R(2),q("ngClass",Nt(73,f1,r==i.panel.stats.size-2)),R(3),Xe(i1(25,37,n.value.resources.mineralProduction)),R(2),q("ngClass",Nt(75,f1,r==i.panel.stats.size-2)),R(4),Xe(nr(31,39,n.value.resources.foodStored,"1.0","en-US")),R(2),q("ngClass",Nt(77,f1,r==i.panel.stats.size-2)),R(3),Xe(i1(36,43,n.value.resources.foodProduction)),R(2),q("ngClass",Nt(79,f1,r==i.panel.stats.size-2)),R(4),Xe(nr(42,45,n.value.resources.energyStored,"1.0","en-US")),R(2),q("ngClass",Nt(81,f1,r==i.panel.stats.size-2)),R(3),Xe(i1(47,49,n.value.resources.energyProduction)),R(2),q("ngClass",Nt(83,f1,r==i.panel.stats.size-2)),R(4),Xe(nr(53,51,n.value.resources.ground,"1.0","en-US")),R(2),q("ngClass",Nt(85,f1,r==i.panel.stats.size-2)),R(4),Xe(nr(59,55,n.value.resources.orbit,"1.0","en-US")),R(2),q("ngClass",Nt(87,f1,r==i.panel.stats.size-2)),R(4),Xe(nr(65,59,n.value.soldiers.total,"1.0","en-US"))}}let SFe=(()=>{var t;class e{constructor(){this.statsPanelService=O(Y$)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(L(0,"div",0)(1,"div",1)(2,"table",2),yt(3,zFe,66,89,"tr",3),S2(4,"keyvalue"),F()()()),2&r&&(R(3),q("ngForOf",i1(4,1,i.panel.stats)))},dependencies:[If,n0,Pi,cx,HFe,gC],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #626262;height:15px;width:15px;vertical-align:middle}"]}),e})(),xFe=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t,bootstrap:[SFe]}),t.\u0275inj=p2({providers:[Pi,Y$,S1],imports:[r4,i5]}),e})(),X$=(()=>{var t;class e{constructor(){this.firestore=O(Fn),this.dgAPI=O(S1)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=Bn(this.firestore,"scans");U3($3(i,Lr("location","==",r.planetScan.location),jj(1)),{idField:"id"}).forEach(s=>{let a=Object.assign(new Wj,s[0]);a.location=r.planetScan.location,a.turn=r.planetScan.turn,a.owner=r.planetScan.owner,(r.type==dt.RESOURCE||r.type==dt.SURFACE)&&(a.orbit=r.planetScan.orbit,a.ground=r.planetScan.ground),r.type==dt.RESOURCE&&(a.resources.length>0?a.resources.forEach((c,o)=>{c.abundance=r.planetScan.resources[o].abundance,c.name=r.planetScan.resources[o].name}):a.resources=r.planetScan.resources),r.type==dt.SURFACE&&(a.resources=r.planetScan.resources,a.workers=r.planetScan.workers,a.soldiers=r.planetScan.soldiers,a.structures=r.planetScan.structures),r.type==dt.FLEET&&(a.fleets=r.planetScan.fleets),0==s.length?Uj(i,JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}):$j(R_(i,a.id),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function IFe(t,e){1&t&&(L(0,"p",1),te(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),F())}let EFe=(()=>{var t;class e{constructor(){this.scanService=O(X$),this.authService=O(G3),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&yt(0,IFe,2,0,"p",0),2&r&&q("ngIf",i.active)},dependencies:[n4]}),e})(),LFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t,bootstrap:[EFe]}),t.\u0275inj=p2({providers:[X$,S1],imports:[r4,Gi(()=>Wi(u1_firebase)),t3(()=>n3()),B3(()=>j3()),Qi(()=>Yi(qi(),{provider:new lr(u1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),J$=(()=>{var t;class e{constructor(){this.firestore=O(Fn),this.dgAPI=O(S1),this.resourceProductionFormatterPipe=O(gC),this.decimalPipe=O(Pi)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));U3($3(Bn(this.firestore,"scans"),Lr("location","in",i))).forEach(s=>{let c=Object.assign([],s).reduce((o,l)=>o.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(o=>{let l=o.querySelector("div.coords > span").textContent.trim(),u=c.get(l);if(o.querySelector(".dgt-navigation-scan-turn").style.display="contents",o.querySelector("img:first-child").style.filter="grayscale(100%)",u){o.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(u.turn,"1.0","en_US"),u.resources.forEach(h=>{o.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",o.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let f=u.structures.map(h=>h.name);f.includes(De.JUMP_GATE)&&(o.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),f.includes(De.HYPERSPACE_BEACON)&&(o.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),f.includes(De.LIGHT_WEAPONS_FACTORY)&&(o.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),f.includes(De.HEAVY_WEAPONS_FACTORY)&&(o.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),f.includes(De.SHIP_YARD)&&(o.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),f.includes(De.SPACE_DOCK)&&(o.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),f.includes(De.HOLO_GENERATOR)&&(o.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),f.includes(De.ARMY_BARRACKS)&&(o.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),f.includes(De.COMMS_SATELLITE)&&(o.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let d=1;if(f.includes(De.MEDICAL_CENTRE)&&(d+=.3),f.includes(De.LEISURE_CENTRE)&&(d+=.4),f.includes(De.HOSPITAL)&&(d+=.3),u.workers.currentNumber>0||u.soldiers>0){o.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),o.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(d,"1.0","en_US"),o.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;o.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),o.querySelector(".dgt-navigation-scan-population").style.display="",o.querySelector(".dgt-navigation-scan-structures").style.display=""}}else o.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",o.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DFe(t,e){1&t&&(L(0,"p",1),te(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),F())}let AFe=(()=>{var t;class e{constructor(){this.scanService=O(J$),this.authService=O(G3),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&yt(0,DFe,2,0,"p",0),2&r&&q("ngIf",i.active)},dependencies:[n4]}),e})(),TFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t,bootstrap:[AFe]}),t.\u0275inj=p2({providers:[Pi,gC,J$,S1],imports:[r4,Gi(()=>Wi(u1_firebase)),t3(()=>n3()),B3(()=>j3()),Qi(()=>Yi(qi(),{provider:new lr(u1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function NFe(t,e){if(1&t){const n=Xr();L(0,"div",2)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"span"),te(6,"DGT Login"),F()()(),L(7,"tr",4)(8,"td"),Ge(9,"input",5,6),F(),L(11,"td"),Ge(12,"input",7,8),F()(),L(14,"tr",9)(15,"td",3)(16,"button",10),qe("click",function(){v1(n);const i=Hu(10),s=Hu(13);return y1(V2().signInWithEmailAndPassword(i.value,s.value,!0))}),te(17,"Login"),F(),L(18,"button",11),qe("click",function(){return v1(n),y1(V2().signInWithGoogle(!0))}),Ge(19,"img",12),F()()()()()()}}function kFe(t,e){if(1&t){const n=Xr();L(0,"div",13)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"button",14),qe("click",function(){return v1(n),y1(V2().signOut(!0))}),te(6,"Logout"),F()()()()()()}}let PFe=(()=>{var t;class e{constructor(){this.authService=O(G3),this.auth=O(d8),this.firestore=O(Fn),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore)}signInWithEmailAndPassword(r,i,s){this.authService.signInWithEmailAndPassword(this.auth,r,i,s)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}displayLogin(){return null==localStorage.getItem("user")&&!this.authService.refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"],["id","dgt-logout",1,"logout"],[1,"dgt-logout-button",3,"click"]],template:function(r,i){1&r&&(yt(0,NFe,20,0,"div",0),yt(1,kFe,7,0,"div",1)),2&r&&(q("ngIf",i.displayLogin()),R(1),q("ngIf",!i.displayLogin()))},dependencies:[n4],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-logout-button[_ngcontent-%COMP%]{display:none!important}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),RFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t,bootstrap:[PFe]}),t.\u0275inj=p2({imports:[r4,Gi(()=>Wi(u1_firebase)),t3(()=>n3()),B3(()=>j3()),Qi(()=>Yi(qi(),{provider:new lr(u1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),Z$=(()=>{var t;class e{constructor(){this.firestore=O(Fn)}updateOrder(r){let i=Bn(this.firestore,"orders");Uj(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){fRe(R_(Bn(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,a){let c=Bn(this.firestore,"orders");U3($3(c,Lr("user","==",r),dRe("executed","asc")),{idField:"id"}).forEach(o=>{let l=Object.assign([],o);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges()}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class OFe{get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target}}}var a5={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};const{isArray:Qje}=Array,{getPrototypeOf:Yje,prototype:Xje,keys:Jje}=Object;const{isArray:t$e}=Array;function i$e(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function s$e(...t){const e=function bK(t){return Fe(x5(t))?t.pop():void 0}(t),{args:n,keys:r}=function Zje(t){if(1===t.length){const e=t[0];if(Qje(e))return{args:e,keys:null};if(function e$e(t){return t&&"object"==typeof t&&Yje(t)===Xje}(e)){const n=Jje(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new Ye(s=>{const{length:a}=n;if(!a)return void s.complete();const c=new Array(a);let o=a,l=a;for(let u=0;u<a;u++){let f=!1;E1(n[u]).subscribe(an(s,d=>{f||(f=!0,l--),c[u]=d},()=>o--,void 0,()=>{(!o||!f)&&(l||s.next(r?i$e(r,c):c),s.complete())}))}});return e?i.pipe(function r$e(t){return es(e=>function n$e(t,e){return t$e(e)?t(...e):t(e)}(t,e))}(e)):i}let bq=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(At))},t.\u0275dir=K({type:t}),e})(),$4=(()=>{var t;class e extends bq{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function nt(t){return cn(()=>{const e=t.prototype.constructor,n=e[on]||h7(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[on]||h7(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275dir=K({type:t,features:[we]}),e})();const sn=new $("NgValueAccessor"),c$e={provide:sn,useExisting:Se(()=>c5),multi:!0},l$e=new $("CompositionEventMode");let c5=(()=>{var t;class e extends bq{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function o$e(){const t=Zs()?Zs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(At),z(l$e,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&qe("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[Ue([c$e]),we]}),e})();const ht=new $("NgValidators"),Pr=new $("NgAsyncValidators");function kq(t){return null!=t}function Pq(t){return I6(t)?I5(t):t}function Rq(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Oq(t,e){return e.map(n=>n(t))}function Fq(t){return t.map(e=>function f$e(t){return!t.validate}(e)?e:n=>e.validate(n))}function wC(t){return null!=t?function Bq(t){if(!t)return null;const e=t.filter(kq);return 0==e.length?null:function(n){return Rq(Oq(n,e))}}(Fq(t)):null}function VC(t){return null!=t?function Uq(t){if(!t)return null;const e=t.filter(kq);return 0==e.length?null:function(n){return s$e(Oq(n,e).map(Pq)).pipe(es(Rq))}}(Fq(t)):null}function jq(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function HC(t){return t?Array.isArray(t)?t:[t]:[]}function l5(t,e){return Array.isArray(t)?t.includes(e):t===e}function qq(t,e){const n=HC(e);return HC(t).forEach(i=>{l5(n,i)||n.push(i)}),n}function Wq(t,e){return HC(e).filter(n=>!l5(t,n))}class Kq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class zt extends Kq{get formDirective(){return null}get path(){return null}}class Rr extends Kq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qq{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yq=(()=>{var t;class e extends Qq{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Rr,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Rs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]}),e})(),Xq=(()=>{var t;class e extends Qq{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(zt,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Rs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[we]}),e})();const Xc="VALID",f5="INVALID",X3="PENDING",Jc="DISABLED";function SC(t){return(d5(t)?t.validators:t)||null}function xC(t,e){return(d5(e)?e.asyncValidators:t)||null}function d5(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class tW{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xc}get invalid(){return this.status===f5}get pending(){return this.status==X3}get disabled(){return this.status===Jc}get enabled(){return this.status!==Jc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qq(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qq(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wq(e,this._rawAsyncValidators))}hasValidator(e){return l5(this._rawValidators,e)}hasAsyncValidator(e){return l5(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=X3,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Xc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xc||this.status===X3)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jc:Xc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=X3,this._hasOwnPendingAsyncValidator=!0;const n=Pq(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new W2,this.statusChanges=new W2}_calculateStatus(){return this._allControlsDisabled()?Jc:this.errors?f5:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(X3)?X3:this._anyControlsHaveStatus(f5)?f5:Xc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){d5(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function m$e(t){return Array.isArray(t)?wC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function g$e(t){return Array.isArray(t)?VC(t):t||null}(this._rawAsyncValidators)}}class IC extends tW{constructor(e,n,r){super(SC(n),xC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function eW(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Zq(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const J3=new $("CallSetDisabledState",{providedIn:"root",factory:()=>h5}),h5="always";function Zc(t,e,n=h5){EC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function _$e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nW(t,e)})}(t,e),function M$e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function C$e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nW(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function y$e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function g5(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function EC(t,e){const n=function $q(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(jq(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Gq(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(jq(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();g5(e._rawValidators,i),g5(e._rawAsyncValidators,i)}function nW(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const z$e={provide:zt,useExisting:Se(()=>y5)},eo=(()=>Promise.resolve())();let y5=(()=>{var t;class e extends zt{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new W2,this.form=new IC({},wC(r),VC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){eo.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Zc(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){eo.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){eo.then(()=>{const i=this._findContainer(r.path),s=new IC({});(function rW(t,e){EC(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){eo.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){eo.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function iW(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(z(ht,10),z(Pr,10),z(J3,8))},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&qe("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([z$e]),we]}),e})();function sW(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function aW(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const cW=class extends tW{constructor(e=null,n,r){super(SC(n),xC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),d5(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=aW(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){aW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},I$e={provide:Rr,useExisting:Se(()=>TC)},uW=(()=>Promise.resolve())();let TC=(()=>{var t;class e extends Rr{constructor(r,i,s,a,c,o){super(),this._changeDetectorRef=c,this.callSetDisabledState=o,this.control=new cW,this._registered=!1,this.name="",this.update=new W2,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function AC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===c5?n=s:function H$e(t){return Object.getPrototypeOf(t.constructor)===$4}(s)?r=s:i=s}),i||r||n||null}(0,a)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function DC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){uW.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function vf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);uW.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function p5(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(z(zt,9),z(ht,10),z(Pr,10),z(sn,10),z(Xs,8),z(J3,8))},t.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([I$e]),we,e1]}),e})(),fW=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),hW=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({}),e})(),Z$e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({imports:[hW]}),e})(),tGe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:J3,useValue:r.callSetDisabledState??h5}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t}),t.\u0275inj=p2({imports:[Z$e]}),e})(),nGe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(At))},t.\u0275dir=K({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&qe("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),rGe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(At))},t.\u0275dir=K({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&qe("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),iGe=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=j2({name:"kickMemberFormatter",type:t,pure:!0}),e})();const LW=function(){return{color:"#fff"}},DW=function(){return["far","circle-xmark"]};function sGe(t,e){if(1&t){const n=Xr();L(0,"form",21,22),qe("ngSubmit",function(i){return v1(n),y1(V2(3).onSubmit(i))}),Ge(2,"input",23),S2(3,"kickMemberFormatter"),L(4,"button",24),Ge(5,"fa-icon",25),F()()}if(2&t){const n=V2(2).$implicit;R(2),zu("name",i1(3,4,n.dgId)),R(3),b2(z2(6,LW)),q("icon",z2(7,DW))}}function aGe(t,e){if(1&t&&(L(0,"span",26),te(1),F()),2&t){const n=V2(2).$implicit;R(1),Fs("[",n.kickEta,"]")}}function cGe(t,e){if(1&t&&(L(0,"div",18),yt(1,sGe,6,8,"form",19),yt(2,aGe,2,1,"span",20),F()),2&t){const n=V2().$implicit;R(1),q("ngIf",null==n.kickEta),R(1),q("ngIf",null!=n.kickEta)}}function oGe(t,e){if(1&t&&(L(0,"span",27),te(1),F()),2&t){const n=V2().$implicit;R(1),Fs("[note: ",n.note,"]")}}const lGe=function(t,e){return{executed:t,"in-progress":e}};function uGe(t,e){if(1&t){const n=Xr();L(0,"div",28)(1,"div",8)(2,"span",29),te(3,"Target:"),F(),L(4,"span",30),te(5),F()(),L(6,"div",10)(7,"span",29),te(8,"Wait:"),F(),L(9,"span",30),te(10),F()(),L(11,"div",12)(12,"span",29),te(13,"Instructions:"),F(),L(14,"span",30),te(15),F()(),L(16,"div",31)(17,"button",15),qe("click",function(){const s=v1(n).$implicit;return y1(V2(2).deleteOrder(s.id))}),Ge(18,"fa-icon",25),F()()()}if(2&t){const n=e.$implicit;q("ngClass",Sz(7,lGe,n.executed,!n.executed)),R(5),Xe(n.target),R(5),Xe(n.wait),R(5),Xe(n.instructions),R(3),b2(z2(10,LW)),q("icon",z2(11,DW))}}function fGe(t,e){if(1&t){const n=Xr();L(0,"div",2)(1,"div",3)(2,"span",4),te(3),F(),yt(4,cGe,3,2,"div",5),yt(5,oGe,2,1,"span",6),F(),L(6,"div",7)(7,"div",8)(8,"span",8),te(9,"Target:"),F(),L(10,"input",9),qe("ngModelChange",function(i){const a=v1(n).index;return y1(V2().controls.target[a]=i)}),F()(),L(11,"div",10)(12,"span",10),te(13,"Wait:"),F(),L(14,"input",11),qe("ngModelChange",function(i){const a=v1(n).index;return y1(V2().controls.wait[a]=i)}),F()(),L(15,"div",12)(16,"span",12),te(17,"Instructions:"),F(),L(18,"textarea",13),qe("ngModelChange",function(i){const a=v1(n).index;return y1(V2().controls.instructions[a]=i)}),F()(),L(19,"div",14)(20,"button",15),qe("click",function(){const s=v1(n).index;return y1(V2().createOrder(s))}),te(21,"Send"),F()()(),L(22,"div",16),yt(23,uGe,19,12,"div",17),S2(24,"async"),F()()}if(2&t){const n=e.$implicit,r=e.index,i=V2();R(3),Xe(n.name),R(1),q("ngIf",null!=n.dgId),R(1),q("ngIf",null!=n.note),R(5),q("ngModel",i.controls.target[r]),R(4),q("ngModel",i.controls.wait[r]),R(4),q("ngModel",i.controls.instructions[r]),R(5),q("ngForOf",i1(24,7,i.orders.get(n.name.toLowerCase())))}}let dGe=(()=>{var t;class e{constructor(r){this.orderService=O(Z$),this.dgAPI=O(S1),this.authService=O(G3),this.changeDetection=O(Xs),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(a5),this.allianceMembers=this.dgAPI.allianceMembers(!1),this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.allianceMembers.forEach(i=>{this.orders.set(i.name.toLowerCase(),new Ye(s=>{this.orderService.getAllOrders(i.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,s)}))})}createOrder(r){let i=new OFe;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmit(r){r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(r5))},t.\u0275cmp=D1({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:2,vars:1,consts:[[1,"dgt-orders-manager-panel"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","note",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[1,"dgt-orders-history"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit",4,"ngIf"],["class","kick-eta",4,"ngIf"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"],[1,"kick-eta"],[1,"note"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"label"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(L(0,"div",0),yt(1,fGe,25,9,"div",1),F()),2&r&&(R(1),q("ngForOf",i.allianceMembers))},dependencies:[If,n0,n4,fW,c5,Yq,Xq,TC,y5,W$,nGe,rGe,r0,iGe],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:5px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:322px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:28px;width:70px!important;cursor:pointer;border:1px solid #000000!important;border-radius:5px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);border-radius:5px;margin-bottom:10px;padding:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffd46f;font-weight:400!important;float:right}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid #fff;width:calc(100% - 12px);border-radius:5px;padding:3px 5px}.dgt-orders-history-details[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{border-color:#7bbd1a;background:#7BBD1A2E}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{border-color:#ff3b30;background:#FF3B302B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;padding-top:5px;border-top:1px solid rgba(0,0,0,.25);margin-top:5px;margin-left:5px;margin-right:5px}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffd46f;font-weight:700}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46f!important}"]}),e})(),hGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t,bootstrap:[dGe]}),t.\u0275inj=p2({providers:[Z$,S1],imports:[r4,tGe,i5,Gi(()=>Wi(u1_firebase)),t3(()=>n3()),B3(()=>j3()),Qi(()=>Yi(qi(),{provider:new lr(u1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),i5]}),e})(),AW=(()=>{var t;class e{constructor(){this.firestore=O(Fn)}getActiveOrders(r,i,s,a){let c=Bn(this.firestore,"orders");U3($3(c,Lr("user","==",r),Lr("executed","==",!1)),{idField:"id"}).forEach(o=>{let l=Object.assign([],o);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges()}).catch(o=>{console.log(o)})}completeOrder(r){let i=Bn(this.firestore,"orders");$j(R_(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function pGe(t,e){if(1&t){const n=Xr();L(0,"div",2)(1,"div",3)(2,"button",4),qe("click",function(){const s=v1(n).$implicit;return y1(V2(2).onCompleteClick(s.id))}),function pw(){Q.lFrame.currentNamespace=QM}(),L(3,"svg",5),Ge(4,"path",6),F()()(),function mw(){!function iY(){Q.lFrame.currentNamespace=null}()}(),L(5,"div",7)(6,"span",8),te(7,"Target:"),F(),L(8,"span",9),te(9),F()(),L(10,"div",10)(11,"span",8),te(12,"Wait:"),F(),L(13,"span",9),te(14),F()(),L(15,"div",11)(16,"span",8),te(17,"Instructions:"),F(),L(18,"span",9),te(19),F()()()}if(2&t){const n=e.$implicit;R(9),Xe(n.target),R(5),Xe(n.wait),R(5),Xe(n.instructions)}}function mGe(t,e){if(1&t&&(S6(0),yt(1,pGe,20,3,"div",1),S2(2,"async"),x6()),2&t){const n=V2();R(1),q("ngForOf",i1(2,1,n.orders))}}let gGe=(()=>{var t;class e{constructor(r){this.orderService=O(AW),this.dgAPI=O(S1),this.changeDetection=O(Xs),this.authService=O(G3),this.active=!1,r.addIcons(m0,Ri,u9,E9,Jf,Yf,V0),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.orders=new Ye(s=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,s)})),this.changeDetection.detectChanges()})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(r5))},t.\u0275cmp=D1({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alert-animation dgt-fleet-order",4,"ngFor","ngForOf"],[1,"alert-animation","dgt-fleet-order"],[1,"complete"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"],[1,"target"],[1,"label"],[1,"value"],[1,"wait"],[1,"instructions"]],template:function(r,i){1&r&&yt(0,mGe,3,3,"ng-container",0),2&r&&q("ngIf",i.active)},dependencies:[n0,n4,r0],styles:[".dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#FF3B302B;border:1px solid #FF3B30;margin:5px 10px;width:calc(100% - 20px);border-radius:5px;height:40px;line-height:40px}.dgt-fleet-order[_ngcontent-%COMP%]:first-child{margin-top:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;line-height:40px;width:20px;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{fill:#7a7a7a;height:20px;align-content:center;display:flex}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]{fill:#7bbd1a!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:40px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;font-weight:700;color:#ffd46f;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}"]}),e})(),vGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=M2({type:t,bootstrap:[gGe]}),t.\u0275inj=p2({providers:[AW,S1],imports:[r4,Gi(()=>Wi(u1_firebase)),t3(()=>n3()),B3(()=>j3()),Qi(()=>Yi(qi(),{provider:new lr(u1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const q4=$4e();let I1=window.location.pathname.split(/\//g);q4.bootstrapModule(RFe).catch(t=>console.error(t)),q4.bootstrapModule(MFe).catch(t=>console.error(t)),"planets"===I1[1]&&q4.bootstrapModule(xFe).catch(t=>console.error(t)),"planet"===I1[1]&&"comms"===(5===I1.length&&I1[3])&&q4.bootstrapModule(LFe).catch(t=>console.error(t)),"navigation"===I1[1]&&6===I1.length&&!isNaN(+I1[2])&&!isNaN(+I1[3])&&!isNaN(+I1[4])&&q4.bootstrapModule(TFe).catch(t=>console.error(t)),"alliances"===I1[1]&&q4.bootstrapModule(hGe).catch(t=>console.error(t)),"fleets"===I1[1]&&q4.bootstrapModule(vGe).catch(t=>console.error(t))}},Fe=>{Fe(Fe.s=942)}]);