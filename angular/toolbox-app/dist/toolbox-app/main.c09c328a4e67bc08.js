(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{833:(Ee,Ie,V)=>{"use strict";function M(t){return"function"==typeof t}function b(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const $=b(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class X{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(M(r))try{r()}catch(s){e=s instanceof $?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_(s)}catch(o){e=e??[],o instanceof $?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof X){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&U(n,e)}remove(e){const{_finalizers:n}=this;n&&U(n,e),e instanceof X&&e._removeParent(this)}}X.EMPTY=(()=>{const t=new X;return t.closed=!0,t})();const N=X.EMPTY;function W(t){return t instanceof X||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function _(t){M(t)?t():t.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(t,e,...n){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=P;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function y(t){P.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw t;e(t)})}function D(){}const x=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function m(t){if(w.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class L extends X{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,W(e)&&e.add(this)):this.destination=Y}static create(e,n,r){return new fe(e,n,r)}next(e){this.isStopped?Ae(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ae(function T(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ae(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function z(t,e){return O.call(t,e)}class j{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ce(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ce(r)}else ce(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ce(n)}}}class fe extends L{constructor(e,n,r){let i;if(super(),M(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&z(e.next,s),error:e.error&&z(e.error,s),complete:e.complete&&z(e.complete,s)}):i=e}this.destination=new j(i)}}function ce(t){w.useDeprecatedSynchronousErrorHandling?function C(t){w.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):y(t)}function Ae(t,e){const{onStoppedNotification:n}=w;n&&P.setTimeout(()=>n(t,e))}const Y={closed:!0,next:D,error:function ge(t){throw t},complete:D},de="function"==typeof Symbol&&Symbol.observable||"@@observable";function ye(t){return t}function Fe(t){return 0===t.length?ye:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function J(t){return t&&t instanceof L||function et(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}(t)&&W(t)}(n)?n:new fe(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ke(r))((i,s)=>{const o=new fe({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[de](){return this}pipe(...n){return Fe(n)(this)}toPromise(n){return new(n=Ke(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ke(t){var e;return null!==(e=t??w.Promise)&&void 0!==e?e:Promise}const oe=b(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let te=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new se(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oe}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new X(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new he;return n.source=this,n}}return t.create=(e,n)=>new se(e,n),t})();class se extends te{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function Tt(t){return M(t?.lift)}function Le(t){return e=>{if(Tt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(t,e,n,r,i){return new Ze(t,e,n,r,i)}class Ze extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Qe(t,e){return Le((n,r)=>{let i=0;n.subscribe(tt(r,s=>{r.next(t.call(e,s,i++))}))})}function ir(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function An(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Xi(t,e){return function(n,r){e(n,r,t)}}function Ai(t){return this instanceof Ai?(this.v=t,this):new Ai(t)}function Wp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Fc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ld(t){return M(t?.then)}function e0(t){return M(t[de])}function t0(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function ud(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dd=function l_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sr(t){return M(t?.[dd])}function Di(t){return function Os(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Ai?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ai(n.read());if(i)return yield Ai(void 0);yield yield Ai(r)}}finally{n.releaseLock()}})}function fd(t){return M(t?.getReader)}function or(t){if(t instanceof he)return t;if(null!=t){if(e0(t))return function sj(t){return new he(e=>{const n=t[de]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Zp(t))return function oj(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(ld(t))return function aj(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,y)})}(t);if(t0(t))return ww(t);if(sr(t))return function cj(t){return new he(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(fd(t))return function lj(t){return ww(Di(t))}(t)}throw ud(t)}function ww(t){return new he(e=>{(function uj(t,e){var n,r,i,s;return function kr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Wp(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Fs(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function jn(t,e,n=1/0){return M(e)?jn((r,i)=>Qe((s,o)=>e(r,s,i,o))(or(t(r,i))),n):("number"==typeof e&&(n=e),Le((r,i)=>function dj(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let E=!1;or(n(g,u++)).subscribe(tt(e,S=>{i?.(S),s?h(S):e.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const S=c.shift();o?Fs(e,o,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(tt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function n0(t=1/0){return jn(ye,t)}const Ji=new he(t=>t.complete());function u_(t){return t[t.length-1]}function Aw(t){return M(u_(t))?t.pop():void 0}function hd(t){return function hj(t){return t&&M(t.schedule)}(u_(t))?t.pop():void 0}function r0(t,e=0){return Le((n,r)=>{n.subscribe(tt(r,i=>Fs(r,t,()=>r.next(i),e),()=>Fs(r,t,()=>r.complete(),e),i=>Fs(r,t,()=>r.error(i),e)))})}function s0(t,e=0){return Le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Dw(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{Fs(n,e,()=>{const r=t[Symbol.asyncIterator]();Fs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $n(t,e){return e?function Ej(t,e){if(null!=t){if(e0(t))return function gj(t,e){return or(t).pipe(s0(e),r0(e))}(t,e);if(Zp(t))return function _j(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(ld(t))return function mj(t,e){return or(t).pipe(s0(e),r0(e))}(t,e);if(t0(t))return Dw(t,e);if(sr(t))return function vj(t,e){return new he(n=>{let r;return Fs(n,e,()=>{r=t[dd](),Fs(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}(t,e);if(fd(t))return function yj(t,e){return Dw(Di(t),e)}(t,e)}throw ud(t)}(t,e):or(t)}class li extends te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Be(...t){return $n(t,hd(t))}function Tw(t={}){const{connector:e=(()=>new te),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Le((g,E)=>{l++,!d&&!u&&f();const S=c=c??e();E.add(()=>{l--,0===l&&!d&&!u&&(a=d_(p,i))}),S.subscribe(E),!o&&l>0&&(o=new fe({next:I=>S.next(I),error:I=>{d=!0,f(),a=d_(h,n,I),S.error(I)},complete:()=>{u=!0,f(),a=d_(h,r),S.complete()}}),or(g).subscribe(o))})(s)}}function d_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new fe({next:()=>{r.unsubscribe(),t()}});return or(e(...n)).subscribe(r)}function ui(t,e){return Le((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(tt(r,c=>{i?.unsubscribe();let l=0;const u=s++;or(t(c,u)).subscribe(i=tt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Sw(t,e=ye){return t=t??Cj,Le((n,r)=>{let i,s=!0;n.subscribe(tt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Cj(t,e){return t===e}function xt(t){for(let e in t)if(t[e]===xt)return e;throw Error("Could not find renamed property on target object.")}function o0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Dn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ij=xt({__forward_ref__:xt});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return Dn(this())},t}function Ue(t){return h_(t)?t():t}function h_(t){return"function"==typeof t&&t.hasOwnProperty(Ij)&&t.__forward_ref__===Mt}function p_(t){return t&&!!t.\u0275providers}const Mw="https://g.co/ng/security#xss";class ne extends Error{constructor(e,n){super(function a0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $e(t){return"string"==typeof t?t:null==t?"":String(t)}function g_(t,e){throw new ne(-201,!1)}function di(t,e){null==t&&function He(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function c0(t){return Pw(t,u0)||Pw(t,Rw)}function Pw(t,e){return t.hasOwnProperty(e)?t[e]:null}function l0(t){return t&&(t.hasOwnProperty(m_)||t.hasOwnProperty(Pj))?t[m_]:null}const u0=xt({\u0275prov:xt}),m_=xt({\u0275inj:xt}),Rw=xt({ngInjectableDef:xt}),Pj=xt({ngInjectorDef:xt});var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ot||{});let __;function Or(t){const e=__;return __=t,e}function Nw(t,e,n){const r=c0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ot.Optional?null:void 0!==e?e:void g_(Dn(t))}const Rt=globalThis;class xe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const pd={},C_="__NG_DI_FLAG__",d0="ngTempTokenPath",Nj=/\n/gm,Fw="__source";let Vc;function To(t){const e=Vc;return Vc=t,e}function Vj(t,e=ot.Default){if(void 0===Vc)throw new ne(-203,!1);return null===Vc?Nw(t,void 0,e):Vc.get(t,e&ot.Optional?null:void 0,e)}function Me(t,e=ot.Default){return(function kw(){return __}()||Vj)(Ue(t),e)}function K(t,e=ot.Default){return Me(t,f0(e))}function f0(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function I_(t){const e=[];for(let n=0;n<t.length;n++){const r=Ue(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ne(900,!1);let i,s=ot.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Lj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Me(i,s))}else e.push(Me(r))}return e}function gd(t,e){return t[C_]=e,t.prototype[C_]=e,t}function Lj(t){return t[C_]}function Vs(t){return{toString:t}.toString()}var h0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(h0||{}),Ti=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ti||{});const Zi={},pt=[],p0=xt({\u0275cmp:xt}),b_=xt({\u0275dir:xt}),w_=xt({\u0275pipe:xt}),Lw=xt({\u0275mod:xt}),Ls=xt({\u0275fac:xt}),md=xt({__NG_ELEMENT_ID__:xt}),Bw=xt({__NG_ENV_ID__:xt});function Hw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function A_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Uw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function zw(t){return 3===t||4===t||6===t}function Uw(t){return 64===t.charCodeAt(0)}function _d(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||jw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function jw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const $w="ng-template";function zj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Hw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Gw(t){return 4===t.type&&t.value!==$w}function Uj(t,e,n){return e===(4!==t.type||n?t.value:$w)}function jj(t,e,n){let r=4;const i=t.attrs||[],s=function qj(t){for(let e=0;e<t.length;e++)if(zw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Uj(t,c,n)||""===c&&1===e.length){if(Si(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!zj(t.attrs,l,n)){if(Si(r))return!1;o=!0}continue}const d=$j(8&r?"class":c,i,Gw(t),n);if(-1===d){if(Si(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Hw(h,l,0)||2&r&&l!==f){if(Si(r))return!1;o=!0}}}}else{if(!o&&!Si(r)&&!Si(c))return!1;if(o&&Si(c))continue;o=!1,r=c|1&r}}return Si(r)||o}function Si(t){return 0==(1&t)}function $j(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Wj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function qw(t,e,n=!1){for(let r=0;r<e.length;r++)if(jj(t,e[r],n))return!0;return!1}function Kj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Ww(t,e){return t?":not("+e.trim()+")":e}function Yj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Si(o)&&(e+=Ww(s,i),i=""),r=o,s=s||!Si(r);n++}return""!==i&&(e+=Ww(s,i)),e}function yr(t){return Vs(()=>{const e=Yw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===h0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ti.Emulated,styles:t.styles||pt,_:null,schemas:t.schemas||null,tView:null,id:""};Qw(n);const r=t.dependencies;return n.directiveDefs=g0(r,!1),n.pipeDefs=g0(r,!0),n.id=function r$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Zj(t){return lt(t)||Gn(t)}function e$(t){return null!==t}function Bt(t){return Vs(()=>({type:t.type,bootstrap:t.bootstrap||pt,declarations:t.declarations||pt,imports:t.imports||pt,exports:t.exports||pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Kw(t,e){if(null==t)return Zi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Oe(t){return Vs(()=>{const e=Yw(t);return Qw(e),e})}function Nn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function lt(t){return t[p0]||null}function Gn(t){return t[b_]||null}function Er(t){return t[w_]||null}function Wr(t,e){const n=t[Lw]||null;if(!n&&!0===e)throw new Error(`Type ${Dn(t)} does not have '\u0275mod' property.`);return n}function Yw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Kw(t.inputs,e),outputs:Kw(t.outputs)}}function Qw(t){t.features?.forEach(e=>e(t))}function g0(t,e){if(!t)return null;const n=e?Er:Zj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(e$)}const sn=0,we=1,Ye=2,$t=3,Mi=4,vd=5,ar=6,Bc=7,hn=8,So=9,Hc=10,Ge=11,yd=12,Xw=13,zc=14,pn=15,Ed=16,Uc=17,es=18,xd=19,Jw=20,Mo=21,Bs=22,Cd=23,Id=24,nt=25,D_=1,Zw=2,ts=7,jc=9,qn=11;function Fr(t){return Array.isArray(t)&&"object"==typeof t[D_]}function xr(t){return Array.isArray(t)&&!0===t[D_]}function T_(t){return 0!=(4&t.flags)}function Sa(t){return t.componentOffset>-1}function _0(t){return 1==(1&t.flags)}function Pi(t){return!!t.template}function S_(t){return 0!=(512&t[Ye])}function Ma(t,e){return t.hasOwnProperty(Ls)?t[Ls]:null}let Wn=null,v0=!1;function fi(t){const e=Wn;return Wn=t,e}const nA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function iA(t){if(!wd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!aA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function oA(t){t.dirty=!0,function sA(t){if(void 0===t.liveConsumerNode)return;const e=v0;v0=!0;try{for(const n of t.liveConsumerNode)n.dirty||oA(n)}finally{v0=e}}(t),t.consumerMarkedDirty?.(t)}function P_(t){return t&&(t.nextProducerIndex=0),fi(t)}function R_(t,e){if(fi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(wd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)y0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function aA(t){$c(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(iA(n),r!==n.version))return!0}return!1}function cA(t){if($c(t),wd(t))for(let e=0;e<t.producerNode.length;e++)y0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function y0(t,e){if(function uA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),$c(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)y0(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$c(i),i.producerIndexOfThis[r]=e}}function wd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $c(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let dA=null;function pA(t){const e=fi(null);try{return t()}finally{fi(e)}}const gA=()=>{},m$=(()=>({...nA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:gA}))();class _${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Cr(){return mA}function mA(t){return t.type.prototype.ngOnChanges&&(t.setInput=y$),v$}function v$(){const t=vA(this),e=t?.current;if(e){const n=t.previous;if(n===Zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function y$(t,e,n,r){const i=this.declaredInputs[n],s=vA(t)||function E$(t,e){return t[_A]=e}(t,{previous:Zi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new _$(c&&c.currentValue,e,a===Zi),t[r]=e}Cr.ngInherit=!0;const _A="__ngSimpleChanges__";function vA(t){return t[_A]||null}const ns=function(t,e,n){};function kt(t){for(;Array.isArray(t);)t=t[sn];return t}function E0(t,e){return kt(e[t])}function Vr(t,e){return kt(e[t.index])}function xA(t,e){return t.data[e]}function Gc(t,e){return t[e]}function Kr(t,e){const n=e[t];return Fr(n)?n:n[sn]}function Ro(t,e){return null==e?null:t[e]}function CA(t){t[Uc]=0}function A$(t){1024&t[Ye]||(t[Ye]|=1024,bA(t,1))}function IA(t){1024&t[Ye]&&(t[Ye]&=-1025,bA(t,-1))}function bA(t,e){let n=t[$t];if(null===n)return;n[vd]+=e;let r=n;for(n=n[$t];null!==n&&(1===e&&1===r[vd]||-1===e&&0===r[vd]);)n[vd]+=e,r=n,n=n[$t]}const ze={lFrame:OA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function DA(){return ze.bindingsEnabled}function qc(){return null!==ze.skipHydrationRootTNode}function Z(){return ze.lFrame.lView}function ut(){return ze.lFrame.tView}function hi(t){return ze.lFrame.contextLView=t,t[hn]}function pi(t){return ze.lFrame.contextLView=null,t}function Kn(){let t=TA();for(;null!==t&&64===t.type;)t=t.parent;return t}function TA(){return ze.lFrame.currentTNode}function rs(t,e){const n=ze.lFrame;n.currentTNode=t,n.isParent=e}function V_(){return ze.lFrame.isParent}function L_(){ze.lFrame.isParent=!1}function Ir(){const t=ze.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Wc(){return ze.lFrame.bindingIndex++}function L$(t,e){const n=ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,B_(e)}function B_(t){ze.lFrame.currentDirectiveIndex=t}function RA(){return ze.lFrame.currentQueryIndex}function z_(t){ze.lFrame.currentQueryIndex=t}function H$(t){const e=t[we];return 2===e.type?e.declTNode:1===e.type?t[ar]:null}function kA(t,e,n){if(n&ot.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ot.Host||(i=H$(s),null===i||(s=s[zc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ze.lFrame=NA();return r.currentTNode=e,r.lView=t,!0}function U_(t){const e=NA(),n=t[we];ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function NA(){const t=ze.lFrame,e=null===t?null:t.child;return null===e?OA(t):e}function OA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function FA(){const t=ze.lFrame;return ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const VA=FA;function j_(){const t=FA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function br(){return ze.lFrame.selectedIndex}function Pa(t){ze.lFrame.selectedIndex=t}function Xt(){const t=ze.lFrame;return xA(t.tView,t.selectedIndex)}let BA=!0;function x0(){return BA}function ko(t){BA=t}function C0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function I0(t,e,n){HA(t,e,3,n)}function b0(t,e,n,r){(3&t[Ye])===n&&HA(t,e,n,r)}function $_(t,e){let n=t[Ye];(3&n)===e&&(n&=8191,n+=1,t[Ye]=n)}function HA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Uc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Uc]+=65536),(a<s||-1==s)&&(K$(t,n,e,c),t[Uc]=(4294901760&t[Uc])+c+2),c++}function zA(t,e){ns(4,t,e);const n=fi(null);try{e.call(t)}finally{fi(n),ns(5,t,e)}}function K$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ye]>>13<t[Uc]>>16&&(3&t[Ye])===e&&(t[Ye]+=8192,zA(a,s)):zA(a,s)}const Kc=-1;class Dd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function q_(t){return t!==Kc}function Td(t){return 32767&t}function Sd(t,e){let n=function J$(t){return t>>16}(t),r=e;for(;n>0;)r=r[zc],n--;return r}let W_=!0;function w0(t){const e=W_;return W_=t,e}const UA=255,jA=5;let Z$=0;const is={};function A0(t,e){const n=$A(t,e);if(-1!==n)return n;const r=e[we];r.firstCreatePass&&(t.injectorIndex=e.length,K_(r.data,t),K_(e,null),K_(r.blueprint,null));const i=D0(t,e),s=t.injectorIndex;if(q_(i)){const o=Td(i),a=Sd(i,e),c=a[we].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function K_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $A(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function D0(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=XA(i),null===r)return Kc;if(n++,i=i[zc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Kc}function Y_(t,e,n){!function eG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(md)&&(r=n[md]),null==r&&(r=n[md]=Z$++);const i=r&UA;e.data[t+(i>>jA)]|=1<<i}(t,e,n)}function GA(t,e,n){if(n&ot.Optional||void 0!==t)return t;g_()}function qA(t,e,n,r){if(n&ot.Optional&&void 0===r&&(r=null),!(n&(ot.Self|ot.Host))){const i=t[So],s=Or(void 0);try{return i?i.get(e,r,n&ot.Optional):Nw(e,r,n&ot.Optional)}finally{Or(s)}}return GA(r,0,n)}function WA(t,e,n,r=ot.Default,i){if(null!==t){if(2048&e[Ye]&&!(r&ot.Self)){const o=function oG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Ye]&&!(512&o[Ye]);){const a=KA(s,o,n,r|ot.Self,is);if(a!==is)return a;let c=s.parent;if(!c){const l=o[Jw];if(l){const u=l.get(n,is,r);if(u!==is)return u}c=XA(o),o=o[zc]}s=c}return i}(t,e,n,r,is);if(o!==is)return o}const s=KA(t,e,n,r,is);if(s!==is)return s}return qA(e,n,r,i)}function KA(t,e,n,r,i){const s=function rG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(md)?t[md]:void 0;return"number"==typeof e?e>=0?e&UA:sG:e}(n);if("function"==typeof s){if(!kA(e,t,r))return r&ot.Host?GA(i,0,r):qA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ot.Optional)return o;g_()}finally{VA()}}else if("number"==typeof s){let o=null,a=$A(t,e),c=Kc,l=r&ot.Host?e[pn][ar]:null;for((-1===a||r&ot.SkipSelf)&&(c=-1===a?D0(t,e):e[a+8],c!==Kc&&QA(r,!1)?(o=e[we],a=Td(c),e=Sd(c,e)):a=-1);-1!==a;){const u=e[we];if(YA(s,a,u.data)){const d=nG(a,e,n,o,r,l);if(d!==is)return d}c=e[a+8],c!==Kc&&QA(r,e[we].data[a+8]===l)&&YA(s,a,e)?(o=u,a=Td(c),e=Sd(c,e)):a=-1}}return i}function nG(t,e,n,r,i,s){const o=e[we],a=o.data[t+8],u=T0(a,o,n,null==r?Sa(a)&&W_:r!=o&&0!=(3&a.type),i&ot.Host&&s===a);return null!==u?Ra(e,o,u,a):is}function T0(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Pi(h)&&h.type===n)return c}return null}function Ra(t,e,n,r){let i=t[n];const s=e.data;if(function Y$(t){return t instanceof Dd}(i)){const o=i;o.resolving&&function bj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ne(-200,`Circular dependency in DI detected for ${t}${n}`)}(function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$e(t)}(s[n]));const a=w0(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Or(o.injectImpl):null;kA(t,r,ot.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function W$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=mA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Or(l),w0(a),o.resolving=!1,VA()}}return i}function YA(t,e,n){return!!(n[e+(t>>jA)]&1<<t)}function QA(t,e){return!(t&ot.Self||t&ot.Host&&e)}class wr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WA(this._tNode,this._lView,e,f0(r),n)}}function sG(){return new wr(Kn(),Z())}function Yn(t){return Vs(()=>{const e=t.prototype.constructor,n=e[Ls]||Q_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ls]||Q_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Q_(t){return h_(t)?()=>{const e=Q_(Ue(t));return e&&e()}:Ma(t)}function XA(t){const e=t[we],n=e.type;return 2===n?e.declTNode:1===n?t[ar]:null}const Qc="__parameters__";function Jc(t,e,n){return Vs(()=>{const r=function X_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Qc)?c[Qc]:Object.defineProperty(c,Qc,{value:[]})[Qc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function el(t,e){t.forEach(n=>Array.isArray(n)?el(n,e):e(n))}function ZA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function M0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Rd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Yr(t,e,n){let r=tl(t,e);return r>=0?t[1|r]=n:(r=~r,function hG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function J_(t,e){const n=tl(t,e);if(n>=0)return t[1|n]}function tl(t,e){return function e5(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const En=gd(Jc("Optional"),8),ev=gd(Jc("SkipSelf"),4);function F0(t){return 128==(128&t.flags)}var No=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(No||{});const NG=/^>|^->|<!--|-->|--!>|<!-$/g,OG=/(<|>)/g,FG="\u200b$1\u200b";const iv=new Map;let VG=0;const ov="__ngContext__";function cr(t,e){Fr(e)?(t[ov]=e[xd],function BG(t){iv.set(t[xd],t)}(e)):t[ov]=e}let av;function cv(t,e){return av(t,e)}function Od(t){const e=t[$t];return xr(e)?e[$t]:e}function E5(t){return C5(t[yd])}function x5(t){return C5(t[Mi])}function C5(t){for(;null!==t&&!xr(t);)t=t[Mi];return t}function il(t,e,n,r,i){if(null!=r){let s,o=!1;xr(r)?s=r:Fr(r)&&(o=!0,r=r[sn]);const a=kt(r);0===t&&null!==n?null==i?A5(e,n,a):ka(e,n,a,i||null,!0):1===t&&null!==n?ka(e,n,a,i||null,!0):2===t?function j0(t,e,n){const r=z0(t,e);r&&function iq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function aq(t,e,n,r,i){const s=n[ts];s!==kt(n)&&il(e,t,r,s,i);for(let a=qn;a<n.length;a++){const c=n[a];Vd(c[we],c,t,e,r,s)}}(e,t,s,n,i)}}function lv(t,e){return t.createComment(function f5(t){return t.replace(NG,e=>e.replace(OG,FG))}(e))}function B0(t,e,n){return t.createElement(e,n)}function b5(t,e){const n=t[jc],r=n.indexOf(e);IA(e),n.splice(r,1)}function H0(t,e){if(t.length<=qn)return;const n=qn+e,r=t[n];if(r){const i=r[Ed];null!==i&&i!==t&&b5(i,r),e>0&&(t[n-1][Mi]=r[Mi]);const s=M0(t,qn+e);!function QG(t,e){Vd(t,e,e[Ge],2,null,null),e[sn]=null,e[ar]=null}(r[we],r);const o=s[es];null!==o&&o.detachView(s[we]),r[$t]=null,r[Mi]=null,r[Ye]&=-129}return r}function uv(t,e){if(!(256&e[Ye])){const n=e[Ge];e[Cd]&&cA(e[Cd]),e[Id]&&cA(e[Id]),n.destroyNode&&Vd(t,e,n,3,null,null),function ZG(t){let e=t[yd];if(!e)return dv(t[we],t);for(;e;){let n=null;if(Fr(e))n=e[yd];else{const r=e[qn];r&&(n=r)}if(!n){for(;e&&!e[Mi]&&e!==t;)Fr(e)&&dv(e[we],e),e=e[$t];null===e&&(e=t),Fr(e)&&dv(e[we],e),n=e&&e[Mi]}e=n}}(e)}}function dv(t,e){if(!(256&e[Ye])){e[Ye]&=-129,e[Ye]|=256,function rq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Dd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ns(4,a,c);try{c.call(a)}finally{ns(5,a,c)}}else{ns(4,i,s);try{s.call(i)}finally{ns(5,i,s)}}}}}(t,e),function nq(t,e){const n=t.cleanup,r=e[Bc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Bc]=null);const i=e[Mo];if(null!==i){e[Mo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[we].type&&e[Ge].destroy();const n=e[Ed];if(null!==n&&xr(e[$t])){n!==e[$t]&&b5(n,e);const r=e[es];null!==r&&r.detachView(t)}!function HG(t){iv.delete(t[xd])}(e)}}function fv(t,e,n){return function w5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[sn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ti.None||s===Ti.Emulated)return null}return Vr(r,n)}}(t,e.parent,n)}function ka(t,e,n,r,i){t.insertBefore(e,n,r,i)}function A5(t,e,n){t.appendChild(e,n)}function D5(t,e,n,r,i){null!==r?ka(t,e,n,r,i):A5(t,e,n)}function z0(t,e){return t.parentNode(e)}function T5(t,e,n){return M5(t,e,n)}let hv,$0,_v,G0,M5=function S5(t,e,n){return 40&t.type?Vr(t,n):null};function U0(t,e,n,r){const i=fv(t,r,e),s=e[Ge],a=T5(r.parent||e[ar],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)D5(s,i,n[c],a,!1);else D5(s,i,n,a,!1);void 0!==hv&&hv(s,r,e,n,i)}function Fd(t,e){if(null!==e){const n=e.type;if(3&n)return Vr(e,t);if(4&n)return pv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Fd(t,r);{const i=t[e.index];return xr(i)?pv(-1,i):kt(i)}}if(32&n)return cv(e,t)()||kt(t[e.index]);{const r=R5(t,e);return null!==r?Array.isArray(r)?r[0]:Fd(Od(t[pn]),r):Fd(t,e.next)}}return null}function R5(t,e){return null!==e?t[pn][ar].projection[e.projection]:null}function pv(t,e){const n=qn+t+1;if(n<e.length){const r=e[n],i=r[we].firstChild;if(null!==i)return Fd(r,i)}return e[ts]}function gv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&cr(kt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)gv(t,e,n.child,r,i,s,!1),il(e,t,i,a,s);else if(32&c){const l=cv(n,r);let u;for(;u=l();)il(e,t,i,u,s);il(e,t,i,a,s)}else 16&c?N5(t,e,r,n,i,s):il(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Vd(t,e,n,r,i,s){gv(n,r,t.firstChild,e,i,s,!1)}function N5(t,e,n,r,i,s){const o=n[pn],c=o[ar].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)il(e,t,i,c[l],s);else{let l=c;const u=o[$t];F0(r)&&(l.flags|=128),gv(t,e,l,u,i,s,!0)}}function O5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function F5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&A_(t,e,r),null!==i&&O5(t,e,i),null!==s&&function lq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function sl(t){return function mv(){if(void 0===$0&&($0=null,Rt.trustedTypes))try{$0=Rt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $0}()?.createHTML(t)||t}function ol(){if(void 0!==_v)return _v;if(typeof document<"u")return document;throw new ne(210,!1)}function V5(t){return function vv(){if(void 0===G0&&(G0=null,Rt.trustedTypes))try{G0=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return G0}()?.createHTML(t)||t}class Na{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mw})`}}class pq extends Na{getTypeName(){return"HTML"}}class gq extends Na{getTypeName(){return"Style"}}class mq extends Na{getTypeName(){return"Script"}}class _q extends Na{getTypeName(){return"URL"}}class vq extends Na{getTypeName(){return"ResourceURL"}}function Qr(t){return t instanceof Na?t.changingThisBreaksApplicationSecurity:t}function ss(t,e){const n=function yq(t){return t instanceof Na&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Mw})`)}return n===e}class wq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(sl(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Aq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=sl(e),n}}const Tq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function q0(t){return(t=String(t)).match(Tq)?t:"unsafe:"+t}function Us(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ld(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const z5=Us("area,br,col,hr,img,wbr"),U5=Us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),j5=Us("rp,rt"),yv=Ld(z5,Ld(U5,Us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ld(j5,Us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ld(j5,U5)),Ev=Us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$5=Ld(Ev,Us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sq=Us("script,style,template");class Mq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!yv.hasOwnProperty(n))return this.sanitizedSomething=!0,!Sq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!$5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Ev[a]&&(c=q0(c)),this.buf.push(" ",o,'="',G5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();yv.hasOwnProperty(n)&&!z5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(G5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Pq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rq=/([^\#-~ |!])/g;function G5(t){return t.replace(/&/g,"&amp;").replace(Pq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Rq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let W0;function q5(t,e){let n=null;try{W0=W0||function H5(t){const e=new Aq(t);return function Dq(){try{return!!(new window.DOMParser).parseFromString(sl(""),"text/html")}catch{return!1}}()?new wq(e):e}(t);let r=e?String(e):"";n=W0.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=W0.getInertBodyElement(r)}while(r!==s);return sl((new Mq).sanitizeChildren(xv(n)||n))}finally{if(n){const r=xv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function xv(t){return"content"in t&&function kq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mi||{});function W5(t){const e=Bd();return e?V5(e.sanitize(mi.HTML,t)||""):ss(t,"HTML")?V5(Qr(t)):q5(ol(),$e(t))}function Cv(t){const e=Bd();return e?e.sanitize(mi.URL,t)||"":ss(t,"URL")?Qr(t):q0($e(t))}function Bd(){const t=Z();return t&&t[Hc].sanitizer}const Hd=new xe("ENVIRONMENT_INITIALIZER"),Q5=new xe("INJECTOR",-1),X5=new xe("INJECTOR_DEF_TYPES");class Iv{get(e,n=pd){if(n===pd){const r=new Error(`NullInjectorError: No provider for ${Dn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Bq(...t){return{\u0275providers:J5(0,t),\u0275fromNgModule:!0}}function J5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return el(e,o=>{const a=o;K0(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Z5(i,s),n}function Z5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];wv(i,s=>{e(s,r)})}}function K0(t,e,n,r){if(!(t=Ue(t)))return!1;let i=null,s=l0(t);const o=!s&&lt(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=l0(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)K0(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{el(s.imports,u=>{K0(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&Z5(l,e)}if(!a){const l=Ma(i)||(()=>new i);e({provide:i,useFactory:l,deps:pt},i),e({provide:X5,useValue:i,multi:!0},i),e({provide:Hd,useValue:()=>Me(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;wv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function wv(t,e){for(let n of t)p_(n)&&(n=n.\u0275providers),Array.isArray(n)?wv(n,e):e(n)}const Hq=xt({provide:String,useValue:xt});function Av(t){return null!==t&&"object"==typeof t&&Hq in t}function Oa(t){return"function"==typeof t}const Dv=new xe("Set Injector scope."),Y0={},Uq={};let Tv;function Q0(){return void 0===Tv&&(Tv=new Iv),Tv}class _i{}class al extends _i{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mv(e,o=>this.processProvider(o)),this.records.set(Q5,cl(void 0,this)),i.has("environment")&&this.records.set(_i,cl(void 0,this));const s=this.records.get(Dv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(X5.multi,pt,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=To(this),r=Or(void 0);try{return e()}finally{To(n),Or(r)}}get(e,n=pd,r=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Bw))return e[Bw](this);r=f0(r);const s=To(this),o=Or(void 0);try{if(!(r&ot.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Wq(t){return"function"==typeof t||"object"==typeof t&&t instanceof xe}(e)&&c0(e);c=l&&this.injectableDefInScope(l)?cl(Sv(e),Y0):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ot.Self?Q0():this.parent).get(e,n=r&ot.Optional&&n===pd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[d0]=a[d0]||[]).unshift(Dn(e)),s)throw a;return function Bj(t,e,n,r){const i=t[d0];throw e[Fw]&&i.unshift(e[Fw]),t.message=function Hj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Dn(e);if(Array.isArray(e))i=e.map(Dn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Dn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Nj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[d0]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Or(o),To(s)}}resolveInjectorInitializers(){const e=To(this),n=Or(void 0);try{const i=this.get(Hd.multi,pt,ot.Self);for(const s of i)s()}finally{To(e),Or(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Dn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){let n=Oa(e=Ue(e))?e:Ue(e&&e.provide);const r=function $q(t){return Av(t)?cl(void 0,t.useValue):cl(nD(t),Y0)}(e);if(Oa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=cl(void 0,Y0,!0),i.factory=()=>I_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Y0&&(n.value=Uq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Ue(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sv(t){const e=c0(t),n=null!==e?e.factory:Ma(t);if(null!==n)return n;if(t instanceof xe)throw new ne(204,!1);if(t instanceof Function)return function jq(t){const e=t.length;if(e>0)throw Rd(e,"?"),new ne(204,!1);const n=function Mj(t){return t&&(t[u0]||t[Rw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ne(204,!1)}function nD(t,e,n){let r;if(Oa(t)){const i=Ue(t);return Ma(i)||Sv(i)}if(Av(t))r=()=>Ue(t.useValue);else if(function tD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...I_(t.deps||[]));else if(function eD(t){return!(!t||!t.useExisting)}(t))r=()=>Me(Ue(t.useExisting));else{const i=Ue(t&&(t.useClass||t.provide));if(!function Gq(t){return!!t.deps}(t))return Ma(i)||Sv(i);r=()=>new i(...I_(t.deps))}return r}function cl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Mv(t,e){for(const n of t)Array.isArray(n)?Mv(n,e):n&&p_(n)?Mv(n.\u0275providers,e):e(n)}const X0=new xe("AppId",{providedIn:"root",factory:()=>Kq}),Kq="ng",rD=new xe("Platform Initializer"),os=new xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iD=new xe("CSP nonce",{providedIn:"root",factory:()=>ol().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sD=(t,e,n)=>null;function Lv(t,e,n=!1){return sD(t,e,n)}class iW{}class cD{}class oW{resolveComponentFactory(e){throw function sW(t){const e=Error(`No component factory found for ${Dn(t)}.`);return e.ngComponent=t,e}(e)}}let jd=(()=>{class e{}return e.NULL=new oW,e})();function aW(){return dl(Kn(),Z())}function dl(t,e){return new Qn(Vr(t,e))}let Qn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=aW,e})();function cW(t){return t instanceof Qn?t.nativeElement:t}class uD{}let as=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function lW(){const t=Z(),n=Kr(Kn().index,t);return(Fr(n)?n:t)[Ge]}(),e})(),uW=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>null}),e})();class fl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dD=new fl("16.2.12"),zv={};function gD(t,e=null,n=null,r){const i=mD(t,e,n,r);return i.resolveInjectorInitializers(),i}function mD(t,e=null,n=null,r,i=new Set){const s=[n||pt,Bq(t)];return r=r||("object"==typeof t?void 0:Dn(t)),new al(s,e||Q0(),r||null,i)}let Sn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return gD({name:""},i,r,"");{const s=r.name??"";return gD({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=pd,t.NULL=new Iv,t.\u0275prov=be({token:t,providedIn:"any",factory:()=>Me(Q5)}),t.__NG_ELEMENT_ID__=-1,e})();function jv(t){return t.ngOriginalError}class js{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&jv(e);for(;n&&jv(n);)n=jv(n);return n||null}}function Gv(t){return e=>{setTimeout(t,void 0,e)}}const At=class _W extends te{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Gv(s),i&&(i=Gv(i)),o&&(o=Gv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof X&&e.add(a),a}};function vD(...t){}class ht{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new At(!1),this.onMicrotaskEmpty=new At(!1),this.onStable=new At(!1),this.onError=new At(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vW(){const t="function"==typeof Rt.requestAnimationFrame;let e=Rt[t?"requestAnimationFrame":"setTimeout"],n=Rt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function xW(t){const e=()=>{!function EW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wv(t),t.isCheckStableRunning=!0,qv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function IW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return yD(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ED(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return yD(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),ED(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Wv(t),qv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ht.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(ht.isInAngularZone())throw new ne(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,yW,vD,vD);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const yW={};function qv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function yD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ED(t){t._nesting--,qv(t)}class CW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new At,this.onMicrotaskEmpty=new At,this.onStable=new At,this.onError=new At}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const xD=new xe("",{providedIn:"root",factory:CD});function CD(){const t=K(ht);let e=!0;return function xj(...t){const e=hd(t),n=function pj(t,e){return"number"==typeof u_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?or(r[0]):n0(n)($n(r,e)):Ji}(new he(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new he(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ht.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{ht.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Tw()))}function $s(t){return t instanceof Function?t():t}let Kv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function $d(t){for(;t;){t[Ye]|=64;const e=Od(t);if(S_(t)&&!e)return t;t=e}return null}const DD=new xe("",{providedIn:"root",factory:()=>!1});let ig=null;function PD(t,e){return t[e]??ND()}function RD(t,e){const n=ND();n.producerNode?.length&&(t[e]=ig,n.lView=t,ig=kD())}const kW={...nA,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$d(t.lView)},lView:null};function kD(){return Object.create(kW)}function ND(){return ig??=kD(),ig}const We={};function ue(t){OD(ut(),Z(),br()+t,!1)}function OD(t,e,n,r){if(!r)if(3==(3&e[Ye])){const s=t.preOrderCheckHooks;null!==s&&I0(e,s,n)}else{const s=t.preOrderHooks;null!==s&&b0(e,s,0,n)}Pa(n)}function ee(t,e=ot.Default){const n=Z();return null===n?Me(t,e):WA(Kn(),n,Ue(t),e)}function sg(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[sn]=i,d[Ye]=140|r,(null!==l||t&&2048&t[Ye])&&(d[Ye]|=2048),CA(d),d[$t]=d[zc]=t,d[hn]=n,d[Hc]=o||t&&t[Hc],d[Ge]=a||t&&t[Ge],d[So]=c||t&&t[So]||null,d[ar]=s,d[xd]=function LG(){return VG++}(),d[Bs]=u,d[Jw]=l,d[pn]=2==e.type?t[pn]:d,d}function gl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Yv(t,e,n,r,i){const s=TA(),o=V_(),c=t.data[e]=function UW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return qc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function V$(){return ze.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ad(){const t=ze.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return rs(s,!0),s}function Gd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FD(t,e,n,r,i){const s=PD(e,Cd),o=br(),a=2&r;try{Pa(-1),a&&e.length>nt&&OD(t,e,nt,!1),ns(a?2:0,i);const l=a?s:null,u=P_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{R_(l,u)}}finally{a&&null===e[Cd]&&RD(e,Cd),Pa(o),ns(a?3:1,i)}}function Qv(t,e,n){if(T_(e)){const r=fi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{fi(r)}}}function Xv(t,e,n){DA()&&(function YW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Sa(n)&&function nK(t,e,n){const r=Vr(e,t),i=VD(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=og(t,sg(t,i,null,o,r,e,null,t[Hc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||A0(n,e),cr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Ra(e,t,a,n);cr(l,e),null!==o&&rK(0,a-i,l,c,0,o),Pi(c)&&(Kr(n.index,e)[hn]=Ra(e,t,a,n))}}(t,e,n,Vr(n,e)),64==(64&n.flags)&&UD(t,e,n))}function Jv(t,e,n=Vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function VD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zv(t,e,n,r,i,s,o,a,c,l,u){const d=nt+r,f=d+i,h=function FW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:We);return n}(d,f),p="function"==typeof l?l():l;return h[we]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let LD=t=>null;function BD(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?HD(n,e,i,s):r.hasOwnProperty(i)&&HD(n,e,r[i],s)}return n}function HD(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Xr(t,e,n,r,i,s,o,a){const c=Vr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(iy(t,n,u,r,i),Sa(e)&&function GW(t,e){const n=Kr(e,t);16&n[Ye]||(n[Ye]|=64)}(n,e.index)):3&e.type&&(r=function $W(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function ey(t,e,n,r){if(DA()){const i=null===r?null:{"":-1},s=function XW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(qw(e,o.selectors,!1))if(r||(r=[]),Pi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ty(t,e,a.length)}else r.unshift(o),ty(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zD(t,e,n,o,i,a),i&&function JW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ne(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=_d(n.mergedAttrs,n.attrs)}function zD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Y_(A0(n,e),t,r[l].type);!function eK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Gd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=_d(n.mergedAttrs,u.hostAttrs),tK(t,n,e,c,u),ZW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function jW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=BD(d.inputs,u,c,f?f.inputs:null),l=BD(d.outputs,u,l,p);const g=null===c||null===o||Gw(e)?null:iK(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function UD(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function B$(){return ze.lFrame.currentDirectiveIndex}();try{Pa(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];B_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&QW(c,l)}}finally{Pa(-1),B_(o)}}function QW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ty(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pi(e)&&(n[""]=t)}}function tK(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ma(i.type)),o=new Dd(s,Pi(i),ee);t.blueprint[r]=o,n[r]=o,function WW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function KW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Gd(t,n,i.hostVars,We),i)}function cs(t,e,n,r,i,s){const o=Vr(t,e);!function ny(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?$e(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Ge],o,s,t.value,n,r,i)}function rK(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)jD(r,n,o[a++],o[a++],o[a++])}function jD(t,e,n,r,i){const s=fi(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{fi(s)}}function iK(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $D(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function GD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];z_(n[r]),o.contentQueries(2,e[s],s)}}}function og(t,e){return t[yd]?t[Xw][Mi]=e:t[yd]=e,t[Xw]=e,e}function ry(t,e,n){z_(0);const r=fi(null);try{e(t,n)}finally{fi(r)}}function qD(t){return t[Bc]||(t[Bc]=[])}function WD(t){return t.cleanup||(t.cleanup=[])}function YD(t,e){const n=t[So],r=n?n.get(js,null):null;r&&r.handleError(e)}function iy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];jD(t.data[o],e[o],r,a,i)}}function sK(t,e){const n=Kr(e,t),r=n[we];!function oK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[sn];null!==i&&null===n[Bs]&&(n[Bs]=Lv(i,n[So])),sy(r,n,n[hn])}function sy(t,e,n){U_(e);try{const r=t.viewQuery;null!==r&&ry(1,r,n);const i=t.template;null!==i&&FD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&GD(t,e),t.staticViewQueries&&ry(2,t.viewQuery,n);const s=t.components;null!==s&&function aK(t,e){for(let n=0;n<e.length;n++)sK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ye]&=-5,j_()}}let QD=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function g$(t,e,n){const r=Object.create(m$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>oA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!aA(r))return;r.hasRun=!0;const o=P_(r);try{r.cleanupFn(),r.cleanupFn=gA,r.fn(i)}finally{R_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function ag(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=f_(i,a):2==s&&(r=f_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function qd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(kt(s)),xr(s)&&XD(s,r);const o=n.type;if(8&o)qd(t,e,n.child,r);else if(32&o){const a=cv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=R5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Od(e[pn]);qd(c[we],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function XD(t,e){for(let n=qn;n<t.length;n++){const r=t[n],i=r[we].firstChild;null!==i&&qd(r[we],r,i,e)}t[ts]!==t[sn]&&e.push(t[ts])}function cg(t,e,n,r=!0){const i=e[Hc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{JD(t,e,t.template,n)}catch(c){throw r&&YD(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function JD(t,e,n,r){const i=e[Ye];if(256!=(256&i)){e[Hc].effectManager?.flush(),U_(e);try{CA(e),function MA(t){return ze.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&FD(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&I0(e,l,null)}else{const l=t.preOrderHooks;null!==l&&b0(e,l,0,null),$_(e,0)}if(function uK(t){for(let e=E5(t);null!==e;e=x5(e)){if(!e[Zw])continue;const n=e[jc];for(let r=0;r<n.length;r++){A$(n[r])}}}(e),ZD(e,2),null!==t.contentQueries&&GD(t,e),o){const l=t.contentCheckHooks;null!==l&&I0(e,l)}else{const l=t.contentHooks;null!==l&&b0(e,l,1),$_(e,1)}!function OW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=PD(e,Id);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Pa(~s);else{const o=s,a=n[++i],c=n[++i];L$(a,o),r.dirty=!1;const l=P_(r);try{c(2,e[o])}finally{R_(r,l)}}}}finally{null===e[Id]&&RD(e,Id),Pa(-1)}}(t,e);const a=t.components;null!==a&&tT(e,a,0);const c=t.viewQuery;if(null!==c&&ry(2,c,r),o){const l=t.viewCheckHooks;null!==l&&I0(e,l)}else{const l=t.viewHooks;null!==l&&b0(e,l,2),$_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ye]&=-73,IA(e)}finally{j_()}}}function ZD(t,e){for(let n=E5(t);null!==n;n=x5(n))for(let r=qn;r<n.length;r++)eT(n[r],e)}function dK(t,e,n){eT(Kr(e,t),n)}function eT(t,e){if(!function b$(t){return 128==(128&t[Ye])}(t))return;const n=t[we],r=t[Ye];if(80&r&&0===e||1024&r||2===e)JD(n,t,n.template,t[hn]);else if(t[vd]>0){ZD(t,1);const i=n.components;null!==i&&tT(t,i,1)}}function tT(t,e,n){for(let r=0;r<e.length;r++)dK(t,e[r],n)}class Wd{get rootNodes(){const e=this._lView,n=e[we];return qd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hn]}set context(e){this._lView[hn]=e}get destroyed(){return 256==(256&this._lView[Ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$t];if(xr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(H0(e,r),M0(n,r))}this._attachedToViewContainer=!1}uv(this._lView[we],this._lView)}onDestroy(e){!function wA(t,e){if(256==(256&t[Ye]))throw new ne(911,!1);null===t[Mo]&&(t[Mo]=[]),t[Mo].push(e)}(this._lView,e)}markForCheck(){$d(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ye]&=-129}reattach(){this._lView[Ye]|=128}detectChanges(){cg(this._lView[we],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JG(t,e){Vd(t,e,e[Ge],2,null,null)}(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e}}class fK extends Wd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;cg(e[we],e,e[hn],!1)}checkNoChanges(){}get context(){return null}}class nT extends jd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=lt(e);return new Kd(n,this.ngModule)}}function rT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class pK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=f0(r);const i=this.injector.get(e,zv,r);return i!==zv||n===zv?i:this.parentInjector.get(e,n,r)}}class Kd extends cD{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=rT(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Qj(t){return t.map(Yj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof _i?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new pK(e,s):e,a=o.get(uD,null);if(null===a)throw new ne(407,!1);const d={rendererFactory:a,sanitizer:o.get(uW,null),effectManager:o.get(QD,null),afterRenderEventManager:o.get(Kv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function VW(t,e,n,r){const s=r.get(DD,!1)||n===Ti.ShadowDom,o=t.selectRootElement(e,s);return function LW(t){LD(t)}(o),o}(f,r,this.componentDef.encapsulation,o):B0(f,h,function hK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let I=null;null!==p&&(I=Lv(p,o,!0));const H=Zv(0,null,null,1,0,null,null,null,null,null,null),q=sg(null,H,null,S,null,null,d,f,o,null,I);let pe,Se;U_(q);try{const Ve=this.componentDef;let Et,rn=null;Ve.findHostDirectiveDefs?(Et=[],rn=new Map,Ve.findHostDirectiveDefs(Ve,Et,rn),Et.push(Ve)):Et=[Ve];const wi=function mK(t,e){const n=t[we],r=nt;return t[r]=e,gl(n,r,2,"#host",null)}(q,p),n_=function _K(t,e,n,r,i,s,o){const a=i[we];!function vK(t,e,n,r){for(const i of t)e.mergedAttrs=_d(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ag(e,e.mergedAttrs,!0),null!==n&&F5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Lv(e,i[So]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=sg(i,VD(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&ty(a,t,r.length-1),og(i,d),i[t.index]=d}(wi,p,Ve,Et,q,d,f);Se=xA(H,nt),p&&function EK(t,e,n,r){if(r)A_(t,n,["ng-version",dD.full]);else{const{attrs:i,classes:s}=function Xj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Si(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&A_(t,n,i),s&&s.length>0&&O5(t,n,s.join(" "))}}(f,Ve,p,r),void 0!==n&&function xK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Se,this.ngContentSelectors,n),pe=function yK(t,e,n,r,i,s){const o=Kn(),a=i[we],c=Vr(o,i);zD(a,i,o,n,null,r);for(let u=0;u<n.length;u++)cr(Ra(i,a,o.directiveStart+u,o),i);UD(a,i,o),c&&cr(c,i);const l=Ra(i,a,o.directiveStart+o.componentOffset,o);if(t[hn]=i[hn]=l,null!==s)for(const u of s)u(l,e);return Qv(a,o,t),l}(n_,Ve,Et,rn,q,[CK]),sy(H,q,null)}finally{j_()}return new gK(this.componentType,pe,dl(Se,q),q,Se)}}class gK extends iW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;iy(s[we],s,i,e,n),this.previousInputValues.set(e,n),$d(Kr(this._tNode.index,s))}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function CK(){const t=Kn();C0(Z()[we],t)}function Ct(t){let e=function iT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Pi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=lg(t.inputs),o.inputTransforms=lg(t.inputTransforms),o.declaredInputs=lg(t.declaredInputs),o.outputs=lg(t.outputs);const a=i.hostBindings;a&&AK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&bK(t,c),l&&wK(t,l),o0(t.inputs,i.inputs),o0(t.declaredInputs,i.declaredInputs),o0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),o0(o.inputTransforms,i.inputTransforms)),Pi(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ct&&(n=!1)}}e=Object.getPrototypeOf(e)}!function IK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_d(i.hostAttrs,n=_d(n,i.hostAttrs))}}(r)}function lg(t){return t===Zi?{}:t===pt?[]:t}function bK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function wK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function AK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ug(t){return!!oy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function oy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ls(t,e,n){return t[e]=n}function lr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fa(t,e,n,r){const i=lr(t,e,n);return lr(t,e+1,r)||i}function Ri(t,e,n,r){const i=Z();return lr(i,Wc(),e)&&(ut(),cs(Xt(),i,t,e,n,r)),Ri}function _l(t,e,n,r){return lr(t,Wc(),n)?e+$e(n)+r:We}function Jt(t,e,n,r,i,s,o,a){const c=Z(),l=ut(),u=t+nt,d=l.firstCreatePass?function XK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=gl(e,t,4,o||null,Ro(l,a));ey(e,n,u,Ro(l,c)),C0(e,u);const d=u.tView=Zv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];rs(d,!1);const f=xT(l,c,d,t);x0()&&U0(l,c,f,d),cr(f,c),og(c,c[u]=$D(f,c,f,d)),_0(d)&&Xv(l,c,d),null!=o&&Jv(c,d,a)}let xT=function CT(t,e,n,r){return ko(!0),e[Ge].createComment("")};function fy(t){return Gc(function F$(){return ze.lFrame.contextLView}(),nt+t)}function Ne(t,e,n){const r=Z();return lr(r,Wc(),e)&&Xr(ut(),Xt(),r,t,e,r[Ge],n,!1),Ne}function hy(t,e,n,r,i){const o=i?"class":"style";iy(t,n,e.inputs[o],o,r)}function G(t,e,n,r){const i=Z(),s=ut(),o=nt+t,a=i[Ge],c=s.firstCreatePass?function tY(t,e,n,r,i,s){const o=e.consts,c=gl(e,t,2,r,Ro(o,i));return ey(e,n,c,Ro(o,s)),null!==c.attrs&&ag(c,c.attrs,!1),null!==c.mergedAttrs&&ag(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=IT(s,i,c,a,e,t);i[o]=l;const u=_0(c);return rs(c,!0),F5(a,l,c),32!=(32&c.flags)&&x0()&&U0(s,i,l,c),0===function T$(){return ze.lFrame.elementDepthCount}()&&cr(l,i),function S$(){ze.lFrame.elementDepthCount++}(),u&&(Xv(s,i,c),Qv(s,c,i)),null!==r&&Jv(i,c),G}function Q(){let t=Kn();V_()?L_():(t=t.parent,rs(t,!1));const e=t;(function P$(t){return ze.skipHydrationRootTNode===t})(e)&&function O$(){ze.skipHydrationRootTNode=null}(),function M$(){ze.lFrame.elementDepthCount--}();const n=ut();return n.firstCreatePass&&(C0(n,t),T_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Q$(t){return 0!=(8&t.flags)}(e)&&hy(n,e,Z(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function X$(t){return 0!=(16&t.flags)}(e)&&hy(n,e,Z(),e.stylesWithoutHost,!1),Q}function rt(t,e,n,r){return G(t,e,n,r),Q(),rt}let IT=(t,e,n,r,i,s)=>(ko(!0),B0(r,i,function LA(){return ze.lFrame.currentNamespace}()));function Zd(t,e,n){const r=Z(),i=ut(),s=t+nt,o=i.firstCreatePass?function iY(t,e,n,r,i){const s=e.consts,o=Ro(s,r),a=gl(e,t,8,"ng-container",o);return null!==o&&ag(a,o,!0),ey(e,n,a,Ro(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];rs(o,!0);const a=wT(i,r,o,t);return r[s]=a,x0()&&U0(i,r,a,o),cr(a,r),_0(o)&&(Xv(i,r,o),Qv(i,o,r)),null!=n&&Jv(r,o),Zd}function ef(){let t=Kn();const e=ut();return V_()?L_():(t=t.parent,rs(t,!1)),e.firstCreatePass&&(C0(e,t),T_(t)&&e.queries.elementEnd(t)),ef}let wT=(t,e,n,r)=>(ko(!0),lv(e[Ge],""));function Oo(){return Z()}function tf(t){return!!t&&"function"==typeof t.then}function AT(t){return!!t&&"function"==typeof t.subscribe}function gt(t,e,n,r){const i=Z(),s=ut(),o=Kn();return function TT(t,e,n,r,i,s,o){const a=_0(r),l=t.firstCreatePass&&WD(t),u=e[hn],d=qD(e);let f=!0;if(3&r.type||o){const g=Vr(r,e),E=o?o(g):g,S=d.length,I=o?q=>o(kt(q[r.index])):r.index;let H=null;if(!o&&a&&(H=function aY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Bc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,f=!1;else{s=MT(r,e,u,s,!1);const q=n.listen(E,i,s);d.push(s,q),l&&l.push(i,I,S,S+1)}}else s=MT(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let E=0;E<g;E+=2){const pe=e[p[E]][p[E+1]].subscribe(s),Se=d.length;d.push(s,pe),l&&l.push(i,r.index,Se,-(Se+1))}}}(s,i,i[Ge],o,t,e,r),gt}function ST(t,e,n,r){try{return ns(6,e,n),!1!==n(r)}catch(i){return YD(t,i),!1}finally{ns(7,e,n)}}function MT(t,e,n,r,i){return function s(o){if(o===Function)return r;$d(t.componentOffset>-1?Kr(t.index,e):e);let c=ST(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=ST(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Gt(t=1){return function z$(t){return(ze.lFrame.contextLView=function U$(t,e){for(;t>0;)e=e[zc],t--;return e}(t,ze.lFrame.contextLView))[hn]}(t)}function cY(t,e){let n=null;const r=function Gj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?qw(t,s,!0):Kj(r,s))return i}else n=i}return n}function nf(t,e,n){return py(t,"",e,"",n),nf}function py(t,e,n,r,i){const s=Z(),o=_l(s,e,n,r);return o!==We&&Xr(ut(),Xt(),s,t,o,s[Ge],i,!1),py}function gg(t,e){return t<<17|e<<2}function Fo(t){return t>>17&32767}function gy(t){return 2|t}function Va(t){return(131068&t)>>2}function my(t,e){return-131069&t|e<<2}function _y(t){return 1|t}function zT(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Fo(s):Va(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];pY(t[a],e)&&(c=!0,t[a+1]=r?_y(u):gy(u)),a=r?Fo(u):Va(u)}c&&(t[n+1]=r?gy(s):_y(s))}function pY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&tl(t,e)>=0}function rf(t,e){return function ki(t,e,n,r){const i=Z(),s=ut(),o=function zs(t){const e=ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function QT(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[br()],o=function YT(t,e){return e>=t.expandoStartIndex}(t,n);(function eS(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function IY(t,e,n,r){const i=function H_(t){const e=ze.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=sf(n=vy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=vy(i,t,e,n,r),null===s){let c=function bY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Va(r))return t[Fo(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=vy(null,t,e,c[1],r),c=sf(c,e.attrs,r),function wY(t,e,n,r){t[Fo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function AY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=sf(r,t[s].hostAttrs,n);return sf(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function fY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Fo(o),c=Va(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||tl(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=Fo(t[a+1]);t[r+1]=gg(f,a),0!==f&&(t[f+1]=my(t[f+1],r)),t[a+1]=function uY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=gg(a,0),0!==a&&(t[a+1]=my(t[a+1],r)),a=r;else t[r+1]=gg(c,0),0===a?a=r:t[c+1]=my(t[c+1],r),c=r;l&&(t[r+1]=gy(t[r+1])),zT(t,u,r,!0),zT(t,u,r,!1),function hY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&tl(s,e)>=0&&(n[r+1]=_y(n[r+1]))}(e,u,t,r,s),o=gg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==We&&lr(i,o,e)&&function JT(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function dY(t){return 1==(1&t)}(l)?ZT(c,e,n,i,Va(l),o):void 0;mg(u)||(mg(s)||function lY(t){return 2==(2&t)}(l)&&(s=ZT(c,null,n,i,a,o)),function cq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:No.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=No.Important),t.setStyle(n,r,i,s))}}(r,o,E0(br(),n),i,s))}(s,s.data[br()],i,i[Ge],t,i[o+1]=function MY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Dn(Qr(t)))),t}(e,n),r,o)}(t,e,null,!0),rf}function vy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=sf(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function sf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yr(t,o,!!n||e[++s]))}return void 0===t?null:t}function ZT(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===We&&(f=d?pt:void 0);let h=d?J_(f,r):u===r?f:void 0;if(l&&!mg(h)&&(h=J_(c,r)),mg(h)&&(a=h,o))return a;const p=t[i+1];i=o?Fo(p):Va(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=J_(c,r))}return a}function mg(t){return void 0!==t}function le(t,e=""){const n=Z(),r=ut(),i=t+nt,s=r.firstCreatePass?gl(r,i,1,e,null):r.data[i],o=tS(r,n,s,e,t);n[i]=o,x0()&&U0(r,n,o,s),rs(s,!1)}let tS=(t,e,n,r,i)=>(ko(!0),function L0(t,e){return t.createText(e)}(e[Ge],r));function at(t){return qs("",t,""),at}function qs(t,e,n){const r=Z(),i=_l(r,t,e,n);return i!==We&&function Gs(t,e,n){const r=E0(e,t);!function I5(t,e,n){t.setValue(e,n)}(t[Ge],r,n)}(r,br(),i),qs}function yy(t,e,n){const r=Z();return lr(r,Wc(),e)&&Xr(ut(),Xt(),r,t,e,r[Ge],n,!0),yy}const La=void 0;var JY=["en",[["a","p"],["AM","PM"],La],[["AM","PM"],La,La],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],La,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],La,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",La,"{1} 'at' {0}",La],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Al={};function Ar(t){const e=function ZY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xS(e);if(n)return n;const r=e.split("-")[0];if(n=xS(r),n)return n;if("en"===r)return JY;throw new ne(701,!1)}function xS(t){return t in Al||(Al[t]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[t]),Al[t]}var Nt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Nt||{});const Dl="en-US";let CS=Dl;function Cy(t,e,n,r,i){if(t=Ue(t),Array.isArray(t))for(let s=0;s<t.length;s++)Cy(t[s],e,n,r,i);else{const s=ut(),o=Z(),a=Kn();let c=Oa(t)?t:Ue(t.provide);const l=nD(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Oa(t)||!t.multi){const h=new Dd(l,i,ee),p=by(c,e,i?u:u+f,d);-1===p?(Y_(A0(a,o),s,c),Iy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=by(c,e,u+f,d),p=by(c,e,u,u+f),E=p>=0&&n[p];if(i&&!E||!i&&!(h>=0&&n[h])){Y_(A0(a,o),s,c);const S=function XQ(t,e,n,r,i){const s=new Dd(t,n,ee);return s.multi=[],s.index=e,s.componentProviders=0,WS(s,i,r&&!n),s}(i?QQ:YQ,n.length,i,r,l);!i&&E&&(n[p].providerFactory=S),Iy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),o.push(S)}else Iy(s,t,h>-1?h:p,WS(n[i?p:h],l,!i&&r));!i&&r&&E&&n[p].componentProviders++}}}function Iy(t,e,n,r){const i=Oa(e),s=function zq(t){return!!t.useClass}(e);if(i||s){const c=(s?Ue(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function WS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function by(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function YQ(t,e,n,r){return wy(this.multi,[])}function QQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ra(n,n[we],this.providerFactory.index,r);s=a.slice(0,o),wy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],wy(i,s);return s}function wy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function KQ(t,e,n){const r=ut();if(r.firstCreatePass){const i=Pi(t);Cy(n,r.data,r.blueprint,i,!0),Cy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ba{}class KS{}class Ay extends Ba{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nT(this);const i=Wr(e);this._bootstrapComponents=$s(i.bootstrap),this._r3Injector=mD(e,n,[{provide:Ba,useValue:this},{provide:jd,useValue:this.componentFactoryResolver},...r],Dn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dy extends KS{constructor(e){super(),this.moduleType=e}create(e){return new Ay(this.moduleType,e,[])}}class YS extends Ba{constructor(e){super(),this.componentFactoryResolver=new nT(this),this.instance=null;const n=new al([...e.providers,{provide:Ba,useValue:this},{provide:jd,useValue:this.componentFactoryResolver}],e.parent||Q0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function QS(t,e,n=null){return new YS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let eX=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=J5(0,r.type),s=i.length>0?QS([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=be({token:t,providedIn:"environment",factory:()=>new t(Me(_i))}),e})();function XS(t){t.getStandaloneInjector=e=>e.get(eX).getOrCreateStandaloneInjector(t)}function Tl(t,e,n){const r=Ir()+t,i=Z();return i[r]===We?ls(i,r,n?e.call(n):e()):function Yd(t,e){return t[e]}(i,r)}function Hr(t,e,n,r){return s7(Z(),Ir(),t,e,n,r)}function i7(t,e,n,r,i){return function o7(t,e,n,r,i,s,o){const a=e+n;return Fa(t,a,i,s)?ls(t,a+2,o?r.call(o,i,s):r(i,s)):ff(t,a+2)}(Z(),Ir(),t,e,n,r,i)}function ff(t,e){const n=t[e];return n===We?void 0:n}function s7(t,e,n,r,i,s){const o=e+n;return lr(t,o,i)?ls(t,o+1,s?r.call(s,i):r(i)):ff(t,o+1)}function a7(t,e,n,r,i,s,o,a){const c=e+n;return function dg(t,e,n,r,i){const s=Fa(t,e,n,r);return lr(t,e+2,i)||s}(t,c,i,s,o)?ls(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):ff(t,c+3)}function Zt(t,e){const n=ut();let r;const i=t+nt;n.firstCreatePass?(r=function mX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ma(r.type)),a=Or(ee);try{const c=w0(!1),l=s();return w0(c),function eY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Z(),i,l),l}finally{Or(a)}}function ur(t,e,n){const r=t+nt,i=Z(),s=Gc(i,r);return hf(i,r)?s7(i,Ir(),e,s.transform,n,s):s.transform(n)}function Vo(t,e,n,r,i){const s=t+nt,o=Z(),a=Gc(o,s);return hf(o,s)?a7(o,Ir(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function hf(t,e){return t[we].data[e].pure}function EX(){return this._results[Symbol.iterator]()}class Sy{get changes(){return this._changes||(this._changes=new At)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Sy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=EX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function gi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function dG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function CX(t,e,n,r=!0){const i=e[we];if(function eq(t,e,n,r){const i=qn+r,s=n.length;r>0&&(n[i-1][Mi]=e),r<s-qn?(e[Mi]=n[i],ZA(n,qn+r,e)):(n.push(e),e[Mi]=null),e[$t]=n;const o=e[Ed];null!==o&&n!==o&&function tq(t,e){const n=t[jc];e[pn]!==e[$t][$t][pn]&&(t[Zw]=!0),null===n?t[jc]=[e]:n.push(e)}(o,e);const a=e[es];null!==a&&a.insertView(t),e[Ye]|=128}(i,e,t,n),r){const s=pv(n,t),o=e[Ge],a=z0(o,t[ts]);null!==a&&function XG(t,e,n,r,i,s){r[sn]=i,r[ar]=e,Vd(t,r,n,1,i,s)}(i,t[ar],o,e,a,s)}}let Ws=(()=>{class e{}return e.__NG_ELEMENT_ID__=wX,e})();const IX=Ws,bX=class extends IX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function xX(t,e,n,r){const i=e.tView,a=sg(t,i,n,4096&t[Ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ed]=t[e.index];const l=t[es];return null!==l&&(a[es]=l.createEmbeddedView(i)),sy(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Wd(i)}};function wX(){return xg(Kn(),Z())}function xg(t,e){return 4&t.type?new bX(e,t,dl(t,e)):null}let Oi=(()=>{class e{}return e.__NG_ELEMENT_ID__=PX,e})();function PX(){return m7(Kn(),Z())}const RX=Oi,p7=class extends RX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return dl(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const e=D0(this._hostTNode,this._hostLView);if(q_(e)){const n=Sd(e,this._hostLView),r=Td(e);return new wr(n[we].data[r+8],n)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=g7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-qn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Pd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Kd(lt(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const E=(o?l:this.parentInjector).get(_i,null);E&&(s=E)}lt(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function w$(t){return xr(t[$t])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[$t],u=new p7(l,l[ar],l[$t]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return CX(a,i,o,!r),e.attachToViewContainerRef(),ZA(My(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=g7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=H0(this._lContainer,n);r&&(M0(My(this._lContainer),n),uv(r[we],r))}detach(e){const n=this._adjustIndex(e,-1),r=H0(this._lContainer,n);return r&&null!=M0(My(this._lContainer),n)?new Wd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function g7(t){return t[8]}function My(t){return t[8]||(t[8]=[])}function m7(t,e){let n;const r=e[t.index];return xr(r)?n=r:(n=$D(r,e,null,t),e[t.index]=n,og(e,n)),_7(n,e,t,r),new p7(n,t,e)}let _7=function v7(t,e,n,r){if(t[ts])return;let i;i=8&n.type?kt(r):function kX(t,e){const n=t[Ge],r=n.createComment(""),i=Vr(e,t);return ka(n,z0(n,i),r,function sq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[ts]=i};class Py{constructor(e){this.queryList=e,this.matches=null}clone(){return new Py(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ry{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ry(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==b7(e,n).matches&&this.queries[n].setDirty()}}class y7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class ky{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new ky(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ny{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Ny(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,FX(n,s)),this.matchTNodeWithReadOption(e,n,T0(n,e,s,!1,!1))}else r===Ws?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,T0(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Qn||i===Oi||i===Ws&&4&n.type)this.addMatch(n.index,-2);else{const s=T0(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function FX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function LX(t,e,n,r){return-1===n?function VX(t,e){return 11&t.type?dl(t,e):4&t.type?xg(t,e):null}(e,t):-2===n?function BX(t,e,n){return n===Qn?dl(e,t):n===Ws?xg(e,t):n===Oi?m7(e,t):void 0}(t,e,r):Ra(t,t[we],n,e)}function E7(t,e,n,r){const i=e[es].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:LX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Oy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=E7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=qn;d<u.length;d++){const f=u[d];f[Ed]===f[$t]&&Oy(f[we],f,l,r)}if(null!==u[jc]){const d=u[jc];for(let f=0;f<d.length;f++){const h=d[f];Oy(h[we],h,l,r)}}}}}return r}function Ha(t){const e=Z(),n=ut(),r=RA();z_(r+1);const i=b7(n,r);if(t.dirty&&function I$(t){return 4==(4&t[Ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Oy(n,e,r,[]):E7(n,e,i,r);t.reset(s,cW),t.notifyOnChanges()}return!0}return!1}function Sl(t,e,n){const r=ut();r.firstCreatePass&&(function I7(t,e,n){null===t.queries&&(t.queries=new ky),t.queries.track(new Ny(e,n))}(r,new y7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function C7(t,e,n){const r=new Sy(4==(4&n));(function zW(t,e,n,r){const i=qD(e);i.push(n),t.firstCreatePass&&WD(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[es]&&(e[es]=new Ry),e[es].queries.push(new Py(r))}(r,Z(),e)}function za(){return function HX(t,e){return t[es].queries[e].queryList}(Z(),RA())}function b7(t,e){return t.queries.getByIndex(e)}const z7=new xe("Application Initializer");let zy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=K(z7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(tf(o))r.push(o);else if(AT(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),U7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Ks=new xe("LocaleId",{providedIn:"root",factory:()=>K(Ks,ot.Optional|ot.SkipSelf)||function lJ(){return typeof $localize<"u"&&$localize.locale||Dl}()});let bg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new li(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class fJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let hJ=(()=>{var t;class e{compileModuleSync(r){return new Dy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=$s(Wr(r).declarations).reduce((a,c)=>{const l=lt(c);return l&&a.push(new Kd(l)),a},[]);return new fJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const q7=new xe(""),Ag=new xe("");let qy,$y=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qy||(function OJ(t){qy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ht.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(ht),Me(Gy),Me(Ag))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),Gy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return qy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Lo=null;const W7=new xe("AllowMultipleToken"),Wy=new xe("PlatformDestroyListeners"),K7=new xe("appBootstrapListener");function X7(t,e,n=[]){const r=`Platform: ${e}`,i=new xe(r);return(s=[])=>{let o=Ky();if(!o||o.injector.get(W7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function LJ(t){if(Lo&&!Lo.get(W7,!1))throw new ne(400,!1);(function Y7(){!function u$(t){dA=t}(()=>{throw new ne(600,!1)})})(),Lo=t;const e=t.get(Z7);(function Q7(t){t.get(rD,null)?.forEach(n=>n())})(t)}(function J7(t=[],e){return Sn.create({name:e,providers:[{provide:Dv,useValue:"platform"},{provide:Wy,useValue:new Set([()=>Lo=null])},...t]})}(a,r))}return function HJ(t){const e=Ky();if(!e)throw new ne(401,!1);return e}()}}function Ky(){return Lo?.get(Z7)??null}let Z7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function zJ(t="zone.js",e){return"noop"===t?new CW:"zone.js"===t?new ht(e):t}(i?.ngZone,function eM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function ZQ(t,e,n){return new Ay(t,e,n)}(r.moduleType,this.injector,function sM(t){return[{provide:ht,useFactory:t},{provide:Hd,multi:!0,useFactory:()=>{const e=K(jJ,{optional:!0});return()=>e.initialize()}},{provide:iM,useFactory:UJ},{provide:xD,useFactory:CD}]}(()=>s)),a=o.injector.get(js,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{Dg(this._modules,o),c.unsubscribe()})}),function tM(t,e,n){try{const r=n();return tf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(zy);return c.runInitializers(),c.donePromise.then(()=>(function IS(t){di(t,"Expected localeId to be defined"),"string"==typeof t&&(CS=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ks,Dl)||Dl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=nM({},i);return function FJ(t,e,n){const r=new Dy(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(mf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new ne(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Wy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Sn))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function nM(t,e){return Array.isArray(e)?e.reduce(nM,t):{...t,...e}}let mf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(iM),this.zoneIsStable=K(xD),this.componentTypes=[],this.components=[],this.isStable=K(bg).hasPendingTasks.pipe(ui(r=>r?Be(!1):this.zoneIsStable),Sw(),Tw()),this._injector=K(_i)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof cD;if(!this._injector.get(zy).done)throw!s&&function Lc(t){const e=lt(t)||Gn(t)||Er(t);return null!==e&&e.standalone}(r),new ne(405,!1);let a;a=s?r:this._injector.get(jd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function VJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ba),u=a.create(Sn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(q7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Dg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Dg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(K7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Dg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ne(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Dg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const iM=new xe("",{providedIn:"root",factory:()=>K(js).handleError.bind(void 0)});function UJ(){const t=K(ht),e=K(js);return n=>t.runOutsideAngular(()=>e.handleError(n))}let jJ=(()=>{var t;class e{constructor(){this.zone=K(ht),this.applicationRef=K(mf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let fs=(()=>{class e{}return e.__NG_ELEMENT_ID__=qJ,e})();function qJ(t){return function WJ(t,e,n){if(Sa(t)&&!n){const r=Kr(t.index,e);return new Wd(r,r)}return 47&t.type?new Wd(e[pn],e):null}(Kn(),Z(),16==(16&t))}class lM{constructor(){}supports(e){return ug(e)}create(e){return new ZJ(e)}}const JJ=(t,e)=>e;class ZJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||JJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<dM(r,i,s)?n:r,a=dM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ug(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function kK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new eZ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new uM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class eZ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class uM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new tZ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class fM{constructor(){}supports(e){return e instanceof Map||oy(e)}create(){return new nZ}}class nZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||oy(e)))throw new ne(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new rZ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class rZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hM(){return new Mg([new lM])}let Mg=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||hM()),deps:[[e,new ev,new En]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new ne(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:hM}),e})();function pM(){return new _f([new fM])}let _f=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||pM()),deps:[[e,new ev,new En]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ne(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:pM}),e})();const oZ=X7(null,"core",[]);let aZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(mf))},t.\u0275mod=Bt({type:t}),t.\u0275inj=Pt({}),e})();let e4=null;function Bo(){return e4}class EZ{}const Ur=new xe("DocumentToken");let IM=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(xZ)},providedIn:"platform"}),e})(),xZ=(()=>{var t;class e extends IM{constructor(){super(),this._doc=K(Ur),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bo().getBaseHref(this._doc)}onPopState(r){const i=Bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function bM(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function wM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ja(t){return t&&"?"!==t[0]?"?"+t:t}let Rg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(IZ)},providedIn:"root"}),e})();const CZ=new xe("appBaseHref");let IZ=(()=>{var t;class e extends Rg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??K(Ur).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return bM(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+ja(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+ja(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+ja(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(IM),Me(CZ,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),t4=(()=>{var t;class e{constructor(r){this._subject=new At,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function AZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(wM(AM(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ja(i))}normalize(r){return e.stripTrailingSlash(function wZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,AM(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ja(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ja(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=ja,t.joinWithSlash=bM,t.stripTrailingSlash=wM,t.\u0275fac=function(r){return new(r||t)(Me(Rg))},t.\u0275prov=be({token:t,factory:function(){return function bZ(){return new t4(Me(Rg))}()},providedIn:"root"}),e})();function AM(t){return t.replace(/\/index.html$/,"")}var kg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(kg||{}),gn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(gn||{});function yi(t,e){const n=Ar(t),r=n[Nt.NumberSymbols][e];if(typeof r>"u"){if(e===gn.CurrencyDecimal)return n[Nt.NumberSymbols][gn.Decimal];if(e===gn.CurrencyGroup)return n[Nt.NumberSymbols][gn.Group]}return r}const ZZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function l4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function OM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const d4=/\s+/,FM=[];let f4=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=FM,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(d4):FM}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(d4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(d4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Mg),ee(_f),ee(Qn),ee(as))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class dee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new dee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),LM(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{LM(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Oi),ee(Ws),ee(Mg))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function LM(t,e){t.context.$implicit=e.item}let Ho=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new fee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){BM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){BM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Oi),ee(Ws))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class fee{constructor(){this.$implicit=null,this.ngIf=null}}function BM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Dn(e)}'.`)}function Vi(t,e){return new ne(2100,!1)}class gee{createSubscription(e,n){return pA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){pA(()=>e.unsubscribe())}}class mee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const _ee=new mee,vee=new gee;let Nl=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(tf(r))return _ee;if(AT(r))return vee;throw Vi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(fs,16))},t.\u0275pipe=Nn({name:"async",type:t,pure:!1,standalone:!0}),e})(),zM=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=UM}transform(r,i=UM){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Pee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(_f,16))},t.\u0275pipe=Nn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function UM(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Ol=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function g4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function see(t,e,n){return function a4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function aee(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function oee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const I=s.match(ZZ);if(null===I)throw new Error(`${s} is not a valid digit info`);const H=I[1],q=I[3],pe=I[5];null!=H&&(u=l4(H)),null!=q&&(d=l4(q)),null!=pe?f=l4(pe):null!=q&&d>f&&(f=d)}!function cee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let E=[];for(c=h.every(I=>!I);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?E=h.splice(p,h.length):(E=h,h=[0]);const S=[];for(h.length>=e.lgSize&&S.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)S.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&S.unshift(h.join("")),a=S.join(yi(n,r)),E.length&&(a+=yi(n,i)+E.join("")),g&&(a+=yi(n,gn.Exponential)+"+"+g)}else a=yi(n,gn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function c4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function n4(t,e){return Ar(t)[Nt.NumberFormats][e]}(e,kg.Decimal),yi(e,gn.MinusSign)),e,gn.Group,gn.Decimal,n)}(function m4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Vi()}}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Ks,16))},t.\u0275pipe=Nn({name:"number",type:t,pure:!0,standalone:!0}),e})();let Nee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=Pt({}),e})();const Oee="server";function _4(t){return t===Oee}class $M{}class ate extends EZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class E4 extends ate{static makeCurrent(){!function yZ(t){e4||(e4=t)}(new E4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function cte(){return xf=xf||document.querySelector("base"),xf?xf.getAttribute("href"):null}();return null==n?null:function lte(t){qg=qg||document.createElement("a"),qg.setAttribute("href",t);const e=qg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){xf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return OM(document.cookie,e)}}let qg,xf=null,dte=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const x4=new xe("EventManagerPlugins");let YM=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ne(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(x4),Me(ht))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class QM{constructor(e){this._doc=e}}const C4="ng-app-id";let XM=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${C4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(C4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(C4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Ur),Me(X0),Me(iD,8),Me(os))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const I4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},b4=/%COMP%/g,gte=new xe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ZM(t,e){return e.map(n=>n.replace(b4,t))}let eP=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=_4(c),this.defaultRenderer=new w4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ti.ShadowDom&&(i={...i,encapsulation:Ti.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof nP?s.applyToHost(r):s instanceof A4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ti.Emulated:o=new nP(l,u,i,this.appId,d,a,c,f);break;case Ti.ShadowDom:return new yte(l,u,r,i,a,c,this.nonce,f);default:o=new A4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(YM),Me(XM),Me(X0),Me(gte),Me(Ur),Me(os),Me(ht),Me(iD))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class w4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(I4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=I4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=I4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(No.DashCase|No.Important)?e.style.setProperty(n,r,i&No.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&No.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Bo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function tP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class yte extends w4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ZM(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class A4 extends w4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?ZM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nP extends A4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function mte(t){return"_ngcontent-%COMP%".replace(b4,t)}(l),this.hostAttr=function _te(t){return"_nghost-%COMP%".replace(b4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Ete=(()=>{var t;class e extends QM{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Ur))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const rP=["alt","control","meta","shift"],xte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ite=(()=>{var t;class e extends QM{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),rP.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=xte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),rP.forEach(a=>{a!==s&&(0,Cte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Ur))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const sP=[{provide:os,useValue:"browser"},{provide:rD,useValue:function bte(){E4.makeCurrent()},multi:!0},{provide:Ur,useFactory:function Ate(){return function hq(t){_v=t}(document),document},deps:[]}],Dte=X7(oZ,"browser",sP),Tte=new xe(""),oP=[{provide:Ag,useClass:class ute{addToWindow(e){Rt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new ne(5103,!1);return s},Rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rt.getAllAngularRootElements=()=>e.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const i=Rt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Bo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:q7,useClass:$y,deps:[ht,Gy,Ag]},{provide:$y,useClass:$y,deps:[ht,Gy,Ag]}],aP=[{provide:Dv,useValue:"root"},{provide:js,useFactory:function wte(){return new js},deps:[]},{provide:x4,useClass:Ete,multi:!0,deps:[Ur,ht,os]},{provide:x4,useClass:Ite,multi:!0,deps:[Ur]},eP,XM,YM,{provide:uD,useExisting:eP},{provide:$M,useClass:dte,deps:[]},[]];let Li=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:X0,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Tte,12))},t.\u0275mod=Bt({type:t}),t.\u0275inj=Pt({providers:[...aP,...oP],imports:[Nee,aZ]}),e})(),D4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Ur))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function Mte(){return new D4(Me(Ur))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let uP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new(r||t):Me(dP),i},providedIn:"root"}),e})(),dP=(()=>{var t;class e extends uP{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case mi.NONE:return i;case mi.HTML:return ss(i,"HTML")?Qr(i):q5(this._doc,String(i)).toString();case mi.STYLE:return ss(i,"Style")?Qr(i):i;case mi.SCRIPT:if(ss(i,"Script"))return Qr(i);throw new ne(5200,!1);case mi.URL:return ss(i,"URL")?Qr(i):q0(String(i));case mi.RESOURCE_URL:if(ss(i,"ResourceURL"))return Qr(i);throw new ne(5201,!1);default:throw new ne(5202,!1)}}bypassSecurityTrustHtml(r){return function Eq(t){return new pq(t)}(r)}bypassSecurityTrustStyle(r){return function xq(t){return new gq(t)}(r)}bypassSecurityTrustScript(r){return function Cq(t){return new mq(t)}(r)}bypassSecurityTrustUrl(r){return function Iq(t){return new _q(t)}(r)}bypassSecurityTrustResourceUrl(r){return function bq(t){return new vq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Ur))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function Nte(t){return new dP(t.get(Ur))}(Me(Sn)),i},providedIn:"root"}),e})();function Cf(t){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vt(t,e,n){return(e=function Fte(t){var e=function Ote(t,e){if("object"!==Cf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Cf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Cf(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hP(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){hP(s,r,i,o,a,"next",c)}function a(c){hP(s,r,i,o,a,"throw",c)}o(void 0)})}}const pP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},M4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Hte;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wg=function(t){return function(t){const e=pP(t);return M4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Kg=function(t){try{return M4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Yg=()=>{try{return mP().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},_P=t=>{var e,n;return null===(n=null===(e=Yg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},vP=()=>{var t;return null===(t=Yg())||void 0===t?void 0:t.config},yP=t=>{var e;return null===(e=Yg())||void 0===e?void 0:e[`_${t}`]};class Fl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function On(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function P4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function If(){try{return"object"==typeof indexedDB}catch{return!1}}function R4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function EP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Zte(t,e){return t.replace(ene,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Bi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const ene=/\{\$([^}]+)}/g;function bf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(CP(s)&&CP(o)){if(!bf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CP(t){return null!==t&&"object"==typeof t}function wf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Af(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Df(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class rne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function ine(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=k4),void 0===i.error&&(i.error=k4),void 0===i.complete&&(i.complete=k4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k4(){}const sne=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},one=1e3,ane=2,cne=144e5,lne=.5;function O4(t,e=one,n=ane){const r=e*Math.pow(n,t),i=Math.round(lne*r*(Math.random()-.5)*2);return Math.min(cne,r+i)}function an(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $a="[DEFAULT]";class dne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function hne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===$a?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const F4=[];var ct=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ct||{});const IP={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},gne=ct.INFO,mne={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},_ne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=mne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Tf{constructor(e){this.name=e,this._logLevel=gne,this._logHandler=_ne,this._userLogHandler=null,F4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?IP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const vne=(t,e)=>e.some(n=>t instanceof n);let bP,wP;const AP=new WeakMap,V4=new WeakMap,DP=new WeakMap,L4=new WeakMap,B4=new WeakMap;let H4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return V4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||DP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function wne(t){return"function"==typeof t?function bne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ene(){return wP||(wP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(z4(this),e),jo(AP.get(this))}:function(...e){return jo(t.apply(z4(this),e))}:function(e,...n){const r=t.call(z4(this),e,...n);return DP.set(r,e.sort?e.sort():[e]),jo(r)}}(t):(t instanceof IDBTransaction&&function Cne(t){if(V4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});V4.set(t,e)}(t),vne(t,function yne(){return bP||(bP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,H4):t)}function jo(t){if(t instanceof IDBRequest)return function xne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AP.set(n,t)}).catch(()=>{}),B4.set(e,t),e}(t);if(L4.has(t))return L4.get(t);const e=wne(t);return e!==t&&(L4.set(t,e),B4.set(e,t)),e}const z4=t=>B4.get(t),Dne=["get","getKey","getAll","getAllKeys","count"],Tne=["put","add","delete","clear"],U4=new Map;function TP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(U4.get(e))return U4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dne.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return U4.set(e,s),s}!function Ine(t){H4=t(H4)}(t=>({...t,get:(e,n,r)=>TP(e,n)||t.get(e,n,r),has:(e,n)=>!!TP(e,n)||t.has(e,n)}));class Sne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Mne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const j4="@firebase/app",Ga=new Tf("@firebase/app"),Xg="[DEFAULT]",nre={[j4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qa=new Map,Jg=new Map;function rre(t,e){try{t.container.addComponent(e)}catch(n){Ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xi(t){const e=t.name;if(Jg.has(e))return Ga.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,t);for(const n of qa.values())rre(n,t);return!0}function hs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Xs=new Uo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const Vl="10.5.2";function MP(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Xg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(n||(n=vP()),!n)throw Xs.create("no-options");const s=qa.get(i);if(s){if(bf(n,s.options)&&bf(r,s.config))return s;throw Xs.create("duplicate-app",{appName:i})}const o=new pne(i);for(const c of Jg.values())o.addComponent(c);const a=new sre(n,r,o);return qa.set(i,a),a}function Ll(t=Xg){const e=qa.get(t);if(!e&&t===Xg&&vP())return MP();if(!e)throw Xs.create("no-app",{appName:t});return e}function PP(){return Array.from(qa.values())}function cn(t,e,n){var r;let i=null!==(r=nre[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ga.warn(a.join(" "))}xi(new Zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ore="firebase-heartbeat-database",are=1,Sf="firebase-heartbeat-store";let G4=null;function RP(){return G4||(G4=function Ane(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=jo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(jo(o.result),c.oldVersion,c.newVersion,jo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(ore,are,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Sf)}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),G4}function q4(){return(q4=v(function*(t){try{return yield(yield RP()).transaction(Sf).objectStore(Sf).get(NP(t))}catch(e){if(e instanceof Bi)Ga.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e?.message});Ga.warn(n.message)}}})).apply(this,arguments)}function kP(t,e){return W4.apply(this,arguments)}function W4(){return(W4=v(function*(t,e){try{const r=(yield RP()).transaction(Sf,"readwrite");yield r.objectStore(Sf).put(e,NP(t)),yield r.done}catch(n){if(n instanceof Bi)Ga.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n?.message});Ga.warn(r.message)}}})).apply(this,arguments)}function NP(t){return`${t.name}!${t.options.appId}`}class dre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=OP(),{heartbeatsToSend:r,unsentEntries:i}=function fre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Wg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function OP(){return(new Date).toISOString().substring(0,10)}class hre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!If()&&R4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function cre(t){return q4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return kP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return kP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function FP(t){return Wg(JSON.stringify({version:2,heartbeats:t})).length}!function pre(t){xi(new Zr("platform-logger",e=>new Sne(e),"PRIVATE")),xi(new Zr("heartbeat",e=>new dre(e),"PRIVATE")),cn(j4,"0.9.22",t),cn(j4,"0.9.22","esm2017"),cn("fire-js","")}(""),cn("firebase","10.5.2","app");class _re extends X{constructor(e,n){super()}schedule(e,n=0){return this}}const Zg={setInterval(t,e,...n){const{delegate:r}=Zg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Zg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class VP extends _re{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Zg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Zg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const LP={now:()=>(LP.delegate||Date).now(),delegate:void 0};class Mf{constructor(e,n=Mf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Mf.now=LP.now;class BP extends Mf{constructor(e,n=Mf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Ere=new class yre extends BP{}(class vre extends VP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),xre=new BP(VP);function Xn(t,e,n){const r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?Le((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(tt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ye}const $o=new fl("ANGULARFIRE2_VERSION");function e1(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const t1=(t,e)=>{const n=e?[e]:PP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class K4{constructor(){return t1(HP)}}const HP="app-check";function Bl(){}class zP{constructor(e,n=Ere){vt(this,"zone",void 0),vt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Ire{constructor(e){vt(this,"zone",void 0),vt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bl,{},Bl,Bl)),n.pipe(Xn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pf=(()=>{var t;class e{constructor(r){vt(this,"ngZone",void 0),vt(this,"outsideAngular",void 0),vt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new zP(Zone.current)),this.insideAngular=r.run(()=>new zP(Zone.current,xre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Me(ht))}),vt(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Hl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Wa(t){return Hl().ngZone.run(()=>t())}function wre(t){return function Are(t){return function(n){return(n=n.lift(new Ire(t.ngZone))).pipe(s0(t.outsideAngular),r0(t.insideAngular))}}(Hl())(t)}const Dre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Wa(()=>t.apply(void 0,r))},en=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Wa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bl,{},Bl,Bl))),r[s]=Dre(r[s],n));const i=function bre(t){return Hl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof he){const s=Hl();return i.pipe(s0(s.outsideAngular),r0(s.insideAngular))}return Wa(()=>i)}return i instanceof he?i.pipe(wre):i instanceof Promise?Wa(()=>new Promise((s,o)=>i.then(a=>Wa(()=>s(a)),a=>Wa(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Wa(()=>i)};class Ka{constructor(e){return e}}class Rf{constructor(){return PP()}}const Y4=new xe("angularfire2._apps"),Sre={provide:Ka,useFactory:function Tre(t){return t&&1===t.length?t[0]:new Ka(Ll())},deps:[[new En,Y4]]},Mre={provide:Rf,deps:[[new En,Y4]]};function Pre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ka(r)}}let Rre=(()=>{var t;class e{constructor(r){cn("angularfire",$o.full,"core"),cn("angularfire",$o.full,"app"),cn("angular",dD.full,r.toString())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Me(os))}),vt(e,"\u0275mod",Bt({type:t})),vt(e,"\u0275inj",Pt({providers:[Sre,Mre]})),e})();function Js(t,...e){return{ngModule:Rre,providers:[{provide:Y4,useFactory:Pre(t),multi:!0,deps:[ht,Sn,Pf,...e]}]}}const Zs=en(Ll,!0),eo=en(MP,!0);const kre=function UP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jP=new Uo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),n1=new Tf("@firebase/auth");function r1(t,...e){n1.logLevel<=ct.ERROR&&n1.error(`Auth (${Vl}): ${t}`,...e)}function jr(t,...e){throw Q4(t,...e)}function ei(t,...e){return Q4(t,...e)}function $P(t,e,n){const r=Object.assign(Object.assign({},kre()),{[e]:n});return new Uo("auth","Firebase",r).create(e,{appName:t.name})}function Q4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jP.create(t,...e)}function me(t,e,...n){if(!t)throw Q4(e,...n)}function ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw r1(e),new Error(e)}function to(t,e){t||ps(e)}function kf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function GP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,to(n>e,"Short delay should be less than long delay!"),this.isMobile=function Kte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}()||function Qte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Ore(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function X4(){return"http:"===GP()||"https:"===GP()}()||P4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function J4(t,e){to(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class qP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Lre=new Nf(3e4,6e4);function Wt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tn(t,e,n,r){return Z4.apply(this,arguments)}function Z4(){return(Z4=v(function*(t,e,n,r,i={}){return WP(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=wf(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),qP.fetch()(KP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function WP(t,e,n){return e6.apply(this,arguments)}function e6(){return(e6=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vre),e);try{const i=new Hre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Of(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Of(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Of(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Of(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $P(t,u,l);jr(t,u)}}catch(i){if(i instanceof Bi)throw i;jr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function no(t,e,n,r){return t6.apply(this,arguments)}function t6(){return(t6=v(function*(t,e,n,r,i={}){const s=yield tn(t,e,n,r,i);return"mfaPendingCredential"in s&&jr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function KP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?J4(t.config,i):`${t.config.apiScheme}://${i}`}function Bre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),Lre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Of(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ei(t,e,r);return i.customData._tokenResponse=n,i}function QP(t){return void 0!==t&&void 0!==t.enterprise}class XP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Bre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function JP(t,e){return r6.apply(this,arguments)}function r6(){return(r6=v(function*(t,e){return tn(t,"GET","/v2/recaptchaConfig",Wt(t,e))})).apply(this,arguments)}function i6(){return(i6=v(function*(t,e){return tn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function o6(){return(o6=v(function*(t,e){return tn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ff(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function a6(){return(a6=v(function*(t,e=!1){const n=an(t),r=yield n.getIdToken(e),i=i1(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ff(c6(i.auth_time)),issuedAtTime:Ff(c6(i.iat)),expirationTime:Ff(c6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function c6(t){return 1e3*Number(t)}function i1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return r1("JWT malformed, contained fewer than 3 sections"),null;try{const i=Kg(n);return i?JSON.parse(i):(r1("Failed to decode base64 JWT payload"),null)}catch(i){return r1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ro(t,e){return l6.apply(this,arguments)}function l6(){return(l6=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Bi&&function Wre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Kre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ZP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vf(t){return u6.apply(this,arguments)}function u6(){return u6=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ro(t,function $re(t,e){return o6.apply(this,arguments)}(n,{idToken:r}));me(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Xre(t){return t.map(e=>{var{providerId:n}=e,r=ir(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Qre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ZP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),u6.apply(this,arguments)}function d6(){return(d6=v(function*(t){const e=an(t);yield Vf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function f6(){return(f6=v(function*(t,e){const n=yield WP(t,{},v(function*(){const r=wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Lf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function qre(t){const e=i1(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return me(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Jre(t,e){return f6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Lf;return r&&(me("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(me("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(me("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lf,this.toJSON())}_performRefresh(){return ps("not implemented")}}function Go(t,e){me("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ya{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ir(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ZP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield ro(n,n.stsTokenManager.getToken(n.auth,e));return me(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Gre(t){return a6.apply(this,arguments)}(this,e)}reload(){return function Yre(t){return d6.apply(this,arguments)}(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Vf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield ro(e,function Ure(t,e){return i6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,S=null!==(l=n.createdAt)&&void 0!==l?l:void 0,I=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:H,emailVerified:q,isAnonymous:pe,providerData:Se,stsTokenManager:Ve}=n;me(H&&Ve,e,"internal-error");const Et=Lf.fromJSON(this.name,Ve);me("string"==typeof H,e,"internal-error"),Go(d,e.name),Go(f,e.name),me("boolean"==typeof q,e,"internal-error"),me("boolean"==typeof pe,e,"internal-error"),Go(h,e.name),Go(p,e.name),Go(g,e.name),Go(E,e.name),Go(S,e.name),Go(I,e.name);const rn=new Ya({uid:H,auth:e,email:f,emailVerified:q,displayName:d,isAnonymous:pe,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:Et,createdAt:S,lastLoginAt:I});return Se&&Array.isArray(Se)&&(rn.providerData=Se.map(wi=>Object.assign({},wi))),E&&(rn._redirectEventId=E),rn}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Lf;i.updateFromServerResponse(n);const s=new Ya({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vf(s),s})()}}const eR=new Map;function io(t){to(t instanceof Function,"Expected a class definition");let e=eR.get(t);return e?(to(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eR.set(t,e),e)}const tR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function s1(t,e,n){return`firebase:${t}:${e}:${n}`}class Ul{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=s1(this.userKey,i.apiKey,s),this.fullPersistenceKey=s1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ya._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new Ul(io(tR),e,r);const i=(yield Promise.all(n.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||io(tR);const o=s1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Ya._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Ul(s,e,r)):new Ul(s,e,r)})()}}function nR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aR(e))return"Blackberry";if(cR(e))return"Webos";if(h6(e))return"Safari";if((e.includes("chrome/")||iR(e))&&!e.includes("edge/"))return"Chrome";if(oR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function rR(t=On()){return/firefox\//i.test(t)}function h6(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iR(t=On()){return/crios\//i.test(t)}function sR(t=On()){return/iemobile/i.test(t)}function oR(t=On()){return/android/i.test(t)}function aR(t=On()){return/blackberry/i.test(t)}function cR(t=On()){return/webos/i.test(t)}function o1(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lR(t=On()){return o1(t)||oR(t)||cR(t)||aR(t)||/windows phone/i.test(t)||sR(t)}function uR(t,e=[]){let n;switch(t){case"Browser":n=nR(On());break;case"Worker":n=`${nR(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${r}`}class nie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function p6(){return(p6=v(function*(t,e={}){return tn(t,"GET","/v2/passwordPolicy",Wt(t,e))})).apply(this,arguments)}class sie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class oie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dR(this),this.idTokenSubscription=new dR(this),this.beforeStateQueue=new nie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=io(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ul.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return me(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield Vf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Fre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?an(e):null;return r&&me(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&me(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(io(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const n=yield function rie(t){return p6.apply(this,arguments)}(e),r=new sie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&io(e)||n._popupRedirectResolver;me(r,n,"argument-error"),n.redirectPersistenceManager=yield Ul.create(n,[io(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Nre(t,...e){n1.logLevel<=ct.WARN&&n1.warn(`Auth (${Vl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Cn(t){return an(t)}class dR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function nne(t,e){const n=new rne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function g6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ei("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function aie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function fR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class hR{constructor(e){this.type="recaptcha-enterprise",this.auth=Cn(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){JP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new XP(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;QP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&QP(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));g6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function pR(t,e,n){return m6.apply(this,arguments)}function m6(){return(m6=v(function*(t,e,n,r=!1){const i=new hR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function _6(){return _6=v(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield pR(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield pR(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),_6.apply(this,arguments)}function gR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class y6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,n){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}function vR(t,e){return x6.apply(this,arguments)}function x6(){return(x6=v(function*(t,e){return tn(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function vie(t,e){return I6.apply(this,arguments)}function I6(){return(I6=v(function*(t,e){return no(t,"POST","/v1/accounts:signInWithPassword",Wt(t,e))})).apply(this,arguments)}function S6(){return(S6=v(function*(t,e){return no(t,"POST","/v1/accounts:signInWithEmailLink",Wt(t,e))})).apply(this,arguments)}function M6(){return(M6=v(function*(t,e){return no(t,"POST","/v1/accounts:signInWithEmailLink",Wt(t,e))})).apply(this,arguments)}class Bf extends y6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){switch(n.signInMethod){case"password":return function a1(t,e,n,r){return _6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vie);case"emailLink":return function Iie(t,e){return S6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:jr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return vR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function bie(t,e){return M6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:jr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function so(t,e){return P6.apply(this,arguments)}function P6(){return(P6=v(function*(t,e){return no(t,"POST","/v1/accounts:signInWithIdp",Wt(t,e))})).apply(this,arguments)}class jl extends y6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ir(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new jl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return so(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,so(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wf(n)}return e}}class zf{constructor(e){var n,r,i,s,o,a;const c=Af(Df(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Pie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);me(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Rie(t){const e=Af(Df(t)).link,n=e?Af(Df(e)).deep_link_id:null,r=Af(Df(t)).deep_link_id;return(r?Af(Df(r)).link:null)||r||n||e||t}(e);try{return new zf(n)}catch{return null}}}let yR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Bf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=zf.parseLink(r);return me(i,"argument-error"),Bf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class qo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ER extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let kie=(()=>{class t extends ER{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return jl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield Ya._fromIdTokenResponse(e,r,i),o=CR(r);return new Ci({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=CR(r);return new Ci({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function CR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class u1 extends Bi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,u1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new u1(e,n,r,i)}}function IR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?u1._fromErrorAndOperation(t,s,e,r):s})}function z6(){return(z6=v(function*(t,e,n=!1){const r=yield ro(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ci._forOperation(t,"link",r)})).apply(this,arguments)}function j6(){return(j6=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ro(t,IR(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=i1(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),Ci._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&jr(r,"user-mismatch"),s}})).apply(this,arguments)}function AR(t,e){return $6.apply(this,arguments)}function $6(){return($6=v(function*(t,e,n=!1){const r="signIn",i=yield IR(t,r,e),s=yield Ci._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function q6(){return(q6=v(function*(t,e){return AR(Cn(t),e)})).apply(this,arguments)}function t3(){return(t3=v(function*(t){const e=Cn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Hie(t,e,n){return function G6(t,e){return q6.apply(this,arguments)}(an(t),yR.credential(e,n)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function e3(t){return t3.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const h1="__sak";class TR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(h1,"1"),this.storage.removeItem(h1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ise=(()=>{class t extends TR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tse(){const t=On();return h6(t)||o1(t)}()&&function tie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function eie(){return function Xte(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),SR=(()=>{class t extends TR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let ose=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function sse(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function p1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class ase{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=p1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function In(){return window}function I3(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function b3(){return(b3=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const MR="firebaseLocalStorageDb",g1="firebaseLocalStorage",PR="fbase_key";class jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function m1(t,e){return t.transaction([g1],e?"readwrite":"readonly").objectStore(g1)}function w3(){const t=indexedDB.open(MR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(g1,{keyPath:PR})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(g1)?e(r):(r.close(),yield function hse(){const t=indexedDB.deleteDatabase(MR);return new jf(t).toPromise()}(),e(yield w3()))}))})}function RR(t,e,n){return A3.apply(this,arguments)}function A3(){return(A3=v(function*(t,e,n){const r=m1(t,!0).put({[PR]:e,value:n});return new jf(r).toPromise()})).apply(this,arguments)}function D3(){return(D3=v(function*(t,e){const n=m1(t,!1).get(e),r=yield new jf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function kR(t,e){const n=m1(t,!0).delete(e);return new jf(n).toPromise()}const _se=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield w3()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return I3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=ose._getInstance(function dse(){return I3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function lse(){return b3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new ase(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function use(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield w3();return yield RR(n,h1,"1"),yield kR(n,h1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>RR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function pse(t,e){return D3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>kR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=m1(o,!1).getAll();return new jf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Xa(t,e){return e?io(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}fR("rcb"),new Nf(3e4,6e4);class F3 extends y6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kse(t){return AR(t.auth,new F3(t),t.bypassAuthState)}function Nse(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),function wR(t,e){return j6.apply(this,arguments)}(n,new F3(t),t.bypassAuthState)}function Ose(t){return V3.apply(this,arguments)}function V3(){return(V3=v(function*(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),function H6(t,e){return z6.apply(this,arguments)}(n,new F3(t),t.bypassAuthState)})).apply(this,arguments)}class OR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kse;case"linkViaPopup":case"linkViaRedirect":return Ose;case"reauthViaPopup":case"reauthViaRedirect":return Nse;default:jr(this.auth,"internal-error")}}resolve(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fse=new Nf(2e3,1e4);function Vse(t,e,n){return L3.apply(this,arguments)}function L3(){return(L3=v(function*(t,e,n){const r=Cn(t);!function zl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&jr(t,"argument-error"),$P(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,qo);const i=Xa(r,n);return new z3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let z3=(()=>{class t extends OR{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return v(function*(){const r=yield n.execute();return me(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return v(function*(){to(1===n.filter.length,"Popup operations only handle one event");const r=p1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(ei(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Fse.get())};n()}}return t.currentPopupAction=null,t})();const Lse="pendingRedirect",$f=new Map;class Bse extends OR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=$f.get(n.auth._key());if(!r){try{const s=(yield function Hse(t,e){return U3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}$f.set(n.auth._key(),r)}return n.bypassAuthState||$f.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function U3(){return(U3=v(function*(t,e){const n=function VR(t){return s1(Lse,t.config.apiKey,t.name)}(e),r=function FR(t){return io(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function zse(t,e){$f.set(t._key(),e)}function LR(t,e){return Y3.apply(this,arguments)}function Y3(){return(Y3=v(function*(t,e,n=!1){const r=Cn(t),i=Xa(r,e),o=yield new Bse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class qse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Wse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(HR(e))}saveEventToCache(e){this.cachedEventUids.add(HR(e)),this.lastProcessedEventTime=Date.now()}}function HR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function X3(){return(X3=v(function*(t,e={}){return tn(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Yse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qse=/^https?/;function J3(){return J3=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Kse(t){return X3.apply(this,arguments)}(t);for(const n of e)try{if(Jse(n))return}catch{}jr(t,"unauthorized-domain")}),J3.apply(this,arguments)}function Jse(t){const e=kf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Qse.test(n))return!1;if(Yse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Zse=new Nf(3e4,6e4);function UR(){const t=In().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let v1=null;const noe=new Nf(5e3,15e3),roe="__/auth/iframe",ioe="emulator/auth/iframe",soe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ooe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aoe(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?J4(e,ioe):`https://${t.config.authDomain}/${roe}`,r={apiKey:e.apiKey,appName:t.name,v:Vl},i=ooe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wf(r).slice(1)}`}function Z3(){return Z3=v(function*(t){const e=yield function toe(t){return v1=v1||function eoe(t){return new Promise((e,n)=>{var r,i,s;function o(){UR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UR(),n(ei(t,"network-request-failed"))},timeout:Zse.get()})}if(null!==(i=null===(r=In().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=In().gapi)||void 0===s||!s.load){const a=fR("iframefcb");return In()[a]=()=>{gapi.load?o():n(ei(t,"network-request-failed"))},g6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw v1=null,e})}(t),v1}(t),n=In().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:aoe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:soe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ei(t,"network-request-failed"),c=In().setTimeout(()=>{o(a)},noe.get());function l(){In().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Z3.apply(this,arguments)}const loe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const moe="__/auth/handler",_oe="emulator/auth/handler",voe=encodeURIComponent("fac");function $R(t,e,n,r,i,s){return eE.apply(this,arguments)}function eE(){return(eE=v(function*(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vl,eventId:i};if(e instanceof qo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function tne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof ER){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${voe}=${encodeURIComponent(c)}`:"";return`${function yoe({config:t}){return t.emulator?J4(t,_oe):`https://${t.authDomain}/${moe}`}(t)}?${wf(a).slice(1)}${l}`})).apply(this,arguments)}const tE="webStorageSupport",xoe=class Eoe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SR,this._completeRedirectFn=LR,this._overrideRedirectResult=zse}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;to(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield $R(e,n,r,kf(),i);return function poe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},loe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=On().toLowerCase();n&&(a=iR(l)?"_blank":n),rR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Zre(t=On()){var e;return o1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function goe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new jR(null);const d=window.open(e||"",a,u);me(d,t,"popup-blocked");try{d.focus()}catch{}return new jR(d)}(e,a,p1())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function cse(t){In().location.href=t}(yield $R(e,n,r,kf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(to(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function coe(t){return Z3.apply(this,arguments)}(e),i=new qse(e);return r.register("authEvent",s=>(me(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tE,{type:tE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[tE];void 0!==o&&n(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Xse(t){return J3.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lR()||h6()||o1()}};var WR="@firebase/auth";class Coe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Aoe=yP("authIdTokenMaxAge")||300;let YR=null;const Doe=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Aoe)return;const s=r?.token;YR!==s&&(YR=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Toe(t=Ll()){const e=hs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function fie(t,e){const n=hs(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(bf(n.getOptions(),e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:xoe,persistence:[_se,ise,SR]}),r=yP("authTokenSyncURL");if(r){const s=Doe(r);(function Yie(t,e,n){an(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Kie(t,e,n,r){an(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=_P("auth");return i&&function pie(t,e,n){const r=Cn(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=gR(e),{host:o,port:a}=function gie(t){const e=gR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mR(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:mR(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function mie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Soe(t){return new he(function(e){var n=function Qie(t,e,n,r){return an(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function boe(t){xi(new Zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uR(t)},l=new oie(r,i,s,c);return function hie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(io);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xi(new Zr("auth-internal",e=>{const n=Cn(e.getProvider("auth").getImmediate());return new Coe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(WR,"1.3.2",function Ioe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),cn(WR,"1.3.2","esm2017")}("Browser");class Gf{constructor(e){return e}}class XR{constructor(){return t1("auth")}}const rE=new xe("angularfire2.auth-instances");function Roe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Gf(r)}}const koe={provide:XR,deps:[[new En,rE]]},Noe={provide:Gf,useFactory:function Poe(t,e){const n=e1("auth",t,e);return n&&new Gf(n)},deps:[[new En,rE],Ka]};let Ooe=(()=>{var t;class e{constructor(){cn("angularfire",$o.full,"auth")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",Bt({type:t})),vt(e,"\u0275inj",Pt({providers:[Noe,koe]})),e})();function Wo(t,...e){return{ngModule:Ooe,providers:[{provide:rE,useFactory:Roe(t),multi:!0,deps:[ht,Sn,Pf,Rf,[new En,K4],...e]}]}}const JR=en(Soe,!0),Ko=en(Toe,!0),Foe=en(Hie,!0),Voe=en(Vse,!0);var Ce,Loe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hi={},iE=iE||{},qe=Loe||self;function E1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var sE="closure_uid_"+(1e9*Math.random()>>>0),Hoe=0;function zoe(t,e,n){return t.call.apply(t.bind,arguments)}function Uoe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zoe:Uoe).apply(null,arguments)}function x1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yo(){this.s=this.s,this.o=this.o}Yo.prototype.s=!1,Yo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Boe(t){Object.prototype.hasOwnProperty.call(t,sE)&&t[sE]||(t[sE]=++Hoe)}(this)},Yo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function oE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function e9(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(E1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function fr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fr.prototype.h=function(){this.defaultPrevented=!0};var $oe=function(){if(!qe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{qe.addEventListener("test",()=>{},e),qe.removeEventListener("test",()=>{},e)}catch{}return t}();function Wf(t){return/^[\s\xa0]*$/.test(t)}function C1(){var t=qe.navigator;return t&&(t=t.userAgent)?t:""}function gs(t){return-1!=C1().indexOf(t)}function aE(t){return aE[" "](t),t}aE[" "]=function(){};var lE,t,qoe=gs("Opera"),$l=gs("Trident")||gs("MSIE"),t9=gs("Edge"),cE=t9||$l,n9=gs("Gecko")&&!(-1!=C1().toLowerCase().indexOf("webkit")&&!gs("Edge"))&&!(gs("Trident")||gs("MSIE"))&&!gs("Edge"),Woe=-1!=C1().toLowerCase().indexOf("webkit")&&!gs("Edge");function r9(){var t=qe.document;return t?t.documentMode:void 0}e:{var uE="",dE=(t=C1(),n9?/rv:([^\);]+)(\)|;)/.exec(t):t9?/Edge\/([\d\.]+)/.exec(t):$l?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Woe?/WebKit\/(\S+)/.exec(t):qoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(dE&&(uE=dE?dE[1]:""),$l){var fE=r9();if(null!=fE&&fE>parseFloat(uE)){lE=String(fE);break e}}lE=uE}var Koe=qe.document&&$l&&(r9()||parseInt(lE,10))||void 0;function Kf(t,e){if(fr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(n9){e:{try{aE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Yoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Kf.$.h.call(this)}}Fn(Kf,fr);var Yoe={2:"touch",3:"pen",4:"mouse"};Kf.prototype.h=function(){Kf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),Qoe=0;function Xoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Qoe,this.fa=this.ia=!1}function I1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function pE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s9(t){const e={};for(const n in t)e[n]=t[n];return e}const o9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function a9(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<o9.length;s++)n=o9[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function b1(t){this.src=t,this.g={},this.h=0}function gE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=ZR(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(I1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function mE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}b1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=mE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Xoe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var _E="closure_lm_"+(1e6*Math.random()|0),vE={};function c9(t,e,n,r,i){if(r&&r.once)return u9(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)c9(t,e[s],n,r,i);return null}return n=CE(n),t&&t[Yf]?t.O(e,n,qf(r)?!!r.capture:!!r,i):l9(t,e,n,!1,r,i)}function l9(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=qf(i)?!!i.capture:!!i,a=EE(t);if(a||(t[_E]=a=new b1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Zoe(){const e=eae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$oe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f9(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function u9(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)u9(t,e[s],n,r,i);return null}return n=CE(n),t&&t[Yf]?t.P(e,n,qf(r)?!!r.capture:!!r,i):l9(t,e,n,!0,r,i)}function d9(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)d9(t,e[s],n,r,i);else r=qf(r)?!!r.capture:!!r,n=CE(n),t&&t[Yf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=mE(s=t.g[e],n,r,i))&&(I1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=EE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mE(e,n,r,i)),(n=-1<t?e[t]:null)&&yE(n))}function yE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Yf])gE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=EE(e))?(gE(n,t),0==n.h&&(n.src=null,e[_E]=null)):I1(t)}}}function f9(t){return t in vE?vE[t]:vE[t]="on"+t}function eae(t,e){if(t.fa)t=!0;else{e=new Kf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&yE(t),t=n.call(r,e)}return t}function EE(t){return(t=t[_E])instanceof b1?t:null}var xE="__closure_events_fn_"+(1e9*Math.random()>>>0);function CE(t){return"function"==typeof t?t:(t[xE]||(t[xE]=function(e){return t.handleEvent(e)}),t[xE])}function Vn(){Yo.call(this),this.i=new b1(this),this.S=this,this.J=null}function Jn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new fr(e,t);else if(e instanceof fr)e.target=e.target||t;else{var i=e;a9(e=new fr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=w1(o,r,!0,e)&&i}if(i=w1(o=e.g=t,r,!0,e)&&i,i=w1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=w1(o=e.g=n[s],r,!1,e)&&i}function w1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&gE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Fn(Vn,Yo),Vn.prototype[Yf]=!0,Vn.prototype.removeEventListener=function(t,e,n,r){d9(this,t,e,n,r)},Vn.prototype.N=function(){if(Vn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)I1(n[r]);delete t.g[e],t.h--}}this.J=null},Vn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Vn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var IE=qe.JSON.stringify;function nae(){var t=bE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var h9=new class tae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new iae,t=>t.reset());class iae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oae(t){qe.setTimeout(()=>{throw t},0)}let Qf,Xf=!1,bE=new class rae{constructor(){this.h=this.g=null}add(e,n){const r=h9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},p9=()=>{const t=qe.Promise.resolve(void 0);Qf=()=>{t.then(aae)}};var aae=()=>{for(var t;t=nae();){try{t.h.call(t.g)}catch(n){oae(n)}var e=h9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xf=!1};function A1(t,e){Vn.call(this),this.h=t||1,this.g=e||qe,this.j=dr(this.qb,this),this.l=Date.now()}function wE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function AE(t,e,n){if("function"==typeof t)n&&(t=dr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dr(t.handleEvent,t)}return 2147483647<Number(e)?-1:qe.setTimeout(t,e||0)}function g9(t){t.g=AE(()=>{t.g=null,t.i&&(t.i=!1,g9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Fn(A1,Vn),(Ce=A1.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jn(this,"tick"),this.ga&&(wE(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){A1.$.N.call(this),wE(this),delete this.g};class cae extends Yo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g9(this)}N(){super.N(),this.g&&(qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jf(t){Yo.call(this),this.h=t,this.g={}}Fn(Jf,Yo);var m9=[];function _9(t,e,n,r){Array.isArray(n)||(n&&(m9[0]=n.toString()),n=m9);for(var i=0;i<n.length;i++){var s=c9(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function v9(t){pE(t.g,function(e,n){this.g.hasOwnProperty(n)&&yE(e)},t),t.g={}}function D1(){this.g=!0}function Gl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return IE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Jf.prototype.N=function(){Jf.$.N.call(this),v9(this)},Jf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},D1.prototype.Ea=function(){this.g=!1},D1.prototype.info=function(){};var Ja={},y9=null;function T1(){return y9=y9||new Vn}function E9(t){fr.call(this,Ja.Ta,t)}function Zf(t){const e=T1();Jn(e,new E9(e))}function x9(t,e){fr.call(this,Ja.STAT_EVENT,t),this.stat=e}function Sr(t){const e=T1();Jn(e,new x9(e,t))}function C9(t,e){fr.call(this,Ja.Ua,t),this.size=e}function eh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return qe.setTimeout(function(){t()},e)}Ja.Ta="serverreachability",Fn(E9,fr),Ja.STAT_EVENT="statevent",Fn(x9,fr),Ja.Ua="timingevent",Fn(C9,fr);var S1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},I9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function DE(){}function w9(){}DE.prototype.h=null;var ME,th={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function TE(){fr.call(this,"d")}function SE(){fr.call(this,"c")}function M1(){}function nh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Jf(this),this.P=hae,this.V=new A1(t=cE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new A9}function A9(){this.i=null,this.g="",this.h=!1}Fn(TE,fr),Fn(SE,fr),Fn(M1,DE),M1.prototype.g=function(){return new XMLHttpRequest},M1.prototype.i=function(){return{}},ME=new M1;var hae=45e3,PE={},P1={};function RE(t,e,n){t.L=1,t.v=O1(oo(e)),t.s=n,t.S=!0,D9(t,null)}function D9(t,e){t.G=Date.now(),rh(t),t.A=oo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),V9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new A9,t.g=ak(t.l,n?e:null,!t.s),0<t.O&&(t.M=new cae(dr(t.Pa,t,t.g),t.O)),_9(t.U,t.g,"readystatechange",t.nb),e=t.I?s9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Zf(),function lae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function T9(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function S9(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=pae(t,n),i==P1){4==e&&(t.o=4,Sr(14),r=!1),Gl(t.j,t.m,null,"[Incomplete Response]");break}if(i==PE){t.o=4,Sr(15),Gl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Gl(t.j,t.m,i,null),kE(t,i)}T9(t)&&i!=P1&&i!=PE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),HE(e),e.M=!0,Sr(11))):(Gl(t.j,t.m,n,"[Invalid Chunked Response]"),Za(t),ih(t))}function pae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?P1:(n=Number(e.substring(n,r)),isNaN(n)?PE:(r+=1)+n>e.length?P1:(e=e.slice(r,r+n),t.C=r+n,e))}function rh(t){t.Y=Date.now()+t.P,M9(t,t.P)}function M9(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=eh(dr(t.lb,t),e)}function R1(t){t.B&&(qe.clearTimeout(t.B),t.B=null)}function ih(t){0==t.l.H||t.J||rk(t.l,t)}function Za(t){R1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,wE(t.V),v9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function kE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||NE(n.i,t)))if(!t.K&&NE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;z1(n),B1(n)}BE(n),Sr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=eh(dr(n.ib,n),6e3));if(1>=H9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else tc(n,11)}else if((t.K||n.g==t)&&z1(n),!Wf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(OE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ht(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=ok(r,r.J?r.pa:null,r.Y),o.K){z9(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(R1(a),rh(a)),r.g=o}else tk(r);0<n.j.length&&H1(n)}else"stop"!=l[0]&&"close"!=l[0]||tc(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?tc(n,7):LE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Zf()}catch{}}function P9(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(E1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function mae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(E1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function gae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(E1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ce=nh.prototype).setTimeout=function(t){this.P=t},Ce.nb=function(t){t=t.target;const e=this.M;e&&3==ms(t)?e.l():this.Pa(t)},Ce.Pa=function(t){try{if(t==this.g)e:{const u=ms(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||cE||this.g&&(this.h.h||this.g.ja()||Y9(this.g)))){this.J||4!=u||7==e||Zf(),R1(this);var n=this.g.da();this.ca=n;t:if(T9(this)){var r=Y9(this.g);t="";var i=r.length,s=4==ms(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Za(this),ih(this);var o="";break t}this.h.i=new qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function uae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Sr(12),Za(this),ih(this);break e}Gl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kE(this,n)}this.S?(S9(this,u,o),cE&&this.i&&3==u&&(_9(this.U,this.V,"tick",this.mb),this.V.start())):(Gl(this.j,this.m,o,null),kE(this,o)),4==u&&Za(this),this.i&&!this.J&&(4==u?rk(this.l,this):(this.i=!1,rh(this)))}else(function Nae(t){const e={};t=(t.g&&2<=ms(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Wf(t[r]))continue;var n=sae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Joe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),Za(this),ih(this)}}}catch{}},Ce.mb=function(){if(this.g){var t=ms(this.g),e=this.g.ja();this.C<e.length&&(R1(this),S9(this,t,e),this.i&&4!=t&&rh(this))}},Ce.cancel=function(){this.J=!0,Za(this)},Ce.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function dae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Zf(),Sr(17)),Za(this),this.o=2,ih(this)):M9(this,this.Y-t)};var R9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ec){this.h=t.h,k1(this,t.j),this.s=t.s,this.g=t.g,N1(this,t.m),this.l=t.l;var e=t.i,n=new ah;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),k9(this,n),this.o=t.o}else t&&(e=String(t).match(R9))?(this.h=!1,k1(this,e[1]||"",!0),this.s=sh(e[2]||""),this.g=sh(e[3]||"",!0),N1(this,e[4]),this.l=sh(e[5]||"",!0),k9(this,e[6]||"",!0),this.o=sh(e[7]||"")):(this.h=!1,this.i=new ah(null,this.h))}function oo(t){return new ec(t)}function k1(t,e,n){t.j=n?sh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function N1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function k9(t,e,n){e instanceof ah?(t.i=e,function Iae(t,e){e&&!t.j&&(Qo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(O9(this,r),V9(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=oh(e,xae)),t.i=new ah(e,t.h))}function Ht(t,e,n){t.i.set(e,n)}function O1(t){return Ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,vae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ec.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oh(e,N9,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(oh(e,N9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(oh(n,"/"==n.charAt(0)?Eae:yae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oh(n,Cae)),t.join("")};var N9=/[#\/\?@]/g,yae=/[#\?:]/g,Eae=/[#\?]/g,xae=/[#\?@]/g,Cae=/#/g;function ah(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qo(t){t.g||(t.g=new Map,t.h=0,t.i&&function _ae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function O9(t,e){Qo(t),e=ql(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function F9(t,e){return Qo(t),e=ql(t,e),t.g.has(e)}function V9(t,e,n){O9(t,e),0<n.length&&(t.i=null,t.g.set(ql(t,e),oE(n)),t.h+=n.length)}function ql(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function L9(t){this.l=t||wae,t=qe.PerformanceNavigationTiming?0<(t=qe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(qe.g&&qe.g.Ka&&qe.g.Ka()&&qe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=ah.prototype).add=function(t,e){Qo(this),this.i=null,t=ql(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ce.forEach=function(t,e){Qo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ce.ta=function(){Qo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ce.Z=function(t){Qo(this);let e=[];if("string"==typeof t)F9(this,t)&&(e=e.concat(this.g.get(ql(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ce.set=function(t,e){return Qo(this),this.i=null,F9(this,t=ql(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ce.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var wae=10;function B9(t){return!!t.h||!!t.g&&t.g.size>=t.j}function H9(t){return t.h?1:t.g?t.g.size:0}function NE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function OE(t,e){t.g?t.g.add(e):t.h=e}function z9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function U9(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return oE(t.i)}L9.prototype.cancel=function(){if(this.i=U9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Aae=class{stringify(t){return qe.JSON.stringify(t,void 0)}parse(t){return qe.JSON.parse(t,void 0)}};function Dae(){this.g=new Aae}function Tae(t,e,n){const r=n||"";try{P9(t,function(i,s){let o=i;qf(i)&&(o=IE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function F1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ch(t){this.l=t.ec||null,this.j=t.ob||!1}function V1(t,e){Vn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=FE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fn(ch,DE),ch.prototype.g=function(){return new V1(this.l,this.j)},ch.prototype.i=function(t){return function(){return t}}({}),Fn(V1,Vn);var FE=0;function j9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function lh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uh(t)}function uh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ce=V1.prototype).open=function(t,e){if(this.readyState!=FE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uh(this)},Ce.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lh(this)),this.readyState=FE},Ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof qe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lh(this):uh(this),3==this.readyState&&j9(this)}},Ce.Za=function(t){this.g&&(this.response=this.responseText=t,lh(this))},Ce.Ya=function(t){this.g&&(this.response=t,lh(this))},Ce.ka=function(){this.g&&lh(this)},Ce.setRequestHeader=function(t,e){this.v.append(t,e)},Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(V1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Mae=qe.JSON.parse;function ln(t){Vn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$9,this.L=this.M=!1}Fn(ln,Vn);var $9="",Pae=/^https?$/i,Rae=["POST","PUT"];function G9(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,q9(t),L1(t)}function q9(t){t.F||(t.F=!0,Jn(t,"complete"),Jn(t,"error"))}function W9(t){if(t.h&&typeof iE<"u"&&(!t.C[1]||4!=ms(t)||2!=t.da()))if(t.v&&4==ms(t))AE(t.La,0,t);else if(Jn(t,"readystatechange"),4==ms(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(R9)[1]||null;!i&&qe.self&&qe.self.location&&(i=qe.self.location.protocol.slice(0,-1)),r=!Pae.test(i?i.toLowerCase():"")}n=r}if(n)Jn(t,"complete"),Jn(t,"success");else{t.m=6;try{var s=2<ms(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",q9(t)}}finally{L1(t)}}}function L1(t,e){if(t.g){K9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jn(t,"ready");try{n.onreadystatechange=r}catch{}}}function K9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(qe.clearTimeout(t.A),t.A=null)}function ms(t){return t.g?t.g.readyState:0}function Y9(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Q9(t){let e="";return pE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function VE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Q9(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ht(t,e,n))}function dh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function X9(t){this.Ga=0,this.j=[],this.l=new D1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dh("baseRetryDelayMs",5e3,t),this.hb=dh("retryDelaySeedMs",1e4,t),this.eb=dh("forwardChannelMaxRetries",2,t),this.xa=dh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new L9(t&&t.concurrentRequestLimit),this.Ja=new Dae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function LE(t){if(J9(t),3==t.H){var e=t.W++,n=oo(t.I);if(Ht(n,"SID",t.K),Ht(n,"RID",e),Ht(n,"TYPE","terminate"),fh(t,n),(e=new nh(t,t.l,e)).L=2,e.v=O1(oo(n)),n=!1,qe.navigator&&qe.navigator.sendBeacon)try{n=qe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&qe.Image&&((new Image).src=e.v,n=!0),n||(e.g=ak(e.l,null),e.g.ha(e.v)),e.G=Date.now(),rh(e)}sk(t)}function B1(t){t.g&&(HE(t),t.g.cancel(),t.g=null)}function J9(t){B1(t),t.u&&(qe.clearTimeout(t.u),t.u=null),z1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&qe.clearTimeout(t.m),t.m=null)}function H1(t){if(!B9(t.i)&&!t.m){t.m=!0;var e=t.Na;Qf||p9(),Xf||(Qf(),Xf=!0),bE.add(e,t),t.C=0}}function Z9(t,e){var n;n=e?e.m:t.W++;const r=oo(t.I);Ht(r,"SID",t.K),Ht(r,"RID",n),Ht(r,"AID",t.V),fh(t,r),t.o&&t.s&&VE(r,t.o,t.s),n=new nh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ek(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),OE(t.i,n),RE(n,r,e)}function fh(t,e){t.na&&pE(t.na,function(n,r){Ht(e,r,n)}),t.h&&P9({},function(n,r){Ht(e,r,n)})}function ek(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Tae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qf||p9(),Xf||(Qf(),Xf=!0),bE.add(e,t),t.A=0}}function BE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=eh(dr(t.Ma,t),ik(t,t.A)),t.A++,0))}function HE(t){null!=t.B&&(qe.clearTimeout(t.B),t.B=null)}function nk(t){t.g=new nh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=oo(t.wa);Ht(e,"RID","rpc"),Ht(e,"SID",t.K),Ht(e,"AID",t.V),Ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ht(e,"TO",t.qa),Ht(e,"TYPE","xmlhttp"),fh(t,e),t.o&&t.s&&VE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=O1(oo(e)),n.s=null,n.S=!0,D9(n,t)}function z1(t){null!=t.v&&(qe.clearTimeout(t.v),t.v=null)}function rk(t,e){var n=null;if(t.g==e){z1(t),HE(t),t.g=null;var r=2}else{if(!NE(t.i,e))return;n=e.F,z9(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Jn(r=T1(),new C9(r,n)),H1(t)}else tk(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Oae(t,e){return!(H9(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=eh(dr(t.Na,t,e),ik(t,t.C)),t.C++,0)))}(t,e)||2==r&&BE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tc(t,5);break;case 4:tc(t,10);break;case 3:tc(t,6);break;default:tc(t,2)}}function ik(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function tc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new ec("//www.google.com/images/cleardot.gif"),qe.location&&"http"==qe.location.protocol||k1(n,"https"),O1(n)),function Sae(t,e){const n=new D1;if(qe.Image){const r=new Image;r.onload=x1(F1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=x1(F1,n,r,"TestLoadImage: error",!1,e),r.onabort=x1(F1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=x1(F1,n,r,"TestLoadImage: timeout",!1,e),qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sr(2);t.H=0,t.h&&t.h.za(e),sk(t),J9(t)}function sk(t){if(t.H=0,t.ma=[],t.h){const e=U9(t.i);(0!=e.length||0!=t.j.length)&&(e9(t.ma,e),e9(t.ma,t.j),t.i.i.length=0,oE(t.j),t.j.length=0),t.h.ya()}}function ok(t,e,n){var r=n instanceof ec?oo(n):new ec(n);if(""!=r.g)e&&(r.g=e+"."+r.g),N1(r,r.m);else{var i=qe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ec(null);r&&k1(s,r),e&&(s.g=e),i&&N1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ht(r,n,e),Ht(r,"VER",t.ra),fh(t,r),r}function ak(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ln(n&&t.Ha&&!t.va?new ch({ob:!0}):t.va)).Oa(t.J),e}function ck(){}function U1(){if($l&&!(10<=Number(Koe)))throw Error("Environmental error: no available transport.")}function ti(t,e){Vn.call(this),this.g=new X9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Wl(this)}function lk(t){TE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function uk(){SE.call(this),this.status=1}function Wl(t){this.g=t}function zi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function It(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ce=ln.prototype).Oa=function(t){this.M=t},Ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ME.g(),this.C=function b9(t){return t.h||(t.h=t.i())}(this.u?this.u:ME),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void G9(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=qe.FormData&&t instanceof qe.FormData,!(0<=ZR(Rae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{K9(this),0<this.B&&((this.L=function kae(t){return $l&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=AE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){G9(this,s)}},Ce.ua=function(){typeof iE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jn(this,"timeout"),this.abort(8))},Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jn(this,"complete"),Jn(this,"abort"),L1(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),L1(this,!0)),ln.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?W9(this):this.kb())},Ce.kb=function(){W9(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Mae(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=X9.prototype).ra=8,Ce.H=1,Ce.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new nh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=s9(s),a9(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ek(this,i,e),Ht(n=oo(this.I),"RID",t),Ht(n,"CVER",22),this.F&&Ht(n,"X-HTTP-Session-Id",this.F),fh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Q9(s)))+"&"+e:this.o&&VE(n,this.o,s)),OE(this.i,i),this.bb&&Ht(n,"TYPE","init"),this.P?(Ht(n,"$req",e),Ht(n,"SID","null"),i.aa=!0,RE(i,n,null)):RE(i,n,e),this.H=2}}else 3==this.H&&(t?Z9(this,t):0==this.j.length||B9(this.i)||Z9(this))},Ce.Ma=function(){if(this.u=null,nk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=eh(dr(this.jb,this),t)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sr(10),B1(this),nk(this))},Ce.ib=function(){null!=this.v&&(this.v=null,B1(this),BE(this),Sr(19))},Ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sr(2)):(this.l.info("Failed to ping google.com"),Sr(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=ck.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},U1.prototype.g=function(t,e){return new ti(t,e)},Fn(ti,Vn),ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ok(t,null,t.Y),H1(t)},ti.prototype.close=function(){LE(this.g)},ti.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=IE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&H1(e)},ti.prototype.N=function(){this.g.h=null,delete this.j,LE(this.g),delete this.g,ti.$.N.call(this)},Fn(lk,TE),Fn(uk,SE),Fn(Wl,ck),Wl.prototype.Ba=function(){Jn(this.g,"a")},Wl.prototype.Aa=function(t){Jn(this.g,new lk(t))},Wl.prototype.za=function(t){Jn(this.g,new uk)},Wl.prototype.ya=function(){Jn(this.g,"b")},Fn(zi,function Fae(){this.blockSize=-1}),zi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)zE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){zE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){zE(this,r),i=0;break}}this.h=i,this.i+=e},zi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Vae={};function UE(t){return-128<=t&&128>t?function Goe(t,e){var n=Vae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new It([0|e],0>e?-1:0)}):new It([0|t],0>t?-1:0)}function _s(t){if(isNaN(t)||!isFinite(t))return Kl;if(0>t)return Zn(_s(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jE;return new It(e,0)}var jE=4294967296,Kl=UE(0),$E=UE(1),fk=UE(16777216);function ao(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ii(t){return-1==t.h}function Zn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new It(n,~t.h).add($E)}function j1(t,e){return t.add(Zn(e))}function $1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hh(t,e){this.g=t,this.h=e}function G1(t,e){if(ao(e))throw Error("division by zero");if(ao(t))return new hh(Kl,Kl);if(Ii(t))return e=G1(Zn(t),e),new hh(Zn(e.g),Zn(e.h));if(Ii(e))return e=G1(t,Zn(e)),new hh(Zn(e.g),e.h);if(30<t.g.length){if(Ii(t)||Ii(e))throw Error("slowDivide_ only works with positive integers.");for(var n=$E,r=e;0>=r.X(t);)n=hk(n),r=hk(r);var i=Yl(n,1),s=Yl(r,1);for(r=Yl(r,2),n=Yl(n,2);!ao(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Yl(r,1),n=Yl(n,1)}return e=j1(t,i.R(e)),new hh(i,e)}for(i=Kl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=_s(n)).R(e);Ii(o)||0<o.X(t);)o=(s=_s(n-=r)).R(e);ao(s)&&(s=$E),i=i.add(s),t=j1(t,o)}return new hh(i,t)}function hk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new It(n,t.h)}function Yl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new It(i,t.h)}(Ce=It.prototype).ea=function(){if(Ii(this))return-Zn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jE+r)*e,e*=jE}return t},Ce.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ao(this))return"0";if(Ii(this))return"-"+Zn(this).toString(t);for(var e=_s(Math.pow(t,6)),n=this,r="";;){var i=G1(n,e).g,s=((0<(n=j1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ao(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ce.X=function(t){return Ii(t=j1(this,t))?-1:ao(t)?0:1},Ce.abs=function(){return Ii(this)?Zn(this):this},Ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new It(n,-2147483648&n[n.length-1]?-1:0)},Ce.R=function(t){if(ao(this)||ao(t))return Kl;if(Ii(this))return Ii(t)?Zn(this).R(Zn(t)):Zn(Zn(this).R(t));if(Ii(t))return Zn(this.R(Zn(t)));if(0>this.X(fk)&&0>t.X(fk))return _s(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,$1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,$1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,$1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,$1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new It(n,0)},Ce.gb=function(t){return G1(this,t).h},Ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new It(n,this.h&t.h)},Ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new It(n,this.h|t.h)},Ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new It(n,this.h^t.h)},U1.prototype.createWebChannel=U1.prototype.g,ti.prototype.send=ti.prototype.u,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,S1.NO_ERROR=0,S1.TIMEOUT=8,S1.HTTP_ERROR=6,I9.COMPLETE="complete",w9.EventType=th,th.OPEN="a",th.CLOSE="b",th.ERROR="c",th.MESSAGE="d",Vn.prototype.listen=Vn.prototype.O,ln.prototype.listenOnce=ln.prototype.P,ln.prototype.getLastError=ln.prototype.Sa,ln.prototype.getLastErrorCode=ln.prototype.Ia,ln.prototype.getStatus=ln.prototype.da,ln.prototype.getResponseJson=ln.prototype.Wa,ln.prototype.getResponseText=ln.prototype.ja,ln.prototype.send=ln.prototype.ha,ln.prototype.setWithCredentials=ln.prototype.Oa,zi.prototype.digest=zi.prototype.l,zi.prototype.reset=zi.prototype.reset,zi.prototype.update=zi.prototype.j,It.prototype.add=It.prototype.add,It.prototype.multiply=It.prototype.R,It.prototype.modulo=It.prototype.gb,It.prototype.compare=It.prototype.X,It.prototype.toNumber=It.prototype.ea,It.prototype.toString=It.prototype.toString,It.prototype.getBits=It.prototype.D,It.fromNumber=_s,It.fromString=function dk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Zn(dk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_s(Math.pow(e,8)),r=Kl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=_s(Math.pow(e,s)),r=r.R(s).add(_s(o))):r=(r=r.R(n)).add(_s(o))}return r};var Lae=Hi.createWebChannelTransport=function(){return new U1},Bae=Hi.getStatEventTarget=function(){return T1()},GE=Hi.ErrorCode=S1,Hae=Hi.EventType=I9,zae=Hi.Event=Ja,pk=Hi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uae=Hi.FetchXmlHttpFactory=ch,q1=Hi.WebChannel=w9,jae=Hi.XhrIo=ln,$ae=Hi.Md5=zi,Ql=Hi.Integer=It;const gk="@firebase/firestore";class Ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let Xl="10.5.2";const Xo=new Tf("@firebase/firestore");function Jl(){return Xo.logLevel}function re(t,...e){if(Xo.logLevel<=ct.DEBUG){const n=e.map(qE);Xo.debug(`Firestore (${Xl}): ${t}`,...n)}}function mn(t,...e){if(Xo.logLevel<=ct.ERROR){const n=e.map(qE);Xo.error(`Firestore (${Xl}): ${t}`,...n)}}function ni(t,...e){if(Xo.logLevel<=ct.WARN){const n=e.map(qE);Xo.warn(`Firestore (${Xl}): ${t}`,...n)}}function qE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function De(t="Unexpected state"){const e=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: `+t;throw mn(e),new Error(e)}function Pe(t,e){t||De()}function _e(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class mk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class qae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wae{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe("string"==typeof r.accessToken),new mk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(null===e||"string"==typeof e),new Ln(e)}}class Kae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Yae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Kae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _k{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe("string"==typeof n.token),this.R=n.token,new _k(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class vk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Xae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Zl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new nn(0,0))}static max(){return new ke(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ph{constructor(e,n,r){void 0===n?n=0:n>e.length&&De(),void 0===r?r=e.length-n:r>e.length-n&&De(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ph.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ph?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends ph{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const Jae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends ph{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return Jae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ie(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ie(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ie(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}function xk(t){return new ri(t.readTime,t.key,-1)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(ke.min(),ve.empty(),-1)}static max(){return new ri(ke.max(),ve.empty(),-1)}}function KE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ve.comparator(t.documentKey,e.documentKey),0!==n?n:je(t.largestBatchId,e.largestBatchId))}const Ck="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jo(t){return YE.apply(this,arguments)}function YE(){return YE=v(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Ck)throw t;re("LocalStore","Unexpectedly lost primary lease")}),YE.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Zo(t){return"IndexedDbTransactionError"===t.name}let ii=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function mh(t){return null==t}function _h(t){return 0===t&&1/t==-1/0}function Pk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ft{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Y1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Y1(this.root,e,this.comparator,!1)}getReverseIterator(){return new Y1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Y1(this.root,e,this.comparator,!0)}}class Y1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??er.RED,this.left=i??er.EMPTY,this.right=s??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1,er.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,n,r,i,s){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kk(this.data.getIterator())}getIteratorFrom(e){return new kk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class kk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $r{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new $r([])}unionWith(e){let n=new Dt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Nk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Nk("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const bce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(Pe(!!t),"string"==typeof t){let e=0;const n=bce.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function co(t){return"string"==typeof t?Rn.fromBase64String(t):Rn.fromUint8Array(t)}function Q1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function X1(t){const e=t.mapValue.fields.__previous_value__;return Q1(e)?X1(e):e}function vh(t){const e=ta(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}class wce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class sc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}const na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q1(t)?4:Lk(t)?9007199254740991:10:De()}function ys(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vh(t).isEqual(vh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ta(i.timestampValue),a=ta(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,co(t.bytesValue).isEqual(co(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return un(i.geoPointValue.latitude)===un(s.geoPointValue.latitude)&&un(i.geoPointValue.longitude)===un(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return un(i.integerValue)===un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=un(i.doubleValue),a=un(s.doubleValue);return o===a?_h(o)===_h(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zl(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Pk(o)!==Pk(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!ys(o[c],a[c])))return!1;return!0}(t,e);default:return De()}var s}function yh(t,e){return void 0!==(t.values||[]).find(n=>ys(n,e))}function ia(t,e){if(t===e)return 0;const n=ra(t),r=ra(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=un(s.integerValue||s.doubleValue),c=un(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ok(t.timestampValue,e.timestampValue);case 4:return Ok(vh(t),vh(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=co(s),c=co(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=je(a[l],c[l]);if(0!==u)return u}return je(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(un(s.latitude),un(o.latitude));return 0!==a?a:je(un(s.longitude),un(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=ia(a[l],c[l]);if(u)return u}return je(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===na.mapValue&&o===na.mapValue)return 0;if(s===na.mapValue)return 1;if(o===na.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=je(c[d],u[d]);if(0!==f)return f;const h=ia(a[c[d]],l[u[d]]);if(0!==h)return h}return je(c.length,u.length)}(t.mapValue,e.mapValue);default:throw De()}}function Ok(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return je(t,e);const n=ta(t),r=ta(e),i=je(n.seconds,r.seconds);return 0!==i?i:je(n.nanos,r.nanos)}function ru(t){return JE(t)}function JE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ta(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?co(t.bytesValue).toBase64():"referenceValue"in t?ve.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=JE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${JE(n.fields[o])}`;return i+"}"}(t.mapValue):De()}function oc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ZE(t){return!!t&&"integerValue"in t}function Eh(t){return!!t&&"arrayValue"in t}function Fk(t){return!!t&&"nullValue"in t}function Vk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function em(t){return!!t&&"mapValue"in t}function xh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Lk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!em(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());em(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];em(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ea(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(xh(this.value))}}function zk(t){const e=[];return ea(t.fields,(n,r)=>{const i=new Kt([n]);if(em(r)){const s=zk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $r(e)}class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,ke.min(),ke.min(),ke.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,ke.min(),ke.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ke.min(),ke.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sa{constructor(e,n){this.position=e,this.inclusive=n}}function Uk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ve.comparator(ve.fromName(o.referenceValue),n.key):ia(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function jk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $k{}class it extends $k{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Sce(e,n,r):"array-contains"===n?new Rce(e,r):"in"===n?new Qk(e,r):"not-in"===n?new kce(e,r):"array-contains-any"===n?new Nce(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Mce(e,r):new Pce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ia(n,this.value)):null!==n&&ra(this.value)===ra(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends $k{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new bt(e,n)}matches(e){return iu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function iu(t){return"and"===t.op}function t8(t){return function Gk(t){for(const e of t.filters)if(e instanceof bt)return!1;return!0}(t)&&iu(t)}function n8(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+ru(t.value);if(t8(t))return t.filters.map(e=>n8(e)).join(",");{const e=t.filters.map(n=>n8(n)).join(",");return`${t.op}(${e})`}}function qk(t,e){return t instanceof it?(r=t,(i=e)instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&ys(r.value,i.value)):t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&qk(o,i.filters[a]),!0)}(t,e):void De();var r,i}function Kk(t){return t instanceof it?`${(n=t).field.canonicalString()} ${n.op} ${ru(n.value)}`:t instanceof bt?function(n){return n.op.toString()+" {"+n.getFilters().map(Kk).join(" ,")+"}"}(t):"Filter";var n}class Sce extends it{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mce extends it{constructor(e,n){super(e,"in",n),this.keys=Yk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pce extends it{constructor(e,n){super(e,"not-in",n),this.keys=Yk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Yk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class Rce extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eh(n)&&yh(n.arrayValue,this.value)}}class Qk extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&yh(this.value.arrayValue,n)}}class kce extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!yh(this.value.arrayValue,n)}}class Nce extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yh(this.value.arrayValue,r))}}class Oce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function r8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Oce(t,e,n,r,i,s,o)}function ac(t){const e=_e(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>n8(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),e.ce=n}return e.ce}function Ih(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jk(t.startAt,e.startAt)&&jk(t.endAt,e.endAt)}function tm(t){return ve.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class lo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function su(t){return new lo(t)}function eN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function i8(t){return null!==t.collectionGroup}function ou(t){const e=_e(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(Kt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ch(s,r))}),n.has(Kt.keyField().canonicalString())||e.le.push(new Ch(Kt.keyField(),r))}return e.le}function Mr(t){const e=_e(t);return e.he||(e.he=function tN(t,e){if("F"===t.limitType)return r8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ch(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new sa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sa(t.startAt.position,t.startAt.inclusive):null;return r8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ou(t))),e.he}function s8(t,e){const n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rm(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bh(t,e){return Ih(Mr(t),Mr(e))&&t.limitType===e.limitType}function nN(t){return`${ac(Mr(t))}|lt:${t.limitType}`}function au(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Kk(i)).join(", ")}]`),mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ru(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ru(i)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ou(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Uk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,ou(r),i)||r.endAt&&!function(o,a,c){const l=Uk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,ou(r),i)));var r,i}function iN(t){return(e,n)=>{let r=!1;for(const i of ou(t)){const s=Fce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fce(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?ia(c,l):De()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Rk(this.inner)}size(){return this.innerSize}}const Vce=new Ft(ve.comparator);function Gr(){return Vce}const sN=new Ft(ve.comparator);function Ah(...t){let e=sN;for(const n of t)e=e.insert(n.key,n);return e}function oN(t){let e=sN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return Dh()}function aN(){return Dh()}function Dh(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lce=new Ft(ve.comparator),Bce=new Dt(ve.comparator);function Xe(...t){let e=Bce;for(const n of t)e=e.add(n);return e}const Hce=new Dt(je);function cN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function lN(t){return{integerValue:""+t}}function uN(t,e){return function bk(t){return"number"==typeof t&&Number.isInteger(t)&&!_h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?lN(e):cN(t,e)}class im{constructor(){this._=void 0}}function zce(t,e,n){return t instanceof cu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Q1(s)&&(s=X1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cc?fN(t,e):t instanceof lc?hN(t,e):function(i,s){const o=dN(i,s),a=pN(o)+pN(i.Ie);return ZE(o)&&ZE(i.Ie)?lN(a):cN(i.serializer,a)}(t,e)}function Uce(t,e,n){return t instanceof cc?fN(t,e):t instanceof lc?hN(t,e):n}function dN(t,e){return t instanceof lu?ZE(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class cu extends im{}class cc extends im{constructor(e){super(),this.elements=e}}function fN(t,e){const n=gN(e);for(const r of t.elements)n.some(i=>ys(i,r))||n.push(r);return{arrayValue:{values:n}}}class lc extends im{constructor(e){super(),this.elements=e}}function hN(t,e){let n=gN(e);for(const r of t.elements)n=n.filter(i=>!ys(i,r));return{arrayValue:{values:n}}}class lu extends im{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function pN(t){return un(t.integerValue||t.doubleValue)}function gN(t){return Eh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class $ce{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class om{}function mN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new du(t.key,Yt.none()):new uu(t.key,t.data,Yt.none());{const n=t.data,r=tr.empty();let i=new Dt(Kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new fo(t.key,r,new $r(i.toArray()),Yt.none())}}function Gce(t,e,n){t instanceof uu?function(i,s,o){const a=i.value.clone(),c=yN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(i,s,o){if(!sm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=yN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(vN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Sh(t,e,n,r){return t instanceof uu?function(s,o,a,c){if(!sm(s.precondition,o))return a;const l=s.value.clone(),u=EN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fo?function(s,o,a,c){if(!sm(s.precondition,o))return a;const l=EN(s.fieldTransforms,c,o),u=o.data;return u.setAll(vN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,sm(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function qce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dN(r.transform,i||null);null!=s&&(null===n&&(n=tr.empty()),n.set(r.field,s))}return n||null}function _N(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Zl(r,i,(s,o)=>function jce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof cc&&i instanceof cc||r instanceof lc&&i instanceof lc?Zl(r.elements,i.elements,ys):r instanceof lu&&i instanceof lu?ys(r.Ie,i.Ie):r instanceof cu&&i instanceof cu);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class uu extends om{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends om{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yN(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Uce(o,a,n[i]))}return r}function EN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,zce(s,o,e))}return r}class du extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a8 extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class c8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=mN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(n,r)=>_N(n,r))&&Zl(this.baseMutations,e.baseMutations,(n,r)=>_N(n,r))}}class l8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=Lce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new l8(e,n,r,i)}}class u8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kce{constructor(e,n){this.count=e,this.unchangedNames=n}}var bn,ft;function CN(t){if(void 0===t)return mn("GRPC error has no .code"),B.UNKNOWN;switch(t){case bn.OK:return B.OK;case bn.CANCELLED:return B.CANCELLED;case bn.UNKNOWN:return B.UNKNOWN;case bn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case bn.INTERNAL:return B.INTERNAL;case bn.UNAVAILABLE:return B.UNAVAILABLE;case bn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case bn.NOT_FOUND:return B.NOT_FOUND;case bn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case bn.ABORTED:return B.ABORTED;case bn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case bn.DATA_LOSS:return B.DATA_LOSS;default:return De()}}(ft=bn||(bn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";const Yce=new Ql([4294967295,4294967295],0);function bN(t){const e=function IN(){return new TextEncoder}().encode(t),n=new $ae;return n.update(e),new Uint8Array(n.digest())}function wN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ql([n,r],0),new Ql([i,s],0)]}class d8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mh(`Invalid padding: ${n}`);if(r<0)throw new Mh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Mh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Mh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ql.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ql.fromNumber(r)));return 1===i.compare(Yce)&&(i=new Ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=bN(e),[r,i]=wN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new d8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=bN(e),[r,i]=wN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(ke.min(),i,new Ft(je),Gr(),Xe())}}class Rh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rh(r,n,Xe(),Xe(),Xe())}}class cm{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class AN{constructor(e,n){this.targetId=e,this.fe=n}}class DN{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TN{constructor(){this.ge=0,this.pe=MN(),this.ye=Rn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Xe(),n=Xe(),r=Xe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De()}}),new Rh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=MN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Qce{constructor(e){this.Le=e,this.ke=new Map,this.qe=Gr(),this.Qe=SN(),this.Ke=new Ft(je)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(tm(s))if(0===r){const o=new ve(s.path);this.We(n,o,zt.newNoDocument(o,ke.min()))}else Pe(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=co(r).toUint8Array()}catch(c){if(c instanceof Nk)return ni("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new d8(o,i,s)}catch(c){return ni(c instanceof Mh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&tm(a.target)){const c=new ve(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,zt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Xe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ph(e,n,this.Ke,this.qe,r);return this.qe=Gr(),this.Qe=SN(),this.Ke=new Ft(je),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new TN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Dt(je),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||re("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new TN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function SN(){return new Ft(ve.comparator)}function MN(){return new Ft(ve.comparator)}const Xce={asc:"ASCENDING",desc:"DESCENDING"},Jce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zce={and:"AND",or:"OR"};class ele{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function f8(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tle(t,e){return fu(t,e.toTimestamp())}function _n(t){return Pe(!!t),ke.fromTimestamp(function(n){const r=ta(n);return new nn(r.seconds,r.nanos)}(t))}function h8(t,e){return(r=t,new dt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function RN(t){const e=dt.fromString(t);return Pe(zN(e)),e}function kh(t,e){return h8(t.databaseId,e.path)}function xs(t,e){const n=RN(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(NN(n))}function p8(t,e){return h8(t.databaseId,e)}function Nh(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NN(t){return Pe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ON(t,e,n){return{name:kh(t,e),fields:n.value.mapValue.fields}}function VN(t,e){return{documents:[p8(t,e.path)]}}function m8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=p8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=p8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return HN(bt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:oa((d=l).field),direction:ole(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=f8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function LN(t){let e=function kN(t){const e=RN(t);return 4===e.length?dt.emptyPath():NN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=BN(d);return f instanceof bt&&t8(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new Ch(hu((p=f).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,mh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new sa((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new sa(d.values||[],!d.before)}(n.endAt)),function Zk(t,e,n,r,i,s,o,a){return new lo(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function BN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hu(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hu(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):void 0!==t.fieldFilter?it.create(hu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return bt.create(n.compositeFilter.filters.map(r=>BN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(n.compositeFilter.op))}(t):De();var n}function ole(t){return Xce[t]}function ale(t){return Jce[t]}function cle(t){return Zce[t]}function oa(t){return{fieldPath:t.canonicalString()}}function hu(t){return Kt.fromServerFormat(t.fieldPath)}function HN(t){return t instanceof it?function(n){if("=="===n.op){if(Vk(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NAN"}};if(Fk(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Vk(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NAN"}};if(Fk(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(n.field),op:ale(n.op),value:n.value}}}(t):t instanceof bt?function(n){const r=n.getFilters().map(i=>HN(i));return 1===r.length?r[0]:{compositeFilter:{op:cle(n.op),filters:r}}}(t):De()}function lle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ho{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=Rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UN{constructor(e){this.ut=e}}function _8(t){const e=LN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?rm(e,e.limit,"L"):e}class hc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(un(e.integerValue));else if("doubleValue"in e){const r=un(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),_h(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(co(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Lk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):De()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ve.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}hc.St=new hc;class _le{constructor(){this.on=new I8}addToCollectionParentIndex(e,n){return this.on.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(ri.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class I8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(dt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(dt.comparator)).toArray()}}new Uint8Array(0);class pr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class gc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new gc(0)}static Nn(){return new gc(-1)}}class Ile{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ale{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Sh(r.mutation,i,$r.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ah();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gr();const o=Dh(),a=Dh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof fo)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),Sh(u.mutation,l,u.mutation.getFieldMask(),nn.now())):o.set(l.key,$r.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Ale(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dh();let i=new Ft((o,a)=>o-a),s=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||$r.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Xe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=aN();u.forEach(f=>{if(!s.has(f)){const h=mN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ve.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):i8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(Es());let a=-1,c=s;return o.next(l=>R.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Xe())).next(u=>({batchId:a,changes:oN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Ah();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ah();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,c=>{const l=(d=n,f=c.child(s),new lo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,zt.newInvalidDocument(u)))});let a=Ah();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&Sh(u.mutation,l,$r.empty(),nn.now()),wh(n,l)&&(a=a.insert(c,l))}),a})}}class Dle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:_n(i.createTime)}),R.resolve();var i}getNamedQuery(e,n){return R.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:_8(i.bundledQuery),readTime:_n(i.readTime)}),R.resolve();var i}}class Tle{constructor(){this.overlays=new Ft(ve.comparator),this.lr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),s=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ft((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Es(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Es(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return R.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u8(n,r));let s=this.lr.get(n);void 0===s&&(s=Xe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class b8{constructor(){this.hr=new Dt(Hn.Pr),this.Ir=new Dt(Hn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Hn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ve(new dt([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ve(new dt([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=Xe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ve.comparator(e.key,n.key)||je(e.gr,n.gr)}static Tr(e,n){return je(e.gr,n.gr)||ve.comparator(e.key,n.key)}}class Sle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Dt(Hn.Pr)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new c8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Hn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(je);return n.forEach(i=>{const s=new Hn(i,0),o=new Hn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new Hn(new ve(s),0);let a=new Dt(je);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),R.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Pe(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Hn(n,0),i=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return R.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Mle{constructor(e){this.Cr=e,this.docs=new Ft(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gr();const o=n.path,a=new ve(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||KE(xk(u),r)<=0||(i.has(u.key)||wh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){De()}vr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ple(this)}getSize(e){return R.resolve(this.size)}}class Ple extends Ile{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Rle{constructor(e){this.persistence=e,this.Fr=new uo(n=>ac(n),Ih),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new b8,this.targetCount=0,this.Nr=gc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.kn(n),R.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Or.containsKey(n))}}class w8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ii(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Rle(this),this.indexManager=new _le,this.remoteDocumentCache=new Mle(r=>this.referenceDelegate.Qr(r)),this.serializer=new UN(n),this.Kr=new Dle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Sle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new kle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class kle extends tce{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.Gr=new b8,this.zr=null}static jr(e){return new mm(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const i=ve.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class S8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Xe(),i=Xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new S8(e,n.fromCache,r,i)}}class Ole{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _O{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ole;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Jl()<=ct.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(Jl()<=ct.DEBUG&&re("QueryEngine","Query:",au(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Jl()<=ct.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):R.resolve())}zi(e,n){if(eN(n))return R.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=rm(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Xe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,rm(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return eN(n)||i.isEqual(ke.min())?R.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?R.resolve(null):(Jl()<=ct.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),au(n)),this.Xi(e,o,n,function Ek(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new nn(n+1,0):new nn(n,r));return new ri(i,ve.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Dt(iN(e));return n.forEach((i,s)=>{wh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Jl()<=ct.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",au(n)),this.Gi.getDocumentsMatchingQuery(e,n,ri.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Fle{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ft(je),this.ns=new uo(s=>ac(s),Ih),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function yO(t,e){return M8.apply(this,arguments)}function M8(){return M8=v(function*(t,e){const n=_e(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Xe();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),M8.apply(this,arguments)}function EO(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Ble(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yu(t,e,n){return P8.apply(this,arguments)}function P8(){return P8=v(function*(t,e,n){const r=_e(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Zo(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),P8.apply(this,arguments)}function ym(t,e,n){const r=_e(t);let i=ke.min(),s=Xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=_e(c),f=d.ns.get(u);return void 0!==f?R.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Xe())).next(a=>(function bO(t,e,n){let r=t.rs.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function rN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class F8{constructor(){this.activeTargetIds=function o8(){return Hce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DO{constructor(){this.eo=new F8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new F8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ule{ro(e){}shutdown(){}}class TO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cm=null;function L8(){return null===Cm?Cm=268435456+Math.round(2147483648*Math.random()):Cm++,"0x"+Cm.toString(16)}const jle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $le{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const gr="WebChannelConnection";class Gle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=L8(),c=this.So(n,r);re("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(re("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ni("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Xl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${jle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=L8();return new Promise((o,a)=>{const c=new jae;c.setWithCredentials(!0),c.listenOnce(Hae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case GE.NO_ERROR:const u=c.getResponseJson();re(gr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case GE.TIMEOUT:re(gr,`RPC '${e}' ${s} timed out`),a(new ie(B.DEADLINE_EXCEEDED,"Request time out"));break;case GE.HTTP_ERROR:const d=c.getStatus();if(re(gr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(S)>=0?S:B.UNKNOWN}(h.status);a(new ie(p,h.message))}else a(new ie(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ie(B.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{re(gr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);re(gr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=L8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lae(),a=Bae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Uae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");re(gr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new $le({co:E=>{h?re(gr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(re(gr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),re(gr,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},lo:()=>d.close()}),g=(E,S,I)=>{E.listen(S,H=>{try{I(H)}catch(q){setTimeout(()=>{throw q},0)}})};return g(d,q1.EventType.OPEN,()=>{h||re(gr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,q1.EventType.CLOSE,()=>{h||(h=!0,re(gr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,q1.EventType.ERROR,E=>{h||(h=!0,ni(gr,`RPC '${e}' stream ${i} transport errored:`,E),p.Ro(new ie(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,q1.EventType.MESSAGE,E=>{var S;if(!h){const I=E.data[0];Pe(!!I);const q=I.error||(null===(S=I[0])||void 0===S?void 0:S.error);if(q){re(gr,`RPC '${e}' stream ${i} received error:`,q);const pe=q.status;let Se=function(rn){const wi=bn[rn];if(void 0!==wi)return CN(wi)}(pe),Ve=q.message;void 0===Se&&(Se=B.INTERNAL,Ve="Unknown error status: "+pe+" with message "+q.message),h=!0,p.Ro(new ie(Se,Ve)),d.close()}else re(gr,`RPC '${e}' stream ${i} received:`,I),p.Vo(I)}}),g(a,zae.STAT_EVENT,E=>{E.stat===pk.PROXY?re(gr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===pk.NOPROXY&&re(gr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Im(){return typeof document<"u"?document:null}function jh(t){return new ele(t,!0)}class B8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class MO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new B8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return v(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return v(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return v(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(mn(n.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new ie(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(v(function*(){e.state=0,e.start()}))}o_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qle extends MO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function rle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:De(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Pe(void 0===u||"string"==typeof u),Rn.fromBase64String(u||"")):(Pe(void 0===u||u instanceof Uint8Array),Rn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?B.UNKNOWN:CN(l.code);return new ie(u,l.message||"")}(o);n=new DN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=xs(t,r.document.name),s=_n(r.document.updateTime),o=r.document.createTime?_n(r.document.createTime):ke.min(),a=new tr({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,a);n=new cm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=xs(t,r.document),s=r.readTime?_n(r.readTime):ke.min(),o=zt.newNoDocument(i,s);n=new cm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=xs(t,r.document);n=new cm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return De();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Kce(i,s);n=new AN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?_n(o.readTime):ke.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Nh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=tm(c)?{documents:VN(s,c)}:{query:m8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=PN(s,o.resumeToken);const l=f8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=fu(s,o.snapshotVersion.toTimestamp());const l=f8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function sle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Nh(this.serializer),n.removeTarget=e,this.e_(n)}}class Wle extends MO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function ile(t,e){return t&&t.length>0?(Pe(void 0!==e),t.map(n=>function(i,s){let o=_n(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=_n(s)),new $ce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.I_(r,n)}return Pe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Nh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Oh(t,e){let n;if(e instanceof uu)n={update:ON(t,e.key,e.value)};else if(e instanceof du)n={delete:kh(t,e.key)};else if(e instanceof fo)n={update:ON(t,e.key,e.data),updateMask:lle(e.fieldMask)};else{if(!(e instanceof a8))return De();n={verify:kh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw De()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:tle(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:De()),n;var s}(this.serializer,r))};this.e_(n)}}class Kle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(B.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Qle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(mn(n),this.f_=!1):re("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Xle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(v(function*(){var c;ua(o)&&(re("RemoteStore","Restarting streams for network reachability change."),yield(c=v(function*(u){const d=_e(u);d.C_.add(4),yield Eu(d),d.M_.set("Unknown"),d.C_.delete(4),yield $h(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new Qle(r,i)}}function $h(t){return z8.apply(this,arguments)}function z8(){return z8=v(function*(t){if(ua(t))for(const e of t.v_)yield e(!0)}),z8.apply(this,arguments)}function Eu(t){return U8.apply(this,arguments)}function U8(){return U8=v(function*(t){for(const e of t.v_)yield e(!1)}),U8.apply(this,arguments)}function bm(t,e){const n=_e(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),G8(n)?$8(n):Cu(n).Ho()&&j8(n,e))}function Gh(t,e){const n=_e(t),r=Cu(n);n.D_.delete(e),r.Ho()&&PO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():ua(n)&&n.M_.set("Unknown"))}function j8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cu(t).u_(e)}function PO(t,e){t.x_.Oe(e),Cu(t).c_(e)}function $8(t){t.x_=new Qce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.M_.g_()}function G8(t){return ua(t)&&!Cu(t).jo()&&t.D_.size>0}function ua(t){return 0===_e(t).C_.size}function RO(t){t.x_=void 0}function Jle(t){return q8.apply(this,arguments)}function q8(){return q8=v(function*(t){t.D_.forEach((e,n)=>{j8(t,e)})}),q8.apply(this,arguments)}function Zle(t,e){return W8.apply(this,arguments)}function W8(){return W8=v(function*(t,e){RO(t),G8(t)?(t.M_.w_(e),$8(t)):t.M_.set("Unknown")}),W8.apply(this,arguments)}function eue(t,e,n){return K8.apply(this,arguments)}function K8(){return K8=v(function*(t,e,n){if(t.M_.set("Online"),e instanceof DN&&2===e.state&&e.cause)try{yield(r=v(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wm(t,r)}else if(e instanceof cm?t.x_.$e(e):e instanceof AN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ke.min()))try{const r=yield EO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Rn.EMPTY_BYTE_STRING,u.snapshotVersion)),PO(s,c);const d=new ho(u.target,c,l,u.sequenceNumber);j8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){re("RemoteStore","Failed to raise snapshot:",r),yield wm(t,r)}var r}),K8.apply(this,arguments)}function wm(t,e,n){return Y8.apply(this,arguments)}function Y8(){return Y8=v(function*(t,e,n){if(!Zo(e))throw e;t.C_.add(1),yield Eu(t),t.M_.set("Offline"),n||(n=()=>EO(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){re("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield $h(t)}))}),Y8.apply(this,arguments)}function kO(t,e){return e().catch(n=>wm(t,n,e))}function xu(t){return Q8.apply(this,arguments)}function Q8(){return Q8=v(function*(t){const e=_e(t),n=da(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;tue(e);)try{const i=yield Ble(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,nue(e,i)}catch(i){yield wm(e,i)}NO(e)&&OO(e)}),Q8.apply(this,arguments)}function tue(t){return ua(t)&&t.b_.length<10}function nue(t,e){t.b_.push(e);const n=da(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function NO(t){return ua(t)&&!da(t).jo()&&t.b_.length>0}function OO(t){da(t).start()}function rue(t){return X8.apply(this,arguments)}function X8(){return X8=v(function*(t){da(t).E_()}),X8.apply(this,arguments)}function iue(t){return J8.apply(this,arguments)}function J8(){return J8=v(function*(t){const e=da(t);for(const n of t.b_)e.P_(n.mutations)}),J8.apply(this,arguments)}function sue(t,e,n){return Z8.apply(this,arguments)}function Z8(){return Z8=v(function*(t,e,n){const r=t.b_.shift(),i=l8.from(r,e,n);yield kO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xu(t)}),Z8.apply(this,arguments)}function oue(t,e){return ex.apply(this,arguments)}function ex(){return ex=v(function*(t,e){var n;e&&da(t).h_&&(yield(n=v(function*(i,s){if(function xN(t){switch(t){default:return De();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=s.code)&&a!==B.ABORTED){const o=i.b_.shift();da(i).Yo(),yield kO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield xu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),NO(t)&&OO(t)}),ex.apply(this,arguments)}function FO(t,e){return tx.apply(this,arguments)}function tx(){return tx=v(function*(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=ua(n);n.C_.add(3),yield Eu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield $h(n)}),tx.apply(this,arguments)}function rx(){return rx=v(function*(t,e){const n=_e(t);e?(n.C_.delete(2),yield $h(n)):e||(n.C_.add(2),yield Eu(n),n.M_.set("Unknown"))}),rx.apply(this,arguments)}function Cu(t){return t.O_||(t.O_=function(n,r,i){const s=_e(n);return s.A_(),new qle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Jle.bind(null,t),Io:Zle.bind(null,t),a_:eue.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.O_.Yo(),G8(t)?$8(t):t.M_.set("Unknown")):(yield t.O_.stop(),RO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function da(t){return t.N_||(t.N_=function(n,r,i){const s=_e(n);return s.A_(),new Wle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:rue.bind(null,t),Io:oue.bind(null,t),T_:iue.bind(null,t),I_:sue.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.N_.Yo(),yield xu(t)):(yield t.N_.stop(),t.b_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class ix{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ix(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(t,e){if(mn("AsyncQueue",`${e}: ${t}`),Zo(t))return new ie(B.UNAVAILABLE,`${e}: ${t}`);throw t}class bu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Ah(),this.sortedSet=new Ft(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class VO{constructor(){this.B_=new Ft(ve.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wu(e,n,bu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class aue{constructor(){this.k_=void 0,this.listeners=[]}}class cue{constructor(){this.queries=new uo(e=>nN(e),bh),this.onlineState="Unknown",this.q_=new Set}}function ox(){return ox=v(function*(t,e){const n=_e(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new aue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Iu(o,`Initialization of query '${au(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&lx(n)}),ox.apply(this,arguments)}function cx(){return cx=v(function*(t,e){const n=_e(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),cx.apply(this,arguments)}function lue(t,e){const n=_e(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&lx(n)}function uue(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function lx(t){t.q_.forEach(e=>{e.next()})}class ux{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class HO{constructor(e){this.key=e}}class zO{constructor(e){this.key=e}}class UO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Xe(),this.mutatedKeys=Xe(),this._a=iN(e),this.aa=new bu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new VO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=wh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let E=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),E=!0):this.ha(f,h)||(r.track({type:2,doc:h}),E=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),E=!0):f&&!h&&(r.track({type:1,doc:f}),E=!0,(c||l)&&(a=!0)),E&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new wu(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new VO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Xe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new zO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new HO(r))}),n}da(e){this.ia=e.ls,this.oa=Xe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return wu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class hue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pue{constructor(e){this.key=e,this.Ra=!1}}class gue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new uo(a=>nN(a),bh),this.fa=new Map,this.ga=new Set,this.pa=new Ft(ve.comparator),this.ya=new Map,this.wa=new b8,this.Sa={},this.ba=new Map,this.Da=gc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function mue(t,e){return dx.apply(this,arguments)}function dx(){return dx=v(function*(t,e){const n=function Nx(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yue.bind(null,e),e.Va.a_=lue.bind(null,e.eventManager),e.Va.Fa=uue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function vu(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ho(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Mr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function fx(t,e,n,r,i){return hx.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&bm(n.remoteStore,o)}return i}),dx.apply(this,arguments)}function hx(){return hx=v(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=v(function*(E,S,I,H){let q=S.view.ca(I);q.Zi&&(q=yield ym(E.localStore,S.query,!1).then(({documents:Ve})=>S.view.ca(Ve,q)));const pe=H&&H.targetChanges.get(S.targetId),Se=S.view.applyChanges(q,E.isPrimaryClient,pe);return Ix(E,S.targetId,Se.Ta),Se.snapshot}),function g(E,S,I,H){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield ym(t.localStore,e,!0),o=new UO(e,s.ls),a=o.ca(s.documents),c=Rh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);Ix(t,n,l.Ta);const u=new hue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),hx.apply(this,arguments)}function _ue(t,e){return px.apply(this,arguments)}function px(){return px=v(function*(t,e){const n=_e(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!bh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gh(n.remoteStore,r.targetId),Au(n,r.targetId)}).catch(Jo))):(Au(n,r.targetId),yield yu(n.localStore,r.targetId,!0))}),px.apply(this,arguments)}function gx(){return gx=v(function*(t,e,n){const r=function Ox(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Eue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=_e(o),l=nn.now(),u=a.reduce((h,p)=>h.add(p.key),Xe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Gr(),g=Xe();return c.ss.getEntries(h,u).next(E=>{p=E,p.forEach((S,I)=>{I.isValidDocument()||(g=g.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(E=>{d=E;const S=[];for(const I of a){const H=qce(I,d.get(I.key).overlayedDocument);null!=H&&S.push(new fo(I.key,H,zk(H.value.mapValue),Yt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,S,a)}).next(E=>{f=E;const S=E.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,E.batchId,S)})}).then(()=>({batchId:f.batchId,changes:oN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Ft(je)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield po(r,i.changes),yield xu(r.remoteStore)}catch(i){const s=Iu(i,"Failed to persist write");n.reject(s)}}),gx.apply(this,arguments)}function jO(t,e){return mx.apply(this,arguments)}function mx(){return mx=v(function*(t,e){const n=_e(t);try{const r=yield function Lle(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,E,S;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Rn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),E=h,S=u,(0===(g=f).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=Gr(),l=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function xO(t,e,n){let r=Xe(),i=Xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gr();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(ke.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Pe(o.Ra):i.removedDocuments.size>0&&(Pe(o.Ra),o.Ra=!1))}),yield po(n,r,e)}catch(r){yield Jo(r)}}),mx.apply(this,arguments)}function $O(t,e,n){const r=_e(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=_e(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&lx(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yue(t,e,n){return _x.apply(this,arguments)}function _x(){return _x=v(function*(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Ft(ve.comparator);o=o.insert(s,zt.newNoDocument(s,ke.min()));const a=Xe().add(s),c=new Ph(ke.min(),new Map,new Ft(je),o,a);yield jO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),bx(r)}else yield yu(r.localStore,e,!1).then(()=>Au(r,e,n)).catch(Jo)}),_x.apply(this,arguments)}function Eue(t,e){return vx.apply(this,arguments)}function vx(){return vx=v(function*(t,e){const n=_e(t),r=e.batch.batchId;try{const i=yield function Vle(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=R.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const E=l.docVersions.get(p);Pe(null!==E),g.version.compareTo(E)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Xe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Cx(n,r,null),xx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield po(n,i)}catch(i){yield Jo(i)}}),vx.apply(this,arguments)}function xue(t,e,n){return yx.apply(this,arguments)}function yx(){return yx=v(function*(t,e,n){const r=_e(t);try{const i=yield function(o,a){const c=_e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Pe(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);Cx(r,e,n),xx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield po(r,i)}catch(i){yield Jo(i)}}),yx.apply(this,arguments)}function xx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Cx(t,e,n){const r=_e(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Au(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||GO(t,r)})}function GO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Gh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),bx(t))}function Ix(t,e,n){for(const r of n)r instanceof HO?(t.wa.addReference(r.key,e),Iue(t,r)):r instanceof zO?(re("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||GO(t,r.key)):De()}function Iue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(re("SyncEngine","New document in limbo: "+n),t.ga.add(r),bx(t))}function bx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ve(dt.fromString(e)),r=t.Da.next();t.ya.set(r,new pue(n)),t.pa=t.pa.insert(n,r),bm(t.remoteStore,new ho(Mr(su(n.path)),r,"TargetPurposeLimboResolution",ii._e))}}function po(t,e,n){return wx.apply(this,arguments)}function wx(){return wx=v(function*(t,e,n){const r=_e(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=S8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=v(function*(l,u){const d=_e(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(u,h=>R.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>R.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Zo(f))throw f;re("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),E=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,E)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),wx.apply(this,arguments)}function bue(t,e){return Ax.apply(this,arguments)}function Ax(){return Ax=v(function*(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=yield yO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new ie(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield po(n,r._s)}var s}),Ax.apply(this,arguments)}function wue(t,e){const n=_e(t),r=n.ya.get(e);if(r&&r.Ra)return Xe().add(r.key);{let i=Xe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Am{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=jh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function vO(t,e,n,r){return new Fle(t,e,n,r)}(this.persistence,new _O,e.initialUser,this.serializer)}createPersistence(e){return new w8(mm.jr,this.serializer)}createSharedClientState(e){return new DO}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Du{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$O(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=bue.bind(null,r.syncEngine),yield function nx(t,e){return rx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cue}createDatastore(e){const n=jh(e.databaseInfo.databaseId),r=new Gle(e.databaseInfo);return new Kle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>$O(this.syncEngine,n,0),a=TO.D()?new TO:new Ule,new Xle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new gue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=v(function*(r){const i=_e(r);re("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Eu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Dm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Lue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=vk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){re("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Iu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Tm(t,e){return Fx.apply(this,arguments)}function Fx(){return Fx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield yO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Fx.apply(this,arguments)}function Vx(t,e){return Lx.apply(this,arguments)}function Lx(){return Lx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Bx(t){return Hx.apply(this,arguments)}(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>FO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>FO(e.remoteStore,s)),t._onlineComponents=e}),Lx.apply(this,arguments)}function Hx(){return Hx=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function XO(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ni("Error using user provided cache. Falling back to memory cache: "+n),yield Tm(t,new Am)}}else re("FirestoreClient","Using default OfflineComponentProvider"),yield Tm(t,new Am);return t._offlineComponents}),Hx.apply(this,arguments)}function Sm(t){return zx.apply(this,arguments)}function zx(){return zx=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vx(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),yield Vx(t,new Du))),t._onlineComponents}),zx.apply(this,arguments)}function Su(t){return jx.apply(this,arguments)}function jx(){return jx=v(function*(t){const e=yield Sm(t),n=e.eventManager;return n.onListen=mue.bind(null,e.syncEngine),n.onUnlisten=_ue.bind(null,e.syncEngine),n}),jx.apply(this,arguments)}function rF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const iF=new Map;function $x(t,e,n){if(!n)throw new ie(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sF(t){if(!ve.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oF(t){if(ve.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":De()}function st(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mm(t);throw new ie(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class cF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Yue(t,e,n,r){if(!0===e&&!0===r)throw new ie(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Gae;switch(r.type){case"firstParty":return new Yae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iF.get(n);r&&(re("ComponentProvider","Removing Datastore"),iF.delete(n),r.terminate())}(this),Promise.resolve()}}class nr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Cs extends nr{constructor(e,n,r){super(e,n,su(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ve(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function Xue(t,e,...n){if(t=an(t),$x("collection","path",e),t instanceof qh){const r=dt.fromString(e,...n);return oF(r),new Cs(t,null,r)}{if(!(t instanceof vn||t instanceof Cs))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return oF(r),new Cs(t.firestore,null,r)}}function lF(t,e,...n){if(t=an(t),1===arguments.length&&(e=vk.newId()),$x("doc","path",e),t instanceof qh){const r=dt.fromString(e,...n);return sF(r),new vn(t,null,new ve(r))}{if(!(t instanceof vn||t instanceof Cs))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return sF(r),new vn(t.firestore,t instanceof Cs?t.converter:null,new ve(r))}}class Jue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new B8(this,"async_queue_retry"),this.iu=()=>{const n=Im();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Im();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Im();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Pn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return v(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Zo(n))throw n;re("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,mn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ix.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&De()}verifyOperationInProgress(){}uu(){var e=this;return v(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Gx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Vt extends qh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dF(this),this._firestoreClient.terminate()}}function ede(t,e){const r="string"==typeof t?t:e||"(default)",i=hs("object"==typeof t?t:Ll(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=_P("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Que(t,e,n,r={}){var i;const s=(t=st(t,qh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ln.MOCK_USER;else{a=function Wte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wg(JSON.stringify({alg:"none",type:"JWT"})),Wg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ie(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ln(l)}t._authCredentials=new qae(new mk(a,c))}}(i,...s)}return i}function yn(t){return t._firestoreClient||dF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new wce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,rF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Lue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class _c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _c(Rn.fromBase64String(e))}catch(n){throw new ie(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _c(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ie(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qx{constructor(e){this._methodName=e}}class Wx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}const nde=/^__.*__$/;class rde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class pF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Pm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return km(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(gF(this.Iu)&&nde.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ide{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jh(e)}pu(e,n,r,i=!1){return new Pm({Iu:e,methodName:n,gu:r,path:Kt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(t){const e=t._freezeSettings(),n=jh(t._databaseId);return new ide(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kx(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Qx("Data must be an object, but it was:",o,r);const a=EF(r,o);let c,l;if(s.merge)c=new $r(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Yh(e,d,n);if(!o.contains(f))throw new ie(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);CF(u,f)||u.push(f)}c=new $r(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new rde(new tr(a),c,l)}class Kh extends qx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function vc(t,e){if(xF(t=an(t)))return Qx("Unsupported field value:",e,t),EF(t,e);if(t instanceof qx)return function(r,i){if(!gF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=vc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=an(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return uN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=nn.fromDate(r);return{timestampValue:fu(i.serializer,s)}}if(r instanceof nn){const s=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fu(i.serializer,s)}}if(r instanceof Wx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _c)return{bytesValue:PN(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:h8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Mm(r)}`)}(t,e)}function EF(t,e){const n={};return Rk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(r,i)=>{const s=vc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function xF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof Wx||t instanceof _c||t instanceof vn||t instanceof qx)}function Qx(t,e,n){if(!xF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Mm(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Yh(t,e,n){if((e=an(e))instanceof Mu)return e._internalPath;if("string"==typeof e)return Rm(t,e);throw km("Field path arguments must be of type string or ",t,!1,void 0,n)}const cde=new RegExp("[~\\*/\\[\\]]");function Rm(t,e,n){if(e.search(cde)>=0)throw km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mu(...e.split("."))._internalPath}catch{throw km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function km(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ie(B.INVALID_ARGUMENT,a+t+c)}function CF(t,e){return t.some(n=>n.isEqual(e))}class Xx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class lde extends Xx{data(){return super.data()}}function Nm(t,e){return"string"==typeof e?Rm(t,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}class Jx{}class Zx extends Jx{}function ude(t,e,...n){let r=[];e instanceof Jx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Ru).length,a=s.filter(c=>c instanceof Qh).length;if(o>1||o>0&&a>0)throw new ie(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Qh extends Zx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qh(e,n,r)}_apply(e){const n=this._parse(e);return DF(e._query,n),new nr(e.firestore,e.converter,s8(e._query,n))}_parse(e){const n=Pu(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ie(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){AF(d,u);const h=[];for(const p of d)h.push(wF(c,s,p));f={arrayValue:{values:h}}}else f=wF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||AF(d,u),f=function yF(t,e,n,r=!1){return vc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return it.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function dde(t,e,n){const r=e,i=Nm("where",t);return Qh._create(i,r,n)}class Ru extends Jx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ru(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:bt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)DF(o,c),o=s8(o,c)}(e._query,n),new nr(e.firestore,e.converter,s8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eC extends Zx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eC(e,n)}_apply(e){const n=function(i,s,o){if(null!==i.startAt)throw new ie(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ie(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ch(s,o)}(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new lo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function fde(t,e="asc"){const n=e,r=Nm("orderBy",t);return eC._create(r,n)}class Om extends Zx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Om(e,n,r)}_apply(e){return new nr(e.firestore,e.converter,rm(e._query,this._limit,this._limitType))}}function hde(t){return function aF(t,e){if(e<=0)throw new ie(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Om._create("limit",t,"F")}function wF(t,e,n){if("string"==typeof(n=an(n))){if(""===n)throw new ie(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i8(e)&&-1!==n.indexOf("/"))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!ve.isDocumentKey(r))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oc(t,new ve(r))}if(n instanceof vn)return oc(t,n._key);throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mm(n)}.`)}function AF(t,e){if(!Array.isArray(t)||0===t.length)throw new ie(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ie(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pde{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw De()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ea(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Wx(un(e.latitude),un(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=X1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const n=ta(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);Pe(zN(r));const i=new sc(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||mn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function tC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ku extends Xx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lm extends ku{data(e={}){return super.data(e)}}class Nu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lm(this._firestore,this._userDataWriter,r.key,r,new yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Lm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new Lm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:mde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}class fa extends pde{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function _de(t,e,n){t=st(t,vn);const r=st(t.firestore,Vt),i=tC(t.converter,e,n);return Xh(r,[Kx(Pu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Yt.none())])}function vde(t,e,n,...r){t=st(t,vn);const i=st(t.firestore,Vt),s=Pu(i);let o;return o="string"==typeof(e=an(e))||e instanceof Mu?function vF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Yh(e,r,n)],c=[i];if(s.length%2!=0)throw new ie(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Yh(e,s[f])),c.push(s[f+1]);const l=[],u=tr.empty();for(let f=a.length-1;f>=0;--f)if(!CF(l,a[f])){const h=a[f];let p=c[f];p=an(p);const g=o.Ru(h);if(p instanceof Kh)l.push(h);else{const E=vc(p,g);null!=E&&(l.push(h),u.set(h,E))}}const d=new $r(l);return new pF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function _F(t,e,n,r){const i=t.pu(1,e,n);Qx("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();ea(r,(c,l)=>{const u=Rm(e,c,n);l=an(l);const d=i.Ru(u);if(l instanceof Kh)s.push(u);else{const f=vc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new $r(s);return new pF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Xh(i,[o.toMutation(t._key,Yt.exists(!0))])}function yde(t){return Xh(st(t.firestore,Vt),[new du(t._key,Yt.none())])}function Ede(t,e){const n=st(t.firestore,Vt),r=lF(t),i=tC(t.converter,e);return Xh(n,[Kx(Pu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function Xh(t,e){return function(r,i){const s=new Pn;return r.asyncQueue.enqueueAndForget(v(function*(){return function vue(t,e,n){return gx.apply(this,arguments)}(yield function Ux(t){return Sm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(yn(t),e)}!function(e,n=!0){Xl=Vl,xi(new Zr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vt(new Wae(r.getProvider("auth-internal")),new Qae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ie(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),cn(gk,"4.3.2",e),cn(gk,"4.3.2","esm2017")}();var zm=function(){return zm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},zm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Nde={includeMetadataChanges:!1};function sC(t,e){return void 0===e&&(e=Nde),new he(function(n){var r=function xde(t,...e){var n,r,i;t=an(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Gx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Gx(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof vn)l=st(t.firestore,Vt),u=su(t._key.path),c={next:d=>{e[o]&&e[o](function nC(t,e,n){const r=n.docs.get(e._key),i=new fa(t);return new ku(t,i,e._key,r,new yc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=st(t,nr);l=st(d.firestore,Vt),u=d._query;const f=new fa(l);c={next:h=>{e[o]&&e[o](new Nu(l,f,d,h))},error:e[o+1],complete:e[o+2]},function IF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ie(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const E=new Dm(g),S=new ux(h,E,p);return f.asyncQueue.enqueueAndForget(v(function*(){return function sx(t,e){return ox.apply(this,arguments)}(yield Su(f),S)})),()=>{E.Na(),f.asyncQueue.enqueueAndForget(v(function*(){return function ax(t,e){return cx.apply(this,arguments)}(yield Su(f),S)}))}}(yn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Fde(t,e){return void 0===e&&(e={}),function Ode(t){return sC(t,{includeMetadataChanges:!0})}(t).pipe(Qe(function(n){return RF(n,e)}))}function RF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?zm(zm({},r),((n={})[e.idField]=t.id,n)):r}function Ude(t,e){return void 0===e&&(e={}),function zde(t){return sC(t,{includeMetadataChanges:!0}).pipe(Qe(function(e){return e.docs}))}(t).pipe(Qe(function(n){return n.map(function(r){return RF(r,e)})}))}class si{constructor(e){return e}}const FF="firestore",cC=new xe("angularfire2.firestore-instances");function qde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new si(r)}}const Wde={provide:class $de{constructor(){return t1(FF)}},deps:[[new En,cC]]},Kde={provide:si,useFactory:function Gde(t,e){const n=e1(FF,t,e);return n&&new si(n)},deps:[[new En,cC],Ka]};let Yde=(()=>{var t;class e{constructor(){cn("angularfire",$o.full,"fst")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",Bt({type:t})),vt(e,"\u0275inj",Pt({providers:[Kde,Wde]})),e})();function go(t,...e){return{ngModule:Yde,providers:[{provide:cC,useFactory:qde(t),multi:!0,deps:[ht,Sn,Pf,Rf,[new En,XR],[new En,K4],...e]}]}}const mo=en(Ude,!0),Um=en(Fde,!0),VF=en(Ede,!0),mr=en(Xue,!0),Qde=en(yde,!0),Is=en(lF,!0),_o=en(ede,!0),lC=en(hde,!0),jm=en(fde,!0),vo=en(ude,!0),LF=en(_de,!0),uC=en(vde,!0),ji=en(dde,!0);class BF{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var Ou,Qt=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t.VERSION="version",t.UPDATE_AVAILABLE="update-available",t}(Qt||{});class bs{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new BF(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}getVersion(){return localStorage.getItem(Qt.VERSION)}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(BF,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(Ou=bs).\u0275fac=function(e){return new(e||Ou)},Ou.\u0275prov=be({token:Ou,factory:Ou.\u0275fac,providedIn:"platform"}),An([Xi(2,En())],bs.prototype,"cache",null);let HF=(()=>{var t;class e{constructor(){this.firestore=K(si),this.localStorageService=K(bs)}checkFleetOrders(r,i,s){if(this.ordersSubscription)return;let o=mr(this.firestore,"orders");this.ordersSubscription=mo(vo(o,ji("user","==",r),ji("executed","==",!1)),{idField:"id"}).subscribe(a=>{i.next(a.length),a.length>0?this.localStorageService.cache(Qt.ACTIVE_ORDERS,a.length):this.localStorageService.remove(Qt.ACTIVE_ORDERS),document.querySelector(".local-orders-badge")&&(document.querySelector(".local-orders-badge").style.display="none"),s.detectChanges()})}checkVersion(r,i){if(this.configSubscription)return;let s=mr(this.firestore,"config");this.configSubscription=Um(Is(s,"version")).subscribe(o=>{let a=Object.assign({value:""},o).value;this.localStorageService.getVersion()!==a?(this.localStorageService.cache(Qt.UPDATE_AVAILABLE,!0),r.next(!0)):(this.localStorageService.cache(Qt.UPDATE_AVAILABLE,!1),r.next(!1)),document.querySelector(".local-update-badge")&&(document.querySelector(".local-update-badge").style.display="none"),i.detectChanges()})}ngOnDestroy(){this.ordersSubscription.unsubscribe(),this.configSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class dC{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class zF{constructor(){this._orbit=0,this._ground=0,this._workers=new dC,this._soldiers=new dC,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class fC{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Xde=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new zF,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new fC;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class UF{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new dC,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var _r=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(_r||{});class Jde{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Zde{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Lt=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Lt||{});class jF{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let efe=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new UF,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=_r.RESOURCE;break;case 1:s=_r.SURFACE;break;case 2:s=_r.FLEET;break;default:s=_r.UNKNOWN}});let o=new Jde(r,s);if(s!==_r.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new jF(c.split("Owner:")[1].trim(),""):new jF("Uninhabited Planet",a.substring(1,a.length-1))}if((s===_r.RESOURCE||s===_r.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===_r.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new fC;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===_r.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new fC;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Zde(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Lt.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Lt.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Lt.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Lt.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Lt.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Lt.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Lt.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Lt.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Lt.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Lt.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Lt.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Lt.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Lt.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),tfe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new zF;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class nfe{constructor(){this._score=0}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get planets(){return this._planets}set planets(e){this._planets=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,note:this.note,dgId:this.dgId,kickEta:this.kickEta,planets:this.planets,score:this.score,combatScore:this.combatScore}}}let rfe=(()=>{var t;class e{constructor(){this.localStorageService=K(bs)}extract(){let r=this.localStorageService.get(Qt.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let o=new nfe;if(null!=s.querySelector("div.note")?o.note=s.querySelector("div.note").childNodes[0].textContent.trim():null!=s.querySelector('input[name="note"]')&&(o.note=s.querySelector('input[name="note"]').value.trim()),null!=s.querySelector('[action^="/alliances/note/"]')){let a=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);o.dgId=a[a.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(o.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(o.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(o))})}),this.localStorageService.cache(Qt.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelector(".dgt-orders-manager-panel.user")&&document.querySelector(".dgt-orders-manager-panel.user").remove(),document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Fu;class $i{constructor(){this.planetListExtractor=K(Xde),this.planetScanExtractor=K(efe),this.navigationSystemPlanetsExtractor=K(tfe),this.allianceMembersExtractor=K(rfe),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}cleanAlianceMembers(){this.allianceMembersExtractor.cleanAfterExtract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(Fu=$i).\u0275fac=function(e){return new(e||Fu)},Fu.\u0275prov=be({token:Fu,factory:Fu.\u0275fac,providedIn:"platform"}),An([Xi(0,En())],$i.prototype,"username",null);class $m{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Vu,Jh=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(Jh||{}),hC=V(874);class ha{constructor(){this.localStorageService=K(bs),this._authState=new At,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(Qt.USER))return!1;let n=this.localStorageService.get(Qt.USER).session.timeToken,r=this.localStorageService.get(Qt.USER).session.refreshToken,i=Date.parse(hC.AES.decrypt(n,r).toString(hC.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new $m(s,this.localStorageService.get(Qt.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(Qt.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=JR(e).subscribe(r=>{null!=r?mo(vo(mr(n,"valid-users"),ji("email","==",r.email),lC(1))).subscribe(i=>{if(i.length>0){let s=Object.assign({email:"",enabled:!1,role:Jh.USER},i[0]);s.enabled?(this.localStorageService.cache(Qt.USER,{session:{timeToken:hC.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:s.role}}),this._authState.emit(new $m(!0,s.role)),location.reload()):this.signOut(e)}else this.signOut(e)}):(this.localStorageService.remove(Qt.USER),this._authState.emit(new $m(!1,null)))})}}signInWithEmailAndPassword(e,n,r){Foe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Voe(e,new kie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(Qt.USER),this._refreshInProgress=!0,this._authState.emit(new $m(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function ws(t,e){return Le((n,r)=>{let i=0;n.subscribe(tt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function pC(...t){return function sfe(){return n0(1)}()($n(t,hd(t)))}function $F(...t){const e=hd(t);return Le((n,r)=>{(e?pC(t,n,e):pC(t,n)).subscribe(r)})}(Vu=ha).\u0275fac=function(e){return new(e||Vu)},Vu.\u0275prov=be({token:Vu,factory:Vu.\u0275fac,providedIn:"platform"}),An([Xi(0,En())],ha.prototype,"checkLoginValidity",null);const afe=(t,e)=>e.some(n=>t instanceof n);let GF,qF;const WF=new WeakMap,gC=new WeakMap,KF=new WeakMap,mC=new WeakMap,_C=new WeakMap;let vC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return gC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||KF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pfe(t){return"function"==typeof t?function hfe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lfe(){return qF||(qF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(yC(this),e),pa(WF.get(this))}:function(...e){return pa(t.apply(yC(this),e))}:function(e,...n){const r=t.call(yC(this),e,...n);return KF.set(r,e.sort?e.sort():[e]),pa(r)}}(t):(t instanceof IDBTransaction&&function dfe(t){if(gC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gC.set(t,e)}(t),afe(t,function cfe(){return GF||(GF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,vC):t)}function pa(t){if(t instanceof IDBRequest)return function ufe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WF.set(n,t)}).catch(()=>{}),_C.set(e,t),e}(t);if(mC.has(t))return mC.get(t);const e=pfe(t);return e!==t&&(mC.set(t,e),_C.set(e,t)),e}const yC=t=>_C.get(t),mfe=["get","getKey","getAll","getAllKeys","count"],_fe=["put","add","delete","clear"],EC=new Map;function YF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(EC.get(e))return EC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_fe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mfe.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return EC.set(e,s),s}!function ffe(t){vC=t(vC)}(t=>({...t,get:(e,n,r)=>YF(e,n)||t.get(e,n,r),has:(e,n)=>!!YF(e,n)||t.has(e,n)}));const QF="@firebase/installations",xC="0.6.4",XF=1e4,JF=`w:${xC}`,ZF="FIS_v2",vfe="https://firebaseinstallations.googleapis.com/v1",yfe=36e5,yo=new Uo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eV(t){return t instanceof Bi&&t.code.includes("request-failed")}function CC({projectId:t}){return`${vfe}/projects/${t}/installations`}function tV(t){return{token:t.token,requestStatus:2,expiresIn:Ife(t.expiresIn),creationTime:Date.now()}}function IC(t,e){return bC.apply(this,arguments)}function bC(){return bC=v(function*(t,e){const r=(yield e.json()).error;return yo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),bC.apply(this,arguments)}function nV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wC(t){return AC.apply(this,arguments)}function AC(){return AC=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),AC.apply(this,arguments)}function Ife(t){return Number(t.replace("s","000"))}function DC(){return DC=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=CC(t),i=nV(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:ZF,appId:t.appId,sdkVersion:JF})},c=yield wC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:tV(l.authToken)}}throw yield IC("Create Installation",c)}),DC.apply(this,arguments)}function iV(t){return new Promise(e=>{setTimeout(e,t)})}const Dfe=/^[cdef][\w-]{21}$/,TC="";function Tfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Sfe(t){return function Afe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Dfe.test(n)?n:TC}catch{return TC}}function Lu(t){return`${t.appName}!${t.appId}`}const Bu=new Map;function sV(t,e){const n=Lu(t);oV(n,e),function Rfe(t,e){const n=function aV(){return!Ec&&"BroadcastChannel"in self&&(Ec=new BroadcastChannel("[Firebase] FID Change"),Ec.onmessage=t=>{oV(t.data.key,t.data.fid)}),Ec}();n&&n.postMessage({key:t,fid:e}),function cV(){0===Bu.size&&Ec&&(Ec.close(),Ec=null)}()}(n,e)}function oV(t,e){const n=Bu.get(t);if(n)for(const r of n)r(e)}let Ec=null;const kfe="firebase-installations-database",Nfe=1,xc="firebase-installations-store";let SC=null;function MC(){return SC||(SC=function gfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=pa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(pa(o.result),c.oldVersion,c.newVersion,pa(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(kfe,Nfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(xc)}})),SC}function Gm(t,e){return PC.apply(this,arguments)}function PC(){return PC=v(function*(t,e){const n=Lu(t),i=(yield MC()).transaction(xc,"readwrite"),s=i.objectStore(xc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&sV(t,e.fid),e}),PC.apply(this,arguments)}function RC(t){return kC.apply(this,arguments)}function kC(){return kC=v(function*(t){const e=Lu(t),r=(yield MC()).transaction(xc,"readwrite");yield r.objectStore(xc).delete(e),yield r.done}),kC.apply(this,arguments)}function Zh(t,e){return NC.apply(this,arguments)}function NC(){return NC=v(function*(t,e){const n=Lu(t),i=(yield MC()).transaction(xc,"readwrite"),s=i.objectStore(xc),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&sV(t,a.fid),a}),NC.apply(this,arguments)}function OC(t){return FC.apply(this,arguments)}function FC(){return FC=v(function*(t){let e;const n=yield Zh(t.appConfig,r=>{const i=function Ofe(t){return uV(t||{fid:Tfe(),registrationStatus:0})}(r),s=function Ffe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(yo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Vfe(t,e){return VC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Lfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===TC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),FC.apply(this,arguments)}function VC(){return VC=v(function*(t,e){try{const n=yield function wfe(t,e){return DC.apply(this,arguments)}(t,e);return Gm(t.appConfig,n)}catch(n){throw eV(n)&&409===n.customData.serverCode?yield RC(t.appConfig):yield Gm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),VC.apply(this,arguments)}function Lfe(t){return LC.apply(this,arguments)}function LC(){return LC=v(function*(t){let e=yield lV(t.appConfig);for(;1===e.registrationStatus;)yield iV(100),e=yield lV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield OC(t);return r||n}return e}),LC.apply(this,arguments)}function lV(t){return Zh(t,e=>{if(!e)throw yo.create("installation-not-found");return uV(e)})}function uV(t){return function Bfe(t){return 1===t.registrationStatus&&t.registrationTime+XF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function BC(){return BC=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function zfe(t,{fid:e}){return`${CC(t)}/${e}/authTokens:generate`}(t,n),i=function rV(t,{refreshToken:e}){const n=nV(t);return n.append("Authorization",function bfe(t){return`${ZF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:JF,appId:t.appId}})},c=yield wC(()=>fetch(r,a));if(c.ok)return tV(yield c.json());throw yield IC("Generate Auth Token",c)}),BC.apply(this,arguments)}function HC(t){return zC.apply(this,arguments)}function zC(){return zC=v(function*(t,e=!1){let n;const r=yield Zh(t.appConfig,s=>{if(!fV(s))throw yo.create("not-registered");const o=s.authToken;if(!e&&function $fe(t){return 2===t.requestStatus&&!function Gfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+yfe}(t)}(o))return s;if(1===o.requestStatus)return n=function Ufe(t,e){return UC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw yo.create("app-offline");const a=function qfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function jfe(t,e){return jC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),zC.apply(this,arguments)}function UC(){return UC=v(function*(t,e){let n=yield dV(t.appConfig);for(;1===n.authToken.requestStatus;)yield iV(100),n=yield dV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?HC(t,e):r}),UC.apply(this,arguments)}function dV(t){return Zh(t,e=>{if(!fV(e))throw yo.create("not-registered");return function Wfe(t){return 1===t.requestStatus&&t.requestTime+XF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function jC(){return jC=v(function*(t,e){try{const n=yield function Hfe(t,e){return BC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Gm(t.appConfig,r),n}catch(n){if(!eV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Gm(t.appConfig,r)}else yield RC(t.appConfig);throw n}}),jC.apply(this,arguments)}function fV(t){return void 0!==t&&2===t.registrationStatus}function $C(){return $C=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield OC(e);return r?r.catch(console.error):HC(e).catch(console.error),n.fid}),$C.apply(this,arguments)}function GC(){return GC=v(function*(t,e=!1){const n=t;return yield function Qfe(t){return qC.apply(this,arguments)}(n),(yield HC(n,e)).token}),GC.apply(this,arguments)}function qC(){return qC=v(function*(t){const{registrationPromise:e}=yield OC(t);e&&(yield e)}),qC.apply(this,arguments)}function YC(t){return yo.create("missing-app-config-values",{valueName:t})}const hV="installations",the=t=>{const e=t.getProvider("app").getImmediate(),n=function Zfe(t){if(!t||!t.options)throw YC("App Configuration");if(!t.name)throw YC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw YC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:hs(e,"heartbeat"),_delete:()=>Promise.resolve()}},nhe=t=>{const n=hs(t.getProvider("app").getImmediate(),hV).getImmediate();return{getId:()=>function Kfe(t){return $C.apply(this,arguments)}(n),getToken:i=>function Yfe(t){return GC.apply(this,arguments)}(n,i)}};(function rhe(){xi(new Zr(hV,the,"PUBLIC")),xi(new Zr("installations-internal",nhe,"PRIVATE"))})(),cn(QF,xC),cn(QF,xC,"esm2017");const qm="analytics",ihe="firebase_id",she="origin",ohe=6e4,ahe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",QC="https://www.googletagmanager.com/gtag/js",zn=new Tf("@firebase/analytics"),Pr=new Uo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lhe(t){if(!t.startsWith(QC)){const e=Pr.create("invalid-gtag-resource",{gtagURL:t});return zn.warn(e.message),""}return t}function pV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function XC(){return XC=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield pV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){zn.error(a)}t("config",i,s)}),XC.apply(this,arguments)}function JC(){return JC=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield pV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){zn.error(s)}}),JC.apply(this,arguments)}const vhe=30,gV=new class Ehe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xhe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ZC(){return ZC=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:xhe(r)},s=ahe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),ZC.apply(this,arguments)}function eI(){return eI=v(function*(t,e=gV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Pr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Pr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ahe;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:ohe),mV({appId:r,apiKey:i,measurementId:s},o,a,e)}),eI.apply(this,arguments)}function mV(t,e,n){return tI.apply(this,arguments)}function tI(){return tI=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=gV){var s;const{appId:o,measurementId:a}=t;try{yield function bhe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Che(t){return ZC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function whe(t){if(!(t instanceof Bi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?O4(n,i.intervalMillis,vhe):O4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),zn.debug(`Calling attemptFetch again in ${u} millis`),mV(t,d,r,i)}}),tI.apply(this,arguments)}class Ahe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let nI,lI;function rI(){return rI=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),rI.apply(this,arguments)}function sI(){return sI=v(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),sI.apply(this,arguments)}function uI(){return uI=v(function*(){if(!If())return zn.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield R4()}catch(t){return zn.warn(Pr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),uI.apply(this,arguments)}function dI(){return dI=v(function*(t,e,n,r,i,s,o){var a;const c=function Ihe(t){return eI.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>zn.error(h)),e.push(c);const l=function khe(){return uI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function _he(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(QC)&&n.src.includes(t))return n;return null})(s)||function dhe(t,e){const n=function uhe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:lhe}),r=document.createElement("script"),i=`${QC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),lI&&(i("consent","default",lI),function _V(t){lI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[she]="firebase",f.update=!0,null!=d&&(f[ihe]=d),i("config",u.measurementId,f),nI&&(i("set",nI),function vV(t){nI=t}(void 0)),u.measurementId}),dI.apply(this,arguments)}class Ohe{constructor(e){this.app=e}_delete(){return delete As[this.app.options.appId],Promise.resolve()}}let As={},yV=[];const EV={};let CV,Ds,Wm="dataLayer",fI=!1;function Vhe(t,e,n){!function Fhe(){const t=[];if(P4()&&t.push("This is a browser extension environment."),EP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Pr.create("invalid-analytics-context",{errorInfo:e});zn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Pr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Pr.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=As[r])throw Pr.create("already-exists",{id:r});if(!fI){!function fhe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Wm);const{wrappedGtag:s,gtagCore:o}=function mhe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ghe(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function phe(t,e,n,r,i){return JC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function hhe(t,e,n,r,i,s){return XC.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){zn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(As,yV,EV,Wm,"gtag");Ds=s,CV=o,fI=!0}return As[r]=function Nhe(t,e,n,r,i,s,o){return dI.apply(this,arguments)}(t,yV,EV,e,CV,Wm,n),new Ohe(t)}function Lhe(t=Ll()){const e=hs(t=an(t),qm);return e.isInitialized()?e.getImmediate():function Bhe(t,e={}){const n=hs(t,qm);if(n.isInitialized()){const i=n.getImmediate();if(bf(e,n.getOptions()))return i;throw Pr.create("already-initialized")}return n.initialize({options:e})}(t)}function Hhe(){return hI.apply(this,arguments)}function hI(){return(hI=v(function*(){if(P4()||!EP()||!If())return!1;try{return yield R4()}catch{return!1}})).apply(this,arguments)}function zhe(t,e,n){t=an(t),function She(t,e,n,r){return sI.apply(this,arguments)}(Ds,As[t.app.options.appId],e,n).catch(r=>zn.error(r))}function IV(t,e,n,r){t=an(t),function Dhe(t,e,n,r,i){return rI.apply(this,arguments)}(Ds,As[t.app.options.appId],e,n,r).catch(i=>zn.error(i))}const bV="@firebase/analytics";!function Uhe(){xi(new Zr(qm,(e,{options:n})=>Vhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),xi(new Zr("analytics-internal",function t(e){try{const n=e.getProvider(qm).getImmediate();return{logEvent:(r,i,s)=>IV(n,r,i,s)}}catch(n){throw Pr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),cn(bV,"0.10.0"),cn(bV,"0.10.0","esm2017")}();const ep=b(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:$he}=Array,{getPrototypeOf:Ghe,prototype:qhe,keys:Whe}=Object;function AV(t){if(1===t.length){const e=t[0];if($he(e))return{args:e,keys:null};if(function Khe(t){return t&&"object"==typeof t&&Ghe(t)===qhe}(e)){const n=Whe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Yhe}=Array;function DV(t){return Qe(e=>function Qhe(t,e){return Yhe(e)?t(...e):t(e)}(t,e))}function TV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function SV(...t){const e=hd(t),n=Aw(t),{args:r,keys:i}=AV(t);if(0===r.length)return $n([],e);const s=new he(function Xhe(t,e,n=ye){return r=>{MV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)MV(e,()=>{const l=$n(t[c],e);let u=!1;l.subscribe(tt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>TV(i,o):ye));return n?s.pipe(DV(n)):s}function MV(t,e,n){t?Fs(n,t,e):e()}function PV(t){return new he(e=>{or(t()).subscribe(e)})}function tp(t,e){const n=M(t)?t:()=>t,r=i=>i.error(n());return new he(e?i=>e.schedule(r,0,i):r)}function gI(){return Le((t,e)=>{let n=null;t._refCount++;const r=tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class RV extends he{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new X;const n=this.getSubject();e.add(this.source.subscribe(tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=X.EMPTY)}return e}refCount(){return gI()(this)}}function Hu(t){return t<=0?()=>Ji:Le((e,n)=>{let r=0;e.subscribe(tt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Km(t){return Le((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function kV(t=Jhe){return Le((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Jhe(){return new ep}function Cc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ws((i,s)=>t(i,s,r)):ye,Hu(1),n?Km(e):kV(()=>new ep))}function np(t,e){return M(e)?jn(t,e,1):jn(t,1)}function Ic(t){return Le((e,n)=>{let s,r=null,i=!1;r=e.subscribe(tt(n,void 0,void 0,o=>{s=or(t(o,Ic(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mI(t){return t<=0?()=>Ji:Le((e,n)=>{let r=[];e.subscribe(tt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rp(t){return Le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Je="primary",ip=Symbol("RouteTitle");class ipe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function zu(t){return new ipe(t)}function spe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ts(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!NV(t[i],e[i]))return!1;return!0}function NV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function OV(t){return t.length>0?t[t.length-1]:null}function ga(t){return function jhe(t){return!!t&&(t instanceof he||M(t.lift)&&M(t.subscribe))}(t)?t:tf(t)?$n(Promise.resolve(t)):Be(t)}const ape={exact:function LV(t,e,n){if(!bc(t.segments,e.segments)||!Ym(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!LV(t.children[r],e.children[r],n))return!1;return!0},subset:BV},FV={exact:function cpe(t,e){return Ts(t,e)},subset:function lpe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>NV(t[n],e[n]))},ignored:()=>!0};function VV(t,e,n){return ape[n.paths](t.root,e.root,n.matrixParams)&&FV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function BV(t,e,n){return HV(t,e,e.segments,n)}function HV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!bc(i,n)||e.hasChildren()||!Ym(i,n,r))}if(t.segments.length===n.length){if(!bc(t.segments,n)||!Ym(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!BV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(bc(t.segments,i)&&Ym(t.segments,i,r)&&t.children[Je])&&HV(t.children[Je],e,s,r)}}function Ym(t,e,n){return e.every((r,i)=>FV[n](t[i].parameters,r.parameters))}class Uu{constructor(e=new wt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zu(this.queryParams)),this._queryParamMap}toString(){return fpe.serialize(this)}}class wt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qm(this)}}class sp{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=zu(this.parameters)),this._parameterMap}toString(){return jV(this)}}function bc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let op=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new _I},providedIn:"root"}),e})();class _I{parse(e){const n=new Ipe(e);return new Uu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ap(e.root,!0)}`,r=function gpe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Xm(n)}=${Xm(i)}`).join("&"):`${Xm(n)}=${Xm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function hpe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const fpe=new _I;function Qm(t){return t.segments.map(e=>jV(e)).join("/")}function ap(t,e){if(!t.hasChildren())return Qm(t);if(e){const n=t.children[Je]?ap(t.children[Je],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Je&&r.push(`${i}:${ap(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function dpe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Je&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Je&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Je?[ap(t.children[Je],!1)]:[`${i}:${ap(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Je]?`${Qm(t)}/${n[0]}`:`${Qm(t)}/(${n.join("//")})`}}function zV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xm(t){return zV(t).replace(/%3B/gi,";")}function vI(t){return zV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jm(t){return decodeURIComponent(t)}function UV(t){return Jm(t.replace(/\+/g,"%20"))}function jV(t){return`${vI(t.path)}${function ppe(t){return Object.keys(t).map(e=>`;${vI(e)}=${vI(t[e])}`).join("")}(t.parameters)}`}const mpe=/^[^\/()?;#]+/;function yI(t){const e=t.match(mpe);return e?e[0]:""}const _pe=/^[^\/()?;=#]+/,ype=/^[^=?&#]+/,xpe=/^[^&#]+/;class Ipe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Je]=new wt(e,n)),r}parseSegment(){const e=yI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new sp(Jm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function vpe(t){const e=t.match(_pe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=yI(this.remaining);i&&(r=i,this.capture(r))}e[Jm(n)]=Jm(r)}parseQueryParam(e){const n=function Epe(t){const e=t.match(ype);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Cpe(t){const e=t.match(xpe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=UV(n),s=UV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ne(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Je);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Je]:new wt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}}function $V(t){return t.segments.length>0?new wt([],{[Je]:t}):t}function GV(t){const e={};for(const r of Object.keys(t.children)){const s=GV(t.children[r]);if(r===Je&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function bpe(t){if(1===t.numberOfChildren&&t.children[Je]){const e=t.children[Je];return new wt(t.segments.concat(e.segments),e.children)}return t}(new wt(t.segments,e))}function wc(t){return t instanceof Uu}function qV(t){let e;const i=$V(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new wt(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function WV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return EI(i,i,i,n,r);const s=function Ape(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new YV(n,e,r)}(e);if(s.toRoot())return EI(i,i,new wt([],{}),n,r);const o=function Dpe(t,e,n){if(t.isAbsolute)return new e2(e,!0,0);if(!n)return new e2(e,!1,NaN);if(null===n.parent)return new e2(n,!0,0);const r=Zm(t.commands[0])?0:1;return function Tpe(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new e2(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?lp(o.segmentGroup,o.index,s.commands):QV(o.segmentGroup,o.index,s.commands);return EI(i,o.segmentGroup,a,n,r)}function Zm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function cp(t){return"object"==typeof t&&null!=t&&t.outlets}function EI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:KV(t,e,n);const a=$V(GV(o));return new Uu(a,s,i)}function KV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:KV(s,e,n)}),new wt(t.segments,r)}class YV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Zm(r[0]))throw new ne(4003,!1);const i=r.find(cp);if(i&&i!==OV(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class e2{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function QV(t,e,n){if(t||(t=new wt([],{})),0===t.segments.length&&t.hasChildren())return lp(t,e,n);const r=function Mpe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(cp(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!JV(c,l,o))return s;r+=2}else{if(!JV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new wt(t.segments.slice(0,r.pathIndex),{});return s.children[Je]=new wt(t.segments.slice(r.pathIndex),t.children),lp(s,0,i)}return r.match&&0===i.length?new wt(t.segments,{}):r.match&&!t.hasChildren()?xI(t,e,n):r.match?lp(t,0,i):xI(t,e,n)}function lp(t,e,n){if(0===n.length)return new wt(t.segments,{});{const r=function Spe(t){return cp(t[0])?t[0].outlets:{[Je]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Je)&&t.children[Je]&&1===t.numberOfChildren&&0===t.children[Je].segments.length){const s=lp(t.children[Je],e,n);return new wt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=QV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new wt(t.segments,i)}}function xI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(cp(s)){const c=Ppe(s.outlets);return new wt(r,c)}if(0===i&&Zm(n[0])){r.push(new sp(t.segments[e].path,XV(n[0]))),i++;continue}const o=cp(s)?s.outlets[Je]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Zm(a)?(r.push(new sp(o,XV(a))),i+=2):(r.push(new sp(o,{})),i++)}return new wt(r,{})}function Ppe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=xI(new wt([],{}),0,r))}),e}function XV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function JV(t,e,n){return t==n.path&&Ts(e,n.parameters)}const up="imperative";class Ss{constructor(e,n){this.id=e,this.url=n}}class CI extends Ss{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ju extends Ss{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dp extends Ss{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fp extends Ss{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class t2 extends Ss{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZV extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rpe extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kpe extends Ss{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Npe extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ope extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fpe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vpe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bpe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hpe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class II{}class bI{constructor(e){this.url=e}}class zpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hp,this.attachRef=null}}let hp=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new zpe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class tL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=wI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=wI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=AI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return AI(e,this._root).map(n=>n.value)}}function wI(t,e){if(t===e.value)return e;for(const n of e.children){const r=wI(t,n);if(r)return r}return null}function AI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=AI(t,n);if(r.length)return r.unshift(e),r}return[]}class Eo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function $u(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class nL extends tL{constructor(e,n){super(e),this.snapshot=n,DI(this,e)}toString(){return this.snapshot.toString()}}function rL(t,e){const n=function Upe(t,e){const o=new n2([],{},{},"",{},Je,e,null,{});return new sL("",new Eo(o,[]))}(0,e),r=new li([new sp("",{})]),i=new li({}),s=new li({}),o=new li({}),a=new li(""),c=new Gu(r,i,o,a,s,Je,e,n.root);return c.snapshot=n.root,new nL(new Eo(c,[]),n)}class Gu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Qe(l=>l[ip]))??Be(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Qe(e=>zu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Qe(e=>zu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function jpe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class n2{get title(){return this.data?.[ip]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sL extends tL{constructor(e,n){super(n),this.url=e,DI(this,n)}toString(){return oL(this._root)}}function DI(t,e){e.value._routerState=t,e.children.forEach(n=>DI(t,n))}function oL(t){const e=t.children.length>0?` { ${t.children.map(oL).join(", ")} } `:"";return`${t.value}${e}`}function TI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ts(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ts(e.params,n.params)||t.paramsSubject.next(n.params),function ope(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ts(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ts(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function SI(t,e){const n=Ts(t.params,e.params)&&function upe(t,e){return bc(t,e)&&t.every((n,r)=>Ts(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||SI(t.parent,e.parent))}let aL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new At,this.deactivateEvents=new At,this.attachEvents=new At,this.detachEvents=new At,this.parentContexts=K(hp),this.location=K(Oi),this.changeDetector=K(fs),this.environmentInjector=K(_i),this.inputBinder=K(r2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new $pe(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cr]}),e})();class $pe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gu?this.route:e===hp?this.childContexts:this.parent.get(e,n)}}const r2=new xe("");function pp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function qpe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return pp(t,r,i);return pp(t,r)})}(t,e,n);return new Eo(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pp(t,a)),o}}const r=function Wpe(t){return new Gu(new li(t.url),new li(t.params),new li(t.queryParams),new li(t.fragment),new li(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>pp(t,s));return new Eo(r,i)}}const MI="ngNavigationCancelingError";function lL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=wc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function uL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[MI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dL(t){return t&&t[MI]}let PI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["ng-component"]],standalone:!0,features:[XS],decls:1,vars:0,template:function(r,i){1&r&&rt(0,"router-outlet")},dependencies:[aL],encapsulation:2}),e})();function RI(t){const e=t.children&&t.children.map(RI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Je&&(n.component=PI),n}function Gi(t){return t.outlet||Je}function gp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class t0e{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),TI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=$u(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$u(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$u(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=$u(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new eL(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Bpe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(TI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),TI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=gp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class fL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class s2{constructor(e,n){this.component=e,this.route=n}}function n0e(t,e,n){const r=t._root;return mp(r,e?e._root:null,n,[r.value])}function qu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Sj(t){return null!==c0(t)}(t)?e.get(t):t:r}function mp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=$u(e);return t.children.forEach(o=>{(function i0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function s0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bc(t.url,e.url)||!Ts(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SI(t,e)||!Ts(t.queryParams,e.queryParams);default:return!SI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new fL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),mp(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new s2(a.outlet.component,o))}else o&&_p(e,a,i),i.canActivateChecks.push(new fL(r)),mp(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_p(a,n.getContext(o),i)),i}function _p(t,e,n){const r=$u(t),i=t.value;Object.entries(r).forEach(([s,o])=>{_p(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new s2(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function vp(t){return"function"==typeof t}function hL(t){return t instanceof ep||"EmptyError"===t?.name}const o2=Symbol("INITIAL_VALUE");function Wu(){return ui(t=>SV(t.map(e=>e.pipe(Hu(1),$F(o2)))).pipe(Qe(e=>{for(const n of e)if(!0!==n){if(n===o2)return o2;if(!1===n||n instanceof Uu)return n}return!0}),ws(e=>e!==o2),Hu(1)))}function pL(t){return function ae(...t){return Fe(t)}(Xn(e=>{if(wc(e))throw lL(0,e)}),Qe(e=>!0===e))}class a2{constructor(e){this.segmentGroup=e||null}}class gL{constructor(e){this.urlTree=e}}function Ku(t){return tp(new a2(t))}function mL(t){return tp(new gL(t))}class w0e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ne(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Be(r);if(i.numberOfChildren>1||!i.children[Je])return tp(new ne(4e3,!1));i=i.children[Je]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Uu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new wt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const kI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function A0e(t,e,n,r,i){const s=NI(t,e,n);return s.matched?(r=function Ype(t,e){return t.providers&&!t._injector&&(t._injector=QS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function C0e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Be(i.map(o=>{const a=qu(o,t);return ga(function d0e(t){return t&&vp(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Wu(),pL()):Be(!0)}(r,e,n).pipe(Qe(o=>!0===o?s:{...kI}))):Be(s)}function NI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...kI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||spe)(n,t,e);if(!i)return{...kI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function _L(t,e,n,r){return n.length>0&&function S0e(t,e,n){return n.some(r=>c2(t,e,r)&&Gi(r)!==Je)}(t,n,r)?{segmentGroup:new wt(e,T0e(r,new wt(n,t.children))),slicedSegments:[]}:0===n.length&&function M0e(t,e,n){return n.some(r=>c2(t,e,r))}(t,n,r)?{segmentGroup:new wt(t.segments,D0e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new wt(t.segments,t.children),slicedSegments:n}}function D0e(t,e,n,r,i){const s={};for(const o of r)if(c2(t,n,o)&&!i[Gi(o)]){const a=new wt([],{});s[Gi(o)]=a}return{...i,...s}}function T0e(t,e){const n={};n[Je]=e;for(const r of t)if(""===r.path&&Gi(r)!==Je){const i=new wt([],{});n[Gi(r)]=i}return n}function c2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class N0e{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new w0e(this.urlSerializer,this.urlTree)}noMatchError(e){return new ne(4002,!1)}recognize(){const e=_L(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Je).pipe(Ic(n=>{if(n instanceof gL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof a2?this.noMatchError(n):n}),Qe(n=>{const r=new n2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),i=new Eo(r,n),s=new sL("",i),o=function wpe(t,e,n=null,r=null){return WV(qV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Je).pipe(Ic(r=>{throw r instanceof a2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=iL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return $n(i).pipe(np(s=>{const o=r.children[s],a=function Zpe(t,e){const n=t.filter(r=>Gi(r)===e);return n.push(...t.filter(r=>Gi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function epe(t,e){return Le(function Zhe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(tt(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Km(null),function tpe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ws((i,s)=>t(i,s,r)):ye,mI(1),n?Km(e):kV(()=>new ep))}(),jn(s=>{if(null===s)return Ku(r);const o=vL(s);return function O0e(t){t.sort((e,n)=>e.value.outlet===Je?-1:n.value.outlet===Je?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Be(o)}))}processSegment(e,n,r,i,s,o){return $n(n).pipe(np(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ic(c=>{if(c instanceof a2)return Be(null);throw c}))),Cc(a=>!!a),Ic(a=>{if(hL(a))return function R0e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Be([]):Ku(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function P0e(t,e,n,r){return!!(Gi(t)===r||r!==Je&&c2(e,n,t))&&("**"===t.path||NI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ku(i):Ku(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(jn(o=>{const a=new wt(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=NI(n,i,s);if(!a)return Ku(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?mL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(jn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?OV(i).parameters:{};a=Be({snapshot:new n2(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yL(r),Gi(r),r.component??r._loadedComponent??null,r,EL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=A0e(n,r,i,e).pipe(Qe(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new n2(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yL(r),Gi(r),r.component??r._loadedComponent??null,r,EL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(ui(c=>null===c?Ku(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ui(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=_L(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Qe(S=>null===S?null:[new Eo(d,S)]));if(0===l.length&&0===g.length)return Be([new Eo(d,[])]);const E=Gi(r)===s;return this.processSegment(u,l,p,g,E?Je:s,!0).pipe(Qe(S=>[new Eo(d,S)]))}))))}getChildConfig(e,n,r){return n.children?Be({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Be({routes:n._loadedRoutes,injector:n._loadedInjector}):function x0e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Be(!0):Be(i.map(o=>{const a=qu(o,t);return ga(function a0e(t){return t&&vp(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Wu(),pL())}(e,n,r).pipe(jn(i=>i?this.configLoader.loadChildren(e,n).pipe(Xn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function b0e(t){return tp(uL(!1,3))}())):Be({routes:[],injector:e})}}function F0e(t){const e=t.value.routeConfig;return e&&""===e.path}function vL(t){const e=[],n=new Set;for(const r of t){if(!F0e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=vL(r.children);e.push(new Eo(r.value,i))}return e.filter(r=>!n.has(r))}function yL(t){return t.data||{}}function EL(t){return t.resolve||{}}function xL(t){return"string"==typeof t.title||null===t.title}function OI(t){return ui(e=>{const n=t(e);return n?$n(n).pipe(Qe(()=>e)):Be(e)})}const l2=new xe("ROUTES");let CL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(hJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Be(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ga(r.loadComponent()).pipe(Qe(IL),Xn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),rp(()=>{this.componentLoaders.delete(r)})),s=new RV(i,()=>new te).pipe(gI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function j0e(t,e,n,r){return ga(t.loadChildren()).pipe(Qe(IL),jn(i=>i instanceof KS||Array.isArray(i)?Be(i):$n(e.compileModuleAsync(i))),Qe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(l2,[],{optional:!0,self:!0}).flat()),{routes:o.map(RI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(rp(()=>{this.childrenLoaders.delete(i)})),a=new RV(o,()=>new te).pipe(gI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function IL(t){return function $0e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let u2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new te,this.transitionAbortSubject=new te,this.configLoader=K(CL),this.environmentInjector=K(_i),this.urlSerializer=K(op),this.rootContexts=K(hp),this.inputBindingEnabled=null!==K(r2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Be(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Vpe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Fpe(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new li({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:up,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ws(o=>0!==o.id),Qe(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),ui(o=>{this.currentTransition=o;let a=!1,c=!1;return Be(o).pipe(Xn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ui(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new fp(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Ji}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Be(l).pipe(ui(h=>{const p=this.transitions?.getValue();return this.events.next(new CI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Ji:Promise.resolve(h)}),function V0e(t,e,n,r,i,s){return jn(o=>function k0e(t,e,n,r,i,s,o="emptyOnly"){return new N0e(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Qe(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Xn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new ZV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:E,extras:S}=l,I=new CI(h,this.urlSerializer.serialize(p),g,E);this.events.next(I);const H=rL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:H,urlAfterRedirects:p,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},Be(o)}{const h="";return this.events.next(new fp(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Ji}}),Xn(l=>{const u=new Rpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Qe(l=>(this.currentTransition=o={...l,guards:n0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function h0e(t,e){return jn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Be({...n,guardsResult:!0}):function p0e(t,e,n,r){return $n(t).pipe(jn(i=>function E0e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Be(s.map(a=>{const c=gp(e)??i,l=qu(a,c);return ga(function u0e(t){return t&&vp(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Cc())})).pipe(Wu()):Be(!0)}(i.component,i.route,n,e,r)),Cc(i=>!0!==i,!0))}(o,r,i,t).pipe(jn(a=>a&&function o0e(t){return"boolean"==typeof t}(a)?function g0e(t,e,n,r){return $n(e).pipe(np(i=>pC(function _0e(t,e){return null!==t&&e&&e(new Lpe(t)),Be(!0)}(i.route.parent,r),function m0e(t,e){return null!==t&&e&&e(new Hpe(t)),Be(!0)}(i.route,r),function y0e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function r0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>PV(()=>Be(o.guards.map(c=>{const l=gp(o.node)??n,u=qu(c,l);return ga(function l0e(t){return t&&vp(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(Cc())})).pipe(Wu())));return Be(s).pipe(Wu())}(t,i.path,n),function v0e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Be(!0);const i=r.map(s=>PV(()=>{const o=gp(e)??n,a=qu(s,o);return ga(function c0e(t){return t&&vp(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Cc())}));return Be(i).pipe(Wu())}(t,i.route,n))),Cc(i=>!0!==i,!0))}(r,s,t,e):Be(a)),Qe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Xn(l=>{if(o.guardsResult=l.guardsResult,wc(l.guardsResult))throw lL(0,l.guardsResult);const u=new kpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ws(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),OI(l=>{if(l.guards.canActivateChecks.length)return Be(l).pipe(Xn(u=>{const d=new Npe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ui(u=>{let d=!1;return Be(u).pipe(function L0e(t,e){return jn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Be(n);let s=0;return $n(i).pipe(np(o=>function B0e(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!xL(i)&&(s[ip]=i.title),function H0e(t,e,n,r){const i=function z0e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Be({});const s={};return $n(i).pipe(jn(o=>function U0e(t,e,n,r){const i=gp(e)??r,s=qu(t,i);return ga(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Cc(),Xn(a=>{s[o]=a}))),mI(1),function npe(t){return Qe(()=>t)}(s),Ic(o=>hL(o)?Ji:tp(o)))}(s,t,e,r).pipe(Qe(o=>(t._resolvedData=o,t.data=iL(t,n).resolve,i&&xL(i)&&(t.data[ip]=i.title),null)))}(o.route,r,t,e)),Xn(()=>s++),mI(1),jn(o=>s===i.length?Be(n):Ji))})}(r.paramsInheritanceStrategy,this.environmentInjector),Xn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Xn(u=>{const d=new Ope(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),OI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Xn(h=>{d.component=h}),Qe(()=>{})));for(const h of d.children)f.push(...u(h));return f};return SV(u(l.targetSnapshot.root)).pipe(Km(),Hu(1))}),OI(()=>this.afterPreactivation()),Qe(l=>{const u=function Gpe(t,e,n){const r=pp(t,e._root,n?n._root:void 0);return new nL(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Xn(()=>{this.events.next(new II)}),((t,e,n,r)=>Qe(i=>(new t0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Hu(1),Xn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ju(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function rpe(t){return Le((e,n)=>{or(t).subscribe(tt(n,()=>n.complete(),D)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Xn(l=>{throw l}))),rp(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ic(l=>{if(c=!0,dL(l))this.events.next(new dp(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Kpe(t){return dL(t)&&wc(t.url)}(l)?this.events.next(new bI(l.url)):o.resolve(!1);else{this.events.next(new t2(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return Ji}))}))}cancelNavigationTransition(r,i,s){const o=new dp(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bL(t){return t!==up}let wL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Je);return i}getResolvedTitleForRoute(r){return r.data[ip]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(G0e)},providedIn:"root"}),e})(),G0e=(()=>{var t;class e extends wL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(D4))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),q0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(K0e)},providedIn:"root"}),e})();class W0e{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let K0e=(()=>{var t;class e extends W0e{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Yn(t)))(i||t)}}(),t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const FI=new xe("",{providedIn:"root",factory:()=>({})});let Y0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(Q0e)},providedIn:"root"}),e})(),Q0e=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var yp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(yp||{});function X0e(t){throw t}function J0e(t,e,n){return e.parse("/")}const Z0e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ege={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(U7),this.isNgZoneEnabled=!1,this._events=new te,this.options=K(FI,{optional:!0})||{},this.pendingTasks=K(bg),this.errorHandler=this.options.errorHandler||X0e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||J0e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(Y0e),this.routeReuseStrategy=K(q0e),this.titleStrategy=K(wL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(l2,{optional:!0})?.flat()??[],this.navigationTransitions=K(u2),this.urlSerializer=K(op),this.location=K(t4),this.componentInputBindingEnabled=!!K(r2,{optional:!0}),this.eventsSubscription=new X,this.isNgZoneEnabled=K(ht)instanceof ht&&ht.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Uu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(DL(i)&&this._events.next(i));if(i instanceof CI)bL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof fp)this.rawUrlTree=s.rawUrl;else if(i instanceof ZV){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof II)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof dp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof bI){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bL(s.source)};this.scheduleNavigation(o,up,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof t2&&this.restoreHistory(s,!0),i instanceof ju&&(this.navigated=!0),DL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),up,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(RI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=qV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return WV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=wc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,up,null,i)}navigate(r,i={skipLocationChange:!1}){return function tge(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ne(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...Z0e}:!1===i?{...ege}:i,wc(r))return VV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return VV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function AL(t,e){t.events.pipe(ws(n=>n instanceof ju||n instanceof dp||n instanceof t2||n instanceof fp),Qe(n=>n instanceof ju||n instanceof fp?yp.COMPLETE:n instanceof dp&&(0===n.code||1===n.code)?yp.REDIRECTING:yp.FAILED),ws(n=>n!==yp.REDIRECTING),Hu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DL(t){return!(t instanceof II||t instanceof bI)}class Yu{constructor(e){return e}}const NL="analytics",HI="__angularfire_symbol__analyticsIsSupportedValue",OL="__angularfire_symbol__analyticsIsSupported";globalThis[OL]||=Hhe().then(t=>globalThis[HI]=t).catch(()=>globalThis[HI]=!1);const d2={async:()=>globalThis[OL],sync:()=>{const t=globalThis[HI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},FL=d2.async,VL=en(Lhe,!0),Ep=en(IV,!0),uge=en(zhe,!0);let zI=(()=>{var t;class e{constructor(r,i,s){let o;vt(this,"initialized",void 0),vt(this,"disposables",[]),cn("angularfire",$o.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),FL().then(()=>{const a=s.get(Yu);a?this.disposables=[JR(r).subscribe(c=>{uge(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Me(Gf),Me(ht),Me(Sn))}),vt(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const LL="firebase_screen_id",UI="outlet",xp="screen_class",BL="screen_name";let Cge=Math.floor(Math.random()*(2**32-1))-2**31;const jI={},Ige=t=>{const e=[t[xp],t[UI]].join("#");if(jI.hasOwnProperty(e))return jI[e];{const n=Cge++;return jI[e]=n,n}},bge=(t,e,n)=>t.events.pipe(ws(i=>i instanceof eL)).pipe(ui(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Be(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[BL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[UI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===PI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Be({...u,[xp]:d});if(d){const f=n.resolveComponentFactory(d);return Be({...u,[xp]:f.selector})}return Be(null)}),ws(i=>!!i),Qe(i=>({firebase_screen_class:i[xp],[LL]:Ige(i),...i})),function ife(t,e,n,r){return Le((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Ze(s,p=>{try{const g=t(p);let E=a.get(g);if(!E){a.set(g,E=r?r():new te);const S=function h(p,g){const E=new he(S=>{u++;const I=g.subscribe(S);return()=>{I.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return E.key=p,E}(g,E);if(s.next(S),n){const I=tt(E,()=>{E.complete(),I?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(or(n(S)).subscribe(I))}}E.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[UI]),jn(i=>i.pipe(Sw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),$F(void 0),function ofe(){return Le((t,e)=>{let n,r=!1;t.subscribe(tt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Qe(([s,o])=>s?{firebase_previous_class:s[xp],firebase_previous_screen:s[BL],firebase_previous_id:s[LL],...o}:o))));let HL=(()=>{var t;class e{constructor(r,i,s,o,a,c){vt(this,"disposable",void 0),cn("angularfire",$o.full,"screen-tracking"),FL().then(()=>{const l=c.get(Yu);!r||!l||o.runOutsideAngular(()=>{this.disposable=bge(r,i,s).pipe(ui(function(){var u=v(function*(d){return a&&(yield a.initialized),Ep(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Me(qi,8),Me(D4,8),Me(jd),Me(ht),Me(zI,8),Me(Sn))}),vt(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const $I=new xe("angularfire2.analytics-instances");function Age(t){return(e,n)=>{if(!d2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Yu(r)}}const Dge={provide:class lge{constructor(){return t1(NL)}},deps:[[new En,$I]]},Tge={provide:Yu,useFactory:function wge(t,e){if(!d2.sync())return null;const n=e1(NL,t,e);return n&&new Yu(n)},deps:[[new En,$I],Ka]};let Sge=(()=>{var t;class e{constructor(r,i){cn("angularfire",$o.full,"analytics")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Me(HL,8),Me(zI,8))}),vt(e,"\u0275mod",Bt({type:t})),vt(e,"\u0275inj",Pt({providers:[Tge,Dge,{provide:z7,useValue:d2.async,multi:!0}]})),e})();function zL(t,...e){return{ngModule:Sge,providers:[{provide:$I,useFactory:Age(t),multi:!0,deps:[ht,Sn,Pf,Rf,...e]}]}}let Mge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&rf("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function Pge(t,e){1&t&&(G(0,"span",27),le(1,"1"),Q())}function Rge(t,e){1&t&&(G(0,"span",28),le(1,"1"),Q())}function kge(t,e){if(1&t&&(G(0,"span",29),le(1),Q()),2&t){const n=Gt();ue(1),at(n.localOrdersBadge)}}function Nge(t,e){if(1&t&&(G(0,"span",28),le(1),Q()),2&t){const n=e.ngIf;ue(1),at(n)}}let Oge=(()=>{var t;class e{constructor(){this.badgeService=K(HF),this.dgAPI=K($i),this.changeDetection=K(fs),this.authService=K(ha),this.localStorageService=K(bs),this.analytics=K(Yu),this.localOrdersBadge=0,this.localUpdateBadge=!1,this.initialized=!1;let r=window.location.pathname.split("/");Ep(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),Ep(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.localOrdersBadge=this.localStorageService.get(Qt.ACTIVE_ORDERS),this.localUpdateBadge=this.localStorageService.get(Qt.UPDATE_AVAILABLE),this.updateAvailableNotification=new he(i=>{this.badgeService.checkVersion(i,this.changeDetection)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.fleetOrdersNotification=new he(s=>{this.badgeService.checkFleetOrders(this.dgAPI.username(),s,this.changeDetection)}),this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-navbar"]],decls:43,vars:15,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","local-update-badge notification-badge",4,"ngIf"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["style","z-index: 0","class","local-orders-badge notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"local-update-badge","notification-badge",2,"z-index","0"],[1,"notification-badge",2,"z-index","0"],[1,"local-orders-badge","notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"ul",1)(2,"li",2),Jt(3,Pge,2,0,"span",3),Jt(4,Rge,2,0,"span",4),Zt(5,"async"),G(6,"a",5),rt(7,"img",6),G(8,"span",7),le(9,"home"),Q()()(),G(10,"li",8)(11,"a",9),rt(12,"img",10),G(13,"span",7),le(14,"planets"),Q()()(),G(15,"li",11)(16,"a",12),rt(17,"img",13),G(18,"span",7),le(19,"radar"),Q()()(),G(20,"li",14),Jt(21,kge,2,1,"span",15),Jt(22,Nge,2,1,"span",4),Zt(23,"async"),G(24,"a",16),rt(25,"img",17),G(26,"span",7),le(27,"fleets"),Q()()(),G(28,"li",18)(29,"a",19),rt(30,"img",20),G(31,"span",7),le(32,"navigation"),Q()()(),G(33,"li",21)(34,"a",22),rt(35,"img",23),G(36,"span",7),le(37,"research"),Q()()(),G(38,"li",24)(39,"a",25),rt(40,"img",26),G(41,"span",7),le(42,"alliances"),Q()()()()()),2&r&&(ue(2),Ne("tabName","home"),ue(1),Ne("ngIf",i.localUpdateBadge),ue(1),Ne("ngIf",ur(5,11,i.updateAvailableNotification)),ue(6),Ne("tabName","planets"),ue(5),Ne("tabName","radar"),ue(5),Ne("tabName","fleets"),ue(1),Ne("ngIf",i.localOrdersBadge>0),ue(1),Ne("ngIf",i.active&&ur(23,13,i.fleetOrdersNotification)),ue(6),Ne("tabName","navigation"),ue(5),Ne("tabName","research"),ue(5),Ne("tabName","alliances"))},dependencies:[Ho,Mge,Nl],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const Un_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},GI=new Map,UL={activated:!1,tokenObservers:[]},Fge={initialized:!1,enabled:!1};function dn(t){return GI.get(t)||Object.assign({},UL)}function f2(){return Fge}const qI="https://content-firebaseappcheck.googleapis.com/v1",Hge="exchangeDebugToken",jL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Uge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new Fl,yield function jge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Fl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const rr=new Uo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function h2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function WI(t){if(!dn(t).activated)throw rr.create("use-before-activation",{appName:t.name})}function KI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=p2(n)+"d:"),r&&(o+=p2(r)+"h:"),o+=p2(i)+"m:"+p2(s)+"s",o}function p2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function g2(t,e){return YI.apply(this,arguments)}function YI(){return YI=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw rr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw rr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw rr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),YI.apply(this,arguments)}function $L(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${qI}/projects/${n}/apps/${r}:${Hge}?key=${i}`,body:{debug_token:e}}}const Wge="firebase-app-check-database",Kge=1,Cp="firebase-app-check-store",GL="debug-token";let m2=null;function qL(){return m2||(m2=new Promise((t,e)=>{try{const n=indexedDB.open(Wge,Kge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(rr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Cp,{keyPath:"compositeKey"})}}catch(n){e(rr.create("storage-open",{originalErrorMessage:n?.message}))}}),m2)}function WL(t,e){return QI.apply(this,arguments)}function QI(){return QI=v(function*(t,e){const r=(yield qL()).transaction(Cp,"readwrite"),s=r.objectStore(Cp).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(rr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),QI.apply(this,arguments)}function KL(t){return XI.apply(this,arguments)}function XI(){return XI=v(function*(t){const n=(yield qL()).transaction(Cp,"readonly"),i=n.objectStore(Cp).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(rr.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),XI.apply(this,arguments)}function YL(t){return`${t.options.appId}-${t.name}`}const Ip=new Tf("@firebase/app-check");function JI(){return JI=v(function*(t){if(If()){let e;try{e=yield function Yge(t){return KL(YL(t))}(t)}catch(n){Ip.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),JI.apply(this,arguments)}function ZI(t,e){return If()?function Qge(t,e){return WL(YL(t),e)}(t,e).catch(n=>{Ip.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function eb(){return eb=v(function*(){let t;try{t=yield function Jge(){return KL(GL)}()}catch{}if(t)return t;{const e=sne();return function Xge(t){return WL(GL,t)}(e).catch(n=>Ip.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),eb.apply(this,arguments)}function tb(){return f2().enabled}function nb(){return rb.apply(this,arguments)}function rb(){return rb=v(function*(){const t=f2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),rb.apply(this,arguments)}const n1e={error:"UNKNOWN_ERROR"};function r1e(t){return M4.encodeString(JSON.stringify(t),!1)}function _2(t){return ib.apply(this,arguments)}function ib(){return ib=v(function*(t,e=!1){const n=t.app;WI(n);const r=dn(n);let s,i=r.token;if(i&&!Qu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Qu(c)?i=c:yield ZI(n,void 0))}if(!e&&i&&Qu(i))return{token:i.token};let a,o=!1;if(tb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=g2($L(n,yield nb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield ZI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield dn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Ip.warn(c.message):Ip.error(c),s=c}return i?s?a=Qu(i)?{token:i.token,internalError:s}:ZL(s):(a={token:i.token},r.token=i,yield ZI(n,i)):a=ZL(s),o&&JL(n,a),a}),ib.apply(this,arguments)}function sb(){return sb=v(function*(t){const e=t.app;WI(e);const{provider:n}=dn(e);if(tb()){const r=yield nb(),{token:i}=yield g2($L(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),sb.apply(this,arguments)}function ob(t,e,n,r){const{app:i}=t,s=dn(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Qu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),XL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>XL(t))}function ab(t,e){const n=dn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XL(t){const{app:e}=t,n=dn(e);let r=n.tokenRefresher;r||(r=function i1e(t){const{app:e}=t;return new Uge(v(function*(){let r;if(r=dn(e).token?yield _2(t,!0):yield _2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=dn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},jL.RETRIAL_MIN_WAIT,jL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function JL(t,e){const n=dn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Qu(t){return t.expireTimeMillis-Date.now()>0}function ZL(t){return{token:r1e(n1e),error:t}}class s1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=dn(this.app);for(const n of e)ab(this.app,n.next);return Promise.resolve()}}function f1e(t,e){const n=new Fl;dn(t).reCAPTCHAState={initialized:n};const i=function eB(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=h2(!1);return s?v2(t,e,s,i,n):function g1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=h2(!1);if(!o)throw new Error("no recaptcha");v2(t,e,o,i,n)}),n.promise}function v2(t,e,n,r,i){n.ready(()=>{(function p1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{dn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{dn(t).reCAPTCHAState.succeeded=!1}}),s=dn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function cb(){return cb=v(function*(t){WI(t);const n=yield dn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=dn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),cb.apply(this,arguments)}class Wi{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return v(function*(){var n,r,i;!function sB(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw rr.create("throttled",{time:KI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function tB(t){return cb.apply(this,arguments)}(e._app).catch(a=>{throw rr.create("recaptcha-error")});if(null===(n=dn(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw rr.create("recaptcha-error");let o;try{o=yield g2(function Gge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${qI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function iB(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=O4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),rr.create("throttled",{time:KI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=hs(e,"heartbeat"),f1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Wi&&this._siteKey===e._siteKey}}function _1e(t=Ll(),e){const n=hs(t=an(t),"app-check");if(f2().initialized||function t1e(){const t=mP(),e=f2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Fl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function e1e(){return eb.apply(this,arguments)}())}(),tb()&&nb().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw rr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function v1e(t,e,n){const r=function Vge(t,e){return GI.set(t,e),GI.get(t)}(t,Object.assign({},UL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Zge(t){return JI.apply(this,arguments)}(t).then(i=>(i&&Qu(i)&&(r.token=i,JL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),dn(t).isTokenAutoRefreshEnabled&&ob(r,"INTERNAL",()=>{}),r}const oB="app-check-internal";!function E1e(){xi(new Zr("app-check",t=>function o1e(t,e){return new s1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(oB).initialize()})),xi(new Zr(oB,t=>function a1e(t){return{getToken:e=>_2(t,e),getLimitedUseToken:()=>function QL(t){return sb.apply(this,arguments)}(t),addTokenListener:e=>ob(t,"INTERNAL",e),removeTokenListener:e=>ab(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),cn("@firebase/app-check","0.8.0")}();class ub{constructor(e){return e}}const db=new xe("angularfire2.app-check-instances"),C1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function I1e(t){return(e,n,r)=>{!_4(r)&&C1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new ub(i)}}const b1e={provide:K4,deps:[[new En,db]]},w1e={provide:ub,useFactory:function x1e(t,e){const n=e1(HP,t,e);return n&&new ub(n)},deps:[[new En,db],Ka,os]};let A1e=(()=>{var t;class e{constructor(){cn("angularfire",$o.full,"app-check")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",Bt({type:t})),vt(e,"\u0275inj",Pt({providers:[w1e,b1e]})),e})();function Co(t,...e){return{ngModule:A1e,providers:[{provide:db,useFactory:I1e(t),multi:!0,deps:[ht,Sn,os,Pf,Rf,...e]}]}}const Io=en(_1e,!0);let D1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[Oge]}),t.\u0275inj=Pt({providers:[HF],imports:[Li,Js(()=>eo(Un_firebase)),Wo(()=>Ko()),go(()=>_o()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),zL(()=>VL())]}),e})();class T1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class S1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class aB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class cB{constructor(){this._resources=new S1e,this._workers=new aB,this._soldiers=new aB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var wn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(wn||{});let lB=(()=>{var t;class e{constructor(){this.dgAPI=K($i)}extractStats(){let r=new T1e;return r.stats.set(wn.ALL,new cB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new cB),r.stats.get(wn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(wn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(wn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(wn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(wn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(wn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case wn.METAL:r.stats.get(wn.ALL).resources.metalStored+=s.stored,r.stats.get(wn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case wn.MINERAL:r.stats.get(wn.ALL).resources.mineralStored+=s.stored,r.stats.get(wn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case wn.FOOD:r.stats.get(wn.ALL).resources.foodStored+=s.stored,r.stats.get(wn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case wn.ENERGY:r.stats.get(wn.ALL).resources.energyStored+=s.stored,r.stats.get(wn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),M1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),fb=(()=>{var t;class e{constructor(){this.decimalPipe=K(Ol)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const P1e=function(t){return{"dgt-stats-totals-last-row":t}},bi=function(t){return{"dgt-padding-bottom-xs":t}};function R1e(t,e){if(1&t&&(G(0,"tr",4)(1,"th",5)(2,"span",6),le(3),Zt(4,"galaxyNameFormatter"),Q(),G(5,"span",7),le(6),Q()(),G(7,"td",8)(8,"div",9),rt(9,"img",10),G(10,"span",11),le(11),Zt(12,"number"),Q()()(),G(13,"td",12)(14,"div",9)(15,"span",11),le(16),Zt(17,"resourceProductionFormatter"),Q()()(),G(18,"td",13)(19,"div",14),rt(20,"img",15),G(21,"span",11),le(22),Zt(23,"number"),Q()()(),G(24,"td",12)(25,"div",14)(26,"span",11),le(27),Zt(28,"resourceProductionFormatter"),Q()()(),G(29,"td",13)(30,"div",16),rt(31,"img",17),G(32,"span",11),le(33),Zt(34,"number"),Q()()(),G(35,"td",12)(36,"div",16)(37,"span",11),le(38),Zt(39,"resourceProductionFormatter"),Q()()(),G(40,"td",13)(41,"div",18),rt(42,"img",19),G(43,"span",11),le(44),Zt(45,"number"),Q()()(),G(46,"td",20)(47,"div",18)(48,"span",11),le(49),Zt(50,"resourceProductionFormatter"),Q()()(),G(51,"td",21)(52,"div",22),rt(53,"img",23),G(54,"span",11),le(55),Zt(56,"number"),Q()()(),G(57,"td",24)(58,"div",25),rt(59,"img",26),G(60,"span",11),le(61),Zt(62,"number"),Q()()(),G(63,"td",27)(64,"div",28),rt(65,"img",29),G(66,"span",11),le(67),Zt(68,"number"),Q()()()()),2&t){const n=e.$implicit,r=e.index,i=Gt();Ne("ngClass",Hr(64,P1e,r==i.panel.stats.size-1)),ue(1),Ne("ngClass",Hr(66,bi,r==i.panel.stats.size-2)),ue(2),at(ur(4,26,n.key)),ue(3),qs("[",n.value.count,"]"),ue(1),Ne("ngClass",Hr(68,bi,r==i.panel.stats.size-2)),ue(4),at(Vo(12,28,n.value.resources.metalStored,"1.0","en-US")),ue(2),Ne("ngClass",Hr(70,bi,r==i.panel.stats.size-2)),ue(3),at(ur(17,32,n.value.resources.metalProduction)),ue(2),Ne("ngClass",Hr(72,bi,r==i.panel.stats.size-2)),ue(4),at(Vo(23,34,n.value.resources.mineralStored,"1.0","en-US")),ue(2),Ne("ngClass",Hr(74,bi,r==i.panel.stats.size-2)),ue(3),at(ur(28,38,n.value.resources.mineralProduction)),ue(2),Ne("ngClass",Hr(76,bi,r==i.panel.stats.size-2)),ue(4),at(Vo(34,40,n.value.resources.foodStored,"1.0","en-US")),ue(2),Ne("ngClass",Hr(78,bi,r==i.panel.stats.size-2)),ue(3),at(ur(39,44,n.value.resources.foodProduction)),ue(2),Ne("ngClass",Hr(80,bi,r==i.panel.stats.size-2)),ue(4),at(Vo(45,46,n.value.resources.energyStored,"1.0","en-US")),ue(2),Ne("ngClass",Hr(82,bi,r==i.panel.stats.size-2)),ue(3),at(ur(50,50,n.value.resources.energyProduction)),ue(2),Ne("ngClass",Hr(84,bi,r==i.panel.stats.size-2)),ue(4),at(Vo(56,52,n.value.resources.ground,"1.0","en-US")),ue(2),Ne("ngClass",Hr(86,bi,r==i.panel.stats.size-2)),ue(4),at(Vo(62,56,n.value.resources.orbit,"1.0","en-US")),ue(2),Ne("ngClass",Hr(88,bi,r==i.panel.stats.size-2)),ue(4),at(Vo(68,60,n.value.soldiers.total,"1.0","en-US"))}}let k1e=(()=>{var t;class e{constructor(){this.statsPanelService=K(lB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"div",1)(2,"table",2),Jt(3,R1e,69,90,"tr",3),Zt(4,"keyvalue"),Q()()()),2&r&&(ue(3),Ne("ngForOf",ur(4,1,i.panel.stats)))},dependencies:[f4,jg,Ol,zM,M1e,fb],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y2(t){return(y2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hb(t,e){return function L1e(t){if(Array.isArray(t))return t}(t)||function H1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||fB(t,e)||function U1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wp(t){return function V1e(t){if(Array.isArray(t))return pb(t)}(t)||function B1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||fB(t)||function z1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fB(t,e){if(t){if("string"==typeof t)return pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pb(t,e)}}function pb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hB=function(){},gb={},pB={},gB=null,mB={mark:hB,measure:hB};try{typeof window<"u"&&(gb=window),typeof document<"u"&&(pB=document),typeof MutationObserver<"u"&&(gB=MutationObserver),typeof performance<"u"&&(mB=performance)}catch{}var C2,I2,b2,w2,A2,_B=(gb.navigator||{}).userAgent,vB=void 0===_B?"":_B,ma=gb,Ut=pB,yB=gB,x2=mB,bo=!!Ut.documentElement&&!!Ut.head&&"function"==typeof Ut.addEventListener&&"function"==typeof Ut.createElement,EB=~vB.indexOf("MSIE")||~vB.indexOf("Trident/"),wo="___FONT_AWESOME___",xB="fa",CB="svg-inline--fa",Ac="data-fa-i2svg",_b="data-fa-pseudo-element",$1e="data-fa-pseudo-element-pending",vb="data-prefix",yb="data-icon",IB="fontawesome-i2svg",G1e="async",q1e=["HTML","HEAD","STYLE","SCRIPT"],bB=function(){try{return!0}catch{return!1}}(),jt="classic",fn="sharp",Eb=[jt,fn];function Ap(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[jt]}})}var Dp=Ap((kn(C2={},jt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),kn(C2,fn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),C2)),Tp=Ap((kn(I2={},jt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),kn(I2,fn,{solid:"fass",regular:"fasr",light:"fasl"}),I2)),Sp=Ap((kn(b2={},jt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),kn(b2,fn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),b2)),W1e=Ap((kn(w2={},jt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),kn(w2,fn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),w2)),K1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,wB="fa-layers-text",Y1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Q1e=Ap((kn(A2={},jt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),kn(A2,fn,{900:"fass",400:"fasr",300:"fasl"}),A2)),AB=[1,2,3,4,5,6,7,8,9,10],X1e=AB.concat([11,12,13,14,15,16,17,18,19,20]),J1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Dc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Mp=new Set;Object.keys(Tp[jt]).map(Mp.add.bind(Mp)),Object.keys(Tp[fn]).map(Mp.add.bind(Mp));var Z1e=[].concat(Eb,wp(Mp),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Dc.GROUP,Dc.SWAP_OPACITY,Dc.PRIMARY,Dc.SECONDARY]).concat(AB.map(function(t){return"".concat(t,"x")})).concat(X1e.map(function(t){return"w-".concat(t)})),Pp=ma.FontAwesomeConfig||{};Ut&&"function"==typeof Ut.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=hb(t,2),r=e[1],i=function tme(t){return""===t||"false"!==t&&("true"===t||t)}(function eme(t){var e=Ut.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Pp[r]=i)});var DB={styleDefault:"solid",familyDefault:"classic",cssPrefix:xB,replacementClass:CB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Pp.familyPrefix&&(Pp.cssPrefix=Pp.familyPrefix);var Xu=Te(Te({},DB),Pp);Xu.autoReplaceSvg||(Xu.observeMutations=!1);var Re={};Object.keys(DB).forEach(function(t){Object.defineProperty(Re,t,{enumerable:!0,set:function(n){Xu[t]=n,Rp.forEach(function(r){return r(Re)})},get:function(){return Xu[t]}})}),Object.defineProperty(Re,"familyPrefix",{enumerable:!0,set:function(e){Xu.cssPrefix=e,Rp.forEach(function(n){return n(Re)})},get:function(){return Xu.cssPrefix}}),ma.FontAwesomeConfig=Re;var Rp=[],Ms={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},sme="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function kp(){for(var t=12,e="";t-- >0;)e+=sme[62*Math.random()|0];return e}function Ju(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function xb(t){return t.classList?Ju(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function TB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function D2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Cb(t){return t.size!==Ms.size||t.x!==Ms.x||t.y!==Ms.y||t.rotate!==Ms.rotate||t.flipX||t.flipY}var lme=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function SB(){var t=xB,e=CB,n=Re.cssPrefix,r=Re.replacementClass,i=lme;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var MB=!1;function Ib(){Re.autoAddCss&&!MB&&(function ime(t){if(t&&bo){var e=Ut.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ut.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Ut.head.insertBefore(e,r)}}(SB()),MB=!0)}var ume={mixout:function(){return{dom:{css:SB,insertCss:Ib}}},hooks:function(){return{beforeDOMElementCreation:function(){Ib()},beforeI2svg:function(){Ib()}}}},Ao=ma||{};Ao[wo]||(Ao[wo]={}),Ao[wo].styles||(Ao[wo].styles={}),Ao[wo].hooks||(Ao[wo].hooks={}),Ao[wo].shims||(Ao[wo].shims=[]);var Ki=Ao[wo],PB=[],T2=!1;function Np(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?TB(t):"<".concat(e," ").concat(function ome(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(TB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Np).join(""),"</").concat(e,">")}function RB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}bo&&((T2=(Ut.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ut.readyState))||Ut.addEventListener("DOMContentLoaded",function t(){Ut.removeEventListener("DOMContentLoaded",t),T2=1,PB.map(function(e){return e()})}));var bb=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function wb(t){var e=function pme(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function kB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Ab(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=kB(e);"function"!=typeof Ki.hooks.addPack||i?Ki.styles[t]=Te(Te({},Ki.styles[t]||{}),s):Ki.hooks.addPack(t,kB(e)),"fas"===t&&Ab("fa",e)}var S2,M2,P2,Zu=Ki.styles,mme=Ki.shims,_me=(kn(S2={},jt,Object.values(Sp[jt])),kn(S2,fn,Object.values(Sp[fn])),S2),Db=null,NB={},OB={},FB={},VB={},LB={},vme=(kn(M2={},jt,Object.keys(Dp[jt])),kn(M2,fn,Object.keys(Dp[fn])),M2);var BB=function(){var e=function(s){return bb(Zu,function(o,a,c){return o[c]=bb(a,s,{}),o},{})};NB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),OB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),LB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Zu||Re.autoFetchSvg,r=bb(mme,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});FB=r.names,VB=r.unicodes,Db=R2(Re.styleDefault,{family:Re.familyDefault})};function Tb(t,e){return(NB[t]||{})[e]}function Tc(t,e){return(LB[t]||{})[e]}function HB(t){return FB[t]||{prefix:null,iconName:null}}function va(){return Db}(function rme(t){Rp.push(t)})(function(t){Db=R2(t.styleDefault,{family:Re.familyDefault})}),BB();var Sb=function(){return{prefix:null,iconName:null,rest:[]}};function R2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?jt:n;return Tp[r][t]||Tp[r][Dp[r][t]]||(t in Ki.styles?t:null)||null}var zB=(kn(P2={},jt,Object.keys(Sp[jt])),kn(P2,fn,Object.keys(Sp[fn])),P2);function k2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(kn(e={},jt,"".concat(Re.cssPrefix,"-").concat(jt)),kn(e,fn,"".concat(Re.cssPrefix,"-").concat(fn)),e),o=null,a=jt;(t.includes(s[jt])||t.some(function(l){return zB[jt].includes(l)}))&&(a=jt),(t.includes(s[fn])||t.some(function(l){return zB[fn].includes(l)}))&&(a=fn);var c=t.reduce(function(l,u){var d=function Eme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function yme(t){return~Z1e.indexOf(t)}(i)?null:i}(Re.cssPrefix,u);if(Zu[u]?(u=_me[a].includes(u)?W1e[a][u]:u,o=u,l.prefix=u):vme[a].indexOf(u)>-1?(o=u,l.prefix=R2(u,{family:a})):d?l.iconName=d:u!==Re.replacementClass&&u!==s[jt]&&u!==s[fn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?HB(l.iconName):{},h=Tc(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Zu.far&&Zu.fas&&!Re.autoFetchSvg&&(l.prefix="fas")}return l},Sb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===fn&&(Zu.fass||Re.autoFetchSvg)&&(c.prefix="fass",c.iconName=Tc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=va()||"fas"),c}var Ime=function(){function t(){(function N1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function O1e(t,e,n){e&&dB(t.prototype,e),n&&dB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Te(Te({},n.definitions[a]||{}),o[a]),Ab(a,o[a]);var c=Sp[jt][a];c&&Ab(c,o[a]),BB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),UB=[],ed={},td={},bme=Object.keys(td);function Mb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ed[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Sc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(ed[t]||[]).forEach(function(s){s.apply(null,n)})}function Do(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return td[t]?td[t].apply(null,e):void 0}function Pb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||va();if(e)return e=Tc(n,e)||e,RB(jB.definitions,n,e)||RB(Ki.styles,n,e)}var jB=new Ime,Dme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return bo?(Sc("beforeI2svg",e),Do("pseudoElements2svg",e),Do("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Re.autoReplaceSvg&&(Re.autoReplaceSvg=!0),Re.observeMutations=!0,function fme(t){bo&&(T2?setTimeout(t,0):PB.push(t))}(function(){Sme({autoReplaceSvgRoot:n}),Sc("watch",e)})}},oi={noAuto:function(){Re.autoReplaceSvg=!1,Re.observeMutations=!1,Sc("noAuto")},config:Re,dom:Dme,parse:{icon:function(e){if(null===e)return null;if("object"===y2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Tc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=R2(e[0]);return{prefix:r,iconName:Tc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Re.cssPrefix,"-"))>-1||e.match(K1e))){var i=k2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||va(),iconName:Tc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=va();return{prefix:s,iconName:Tc(s,e)||e}}}},library:jB,findIconDefinition:Pb,toHtml:Np},Sme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Ut:n;(Object.keys(Ki.styles).length>0||Re.autoFetchSvg)&&bo&&Re.autoReplaceSvg&&oi.dom.i2svg({node:r})};function N2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Np(r)})}}),Object.defineProperty(t,"node",{get:function(){if(bo){var r=Ut.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Rb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,E=p.height,S="fak"===i,I=[Re.replacementClass,s?"".concat(Re.cssPrefix,"-").concat(s):""].filter(function(rn){return-1===d.classes.indexOf(rn)}).filter(function(rn){return""!==rn||!!rn}).concat(d.classes).join(" "),H={children:[],attributes:Te(Te({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:I,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(E)})},q=S&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/E*16*.0625,"em")}:{};h&&(H.attributes[Ac]=""),c&&(H.children.push({tag:"title",attributes:{id:H.attributes["aria-labelledby"]||"title-".concat(u||kp())},children:[c]}),delete H.attributes.title);var pe=Te(Te({},H),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:Te(Te({},q),d.styles)}),Se=r.found&&n.found?Do("generateAbstractMask",pe)||{children:[],attributes:{}}:Do("generateAbstractIcon",pe)||{children:[],attributes:{}},Et=Se.attributes;return pe.children=Se.children,pe.attributes=Et,a?function Pme(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Re.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Te(Te({},i),{},{id:o}),children:r}]}]}(pe):function Mme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(Cb(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=D2(Te(Te({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(pe)}function $B(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=Te(Te(Te({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Ac]="");var u=Te({},o.styles);Cb(i)&&(u.transform=function cme(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&EB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=D2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var kb=Ki.styles;function Nb(t){var e=t[0],n=t[1],s=hb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Dc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Dc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Dc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var kme={found:!1,width:512,height:512};function Ob(t,e){var n=e;return"fa"===e&&null!==Re.styleDefault&&(e=va()),new Promise(function(r,i){if(Do("missingIconAbstract"),"fa"===n){var o=HB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&kb[e]&&kb[e][t])return r(Nb(kb[e][t]));(function Nme(t,e){!bB&&!Re.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Te(Te({},kme),{},{icon:Re.showMissingIcons&&t&&Do("missingIconAbstract")||{}}))})}var GB=function(){},Fb=Re.measurePerformance&&x2&&x2.mark&&x2.measure?x2:{mark:GB,measure:GB},Op='FA "6.4.2"',qB=function(e){Fb.mark("".concat(Op," ").concat(e," ends")),Fb.measure("".concat(Op," ").concat(e),"".concat(Op," ").concat(e," begins"),"".concat(Op," ").concat(e," ends"))},Vb={begin:function(e){return Fb.mark("".concat(Op," ").concat(e," begins")),function(){return qB(e)}},end:qB},O2=function(){};function WB(t){return"string"==typeof(t.getAttribute?t.getAttribute(Ac):null)}function Bme(t){return Ut.createElementNS("http://www.w3.org/2000/svg",t)}function Hme(t){return Ut.createElement(t)}function KB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Bme:Hme:n;if("string"==typeof t)return Ut.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(KB(o,{ceFn:r}))}),i}var F2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(KB(i),n)}),null===n.getAttribute(Ac)&&Re.keepOriginalSource){var r=Ut.createComment(function zme(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~xb(n).indexOf(Re.replacementClass))return F2.replace(e);var i=new RegExp("".concat(Re.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Re.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Np(a)}).join("\n");n.setAttribute(Ac,""),n.innerHTML=o}};function YB(t){t()}function QB(t,e){var n="function"==typeof e?e:O2;if(0===t.length)n();else{var r=YB;Re.mutateApproach===G1e&&(r=ma.requestAnimationFrame||YB),r(function(){var i=function Lme(){return!0===Re.autoReplaceSvg?F2.replace:F2[Re.autoReplaceSvg]||F2.replace}(),s=Vb.begin("mutate");t.map(i),s(),n()})}}var Lb=!1;function XB(){Lb=!0}function Bb(){Lb=!1}var V2=null;function JB(t){if(yB&&Re.observeMutations){var e=t.treeCallback,n=void 0===e?O2:e,r=t.nodeCallback,i=void 0===r?O2:r,s=t.pseudoElementsCallback,o=void 0===s?O2:s,a=t.observeMutationsRoot,c=void 0===a?Ut:a;V2=new yB(function(l){if(!Lb){var u=va();Ju(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!WB(d.addedNodes[0])&&(Re.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Re.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&WB(d.target)&&~J1e.indexOf(d.attributeName))if("class"===d.attributeName&&function Fme(t){var e=t.getAttribute?t.getAttribute(vb):null,n=t.getAttribute?t.getAttribute(yb):null;return e&&n}(d.target)){var f=k2(xb(d.target)),p=f.iconName;d.target.setAttribute(vb,f.prefix||u),p&&d.target.setAttribute(yb,p)}else(function Vme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Re.replacementClass)})(d.target)&&i(d.target)})}}),bo&&V2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ZB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function $me(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=k2(xb(t));return i.prefix||(i.prefix=va()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function xme(t,e){return(OB[t]||{})[e]}(i.prefix,t.innerText)||Tb(i.prefix,wb(t.innerText))),!i.iconName&&Re.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function Gme(t){var e=Ju(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Re.autoA11y&&(n?e["aria-labelledby"]="".concat(Re.replacementClass,"-title-").concat(r||kp()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Mb("parseNodeAttributes",{},t),c=e.styleParser?function jme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return Te({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Ms,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var Wme=Ki.styles;function eH(t){var e="nest"===Re.autoReplaceSvg?ZB(t,{styleParser:!1}):ZB(t);return~e.extra.classes.indexOf(wB)?Do("generateLayersText",t,e):Do("generateSvgReplacementMutation",t,e)}var ya=new Set;function tH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!bo)return Promise.resolve();var n=Ut.documentElement.classList,r=function(d){return n.add("".concat(IB,"-").concat(d))},i=function(d){return n.remove("".concat(IB,"-").concat(d))},s=Re.autoFetchSvg?ya:Eb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Wme));s.includes("fa")||s.push("fa");var o=[".".concat(wB,":not([").concat(Ac,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Ac,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Ju(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Vb.begin("onTree"),l=a.reduce(function(u,d){try{var f=eH(d);f&&u.push(f)}catch(h){bB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){QB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function Kme(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;eH(t).then(function(n){n&&QB([n],e)})}function Yme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Pb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Pb(i||{})),t(r,Te(Te({},n),{},{mask:i}))}}Eb.map(function(t){ya.add("fa-".concat(t))}),Object.keys(Dp[jt]).map(ya.add.bind(ya)),Object.keys(Dp[fn]).map(ya.add.bind(ya)),ya=wp(ya);var Qme=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Ms:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,E=void 0===g?[]:g,S=n.attributes,I=void 0===S?{}:S,H=n.styles,q=void 0===H?{}:H;if(e){var pe=e.prefix,Se=e.iconName,Ve=e.icon;return N2(Te({type:"icon"},e),function(){return Sc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Re.autoA11y&&(f?I["aria-labelledby"]="".concat(Re.replacementClass,"-title-").concat(p||kp()):(I["aria-hidden"]="true",I.focusable="false")),Rb({icons:{main:Nb(Ve),mask:c?Nb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:pe,iconName:Se,transform:Te(Te({},Ms),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:I,styles:q,classes:E}})})}},Xme={mixout:function(){return{icon:Yme(Qme)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=tH,n.nodeCallback=Kme,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return tH(void 0===r?Ut:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Ob(i,a),u.iconName?Ob(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var E=hb(g,2);h([n,Rb({icons:{main:E[0],mask:E[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=D2(n.styles);return c.length>0&&(i.style=c),Cb(o)&&(l=Do("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},Jme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return N2({type:"layer"},function(){Sc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Re.cssPrefix,"-layers")].concat(wp(s)).join(" ")},children:o}]})}}}},Zme={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return N2({type:"counter",content:n},function(){return Sc("beforeDOMElementCreation",{content:n,params:r}),function Rme(t){var e=t.content,n=t.title,r=t.extra,i=Te(Te(Te({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=D2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Re.cssPrefix,"-layers-counter")].concat(wp(a))}})})}}}},e2e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Ms:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return N2({type:"text",content:n},function(){return Sc("beforeDOMElementCreation",{content:n,params:r}),$B({content:n,transform:Te(Te({},Ms),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Re.cssPrefix,"-layers-text")].concat(wp(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(EB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Re.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,$B({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},t2e=new RegExp('"',"ug"),nH=[1105920,1112319];function rH(t,e){var n="".concat($1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Ju(t.children).filter(function(Ve){return Ve.getAttribute(_b)===e})[0],a=ma.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(Y1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?fn:jt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Tp[f][c[2].toLowerCase()]:Q1e[f][l],p=function n2e(t){var e=t.replace(t2e,""),n=function gme(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=nH[0]&&n<=nH[1],i=2===e.length&&e[0]===e[1];return{value:wb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,E=p.isSecondary,S=c[0].startsWith("FontAwesome"),I=Tb(h,g),H=I;if(S){var q=function Cme(t){var e=VB[t],n=Tb("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);q.iconName&&q.prefix&&(I=q.iconName,h=q.prefix)}if(!I||E||o&&o.getAttribute(vb)===h&&o.getAttribute(yb)===H)r();else{t.setAttribute(n,H),o&&t.removeChild(o);var pe=function qme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ms,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Se=pe.extra;Se.attributes[_b]=e,Ob(I,h).then(function(Ve){var Et=Rb(Te(Te({},pe),{},{icons:{main:Ve,mask:Sb()},prefix:h,iconName:H,extra:Se,watchable:!0})),rn=Ut.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(rn,t.firstChild):t.appendChild(rn),rn.outerHTML=Et.map(function(wi){return Np(wi)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function r2e(t){return Promise.all([rH(t,"::before"),rH(t,"::after")])}function i2e(t){return!(t.parentNode===document.head||~q1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(_b)||t.parentNode&&"svg"===t.parentNode.tagName)}function iH(t){if(bo)return new Promise(function(e,n){var r=Ju(t.querySelectorAll("*")).filter(i2e).map(r2e),i=Vb.begin("searchPseudoElements");XB(),Promise.all(r).then(function(){i(),Bb(),e()}).catch(function(){i(),Bb(),n()})})}var sH=!1,oH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Hb={x:0,y:0,width:"100%",height:"100%"};function aH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function c2e(t){return"g"===t.tag?t.children:[t]}var l2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?k2(i.split(" ").map(function(o){return o.trim()})):Sb();return s.prefix||(s.prefix=va()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function ame(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:Te(Te({},Hb),{},{fill:"white"})},g=u.children?{children:u.children.map(aH)}:{},E={tag:"g",attributes:Te({},h.inner),children:[aH(Te({tag:u.tag,attributes:Te(Te({},u.attributes),h.path)},g))]},S={tag:"g",attributes:Te({},h.outer),children:[E]},I="mask-".concat(a||kp()),H="clip-".concat(a||kp()),q={tag:"mask",attributes:Te(Te({},Hb),{},{id:I,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,S]},pe={tag:"defs",children:[{tag:"clipPath",attributes:{id:H},children:c2e(f)},q]};return r.push(pe,{tag:"rect",attributes:Te({fill:"currentColor","clip-path":"url(#".concat(H,")"),mask:"url(#".concat(I,")")},Hb)}),{children:r,attributes:i}}}};!function wme(t,e){var n=e.mixoutsTo;UB=t,ed={},Object.keys(td).forEach(function(r){-1===bme.indexOf(r)&&delete td[r]}),UB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===y2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){ed[o]||(ed[o]=[]),ed[o].push(s[o])})}r.provides&&r.provides(td)})}([ume,Xme,Jme,Zme,e2e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=iH,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Re.searchPseudoElements&&iH(void 0===r?Ut:r)}}},{mixout:function(){return{dom:{unwatch:function(){XB(),sH=!0}}}},hooks:function(){return{bootstrap:function(){JB(Mb("mutationObserverCallbacks",{}))},noAuto:function(){!function Ume(){V2&&V2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;sH?Bb():JB(Mb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return oH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=oH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Te({},h.outer),children:[{tag:"g",attributes:Te({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Te(Te({},r.icon.attributes),h.path)}]}]}}}},l2e,{provides:function(e){var n=!1;ma.matchMedia&&(n=ma.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Te(Te({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Te(Te({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Te(Te({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Te(Te({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Te(Te({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Te(Te({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Te(Te({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Te(Te({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Te(Te({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:oi});var h2e=oi.parse,p2e=oi.icon;const g2e=["*"],v2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let x2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zb=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),C2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Cr]}),e})(),I2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(as),ee(Qn))},t.\u0275cmp=yr({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Cr],ngContentSelectors:g2e,decls:1,vars:0,template:function(r,i){1&r&&(function PT(t){const e=Z()[pn][ar];if(!e.projection){const r=e.projection=Rd(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?cY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function RT(t,e=0,n){const r=Z(),i=ut(),s=gl(i,nt+t,16,null,n||null);null===s.projection&&(s.projection=e),L_(),(!r[Bs]||qc())&&32!=(32&s.flags)&&function oq(t,e,n){N5(e[Ge],0,e,n,fv(t,n,e),T5(n.parent||e[ar],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),cH=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?h2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...v2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=p2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(uP),ee(x2e),ee(zb),ee(C2e,8),ee(I2e,8))},t.\u0275cmp=yr({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(yy("innerHTML",i.renderedIconHTML,W5),Ri("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Cr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),Ub=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=Pt({}),e})(),b2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[k1e]}),t.\u0275inj=Pt({providers:[Ol,lB],imports:[Li,Ub]}),e})(),lH=(()=>{var t;class e{constructor(){this.firestore=K(si),this.dgAPI=K($i)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;let i=mr(this.firestore,"scans");this.planetScanSubscription=mo(vo(i,ji("location","==",r.planetScan.location),lC(1)),{idField:"id"}).subscribe(s=>{let o=Object.assign(new UF,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==_r.RESOURCE||r.type==_r.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==_r.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==_r.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==_r.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?VF(i,JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):uC(Is(i,o.id),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function w2e(t,e){1&t&&(G(0,"p",3),le(1,"Each scan will be cached and shared with your alliance members "),rt(2,"img",4),Q())}let A2e=(()=>{var t;class e{constructor(){this.scanService=K(lH),this.authService=K(ha),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(G(0,"div",0),rt(1,"span",1),Q(),Jt(2,w2e,3,0,"p",2)),2&r&&(ue(2),Ne("ngIf",i.active))},dependencies:[Ho],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),D2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[A2e]}),t.\u0275inj=Pt({providers:[lH],imports:[Li,Js(()=>eo(Un_firebase)),Wo(()=>Ko()),go(()=>_o()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),uH=(()=>{var t;class e{constructor(){this.firestore=K(si),this.dgAPI=K($i),this.resourceProductionFormatterPipe=K(fb),this.decimalPipe=K(Ol)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=mo(vo(mr(this.firestore,"scans"),ji("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Lt.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Lt.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Lt.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Lt.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Lt.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Lt.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Lt.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),d.includes(Lt.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Lt.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Lt.MEDICAL_CENTRE)&&(f+=.3),d.includes(Lt.LEISURE_CENTRE)&&(f+=.4),d.includes(Lt.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"})})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function T2e(t,e){1&t&&(G(0,"p",3),le(1,"Planets will display the newest scan data available "),rt(2,"img",4),Q())}let S2e=(()=>{var t;class e{constructor(){this.scanService=K(uH),this.authService=K(ha),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(G(0,"div",0),rt(1,"span",1),Q(),Jt(2,T2e,3,0,"p",2)),2&r&&(ue(2),Ne("ngIf",i.active))},dependencies:[Ho],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),M2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[S2e]}),t.\u0275inj=Pt({providers:[Ol,fb,uH],imports:[Li,Js(()=>eo(Un_firebase)),Wo(()=>Ko()),go(()=>_o()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function P2e(t,e){if(1&t){const n=Oo();G(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),le(6,"DGT Login"),Q()()(),G(7,"tr",3)(8,"td"),rt(9,"input",4,5),Q(),G(11,"td"),rt(12,"input",6,7),Q()(),G(14,"tr",8)(15,"td",2)(16,"button",9),gt("click",function(){hi(n);const i=fy(10),s=fy(13);return pi(Gt().signInWithEmailAndPassword(i.value,s.value))}),le(17,"Login"),Q(),G(18,"button",10),gt("click",function(){return hi(n),pi(Gt().signInWithGoogle())}),rt(19,"img",11),Q()()()()()()}}let R2e=(()=>{var t;class e{constructor(){this.authService=K(ha),this.auth=K(Gf),this.firestore=K(si),this.localStorageService=K(bs),this.changeDetection=K(fs),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new he(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(Qt.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(Jt(0,P2e,20,0,"div",0),Zt(1,"async")),2&r&&Ne("ngIf",ur(1,1,i.displayLogin))},dependencies:[Ho,Nl],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),k2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[R2e]}),t.\u0275inj=Pt({imports:[Li,Js(()=>eo(Un_firebase)),Wo(()=>Ko()),go(()=>_o()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),dH=(()=>{var t;class e{constructor(){this.firestore=K(si),this.dgApi=K($i),this.ordersSubscriptions=new Map}updateOrder(r){r.from=this.dgApi.username(!1);let i=mr(this.firestore,"orders");VF(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){Qde(Is(mr(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,o){if(this.ordersSubscriptions.has(r))return;document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(c=>{c.classList.add("show"),c.classList.remove("hide")});let a=mr(this.firestore,"orders");this.ordersSubscriptions.set(r,mo(vo(a,ji("user","==",r),jm("executed","asc"),jm("wait","asc")),{idField:"id"}).subscribe(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),o.next(l),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(u=>{u.classList.add("hide"),u.classList.remove("show")}),s.detectChanges()}))}ngOnDestroy(){this.ordersSubscriptions.forEach(r=>{r.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class N2e{get from(){return this._from}set from(e){this._from=e}get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target,from:this.from}}}var Gb={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},Kb={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},B2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let $ye=(()=>{var t;class e{constructor(){this.firestore=K(si),this._statsEventEmitter=new At}loadStats(r){const i=mr(this.firestore,"players"),s=r.map(a=>a.name.toLowerCase());let o=mo(vo(i,ji("name","in",s))).subscribe(a=>{Object.assign([],a).forEach(l=>{this.statsEventEmitter.emit({name:l.name,score:l.score,combatScore:l.combatScore,planets:l.planets.length})}),o.unsubscribe()})}get statsEventEmitter(){return this._statsEventEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Oz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(as),ee(Qn))},t.\u0275dir=Oe({type:t}),e})(),Mc=(()=>{var t;class e extends Oz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Yn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[Ct]}),e})();const Ps=new xe("NgValueAccessor"),Wye={provide:Ps,useExisting:Mt(()=>Fp),multi:!0},Yye=new xe("CompositionEventMode");let Fp=(()=>{var t;class e extends Oz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kye(){const t=Bo()?Bo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(as),ee(Qn),ee(Yye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&gt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[qt([Wye]),Ct]}),e})();const vr=new xe("NgValidators"),xa=new xe("NgAsyncValidators");function qz(t){return null!=t}function Wz(t){return tf(t)?$n(t):t}function Kz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Yz(t,e){return e.map(n=>n(t))}function Qz(t){return t.map(e=>function Xye(t){return!t.validate}(e)?e:n=>e.validate(n))}function Qb(t){return null!=t?function Xz(t){if(!t)return null;const e=t.filter(qz);return 0==e.length?null:function(n){return Kz(Yz(n,e))}}(Qz(t)):null}function Xb(t){return null!=t?function Jz(t){if(!t)return null;const e=t.filter(qz);return 0==e.length?null:function(n){return function Gye(...t){const e=Aw(t),{args:n,keys:r}=AV(t),i=new he(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;or(n[u]).subscribe(tt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?TV(r,a):a),s.complete())}))}});return e?i.pipe(DV(e)):i}(Yz(n,e).map(Wz)).pipe(Qe(Kz))}}(Qz(t)):null}function Zz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jb(t){return t?Array.isArray(t)?t:[t]:[]}function z2(t,e){return Array.isArray(t)?t.includes(e):t===e}function nU(t,e){const n=Jb(e);return Jb(t).forEach(i=>{z2(n,i)||n.push(i)}),n}function rU(t,e){return Jb(e).filter(n=>!z2(t,n))}class iU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Rr extends iU{get formDirective(){return null}get path(){return null}}class Ca extends iU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zb=(()=>{var t;class e extends sU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Ca,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&rf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ct]}),e})(),ew=(()=>{var t;class e extends sU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Rr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&rf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ct]}),e})();const Vp="VALID",j2="INVALID",nd="PENDING",Lp="DISABLED";function rw(t){return($2(t)?t.validators:t)||null}function iw(t,e){return($2(e)?e.asyncValidators:t)||null}function $2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class lU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vp}get invalid(){return this.status===j2}get pending(){return this.status==nd}get disabled(){return this.status===Lp}get enabled(){return this.status!==Lp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rU(e,this._rawAsyncValidators))}hasValidator(e){return z2(this._rawValidators,e)}hasAsyncValidator(e){return z2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Lp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Vp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vp||this.status===nd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lp:Vp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nd,this._hasOwnPendingAsyncValidator=!0;const n=Wz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new At,this.statusChanges=new At}_calculateStatus(){return this._allControlsDisabled()?Lp:this.errors?j2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nd)?nd:this._anyControlsHaveStatus(j2)?j2:Vp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function t4e(t){return Array.isArray(t)?Qb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function n4e(t){return Array.isArray(t)?Xb(t):t||null}(this._rawAsyncValidators)}}class sw extends lU{constructor(e,n,r){super(rw(n),iw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function cU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ne(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function aU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[n])throw new ne(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const rd=new xe("CallSetDisabledState",{providedIn:"root",factory:()=>G2}),G2="always";function Bp(t,e,n=G2){ow(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function s4e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&uU(t,e)})}(t,e),function a4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function o4e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&uU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function i4e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function K2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ow(t,e){const n=function eU(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Zz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function tU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Zz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();K2(e._rawValidators,i),K2(e._rawAsyncValidators,i)}function uU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const f4e={provide:Rr,useExisting:Mt(()=>zp)},Hp=(()=>Promise.resolve())();let zp=(()=>{var t;class e extends Rr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new At,this.form=new sw({},Qb(r),Xb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Hp.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Bp(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Hp.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Hp.then(()=>{const i=this._findContainer(r.path),s=new sw({});(function dU(t,e){ow(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Hp.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Hp.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function fU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(vr,10),ee(xa,10),ee(rd,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&gt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qt([f4e]),Ct]}),e})();function hU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function pU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const gU=class extends lU{constructor(e=null,n,r){super(rw(n),iw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=pU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},g4e={provide:Ca,useExisting:Mt(()=>Q2)},vU=(()=>Promise.resolve())();let Q2=(()=>{var t;class e extends Ca{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new gU,this._registered=!1,this.name="",this.update=new At,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function lw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Fp?n=s:function u4e(t){return Object.getPrototypeOf(t.constructor)===Mc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function cw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){vU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Rl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);vU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function q2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Rr,9),ee(vr,10),ee(xa,10),ee(Ps,10),ee(fs,8),ee(rd,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qt([g4e]),Ct,Cr]}),e})(),uw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),EU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=Pt({}),e})(),B4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=Pt({imports:[EU]}),e})(),LU=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:rd,useValue:r.callSetDisabledState??G2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=Pt({imports:[B4e]}),e})(),z4e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Qn))},t.\u0275dir=Oe({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&gt("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})(),U4e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Qn))},t.\u0275dir=Oe({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&gt("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})(),j4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"kickMemberFormatter",type:t,pure:!0}),e})(),$4e=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"updateNoteFormatter",type:t,pure:!0}),e})();function G4e(t,e){if(1&t&&(G(0,"span",13),le(1),Q()),2&t){const n=Gt().$implicit;ue(1),qs("Note: ",n.note,"")}}function q4e(t,e){if(1&t&&(G(0,"div",5)(1,"div",6)(2,"span",7),le(3),Q(),G(4,"span",8),le(5,"Score: "),G(6,"span",9),le(7),Q()(),G(8,"span",10),le(9,"Combat: "),G(10,"span",9),le(11),Q()(),G(12,"span",11),le(13,"Planets: "),G(14,"span",9),le(15),Q()(),Jt(16,G4e,2,1,"span",12),Q()()),2&t){const n=e.$implicit;ue(3),at(n.name),ue(4),at(n.score),ue(4),at(n.combatScore),ue(4),at(n.planets),ue(1),Ne("ngIf",null!=n.note)}}const BU=function(){return["far","circle-xmark"]};function W4e(t,e){if(1&t){const n=Oo();G(0,"div",34)(1,"form",35,36),gt("ngSubmit",function(i){return hi(n),pi(Gt(4).onSubmitKickMember(i))}),rt(3,"input",37),Zt(4,"kickMemberFormatter"),G(5,"button",38),rt(6,"fa-icon",30),Q()()()}if(2&t){const n=Gt().$implicit;ue(3),nf("name",ur(4,2,n.dgId)),ue(3),Ne("icon",Tl(4,BU))}}function K4e(t,e){if(1&t&&(G(0,"span",39),le(1),Q()),2&t){const n=Gt().$implicit;ue(1),qs("[",n.kickEta,"]")}}function Y4e(t,e){if(1&t&&(G(0,"span",13),le(1),Q()),2&t){const n=Gt().$implicit;ue(1),qs("Note: ",n.note,"")}}const HU=function(){return["far","circle-right"]};function Q4e(t,e){if(1&t){const n=Oo();G(0,"div",40)(1,"span",41),le(2,"Note:"),Q(),G(3,"form",42,36),gt("ngSubmit",function(i){return hi(n),pi(Gt(4).onSubmitUpdateNote(i))}),Zt(5,"updateNoteFormatter"),rt(6,"input",43),G(7,"button",38),rt(8,"fa-icon",30),Q()()()}if(2&t){const n=Gt().$implicit;ue(3),nf("action",ur(5,3,n.dgId),Cv),ue(3),nf("value",n.note),ue(2),Ne("icon",Tl(5,HU))}}const X4e=function(t,e){return{executed:t,"in-progress":e}};function J4e(t,e){if(1&t){const n=Oo();G(0,"div",44)(1,"div",22)(2,"span",41),le(3,"Target:"),Q(),G(4,"span",9),le(5),Q()(),G(6,"div",24)(7,"span",41),le(8,"Wait:"),Q(),G(9,"span",9),le(10),Q()(),G(11,"div",26)(12,"span",41),le(13,"Instructions:"),Q(),G(14,"span",9),le(15),Q()(),G(16,"div",45)(17,"button",29),gt("click",function(){const s=hi(n).$implicit;return pi(Gt(4).deleteOrder(s.id))}),rt(18,"fa-icon",30),Q()()()}if(2&t){const n=e.$implicit;Ne("ngClass",i7(5,X4e,n.executed,!n.executed)),ue(5),at(n.target),ue(5),at(n.wait),ue(5),at(n.instructions),ue(3),Ne("icon",Tl(8,BU))}}function Z4e(t,e){if(1&t){const n=Oo();G(0,"div",5)(1,"div",16)(2,"div",17)(3,"span",7),le(4),Q(),Jt(5,W4e,7,5,"div",18),Q(),G(6,"span",8),le(7,"Score: "),G(8,"span",9),le(9),Q()(),G(10,"span",10),le(11,"Combat: "),G(12,"span",9),le(13),Q()(),G(14,"span",11),le(15,"Planets: "),G(16,"span",9),le(17),Q()(),Jt(18,K4e,2,1,"span",19),Jt(19,Y4e,2,1,"span",12),Jt(20,Q4e,9,6,"div",20),Q(),G(21,"div",21)(22,"div",22)(23,"span",22),le(24,"Target:"),Q(),G(25,"input",23),gt("ngModelChange",function(i){const o=hi(n).index;return pi(Gt(3).controls.target[o]=i)}),Q()(),G(26,"div",24)(27,"span",24),le(28,"Wait:"),Q(),G(29,"input",25),gt("ngModelChange",function(i){const o=hi(n).index;return pi(Gt(3).controls.wait[o]=i)}),Q()(),G(30,"div",26)(31,"span",26),le(32,"Instructions:"),Q(),G(33,"textarea",27),gt("ngModelChange",function(i){const o=hi(n).index;return pi(Gt(3).controls.instructions[o]=i)}),Q()(),G(34,"div",28)(35,"button",29),gt("click",function(){const s=hi(n).index;return pi(Gt(3).createOrder(s))}),rt(36,"fa-icon",30),Q()()(),G(37,"div",31)(38,"div",32),rt(39,"span",1),Q(),Jt(40,J4e,19,9,"div",33),Zt(41,"async"),Q()()}if(2&t){const n=e.$implicit,r=e.index,i=Gt(2).ngIf,s=Gt();ue(4),at(n.name),ue(1),Ne("ngIf",null==n.kickEta&&i===s.UserRole.ADMIN),ue(4),at(n.score),ue(4),at(n.combatScore),ue(4),at(n.planets),ue(1),Ne("ngIf",null!=n.kickEta),ue(1),Ne("ngIf",null!=n.note&&n.note.length>0&&i===s.UserRole.TEAM_LEADER),ue(1),Ne("ngIf",i===s.UserRole.ADMIN),ue(5),Ne("ngModel",s.controls.target[r]),ue(4),Ne("ngModel",s.controls.wait[r]),ue(4),Ne("ngModel",s.controls.instructions[r]),ue(3),Ne("icon",Tl(15,HU)),ue(4),Ne("ngForOf",ur(41,13,s.orders.get(n.name.toLowerCase())))}}function e6e(t,e){if(1&t&&(G(0,"div",15),Jt(1,Z4e,42,16,"div",3),Q()),2&t){const n=Gt(2);ue(1),Ne("ngForOf",n.allianceMembers)}}function t6e(t,e){if(1&t&&(Zd(0),Jt(1,e6e,2,1,"div",14),ef()),2&t){const n=e.ngIf,r=Gt();ue(1),Ne("ngIf",n===r.UserRole.TEAM_LEADER||n===r.UserRole.ADMIN)}}let n6e=(()=>{var t;class e{constructor(r){this.UserRole=Jh,this.orderService=K(dH),this.dgAPI=K($i),this.authService=K(ha),this.changeDetection=K(fs),this.localStorageService=K(bs),this.statsService=K($ye),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},this.initialized=!1,r.addIcons(B2,Kb),this.allianceMembers=this.dgAPI.allianceMembers(!0),this.authService.authState.subscribe(i=>{document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("show"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("hide")),i.status&&(this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.role=new he(s=>{s.next(i.role),s.complete()}),this.statsService.statsEventEmitter.subscribe(s=>{this.allianceMembers.forEach(o=>{o.name.toLowerCase()===s.name&&(o.score=s.score,o.combatScore=s.combatScore,o.planets=s.planets)});for(let o=0;o<this.allianceMembers.length-1;o++)for(let a=o+1;a<this.allianceMembers.length;a++)if(this.allianceMembers[o].score<this.allianceMembers[a].score){let c=this.allianceMembers[o];this.allianceMembers[o]=this.allianceMembers[a],this.allianceMembers[a]=c}this.changeDetection.detectChanges()}),this.statsService.loadStats(this.allianceMembers),(i.role===Jh.ADMIN||i.role===Jh.TEAM_LEADER)&&(this.dgAPI.cleanAlianceMembers(),this.initialized||(this.allianceMembers.forEach(s=>{this.orders.set(s.name.toLowerCase(),new he(o=>{this.orderService.getAllOrders(s.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,o)}))}),this.initialized=!0))),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("hide"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("show"))}),this.authService.checkLoginValidity()}createOrder(r){let i=new N2e;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(Qt.ALLIANCE_MEMBERS),r.target.submit()}onSubmitUpdateNote(r){this.localStorageService.remove(Qt.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(zb))},t.\u0275cmp=yr({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:6,vars:4,consts:[[1,"dgt-spinner-container","main"],[1,"dgt-spinner"],[1,"dgt-orders-manager-panel","user"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dgt-orders-manager-member"],[1,"player","user"],[1,"name"],[1,"score","stats"],[1,"value"],[1,"combat-score","stats"],[1,"planets","stats"],["class","note",4,"ngIf"],[1,"note"],["class","dgt-orders-manager-panel admin",4,"ngIf"],[1,"dgt-orders-manager-panel","admin"],[1,"player"],[1,"name-wrapper"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],[1,"dgt-orders-history"],[1,"dgt-spinner-container","member"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"delete"]],template:function(r,i){1&r&&(G(0,"div",0),rt(1,"span",1),Q(),G(2,"div",2),Jt(3,q4e,17,5,"div",3),Q(),Jt(4,t6e,2,1,"ng-container",4),Zt(5,"async")),2&r&&(ue(3),Ne("ngForOf",i.allianceMembers),ue(1),Ne("ngIf",ur(5,2,i.role)))},dependencies:[f4,jg,Ho,uw,Fp,Zb,ew,Q2,zp,cH,z4e,U4e,Nl,j4e,$4e],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:370px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;line-height:22px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid transparent;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]:nth-child(2){margin-top:10px!important}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#ffffffad;margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{background:#7BBD1A3D}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{background:#FF3B303B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;margin-left:5px;margin-right:5px;position:relative}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:2px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px;width:100px}span.note[_ngcontent-%COMP%]{line-height:20px}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#ffffffad!important;font-weight:400!important;width:35%;font-size:1em!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.note[_ngcontent-%COMP%]{line-height:16px!important;width:65%;text-align:left;font-size:1em!important}.dgt-spinner-container.member[_ngcontent-%COMP%]{position:relative;margin-top:5px}.dgt-spinner-container.member[_ngcontent-%COMP%]   .dgt-spinner[_ngcontent-%COMP%]{top:10px!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:20px;line-height:22px}span.score[_ngcontent-%COMP%]{margin-left:10px!important}.dgt-orders-manager-panel.tl[_ngcontent-%COMP%]   div.name-wrapper[_ngcontent-%COMP%], .dgt-orders-manager-panel.admin[_ngcontent-%COMP%]   div.name-wrapper[_ngcontent-%COMP%]{width:150px;min-width:210px!important}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}.player.user[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:175px!important}.player.user[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{width:150px!important}"]}),e})(),r6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[n6e]}),t.\u0275inj=Pt({providers:[dH],imports:[Li,LU,Ub,Js(()=>eo(Un_firebase)),Wo(()=>Ko()),go(()=>_o()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),zU=(()=>{var t;class e{constructor(){this.firestore=K(si)}getActiveOrders(r,i,s,o){if(this.ordersSubscription)return;let a=mr(this.firestore,"orders");this.ordersSubscription=mo(vo(a,ji("user","==",r),ji("executed","==",!1),jm("executed","asc"),jm("wait","asc")),{idField:"id"}).subscribe(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),o.next(l),s.detectChanges(),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("show"))})}completeOrder(r){let i=mr(this.firestore,"orders");uC(Is(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const i6e=function(){return["far","circle-check"]};function s6e(t,e){if(1&t){const n=Oo();G(0,"div",6)(1,"div",7)(2,"span",8),le(3,"From:"),Q(),G(4,"span",9),le(5),Q()(),G(6,"div",10)(7,"span",8),le(8,"Target:"),Q(),G(9,"span",9),le(10),Q()(),G(11,"div",11)(12,"span",8),le(13,"Wait:"),Q(),G(14,"span",9),le(15),Q()(),G(16,"div",12)(17,"span",8),le(18,"Instructions:"),Q(),G(19,"span",9),le(20),Q()(),G(21,"div",13)(22,"button",14),gt("click",function(){const s=hi(n).$implicit;return pi(Gt(3).onCompleteClick(s.id))}),rt(23,"fa-icon",15),Q()()()}if(2&t){const n=e.$implicit;ue(5),at(n.from),ue(5),at(n.target),ue(5),at(n.wait),ue(5),at(n.instructions),ue(3),Ne("icon",Tl(5,i6e))}}function o6e(t,e){if(1&t&&(G(0,"div",4),Jt(1,s6e,24,6,"div",5),Q()),2&t){const n=Gt().ngIf;ue(1),Ne("ngForOf",n)}}function a6e(t,e){if(1&t&&(Zd(0),Jt(1,o6e,2,1,"div",3),ef()),2&t){const n=e.ngIf;ue(1),Ne("ngIf",(null==n?null:n.length)>0)}}let c6e=(()=>{var t;class e{constructor(r){this.orderService=K(zU),this.dgAPI=K($i),this.changeDetection=K(fs),this.authService=K(ha),this.active=!1,this.initialized=!1,r.addIcons(Gb),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("show"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("hide")),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.orders=new he(s=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,s)}),this.initialized=!0)}),this.authService.checkLoginValidity()}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(zb))},t.\u0275cmp=yr({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:4,vars:3,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-fleet-order-container",4,"ngIf"],[1,"dgt-fleet-order-container"],["class","dgt-fleet-order",4,"ngFor","ngForOf"],[1,"dgt-fleet-order"],[1,"from"],[1,"label"],[1,"value"],[1,"target"],[1,"wait"],[1,"instructions"],[1,"complete"],[3,"click"],[3,"icon"]],template:function(r,i){1&r&&(G(0,"div",0),rt(1,"span",1),Q(),Jt(2,a6e,2,1,"ng-container",2),Zt(3,"async")),2&r&&(ue(2),Ne("ngIf",i.active&&ur(3,1,i.orders)))},dependencies:[jg,Ho,cH,Nl],styles:[".dgt-fleet-order-container[_ngcontent-%COMP%]{margin:5px 5px 0!important;background:rgb(75,75,75);padding:7px;border-radius:5px;border:1px solid #5e5e5e}.dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#784946;border:none;width:calc(100% - 10px);border-radius:5px;height:22px;line-height:22px;padding:5px;margin-bottom:5px}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;color:#dcdcdc;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#dcdcdc}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:145px}.dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:85px}.dgt-fleet-order[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{float:right;margin-right:2px}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:2px;min-width:150px}.dgt-spinner-container[_ngcontent-%COMP%]{border:1px solid #5e5e5e;margin:5px 5px 0!important;width:calc(100% - 12px)!important;height:calc(100% - 12px)!important;position:relative}"]}),e})(),l6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[c6e]}),t.\u0275inj=Pt({providers:[zU],imports:[Li,Ub,Js(()=>eo(Un_firebase)),Wo(()=>Ko()),go(()=>_o()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),u6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),d6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[u6e]}),t.\u0275inj=Pt({imports:[Li]}),e})(),f6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),h6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[f6e]}),t.\u0275inj=Pt({providers:[HL,zI],imports:[Li,Js(()=>eo(Un_firebase)),Wo(()=>Ko()),zL(()=>VL()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),go(()=>_o())]}),e})(),UU=(()=>{var t;class e{constructor(){this.firestore=K(si),this.localStorageService=K(bs)}checkVersion(r,i){if(this.configSubscription)return;let s=mr(this.firestore,"config");this.configSubscription=Um(Is(s,"version")).subscribe(o=>{let a=Object.assign({value:""},o).value;this.localStorageService.getVersion()!==a?(this.localStorageService.cache(Qt.UPDATE_AVAILABLE,!0),i.next(!0)):(this.localStorageService.cache(Qt.UPDATE_AVAILABLE,!1),i.next(!1)),i.complete(),r.detectChanges(),document.querySelector("dgt-changelog .dgt-spinner-container")&&(document.querySelector("dgt-changelog .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-changelog .dgt-spinner-container").classList.remove("show"))})}ngOnDestroy(){this.configSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function p6e(t,e){if(1&t){const n=Oo();G(0,"div",6)(1,"span"),le(2,"There is a new update for DarkGalaxy Toolbox. "),G(3,"a",7),gt("click",function(){return hi(n),pi(Gt().installUpdate())}),le(4,"Click here"),Q(),le(5," to install it."),Q()()}}let g6e=(()=>{var t;class e{constructor(){this.changeLogService=K(UU),this.changeDetection=K(fs),this.localStorageService=K(bs),this.changed=new he(r=>{this.changeLogService.checkVersion(this.changeDetection,r)}),this.version=this.localStorageService.getVersion()}installUpdate(){this.localStorageService.cache(Qt.UPDATE_AVAILABLE,!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-changelog"]],decls:29,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container"],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js",3,"click"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"h2"),le(2,"DarkGalaxy Tools "),G(3,"span"),le(4),Q()(),G(5,"div",1),rt(6,"span",2),Q(),Jt(7,p6e,6,0,"div",3),Zt(8,"async"),G(9,"div",4)(10,"div")(11,"span"),le(12,"Changelog:"),Q()(),G(13,"ul")(14,"li"),le(15,"fix - fleets/fleet various screens"),Q(),G(16,"li"),le(17,"fix - increased some buttons size"),Q()()(),G(18,"div",5)(19,"div")(20,"span"),le(21,"Important:"),Q()(),G(22,"ul")(23,"li"),le(24,"please report any bug to Whatsapp channel"),Q(),G(25,"li")(26,"b"),le(27,"disable browser ads-blocking plugins on game domain"),Q(),le(28," - some of them are interfering with Firebase communication"),Q()()()()),2&r&&(ue(4),at(i.version),ue(3),Ne("ngIf",ur(8,2,i.changed)))},dependencies:[Ho,Nl],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),m6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[g6e]}),t.\u0275inj=Pt({providers:[UU],imports:[Li,Js(()=>eo(Un_firebase)),go(()=>_o()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function X2(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new fe({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new ep)}});t.subscribe(s)})}class J2{}class Z2{}class Rs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Rs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Rs;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Rs?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class _6e{encodeKey(e){return jU(e)}encodeValue(e){return jU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const y6e=/%(\d[a-f0-9])/gi,E6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jU(t){return encodeURIComponent(t).replace(y6e,(e,n)=>E6e[n]??e)}function e_(t){return`${t}`}class Ia{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _6e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function v6e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(e_):[e_(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ia({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(e_(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(e_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class x6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function $U(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function GU(t){return typeof Blob<"u"&&t instanceof Blob}function qU(t){return typeof FormData<"u"&&t instanceof FormData}class Up{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function C6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Rs),this.context||(this.context=new x6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ia,this.urlWithParams=n}serializeBody(){return null===this.body?null:$U(this.body)||GU(this.body)||qU(this.body)||function I6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ia?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qU(this.body)?null:GU(this.body)?this.body.type||null:$U(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ia?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new Up(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var id=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(id||{});class _w{constructor(e,n=200,r="OK"){this.headers=e.headers||new Rs,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class vw extends _w{constructor(e={}){super(e),this.type=id.ResponseHeader}clone(e={}){return new vw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sd extends _w{constructor(e={}){super(e),this.type=id.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class WU extends _w{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function yw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ew=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Up)o=r;else{let l,u;l=s.headers instanceof Rs?s.headers:new Rs(s.headers),s.params&&(u=s.params instanceof Ia?s.params:new Ia({fromObject:s.params})),o=new Up(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Be(o).pipe(np(l=>this.handler.handle(l)));if(r instanceof Up||"events"===s.observe)return a;const c=a.pipe(ws(l=>l instanceof sd));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Qe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Qe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Qe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Qe(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Ia).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,yw(s,i))}post(r,i,s={}){return this.request("POST",r,yw(s,i))}put(r,i,s={}){return this.request("PUT",r,yw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(J2))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function QU(t,e){return e(t)}function w6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const D6e=new xe(""),jp=new xe(""),XU=new xe("");function T6e(){let t=null;return(e,n)=>{null===t&&(t=(K(D6e,{optional:!0})??[]).reduceRight(w6e,QU));const r=K(bg),i=r.add();return t(e,n).pipe(rp(()=>r.remove(i)))}}let JU=(()=>{var t;class e extends J2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=K(bg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(jp),...this.injector.get(XU,[])]));this.chain=s.reduceRight((o,a)=>function A6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),QU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(rp(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Z2),Me(_i))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const R6e=/^\)\]\}',?\n/;let ej=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new ne(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?$n(i.\u0275loadImpl()):Be(null)).pipe(ui(()=>new he(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((E,S)=>a.setRequestHeader(E,S.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const E=r.detectContentTypeHeader();null!==E&&a.setRequestHeader("Content-Type",E)}if(r.responseType){const E=r.responseType.toLowerCase();a.responseType="json"!==E?E:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const E=a.statusText||"OK",S=new Rs(a.getAllResponseHeaders()),I=function k6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new vw({headers:S,status:a.status,statusText:E,url:I}),l},d=()=>{let{headers:E,status:S,statusText:I,url:H}=u(),q=null;204!==S&&(q=typeof a.response>"u"?a.responseText:a.response),0===S&&(S=q?200:0);let pe=S>=200&&S<300;if("json"===r.responseType&&"string"==typeof q){const Se=q;q=q.replace(R6e,"");try{q=""!==q?JSON.parse(q):null}catch(Ve){q=Se,pe&&(pe=!1,q={error:Ve,text:q})}}pe?(o.next(new sd({body:q,headers:E,status:S,statusText:I,url:H||void 0})),o.complete()):o.error(new WU({error:q,headers:E,status:S,statusText:I,url:H||void 0}))},f=E=>{const{url:S}=u(),I=new WU({error:E,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});o.error(I)};let h=!1;const p=E=>{h||(o.next(u()),h=!0);let S={type:id.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(S.total=E.total),"text"===r.responseType&&a.responseText&&(S.partialText=a.responseText),o.next(S)},g=E=>{let S={type:id.UploadProgress,loaded:E.loaded};E.lengthComputable&&(S.total=E.total),o.next(S)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:id.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Me($M))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const xw=new xe("XSRF_ENABLED"),tj=new xe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nj=new xe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class rj{}let F6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=OM(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Me(Ur),Me(os),Me(tj))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function V6e(t,e){const n=t.url.toLowerCase();if(!K(xw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=K(rj).getToken(),i=K(nj);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ba=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ba||{});function Rc(t,e){return{\u0275kind:t,\u0275providers:e}}function L6e(...t){const e=[Ew,ej,JU,{provide:J2,useExisting:JU},{provide:Z2,useExisting:ej},{provide:jp,useValue:V6e,multi:!0},{provide:xw,useValue:!0},{provide:rj,useClass:F6e}];for(const n of t)e.push(...n.\u0275providers);return function bv(t){return{\u0275providers:t}}(e)}const ij=new xe("LEGACY_INTERCEPTOR_FN");let H6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=Pt({providers:[L6e(Rc(ba.LegacyInterceptors,[{provide:ij,useFactory:T6e},{provide:jp,useExisting:ij,multi:!0}]))]}),e})();class q6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}var od;class Cw{constructor(){this.NAVIGATION_BASE_URL="https://andromeda.darkgalaxy.com/navigation/",this.GALAXIES=49,this.G1_SECTORS=25,this.INNER_SECTORS=6,this.OUTER_SECTORS=2,this.SYSTEMS=4,this.httpClient=K(Ew),this.firestore=K(si),this.dgAPI=K($i),this._systemScanEmitter=new At,this._planetScanEmitter=new At,this.delay=function(){var e=v(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanNavigationScreen(e,n=[]){var r=this;return v(function*(){const i=1500+Math.floor(1500*Math.random()),s=mr(r.firestore,"planets"),o=r.filterValidGalaxies(n);let a=0,c=!0,l=e.subscribe(d=>{c=!d});const u=r.totalSystemsNr(n);for(let d=0;d<o.length;d++){if(1===o[d])for(let f=1;f<=r.G1_SECTORS;f++)for(let h=1;h<=r.SYSTEMS;h++)c&&(yield r.parseAndSave(o[d],f,h,s),r._systemScanEmitter.emit({system:++a,total:u}),yield r.delay(i));if(o[d]>1&&o[d]<14)for(let f=1;f<=r.INNER_SECTORS;f++)for(let h=1;h<=r.SYSTEMS;h++)c&&(yield r.parseAndSave(o[d],f,h,s),r._systemScanEmitter.emit({system:++a,total:u}),yield r.delay(i));if(o[d]>=14)for(let f=1;f<=r.OUTER_SECTORS;f++)for(let h=1;h<=r.SYSTEMS;h++)c&&(yield r.parseAndSave(o[d],f,h,s),r._systemScanEmitter.emit({system:++a,total:u}),yield r.delay(i))}l.unsubscribe()})()}totalSystemsNr(e){let n=0;const r=this.filterValidGalaxies(e);for(let i=0;i<r.length;i++)1===r[i]&&(n+=this.G1_SECTORS*this.SYSTEMS),r[i]>1&&r[i]<14&&(n+=this.INNER_SECTORS*this.SYSTEMS),r[i]>=14&&(n+=this.OUTER_SECTORS*this.SYSTEMS);return n}allGalaxies(){let e=[];for(let n=1;n<=this.GALAXIES;n++)e.push(n);return e}parseAndSave(e,n,r,i){var s=this;return v(function*(){const o=yield X2(s.httpClient.get(s.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(o,"text/html").querySelectorAll(".navigation .planets").forEach((c,l)=>{setTimeout(()=>{let u=new q6e;const d=c.querySelector(".coords span").textContent.trim(),f=d.split(/\./);s.planetScanEmitter.emit(d),u.location=d,u.galaxy=parseInt(f[0]),u.sector=parseInt(f[1]),u.system=parseInt(f[2]),u.planet=parseInt(f[3]),c.classList.contains("neutral")?(u.owner="none",u.playerId=-1,u.alliance="-"):(u.alliance=c.querySelector(".allianceName")?c.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",u.owner=c.querySelector(".playerName").textContent.trim().toLowerCase(),u.playerId=parseInt(c.querySelector(".playerName").attributes.playerId.value.trim())),u.turn=s.dgAPI.gameTurn(),LF(Is(i,u.location),JSON.parse(JSON.stringify(u))).catch(h=>{console.log(h)})},100*l)})})()}filterValidGalaxies(e){let n=[];if(1===e.length&&149===e[0])n.push(...this.allGalaxies());else if(1===e.length&&213===e[0])for(let r=2;r<=13;r++)n.push(r);else if(1===e.length&&1449===e[0])for(let r=14;r<=49;r++)n.push(r);else for(let r=0;r<e.length;r++)e[r]>0&&e[r]<=this.GALAXIES&&n.push(e[r]);return n}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(od=Cw).\u0275fac=function(e){return new(e||od)},od.\u0275prov=be({token:od,factory:od.\u0275fac,providedIn:"root"}),An([Xi(1,En())],Cw.prototype,"scanNavigationScreen",null);class Iw{constructor(){this._planets=[]}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get planets(){return this._planets}set planets(e){this._planets=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance}}}let W6e=(()=>{var t;class e{constructor(){this.PLAYER_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/players/",this.ALLIANCE_RANKINGS_URL="https://andromeda.darkgalaxy.com/navigation/",this.ALLIANCE_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/alliances/",this.httpClient=K(Ew),this.firestore=K(si),this.dgAPI=K($i),this._playersRankingsEmitter=new At,this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayerRankingsScreens(r){var i=this;return v(function*(){const s=1500+Math.floor(1500*Math.random()),o=mr(i.firestore,"players"),a=mr(i.firestore,"planets"),c=mr(i.firestore,"config");let l=!0,u=r.subscribe(S=>{l=!S}),d=0,f=new Map,h=yield X2(i.httpClient.get(i.PLAYER_RANKINGS_URL,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html");const g=parseInt(p.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[p.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim());for(let S=1;S<=g;S++)l&&(h=yield X2(i.httpClient.get(i.PLAYER_RANKINGS_URL+S,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html"),p.querySelectorAll(".rankingsList .entry").forEach(I=>{const H=parseInt(I.querySelector(".playerName").attributes.playerId.value.trim());f.has(H)||f.set(H,new Iw);let q=f.get(H);q.playerId=H,q.name=I.querySelector(".playerName").textContent.trim().toLowerCase(),q.rank=parseInt(I.querySelector(".rank").textContent.trim().replace(/,/g,"")),q.score=parseInt(I.querySelector(".score").textContent.trim().replace(/,/g,"")),q.combinedScore=q.combatScore+q.score,q.alliance=I.querySelector(".allianceName")?I.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-"}),i._playersRankingsEmitter.emit({action:"load",page:++d,total:2*g}),yield i.delay(s),h=yield X2(i.httpClient.get(i.PLAYER_COMBAT_RANKINGS_URL+S,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html"),p.querySelectorAll(".rankingsList .entry").forEach(I=>{const H=parseInt(I.querySelector(".playerName").attributes.playerId.value.trim());f.has(H)||f.set(H,new Iw);let q=f.get(H);q.combatScore=parseInt(I.querySelector(".score").textContent.trim().replace(/,/g,"")),q.combinedScore=q.combatScore+q.score}),i._playersRankingsEmitter.emit({action:"load",page:++d,total:2*g}),yield i.delay(s)),u.unsubscribe();let E=Um(Is(c,"last-navigation-scan-turn")).subscribe(S=>{let I=Object.assign({value:0},S).value,H=Um(Is(c,"last-player-rankings-scan-turn")).subscribe(q=>{let pe=Object.assign({value:0},q).value;if(I>=pe){let Se=0;f.forEach((Ve,Et)=>{l&&setTimeout(()=>{let rn=mo(vo(a,ji("playerId","==",Et))).subscribe(wi=>{Object.assign([],wi).forEach($p=>{Ve.planets.push($p.location)}),LF(Is(o,Et.toString()),JSON.parse(JSON.stringify(Ve))).then(()=>{i._playersRankingsEmitter.emit({action:"save",page:++Se,total:f.size})}).catch($p=>{console.log($p)}),rn.unsubscribe()})},50*Se)})}else{let Se=0;f.forEach((Ve,Et)=>{l&&setTimeout(()=>{let rn=mo(vo(o,ji("playerId","==",Et),lC(1))).subscribe(wi=>{let n_=Object.assign(new Iw,wi[0]);Ve.planets=n_.planets,console.log(Ve.playerId),uC(Is(o,Et.toString()),JSON.parse(JSON.stringify(Ve))).then(()=>{i._playersRankingsEmitter.emit({action:"save",page:++Se,total:f.size})}).catch($p=>{console.log($p)}),rn.unsubscribe()})},50*Se)})}H.unsubscribe()});E.unsubscribe()});yield i.delay(75*f.size)})()}scanAllianceRankingsScreens(){return v(function*(){})()}get playersRankingsEmitter(){return this._playersRankingsEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),K6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Qn))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&gt("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const Y6e=["planetsLoadModal"],Q6e=["rankingsLoadModal"],X6e=["planetProgressBar"],J6e=["playersProgressBar"],Z6e=["planetCounter"];let e3e=(()=>{var t;class e{constructor(){this.navigationLoaderService=K(Cw),this.rankingsLoaderService=K(W6e),this.changeDetection=K(fs),this.cancelScanEmitter=new At,this.controls={galaxies:""},this.loadedPlanet="x.x.x.x",this.planetPercentage=0,this.playersPercentage=0}scanNavigationScreen(){var r=this;return v(function*(){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.navigationLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.system+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.system/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.navigationLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.navigationLoaderService.scanNavigationScreen(r.cancelScanEmitter,i),r.cancelScan()})()}scanRankingsScreens(){var r=this;return v(function*(){r.playersProgressBar.nativeElement.style.width="0%",r.loadedRankings="Loading ranking pages",r.rankingsLoadModal.nativeElement.classList.add("show"),r.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.rankingsCountSubscription=r.rankingsLoaderService.playersRankingsEmitter.subscribe(i=>{switch(i.action){case"load":r.loadedRankings="Loading "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%";break;case"save":r.loadedRankings="Saving "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%"}}),yield r.rankingsLoaderService.scanPlayerRankingsScreens(r.cancelScanEmitter),r.cancelScan()})()}cancelScan(){this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe(),this.rankingsCountSubscription&&this.rankingsCountSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=yr({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(Sl(Y6e,5),Sl(Q6e,5),Sl(X6e,5),Sl(J6e,5),Sl(Z6e,5)),2&r){let s;Ha(s=za())&&(i.planetsLoadModal=s.first),Ha(s=za())&&(i.rankingsLoadModal=s.first),Ha(s=za())&&(i.planetProgressBar=s.first),Ha(s=za())&&(i.playersProgressBar=s.first),Ha(s=za())&&(i.planetCounter=s.first)}},decls:61,vars:6,consts:[[1,"opacBackground","lightBorder","noPadding","seperatorLarge"],[1,"opacDarkBackground","padding"],[1,"noPadding","ofHidden"],["id","admin-load-planets"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","load-planets-example"],[1,"usage-warning"],["id","admin-load-rankings",2,"padding","3px","font-weight","bold"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"rankings-counter"],["playersProgressBar",""]],template:function(r,i){1&r&&(G(0,"div",0)(1,"div",1)(2,"b"),le(3,"DGT Admin Panel"),Q()(),G(4,"div",2)(5,"div",3)(6,"form")(7,"input",4),gt("ngModelChange",function(o){return i.controls.galaxies=o}),Q(),G(8,"button",5),gt("click",function(){return i.scanNavigationScreen()}),le(9,"Scan"),Q()(),G(10,"div",6)(11,"span",7),le(12,"Use this with caution. Universe scan it's a very expensive operation for both DG server and DGT database!"),Q(),G(13,"span",7),le(14,"Usage examples:"),Q(),G(15,"ul")(16,"li"),le(17,"1,2 - G01 and G02"),Q(),G(18,"li"),le(19,"34 - G34"),Q(),G(20,"li"),le(21,"special: 213 - first ring (G02-G13)"),Q(),G(22,"li"),le(23,"special: 1449 - second ring (G14-G49)"),Q(),G(24,"li"),le(25,"special: 149 - everything (G01-G49)"),Q()()()(),G(26,"div",8)(27,"form")(28,"button",5),gt("click",function(){return i.scanRankingsScreens()}),le(29,"Load Rankings"),Q()()()()(),G(30,"div",9,10)(32,"div",11)(33,"div",12)(34,"span",13),le(35),Q(),G(36,"span",14,15),le(38),Q()(),G(39,"div",16)(40,"span",17),le(41),Q(),rt(42,"span",18,19),Q(),G(44,"div",20)(45,"button",21),gt("click",function(){return i.cancelScan()}),le(46,"Cancel"),Q()()()(),G(47,"div",22,23)(49,"div",11)(50,"div",12)(51,"span",24),le(52),Q()(),G(53,"div",16)(54,"span",17),le(55),Q(),rt(56,"span",18,25),Q(),G(58,"div",20)(59,"button",21),gt("click",function(){return i.cancelScan()}),le(60,"Cancel"),Q()()()()),2&r&&(ue(7),Ne("ngModel",i.controls.galaxies),ue(28),at(i.loadedSystem),ue(3),at(i.loadedPlanet),ue(3),qs("",i.planetPercentage,"%"),ue(11),at(i.loadedRankings),ue(3),qs("",i.playersPercentage,"%"))},dependencies:[uw,Fp,Zb,ew,Q2,zp,K6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%], #dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #676767;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#ffffff;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;border-radius:5px;max-width:200px;width:100%;margin:10px auto;height:20px;background:rgb(75,75,75);overflow:hidden}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#576740}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#fff;font-size:15px}.counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-size:14px}span.planet-counter[_ngcontent-%COMP%]{transition:all .1s}#load-planets-example[_ngcontent-%COMP%]{display:table}#load-planets-example[_ngcontent-%COMP%]{font-weight:400!important;background:#576740!important;color:#ffffffad!important;font-size:11px;text-align:left;padding:5px;border-radius:3px}#load-planets-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], #load-planets-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{padding:5px;font-weight:700}"]}),e})(),t3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Bt({type:t,bootstrap:[e3e]}),t.\u0275inj=Pt({imports:[Li,LU,H6e,Js(()=>eo(Un_firebase)),Wo(()=>Ko()),go(()=>_o()),Co(()=>Io(Zs(),{provider:new Wi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Yi=Dte();let ai=window.location.pathname.split(/\//g);Yi.bootstrapModule(h6e).catch(t=>console.error(t)),Yi.bootstrapModule(d6e).catch(t=>console.error(t)),Yi.bootstrapModule(k2e).catch(t=>console.error(t)),Yi.bootstrapModule(D1e).catch(t=>console.error(t)),2===ai.length&&0===ai[1].trim().length&&(Yi.bootstrapModule(m6e).catch(t=>console.error(t)),Yi.bootstrapModule(t3e).catch(t=>console.error(t))),"planets"===ai[1]&&Yi.bootstrapModule(b2e).catch(t=>console.error(t)),"planet"===ai[1]&&"comms"===(5===ai.length&&ai[3])&&Yi.bootstrapModule(D2e).catch(t=>console.error(t)),"navigation"===ai[1]&&6===ai.length&&!isNaN(+ai[2])&&!isNaN(+ai[3])&&!isNaN(+ai[4])&&Yi.bootstrapModule(M2e).catch(t=>console.error(t)),"alliances"===ai[1]&&Yi.bootstrapModule(r6e).catch(t=>console.error(t)),"fleets"===ai[1]&&Yi.bootstrapModule(l6e).catch(t=>console.error(t))},42:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var b=M,U=b.lib.BlockCipher,X=b.algo,N=[],W=[],_=[],w=[],P=[],y=[],D=[],x=[],T=[],A=[];!function(){for(var m=[],C=0;C<256;C++)m[C]=C<128?C<<1:C<<1^283;var L=0,O=0;for(C=0;C<256;C++){var z=O^O<<1^O<<2^O<<3^O<<4;N[L]=z=z>>>8^255&z^99,W[z]=L;var ge,j=m[L],fe=m[j],ce=m[fe];_[L]=(ge=257*m[z]^16843008*z)<<24|ge>>>8,w[L]=ge<<16|ge>>>16,P[L]=ge<<8|ge>>>24,y[L]=ge,D[z]=(ge=16843009*ce^65537*fe^257*j^16843008*L)<<24|ge>>>8,x[z]=ge<<16|ge>>>16,T[z]=ge<<8|ge>>>24,A[z]=ge,L?(L=j^m[m[m[ce^j]]],O^=m[m[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=X.AES=U.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var C=this._keyPriorReset=this._key,L=C.words,O=C.sigBytes/4,j=4*((this._nRounds=O+6)+1),fe=this._keySchedule=[],ce=0;ce<j;ce++)ce<O?fe[ce]=L[ce]:(m=fe[ce-1],ce%O?O>6&&ce%O==4&&(m=N[m>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m]):(m=N[(m=m<<8|m>>>24)>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m],m^=F[ce/O|0]<<24),fe[ce]=fe[ce-O]^m);for(var ge=this._invKeySchedule=[],Ae=0;Ae<j;Ae++){if(ce=j-Ae,Ae%4)var m=fe[ce];else m=fe[ce-4];ge[Ae]=Ae<4||ce<=4?m:D[N[m>>>24]]^x[N[m>>>16&255]]^T[N[m>>>8&255]]^A[N[255&m]]}}},encryptBlock:function(m,C){this._doCryptBlock(m,C,this._keySchedule,_,w,P,y,N)},decryptBlock:function(m,C){var L=m[C+1];m[C+1]=m[C+3],m[C+3]=L,this._doCryptBlock(m,C,this._invKeySchedule,D,x,T,A,W),L=m[C+1],m[C+1]=m[C+3],m[C+3]=L},_doCryptBlock:function(m,C,L,O,z,j,fe,ce){for(var ge=this._nRounds,Ae=m[C]^L[0],Y=m[C+1]^L[1],de=m[C+2]^L[2],ye=m[C+3]^L[3],ae=4,Fe=1;Fe<ge;Fe++){var he=O[Ae>>>24]^z[Y>>>16&255]^j[de>>>8&255]^fe[255&ye]^L[ae++],Ke=O[Y>>>24]^z[de>>>16&255]^j[ye>>>8&255]^fe[255&Ae]^L[ae++],et=O[de>>>24]^z[ye>>>16&255]^j[Ae>>>8&255]^fe[255&Y]^L[ae++],J=O[ye>>>24]^z[Ae>>>16&255]^j[Y>>>8&255]^fe[255&de]^L[ae++];Ae=he,Y=Ke,de=et,ye=J}he=(ce[Ae>>>24]<<24|ce[Y>>>16&255]<<16|ce[de>>>8&255]<<8|ce[255&ye])^L[ae++],Ke=(ce[Y>>>24]<<24|ce[de>>>16&255]<<16|ce[ye>>>8&255]<<8|ce[255&Ae])^L[ae++],et=(ce[de>>>24]<<24|ce[ye>>>16&255]<<16|ce[Ae>>>8&255]<<8|ce[255&Y])^L[ae++],J=(ce[ye>>>24]<<24|ce[Ae>>>16&255]<<16|ce[Y>>>8&255]<<8|ce[255&de])^L[ae++],m[C]=he,m[C+1]=Ke,m[C+2]=et,m[C+3]=J},keySize:8});b.AES=U._createHelper(k)}(),M.AES)},172:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var b=M,U=b.lib.BlockCipher;const N=16,W=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function P(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function y(A,F,k){let L,m=F,C=k;for(let O=0;O<N;++O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[N],m^=A.pbox[N+1],{left:m,right:C}}var T=b.algo.Blowfish=U.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function x(A,F,k){for(let z=0;z<4;z++){A.sbox[z]=[];for(let j=0;j<256;j++)A.sbox[z][j]=_[z][j]}let m=0;for(let z=0;z<N+2;z++)A.pbox[z]=W[z]^F[m],m++,m>=k&&(m=0);let C=0,L=0,O=0;for(let z=0;z<N+2;z+=2)O=y(A,C,L),C=O.left,L=O.right,A.pbox[z]=C,A.pbox[z+1]=L;for(let z=0;z<4;z++)for(let j=0;j<256;j+=2)O=y(A,C,L),C=O.left,L=O.right,A.sbox[z][j]=C,A.sbox[z][j+1]=L;return!0}(w,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=y(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function D(A,F,k){let L,m=F,C=k;for(let O=N+1;O>1;--O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[1],m^=A.pbox[0],{left:m,right:C}}(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});b.Blowfish=U._createHelper(T)}(),M.Blowfish)},270:function(Ee,Ie,V){var $,U,X,N,W,_,P,D,x,A,F,k,C,O,j,fe,ge,Ae,M;Ee.exports=(M=V(12),V(66),void(M.lib.Cipher||($=M,U=$.lib,X=U.Base,N=U.WordArray,W=U.BufferedBlockAlgorithm,_=$.enc,P=_.Base64,D=$.algo.EvpKDF,x=U.Cipher=W.extend({cfg:X.extend(),createEncryptor:function(Y,de){return this.create(this._ENC_XFORM_MODE,Y,de)},createDecryptor:function(Y,de){return this.create(this._DEC_XFORM_MODE,Y,de)},init:function(Y,de,ye){this.cfg=this.cfg.extend(ye),this._xformMode=Y,this._key=de,this.reset()},reset:function(){W.reset.call(this),this._doReset()},process:function(Y){return this._append(Y),this._process()},finalize:function(Y){return Y&&this._append(Y),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Y(de){return"string"==typeof de?Ae:fe}return function(de){return{encrypt:function(ye,ae,Fe){return Y(ae).encrypt(de,ye,ae,Fe)},decrypt:function(ye,ae,Fe){return Y(ae).decrypt(de,ye,ae,Fe)}}}}()}),U.StreamCipher=x.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=$.mode={},F=U.BlockCipherMode=X.extend({createEncryptor:function(Y,de){return this.Encryptor.create(Y,de)},createDecryptor:function(Y,de){return this.Decryptor.create(Y,de)},init:function(Y,de){this._cipher=Y,this._iv=de}}),k=A.CBC=function(){var Y=F.extend();function de(ye,ae,Fe){var he,Ke=this._iv;Ke?(he=Ke,this._iv=undefined):he=this._prevBlock;for(var et=0;et<Fe;et++)ye[ae+et]^=he[et]}return Y.Encryptor=Y.extend({processBlock:function(ye,ae){var Fe=this._cipher,he=Fe.blockSize;de.call(this,ye,ae,he),Fe.encryptBlock(ye,ae),this._prevBlock=ye.slice(ae,ae+he)}}),Y.Decryptor=Y.extend({processBlock:function(ye,ae){var Fe=this._cipher,he=Fe.blockSize,Ke=ye.slice(ae,ae+he);Fe.decryptBlock(ye,ae),de.call(this,ye,ae,he),this._prevBlock=Ke}}),Y}(),C=($.pad={}).Pkcs7={pad:function(Y,de){for(var ye=4*de,ae=ye-Y.sigBytes%ye,Fe=ae<<24|ae<<16|ae<<8|ae,he=[],Ke=0;Ke<ae;Ke+=4)he.push(Fe);var et=N.create(he,ae);Y.concat(et)},unpad:function(Y){Y.sigBytes-=255&Y.words[Y.sigBytes-1>>>2]}},U.BlockCipher=x.extend({cfg:x.cfg.extend({mode:k,padding:C}),reset:function(){var Y;x.reset.call(this);var de=this.cfg,ye=de.iv,ae=de.mode;this._xformMode==this._ENC_XFORM_MODE?Y=ae.createEncryptor:(Y=ae.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Y?this._mode.init(this,ye&&ye.words):(this._mode=Y.call(ae,this,ye&&ye.words),this._mode.__creator=Y)},_doProcessBlock:function(Y,de){this._mode.processBlock(Y,de)},_doFinalize:function(){var Y,de=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(de.pad(this._data,this.blockSize),Y=this._process(!0)):(Y=this._process(!0),de.unpad(Y)),Y},blockSize:4}),O=U.CipherParams=X.extend({init:function(Y){this.mixIn(Y)},toString:function(Y){return(Y||this.formatter).stringify(this)}}),j=($.format={}).OpenSSL={stringify:function(Y){var ye=Y.ciphertext,ae=Y.salt;return(ae?N.create([1398893684,1701076831]).concat(ae).concat(ye):ye).toString(P)},parse:function(Y){var de,ye=P.parse(Y),ae=ye.words;return 1398893684==ae[0]&&1701076831==ae[1]&&(de=N.create(ae.slice(2,4)),ae.splice(0,4),ye.sigBytes-=16),O.create({ciphertext:ye,salt:de})}},fe=U.SerializableCipher=X.extend({cfg:X.extend({format:j}),encrypt:function(Y,de,ye,ae){ae=this.cfg.extend(ae);var Fe=Y.createEncryptor(ye,ae),he=Fe.finalize(de),Ke=Fe.cfg;return O.create({ciphertext:he,key:ye,iv:Ke.iv,algorithm:Y,mode:Ke.mode,padding:Ke.padding,blockSize:Y.blockSize,formatter:ae.format})},decrypt:function(Y,de,ye,ae){return ae=this.cfg.extend(ae),de=this._parse(de,ae.format),Y.createDecryptor(ye,ae).finalize(de.ciphertext)},_parse:function(Y,de){return"string"==typeof Y?de.parse(Y,this):Y}}),ge=($.kdf={}).OpenSSL={execute:function(Y,de,ye,ae,Fe){if(ae||(ae=N.random(8)),Fe)var he=D.create({keySize:de+ye,hasher:Fe}).compute(Y,ae);else he=D.create({keySize:de+ye}).compute(Y,ae);var Ke=N.create(he.words.slice(de),4*ye);return he.sigBytes=4*de,O.create({key:he,iv:Ke,salt:ae})}},Ae=U.PasswordBasedCipher=fe.extend({cfg:fe.cfg.extend({kdf:ge}),encrypt:function(Y,de,ye,ae){var Fe=(ae=this.cfg.extend(ae)).kdf.execute(ye,Y.keySize,Y.ivSize,ae.salt,ae.hasher);ae.iv=Fe.iv;var he=fe.encrypt.call(this,Y,de,Fe.key,ae);return he.mixIn(Fe),he},decrypt:function(Y,de,ye,ae){ae=this.cfg.extend(ae),de=this._parse(de,ae.format);var Fe=ae.kdf.execute(ye,Y.keySize,Y.ivSize,de.salt,ae.hasher);return ae.iv=Fe.iv,fe.decrypt.call(this,Y,de,Fe.key,ae)}}))))},12:function(Ee,Ie,V){var M;Ee.exports=(M=M||function(b,$){var U;if(typeof window<"u"&&window.crypto&&(U=window.crypto),typeof self<"u"&&self.crypto&&(U=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(U=globalThis.crypto),!U&&typeof window<"u"&&window.msCrypto&&(U=window.msCrypto),!U&&typeof global<"u"&&global.crypto&&(U=global.crypto),!U)try{U=V(480)}catch{}var X=function(){if(U){if("function"==typeof U.getRandomValues)try{return U.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof U.randomBytes)try{return U.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function m(){}return function(C){var L;return m.prototype=C,L=new m,m.prototype=null,L}}(),W={},_=W.lib={},w=_.Base={extend:function(m){var C=N(this);return m&&C.mixIn(m),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var C in m)m.hasOwnProperty(C)&&(this[C]=m[C]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},P=_.WordArray=w.extend({init:function(m,C){m=this.words=m||[],this.sigBytes=null!=C?C:4*m.length},toString:function(m){return(m||D).stringify(this)},concat:function(m){var C=this.words,L=m.words,O=this.sigBytes,z=m.sigBytes;if(this.clamp(),O%4)for(var j=0;j<z;j++)C[O+j>>>2]|=(L[j>>>2]>>>24-j%4*8&255)<<24-(O+j)%4*8;else for(var ce=0;ce<z;ce+=4)C[O+ce>>>2]=L[ce>>>2];return this.sigBytes+=z,this},clamp:function(){var m=this.words,C=this.sigBytes;m[C>>>2]&=4294967295<<32-C%4*8,m.length=b.ceil(C/4)},clone:function(){var m=w.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var C=[],L=0;L<m;L+=4)C.push(X());return new P.init(C,m)}}),y=W.enc={},D=y.Hex={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],z=0;z<L;z++){var j=C[z>>>2]>>>24-z%4*8&255;O.push((j>>>4).toString(16)),O.push((15&j).toString(16))}return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O+=2)L[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new P.init(L,C/2)}},x=y.Latin1={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],z=0;z<L;z++)O.push(String.fromCharCode(C[z>>>2]>>>24-z%4*8&255));return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O++)L[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new P.init(L,C)}},T=y.Utf8={stringify:function(m){try{return decodeURIComponent(escape(x.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return x.parse(unescape(encodeURIComponent(m)))}},A=_.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new P.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=T.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var C,L=this._data,O=L.words,z=L.sigBytes,j=this.blockSize,ce=z/(4*j),ge=(ce=m?b.ceil(ce):b.max((0|ce)-this._minBufferSize,0))*j,Ae=b.min(4*ge,z);if(ge){for(var Y=0;Y<ge;Y+=j)this._doProcessBlock(O,Y);C=O.splice(0,ge),L.sigBytes-=Ae}return new P.init(C,Ae)},clone:function(){var m=w.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),k=(_.Hasher=A.extend({cfg:w.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(C,L){return new m.init(L).finalize(C)}},_createHmacHelper:function(m){return function(C,L){return new k.HMAC.init(m,L).finalize(C)}}}),W.algo={});return W}(Math),M)},506:function(Ee,Ie,V){var M,U;Ee.exports=(M=V(12),U=M.lib.WordArray,M.enc.Base64={stringify:function(_){var w=_.words,P=_.sigBytes,y=this._map;_.clamp();for(var D=[],x=0;x<P;x+=3)for(var k=(w[x>>>2]>>>24-x%4*8&255)<<16|(w[x+1>>>2]>>>24-(x+1)%4*8&255)<<8|w[x+2>>>2]>>>24-(x+2)%4*8&255,m=0;m<4&&x+.75*m<P;m++)D.push(y.charAt(k>>>6*(3-m)&63));var C=y.charAt(64);if(C)for(;D.length%4;)D.push(C);return D.join("")},parse:function(_){var w=_.length,P=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var D=0;D<P.length;D++)y[P.charCodeAt(D)]=D}var x=P.charAt(64);if(x){var T=_.indexOf(x);-1!==T&&(w=T)}return function W(_,w,P){for(var y=[],D=0,x=0;x<w;x++)if(x%4){var T=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;y[D>>>2]|=(T|A)<<24-D%4*8,D++}return U.create(y,D)}(_,w,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},M.enc.Base64)},523:function(Ee,Ie,V){var M,U;Ee.exports=(M=V(12),U=M.lib.WordArray,M.enc.Base64url={stringify:function(_,w){void 0===w&&(w=!0);var P=_.words,y=_.sigBytes,D=w?this._safe_map:this._map;_.clamp();for(var x=[],T=0;T<y;T+=3)for(var m=(P[T>>>2]>>>24-T%4*8&255)<<16|(P[T+1>>>2]>>>24-(T+1)%4*8&255)<<8|P[T+2>>>2]>>>24-(T+2)%4*8&255,C=0;C<4&&T+.75*C<y;C++)x.push(D.charAt(m>>>6*(3-C)&63));var L=D.charAt(64);if(L)for(;x.length%4;)x.push(L);return x.join("")},parse:function(_,w){void 0===w&&(w=!0);var P=_.length,y=w?this._safe_map:this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var x=0;x<y.length;x++)D[y.charCodeAt(x)]=x}var T=y.charAt(64);if(T){var A=_.indexOf(T);-1!==A&&(P=A)}return function W(_,w,P){for(var y=[],D=0,x=0;x<w;x++)if(x%4){var T=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;y[D>>>2]|=(T|A)<<24-D%4*8,D++}return U.create(y,D)}(_,P,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},M.enc.Base64url)},454:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),function(){var U=M.lib.WordArray,X=M.enc;function W(_){return _<<8&4278255360|_>>>8&16711935}X.Utf16=X.Utf16BE={stringify:function(_){for(var w=_.words,P=_.sigBytes,y=[],D=0;D<P;D+=2)y.push(String.fromCharCode(w[D>>>2]>>>16-D%4*8&65535));return y.join("")},parse:function(_){for(var w=_.length,P=[],y=0;y<w;y++)P[y>>>1]|=_.charCodeAt(y)<<16-y%2*16;return U.create(P,2*w)}},X.Utf16LE={stringify:function(_){for(var w=_.words,P=_.sigBytes,y=[],D=0;D<P;D+=2){var x=W(w[D>>>2]>>>16-D%4*8&65535);y.push(String.fromCharCode(x))}return y.join("")},parse:function(_){for(var w=_.length,P=[],y=0;y<w;y++)P[y>>>1]|=W(_.charCodeAt(y)<<16-y%2*16);return U.create(P,2*w)}}}(),M.enc.Utf16)},66:function(Ee,Ie,V){var b,$,U,X,N,_,M;Ee.exports=(M=V(12),V(446),V(990),X=($=(b=M).lib).WordArray,_=(N=b.algo).EvpKDF=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,P){for(var y,D=this.cfg,x=D.hasher.create(),T=X.create(),A=T.words,F=D.keySize,k=D.iterations;A.length<F;){y&&x.update(y),y=x.update(w).finalize(P),x.reset();for(var m=1;m<k;m++)y=x.finalize(y),x.reset();T.concat(y)}return T.sigBytes=4*F,T}}),b.EvpKDF=function(w,P,y){return _.create(y).compute(w,P)},M.EvpKDF)},826:function(Ee,Ie,V){var M,X,W;Ee.exports=(M=V(12),V(270),X=M.lib.CipherParams,W=M.enc.Hex,M.format.Hex={stringify:function(P){return P.ciphertext.toString(W)},parse:function(P){var y=W.parse(P);return X.create({ciphertext:y})}},M.format.Hex)},990:function(Ee,Ie,V){var M,N;Ee.exports=(M=V(12),N=M.enc.Utf8,void(M.algo.HMAC=M.lib.Base.extend({init:function(w,P){w=this._hasher=new w.init,"string"==typeof P&&(P=N.parse(P));var y=w.blockSize,D=4*y;P.sigBytes>D&&(P=w.finalize(P)),P.clamp();for(var x=this._oKey=P.clone(),T=this._iKey=P.clone(),A=x.words,F=T.words,k=0;k<y;k++)A[k]^=1549556828,F[k]^=909522486;x.sigBytes=T.sigBytes=D,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var P=this._hasher,y=P.finalize(w);return P.reset(),P.finalize(this._oKey.clone().concat(y))}})))},874:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),M)},37:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),function(){if("function"==typeof ArrayBuffer){var U=M.lib.WordArray,X=U.init,N=U.init=function(W){if(W instanceof ArrayBuffer&&(W=new Uint8Array(W)),(W instanceof Int8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)&&(W=new Uint8Array(W.buffer,W.byteOffset,W.byteLength)),W instanceof Uint8Array){for(var _=W.byteLength,w=[],P=0;P<_;P++)w[P>>>2]|=W[P]<<24-P%4*8;X.call(this,w,_)}else X.apply(this,arguments)};N.prototype=U}}(),M.lib.WordArray)},873:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),function(b){var $=M,U=$.lib,X=U.WordArray,N=U.Hasher,W=$.algo,_=[];!function(){for(var T=0;T<64;T++)_[T]=4294967296*b.abs(b.sin(T+1))|0}();var w=W.MD5=N.extend({_doReset:function(){this._hash=new X.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(T,A){for(var F=0;F<16;F++){var k=A+F,m=T[k];T[k]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var C=this._hash.words,L=T[A+0],O=T[A+1],z=T[A+2],j=T[A+3],fe=T[A+4],ce=T[A+5],ge=T[A+6],Ae=T[A+7],Y=T[A+8],de=T[A+9],ye=T[A+10],ae=T[A+11],Fe=T[A+12],he=T[A+13],Ke=T[A+14],et=T[A+15],J=C[0],oe=C[1],te=C[2],se=C[3];J=P(J,oe,te,se,L,7,_[0]),se=P(se,J,oe,te,O,12,_[1]),te=P(te,se,J,oe,z,17,_[2]),oe=P(oe,te,se,J,j,22,_[3]),J=P(J,oe,te,se,fe,7,_[4]),se=P(se,J,oe,te,ce,12,_[5]),te=P(te,se,J,oe,ge,17,_[6]),oe=P(oe,te,se,J,Ae,22,_[7]),J=P(J,oe,te,se,Y,7,_[8]),se=P(se,J,oe,te,de,12,_[9]),te=P(te,se,J,oe,ye,17,_[10]),oe=P(oe,te,se,J,ae,22,_[11]),J=P(J,oe,te,se,Fe,7,_[12]),se=P(se,J,oe,te,he,12,_[13]),te=P(te,se,J,oe,Ke,17,_[14]),J=y(J,oe=P(oe,te,se,J,et,22,_[15]),te,se,O,5,_[16]),se=y(se,J,oe,te,ge,9,_[17]),te=y(te,se,J,oe,ae,14,_[18]),oe=y(oe,te,se,J,L,20,_[19]),J=y(J,oe,te,se,ce,5,_[20]),se=y(se,J,oe,te,ye,9,_[21]),te=y(te,se,J,oe,et,14,_[22]),oe=y(oe,te,se,J,fe,20,_[23]),J=y(J,oe,te,se,de,5,_[24]),se=y(se,J,oe,te,Ke,9,_[25]),te=y(te,se,J,oe,j,14,_[26]),oe=y(oe,te,se,J,Y,20,_[27]),J=y(J,oe,te,se,he,5,_[28]),se=y(se,J,oe,te,z,9,_[29]),te=y(te,se,J,oe,Ae,14,_[30]),J=D(J,oe=y(oe,te,se,J,Fe,20,_[31]),te,se,ce,4,_[32]),se=D(se,J,oe,te,Y,11,_[33]),te=D(te,se,J,oe,ae,16,_[34]),oe=D(oe,te,se,J,Ke,23,_[35]),J=D(J,oe,te,se,O,4,_[36]),se=D(se,J,oe,te,fe,11,_[37]),te=D(te,se,J,oe,Ae,16,_[38]),oe=D(oe,te,se,J,ye,23,_[39]),J=D(J,oe,te,se,he,4,_[40]),se=D(se,J,oe,te,L,11,_[41]),te=D(te,se,J,oe,j,16,_[42]),oe=D(oe,te,se,J,ge,23,_[43]),J=D(J,oe,te,se,de,4,_[44]),se=D(se,J,oe,te,Fe,11,_[45]),te=D(te,se,J,oe,et,16,_[46]),J=x(J,oe=D(oe,te,se,J,z,23,_[47]),te,se,L,6,_[48]),se=x(se,J,oe,te,Ae,10,_[49]),te=x(te,se,J,oe,Ke,15,_[50]),oe=x(oe,te,se,J,ce,21,_[51]),J=x(J,oe,te,se,Fe,6,_[52]),se=x(se,J,oe,te,j,10,_[53]),te=x(te,se,J,oe,ye,15,_[54]),oe=x(oe,te,se,J,O,21,_[55]),J=x(J,oe,te,se,Y,6,_[56]),se=x(se,J,oe,te,et,10,_[57]),te=x(te,se,J,oe,ge,15,_[58]),oe=x(oe,te,se,J,he,21,_[59]),J=x(J,oe,te,se,fe,6,_[60]),se=x(se,J,oe,te,ae,10,_[61]),te=x(te,se,J,oe,z,15,_[62]),oe=x(oe,te,se,J,de,21,_[63]),C[0]=C[0]+J|0,C[1]=C[1]+oe|0,C[2]=C[2]+te|0,C[3]=C[3]+se|0},_doFinalize:function(){var T=this._data,A=T.words,F=8*this._nDataBytes,k=8*T.sigBytes;A[k>>>5]|=128<<24-k%32;var m=b.floor(F/4294967296),C=F;A[15+(k+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(k+64>>>9<<4)]=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),T.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,z=0;z<4;z++){var j=O[z];O[z]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8)}return L},clone:function(){var T=N.clone.call(this);return T._hash=this._hash.clone(),T}});function P(T,A,F,k,m,C,L){var O=T+(A&F|~A&k)+m+L;return(O<<C|O>>>32-C)+A}function y(T,A,F,k,m,C,L){var O=T+(A&k|F&~k)+m+L;return(O<<C|O>>>32-C)+A}function D(T,A,F,k,m,C,L){var O=T+(A^F^k)+m+L;return(O<<C|O>>>32-C)+A}function x(T,A,F,k,m,C,L){var O=T+(F^(A|~k))+m+L;return(O<<C|O>>>32-C)+A}$.MD5=N._createHelper(w),$.HmacMD5=N._createHmacHelper(w)}(Math),M.MD5)},228:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(270),M.mode.CFB=function(){var b=M.lib.BlockCipherMode.extend();function $(U,X,N,W){var _,w=this._iv;w?(_=w.slice(0),this._iv=void 0):_=this._prevBlock,W.encryptBlock(_,0);for(var P=0;P<N;P++)U[X+P]^=_[P]}return b.Encryptor=b.extend({processBlock:function(U,X){var N=this._cipher,W=N.blockSize;$.call(this,U,X,W,N),this._prevBlock=U.slice(X,X+W)}}),b.Decryptor=b.extend({processBlock:function(U,X){var N=this._cipher,W=N.blockSize,_=U.slice(X,X+W);$.call(this,U,X,W,N),this._prevBlock=_}}),b}(),M.mode.CFB)},584:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(270),M.mode.CTRGladman=function(){var b=M.lib.BlockCipherMode.extend();function $(N){if(255==(N>>24&255)){var W=N>>16&255,_=N>>8&255,w=255&N;255===W?(W=0,255===_?(_=0,255===w?w=0:++w):++_):++W,N=0,N+=W<<16,N+=_<<8,N+=w}else N+=1<<24;return N}var X=b.Encryptor=b.extend({processBlock:function(N,W){var _=this._cipher,w=_.blockSize,P=this._iv,y=this._counter;P&&(y=this._counter=P.slice(0),this._iv=void 0),function U(N){return 0===(N[0]=$(N[0]))&&(N[1]=$(N[1])),N}(y);var D=y.slice(0);_.encryptBlock(D,0);for(var x=0;x<w;x++)N[W+x]^=D[x]}});return b.Decryptor=X,b}(),M.mode.CTRGladman)},392:function(Ee,Ie,V){var b,$,M;Ee.exports=(M=V(12),V(270),M.mode.CTR=($=(b=M.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,X){var N=this._cipher,W=N.blockSize,_=this._iv,w=this._counter;_&&(w=this._counter=_.slice(0),this._iv=void 0);var P=w.slice(0);N.encryptBlock(P,0),w[W-1]=w[W-1]+1|0;for(var y=0;y<W;y++)U[X+y]^=P[y]}}),b.Decryptor=$,b),M.mode.CTR)},594:function(Ee,Ie,V){var b,M;Ee.exports=(M=V(12),V(270),M.mode.ECB=((b=M.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function($,U){this._cipher.encryptBlock($,U)}}),b.Decryptor=b.extend({processBlock:function($,U){this._cipher.decryptBlock($,U)}}),b),M.mode.ECB)},15:function(Ee,Ie,V){var b,$,M;Ee.exports=(M=V(12),V(270),M.mode.OFB=($=(b=M.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,X){var N=this._cipher,W=N.blockSize,_=this._iv,w=this._keystream;_&&(w=this._keystream=_.slice(0),this._iv=void 0),N.encryptBlock(w,0);for(var P=0;P<W;P++)U[X+P]^=w[P]}}),b.Decryptor=$,b),M.mode.OFB)},237:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(270),M.pad.AnsiX923={pad:function(b,$){var U=b.sigBytes,X=4*$,N=X-U%X,W=U+N-1;b.clamp(),b.words[W>>>2]|=N<<24-W%4*8,b.sigBytes+=N},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},M.pad.Ansix923)},501:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(270),M.pad.Iso10126={pad:function(b,$){var U=4*$,X=U-b.sigBytes%U;b.concat(M.lib.WordArray.random(X-1)).concat(M.lib.WordArray.create([X<<24],1))},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},M.pad.Iso10126)},4:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(270),M.pad.Iso97971={pad:function(b,$){b.concat(M.lib.WordArray.create([2147483648],1)),M.pad.ZeroPadding.pad(b,$)},unpad:function(b){M.pad.ZeroPadding.unpad(b),b.sigBytes--}},M.pad.Iso97971)},738:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(270),M.pad.NoPadding={pad:function(){},unpad:function(){}},M.pad.NoPadding)},297:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(270),M.pad.ZeroPadding={pad:function(b,$){var U=4*$;b.clamp(),b.sigBytes+=U-(b.sigBytes%U||U)},unpad:function(b){var $=b.words,U=b.sigBytes-1;for(U=b.sigBytes-1;U>=0;U--)if($[U>>>2]>>>24-U%4*8&255){b.sigBytes=U+1;break}}},M.pad.ZeroPadding)},538:function(Ee,Ie,V){var b,$,U,X,N,_,w,M;Ee.exports=(M=V(12),V(78),V(990),X=($=(b=M).lib).WordArray,_=(N=b.algo).HMAC,w=N.PBKDF2=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(P){this.cfg=this.cfg.extend(P)},compute:function(P,y){for(var D=this.cfg,x=_.create(D.hasher,P),T=X.create(),A=X.create([1]),F=T.words,k=A.words,m=D.keySize,C=D.iterations;F.length<m;){var L=x.update(y).finalize(A);x.reset();for(var O=L.words,z=O.length,j=L,fe=1;fe<C;fe++){j=x.finalize(j),x.reset();for(var ce=j.words,ge=0;ge<z;ge++)O[ge]^=ce[ge]}T.concat(L),k[0]++}return T.sigBytes=4*m,T}}),b.PBKDF2=function(P,y,D){return w.create(D).compute(P,y)},M.PBKDF2)},848:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var b=M,U=b.lib.StreamCipher,N=[],W=[],_=[],w=b.algo.RabbitLegacy=U.extend({_doReset:function(){var y=this._key.words,D=this.cfg.iv,x=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],T=this._C=[y[2]<<16|y[2]>>>16,4294901760&y[0]|65535&y[1],y[3]<<16|y[3]>>>16,4294901760&y[1]|65535&y[2],y[0]<<16|y[0]>>>16,4294901760&y[2]|65535&y[3],y[1]<<16|y[1]>>>16,4294901760&y[3]|65535&y[0]];this._b=0;for(var A=0;A<4;A++)P.call(this);for(A=0;A<8;A++)T[A]^=x[A+4&7];if(D){var F=D.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(T[0]^=C,T[1]^=O,T[2]^=L,T[3]^=z,T[4]^=C,T[5]^=O,T[6]^=L,T[7]^=z,A=0;A<4;A++)P.call(this)}},_doProcessBlock:function(y,D){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var T=0;T<4;T++)N[T]=16711935&(N[T]<<8|N[T]>>>24)|4278255360&(N[T]<<24|N[T]>>>8),y[D+T]^=N[T]},blockSize:4,ivSize:2});function P(){for(var y=this._X,D=this._C,x=0;x<8;x++)W[x]=D[x];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<W[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<W[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<W[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<W[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<W[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<W[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<W[6]>>>0?1:0)|0,this._b=D[7]>>>0<W[7]>>>0?1:0,x=0;x<8;x++){var T=y[x]+D[x],A=65535&T,F=T>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&T)*T|0)+((65535&T)*T|0)}y[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,y[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,y[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,y[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,y[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,y[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,y[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,y[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}b.RabbitLegacy=U._createHelper(w)}(),M.RabbitLegacy)},969:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var b=M,U=b.lib.StreamCipher,N=[],W=[],_=[],w=b.algo.Rabbit=U.extend({_doReset:function(){for(var y=this._key.words,D=this.cfg.iv,x=0;x<4;x++)y[x]=16711935&(y[x]<<8|y[x]>>>24)|4278255360&(y[x]<<24|y[x]>>>8);var T=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],A=this._C=[y[2]<<16|y[2]>>>16,4294901760&y[0]|65535&y[1],y[3]<<16|y[3]>>>16,4294901760&y[1]|65535&y[2],y[0]<<16|y[0]>>>16,4294901760&y[2]|65535&y[3],y[1]<<16|y[1]>>>16,4294901760&y[3]|65535&y[0]];for(this._b=0,x=0;x<4;x++)P.call(this);for(x=0;x<8;x++)A[x]^=T[x+4&7];if(D){var F=D.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(A[0]^=C,A[1]^=O,A[2]^=L,A[3]^=z,A[4]^=C,A[5]^=O,A[6]^=L,A[7]^=z,x=0;x<4;x++)P.call(this)}},_doProcessBlock:function(y,D){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var T=0;T<4;T++)N[T]=16711935&(N[T]<<8|N[T]>>>24)|4278255360&(N[T]<<24|N[T]>>>8),y[D+T]^=N[T]},blockSize:4,ivSize:2});function P(){for(var y=this._X,D=this._C,x=0;x<8;x++)W[x]=D[x];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<W[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<W[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<W[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<W[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<W[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<W[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<W[6]>>>0?1:0)|0,this._b=D[7]>>>0<W[7]>>>0?1:0,x=0;x<8;x++){var T=y[x]+D[x],A=65535&T,F=T>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&T)*T|0)+((65535&T)*T|0)}y[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,y[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,y[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,y[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,y[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,y[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,y[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,y[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}b.Rabbit=U._createHelper(w)}(),M.Rabbit)},195:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var b=M,U=b.lib.StreamCipher,X=b.algo,N=X.RC4=U.extend({_doReset:function(){for(var w=this._key,P=w.words,y=w.sigBytes,D=this._S=[],x=0;x<256;x++)D[x]=x;x=0;for(var T=0;x<256;x++){var A=x%y,k=D[x];D[x]=D[T=(T+D[x]+(P[A>>>2]>>>24-A%4*8&255))%256],D[T]=k}this._i=this._j=0},_doProcessBlock:function(w,P){w[P]^=W.call(this)},keySize:8,ivSize:0});function W(){for(var w=this._S,P=this._i,y=this._j,D=0,x=0;x<4;x++){var T=w[P=(P+1)%256];w[P]=w[y=(y+w[P])%256],w[y]=T,D|=w[(w[P]+w[y])%256]<<24-8*x}return this._i=P,this._j=y,D}b.RC4=U._createHelper(N);var _=X.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)W.call(this)}});b.RC4Drop=U._createHelper(_)}(),M.RC4)},558:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),function(b){var $=M,U=$.lib,X=U.WordArray,N=U.Hasher,W=$.algo,_=X.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=X.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),P=X.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=X.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=X.create([0,1518500249,1859775393,2400959708,2840853838]),x=X.create([1352829926,1548603684,1836072691,2053994217,0]),T=W.RIPEMD160=N.extend({_doReset:function(){this._hash=X.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,z){for(var j=0;j<16;j++){var fe=z+j,ce=O[fe];O[fe]=16711935&(ce<<8|ce>>>24)|4278255360&(ce<<24|ce>>>8)}var he,Ke,et,J,oe,te,se,Tt,Le,tt,Ze,ge=this._hash.words,Ae=D.words,Y=x.words,de=_.words,ye=w.words,ae=P.words,Fe=y.words;for(te=he=ge[0],se=Ke=ge[1],Tt=et=ge[2],Le=J=ge[3],tt=oe=ge[4],j=0;j<80;j+=1)Ze=he+O[z+de[j]]|0,Ze+=j<16?A(Ke,et,J)+Ae[0]:j<32?F(Ke,et,J)+Ae[1]:j<48?k(Ke,et,J)+Ae[2]:j<64?m(Ke,et,J)+Ae[3]:C(Ke,et,J)+Ae[4],Ze=(Ze=L(Ze|=0,ae[j]))+oe|0,he=oe,oe=J,J=L(et,10),et=Ke,Ke=Ze,Ze=te+O[z+ye[j]]|0,Ze+=j<16?C(se,Tt,Le)+Y[0]:j<32?m(se,Tt,Le)+Y[1]:j<48?k(se,Tt,Le)+Y[2]:j<64?F(se,Tt,Le)+Y[3]:A(se,Tt,Le)+Y[4],Ze=(Ze=L(Ze|=0,Fe[j]))+tt|0,te=tt,tt=Le,Le=L(Tt,10),Tt=se,se=Ze;Ze=ge[1]+et+Le|0,ge[1]=ge[2]+J+tt|0,ge[2]=ge[3]+oe+te|0,ge[3]=ge[4]+he+se|0,ge[4]=ge[0]+Ke+Tt|0,ge[0]=Ze},_doFinalize:function(){var O=this._data,z=O.words,j=8*this._nDataBytes,fe=8*O.sigBytes;z[fe>>>5]|=128<<24-fe%32,z[14+(fe+64>>>9<<4)]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8),O.sigBytes=4*(z.length+1),this._process();for(var ce=this._hash,ge=ce.words,Ae=0;Ae<5;Ae++){var Y=ge[Ae];ge[Ae]=16711935&(Y<<8|Y>>>24)|4278255360&(Y<<24|Y>>>8)}return ce},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,z,j){return O^z^j}function F(O,z,j){return O&z|~O&j}function k(O,z,j){return(O|~z)^j}function m(O,z,j){return O&j|z&~j}function C(O,z,j){return O^(z|~j)}function L(O,z){return O<<z|O>>>32-z}$.RIPEMD160=N._createHelper(T),$.HmacRIPEMD160=N._createHmacHelper(T)}(Math),M.RIPEMD160)},446:function(Ee,Ie,V){var b,$,U,X,W,_,M;Ee.exports=(M=V(12),U=($=(b=M).lib).WordArray,W=[],_=b.algo.SHA1=(X=$.Hasher).extend({_doReset:function(){this._hash=new U.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,P){for(var y=this._hash.words,D=y[0],x=y[1],T=y[2],A=y[3],F=y[4],k=0;k<80;k++){if(k<16)W[k]=0|w[P+k];else{var m=W[k-3]^W[k-8]^W[k-14]^W[k-16];W[k]=m<<1|m>>>31}var C=(D<<5|D>>>27)+F+W[k];C+=k<20?1518500249+(x&T|~x&A):k<40?1859775393+(x^T^A):k<60?(x&T|x&A|T&A)-1894007588:(x^T^A)-899497514,F=A,A=T,T=x<<30|x>>>2,x=D,D=C}y[0]=y[0]+D|0,y[1]=y[1]+x|0,y[2]=y[2]+T|0,y[3]=y[3]+A|0,y[4]=y[4]+F|0},_doFinalize:function(){var w=this._data,P=w.words,y=8*this._nDataBytes,D=8*w.sigBytes;return P[D>>>5]|=128<<24-D%32,P[14+(D+64>>>9<<4)]=Math.floor(y/4294967296),P[15+(D+64>>>9<<4)]=y,w.sigBytes=4*P.length,this._process(),this._hash},clone:function(){var w=X.clone.call(this);return w._hash=this._hash.clone(),w}}),b.SHA1=X._createHelper(_),b.HmacSHA1=X._createHmacHelper(_),M.SHA1)},811:function(Ee,Ie,V){var b,U,X,N,W,M;Ee.exports=(M=V(12),V(78),U=(b=M).lib.WordArray,W=(X=b.algo).SHA224=(N=X.SHA256).extend({_doReset:function(){this._hash=new U.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _=N._doFinalize.call(this);return _.sigBytes-=4,_}}),b.SHA224=N._createHelper(W),b.HmacSHA224=N._createHmacHelper(W),M.SHA224)},78:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),function(b){var $=M,U=$.lib,X=U.WordArray,N=U.Hasher,W=$.algo,_=[],w=[];!function(){function D(F){for(var k=b.sqrt(F),m=2;m<=k;m++)if(!(F%m))return!1;return!0}function x(F){return 4294967296*(F-(0|F))|0}for(var T=2,A=0;A<64;)D(T)&&(A<8&&(_[A]=x(b.pow(T,.5))),w[A]=x(b.pow(T,1/3)),A++),T++}();var P=[],y=W.SHA256=N.extend({_doReset:function(){this._hash=new X.init(_.slice(0))},_doProcessBlock:function(D,x){for(var T=this._hash.words,A=T[0],F=T[1],k=T[2],m=T[3],C=T[4],L=T[5],O=T[6],z=T[7],j=0;j<64;j++){if(j<16)P[j]=0|D[x+j];else{var fe=P[j-15],ge=P[j-2];P[j]=((fe<<25|fe>>>7)^(fe<<14|fe>>>18)^fe>>>3)+P[j-7]+((ge<<15|ge>>>17)^(ge<<13|ge>>>19)^ge>>>10)+P[j-16]}var de=A&F^A&k^F&k,Fe=z+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&L^~C&O)+w[j]+P[j];z=O,O=L,L=C,C=m+Fe|0,m=k,k=F,F=A,A=Fe+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+de)|0}T[0]=T[0]+A|0,T[1]=T[1]+F|0,T[2]=T[2]+k|0,T[3]=T[3]+m|0,T[4]=T[4]+C|0,T[5]=T[5]+L|0,T[6]=T[6]+O|0,T[7]=T[7]+z|0},_doFinalize:function(){var D=this._data,x=D.words,T=8*this._nDataBytes,A=8*D.sigBytes;return x[A>>>5]|=128<<24-A%32,x[14+(A+64>>>9<<4)]=b.floor(T/4294967296),x[15+(A+64>>>9<<4)]=T,D.sigBytes=4*x.length,this._process(),this._hash},clone:function(){var D=N.clone.call(this);return D._hash=this._hash.clone(),D}});$.SHA256=N._createHelper(y),$.HmacSHA256=N._createHmacHelper(y)}(Math),M.SHA256)},545:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(802),function(b){var $=M,U=$.lib,X=U.WordArray,N=U.Hasher,_=$.x64.Word,w=$.algo,P=[],y=[],D=[];!function(){for(var A=1,F=0,k=0;k<24;k++){P[A+5*F]=(k+1)*(k+2)/2%64;var C=(2*A+3*F)%5;A=F%5,F=C}for(A=0;A<5;A++)for(F=0;F<5;F++)y[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var z=0,j=0,fe=0;fe<7;fe++){if(1&L){var ce=(1<<fe)-1;ce<32?j^=1<<ce:z^=1<<ce-32}128&L?L=L<<1^113:L<<=1}D[O]=_.create(z,j)}}();var x=[];!function(){for(var A=0;A<25;A++)x[A]=_.create()}();var T=w.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new _.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,m=this.blockSize/2,C=0;C<m;C++){var L=A[F+2*C],O=A[F+2*C+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(z=k[C]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),z.low^=L}for(var j=0;j<24;j++){for(var fe=0;fe<5;fe++){for(var ce=0,ge=0,Ae=0;Ae<5;Ae++)ce^=(z=k[fe+5*Ae]).high,ge^=z.low;var Y=x[fe];Y.high=ce,Y.low=ge}for(fe=0;fe<5;fe++){var de=x[(fe+4)%5],ye=x[(fe+1)%5],ae=ye.high,Fe=ye.low;for(ce=de.high^(ae<<1|Fe>>>31),ge=de.low^(Fe<<1|ae>>>31),Ae=0;Ae<5;Ae++)(z=k[fe+5*Ae]).high^=ce,z.low^=ge}for(var he=1;he<25;he++){var Ke=(z=k[he]).high,et=z.low,J=P[he];J<32?(ce=Ke<<J|et>>>32-J,ge=et<<J|Ke>>>32-J):(ce=et<<J-32|Ke>>>64-J,ge=Ke<<J-32|et>>>64-J);var oe=x[y[he]];oe.high=ce,oe.low=ge}var te=x[0],se=k[0];for(te.high=se.high,te.low=se.low,fe=0;fe<5;fe++)for(Ae=0;Ae<5;Ae++){var Tt=x[he=fe+5*Ae],Le=x[(fe+1)%5+5*Ae],tt=x[(fe+2)%5+5*Ae];(z=k[he]).high=Tt.high^~Le.high&tt.high,z.low=Tt.low^~Le.low&tt.low}var z,Ze=D[j];(z=k[0]).high^=Ze.high,z.low^=Ze.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,C=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(b.ceil((m+1)/C)*C>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,z=O/8,j=[],fe=0;fe<z;fe++){var ce=L[fe],ge=ce.high,Ae=ce.low;ge=16711935&(ge<<8|ge>>>24)|4278255360&(ge<<24|ge>>>8),j.push(Ae=16711935&(Ae<<8|Ae>>>24)|4278255360&(Ae<<24|Ae>>>8)),j.push(ge)}return new X.init(j,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});$.SHA3=N._createHelper(T),$.HmacSHA3=N._createHmacHelper(T)}(Math),M.SHA3)},913:function(Ee,Ie,V){var b,$,U,X,N,W,_,M;Ee.exports=(M=V(12),V(802),V(870),U=($=(b=M).x64).Word,X=$.WordArray,_=(N=b.algo).SHA384=(W=N.SHA512).extend({_doReset:function(){this._hash=new X.init([new U.init(3418070365,3238371032),new U.init(1654270250,914150663),new U.init(2438529370,812702999),new U.init(355462360,4144912697),new U.init(1731405415,4290775857),new U.init(2394180231,1750603025),new U.init(3675008525,1694076839),new U.init(1203062813,3204075428)])},_doFinalize:function(){var w=W._doFinalize.call(this);return w.sigBytes-=16,w}}),b.SHA384=W._createHelper(_),b.HmacSHA384=W._createHmacHelper(_),M.SHA384)},870:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(802),function(){var b=M,U=b.lib.Hasher,X=b.x64,N=X.Word,W=X.WordArray,_=b.algo;function w(){return N.create.apply(N,arguments)}var P=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],y=[];!function(){for(var x=0;x<80;x++)y[x]=w()}();var D=_.SHA512=U.extend({_doReset:function(){this._hash=new W.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(x,T){for(var A=this._hash.words,F=A[0],k=A[1],m=A[2],C=A[3],L=A[4],O=A[5],z=A[6],j=A[7],fe=F.high,ce=F.low,ge=k.high,Ae=k.low,Y=m.high,de=m.low,ye=C.high,ae=C.low,Fe=L.high,he=L.low,Ke=O.high,et=O.low,J=z.high,oe=z.low,te=j.high,se=j.low,Tt=fe,Le=ce,tt=ge,Ze=Ae,Qe=Y,Qi=de,ad=ye,ks=ae,ir=Fe,An=he,Xi=Ke,kc=et,cd=J,Nc=oe,Gp=te,wa=se,kr=0;kr<80;kr++){var Nr,ci,Oc=y[kr];if(kr<16)ci=Oc.high=0|x[T+2*kr],Nr=Oc.low=0|x[T+2*kr+1];else{var Fc=y[kr-15],Ns=Fc.high,Aa=Fc.low,qp=(Aa>>>1|Ns<<31)^(Aa>>>8|Ns<<24)^(Aa>>>7|Ns<<25),Ai=y[kr-2],Os=Ai.high,Da=Ai.low,Kp=(Da>>>19|Os<<13)^(Da<<3|Os>>>29)^(Da>>>6|Os<<26),Yp=y[kr-7],Qp=y[kr-16],Xp=Qp.low;Oc.high=ci=(ci=(ci=((Ns>>>1|Aa<<31)^(Ns>>>8|Aa<<24)^Ns>>>7)+Yp.high+((Nr=qp+Yp.low)>>>0<qp>>>0?1:0))+((Os>>>19|Da<<13)^(Os<<3|Da>>>29)^Os>>>6)+((Nr+=Kp)>>>0<Kp>>>0?1:0))+Qp.high+((Nr+=Xp)>>>0<Xp>>>0?1:0),Oc.low=Nr}var sr,a_=ir&Xi^~ir&cd,Jp=An&kc^~An&Nc,c_=Tt&tt^Tt&Qe^tt&Qe,ld=(Le>>>28|Tt<<4)^(Le<<30|Tt>>>2)^(Le<<25|Tt>>>7),ud=P[kr],dd=ud.low,Di=Gp+((ir>>>14|An<<18)^(ir>>>18|An<<14)^(ir<<23|An>>>9))+((sr=wa+((An>>>14|ir<<18)^(An>>>18|ir<<14)^(An<<23|ir>>>9)))>>>0<wa>>>0?1:0),fd=ld+(Le&Ze^Le&Qi^Ze&Qi);Gp=cd,wa=Nc,cd=Xi,Nc=kc,Xi=ir,kc=An,ir=ad+(Di=(Di=(Di=Di+a_+((sr+=Jp)>>>0<Jp>>>0?1:0))+ud.high+((sr+=dd)>>>0<dd>>>0?1:0))+ci+((sr+=Nr)>>>0<Nr>>>0?1:0))+((An=ks+sr|0)>>>0<ks>>>0?1:0)|0,ad=Qe,ks=Qi,Qe=tt,Qi=Ze,tt=Tt,Ze=Le,Tt=Di+(((Tt>>>28|Le<<4)^(Tt<<30|Le>>>2)^(Tt<<25|Le>>>7))+c_+(fd>>>0<ld>>>0?1:0))+((Le=sr+fd|0)>>>0<sr>>>0?1:0)|0}ce=F.low=ce+Le,F.high=fe+Tt+(ce>>>0<Le>>>0?1:0),Ae=k.low=Ae+Ze,k.high=ge+tt+(Ae>>>0<Ze>>>0?1:0),de=m.low=de+Qi,m.high=Y+Qe+(de>>>0<Qi>>>0?1:0),ae=C.low=ae+ks,C.high=ye+ad+(ae>>>0<ks>>>0?1:0),he=L.low=he+An,L.high=Fe+ir+(he>>>0<An>>>0?1:0),et=O.low=et+kc,O.high=Ke+Xi+(et>>>0<kc>>>0?1:0),oe=z.low=oe+Nc,z.high=J+cd+(oe>>>0<Nc>>>0?1:0),se=j.low=se+wa,j.high=te+Gp+(se>>>0<wa>>>0?1:0)},_doFinalize:function(){var x=this._data,T=x.words,A=8*this._nDataBytes,F=8*x.sigBytes;return T[F>>>5]|=128<<24-F%32,T[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),T[31+(F+128>>>10<<5)]=A,x.sigBytes=4*T.length,this._process(),this._hash.toX32()},clone:function(){var x=U.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:32});b.SHA512=U._createHelper(D),b.HmacSHA512=U._createHmacHelper(D)}(),M.SHA512)},769:function(Ee,Ie,V){var M;Ee.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var b=M,$=b.lib,U=$.WordArray,X=$.BlockCipher,N=b.algo,W=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=N.DES=X.extend({_doReset:function(){for(var k=this._key.words,m=[],C=0;C<56;C++){var L=W[C]-1;m[C]=k[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],z=0;z<16;z++){var j=O[z]=[],fe=w[z];for(C=0;C<24;C++)j[C/6|0]|=m[(_[C]-1+fe)%28]<<31-C%6,j[4+(C/6|0)]|=m[28+(_[C+24]-1+fe)%28]<<31-C%6;for(j[0]=j[0]<<1|j[0]>>>31,C=1;C<7;C++)j[C]=j[C]>>>4*(C-1)+3;j[7]=j[7]<<5|j[7]>>>27}var ce=this._invSubKeys=[];for(C=0;C<16;C++)ce[C]=O[15-C]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,m){this._lBlock=F[k],this._rBlock=F[k+1],x.call(this,4,252645135),x.call(this,16,65535),T.call(this,2,858993459),T.call(this,8,16711935),x.call(this,1,1431655765);for(var C=0;C<16;C++){for(var L=m[C],O=this._lBlock,z=this._rBlock,j=0,fe=0;fe<8;fe++)j|=P[fe][((z^L[fe])&y[fe])>>>0];this._lBlock=z,this._rBlock=O^j}var ce=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ce,x.call(this,1,1431655765),T.call(this,8,16711935),T.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function x(F,k){var m=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=m,this._lBlock^=m<<F}function T(F,k){var m=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=m,this._rBlock^=m<<F}b.DES=X._createHelper(D);var A=N.TripleDES=X.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=k.slice(0,2),C=k.length<4?k.slice(0,2):k.slice(2,4),L=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=D.createEncryptor(U.create(m)),this._des2=D.createEncryptor(U.create(C)),this._des3=D.createEncryptor(U.create(L))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});b.TripleDES=X._createHelper(A)}(),M.TripleDES)},802:function(Ee,Ie,V){var U,X,N,W,M;Ee.exports=(M=V(12),X=(U=M.lib).Base,N=U.WordArray,(W=M.x64={}).Word=X.extend({init:function(P,y){this.high=P,this.low=y}}),W.WordArray=X.extend({init:function(P,y){P=this.words=P||[],this.sigBytes=null!=y?y:8*P.length},toX32:function(){for(var P=this.words,y=P.length,D=[],x=0;x<y;x++){var T=P[x];D.push(T.high),D.push(T.low)}return N.create(D,this.sigBytes)},clone:function(){for(var P=X.clone.call(this),y=P.words=this.words.slice(0),D=y.length,x=0;x<D;x++)y[x]=y[x].clone();return P}}),M)},480:()=>{}},Ee=>{Ee(Ee.s=833)}]);