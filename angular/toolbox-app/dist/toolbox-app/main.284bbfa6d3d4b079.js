(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{124:(ye,xe,V)=>{"use strict";function M(t){return"function"==typeof t}function I(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const G=I(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class J{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(M(r))try{r()}catch(s){e=s instanceof G?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{v(s)}catch(o){e=e??[],o instanceof G?e=[...e,...o.errors]:e.push(o)}}if(e)throw new G(e)}}add(e){var n;if(e&&e!==this)if(this.closed)v(e);else{if(e instanceof J){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&U(n,e)}remove(e){const{_finalizers:n}=this;n&&U(n,e),e instanceof J&&e._removeParent(this)}}J.EMPTY=(()=>{const t=new J;return t.closed=!0,t})();const N=J.EMPTY;function W(t){return t instanceof J||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function v(t){M(t)?t():t.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(t,e,...n){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=P;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){P.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw t;e(t)})}function D(){}const C=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function m(t){if(w.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class L extends J{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,W(e)&&e.add(this)):this.destination=X}static create(e,n,r){return new de(e,n,r)}next(e){this.isStopped?we(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?we(function S(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?we(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function H(t,e){return O.call(t,e)}class ${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){le(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){le(r)}else le(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){le(n)}}}class de extends L{constructor(e,n,r){let i;if(super(),M(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&H(e.next,s),error:e.error&&H(e.error,s),complete:e.complete&&H(e.complete,s)}):i=e}this.destination=new $(i)}}function le(t){w.useDeprecatedSynchronousErrorHandling?function x(t){w.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):E(t)}function we(t,e){const{onStoppedNotification:n}=w;n&&P.setTimeout(()=>n(t,e))}const X={closed:!0,next:D,error:function pe(t){throw t},complete:D},ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(t){return t}function Ne(t){return 0===t.length?ve:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Z(t){return t&&t instanceof L||function et(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}(t)&&W(t)}(n)?n:new de(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qe(r))((i,s)=>{const o=new de({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ue](){return this}pipe(...n){return Ne(n)(this)}toPromise(n){return new(n=qe(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qe(t){var e;return null!==(e=t??w.Promise)&&void 0!==e?e:Promise}const ae=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new oe(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ae}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new J(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new fe;return n.source=this,n}}return t.create=(e,n)=>new oe(e,n),t})();class oe extends ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function St(t){return M(t?.lift)}function Fe(t){return e=>{if(St(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(t,e,n,r,i){return new Je(t,e,n,r,i)}class Je extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ye(t,e){return Fe((n,r)=>{let i=0;n.subscribe(tt(r,s=>{r.next(t.call(e,s,i++))}))})}function rr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function un(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function di(t,e){return function(n,r){e(n,r,t)}}function Si(t){return this instanceof Si?(this.v=t,this):new Si(t)}function zp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function kc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Wp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function od(t){return M(t?.then)}function Kp(t){return M(t[ue])}function Yp(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function ad(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cd=function o_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ir(t){return M(t?.[cd])}function Mi(t){return function Os(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Si?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Si(n.read());if(i)return yield Si(void 0);yield yield Si(r)}}finally{n.releaseLock()}})}function ld(t){return M(t?.getReader)}function sr(t){if(t instanceof fe)return t;if(null!=t){if(Kp(t))return function ej(t){return new fe(e=>{const n=t[ue]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Wp(t))return function tj(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(od(t))return function nj(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(Yp(t))return vw(t);if(ir(t))return function rj(t){return new fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ld(t))return function ij(t){return vw(Mi(t))}(t)}throw ad(t)}function vw(t){return new fe(e=>{(function sj(t,e){var n,r,i,s;return function Pr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=zp(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Fs(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Un(t,e,n=1/0){return M(e)?Un((r,i)=>Ye((s,o)=>e(r,s,i,o))(sr(t(r,i))),n):("number"==typeof e&&(n=e),Fe((r,i)=>function oj(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let y=!1;sr(n(g,u++)).subscribe(tt(e,T=>{i?.(T),s?h(T):e.next(T)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const T=c.shift();o?Fs(e,o,()=>p(T)):p(T)}f()}catch(T){e.error(T)}}))};return t.subscribe(tt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function Qp(t=1/0){return Un(ve,t)}const Zi=new fe(t=>t.complete());function a_(t){return t[t.length-1]}function yw(t){return M(a_(t))?t.pop():void 0}function ud(t){return function cj(t){return t&&M(t.schedule)}(a_(t))?t.pop():void 0}function Xp(t,e=0){return Fe((n,r)=>{n.subscribe(tt(r,i=>Fs(r,t,()=>r.next(i),e),()=>Fs(r,t,()=>r.complete(),e),i=>Fs(r,t,()=>r.error(i),e)))})}function Jp(t,e=0){return Fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ew(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{Fs(n,e,()=>{const r=t[Symbol.asyncIterator]();Fs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function jn(t,e){return e?function gj(t,e){if(null!=t){if(Kp(t))return function uj(t,e){return sr(t).pipe(Jp(e),Xp(e))}(t,e);if(Wp(t))return function fj(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(od(t))return function dj(t,e){return sr(t).pipe(Jp(e),Xp(e))}(t,e);if(Yp(t))return Ew(t,e);if(ir(t))return function hj(t,e){return new fe(n=>{let r;return Fs(n,e,()=>{r=t[cd](),Fs(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}(t,e);if(ld(t))return function pj(t,e){return Ew(Mi(t),e)}(t,e)}throw ad(t)}(t,e):sr(t)}class hi extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Ve(...t){return jn(t,ud(t))}function Cw(t={}){const{connector:e=(()=>new ne),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Fe((g,y)=>{l++,!d&&!u&&f();const T=c=c??e();y.add(()=>{l--,0===l&&!d&&!u&&(a=c_(p,i))}),T.subscribe(y),!o&&l>0&&(o=new de({next:b=>T.next(b),error:b=>{d=!0,f(),a=c_(h,n,b),T.error(b)},complete:()=>{u=!0,f(),a=c_(h,r),T.complete()}}),sr(g).subscribe(o))})(s)}}function c_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new de({next:()=>{r.unsubscribe(),t()}});return sr(e(...n)).subscribe(r)}function pi(t,e){return Fe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(tt(r,c=>{i?.unsubscribe();let l=0;const u=s++;sr(t(c,u)).subscribe(i=tt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function xw(t,e=ve){return t=t??_j,Fe((n,r)=>{let i,s=!0;n.subscribe(tt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function _j(t,e){return t===e}function Et(t){for(let e in t)if(t[e]===Et)return e;throw Error("Could not find renamed property on target object.")}function Zp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function l_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const vj=Et({__forward_ref__:Et});function Pt(t){return t.__forward_ref__=Pt,t.toString=function(){return wn(this())},t}function He(t){return u_(t)?t():t}function u_(t){return"function"==typeof t&&t.hasOwnProperty(vj)&&t.__forward_ref__===Pt}function d_(t){return t&&!!t.\u0275providers}const Iw="https://g.co/ng/security#xss";class re extends Error{constructor(e,n){super(function e0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function f_(t,e){throw new re(-201,!1)}function gi(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function t0(t){return bw(t,r0)||bw(t,ww)}function bw(t,e){return t.hasOwnProperty(e)?t[e]:null}function n0(t){return t&&(t.hasOwnProperty(h_)||t.hasOwnProperty(Aj))?t[h_]:null}const r0=Et({\u0275prov:Et}),h_=Et({\u0275inj:Et}),ww=Et({ngInjectableDef:Et}),Aj=Et({ngInjectorDef:Et});var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ot||{});let p_;function kr(t){const e=p_;return p_=t,e}function Tw(t,e,n){const r=t0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ot.Optional?null:void 0!==e?e:void f_(wn(t))}const Rt=globalThis;class Ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const dd={},y_="__NG_DI_FLAG__",s0="ngTempTokenPath",Sj=/\n/gm,Sw="__source";let Nc;function wo(t){const e=Nc;return Nc=t,e}function Rj(t,e=ot.Default){if(void 0===Nc)throw new re(-203,!1);return null===Nc?Tw(t,void 0,e):Nc.get(t,e&ot.Optional?null:void 0,e)}function Se(t,e=ot.Default){return(function Aw(){return p_}()||Rj)(He(t),e)}function K(t,e=ot.Default){return Se(t,o0(e))}function o0(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function E_(t){const e=[];for(let n=0;n<t.length;n++){const r=He(t[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=ot.Default;for(let o=0;o<r.length;o++){const a=r[o],c=kj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Se(i,s))}else e.push(Se(r))}return e}function fd(t,e){return t[y_]=e,t.prototype[y_]=e,t}function kj(t){return t[y_]}function Vs(t){return{toString:t}.toString()}var a0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(a0||{}),Pi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pi||{});const es={},gt=[],c0=Et({\u0275cmp:Et}),C_=Et({\u0275dir:Et}),x_=Et({\u0275pipe:Et}),Pw=Et({\u0275mod:Et}),Ls=Et({\u0275fac:Et}),hd=Et({__NG_ELEMENT_ID__:Et}),Rw=Et({__NG_ENV_ID__:Et});function kw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function I_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Ow(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Nw(t){return 3===t||4===t||6===t}function Ow(t){return 64===t.charCodeAt(0)}function pd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Fw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Fw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Vw="ng-template";function Fj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==kw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Lw(t){return 4===t.type&&t.value!==Vw}function Vj(t,e,n){return e===(4!==t.type||n?t.value:Vw)}function Lj(t,e,n){let r=4;const i=t.attrs||[],s=function zj(t){for(let e=0;e<t.length;e++)if(Nw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Vj(t,c,n)||""===c&&1===e.length){if(Ri(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Fj(t.attrs,l,n)){if(Ri(r))return!1;o=!0}continue}const d=Bj(8&r?"class":c,i,Lw(t),n);if(-1===d){if(Ri(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==kw(h,l,0)||2&r&&l!==f){if(Ri(r))return!1;o=!0}}}}else{if(!o&&!Ri(r)&&!Ri(c))return!1;if(o&&Ri(c))continue;o=!1,r=c|1&r}}return Ri(r)||o}function Ri(t){return 0==(1&t)}function Bj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Uj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Bw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Lj(t,e[r],n))return!0;return!1}function jj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Hw(t,e){return t?":not("+e.trim()+")":e}function $j(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ri(o)&&(e+=Hw(s,i),i=""),r=o,s=s||!Ri(r);n++}return""!==i&&(e+=Hw(s,i)),e}function kn(t){return Vs(()=>{const e=Uw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===a0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pi.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""};jw(n);const r=t.dependencies;return n.directiveDefs=l0(r,!1),n.pipeDefs=l0(r,!0),n.id=function Jj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Kj(t){return ct(t)||Gn(t)}function Yj(t){return null!==t}function At(t){return Vs(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zw(t,e){if(null==t)return es;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Oe(t){return Vs(()=>{const e=Uw(t);return jw(e),e})}function $n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[c0]||null}function Gn(t){return t[C_]||null}function _r(t){return t[x_]||null}function Yr(t,e){const n=t[Pw]||null;if(!n&&!0===e)throw new Error(`Type ${wn(t)} does not have '\u0275mod' property.`);return n}function Uw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||es,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zw(t.inputs,e),outputs:zw(t.outputs)}}function jw(t){t.features?.forEach(e=>e(t))}function l0(t,e){if(!t)return null;const n=e?_r:Kj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Yj)}const en=0,be=1,We=2,jt=3,ki=4,gd=5,or=6,Fc=7,dn=8,Ao=9,Vc=10,je=11,md=12,$w=13,Lc=14,fn=15,_d=16,Bc=17,ts=18,vd=19,Gw=20,To=21,Bs=22,yd=23,Ed=24,nt=25,b_=1,qw=2,ns=7,Hc=9,qn=11;function Nr(t){return Array.isArray(t)&&"object"==typeof t[b_]}function vr(t){return Array.isArray(t)&&!0===t[b_]}function w_(t){return 0!=(4&t.flags)}function Ia(t){return t.componentOffset>-1}function d0(t){return 1==(1&t.flags)}function Ni(t){return!!t.template}function A_(t){return 0!=(512&t[We])}function ba(t,e){return t.hasOwnProperty(Ls)?t[Ls]:null}let Wn=null,f0=!1;function mi(t){const e=Wn;return Wn=t,e}const Yw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Xw(t){if(!xd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!eA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Zw(t){t.dirty=!0,function Jw(t){if(void 0===t.liveConsumerNode)return;const e=f0;f0=!0;try{for(const n of t.liveConsumerNode)n.dirty||Zw(n)}finally{f0=e}}(t),t.consumerMarkedDirty?.(t)}function D_(t){return t&&(t.nextProducerIndex=0),mi(t)}function S_(t,e){if(mi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(xd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)h0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function eA(t){zc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Xw(n),r!==n.version))return!0}return!1}function tA(t){if(zc(t),xd(t))for(let e=0;e<t.producerNode.length;e++)h0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function h0(t,e){if(function rA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),zc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)h0(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];zc(i),i.producerIndexOfThis[r]=e}}function xd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let iA=null;function aA(t){const e=mi(null);try{return t()}finally{mi(e)}}const cA=()=>{},d$=(()=>({...Yw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:cA}))();class f${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yr(){return lA}function lA(t){return t.type.prototype.ngOnChanges&&(t.setInput=p$),h$}function h$(){const t=dA(this),e=t?.current;if(e){const n=t.previous;if(n===es)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function p$(t,e,n,r){const i=this.declaredInputs[n],s=dA(t)||function g$(t,e){return t[uA]=e}(t,{previous:es,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new f$(c&&c.currentValue,e,a===es),t[r]=e}yr.ngInherit=!0;const uA="__ngSimpleChanges__";function dA(t){return t[uA]||null}const rs=function(t,e,n){};function kt(t){for(;Array.isArray(t);)t=t[en];return t}function p0(t,e){return kt(e[t])}function Or(t,e){return kt(e[t.index])}function pA(t,e){return t.data[e]}function Uc(t,e){return t[e]}function Qr(t,e){const n=e[t];return Nr(n)?n:n[en]}function So(t,e){return null==e?null:t[e]}function gA(t){t[Bc]=0}function C$(t){1024&t[We]||(t[We]|=1024,_A(t,1))}function mA(t){1024&t[We]&&(t[We]&=-1025,_A(t,-1))}function _A(t,e){let n=t[jt];if(null===n)return;n[gd]+=e;let r=n;for(n=n[jt];null!==n&&(1===e&&1===r[gd]||-1===e&&0===r[gd]);)n[gd]+=e,r=n,n=n[jt]}const Be={lFrame:DA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function EA(){return Be.bindingsEnabled}function jc(){return null!==Be.skipHydrationRootTNode}function ee(){return Be.lFrame.lView}function lt(){return Be.lFrame.tView}function Oi(t){return Be.lFrame.contextLView=t,t[dn]}function Fi(t){return Be.lFrame.contextLView=null,t}function Kn(){let t=CA();for(;null!==t&&64===t.type;)t=t.parent;return t}function CA(){return Be.lFrame.currentTNode}function is(t,e){const n=Be.lFrame;n.currentTNode=t,n.isParent=e}function N_(){return Be.lFrame.isParent}function O_(){Be.lFrame.isParent=!1}function Er(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $c(){return Be.lFrame.bindingIndex++}function k$(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,F_(e)}function F_(t){Be.lFrame.currentDirectiveIndex=t}function wA(){return Be.lFrame.currentQueryIndex}function L_(t){Be.lFrame.currentQueryIndex=t}function O$(t){const e=t[be];return 2===e.type?e.declTNode:1===e.type?t[or]:null}function AA(t,e,n){if(n&ot.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ot.Host||(i=O$(s),null===i||(s=s[Lc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Be.lFrame=TA();return r.currentTNode=e,r.lView=t,!0}function B_(t){const e=TA(),n=t[be];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function TA(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?DA(t):e}function DA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function SA(){const t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const MA=SA;function H_(){const t=SA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cr(){return Be.lFrame.selectedIndex}function wa(t){Be.lFrame.selectedIndex=t}function Qt(){const t=Be.lFrame;return pA(t.tView,t.selectedIndex)}let RA=!0;function g0(){return RA}function Mo(t){RA=t}function m0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function _0(t,e,n){kA(t,e,3,n)}function v0(t,e,n,r){(3&t[We])===n&&kA(t,e,n,r)}function z_(t,e){let n=t[We];(3&n)===e&&(n&=8191,n+=1,t[We]=n)}function kA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Bc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Bc]+=65536),(a<s||-1==s)&&(j$(t,n,e,c),t[Bc]=(4294901760&t[Bc])+c+2),c++}function NA(t,e){rs(4,t,e);const n=mi(null);try{e.call(t)}finally{mi(n),rs(5,t,e)}}function j$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[We]>>13<t[Bc]>>16&&(3&t[We])===e&&(t[We]+=8192,NA(a,s)):NA(a,s)}const Gc=-1;class bd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function j_(t){return t!==Gc}function wd(t){return 32767&t}function Ad(t,e){let n=function W$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Lc],n--;return r}let $_=!0;function y0(t){const e=$_;return $_=t,e}const OA=255,FA=5;let K$=0;const ss={};function E0(t,e){const n=VA(t,e);if(-1!==n)return n;const r=e[be];r.firstCreatePass&&(t.injectorIndex=e.length,G_(r.data,t),G_(e,null),G_(r.blueprint,null));const i=C0(t,e),s=t.injectorIndex;if(j_(i)){const o=wd(i),a=Ad(i,e),c=a[be].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function G_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function C0(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=$A(i),null===r)return Gc;if(n++,i=i[Lc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Gc}function q_(t,e,n){!function Y$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(hd)&&(r=n[hd]),null==r&&(r=n[hd]=K$++);const i=r&OA;e.data[t+(i>>FA)]|=1<<i}(t,e,n)}function LA(t,e,n){if(n&ot.Optional||void 0!==t)return t;f_()}function BA(t,e,n,r){if(n&ot.Optional&&void 0===r&&(r=null),!(n&(ot.Self|ot.Host))){const i=t[Ao],s=kr(void 0);try{return i?i.get(e,r,n&ot.Optional):Tw(e,r,n&ot.Optional)}finally{kr(s)}}return LA(r,0,n)}function HA(t,e,n,r=ot.Default,i){if(null!==t){if(2048&e[We]&&!(r&ot.Self)){const o=function tG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[We]&&!(512&o[We]);){const a=zA(s,o,n,r|ot.Self,ss);if(a!==ss)return a;let c=s.parent;if(!c){const l=o[Gw];if(l){const u=l.get(n,ss,r);if(u!==ss)return u}c=$A(o),o=o[Lc]}s=c}return i}(t,e,n,r,ss);if(o!==ss)return o}const s=zA(t,e,n,r,ss);if(s!==ss)return s}return BA(e,n,r,i)}function zA(t,e,n,r,i){const s=function J$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(hd)?t[hd]:void 0;return"number"==typeof e?e>=0?e&OA:eG:e}(n);if("function"==typeof s){if(!AA(e,t,r))return r&ot.Host?LA(i,0,r):BA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ot.Optional)return o;f_()}finally{MA()}}else if("number"==typeof s){let o=null,a=VA(t,e),c=Gc,l=r&ot.Host?e[fn][or]:null;for((-1===a||r&ot.SkipSelf)&&(c=-1===a?C0(t,e):e[a+8],c!==Gc&&jA(r,!1)?(o=e[be],a=wd(c),e=Ad(c,e)):a=-1);-1!==a;){const u=e[be];if(UA(s,a,u.data)){const d=X$(a,e,n,o,r,l);if(d!==ss)return d}c=e[a+8],c!==Gc&&jA(r,e[be].data[a+8]===l)&&UA(s,a,e)?(o=u,a=wd(c),e=Ad(c,e)):a=-1}}return i}function X$(t,e,n,r,i,s){const o=e[be],a=o.data[t+8],u=x0(a,o,n,null==r?Ia(a)&&$_:r!=o&&0!=(3&a.type),i&ot.Host&&s===a);return null!==u?Aa(e,o,u,a):ss}function x0(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Ni(h)&&h.type===n)return c}return null}function Aa(t,e,n,r){let i=t[n];const s=e.data;if(function $$(t){return t instanceof bd}(i)){const o=i;o.resolving&&function yj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${n}`)}(function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(s[n]));const a=y0(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?kr(o.injectImpl):null;AA(t,r,ot.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function U$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=lA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&kr(l),y0(a),o.resolving=!1,MA()}}return i}function UA(t,e,n){return!!(n[e+(t>>FA)]&1<<t)}function jA(t,e){return!(t&ot.Self||t&ot.Host&&e)}class xr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HA(this._tNode,this._lView,e,o0(r),n)}}function eG(){return new xr(Kn(),ee())}function Yn(t){return Vs(()=>{const e=t.prototype.constructor,n=e[Ls]||W_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ls]||W_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function W_(t){return u_(t)?()=>{const e=W_(He(t));return e&&e()}:ba(t)}function $A(t){const e=t[be],n=e.type;return 2===n?e.declTNode:1===n?t[or]:null}const Wc="__parameters__";function Yc(t,e,n){return Vs(()=>{const r=function K_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Wc)?c[Wc]:Object.defineProperty(c,Wc,{value:[]})[Wc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Xc(t,e){t.forEach(n=>Array.isArray(n)?Xc(n,e):e(n))}function qA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function b0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Sd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Xr(t,e,n){let r=Jc(t,e);return r>=0?t[1|r]=n:(r=~r,function cG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Y_(t,e){const n=Jc(t,e);if(n>=0)return t[1|n]}function Jc(t,e){return function WA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const tn=fd(Yc("Optional"),8),X_=fd(Yc("SkipSelf"),4);function M0(t){return 128==(128&t.flags)}var Po=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Po||{});const SG=/^>|^->|<!--|-->|--!>|<!-$/g,MG=/(<|>)/g,PG="\u200b$1\u200b";const tv=new Map;let RG=0;const rv="__ngContext__";function ar(t,e){Nr(e)?(t[rv]=e[vd],function NG(t){tv.set(t[vd],t)}(e)):t[rv]=e}let iv;function sv(t,e){return iv(t,e)}function Rd(t){const e=t[jt];return vr(e)?e[jt]:e}function h5(t){return g5(t[md])}function p5(t){return g5(t[ki])}function g5(t){for(;null!==t&&!vr(t);)t=t[ki];return t}function tl(t,e,n,r,i){if(null!=r){let s,o=!1;vr(r)?s=r:Nr(r)&&(o=!0,r=r[en]);const a=kt(r);0===t&&null!==n?null==i?y5(e,n,a):Ta(e,n,a,i||null,!0):1===t&&null!==n?Ta(e,n,a,i||null,!0):2===t?function V0(t,e,n){const r=O0(t,e);r&&function ZG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function nq(t,e,n,r,i){const s=n[ns];s!==kt(n)&&tl(e,t,r,s,i);for(let a=qn;a<n.length;a++){const c=n[a];Nd(c[be],c,t,e,r,s)}}(e,t,s,n,i)}}function ov(t,e){return t.createComment(function s5(t){return t.replace(SG,e=>e.replace(MG,PG))}(e))}function k0(t,e,n){return t.createElement(e,n)}function _5(t,e){const n=t[Hc],r=n.indexOf(e);mA(e),n.splice(r,1)}function N0(t,e){if(t.length<=qn)return;const n=qn+e,r=t[n];if(r){const i=r[_d];null!==i&&i!==t&&_5(i,r),e>0&&(t[n-1][ki]=r[ki]);const s=b0(t,qn+e);!function GG(t,e){Nd(t,e,e[je],2,null,null),e[en]=null,e[or]=null}(r[be],r);const o=s[ts];null!==o&&o.detachView(s[be]),r[jt]=null,r[ki]=null,r[We]&=-129}return r}function av(t,e){if(!(256&e[We])){const n=e[je];e[yd]&&tA(e[yd]),e[Ed]&&tA(e[Ed]),n.destroyNode&&Nd(t,e,n,3,null,null),function KG(t){let e=t[md];if(!e)return cv(t[be],t);for(;e;){let n=null;if(Nr(e))n=e[md];else{const r=e[qn];r&&(n=r)}if(!n){for(;e&&!e[ki]&&e!==t;)Nr(e)&&cv(e[be],e),e=e[jt];null===e&&(e=t),Nr(e)&&cv(e[be],e),n=e&&e[ki]}e=n}}(e)}}function cv(t,e){if(!(256&e[We])){e[We]&=-129,e[We]|=256,function JG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof bd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];rs(4,a,c);try{c.call(a)}finally{rs(5,a,c)}}else{rs(4,i,s);try{s.call(i)}finally{rs(5,i,s)}}}}}(t,e),function XG(t,e){const n=t.cleanup,r=e[Fc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Fc]=null);const i=e[To];if(null!==i){e[To]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[be].type&&e[je].destroy();const n=e[_d];if(null!==n&&vr(e[jt])){n!==e[jt]&&_5(n,e);const r=e[ts];null!==r&&r.detachView(t)}!function OG(t){tv.delete(t[vd])}(e)}}function lv(t,e,n){return function v5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[en];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Pi.None||s===Pi.Emulated)return null}return Or(r,n)}}(t,e.parent,n)}function Ta(t,e,n,r,i){t.insertBefore(e,n,r,i)}function y5(t,e,n){t.appendChild(e,n)}function E5(t,e,n,r,i){null!==r?Ta(t,e,n,r,i):y5(t,e,n)}function O0(t,e){return t.parentNode(e)}function C5(t,e,n){return I5(t,e,n)}let uv,L0,pv,B0,I5=function x5(t,e,n){return 40&t.type?Or(t,n):null};function F0(t,e,n,r){const i=lv(t,r,e),s=e[je],a=C5(r.parent||e[or],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)E5(s,i,n[c],a,!1);else E5(s,i,n,a,!1);void 0!==uv&&uv(s,r,e,n,i)}function kd(t,e){if(null!==e){const n=e.type;if(3&n)return Or(e,t);if(4&n)return dv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return kd(t,r);{const i=t[e.index];return vr(i)?dv(-1,i):kt(i)}}if(32&n)return sv(e,t)()||kt(t[e.index]);{const r=w5(t,e);return null!==r?Array.isArray(r)?r[0]:kd(Rd(t[fn]),r):kd(t,e.next)}}return null}function w5(t,e){return null!==e?t[fn][or].projection[e.projection]:null}function dv(t,e){const n=qn+t+1;if(n<e.length){const r=e[n],i=r[be].firstChild;if(null!==i)return kd(r,i)}return e[ns]}function fv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&ar(kt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)fv(t,e,n.child,r,i,s,!1),tl(e,t,i,a,s);else if(32&c){const l=sv(n,r);let u;for(;u=l();)tl(e,t,i,u,s);tl(e,t,i,a,s)}else 16&c?T5(t,e,r,n,i,s):tl(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Nd(t,e,n,r,i,s){fv(n,r,t.firstChild,e,i,s,!1)}function T5(t,e,n,r,i,s){const o=n[fn],c=o[or].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)tl(e,t,i,c[l],s);else{let l=c;const u=o[jt];M0(r)&&(l.flags|=128),fv(t,e,l,u,i,s,!0)}}function D5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function S5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&I_(t,e,r),null!==i&&D5(t,e,i),null!==s&&function iq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function nl(t){return function hv(){if(void 0===L0&&(L0=null,Rt.trustedTypes))try{L0=Rt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return L0}()?.createHTML(t)||t}function rl(){if(void 0!==pv)return pv;if(typeof document<"u")return document;throw new re(210,!1)}function M5(t){return function gv(){if(void 0===B0&&(B0=null,Rt.trustedTypes))try{B0=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return B0}()?.createHTML(t)||t}class Da{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Iw})`}}class lq extends Da{getTypeName(){return"HTML"}}class uq extends Da{getTypeName(){return"Style"}}class dq extends Da{getTypeName(){return"Script"}}class fq extends Da{getTypeName(){return"URL"}}class hq extends Da{getTypeName(){return"ResourceURL"}}function Jr(t){return t instanceof Da?t.changingThisBreaksApplicationSecurity:t}function os(t,e){const n=function pq(t){return t instanceof Da&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Iw})`)}return n===e}class Eq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(nl(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Cq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=nl(e),n}}const Iq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function H0(t){return(t=String(t)).match(Iq)?t:"unsafe:"+t}function Us(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Od(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const N5=Us("area,br,col,hr,img,wbr"),O5=Us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),F5=Us("rp,rt"),mv=Od(N5,Od(O5,Us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Od(F5,Us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Od(F5,O5)),_v=Us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),V5=Od(_v,Us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bq=Us("script,style,template");class wq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!mv.hasOwnProperty(n))return this.sanitizedSomething=!0,!bq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!V5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;_v[a]&&(c=H0(c)),this.buf.push(" ",o,'="',L5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();mv.hasOwnProperty(n)&&!N5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(L5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Aq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tq=/([^\#-~ |!])/g;function L5(t){return t.replace(/&/g,"&amp;").replace(Aq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Tq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let z0;function B5(t,e){let n=null;try{z0=z0||function k5(t){const e=new Cq(t);return function xq(){try{return!!(new window.DOMParser).parseFromString(nl(""),"text/html")}catch{return!1}}()?new Eq(e):e}(t);let r=e?String(e):"";n=z0.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=z0.getInertBodyElement(r)}while(r!==s);return nl((new wq).sanitizeChildren(vv(n)||n))}finally{if(n){const r=vv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function vv(t){return"content"in t&&function Dq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vi||{});function H5(t){const e=function Fd(){const t=ee();return t&&t[Vc].sanitizer}();return e?M5(e.sanitize(vi.HTML,t)||""):os(t,"HTML")?M5(Jr(t)):B5(rl(),Ue(t))}const Vd=new Ee("ENVIRONMENT_INITIALIZER"),$5=new Ee("INJECTOR",-1),G5=new Ee("INJECTOR_DEF_TYPES");class yv{get(e,n=dd){if(n===dd){const r=new Error(`NullInjectorError: No provider for ${wn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Nq(...t){return{\u0275providers:q5(0,t),\u0275fromNgModule:!0}}function q5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Xc(e,o=>{const a=o;U0(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&W5(i,s),n}function W5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Cv(i,s=>{e(s,r)})}}function U0(t,e,n,r){if(!(t=He(t)))return!1;let i=null,s=n0(t);const o=!s&&ct(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=n0(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)U0(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Xc(s.imports,u=>{U0(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&W5(l,e)}if(!a){const l=ba(i)||(()=>new i);e({provide:i,useFactory:l,deps:gt},i),e({provide:G5,useValue:i,multi:!0},i),e({provide:Vd,useValue:()=>Se(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;Cv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function Cv(t,e){for(let n of t)d_(n)&&(n=n.\u0275providers),Array.isArray(n)?Cv(n,e):e(n)}const Oq=Et({provide:String,useValue:Et});function xv(t){return null!==t&&"object"==typeof t&&Oq in t}function Sa(t){return"function"==typeof t}const Iv=new Ee("Set Injector scope."),j0={},Vq={};let bv;function $0(){return void 0===bv&&(bv=new yv),bv}class yi{}class il extends yi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Av(e,o=>this.processProvider(o)),this.records.set($5,sl(void 0,this)),i.has("environment")&&this.records.set(yi,sl(void 0,this));const s=this.records.get(Iv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(G5.multi,gt,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=wo(this),r=kr(void 0);try{return e()}finally{wo(n),kr(r)}}get(e,n=dd,r=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rw))return e[Rw](this);r=o0(r);const s=wo(this),o=kr(void 0);try{if(!(r&ot.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Uq(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ee}(e)&&t0(e);c=l&&this.injectableDefInScope(l)?sl(wv(e),j0):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ot.Self?$0():this.parent).get(e,n=r&ot.Optional&&n===dd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[s0]=a[s0]||[]).unshift(wn(e)),s)throw a;return function Nj(t,e,n,r){const i=t[s0];throw e[Sw]&&i.unshift(e[Sw]),t.message=function Oj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wn(e);if(Array.isArray(e))i=e.map(wn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[s0]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{kr(o),wo(s)}}resolveInjectorInitializers(){const e=wo(this),n=kr(void 0);try{const i=this.get(Vd.multi,gt,ot.Self);for(const s of i)s()}finally{wo(e),kr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let n=Sa(e=He(e))?e:He(e&&e.provide);const r=function Bq(t){return xv(t)?sl(void 0,t.useValue):sl(Q5(t),j0)}(e);if(Sa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=sl(void 0,j0,!0),i.factory=()=>E_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===j0&&(n.value=Vq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function zq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=He(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function wv(t){const e=t0(t),n=null!==e?e.factory:ba(t);if(null!==n)return n;if(t instanceof Ee)throw new re(204,!1);if(t instanceof Function)return function Lq(t){const e=t.length;if(e>0)throw Sd(e,"?"),new re(204,!1);const n=function wj(t){return t&&(t[r0]||t[ww])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new re(204,!1)}function Q5(t,e,n){let r;if(Sa(t)){const i=He(t);return ba(i)||wv(i)}if(xv(t))r=()=>He(t.useValue);else if(function Y5(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...E_(t.deps||[]));else if(function K5(t){return!(!t||!t.useExisting)}(t))r=()=>Se(He(t.useExisting));else{const i=He(t&&(t.useClass||t.provide));if(!function Hq(t){return!!t.deps}(t))return ba(i)||wv(i);r=()=>new i(...E_(t.deps))}return r}function sl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Av(t,e){for(const n of t)Array.isArray(n)?Av(n,e):n&&d_(n)?Av(n.\u0275providers,e):e(n)}const G0=new Ee("AppId",{providedIn:"root",factory:()=>jq}),jq="ng",X5=new Ee("Platform Initializer"),as=new Ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),J5=new Ee("CSP nonce",{providedIn:"root",factory:()=>rl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Z5=(t,e,n)=>null;function Nv(t,e,n=!1){return Z5(t,e,n)}class Zq{}class nT{}class tW{resolveComponentFactory(e){throw function eW(t){const e=Error(`No component factory found for ${wn(t)}.`);return e.ngComponent=t,e}(e)}}let Hd=(()=>{class e{}return e.NULL=new tW,e})();function nW(){return cl(Kn(),ee())}function cl(t,e){return new Ir(Or(t,e))}let Ir=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=nW,e})();function rW(t){return t instanceof Ir?t.nativeElement:t}class iT{}let cs=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function iW(){const t=ee(),n=Qr(Kn().index,t);return(Nr(n)?n:t)[je]}(),e})(),sW=(()=>{var t;class e{}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>null}),e})();class ll{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sT=new ll("16.2.12"),Vv={};function lT(t,e=null,n=null,r){const i=uT(t,e,n,r);return i.resolveInjectorInitializers(),i}function uT(t,e=null,n=null,r,i=new Set){const s=[n||gt,Nq(t)];return r=r||("object"==typeof t?void 0:wn(t)),new il(s,e||$0(),r||null,i)}let Tn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return lT({name:""},i,r,"");{const s=r.name??"";return lT({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=dd,t.NULL=new yv,t.\u0275prov=Ie({token:t,providedIn:"any",factory:()=>Se($5)}),t.__NG_ELEMENT_ID__=-1,e})();function Bv(t){return t.ngOriginalError}class js{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Bv(e);for(;n&&Bv(n);)n=Bv(n);return n||null}}function zv(t){return e=>{setTimeout(t,void 0,e)}}const Tt=class fW extends ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=zv(s),i&&(i=zv(i)),o&&(o=zv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof J&&e.add(a),a}};function fT(...t){}class ft{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tt(!1),this.onMicrotaskEmpty=new Tt(!1),this.onStable=new Tt(!1),this.onError=new Tt(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function hW(){const t="function"==typeof Rt.requestAnimationFrame;let e=Rt[t?"requestAnimationFrame":"setTimeout"],n=Rt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function mW(t){const e=()=>{!function gW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jv(t),t.isCheckStableRunning=!0,Uv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function vW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return hT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),pT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return hT(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),pT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,jv(t),Uv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,pW,fT,fT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const pW={};function Uv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pT(t){t._nesting--,Uv(t)}class _W{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tt,this.onMicrotaskEmpty=new Tt,this.onStable=new Tt,this.onError=new Tt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const gT=new Ee("",{providedIn:"root",factory:mT});function mT(){const t=K(ft);let e=!0;return function mj(...t){const e=ud(t),n=function lj(t,e){return"number"==typeof a_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?sr(r[0]):Qp(n)(jn(r,e)):Zi}(new fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{ft.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Cw()))}function $s(t){return t instanceof Function?t():t}let $v=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>new t}),e})();function zd(t){for(;t;){t[We]|=64;const e=Rd(t);if(A_(t)&&!e)return t;t=e}return null}const CT=new Ee("",{providedIn:"root",factory:()=>!1});let J0=null;function wT(t,e){return t[e]??DT()}function AT(t,e){const n=DT();n.producerNode?.length&&(t[e]=J0,n.lView=t,J0=TT())}const DW={...Yw,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zd(t.lView)},lView:null};function TT(){return Object.create(DW)}function DT(){return J0??=TT(),J0}const Ge={};function Ae(t){ST(lt(),ee(),Cr()+t,!1)}function ST(t,e,n,r){if(!r)if(3==(3&e[We])){const s=t.preOrderCheckHooks;null!==s&&_0(e,s,n)}else{const s=t.preOrderHooks;null!==s&&v0(e,s,0,n)}wa(n)}function te(t,e=ot.Default){const n=ee();return null===n?Se(t,e):HA(Kn(),n,He(t),e)}function Z0(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[en]=i,d[We]=140|r,(null!==l||t&&2048&t[We])&&(d[We]|=2048),gA(d),d[jt]=d[Lc]=t,d[dn]=n,d[Vc]=o||t&&t[Vc],d[je]=a||t&&t[je],d[Ao]=c||t&&t[Ao]||null,d[or]=s,d[vd]=function kG(){return RG++}(),d[Bs]=u,d[Gw]=l,d[fn]=2==e.type?t[fn]:d,d}function fl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Gv(t,e,n,r,i){const s=CA(),o=N_(),c=t.data[e]=function VW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return jc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function R$(){return Be.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Id(){const t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return is(s,!0),s}function Ud(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function MT(t,e,n,r,i){const s=wT(e,yd),o=Cr(),a=2&r;try{wa(-1),a&&e.length>nt&&ST(t,e,nt,!1),rs(a?2:0,i);const l=a?s:null,u=D_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{S_(l,u)}}finally{a&&null===e[yd]&&AT(e,yd),wa(o),rs(a?3:1,i)}}function qv(t,e,n){if(w_(e)){const r=mi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{mi(r)}}}function Wv(t,e,n){EA()&&(function $W(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ia(n)&&function XW(t,e,n){const r=Or(e,t),i=PT(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=eg(t,Z0(t,i,null,o,r,e,null,t[Vc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||E0(n,e),ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Aa(e,t,a,n);ar(l,e),null!==o&&JW(0,a-i,l,c,0,o),Ni(c)&&(Qr(n.index,e)[dn]=Aa(e,t,a,n))}}(t,e,n,Or(n,e)),64==(64&n.flags)&&FT(t,e,n))}function Kv(t,e,n=Or){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function PT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yv(t,e,n,r,i,s,o,a,c,l,u){const d=nt+r,f=d+i,h=function PW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ge);return n}(d,f),p="function"==typeof l?l():l;return h[be]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let RT=t=>null;function kT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?NT(n,e,i,s):r.hasOwnProperty(i)&&NT(n,e,r[i],s)}return n}function NT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Zr(t,e,n,r,i,s,o,a){const c=Or(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(ey(t,n,u,r,i),Ia(e)&&function HW(t,e){const n=Qr(e,t);16&n[We]||(n[We]|=64)}(n,e.index)):3&e.type&&(r=function BW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Qv(t,e,n,r){if(EA()){const i=null===r?null:{"":-1},s=function qW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Bw(e,o.selectors,!1))if(r||(r=[]),Ni(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Xv(t,e,a.length)}else r.unshift(o),Xv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&OT(t,e,n,o,i,a),i&&function WW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new re(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=pd(n.mergedAttrs,n.attrs)}function OT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)q_(E0(n,e),t,r[l].type);!function YW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Ud(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=pd(n.mergedAttrs,u.hostAttrs),QW(t,n,e,c,u),KW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function LW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=kT(d.inputs,u,c,f?f.inputs:null),l=kT(d.outputs,u,l,p);const g=null===c||null===o||Lw(e)?null:ZW(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function FT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function N$(){return Be.lFrame.currentDirectiveIndex}();try{wa(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];F_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&GW(c,l)}}finally{wa(-1),F_(o)}}function GW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ni(e)&&(n[""]=t)}}function QW(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ba(i.type)),o=new bd(s,Ni(i),te);t.blueprint[r]=o,n[r]=o,function UW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function jW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Ud(t,n,i.hostVars,Ge),i)}function ls(t,e,n,r,i,s){const o=Or(t,e);!function Jv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Ue(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[je],o,s,t.value,n,r,i)}function JW(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)VT(r,n,o[a++],o[a++],o[a++])}function VT(t,e,n,r,i){const s=mi(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{mi(s)}}function ZW(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function LT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function BT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];L_(n[r]),o.contentQueries(2,e[s],s)}}}function eg(t,e){return t[md]?t[$w][ki]=e:t[md]=e,t[$w]=e,e}function Zv(t,e,n){L_(0);const r=mi(null);try{e(t,n)}finally{mi(r)}}function HT(t){return t[Fc]||(t[Fc]=[])}function zT(t){return t.cleanup||(t.cleanup=[])}function jT(t,e){const n=t[Ao],r=n?n.get(js,null):null;r&&r.handleError(e)}function ey(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];VT(t.data[o],e[o],r,a,i)}}function eK(t,e){const n=Qr(e,t),r=n[be];!function tK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[en];null!==i&&null===n[Bs]&&(n[Bs]=Nv(i,n[Ao])),ty(r,n,n[dn])}function ty(t,e,n){B_(e);try{const r=t.viewQuery;null!==r&&Zv(1,r,n);const i=t.template;null!==i&&MT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&BT(t,e),t.staticViewQueries&&Zv(2,t.viewQuery,n);const s=t.components;null!==s&&function nK(t,e){for(let n=0;n<e.length;n++)eK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[We]&=-5,H_()}}let $T=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function u$(t,e,n){const r=Object.create(d$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Zw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!eA(r))return;r.hasRun=!0;const o=D_(r);try{r.cleanupFn(),r.cleanupFn=cA,r.fn(i)}finally{S_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>new t}),e})();function tg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=l_(i,a):2==s&&(r=l_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function jd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(kt(s)),vr(s)&&GT(s,r);const o=n.type;if(8&o)jd(t,e,n.child,r);else if(32&o){const a=sv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=w5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Rd(e[fn]);jd(c[be],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function GT(t,e){for(let n=qn;n<t.length;n++){const r=t[n],i=r[be].firstChild;null!==i&&jd(r[be],r,i,e)}t[ns]!==t[en]&&e.push(t[ns])}function ng(t,e,n,r=!0){const i=e[Vc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{qT(t,e,t.template,n)}catch(c){throw r&&jT(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function qT(t,e,n,r){const i=e[We];if(256!=(256&i)){e[Vc].effectManager?.flush(),B_(e);try{gA(e),function IA(t){return Be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&MT(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&_0(e,l,null)}else{const l=t.preOrderHooks;null!==l&&v0(e,l,0,null),z_(e,0)}if(function sK(t){for(let e=h5(t);null!==e;e=p5(e)){if(!e[qw])continue;const n=e[Hc];for(let r=0;r<n.length;r++){C$(n[r])}}}(e),WT(e,2),null!==t.contentQueries&&BT(t,e),o){const l=t.contentCheckHooks;null!==l&&_0(e,l)}else{const l=t.contentHooks;null!==l&&v0(e,l,1),z_(e,1)}!function MW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=wT(e,Ed);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)wa(~s);else{const o=s,a=n[++i],c=n[++i];k$(a,o),r.dirty=!1;const l=D_(r);try{c(2,e[o])}finally{S_(r,l)}}}}finally{null===e[Ed]&&AT(e,Ed),wa(-1)}}(t,e);const a=t.components;null!==a&&YT(e,a,0);const c=t.viewQuery;if(null!==c&&Zv(2,c,r),o){const l=t.viewCheckHooks;null!==l&&_0(e,l)}else{const l=t.viewHooks;null!==l&&v0(e,l,2),z_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[We]&=-73,mA(e)}finally{H_()}}}function WT(t,e){for(let n=h5(t);null!==n;n=p5(n))for(let r=qn;r<n.length;r++)KT(n[r],e)}function oK(t,e,n){KT(Qr(e,t),n)}function KT(t,e){if(!function y$(t){return 128==(128&t[We])}(t))return;const n=t[be],r=t[We];if(80&r&&0===e||1024&r||2===e)qT(n,t,n.template,t[dn]);else if(t[gd]>0){WT(t,1);const i=n.components;null!==i&&YT(t,i,1)}}function YT(t,e,n){for(let r=0;r<e.length;r++)oK(t,e[r],n)}class $d{get rootNodes(){const e=this._lView,n=e[be];return jd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(e){this._lView[dn]=e}get destroyed(){return 256==(256&this._lView[We])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[jt];if(vr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(N0(e,r),b0(n,r))}this._attachedToViewContainer=!1}av(this._lView[be],this._lView)}onDestroy(e){!function vA(t,e){if(256==(256&t[We]))throw new re(911,!1);null===t[To]&&(t[To]=[]),t[To].push(e)}(this._lView,e)}markForCheck(){zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[We]&=-129}reattach(){this._lView[We]|=128}detectChanges(){ng(this._lView[be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WG(t,e){Nd(t,e,e[je],2,null,null)}(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e}}class aK extends $d{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ng(e[be],e,e[dn],!1)}checkNoChanges(){}get context(){return null}}class QT extends Hd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ct(e);return new Gd(n,this.ngModule)}}function XT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class lK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=o0(r);const i=this.injector.get(e,Vv,r);return i!==Vv||n===Vv?i:this.parentInjector.get(e,n,r)}}class Gd extends nT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=XT(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return XT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Gj(t){return t.map($j).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof yi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new lK(e,s):e,a=o.get(iT,null);if(null===a)throw new re(407,!1);const d={rendererFactory:a,sanitizer:o.get(sW,null),effectManager:o.get($T,null),afterRenderEventManager:o.get($v,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function RW(t,e,n,r){const s=r.get(CT,!1)||n===Pi.ShadowDom,o=t.selectRootElement(e,s);return function kW(t){RT(t)}(o),o}(f,r,this.componentDef.encapsulation,o):k0(f,h,function cK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==p&&(b=Nv(p,o,!0));const j=Yv(0,null,null,1,0,null,null,null,null,null,null),Q=Z0(null,j,null,T,null,null,d,f,o,null,b);let he,Re;B_(Q);try{const Ke=this.componentDef;let Yt,Rn=null;Ke.findHostDirectiveDefs?(Yt=[],Rn=new Map,Ke.findHostDirectiveDefs(Ke,Yt,Rn),Yt.push(Ke)):Yt=[Ke];const va=function dK(t,e){const n=t[be],r=nt;return t[r]=e,fl(n,r,2,"#host",null)}(Q,p),r3e=function fK(t,e,n,r,i,s,o){const a=i[be];!function hK(t,e,n,r){for(const i of t)e.mergedAttrs=pd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(tg(e,e.mergedAttrs,!0),null!==n&&S5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Nv(e,i[Ao]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Z0(i,PT(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Xv(a,t,r.length-1),eg(i,d),i[t.index]=d}(va,p,Ke,Yt,Q,d,f);Re=pA(j,nt),p&&function gK(t,e,n,r){if(r)I_(t,n,["ng-version",sT.full]);else{const{attrs:i,classes:s}=function qj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ri(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&I_(t,n,i),s&&s.length>0&&D5(t,n,s.join(" "))}}(f,Ke,p,r),void 0!==n&&function mK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Re,this.ngContentSelectors,n),he=function pK(t,e,n,r,i,s){const o=Kn(),a=i[be],c=Or(o,i);OT(a,i,o,n,null,r);for(let u=0;u<n.length;u++)ar(Aa(i,a,o.directiveStart+u,o),i);FT(a,i,o),c&&ar(c,i);const l=Aa(i,a,o.directiveStart+o.componentOffset,o);if(t[dn]=i[dn]=l,null!==s)for(const u of s)u(l,e);return qv(a,o,t),l}(r3e,Ke,Yt,Rn,Q,[_K]),ty(j,Q,null)}finally{H_()}return new uK(this.componentType,he,cl(Re,Q),Q,Re)}}class uK extends Zq{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new aK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;ey(s[be],s,i,e,n),this.previousInputValues.set(e,n),zd(Qr(this._tNode.index,s))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function _K(){const t=Kn();m0(ee()[be],t)}function xt(t){let e=function JT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ni(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=rg(t.inputs),o.inputTransforms=rg(t.inputTransforms),o.declaredInputs=rg(t.declaredInputs),o.outputs=rg(t.outputs);const a=i.hostBindings;a&&CK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&yK(t,c),l&&EK(t,l),Zp(t.inputs,i.inputs),Zp(t.declaredInputs,i.declaredInputs),Zp(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Zp(o.inputTransforms,i.inputTransforms)),Ni(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===xt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function vK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pd(i.hostAttrs,n=pd(n,i.hostAttrs))}}(r)}function rg(t){return t===es?{}:t===gt?[]:t}function yK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function EK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function CK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ig(t){return!!ny(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ny(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function us(t,e,n){return t[e]=n}function qd(t,e){return t[e]}function cr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ma(t,e,n,r){const i=cr(t,e,n);return cr(t,e+1,r)||i}function Vi(t,e,n,r){const i=ee();return cr(i,$c(),e)&&(lt(),ls(Qt(),i,t,e,n,r)),Vi}function pl(t,e,n,r){return cr(t,$c(),n)?e+Ue(n)+r:Ge}function lr(t,e,n,r,i,s,o,a){const c=ee(),l=lt(),u=t+nt,d=l.firstCreatePass?function qK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=fl(e,t,4,o||null,So(l,a));Qv(e,n,u,So(l,c)),m0(e,u);const d=u.tView=Yv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];is(d,!1);const f=gD(l,c,d,t);g0()&&F0(l,c,f,d),ar(f,c),eg(c,c[u]=LT(f,c,f,d)),d0(d)&&Wv(l,c,d),null!=o&&Kv(c,d,a)}let gD=function mD(t,e,n,r){return Mo(!0),e[je].createComment("")};function cy(t){return Uc(function P$(){return Be.lFrame.contextLView}(),nt+t)}function Ze(t,e,n){const r=ee();return cr(r,$c(),e)&&Zr(lt(),Qt(),r,t,e,r[je],n,!1),Ze}function ly(t,e,n,r,i){const o=i?"class":"style";ey(t,n,e.inputs[o],o,r)}function z(t,e,n,r){const i=ee(),s=lt(),o=nt+t,a=i[je],c=s.firstCreatePass?function QK(t,e,n,r,i,s){const o=e.consts,c=fl(e,t,2,r,So(o,i));return Qv(e,n,c,So(o,s)),null!==c.attrs&&tg(c,c.attrs,!1),null!==c.mergedAttrs&&tg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=_D(s,i,c,a,e,t);i[o]=l;const u=d0(c);return is(c,!0),S5(a,l,c),32!=(32&c.flags)&&g0()&&F0(s,i,l,c),0===function I$(){return Be.lFrame.elementDepthCount}()&&ar(l,i),function b$(){Be.lFrame.elementDepthCount++}(),u&&(Wv(s,i,c),qv(s,c,i)),null!==r&&Kv(i,c),z}function q(){let t=Kn();N_()?O_():(t=t.parent,is(t,!1));const e=t;(function A$(t){return Be.skipHydrationRootTNode===t})(e)&&function M$(){Be.skipHydrationRootTNode=null}(),function w$(){Be.lFrame.elementDepthCount--}();const n=lt();return n.firstCreatePass&&(m0(n,t),w_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function G$(t){return 0!=(8&t.flags)}(e)&&ly(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function q$(t){return 0!=(16&t.flags)}(e)&&ly(n,e,ee(),e.stylesWithoutHost,!1),q}function ht(t,e,n,r){return z(t,e,n,r),q(),ht}let _D=(t,e,n,r,i,s)=>(Mo(!0),k0(r,i,function PA(){return Be.lFrame.currentNamespace}()));function xl(t,e,n){const r=ee(),i=lt(),s=t+nt,o=i.firstCreatePass?function ZK(t,e,n,r,i){const s=e.consts,o=So(s,r),a=fl(e,t,8,"ng-container",o);return null!==o&&tg(a,o,!0),Qv(e,n,a,So(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];is(o,!0);const a=yD(i,r,o,t);return r[s]=a,g0()&&F0(i,r,a,o),ar(a,r),d0(o)&&(Wv(i,r,o),qv(i,o,r)),null!=n&&Kv(r,o),xl}function Il(){let t=Kn();const e=lt();return N_()?O_():(t=t.parent,is(t,!1)),e.firstCreatePass&&(m0(e,t),w_(t)&&e.queries.elementEnd(t)),Il}let yD=(t,e,n,r)=>(Mo(!0),ov(e[je],""));function bl(){return ee()}function Qd(t){return!!t&&"function"==typeof t.then}function ED(t){return!!t&&"function"==typeof t.subscribe}function Xt(t,e,n,r){const i=ee(),s=lt(),o=Kn();return function xD(t,e,n,r,i,s,o){const a=d0(r),l=t.firstCreatePass&&zT(t),u=e[dn],d=HT(e);let f=!0;if(3&r.type||o){const g=Or(r,e),y=o?o(g):g,T=d.length,b=o?Q=>o(kt(Q[r.index])):r.index;let j=null;if(!o&&a&&(j=function nY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Fc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,f=!1;else{s=bD(r,e,u,s,!1);const Q=n.listen(y,i,s);d.push(s,Q),l&&l.push(i,b,T,T+1)}}else s=bD(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const he=e[p[y]][p[y+1]].subscribe(s),Re=d.length;d.push(s,he),l&&l.push(i,r.index,Re,-(Re+1))}}}(s,i,i[je],o,t,e,r),Xt}function ID(t,e,n,r){try{return rs(6,e,n),!1!==n(r)}catch(i){return jT(t,i),!1}finally{rs(7,e,n)}}function bD(t,e,n,r,i){return function s(o){if(o===Function)return r;zd(t.componentOffset>-1?Qr(t.index,e):e);let c=ID(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=ID(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function hn(t=1){return function F$(t){return(Be.lFrame.contextLView=function V$(t,e){for(;t>0;)e=e[Lc],t--;return e}(t,Be.lFrame.contextLView))[dn]}(t)}function rY(t,e){let n=null;const r=function Hj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Bw(t,s,!0):jj(r,s))return i}else n=i}return n}function uy(t,e,n){return dy(t,"",e,"",n),uy}function dy(t,e,n,r,i){const s=ee(),o=pl(s,e,n,r);return o!==Ge&&Zr(lt(),Qt(),s,t,o,s[je],i,!1),dy}function lg(t,e){return t<<17|e<<2}function Ro(t){return t>>17&32767}function fy(t){return 2|t}function Pa(t){return(131068&t)>>2}function hy(t,e){return-131069&t|e<<2}function py(t){return 1|t}function OD(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ro(s):Pa(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];lY(t[a],e)&&(c=!0,t[a+1]=r?py(u):fy(u)),a=r?Ro(u):Pa(u)}c&&(t[n+1]=r?fy(s):py(s))}function lY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Jc(t,e)>=0}function Xd(t,e){return function Li(t,e,n,r){const i=ee(),s=lt(),o=function zs(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function $D(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Cr()],o=function jD(t,e){return e>=t.expandoStartIndex}(t,n);(function KD(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function vY(t,e,n,r){const i=function V_(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Jd(n=gy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=gy(i,t,e,n,r),null===s){let c=function yY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Pa(r))return t[Ro(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=gy(null,t,e,c[1],r),c=Jd(c,e.attrs,r),function EY(t,e,n,r){t[Ro(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function CY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Jd(r,t[s].hostAttrs,n);return Jd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function aY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ro(o),c=Pa(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Jc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=Ro(t[a+1]);t[r+1]=lg(f,a),0!==f&&(t[f+1]=hy(t[f+1],r)),t[a+1]=function sY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=lg(a,0),0!==a&&(t[a+1]=hy(t[a+1],r)),a=r;else t[r+1]=lg(c,0),0===a?a=r:t[c+1]=hy(t[c+1],r),c=r;l&&(t[r+1]=fy(t[r+1])),OD(t,u,r,!0),OD(t,u,r,!1),function cY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Jc(s,e)>=0&&(n[r+1]=py(n[r+1]))}(e,u,t,r,s),o=lg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Ge&&cr(i,o,e)&&function qD(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function oY(t){return 1==(1&t)}(l)?WD(c,e,n,i,Pa(l),o):void 0;ug(u)||(ug(s)||function iY(t){return 2==(2&t)}(l)&&(s=WD(c,null,n,i,a,o)),function rq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Po.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Po.Important),t.setStyle(n,r,i,s))}}(r,o,p0(Cr(),n),i,s))}(s,s.data[Cr()],i,i[je],t,i[o+1]=function wY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wn(Jr(t)))),t}(e,n),r,o)}(t,e,null,!0),Xd}function gy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Jd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Jd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xr(t,o,!!n||e[++s]))}return void 0===t?null:t}function WD(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Ge&&(f=d?gt:void 0);let h=d?Y_(f,r):u===r?f:void 0;if(l&&!ug(h)&&(h=Y_(c,r)),ug(h)&&(a=h,o))return a;const p=t[i+1];i=o?Ro(p):Pa(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Y_(c,r))}return a}function ug(t){return void 0!==t}function Y(t,e=""){const n=ee(),r=lt(),i=t+nt,s=r.firstCreatePass?fl(r,i,1,e,null):r.data[i],o=YD(r,n,s,e,t);n[i]=o,g0()&&F0(r,n,o,s),is(s,!1)}let YD=(t,e,n,r,i)=>(Mo(!0),function R0(t,e){return t.createText(e)}(e[je],r));function pt(t){return Ra("",t,""),pt}function Ra(t,e,n){const r=ee(),i=pl(r,t,e,n);return i!==Ge&&function Gs(t,e,n){const r=p0(e,t);!function m5(t,e,n){t.setValue(e,n)}(t[je],r,n)}(r,Cr(),i),Ra}function my(t,e,n){const r=ee();return cr(r,$c(),e)&&Zr(lt(),Qt(),r,t,e,r[je],n,!0),my}const ka=void 0;var WY=["en",[["a","p"],["AM","PM"],ka],[["AM","PM"],ka,ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ka,"{1} 'at' {0}",ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Al={};function br(t){const e=function KY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=gS(e);if(n)return n;const r=e.split("-")[0];if(n=gS(r),n)return n;if("en"===r)return WY;throw new re(701,!1)}function gS(t){return t in Al||(Al[t]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[t]),Al[t]}var Nt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Nt||{});const Tl="en-US";let mS=Tl;function yy(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let s=0;s<t.length;s++)yy(t[s],e,n,r,i);else{const s=lt(),o=ee(),a=Kn();let c=Sa(t)?t:He(t.provide);const l=Q5(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Sa(t)||!t.multi){const h=new bd(l,i,te),p=Cy(c,e,i?u:u+f,d);-1===p?(q_(E0(a,o),s,c),Ey(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=Cy(c,e,u+f,d),p=Cy(c,e,u,u+f),y=p>=0&&n[p];if(i&&!y||!i&&!(h>=0&&n[h])){q_(E0(a,o),s,c);const T=function qQ(t,e,n,r,i){const s=new bd(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,zS(s,i,r&&!n),s}(i?GQ:$Q,n.length,i,r,l);!i&&y&&(n[p].providerFactory=T),Ey(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else Ey(s,t,h>-1?h:p,zS(n[i?p:h],l,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Ey(t,e,n,r){const i=Sa(e),s=function Fq(t){return!!t.useClass}(e);if(i||s){const c=(s?He(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function zS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Cy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $Q(t,e,n,r){return xy(this.multi,[])}function GQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Aa(n,n[be],this.providerFactory.index,r);s=a.slice(0,o),xy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],xy(i,s);return s}function xy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $t(t,e=[]){return n=>{n.providersResolver=(r,i)=>function jQ(t,e,n){const r=lt();if(r.firstCreatePass){const i=Ni(t);yy(n,r.data,r.blueprint,i,!0),yy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Na{}class US{}class Iy extends Na{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QT(this);const i=Yr(e);this._bootstrapComponents=$s(i.bootstrap),this._r3Injector=uT(e,n,[{provide:Na,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver},...r],wn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class by extends US{constructor(e){super(),this.moduleType=e}create(e){return new Iy(this.moduleType,e,[])}}class jS extends Na{constructor(e){super(),this.componentFactoryResolver=new QT(this),this.instance=null;const n=new il([...e.providers,{provide:Na,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],e.parent||$0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function $S(t,e,n=null){return new jS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let YQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=q5(0,r.type),s=i.length>0?$S([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Ie({token:t,providedIn:"environment",factory:()=>new t(Se(yi))}),e})();function GS(t){t.getStandaloneInjector=e=>e.get(YQ).getOrCreateStandaloneInjector(t)}function Lr(t,e,n,r){return e7(ee(),Er(),t,e,n,r)}function ZS(t,e,n,r,i,s,o,a){const c=Er()+t,l=ee(),u=function Ei(t,e,n,r,i,s){const o=Ma(t,e,n,r);return Ma(t,e+2,i,s)||o}(l,c,n,r,i,s);return cr(l,c+4,o)||u?us(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):qd(l,c+5)}function sf(t,e){const n=t[e];return n===Ge?void 0:n}function e7(t,e,n,r,i,s){const o=e+n;return cr(t,o,i)?us(t,o+1,s?r.call(s,i):r(i)):sf(t,o+1)}function n7(t,e,n,r,i,s,o,a){const c=e+n;return function sg(t,e,n,r,i){const s=Ma(t,e,n,r);return cr(t,e+2,i)||s}(t,c,i,s,o)?us(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):sf(t,c+3)}function Gt(t,e){const n=lt();let r;const i=t+nt;n.firstCreatePass?(r=function dX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ba(r.type)),a=kr(te);try{const c=y0(!1),l=s();return y0(c),function YK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,l),l}finally{kr(a)}}function ei(t,e,n){const r=t+nt,i=ee(),s=Uc(i,r);return af(i,r)?e7(i,Er(),e,s.transform,n,s):s.transform(n)}function Ci(t,e,n,r,i){const s=t+nt,o=ee(),a=Uc(o,s);return af(o,s)?n7(o,Er(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function af(t,e){return t[be].data[e].pure}function gX(){return this._results[Symbol.iterator]()}class Ay{get changes(){return this._changes||(this._changes=new Tt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ay.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function _i(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function oG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function _X(t,e,n,r=!0){const i=e[be];if(function YG(t,e,n,r){const i=qn+r,s=n.length;r>0&&(n[i-1][ki]=e),r<s-qn?(e[ki]=n[i],qA(n,qn+r,e)):(n.push(e),e[ki]=null),e[jt]=n;const o=e[_d];null!==o&&n!==o&&function QG(t,e){const n=t[Hc];e[fn]!==e[jt][jt][fn]&&(t[qw]=!0),null===n?t[Hc]=[e]:n.push(e)}(o,e);const a=e[ts];null!==a&&a.insertView(t),e[We]|=128}(i,e,t,n),r){const s=dv(n,t),o=e[je],a=O0(o,t[ns]);null!==a&&function qG(t,e,n,r,i,s){r[en]=i,r[or]=e,Nd(t,r,n,1,i,s)}(i,t[or],o,e,a,s)}}let qs=(()=>{class e{}return e.__NG_ELEMENT_ID__=EX,e})();const vX=qs,yX=class extends vX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function mX(t,e,n,r){const i=e.tView,a=Z0(t,i,n,4096&t[We]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[_d]=t[e.index];const l=t[ts];return null!==l&&(a[ts]=l.createEmbeddedView(i)),ty(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new $d(i)}};function EX(){return gg(Kn(),ee())}function gg(t,e){return 4&t.type?new yX(e,t,cl(t,e)):null}let Hi=(()=>{class e{}return e.__NG_ELEMENT_ID__=AX,e})();function AX(){return d7(Kn(),ee())}const TX=Hi,l7=class extends TX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cl(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const e=C0(this._hostTNode,this._hostLView);if(j_(e)){const n=Ad(e,this._hostLView),r=wd(e);return new xr(n[be].data[r+8],n)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=u7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-qn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Dd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Gd(ct(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const y=(o?l:this.parentInjector).get(yi,null);y&&(s=y)}ct(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function E$(t){return vr(t[jt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[jt],u=new l7(l,l[or],l[jt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return _X(a,i,o,!r),e.attachToViewContainerRef(),qA(Ty(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=u7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=N0(this._lContainer,n);r&&(b0(Ty(this._lContainer),n),av(r[be],r))}detach(e){const n=this._adjustIndex(e,-1),r=N0(this._lContainer,n);return r&&null!=b0(Ty(this._lContainer),n)?new $d(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function u7(t){return t[8]}function Ty(t){return t[8]||(t[8]=[])}function d7(t,e){let n;const r=e[t.index];return vr(r)?n=r:(n=LT(r,e,null,t),e[t.index]=n,eg(e,n)),f7(n,e,t,r),new l7(n,t,e)}let f7=function h7(t,e,n,r){if(t[ns])return;let i;i=8&n.type?kt(r):function DX(t,e){const n=t[je],r=n.createComment(""),i=Or(e,t);return Ta(n,O0(n,i),r,function eq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[ns]=i};class Dy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Dy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Sy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==y7(e,n).matches&&this.queries[n].setDirty()}}class p7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class My{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new My(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Py{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Py(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,PX(n,s)),this.matchTNodeWithReadOption(e,n,x0(n,e,s,!1,!1))}else r===qs?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,x0(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ir||i===Hi||i===qs&&4&n.type)this.addMatch(n.index,-2);else{const s=x0(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function PX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function kX(t,e,n,r){return-1===n?function RX(t,e){return 11&t.type?cl(t,e):4&t.type?gg(t,e):null}(e,t):-2===n?function NX(t,e,n){return n===Ir?cl(e,t):n===qs?gg(e,t):n===Hi?d7(e,t):void 0}(t,e,r):Aa(t,t[be],n,e)}function g7(t,e,n,r){const i=e[ts].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:kX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Ry(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=g7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=qn;d<u.length;d++){const f=u[d];f[_d]===f[jt]&&Ry(f[be],f,l,r)}if(null!==u[Hc]){const d=u[Hc];for(let f=0;f<d.length;f++){const h=d[f];Ry(h[be],h,l,r)}}}}}return r}function ti(t){const e=ee(),n=lt(),r=wA();L_(r+1);const i=y7(n,r);if(t.dirty&&function v$(t){return 4==(4&t[We])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Ry(n,e,r,[]):g7(n,e,i,r);t.reset(s,rW),t.notifyOnChanges()}return!0}return!1}function xi(t,e,n){const r=lt();r.firstCreatePass&&(function v7(t,e,n){null===t.queries&&(t.queries=new My),t.queries.track(new Py(e,n))}(r,new p7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function _7(t,e,n){const r=new Ay(4==(4&n));(function FW(t,e,n,r){const i=HT(e);i.push(n),t.firstCreatePass&&zT(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[ts]&&(e[ts]=new Sy),e[ts].queries.push(new Dy(r))}(r,ee(),e)}function ni(){return function OX(t,e){return t[ts].queries[e].queryList}(ee(),wA())}function y7(t,e){return t.queries.getByIndex(e)}const F7=new Ee("Application Initializer");let Ly=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=K(F7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Qd(o))r.push(o);else if(ED(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),V7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Ws=new Ee("LocaleId",{providedIn:"root",factory:()=>K(Ws,ot.Optional|ot.SkipSelf)||function iJ(){return typeof $localize<"u"&&$localize.locale||Tl}()});let vg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hi(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class aJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let cJ=(()=>{var t;class e{compileModuleSync(r){return new by(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=$s(Yr(r).declarations).reduce((a,c)=>{const l=ct(c);return l&&a.push(new Gd(l)),a},[]);return new aJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const z7=new Ee(""),Eg=new Ee("");let jy,zy=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jy||(function MJ(t){jy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(ft),Se(Uy),Se(Eg))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})(),Uy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return jy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ko=null;const U7=new Ee("AllowMultipleToken"),$y=new Ee("PlatformDestroyListeners"),j7=new Ee("appBootstrapListener");function q7(t,e,n=[]){const r=`Platform: ${e}`,i=new Ee(r);return(s=[])=>{let o=Gy();if(!o||o.injector.get(U7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function kJ(t){if(ko&&!ko.get(U7,!1))throw new re(400,!1);(function $7(){!function s$(t){iA=t}(()=>{throw new re(600,!1)})})(),ko=t;const e=t.get(K7);(function G7(t){t.get(X5,null)?.forEach(n=>n())})(t)}(function W7(t=[],e){return Tn.create({name:e,providers:[{provide:Iv,useValue:"platform"},{provide:$y,useValue:new Set([()=>ko=null])},...t]})}(a,r))}return function OJ(t){const e=Gy();if(!e)throw new re(401,!1);return e}()}}function Gy(){return ko?.get(K7)??null}let K7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function FJ(t="zone.js",e){return"noop"===t?new _W:"zone.js"===t?new ft(e):t}(i?.ngZone,function Y7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function KQ(t,e,n){return new Iy(t,e,n)}(r.moduleType,this.injector,function eM(t){return[{provide:ft,useFactory:t},{provide:Vd,multi:!0,useFactory:()=>{const e=K(LJ,{optional:!0});return()=>e.initialize()}},{provide:Z7,useFactory:VJ},{provide:gT,useFactory:mT}]}(()=>s)),a=o.injector.get(js,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{Cg(this._modules,o),c.unsubscribe()})}),function Q7(t,e,n){try{const r=n();return Qd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(Ly);return c.runInitializers(),c.donePromise.then(()=>(function _S(t){gi(t,"Expected localeId to be defined"),"string"==typeof t&&(mS=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ws,Tl)||Tl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=X7({},i);return function PJ(t,e,n){const r=new by(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(uf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new re(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get($y,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Tn))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function X7(t,e){return Array.isArray(e)?e.reduce(X7,t):{...t,...e}}let uf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(Z7),this.zoneIsStable=K(gT),this.componentTypes=[],this.components=[],this.isStable=K(vg).hasPendingTasks.pipe(pi(r=>r?Ve(!1):this.zoneIsStable),xw(),Cw()),this._injector=K(yi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof nT;if(!this._injector.get(Ly).done)throw!s&&function Oc(t){const e=ct(t)||Gn(t)||_r(t);return null!==e&&e.standalone}(r),new re(405,!1);let a;a=s?r:this._injector.get(Hd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function RJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Na),u=a.create(Tn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(z7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Cg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Cg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(j7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Cg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new re(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Cg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Z7=new Ee("",{providedIn:"root",factory:()=>K(js).handleError.bind(void 0)});function VJ(){const t=K(ft),e=K(js);return n=>t.runOutsideAngular(()=>e.handleError(n))}let LJ=(()=>{var t;class e{constructor(){this.zone=K(ft),this.applicationRef=K(uf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let No=(()=>{class e{}return e.__NG_ELEMENT_ID__=zJ,e})();function zJ(t){return function UJ(t,e,n){if(Ia(t)&&!n){const r=Qr(t.index,e);return new $d(r,r)}return 47&t.type?new $d(e[fn],e):null}(Kn(),ee(),16==(16&t))}class iM{constructor(){}supports(e){return ig(e)}create(e){return new KJ(e)}}const WJ=(t,e)=>e;class KJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||WJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<oM(r,i,s)?n:r,a=oM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ig(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function DK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new YJ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new sM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class YJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new QJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class aM{constructor(){}supports(e){return e instanceof Map||ny(e)}create(){return new XJ}}class XJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||ny(e)))throw new re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new JJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class JJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cM(){return new bg([new iM])}let bg=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||cM()),deps:[[e,new X_,new tn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:cM}),e})();function lM(){return new df([new aM])}let df=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||lM()),deps:[[e,new X_,new tn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:lM}),e})();const tZ=q7(null,"core",[]);let nZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(uf))},t.\u0275mod=At({type:t}),t.\u0275inj=Ct({}),e})();let Xy=null;function Oo(){return Xy}class gZ{}const Hr=new Ee("DocumentToken");let vM=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return K(mZ)},providedIn:"platform"}),e})(),mZ=(()=>{var t;class e extends vM{constructor(){super(),this._doc=K(Hr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Oo().getBaseHref(this._doc)}onPopState(r){const i=Oo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Oo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function yM(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function EM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Fa(t){return t&&"?"!==t[0]?"?"+t:t}let Ag=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return K(vZ)},providedIn:"root"}),e})();const _Z=new Ee("appBaseHref");let vZ=(()=>{var t;class e extends Ag{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??K(Hr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return yM(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Fa(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Fa(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Fa(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(vM),Se(_Z,8))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Jy=(()=>{var t;class e{constructor(r){this._subject=new Tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function CZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(EM(CM(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Fa(i))}normalize(r){return e.stripTrailingSlash(function EZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,CM(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fa(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fa(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Fa,t.joinWithSlash=yM,t.stripTrailingSlash=EM,t.\u0275fac=function(r){return new(r||t)(Se(Ag))},t.\u0275prov=Ie({token:t,factory:function(){return function yZ(){return new Jy(Se(Ag))}()},providedIn:"root"}),e})();function CM(t){return t.replace(/\/index.html$/,"")}var Tg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Tg||{}),pn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(pn||{});function Ii(t,e){const n=br(t),r=n[Nt.NumberSymbols][e];if(typeof r>"u"){if(e===pn.CurrencyDecimal)return n[Nt.NumberSymbols][pn.Decimal];if(e===pn.CurrencyGroup)return n[Nt.NumberSymbols][pn.Group]}return r}const KZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function o4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function MM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const c4=/\s+/,PM=[];let l4=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=PM,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(c4):PM}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(c4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(c4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(te(bg),te(df),te(Ir),te(cs))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class oee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new oee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),kM(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{kM(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Hi),te(qs),te(bg))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function kM(t,e){t.context.$implicit=e.item}let Qs=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new aee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){NM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){NM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Hi),te(qs))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class aee{constructor(){this.$implicit=null,this.ngIf=null}}function NM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wn(e)}'.`)}function Ui(t,e){return new re(2100,!1)}class uee{createSubscription(e,n){return aA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){aA(()=>e.unsubscribe())}}class dee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const fee=new dee,hee=new uee;let pf=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Qd(r))return fee;if(ED(r))return hee;throw Ui()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(te(No,16))},t.\u0275pipe=$n({name:"async",type:t,pure:!1,standalone:!0}),e})(),FM=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=VM}transform(r,i=VM){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Aee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(te(df,16))},t.\u0275pipe=$n({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function VM(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Fo=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function f4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function eee(t,e,n){return function i4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function nee(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function tee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const b=s.match(KZ);if(null===b)throw new Error(`${s} is not a valid digit info`);const j=b[1],Q=b[3],he=b[5];null!=j&&(u=o4(j)),null!=Q&&(d=o4(Q)),null!=he?f=o4(he):null!=Q&&d>f&&(f=d)}!function ree(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let y=[];for(c=h.every(b=>!b);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);const T=[];for(h.length>=e.lgSize&&T.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)T.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&T.unshift(h.join("")),a=T.join(Ii(n,r)),y.length&&(a+=Ii(n,i)+y.join("")),g&&(a+=Ii(n,pn.Exponential)+"+"+g)}else a=Ii(n,pn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function s4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Zy(t,e){return br(t)[Nt.NumberFormats][e]}(e,Tg.Decimal),Ii(e,pn.MinusSign)),e,pn.Group,pn.Decimal,n)}(function h4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Ui()}}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Ws,16))},t.\u0275pipe=$n({name:"number",type:t,pure:!0,standalone:!0}),e})();let See=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Ct({}),e})();const Mee="server";function p4(t){return t===Mee}class BM{}class nte extends gZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _4 extends nte{static makeCurrent(){!function pZ(t){Xy||(Xy=t)}(new _4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function rte(){return mf=mf||document.querySelector("base"),mf?mf.getAttribute("href"):null}();return null==n?null:function ite(t){Hg=Hg||document.createElement("a"),Hg.setAttribute("href",t);const e=Hg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){mf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return MM(document.cookie,e)}}let Hg,mf=null,ote=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const v4=new Ee("EventManagerPlugins");let $M=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(v4),Se(ft))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();class GM{constructor(e){this._doc=e}}const y4="ng-app-id";let qM=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=p4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${y4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(y4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(y4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr),Se(G0),Se(J5,8),Se(as))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const E4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},C4=/%COMP%/g,ute=new Ee("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function KM(t,e){return e.map(n=>n.replace(C4,t))}let YM=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=p4(c),this.defaultRenderer=new x4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Pi.ShadowDom&&(i={...i,encapsulation:Pi.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof XM?s.applyToHost(r):s instanceof I4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Pi.Emulated:o=new XM(l,u,i,this.appId,d,a,c,f);break;case Pi.ShadowDom:return new pte(l,u,r,i,a,c,this.nonce,f);default:o=new I4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Se($M),Se(qM),Se(G0),Se(ute),Se(Hr),Se(as),Se(ft),Se(J5))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();class x4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(E4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=E4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=E4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Po.DashCase|Po.Important)?e.style.setProperty(n,r,i&Po.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Po.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Oo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function QM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class pte extends x4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=KM(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class I4 extends x4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?KM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class XM extends I4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function dte(t){return"_ngcontent-%COMP%".replace(C4,t)}(l),this.hostAttr=function fte(t){return"_nghost-%COMP%".replace(C4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let gte=(()=>{var t;class e extends GM{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const JM=["alt","control","meta","shift"],mte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_te={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vte=(()=>{var t;class e extends GM{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),JM.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=mte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),JM.forEach(a=>{a!==s&&(0,_te[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const eP=[{provide:as,useValue:"browser"},{provide:X5,useValue:function yte(){_4.makeCurrent()},multi:!0},{provide:Hr,useFactory:function Cte(){return function cq(t){pv=t}(document),document},deps:[]}],xte=q7(tZ,"browser",eP),Ite=new Ee(""),tP=[{provide:Eg,useClass:class ste{addToWindow(e){Rt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new re(5103,!1);return s},Rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rt.getAllAngularRootElements=()=>e.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const i=Rt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Oo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:z7,useClass:zy,deps:[ft,Uy,Eg]},{provide:zy,useClass:zy,deps:[ft,Uy,Eg]}],nP=[{provide:Iv,useValue:"root"},{provide:js,useFactory:function Ete(){return new js},deps:[]},{provide:v4,useClass:gte,multi:!0,deps:[Hr,ft,as]},{provide:v4,useClass:vte,multi:!0,deps:[Hr]},YM,qM,$M,{provide:iT,useExisting:YM},{provide:BM,useClass:ote,deps:[]},[]];let zr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:G0,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Ite,12))},t.\u0275mod=At({type:t}),t.\u0275inj=Ct({providers:[...nP,...tP],imports:[See,nZ]}),e})(),b4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr))},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new r:function wte(){return new b4(Se(Hr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let sP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new(r||t):Se(oP),i},providedIn:"root"}),e})(),oP=(()=>{var t;class e extends sP{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case vi.NONE:return i;case vi.HTML:return os(i,"HTML")?Jr(i):B5(this._doc,String(i)).toString();case vi.STYLE:return os(i,"Style")?Jr(i):i;case vi.SCRIPT:if(os(i,"Script"))return Jr(i);throw new re(5200,!1);case vi.URL:return os(i,"URL")?Jr(i):H0(String(i));case vi.RESOURCE_URL:if(os(i,"ResourceURL"))return Jr(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(r){return function gq(t){return new lq(t)}(r)}bypassSecurityTrustStyle(r){return function mq(t){return new uq(t)}(r)}bypassSecurityTrustScript(r){return function _q(t){return new dq(t)}(r)}bypassSecurityTrustUrl(r){return function vq(t){return new fq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function yq(t){return new hq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr))},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new r:function Ste(t){return new oP(t.get(Hr))}(Se(Tn)),i},providedIn:"root"}),e})();class A4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class cP{constructor(){this._orbit=0,this._ground=0,this._workers=new A4,this._soldiers=new A4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class T4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Mte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new cP,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new T4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class lP{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new A4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var ur=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(ur||{});class Pte{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Rte{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ft=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ft||{});class uP{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let kte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new lP,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=ur.RESOURCE;break;case 1:s=ur.SURFACE;break;case 2:s=ur.FLEET;break;default:s=ur.UNKNOWN}});let o=new Pte(r,s);if(s!==ur.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new uP(c.split("Owner:")[1].trim(),""):new uP("Uninhabited Planet",a.substring(1,a.length-1)),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")}if((s===ur.RESOURCE||s===ur.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim())),s===ur.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new T4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===ur.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new T4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Rte(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Ft.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Ft.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Ft.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Ft.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Ft.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Ft.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Ft.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Ft.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Ft.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Ft.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Ft.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Ft.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Ft.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Nte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new cP;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class zg{constructor(){this._planets=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._relation="neutral"}get relation(){return this._relation}set relation(e){this._relation=e}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{relation:this.relation,playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}let Ote=(()=>{var t;class e{constructor(){}cleanAfterExtract(){}extract(){let r=new Map;return document.querySelectorAll(".rankingsList .entry").forEach(i=>{const s=parseInt(i.querySelector(".playerName").attributes.playerId.value.trim());r.has(s)||r.set(s,new zg);let o=r.get(s);o.name=i.querySelector(".playerName").textContent.trim().toLowerCase(),o.playerId=s,o.score=parseInt(i.querySelector(".score").textContent.trim().replace(/,/g,"")),o.rank=parseInt(i.querySelector(".rank").textContent.trim().replace(/,/g,"")),o.combinedScore=o.combatScore+o.score,o.alliance=i.querySelector(".allianceName")?i.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",i.classList.contains("myRow")?o.relation="self":i.querySelector(".hostile")?o.relation="neutral":i.querySelector(".allied")&&(o.relation="allied"),"sol"===o.alliance&&(o.relation="nap"),("wp"===o.alliance||"skol"===o.alliance)&&(o.relation="hostile")}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Rl;class hs{constructor(){this.planetListExtractor=K(Mte),this.planetScanExtractor=K(kte),this.navigationSystemPlanetsExtractor=K(Nte),this.playerRankingsService=K(Ote),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}playerRankings(){return this.playerRankingsService.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function _f(t){return(_f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vt(t,e,n){return(e=function Vte(t){var e=function Fte(t,e){if("object"!==_f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_f(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dP(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){dP(s,r,i,o,a,"next",c)}function a(c){dP(s,r,i,o,a,"throw",c)}o(void 0)})}}(Rl=hs).\u0275fac=function(e){return new(e||Rl)},Rl.\u0275prov=Ie({token:Rl,factory:Rl.\u0275fac,providedIn:"platform"}),un([di(0,tn())],hs.prototype,"username",null);const fP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},S4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new zte;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ug=function(t){return function(t){const e=fP(t);return S4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},jg=function(t){try{return S4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $g=()=>{try{return pP().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},gP=t=>{var e,n;return null===(n=null===(e=$g())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},mP=()=>{var t;return null===(t=$g())||void 0===t?void 0:t.config},_P=t=>{var e;return null===(e=$g())||void 0===e?void 0:e[`_${t}`]};class kl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Nn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function M4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function vf(){try{return"object"==typeof indexedDB}catch{return!1}}function P4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function vP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function ene(t,e){return t.replace(tne,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ji(i,`${this.serviceName}: ${o} (${i}).`,r)}}const tne=/\{\$([^}]+)}/g;function yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(EP(s)&&EP(o)){if(!yf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EP(t){return null!==t&&"object"==typeof t}function Ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class ine{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function sne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=R4),void 0===i.error&&(i.error=R4),void 0===i.complete&&(i.complete=R4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R4(){}const one=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},ane=1e3,cne=2,lne=144e5,une=.5;function N4(t,e=ane,n=cne){const r=e*Math.pow(n,t),i=Math.round(une*r*(Math.random()-.5)*2);return Math.min(lne,r+i)}function rn(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Va="[DEFAULT]";class fne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function pne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Va?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const O4=[];var at=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(at||{});const CP={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},mne=at.INFO,_ne={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},vne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=_ne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class If{constructor(e){this.name=e,this._logLevel=mne,this._logHandler=vne,this._userLogHandler=null,O4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?CP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const yne=(t,e)=>e.some(n=>t instanceof n);let xP,IP;const bP=new WeakMap,F4=new WeakMap,wP=new WeakMap,V4=new WeakMap,L4=new WeakMap;let B4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return F4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ane(t){return"function"==typeof t?function wne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Cne(){return IP||(IP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(H4(this),e),Bo(bP.get(this))}:function(...e){return Bo(t.apply(H4(this),e))}:function(e,...n){const r=t.call(H4(this),e,...n);return wP.set(r,e.sort?e.sort():[e]),Bo(r)}}(t):(t instanceof IDBTransaction&&function Ine(t){if(F4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});F4.set(t,e)}(t),yne(t,function Ene(){return xP||(xP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,B4):t)}function Bo(t){if(t instanceof IDBRequest)return function xne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bP.set(n,t)}).catch(()=>{}),L4.set(e,t),e}(t);if(V4.has(t))return V4.get(t);const e=Ane(t);return e!==t&&(V4.set(t,e),L4.set(e,t)),e}const H4=t=>L4.get(t),Dne=["get","getKey","getAll","getAllKeys","count"],Sne=["put","add","delete","clear"],z4=new Map;function AP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(z4.get(e))return z4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dne.includes(n))return;const s=function(){var o=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return z4.set(e,s),s}!function bne(t){B4=t(B4)}(t=>({...t,get:(e,n,r)=>AP(e,n)||t.get(e,n,r),has:(e,n)=>!!AP(e,n)||t.has(e,n)}));class Mne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Pne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const U4="@firebase/app",La=new If("@firebase/app"),qg="[DEFAULT]",rre={[U4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ba=new Map,Wg=new Map;function ire(t,e){try{t.container.addComponent(e)}catch(n){La.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wi(t){const e=t.name;if(Wg.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(const n of Ba.values())ire(n,t);return!0}function ps(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Xs=new Lo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ore{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const Nl="10.5.2";function DP(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:qg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(n||(n=mP()),!n)throw Xs.create("no-options");const s=Ba.get(i);if(s){if(yf(n,s.options)&&yf(r,s.config))return s;throw Xs.create("duplicate-app",{appName:i})}const o=new gne(i);for(const c of Wg.values())o.addComponent(c);const a=new ore(n,r,o);return Ba.set(i,a),a}function Ol(t=qg){const e=Ba.get(t);if(!e&&t===qg&&mP())return DP();if(!e)throw Xs.create("no-app",{appName:t});return e}function SP(){return Array.from(Ba.values())}function sn(t,e,n){var r;let i=null!==(r=rre[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void La.warn(a.join(" "))}wi(new ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const are="firebase-heartbeat-database",cre=1,bf="firebase-heartbeat-store";let $4=null;function MP(){return $4||($4=function Tne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Bo(o.result),c.oldVersion,c.newVersion,Bo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(are,cre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(bf)}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),$4}function G4(){return(G4=_(function*(t){try{return yield(yield MP()).transaction(bf).objectStore(bf).get(RP(t))}catch(e){if(e instanceof ji)La.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e?.message});La.warn(n.message)}}})).apply(this,arguments)}function PP(t,e){return q4.apply(this,arguments)}function q4(){return(q4=_(function*(t,e){try{const r=(yield MP()).transaction(bf,"readwrite");yield r.objectStore(bf).put(e,RP(t)),yield r.done}catch(n){if(n instanceof ji)La.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n?.message});La.warn(r.message)}}})).apply(this,arguments)}function RP(t){return`${t.name}!${t.options.appId}`}class fre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=kP(),{heartbeatsToSend:r,unsentEntries:i}=function hre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ug(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function kP(){return(new Date).toISOString().substring(0,10)}class pre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!vf()&&P4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function lre(t){return G4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return PP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return PP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function NP(t){return Ug(JSON.stringify({version:2,heartbeats:t})).length}!function gre(t){wi(new ii("platform-logger",e=>new Mne(e),"PRIVATE")),wi(new ii("heartbeat",e=>new fre(e),"PRIVATE")),sn(U4,"0.9.22",t),sn(U4,"0.9.22","esm2017"),sn("fire-js","")}(""),sn("firebase","10.5.2","app");class vre extends J{constructor(e,n){super()}schedule(e,n=0){return this}}const Kg={setInterval(t,e,...n){const{delegate:r}=Kg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Kg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class OP extends vre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Kg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Kg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const FP={now:()=>(FP.delegate||Date).now(),delegate:void 0};class wf{constructor(e,n=wf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}wf.now=FP.now;class VP extends wf{constructor(e,n=wf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Cre=new class Ere extends VP{}(class yre extends OP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),xre=new VP(OP);function Qn(t,e,n){const r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?Fe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(tt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ve}const Ho=new ll("ANGULARFIRE2_VERSION");function Yg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Qg=(t,e)=>{const n=e?[e]:SP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class W4{constructor(){return Qg(LP)}}const LP="app-check";function Fl(){}class BP{constructor(e,n=Cre){vt(this,"zone",void 0),vt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class bre{constructor(e){vt(this,"zone",void 0),vt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)),n.pipe(Qn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Af=(()=>{var t;class e{constructor(r){vt(this,"ngZone",void 0),vt(this,"outsideAngular",void 0),vt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new BP(Zone.current)),this.insideAngular=r.run(()=>new BP(Zone.current,xre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(ft))}),vt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Vl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ha(t){return Vl().ngZone.run(()=>t())}function Are(t){return function Tre(t){return function(n){return(n=n.lift(new bre(t.ngZone))).pipe(Jp(t.outsideAngular),Xp(t.insideAngular))}}(Vl())(t)}const Dre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ha(()=>t.apply(void 0,r))},En=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Ha(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl))),r[s]=Dre(r[s],n));const i=function wre(t){return Vl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof fe){const s=Vl();return i.pipe(Jp(s.outsideAngular),Xp(s.insideAngular))}return Ha(()=>i)}return i instanceof fe?i.pipe(Are):i instanceof Promise?Ha(()=>new Promise((s,o)=>i.then(a=>Ha(()=>s(a)),a=>Ha(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ha(()=>i)};class za{constructor(e){return e}}class Tf{constructor(){return SP()}}const K4=new Ee("angularfire2._apps"),Mre={provide:za,useFactory:function Sre(t){return t&&1===t.length?t[0]:new za(Ol())},deps:[[new tn,K4]]},Pre={provide:Tf,deps:[[new tn,K4]]};function Rre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new za(r)}}let kre=(()=>{var t;class e{constructor(r){sn("angularfire",Ho.full,"core"),sn("angularfire",Ho.full,"app"),sn("angular",sT.full,r.toString())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(as))}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",Ct({providers:[Mre,Pre]})),e})();function Js(t,...e){return{ngModule:kre,providers:[{provide:K4,useFactory:Rre(t),multi:!0,deps:[ft,Tn,Af,...e]}]}}const Zs=En(Ol,!0),eo=En(DP,!0);const Nre=function HP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zP=new Lo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xg=new If("@firebase/auth");function Jg(t,...e){Xg.logLevel<=at.ERROR&&Xg.error(`Auth (${Nl}): ${t}`,...e)}function Ur(t,...e){throw Y4(t,...e)}function si(t,...e){return Y4(t,...e)}function UP(t,e,n){const r=Object.assign(Object.assign({},Nre()),{[e]:n});return new Lo("auth","Firebase",r).create(e,{appName:t.name})}function Y4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zP.create(t,...e)}function ge(t,e,...n){if(!t)throw Y4(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jg(e),new Error(e)}function to(t,e){t||gs(e)}function Df(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function jP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,to(n>e,"Short delay should be less than long delay!"),this.isMobile=function Yte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}()||function Xte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Fre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Q4(){return"http:"===jP()||"https:"===jP()}()||M4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function X4(t,e){to(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class $P{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bre=new Sf(3e4,6e4);function qt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Jt(t,e,n,r){return J4.apply(this,arguments)}function J4(){return(J4=_(function*(t,e,n,r,i={}){return GP(t,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ef(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),$P.fetch()(qP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function GP(t,e,n){return Z4.apply(this,arguments)}function Z4(){return(Z4=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lre),e);try{const i=new zre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Mf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Mf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Mf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Mf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw UP(t,u,l);Ur(t,u)}}catch(i){if(i instanceof ji)throw i;Ur(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function no(t,e,n,r){return e6.apply(this,arguments)}function e6(){return(e6=_(function*(t,e,n,r,i={}){const s=yield Jt(t,e,n,r,i);return"mfaPendingCredential"in s&&Ur(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function qP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?X4(t.config,i):`${t.config.apiScheme}://${i}`}function Hre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),Bre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=si(t,e,r);return i.customData._tokenResponse=n,i}function KP(t){return void 0!==t&&void 0!==t.enterprise}class YP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Hre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function QP(t,e){return n6.apply(this,arguments)}function n6(){return(n6=_(function*(t,e){return Jt(t,"GET","/v2/recaptchaConfig",qt(t,e))})).apply(this,arguments)}function r6(){return(r6=_(function*(t,e){return Jt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function s6(){return(s6=_(function*(t,e){return Jt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function o6(){return(o6=_(function*(t,e=!1){const n=rn(t),r=yield n.getIdToken(e),i=Zg(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Pf(a6(i.auth_time)),issuedAtTime:Pf(a6(i.iat)),expirationTime:Pf(a6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function a6(t){return 1e3*Number(t)}function Zg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Jg("JWT malformed, contained fewer than 3 sections"),null;try{const i=jg(n);return i?JSON.parse(i):(Jg("Failed to decode base64 JWT payload"),null)}catch(i){return Jg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ro(t,e){return c6.apply(this,arguments)}function c6(){return(c6=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ji&&function Kre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Yre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class XP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rf(t){return l6.apply(this,arguments)}function l6(){return l6=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ro(t,function Gre(t,e){return s6.apply(this,arguments)}(n,{idToken:r}));ge(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Jre(t){return t.map(e=>{var{providerId:n}=e,r=rr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Xre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new XP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),l6.apply(this,arguments)}function u6(){return(u6=_(function*(t){const e=rn(t);yield Rf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function d6(){return(d6=_(function*(t,e){const n=yield GP(t,{},_(function*(){const r=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$P.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Wre(t){const e=Zg(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return ge(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Zre(t,e){return d6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new kf;return r&&(ge("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(ge("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(ge("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kf,this.toJSON())}_performRefresh(){return gs("not implemented")}}function zo(t,e){ge("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ua{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=rr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new XP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield ro(n,n.stsTokenManager.getToken(n.auth,e));return ge(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function qre(t){return o6.apply(this,arguments)}(this,e)}reload(){return function Qre(t){return u6.apply(this,arguments)}(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ua(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Rf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield ro(e,function jre(t,e){return r6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(l=n.createdAt)&&void 0!==l?l:void 0,b=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:j,emailVerified:Q,isAnonymous:he,providerData:Re,stsTokenManager:Ke}=n;ge(j&&Ke,e,"internal-error");const Yt=kf.fromJSON(this.name,Ke);ge("string"==typeof j,e,"internal-error"),zo(d,e.name),zo(f,e.name),ge("boolean"==typeof Q,e,"internal-error"),ge("boolean"==typeof he,e,"internal-error"),zo(h,e.name),zo(p,e.name),zo(g,e.name),zo(y,e.name),zo(T,e.name),zo(b,e.name);const Rn=new Ua({uid:j,auth:e,email:f,emailVerified:Q,displayName:d,isAnonymous:he,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:Yt,createdAt:T,lastLoginAt:b});return Re&&Array.isArray(Re)&&(Rn.providerData=Re.map(va=>Object.assign({},va))),y&&(Rn._redirectEventId=y),Rn}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new kf;i.updateFromServerResponse(n);const s=new Ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rf(s),s})()}}const JP=new Map;function io(t){to(t instanceof Function,"Expected a class definition");let e=JP.get(t);return e?(to(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JP.set(t,e),e)}const ZP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function e1(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=e1(this.userKey,i.apiKey,s),this.fullPersistenceKey=e1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ua._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new Bl(io(ZP),e,r);const i=(yield Promise.all(n.map(function(){var l=_(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||io(ZP);const o=e1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Ua._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=_(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Bl(s,e,r)):new Bl(s,e,r)})()}}function eR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sR(e))return"Blackberry";if(oR(e))return"Webos";if(f6(e))return"Safari";if((e.includes("chrome/")||nR(e))&&!e.includes("edge/"))return"Chrome";if(iR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function tR(t=Nn()){return/firefox\//i.test(t)}function f6(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nR(t=Nn()){return/crios\//i.test(t)}function rR(t=Nn()){return/iemobile/i.test(t)}function iR(t=Nn()){return/android/i.test(t)}function sR(t=Nn()){return/blackberry/i.test(t)}function oR(t=Nn()){return/webos/i.test(t)}function t1(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aR(t=Nn()){return t1(t)||iR(t)||oR(t)||sR(t)||/windows phone/i.test(t)||rR(t)}function cR(t,e=[]){let n;switch(t){case"Browser":n=eR(Nn());break;case"Worker":n=`${eR(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}class rie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function h6(){return(h6=_(function*(t,e={}){return Jt(t,"GET","/v2/passwordPolicy",qt(t,e))})).apply(this,arguments)}class oie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class aie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lR(this),this.idTokenSubscription=new lR(this),this.beforeStateQueue=new rie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=io(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Bl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return ge(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield Rf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Vre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?rn(e):null;return r&&ge(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&ge(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(io(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return _(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return _(function*(){const n=yield function iie(t){return h6.apply(this,arguments)}(e),r=new oie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&io(e)||n._popupRedirectResolver;ge(r,n,"argument-error"),n.redirectPersistenceManager=yield Bl.create(n,[io(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Ore(t,...e){Xg.logLevel<=at.WARN&&Xg.warn(`Auth (${Nl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Cn(t){return rn(t)}class lR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function rne(t,e){const n=new ine(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function p6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=si("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function cie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function uR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class dR{constructor(e){this.type="recaptcha-enterprise",this.auth=Cn(e)}verify(e="verify",n=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,u){QP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new YP(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;KP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&KP(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));p6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function fR(t,e,n){return g6.apply(this,arguments)}function g6(){return(g6=_(function*(t,e,n,r=!1){const i=new dR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function m6(){return m6=_(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield fR(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=_(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield fR(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),m6.apply(this,arguments)}function hR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class v6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}function mR(t,e){return E6.apply(this,arguments)}function E6(){return(E6=_(function*(t,e){return Jt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function yie(t,e){return x6.apply(this,arguments)}function x6(){return(x6=_(function*(t,e){return no(t,"POST","/v1/accounts:signInWithPassword",qt(t,e))})).apply(this,arguments)}function D6(){return(D6=_(function*(t,e){return no(t,"POST","/v1/accounts:signInWithEmailLink",qt(t,e))})).apply(this,arguments)}function S6(){return(S6=_(function*(t,e){return no(t,"POST","/v1/accounts:signInWithEmailLink",qt(t,e))})).apply(this,arguments)}class Nf extends v6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return _(function*(){switch(n.signInMethod){case"password":return function n1(t,e,n,r){return m6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yie);case"emailLink":return function bie(t,e){return D6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Ur(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return _(function*(){switch(r.signInMethod){case"password":return mR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function wie(t,e){return S6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Ur(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function so(t,e){return M6.apply(this,arguments)}function M6(){return(M6=_(function*(t,e){return no(t,"POST","/v1/accounts:signInWithIdp",qt(t,e))})).apply(this,arguments)}class Hl extends v6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=rr(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return so(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,so(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ef(n)}return e}}class Ff{constructor(e){var n,r,i,s,o,a;const c=Cf(xf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Rie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ge(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function kie(t){const e=Cf(xf(t)).link,n=e?Cf(xf(e)).deep_link_id:null,r=Cf(xf(t)).deep_link_id;return(r?Cf(xf(r)).link:null)||r||n||e||t}(e);try{return new Ff(n)}catch{return null}}}let _R=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Nf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Ff.parseLink(r);return ge(i,"argument-error"),Nf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vR extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Nie=(()=>{class t extends vR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Hl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(function*(){const s=yield Ua._fromIdTokenResponse(e,r,i),o=ER(r);return new Ai({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=ER(r);return new Ai({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function ER(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class s1 extends ji{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,s1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new s1(e,n,r,i)}}function CR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?s1._fromErrorAndOperation(t,s,e,r):s})}function H6(){return(H6=_(function*(t,e,n=!1){const r=yield ro(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ai._forOperation(t,"link",r)})).apply(this,arguments)}function U6(){return(U6=_(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ro(t,CR(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=Zg(s.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),Ai._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Ur(r,"user-mismatch"),s}})).apply(this,arguments)}function bR(t,e){return j6.apply(this,arguments)}function j6(){return(j6=_(function*(t,e,n=!1){const r="signIn",i=yield CR(t,r,e),s=yield Ai._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function G6(){return(G6=_(function*(t,e){return bR(Cn(t),e)})).apply(this,arguments)}function e3(){return(e3=_(function*(t){const e=Cn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function zie(t,e,n){return function $6(t,e){return G6.apply(this,arguments)}(rn(t),_R.credential(e,n)).catch(function(){var r=_(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function Z6(t){return e3.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const c1="__sak";class AR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(c1,"1"),this.storage.removeItem(c1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sse=(()=>{class t extends AR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nse(){const t=Nn();return f6(t)||t1(t)}()&&function nie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=aR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function tie(){return function Jte(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),TR=(()=>{class t extends AR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let ase=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=_(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function ose(t){return Promise.all(t.map(function(){var e=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function l1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class cse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=l1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xn(){return window}function x3(){return typeof xn().WorkerGlobalScope<"u"&&"function"==typeof xn().importScripts}function I3(){return(I3=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const DR="firebaseLocalStorageDb",u1="firebaseLocalStorage",SR="fbase_key";class Lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function d1(t,e){return t.transaction([u1],e?"readwrite":"readonly").objectStore(u1)}function b3(){const t=indexedDB.open(DR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(u1,{keyPath:SR})}catch(i){n(i)}}),t.addEventListener("success",_(function*(){const r=t.result;r.objectStoreNames.contains(u1)?e(r):(r.close(),yield function pse(){const t=indexedDB.deleteDatabase(DR);return new Lf(t).toPromise()}(),e(yield b3()))}))})}function MR(t,e,n){return w3.apply(this,arguments)}function w3(){return(w3=_(function*(t,e,n){const r=d1(t,!0).put({[SR]:e,value:n});return new Lf(r).toPromise()})).apply(this,arguments)}function A3(){return(A3=_(function*(t,e){const n=d1(t,!1).get(e),r=yield new Lf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function PR(t,e){const n=d1(t,!0).delete(e);return new Lf(n).toPromise()}const vse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield b3()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return x3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=ase._getInstance(function fse(){return x3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function use(){return I3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new cse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function dse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield b3();return yield MR(n,c1,"1"),yield PR(n,c1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>MR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(s=>function gse(t,e){return A3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>PR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(o=>{const a=d1(o,!1).getAll();return new Lf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function $a(t,e){return e?io(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}uR("rcb"),new Sf(3e4,6e4);class O3 extends v6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nse(t){return bR(t.auth,new O3(t),t.bypassAuthState)}function Ose(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),function IR(t,e){return U6.apply(this,arguments)}(n,new O3(t),t.bypassAuthState)}function Fse(t){return F3.apply(this,arguments)}function F3(){return(F3=_(function*(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),function B6(t,e){return H6.apply(this,arguments)}(n,new O3(t),t.bypassAuthState)})).apply(this,arguments)}class kR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nse;case"linkViaPopup":case"linkViaRedirect":return Fse;case"reauthViaPopup":case"reauthViaRedirect":return Ose;default:Ur(this.auth,"internal-error")}}resolve(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vse=new Sf(2e3,1e4);function Lse(t,e,n){return V3.apply(this,arguments)}function V3(){return(V3=_(function*(t,e,n){const r=Cn(t);!function Ll(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Ur(t,"argument-error"),UP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Uo);const i=$a(r,n);return new H3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let H3=(()=>{class t extends kR{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return _(function*(){const r=yield n.execute();return ge(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return _(function*(){to(1===n.filter.length,"Popup operations only handle one event");const r=l1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(si(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Vse.get())};n()}}return t.currentPopupAction=null,t})();const Bse="pendingRedirect",Bf=new Map;class Hse extends kR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return _(function*(){let r=Bf.get(n.auth._key());if(!r){try{const s=(yield function zse(t,e){return z3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Bf.set(n.auth._key(),r)}return n.bypassAuthState||Bf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function z3(){return(z3=_(function*(t,e){const n=function OR(t){return e1(Bse,t.config.apiKey,t.name)}(e),r=function NR(t){return io(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Use(t,e){Bf.set(t._key(),e)}function FR(t,e){return K3.apply(this,arguments)}function K3(){return(K3=_(function*(t,e,n=!1){const r=Cn(t),i=$a(r,e),o=yield new Hse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Wse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Kse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(LR(e))}saveEventToCache(e){this.cachedEventUids.add(LR(e)),this.lastProcessedEventTime=Date.now()}}function LR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Q3(){return(Q3=_(function*(t,e={}){return Jt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Qse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xse=/^https?/;function X3(){return X3=_(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Yse(t){return Q3.apply(this,arguments)}(t);for(const n of e)try{if(Zse(n))return}catch{}Ur(t,"unauthorized-domain")}),X3.apply(this,arguments)}function Zse(t){const e=Df(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Xse.test(n))return!1;if(Qse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const eoe=new Sf(3e4,6e4);function HR(){const t=xn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let h1=null;const roe=new Sf(5e3,15e3),ioe="__/auth/iframe",soe="emulator/auth/iframe",ooe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function coe(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?X4(e,soe):`https://${t.config.authDomain}/${ioe}`,r={apiKey:e.apiKey,appName:t.name,v:Nl},i=aoe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ef(r).slice(1)}`}function J3(){return J3=_(function*(t){const e=yield function noe(t){return h1=h1||function toe(t){return new Promise((e,n)=>{var r,i,s;function o(){HR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HR(),n(si(t,"network-request-failed"))},timeout:eoe.get()})}if(null!==(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=xn().gapi)||void 0===s||!s.load){const a=uR("iframefcb");return xn()[a]=()=>{gapi.load?o():n(si(t,"network-request-failed"))},p6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw h1=null,e})}(t),h1}(t),n=xn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:coe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ooe,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=si(t,"network-request-failed"),c=xn().setTimeout(()=>{o(a)},roe.get());function l(){xn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),J3.apply(this,arguments)}const uoe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _oe="__/auth/handler",voe="emulator/auth/handler",yoe=encodeURIComponent("fac");function UR(t,e,n,r,i,s){return Z3.apply(this,arguments)}function Z3(){return(Z3=_(function*(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nl,eventId:i};if(e instanceof Uo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function nne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof vR){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${yoe}=${encodeURIComponent(c)}`:"";return`${function Eoe({config:t}){return t.emulator?X4(t,voe):`https://${t.authDomain}/${_oe}`}(t)}?${Ef(a).slice(1)}${l}`})).apply(this,arguments)}const eE="webStorageSupport",xoe=class Coe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TR,this._completeRedirectFn=FR,this._overrideRedirectResult=Use}_openPopup(e,n,r,i){var s=this;return _(function*(){var o;to(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield UR(e,n,r,Df(),i);return function goe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},uoe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Nn().toLowerCase();n&&(a=nR(l)?"_blank":n),tR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function eie(t=Nn()){var e;return t1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function moe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new zR(null);const d=window.open(e||"",a,u);ge(d,t,"popup-blocked");try{d.focus()}catch{}return new zR(d)}(e,a,l1())})()}_openRedirect(e,n,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function lse(t){xn().location.href=t}(yield UR(e,n,r,Df(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(to(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return _(function*(){const r=yield function loe(t){return J3.apply(this,arguments)}(e),i=new Wse(e);return r.register("authEvent",s=>(ge(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eE,{type:eE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[eE];void 0!==o&&n(!!o),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Jse(t){return X3.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aR()||f6()||t1()}};var GR="@firebase/auth";class Ioe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Toe=_P("authIdTokenMaxAge")||300;let WR=null;const Doe=t=>function(){var e=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Toe)return;const s=r?.token;WR!==s&&(WR=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Soe(t=Ol()){const e=ps(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function hie(t,e){const n=ps(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(yf(n.getOptions(),e??{}))return i;Ur(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:xoe,persistence:[vse,sse,TR]}),r=_P("authTokenSyncURL");if(r){const s=Doe(r);(function Qie(t,e,n){rn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Yie(t,e,n,r){rn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=gP("auth");return i&&function gie(t,e,n){const r=Cn(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=hR(e),{host:o,port:a}=function mie(t){const e=hR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pR(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:pR(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function _ie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Moe(t){return new fe(function(e){var n=function Xie(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function woe(t){wi(new ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cR(t)},l=new aie(r,i,s,c);return function pie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(io);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wi(new ii("auth-internal",e=>{const n=Cn(e.getProvider("auth").getImmediate());return new Ioe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(GR,"1.3.2",function boe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),sn(GR,"1.3.2","esm2017")}("Browser");class Hf{constructor(e){return e}}class YR{constructor(){return Qg("auth")}}const nE=new Ee("angularfire2.auth-instances");function koe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Hf(r)}}const Noe={provide:YR,deps:[[new tn,nE]]},Ooe={provide:Hf,useFactory:function Roe(t,e){const n=Yg("auth",t,e);return n&&new Hf(n)},deps:[[new tn,nE],za]};let Foe=(()=>{var t;class e{constructor(){sn("angularfire",Ho.full,"auth")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",Ct({providers:[Ooe,Noe]})),e})();function Ga(t,...e){return{ngModule:Foe,providers:[{provide:nE,useFactory:koe(t),multi:!0,deps:[ft,Tn,Af,Tf,[new tn,W4],...e]}]}}const QR=En(Moe,!0),qa=En(Soe,!0),Voe=En(zie,!0),Loe=En(Lse,!0);var Ce,Boe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={},rE=rE||{},$e=Boe||self;function g1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var iE="closure_uid_"+(1e9*Math.random()>>>0),zoe=0;function Uoe(t,e,n){return t.call.apply(t.bind,arguments)}function joe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uoe:joe).apply(null,arguments)}function m1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function On(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function jo(){this.s=this.s,this.o=this.o}jo.prototype.s=!1,jo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Hoe(t){Object.prototype.hasOwnProperty.call(t,iE)&&t[iE]||(t[iE]=++zoe)}(this)},jo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function JR(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(g1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function fr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fr.prototype.h=function(){this.defaultPrevented=!0};var Goe=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return t}();function Uf(t){return/^[\s\xa0]*$/.test(t)}function _1(){var t=$e.navigator;return t&&(t=t.userAgent)?t:""}function ms(t){return-1!=_1().indexOf(t)}function oE(t){return oE[" "](t),t}oE[" "]=function(){};var cE,t,Woe=ms("Opera"),zl=ms("Trident")||ms("MSIE"),ZR=ms("Edge"),aE=ZR||zl,e9=ms("Gecko")&&!(-1!=_1().toLowerCase().indexOf("webkit")&&!ms("Edge"))&&!(ms("Trident")||ms("MSIE"))&&!ms("Edge"),Koe=-1!=_1().toLowerCase().indexOf("webkit")&&!ms("Edge");function t9(){var t=$e.document;return t?t.documentMode:void 0}e:{var lE="",uE=(t=_1(),e9?/rv:([^\);]+)(\)|;)/.exec(t):ZR?/Edge\/([\d\.]+)/.exec(t):zl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Koe?/WebKit\/(\S+)/.exec(t):Woe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(uE&&(lE=uE?uE[1]:""),zl){var dE=t9();if(null!=dE&&dE>parseFloat(lE)){cE=String(dE);break e}}cE=lE}var Yoe=$e.document&&zl&&(t9()||parseInt(cE,10))||void 0;function jf(t,e){if(fr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(e9){e:{try{oE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jf.$.h.call(this)}}On(jf,fr);var Qoe={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $f="closure_listenable_"+(1e6*Math.random()|0),Xoe=0;function Joe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Xoe,this.fa=this.ia=!1}function v1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function hE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function r9(t){const e={};for(const n in t)e[n]=t[n];return e}const i9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function s9(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<i9.length;s++)n=i9[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function y1(t){this.src=t,this.g={},this.h=0}function pE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=XR(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(v1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function gE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}y1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=gE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Joe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var mE="closure_lm_"+(1e6*Math.random()|0),_E={};function o9(t,e,n,r,i){if(r&&r.once)return c9(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)o9(t,e[s],n,r,i);return null}return n=CE(n),t&&t[$f]?t.O(e,n,zf(r)?!!r.capture:!!r,i):a9(t,e,n,!1,r,i)}function a9(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zf(i)?!!i.capture:!!i,a=yE(t);if(a||(t[mE]=a=new y1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function eae(){const e=tae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Goe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(u9(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function c9(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)c9(t,e[s],n,r,i);return null}return n=CE(n),t&&t[$f]?t.P(e,n,zf(r)?!!r.capture:!!r,i):a9(t,e,n,!0,r,i)}function l9(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)l9(t,e[s],n,r,i);else r=zf(r)?!!r.capture:!!r,n=CE(n),t&&t[$f]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=gE(s=t.g[e],n,r,i))&&(v1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=yE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gE(e,n,r,i)),(n=-1<t?e[t]:null)&&vE(n))}function vE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[$f])pE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(u9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yE(e))?(pE(n,t),0==n.h&&(n.src=null,e[mE]=null)):v1(t)}}}function u9(t){return t in _E?_E[t]:_E[t]="on"+t}function tae(t,e){if(t.fa)t=!0;else{e=new jf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&vE(t),t=n.call(r,e)}return t}function yE(t){return(t=t[mE])instanceof y1?t:null}var EE="__closure_events_fn_"+(1e9*Math.random()>>>0);function CE(t){return"function"==typeof t?t:(t[EE]||(t[EE]=function(e){return t.handleEvent(e)}),t[EE])}function Fn(){jo.call(this),this.i=new y1(this),this.S=this,this.J=null}function Xn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new fr(e,t);else if(e instanceof fr)e.target=e.target||t;else{var i=e;s9(e=new fr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=E1(o,r,!0,e)&&i}if(i=E1(o=e.g=t,r,!0,e)&&i,i=E1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=E1(o=e.g=n[s],r,!1,e)&&i}function E1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&pE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}On(Fn,jo),Fn.prototype[$f]=!0,Fn.prototype.removeEventListener=function(t,e,n,r){l9(this,t,e,n,r)},Fn.prototype.N=function(){if(Fn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)v1(n[r]);delete t.g[e],t.h--}}this.J=null},Fn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Fn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var xE=$e.JSON.stringify;function rae(){var t=IE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var d9=new class nae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new sae,t=>t.reset());class sae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function aae(t){$e.setTimeout(()=>{throw t},0)}let Gf,qf=!1,IE=new class iae{constructor(){this.h=this.g=null}add(e,n){const r=d9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},f9=()=>{const t=$e.Promise.resolve(void 0);Gf=()=>{t.then(cae)}};var cae=()=>{for(var t;t=rae();){try{t.h.call(t.g)}catch(n){aae(n)}var e=d9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qf=!1};function C1(t,e){Fn.call(this),this.h=t||1,this.g=e||$e,this.j=dr(this.qb,this),this.l=Date.now()}function bE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function wE(t,e,n){if("function"==typeof t)n&&(t=dr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dr(t.handleEvent,t)}return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function h9(t){t.g=wE(()=>{t.g=null,t.i&&(t.i=!1,h9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}On(C1,Fn),(Ce=C1.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xn(this,"tick"),this.ga&&(bE(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){C1.$.N.call(this),bE(this),delete this.g};class lae extends jo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:h9(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wf(t){jo.call(this),this.h=t,this.g={}}On(Wf,jo);var p9=[];function g9(t,e,n,r){Array.isArray(n)||(n&&(p9[0]=n.toString()),n=p9);for(var i=0;i<n.length;i++){var s=o9(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function m9(t){hE(t.g,function(e,n){this.g.hasOwnProperty(n)&&vE(e)},t),t.g={}}function x1(){this.g=!0}function Ul(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return xE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Wf.prototype.N=function(){Wf.$.N.call(this),m9(this)},Wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},x1.prototype.Ea=function(){this.g=!1},x1.prototype.info=function(){};var Wa={},_9=null;function I1(){return _9=_9||new Fn}function v9(t){fr.call(this,Wa.Ta,t)}function Kf(t){const e=I1();Xn(e,new v9(e))}function y9(t,e){fr.call(this,Wa.STAT_EVENT,t),this.stat=e}function Tr(t){const e=I1();Xn(e,new y9(e,t))}function E9(t,e){fr.call(this,Wa.Ua,t),this.size=e}function Yf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}Wa.Ta="serverreachability",On(v9,fr),Wa.STAT_EVENT="statevent",On(y9,fr),Wa.Ua="timingevent",On(E9,fr);var b1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},C9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AE(){}function I9(){}AE.prototype.h=null;var SE,Qf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function TE(){fr.call(this,"d")}function DE(){fr.call(this,"c")}function w1(){}function Xf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Wf(this),this.P=pae,this.V=new C1(t=aE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new b9}function b9(){this.i=null,this.g="",this.h=!1}On(TE,fr),On(DE,fr),On(w1,AE),w1.prototype.g=function(){return new XMLHttpRequest},w1.prototype.i=function(){return{}},SE=new w1;var pae=45e3,ME={},A1={};function PE(t,e,n){t.L=1,t.v=M1(oo(e)),t.s=n,t.S=!0,w9(t,null)}function w9(t,e){t.G=Date.now(),Jf(t),t.A=oo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),O9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new b9,t.g=sk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new lae(dr(t.Pa,t,t.g),t.O)),g9(t.U,t.g,"readystatechange",t.nb),e=t.I?r9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Kf(),function uae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function A9(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function T9(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=gae(t,n),i==A1){4==e&&(t.o=4,Tr(14),r=!1),Ul(t.j,t.m,null,"[Incomplete Response]");break}if(i==ME){t.o=4,Tr(15),Ul(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ul(t.j,t.m,i,null),RE(t,i)}A9(t)&&i!=A1&&i!=ME&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Tr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),BE(e),e.M=!0,Tr(11))):(Ul(t.j,t.m,n,"[Invalid Chunked Response]"),Ka(t),Zf(t))}function gae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?A1:(n=Number(e.substring(n,r)),isNaN(n)?ME:(r+=1)+n>e.length?A1:(e=e.slice(r,r+n),t.C=r+n,e))}function Jf(t){t.Y=Date.now()+t.P,D9(t,t.P)}function D9(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Yf(dr(t.lb,t),e)}function T1(t){t.B&&($e.clearTimeout(t.B),t.B=null)}function Zf(t){0==t.l.H||t.J||tk(t.l,t)}function Ka(t){T1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,bE(t.V),m9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function RE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||kE(n.i,t)))if(!t.K&&kE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;F1(n),N1(n)}LE(n),Tr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Yf(dr(n.ib,n),6e3));if(1>=L9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qa(n,11)}else if((t.K||n.g==t)&&F1(n),!Uf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(NE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Bt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=ik(r,r.J?r.pa:null,r.Y),o.K){B9(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(T1(a),Jf(a)),r.g=o}else Z9(r);0<n.j.length&&O1(n)}else"stop"!=l[0]&&"close"!=l[0]||Qa(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Qa(n,7):VE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Kf()}catch{}}function S9(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function _ae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(g1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function mae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(g1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ce=Xf.prototype).setTimeout=function(t){this.P=t},Ce.nb=function(t){t=t.target;const e=this.M;e&&3==_s(t)?e.l():this.Pa(t)},Ce.Pa=function(t){try{if(t==this.g)e:{const u=_s(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||aE||this.g&&(this.h.h||this.g.ja()||W9(this.g)))){this.J||4!=u||7==e||Kf(),T1(this);var n=this.g.da();this.ca=n;t:if(A9(this)){var r=W9(this.g);t="";var i=r.length,s=4==_s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ka(this),Zf(this);var o="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function dae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Tr(12),Ka(this),Zf(this);break e}Ul(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RE(this,n)}this.S?(T9(this,u,o),aE&&this.i&&3==u&&(g9(this.U,this.V,"tick",this.mb),this.V.start())):(Ul(this.j,this.m,o,null),RE(this,o)),4==u&&Ka(this),this.i&&!this.J&&(4==u?tk(this.l,this):(this.i=!1,Jf(this)))}else(function Oae(t){const e={};t=(t.g&&2<=_s(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Uf(t[r]))continue;var n=oae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Zoe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),Ka(this),Zf(this)}}}catch{}},Ce.mb=function(){if(this.g){var t=_s(this.g),e=this.g.ja();this.C<e.length&&(T1(this),T9(this,t,e),this.i&&4!=t&&Jf(this))}},Ce.cancel=function(){this.J=!0,Ka(this)},Ce.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function fae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Kf(),Tr(17)),Ka(this),this.o=2,Zf(this)):D9(this,this.Y-t)};var M9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ya(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ya){this.h=t.h,D1(this,t.j),this.s=t.s,this.g=t.g,S1(this,t.m),this.l=t.l;var e=t.i,n=new nh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),P9(this,n),this.o=t.o}else t&&(e=String(t).match(M9))?(this.h=!1,D1(this,e[1]||"",!0),this.s=eh(e[2]||""),this.g=eh(e[3]||"",!0),S1(this,e[4]),this.l=eh(e[5]||"",!0),P9(this,e[6]||"",!0),this.o=eh(e[7]||"")):(this.h=!1,this.i=new nh(null,this.h))}function oo(t){return new Ya(t)}function D1(t,e,n){t.j=n?eh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function S1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function P9(t,e,n){e instanceof nh?(t.i=e,function bae(t,e){e&&!t.j&&($o(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(k9(this,r),O9(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=th(e,xae)),t.i=new nh(e,t.h))}function Bt(t,e,n){t.i.set(e,n)}function M1(t){return Bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function eh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function th(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ya.prototype.toString=function(){var t=[],e=this.j;e&&t.push(th(e,R9,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(th(e,R9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(th(n,"/"==n.charAt(0)?Cae:Eae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",th(n,Iae)),t.join("")};var R9=/[#\/\?@]/g,Eae=/[#\?:]/g,Cae=/[#\?]/g,xae=/[#\?@]/g,Iae=/#/g;function nh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $o(t){t.g||(t.g=new Map,t.h=0,t.i&&function vae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function k9(t,e){$o(t),e=jl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function N9(t,e){return $o(t),e=jl(t,e),t.g.has(e)}function O9(t,e,n){k9(t,e),0<n.length&&(t.i=null,t.g.set(jl(t,e),sE(n)),t.h+=n.length)}function jl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function F9(t){this.l=t||Aae,t=$e.PerformanceNavigationTiming?0<(t=$e.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=nh.prototype).add=function(t,e){$o(this),this.i=null,t=jl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ce.forEach=function(t,e){$o(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ce.ta=function(){$o(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ce.Z=function(t){$o(this);let e=[];if("string"==typeof t)N9(this,t)&&(e=e.concat(this.g.get(jl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ce.set=function(t,e){return $o(this),this.i=null,N9(this,t=jl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ce.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Aae=10;function V9(t){return!!t.h||!!t.g&&t.g.size>=t.j}function L9(t){return t.h?1:t.g?t.g.size:0}function kE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function NE(t,e){t.g?t.g.add(e):t.h=e}function B9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function H9(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return sE(t.i)}F9.prototype.cancel=function(){if(this.i=H9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Tae=class{stringify(t){return $e.JSON.stringify(t,void 0)}parse(t){return $e.JSON.parse(t,void 0)}};function Dae(){this.g=new Tae}function Sae(t,e,n){const r=n||"";try{S9(t,function(i,s){let o=i;zf(i)&&(o=xE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function P1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function rh(t){this.l=t.ec||null,this.j=t.ob||!1}function R1(t,e){Fn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=OE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}On(rh,AE),rh.prototype.g=function(){return new R1(this.l,this.j)},rh.prototype.i=function(t){return function(){return t}}({}),On(R1,Fn);var OE=0;function z9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ih(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sh(t)}function sh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ce=R1.prototype).open=function(t,e){if(this.readyState!=OE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sh(this)},Ce.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ih(this)),this.readyState=OE},Ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sh(this)),this.g&&(this.readyState=3,sh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ih(this):sh(this),3==this.readyState&&z9(this)}},Ce.Za=function(t){this.g&&(this.response=this.responseText=t,ih(this))},Ce.Ya=function(t){this.g&&(this.response=t,ih(this))},Ce.ka=function(){this.g&&ih(this)},Ce.setRequestHeader=function(t,e){this.v.append(t,e)},Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(R1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Pae=$e.JSON.parse;function on(t){Fn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=U9,this.L=this.M=!1}On(on,Fn);var U9="",Rae=/^https?$/i,kae=["POST","PUT"];function j9(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$9(t),k1(t)}function $9(t){t.F||(t.F=!0,Xn(t,"complete"),Xn(t,"error"))}function G9(t){if(t.h&&typeof rE<"u"&&(!t.C[1]||4!=_s(t)||2!=t.da()))if(t.v&&4==_s(t))wE(t.La,0,t);else if(Xn(t,"readystatechange"),4==_s(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(M9)[1]||null;!i&&$e.self&&$e.self.location&&(i=$e.self.location.protocol.slice(0,-1)),r=!Rae.test(i?i.toLowerCase():"")}n=r}if(n)Xn(t,"complete"),Xn(t,"success");else{t.m=6;try{var s=2<_s(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",$9(t)}}finally{k1(t)}}}function k1(t,e){if(t.g){q9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xn(t,"ready");try{n.onreadystatechange=r}catch{}}}function q9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}function _s(t){return t.g?t.g.readyState:0}function W9(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case U9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function K9(t){let e="";return hE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function FE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=K9(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Bt(t,e,n))}function oh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Y9(t){this.Ga=0,this.j=[],this.l=new x1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oh("baseRetryDelayMs",5e3,t),this.hb=oh("retryDelaySeedMs",1e4,t),this.eb=oh("forwardChannelMaxRetries",2,t),this.xa=oh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new F9(t&&t.concurrentRequestLimit),this.Ja=new Dae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function VE(t){if(Q9(t),3==t.H){var e=t.W++,n=oo(t.I);if(Bt(n,"SID",t.K),Bt(n,"RID",e),Bt(n,"TYPE","terminate"),ah(t,n),(e=new Xf(t,t.l,e)).L=2,e.v=M1(oo(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&((new Image).src=e.v,n=!0),n||(e.g=sk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jf(e)}rk(t)}function N1(t){t.g&&(BE(t),t.g.cancel(),t.g=null)}function Q9(t){N1(t),t.u&&($e.clearTimeout(t.u),t.u=null),F1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$e.clearTimeout(t.m),t.m=null)}function O1(t){if(!V9(t.i)&&!t.m){t.m=!0;var e=t.Na;Gf||f9(),qf||(Gf(),qf=!0),IE.add(e,t),t.C=0}}function X9(t,e){var n;n=e?e.m:t.W++;const r=oo(t.I);Bt(r,"SID",t.K),Bt(r,"RID",n),Bt(r,"AID",t.V),ah(t,r),t.o&&t.s&&FE(r,t.o,t.s),n=new Xf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=J9(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),NE(t.i,n),PE(n,r,e)}function ah(t,e){t.na&&hE(t.na,function(n,r){Bt(e,r,n)}),t.h&&S9({},function(n,r){Bt(e,r,n)})}function J9(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Sae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Z9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gf||f9(),qf||(Gf(),qf=!0),IE.add(e,t),t.A=0}}function LE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Yf(dr(t.Ma,t),nk(t,t.A)),t.A++,0))}function BE(t){null!=t.B&&($e.clearTimeout(t.B),t.B=null)}function ek(t){t.g=new Xf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=oo(t.wa);Bt(e,"RID","rpc"),Bt(e,"SID",t.K),Bt(e,"AID",t.V),Bt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Bt(e,"TO",t.qa),Bt(e,"TYPE","xmlhttp"),ah(t,e),t.o&&t.s&&FE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=M1(oo(e)),n.s=null,n.S=!0,w9(n,t)}function F1(t){null!=t.v&&($e.clearTimeout(t.v),t.v=null)}function tk(t,e){var n=null;if(t.g==e){F1(t),BE(t),t.g=null;var r=2}else{if(!kE(t.i,e))return;n=e.F,B9(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Xn(r=I1(),new E9(r,n)),O1(t)}else Z9(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Fae(t,e){return!(L9(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Yf(dr(t.Na,t,e),nk(t,t.C)),t.C++,0)))}(t,e)||2==r&&LE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qa(t,5);break;case 4:Qa(t,10);break;case 3:Qa(t,6);break;default:Qa(t,2)}}function nk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qa(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new Ya("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||D1(n,"https"),M1(n)),function Mae(t,e){const n=new x1;if($e.Image){const r=new Image;r.onload=m1(P1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m1(P1,n,r,"TestLoadImage: error",!1,e),r.onabort=m1(P1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m1(P1,n,r,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tr(2);t.H=0,t.h&&t.h.za(e),rk(t),Q9(t)}function rk(t){if(t.H=0,t.ma=[],t.h){const e=H9(t.i);(0!=e.length||0!=t.j.length)&&(JR(t.ma,e),JR(t.ma,t.j),t.i.i.length=0,sE(t.j),t.j.length=0),t.h.ya()}}function ik(t,e,n){var r=n instanceof Ya?oo(n):new Ya(n);if(""!=r.g)e&&(r.g=e+"."+r.g),S1(r,r.m);else{var i=$e.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ya(null);r&&D1(s,r),e&&(s.g=e),i&&S1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Bt(r,n,e),Bt(r,"VER",t.ra),ah(t,r),r}function sk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new on(n&&t.Ha&&!t.va?new rh({ob:!0}):t.va)).Oa(t.J),e}function ok(){}function V1(){if(zl&&!(10<=Number(Yoe)))throw Error("Environmental error: no available transport.")}function oi(t,e){Fn.call(this),this.g=new Y9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Uf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $l(this)}function ak(t){TE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ck(){DE.call(this),this.status=1}function $l(t){this.g=t}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function HE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function It(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ce=on.prototype).Oa=function(t){this.M=t},Ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():SE.g(),this.C=function x9(t){return t.h||(t.h=t.i())}(this.u?this.u:SE),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void j9(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=$e.FormData&&t instanceof $e.FormData,!(0<=XR(kae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{q9(this),0<this.B&&((this.L=function Nae(t){return zl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=wE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){j9(this,s)}},Ce.ua=function(){typeof rE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xn(this,"timeout"),this.abort(8))},Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xn(this,"complete"),Xn(this,"abort"),k1(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),k1(this,!0)),on.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?G9(this):this.kb())},Ce.kb=function(){G9(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<_s(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Pae(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=Y9.prototype).ra=8,Ce.H=1,Ce.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Xf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=r9(s),s9(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=J9(this,i,e),Bt(n=oo(this.I),"RID",t),Bt(n,"CVER",22),this.F&&Bt(n,"X-HTTP-Session-Id",this.F),ah(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(K9(s)))+"&"+e:this.o&&FE(n,this.o,s)),NE(this.i,i),this.bb&&Bt(n,"TYPE","init"),this.P?(Bt(n,"$req",e),Bt(n,"SID","null"),i.aa=!0,PE(i,n,null)):PE(i,n,e),this.H=2}}else 3==this.H&&(t?X9(this,t):0==this.j.length||V9(this.i)||X9(this))},Ce.Ma=function(){if(this.u=null,ek(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yf(dr(this.jb,this),t)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),N1(this),ek(this))},Ce.ib=function(){null!=this.v&&(this.v=null,N1(this),LE(this),Tr(19))},Ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=ok.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},V1.prototype.g=function(t,e){return new oi(t,e)},On(oi,Fn),oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Tr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ik(t,null,t.Y),O1(t)},oi.prototype.close=function(){VE(this.g)},oi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=xE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&O1(e)},oi.prototype.N=function(){this.g.h=null,delete this.j,VE(this.g),delete this.g,oi.$.N.call(this)},On(ak,TE),On(ck,DE),On($l,ok),$l.prototype.Ba=function(){Xn(this.g,"a")},$l.prototype.Aa=function(t){Xn(this.g,new ak(t))},$l.prototype.za=function(t){Xn(this.g,new ck)},$l.prototype.ya=function(){Xn(this.g,"b")},On(Gi,function Vae(){this.blockSize=-1}),Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)HE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){HE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){HE(this,r),i=0;break}}this.h=i,this.i+=e},Gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Lae={};function zE(t){return-128<=t&&128>t?function qoe(t,e){var n=Lae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new It([0|e],0>e?-1:0)}):new It([0|t],0>t?-1:0)}function vs(t){if(isNaN(t)||!isFinite(t))return Gl;if(0>t)return Jn(vs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=UE;return new It(e,0)}var UE=4294967296,Gl=zE(0),jE=zE(1),uk=zE(16777216);function ao(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ti(t){return-1==t.h}function Jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new It(n,~t.h).add(jE)}function L1(t,e){return t.add(Jn(e))}function B1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ch(t,e){this.g=t,this.h=e}function H1(t,e){if(ao(e))throw Error("division by zero");if(ao(t))return new ch(Gl,Gl);if(Ti(t))return e=H1(Jn(t),e),new ch(Jn(e.g),Jn(e.h));if(Ti(e))return e=H1(t,Jn(e)),new ch(Jn(e.g),e.h);if(30<t.g.length){if(Ti(t)||Ti(e))throw Error("slowDivide_ only works with positive integers.");for(var n=jE,r=e;0>=r.X(t);)n=dk(n),r=dk(r);var i=ql(n,1),s=ql(r,1);for(r=ql(r,2),n=ql(n,2);!ao(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ql(r,1),n=ql(n,1)}return e=L1(t,i.R(e)),new ch(i,e)}for(i=Gl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=vs(n)).R(e);Ti(o)||0<o.X(t);)o=(s=vs(n-=r)).R(e);ao(s)&&(s=jE),i=i.add(s),t=L1(t,o)}return new ch(i,t)}function dk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new It(n,t.h)}function ql(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new It(i,t.h)}(Ce=It.prototype).ea=function(){if(Ti(this))return-Jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:UE+r)*e,e*=UE}return t},Ce.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ao(this))return"0";if(Ti(this))return"-"+Jn(this).toString(t);for(var e=vs(Math.pow(t,6)),n=this,r="";;){var i=H1(n,e).g,s=((0<(n=L1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ao(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ce.X=function(t){return Ti(t=L1(this,t))?-1:ao(t)?0:1},Ce.abs=function(){return Ti(this)?Jn(this):this},Ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new It(n,-2147483648&n[n.length-1]?-1:0)},Ce.R=function(t){if(ao(this)||ao(t))return Gl;if(Ti(this))return Ti(t)?Jn(this).R(Jn(t)):Jn(Jn(this).R(t));if(Ti(t))return Jn(this.R(Jn(t)));if(0>this.X(uk)&&0>t.X(uk))return vs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,B1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,B1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,B1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,B1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new It(n,0)},Ce.gb=function(t){return H1(this,t).h},Ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new It(n,this.h&t.h)},Ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new It(n,this.h|t.h)},Ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new It(n,this.h^t.h)},V1.prototype.createWebChannel=V1.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,b1.NO_ERROR=0,b1.TIMEOUT=8,b1.HTTP_ERROR=6,C9.COMPLETE="complete",I9.EventType=Qf,Qf.OPEN="a",Qf.CLOSE="b",Qf.ERROR="c",Qf.MESSAGE="d",Fn.prototype.listen=Fn.prototype.O,on.prototype.listenOnce=on.prototype.P,on.prototype.getLastError=on.prototype.Sa,on.prototype.getLastErrorCode=on.prototype.Ia,on.prototype.getStatus=on.prototype.da,on.prototype.getResponseJson=on.prototype.Wa,on.prototype.getResponseText=on.prototype.ja,on.prototype.send=on.prototype.ha,on.prototype.setWithCredentials=on.prototype.Oa,Gi.prototype.digest=Gi.prototype.l,Gi.prototype.reset=Gi.prototype.reset,Gi.prototype.update=Gi.prototype.j,It.prototype.add=It.prototype.add,It.prototype.multiply=It.prototype.R,It.prototype.modulo=It.prototype.gb,It.prototype.compare=It.prototype.X,It.prototype.toNumber=It.prototype.ea,It.prototype.toString=It.prototype.toString,It.prototype.getBits=It.prototype.D,It.fromNumber=vs,It.fromString=function lk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Jn(lk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vs(Math.pow(e,8)),r=Gl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=vs(Math.pow(e,s)),r=r.R(s).add(vs(o))):r=(r=r.R(n)).add(vs(o))}return r};var Bae=$i.createWebChannelTransport=function(){return new V1},Hae=$i.getStatEventTarget=function(){return I1()},$E=$i.ErrorCode=b1,zae=$i.EventType=C9,Uae=$i.Event=Wa,fk=$i.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jae=$i.FetchXmlHttpFactory=rh,z1=$i.WebChannel=I9,$ae=$i.XhrIo=on,Gae=$i.Md5=Gi,Wl=$i.Integer=It;const hk="@firebase/firestore";class Vn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");let Kl="10.5.2";const Go=new If("@firebase/firestore");function Yl(){return Go.logLevel}function ie(t,...e){if(Go.logLevel<=at.DEBUG){const n=e.map(GE);Go.debug(`Firestore (${Kl}): ${t}`,...n)}}function gn(t,...e){if(Go.logLevel<=at.ERROR){const n=e.map(GE);Go.error(`Firestore (${Kl}): ${t}`,...n)}}function ai(t,...e){if(Go.logLevel<=at.WARN){const n=e.map(GE);Go.warn(`Firestore (${Kl}): ${t}`,...n)}}function GE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Te(t="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function Me(t,e){t||Te()}function me(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class Wae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kae{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(_(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me("string"==typeof r.accessToken),new pk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new Vn(e)}}class Yae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Yae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me("string"==typeof n.token),this.R=n.token,new gk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class mk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Jae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Zt(0,0))}static max(){return new ke(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Te(),void 0===r?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===lh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends lh{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const Zae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends lh{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return Zae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new se(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new se(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new se(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ut.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}function yk(t){return new ci(t.readTime,t.key,-1)}class ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ci(ke.min(),_e.empty(),-1)}static max(){return new ci(ke.max(),_e.empty(),-1)}}function WE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_e.comparator(t.documentKey,e.documentKey),0!==n?n:ze(t.largestBatchId,e.largestBatchId))}const Ek="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qo(t){return KE.apply(this,arguments)}function KE(){return KE=_(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Ek)throw t;ie("LocalStore","Unexpectedly lost primary lease")}),KE.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Wo(t){return"IndexedDbTransactionError"===t.name}let li=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function dh(t){return null==t}function fh(t){return 0===t&&1/t==-1/0}function Sk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $1(this.root,e,this.comparator,!1)}getReverseIterator(){return new $1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $1(this.root,e,this.comparator,!0)}}class $1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1,Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pk(this.data.getIterator())}getIteratorFrom(e){return new Pk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Pk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new jr([])}unionWith(e){let n=new Dt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Rk("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const wce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(t){if(Me(!!t),"string"==typeof t){let e=0;const n=wce.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function co(t){return"string"==typeof t?Mn.fromBase64String(t):Mn.fromUint8Array(t)}function G1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function q1(t){const e=t.mapValue.fields.__previous_value__;return G1(e)?q1(e):e}function hh(t){const e=Yo(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}class Ace{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ec("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G1(t)?4:Fk(t)?9007199254740991:10:Te()}function Es(t,e){if(t===e)return!0;const n=Xo(t);if(n!==Xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yo(i.timestampValue),a=Yo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,co(t.bytesValue).isEqual(co(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return an(i.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(i.geoPointValue.longitude)===an(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return an(i.integerValue)===an(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=an(i.doubleValue),a=an(s.doubleValue);return o===a?fh(o)===fh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Sk(o)!==Sk(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Es(o[c],a[c])))return!1;return!0}(t,e);default:return Te()}var s}function ph(t,e){return void 0!==(t.values||[]).find(n=>Es(n,e))}function Jo(t,e){if(t===e)return 0;const n=Xo(t),r=Xo(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=an(s.integerValue||s.doubleValue),c=an(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return kk(t.timestampValue,e.timestampValue);case 4:return kk(hh(t),hh(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=co(s),c=co(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=ze(a[l],c[l]);if(0!==u)return u}return ze(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ze(an(s.latitude),an(o.latitude));return 0!==a?a:ze(an(s.longitude),an(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Jo(a[l],c[l]);if(u)return u}return ze(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Qo.mapValue&&o===Qo.mapValue)return 0;if(s===Qo.mapValue)return 1;if(o===Qo.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=ze(c[d],u[d]);if(0!==f)return f;const h=Jo(a[c[d]],l[u[d]]);if(0!==h)return h}return ze(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Te()}}function kk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ze(t,e);const n=Yo(t),r=Yo(e),i=ze(n.seconds,r.seconds);return 0!==i?i:ze(n.nanos,r.nanos)}function eu(t){return XE(t)}function XE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?co(t.bytesValue).toBase64():"referenceValue"in t?_e.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=XE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${XE(n.fields[o])}`;return i+"}"}(t.mapValue):Te()}function tc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function JE(t){return!!t&&"integerValue"in t}function gh(t){return!!t&&"arrayValue"in t}function Nk(t){return!!t&&"nullValue"in t}function Ok(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Y1(t){return!!t&&"mapValue"in t}function mh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Y1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Y1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Y1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new er(mh(this.value))}}function Bk(t){const e=[];return Ko(t.fields,(n,r)=>{const i=new Wt([n]);if(Y1(r)){const s=Bk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jr(e)}class Ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,ke.min(),ke.min(),ke.min(),er.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,ke.min(),ke.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,ke.min(),ke.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zo{constructor(e,n){this.position=e,this.inclusive=n}}function Hk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?_e.comparator(_e.fromName(o.referenceValue),n.key):Jo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function zk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Uk{}class it extends Uk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Mce(e,n,r):"array-contains"===n?new kce(e,r):"in"===n?new Kk(e,r):"not-in"===n?new Nce(e,r):"array-contains-any"===n?new Oce(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Pce(e,r):new Rce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Jo(n,this.value)):null!==n&&Xo(this.value)===Xo(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends Uk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new bt(e,n)}matches(e){return tu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function tu(t){return"and"===t.op}function e8(t){return function jk(t){for(const e of t.filters)if(e instanceof bt)return!1;return!0}(t)&&tu(t)}function t8(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+eu(t.value);if(e8(t))return t.filters.map(e=>t8(e)).join(",");{const e=t.filters.map(n=>t8(n)).join(",");return`${t.op}(${e})`}}function $k(t,e){return t instanceof it?(r=t,(i=e)instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Es(r.value,i.value)):t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&$k(o,i.filters[a]),!0)}(t,e):void Te();var r,i}function qk(t){return t instanceof it?`${(n=t).field.canonicalString()} ${n.op} ${eu(n.value)}`:t instanceof bt?function(n){return n.op.toString()+" {"+n.getFilters().map(qk).join(" ,")+"}"}(t):"Filter";var n}class Mce extends it{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pce extends it{constructor(e,n){super(e,"in",n),this.keys=Wk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rce extends it{constructor(e,n){super(e,"not-in",n),this.keys=Wk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class kce extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gh(n)&&ph(n.arrayValue,this.value)}}class Kk extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ph(this.value.arrayValue,n)}}class Nce extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ph(this.value.arrayValue,n)}}class Oce extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}class Fce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function n8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Fce(t,e,n,r,i,s,o)}function nc(t){const e=me(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>t8(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eu(r)).join(",")),e.ce=n}return e.ce}function vh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$k(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zk(t.startAt,e.startAt)&&zk(t.endAt,e.endAt)}function Q1(t){return _e.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class lo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function nu(t){return new lo(t)}function Jk(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function r8(t){return null!==t.collectionGroup}function ru(t){const e=me(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(Wt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new _h(s,r))}),n.has(Wt.keyField().canonicalString())||e.le.push(new _h(Wt.keyField(),r))}return e.le}function Dr(t){const e=me(t);return e.he||(e.he=function Zk(t,e){if("F"===t.limitType)return n8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new _h(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zo(t.startAt.position,t.startAt.inclusive):null;return n8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ru(t))),e.he}function i8(t,e){const n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function J1(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return vh(Dr(t),Dr(e))&&t.limitType===e.limitType}function eN(t){return`${nc(Dr(t))}|lt:${t.limitType}`}function iu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qk(i)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>eu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>eu(i)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ru(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Hk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,ru(r),i)||r.endAt&&!function(o,a,c){const l=Hk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,ru(r),i)));var r,i}function nN(t){return(e,n)=>{let r=!1;for(const i of ru(t)){const s=Vce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Vce(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?Jo(c,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Mk(this.inner)}size(){return this.innerSize}}const Lce=new Vt(_e.comparator);function $r(){return Lce}const rN=new Vt(_e.comparator);function Ch(...t){let e=rN;for(const n of t)e=e.insert(n.key,n);return e}function iN(t){let e=rN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return xh()}function sN(){return xh()}function xh(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bce=new Vt(_e.comparator),Hce=new Dt(_e.comparator);function Qe(...t){let e=Hce;for(const n of t)e=e.add(n);return e}const zce=new Dt(ze);function oN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function aN(t){return{integerValue:""+t}}function cN(t,e){return function xk(t){return"number"==typeof t&&Number.isInteger(t)&&!fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?aN(e):oN(t,e)}class Z1{constructor(){this._=void 0}}function Uce(t,e,n){return t instanceof su?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&G1(s)&&(s=q1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof rc?uN(t,e):t instanceof ic?dN(t,e):function(i,s){const o=lN(i,s),a=fN(o)+fN(i.Ie);return JE(o)&&JE(i.Ie)?aN(a):oN(i.serializer,a)}(t,e)}function jce(t,e,n){return t instanceof rc?uN(t,e):t instanceof ic?dN(t,e):n}function lN(t,e){return t instanceof ou?JE(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class su extends Z1{}class rc extends Z1{constructor(e){super(),this.elements=e}}function uN(t,e){const n=hN(e);for(const r of t.elements)n.some(i=>Es(i,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends Z1{constructor(e){super(),this.elements=e}}function dN(t,e){let n=hN(e);for(const r of t.elements)n=n.filter(i=>!Es(i,r));return{arrayValue:{values:n}}}class ou extends Z1{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function fN(t){return an(t.integerValue||t.doubleValue)}function hN(t){return gh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Gce{constructor(e,n){this.version=e,this.transformResults=n}}class Kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function em(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class tm{}function pN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new cu(t.key,Kt.none()):new au(t.key,t.data,Kt.none());{const n=t.data,r=er.empty();let i=new Dt(Wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new fo(t.key,r,new jr(i.toArray()),Kt.none())}}function qce(t,e,n){t instanceof au?function(i,s,o){const a=i.value.clone(),c=_N(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(i,s,o){if(!em(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=_N(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(mN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function bh(t,e,n,r){return t instanceof au?function(s,o,a,c){if(!em(s.precondition,o))return a;const l=s.value.clone(),u=vN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fo?function(s,o,a,c){if(!em(s.precondition,o))return a;const l=vN(s.fieldTransforms,c,o),u=o.data;return u.setAll(mN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,em(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Wce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lN(r.transform,i||null);null!=s&&(null===n&&(n=er.empty()),n.set(r.field,s))}return n||null}function gN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Ql(r,i,(s,o)=>function $ce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof rc&&i instanceof rc||r instanceof ic&&i instanceof ic?Ql(r.elements,i.elements,Es):r instanceof ou&&i instanceof ou?Es(r.Ie,i.Ie):r instanceof su&&i instanceof su);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class au extends tm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends tm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _N(t,e,n){const r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jce(o,a,n[i]))}return r}function vN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Uce(s,o,e))}return r}class cu extends tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o8 extends tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class a8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=pN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(n,r)=>gN(n,r))&&Ql(this.baseMutations,e.baseMutations,(n,r)=>gN(n,r))}}class c8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=Bce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new c8(e,n,r,i)}}class l8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yce{constructor(e,n){this.count=e,this.unchangedNames=n}}var In,dt;function EN(t){if(void 0===t)return gn("GRPC error has no .code"),B.UNKNOWN;switch(t){case In.OK:return B.OK;case In.CANCELLED:return B.CANCELLED;case In.UNKNOWN:return B.UNKNOWN;case In.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case In.INTERNAL:return B.INTERNAL;case In.UNAVAILABLE:return B.UNAVAILABLE;case In.UNAUTHENTICATED:return B.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case In.NOT_FOUND:return B.NOT_FOUND;case In.ALREADY_EXISTS:return B.ALREADY_EXISTS;case In.PERMISSION_DENIED:return B.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case In.ABORTED:return B.ABORTED;case In.OUT_OF_RANGE:return B.OUT_OF_RANGE;case In.UNIMPLEMENTED:return B.UNIMPLEMENTED;case In.DATA_LOSS:return B.DATA_LOSS;default:return Te()}}(dt=In||(In={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";const Qce=new Wl([4294967295,4294967295],0);function xN(t){const e=function CN(){return new TextEncoder}().encode(t),n=new Gae;return n.update(e),new Uint8Array(n.digest())}function IN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wl([n,r],0),new Wl([i,s],0)]}class u8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new wh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Wl.fromNumber(r)));return 1===i.compare(Qce)&&(i=new Wl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=xN(e),[r,i]=IN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new u8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=xN(e),[r,i]=IN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ah(ke.min(),i,new Vt(ze),$r(),Qe())}}class Th{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,Qe(),Qe(),Qe())}}class rm{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class bN{constructor(e,n){this.targetId=e,this.fe=n}}class wN{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AN{constructor(){this.ge=0,this.pe=DN(),this.ye=Mn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Th(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=DN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Xce{constructor(e){this.Le=e,this.ke=new Map,this.qe=$r(),this.Qe=TN(),this.Ke=new Vt(ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Q1(s))if(0===r){const o=new _e(s.path);this.We(n,o,Ht.newNoDocument(o,ke.min()))}else Me(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=co(r).toUint8Array()}catch(c){if(c instanceof Rk)return ai("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new u8(o,i,s)}catch(c){return ai(c instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Q1(a.target)){const c=new _e(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Ht.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Qe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ah(e,n,this.Ke,this.qe,r);return this.qe=$r(),this.Qe=TN(),this.Ke=new Vt(ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new AN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Dt(ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new AN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function TN(){return new Vt(_e.comparator)}function DN(){return new Vt(_e.comparator)}const Jce={asc:"ASCENDING",desc:"DESCENDING"},Zce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ele={and:"AND",or:"OR"};class tle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function d8(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nle(t,e){return lu(t,e.toTimestamp())}function mn(t){return Me(!!t),ke.fromTimestamp(function(n){const r=Yo(n);return new Zt(r.seconds,r.nanos)}(t))}function f8(t,e){return(r=t,new ut(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function MN(t){const e=ut.fromString(t);return Me(BN(e)),e}function Dh(t,e){return f8(t.databaseId,e.path)}function xs(t,e){const n=MN(e);if(n.get(1)!==t.databaseId.projectId)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(RN(n))}function h8(t,e){return f8(t.databaseId,e)}function Sh(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RN(t){return Me(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function kN(t,e,n){return{name:Dh(t,e),fields:n.value.mapValue.fields}}function ON(t,e){return{documents:[h8(t,e.path)]}}function g8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=h8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=h8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return LN(bt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:ea((d=l).field),direction:ale(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=d8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function FN(t){let e=function PN(t){const e=MN(t);return 4===e.length?ut.emptyPath():RN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=VN(d);return f instanceof bt&&e8(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new _h(uu((p=f).field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,dh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new Zo((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new Zo(d.values||[],!d.before)}(n.endAt)),function Xk(t,e,n,r,i,s,o,a){return new lo(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function VN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uu(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uu(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uu(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uu(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):void 0!==t.fieldFilter?it.create(uu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return bt.create(n.compositeFilter.filters.map(r=>VN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te();var n}function ale(t){return Jce[t]}function cle(t){return Zce[t]}function lle(t){return ele[t]}function ea(t){return{fieldPath:t.canonicalString()}}function uu(t){return Wt.fromServerFormat(t.fieldPath)}function LN(t){return t instanceof it?function(n){if("=="===n.op){if(Ok(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NAN"}};if(Nk(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Ok(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NAN"}};if(Nk(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(n.field),op:cle(n.op),value:n.value}}}(t):t instanceof bt?function(n){const r=n.getFilters().map(i=>LN(i));return 1===r.length?r[0]:{compositeFilter:{op:lle(n.op),filters:r}}}(t):Te()}function ule(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ho{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HN{constructor(e){this.ut=e}}function m8(t){const e=FN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?J1(e,e.limit,"L"):e}class cc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(an(e.integerValue));else if("doubleValue"in e){const r=an(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),fh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(co(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Fk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Te()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),_e.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}cc.St=new cc;class vle{constructor(){this.on=new x8}addToCollectionParentIndex(e,n){return this.on.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(ci.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class x8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(ut.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(ut.comparator)).toArray()}}new Uint8Array(0);class pr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class uc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new uc(0)}static Nn(){return new uc(-1)}}class ble{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&bh(r.mutation,i,jr.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ch();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$r();const o=xh(),a=xh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof fo)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),bh(u.mutation,l,u.mutation.getFieldMask(),Zt.now())):o.set(l.key,jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Tle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xh();let i=new Vt((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||jr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Qe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=sN();u.forEach(f=>{if(!s.has(f)){const h=pN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return _e.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):r8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(Cs());let a=-1,c=s;return o.next(l=>R.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:iN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ch();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,c=>{const l=(d=n,f=c.child(s),new lo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Ht.newInvalidDocument(u)))});let a=Ch();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&bh(u.mutation,l,jr.empty(),Zt.now()),Eh(n,l)&&(a=a.insert(c,l))}),a})}}class Dle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:mn(i.createTime)}),R.resolve();var i}getNamedQuery(e,n){return R.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:m8(i.bundledQuery),readTime:mn(i.readTime)}),R.resolve();var i}}class Sle{constructor(){this.overlays=new Vt(_e.comparator),this.lr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=Cs(),s=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Cs(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Cs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return R.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l8(n,r));let s=this.lr.get(n);void 0===s&&(s=Qe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class I8{constructor(){this.hr=new Dt(Bn.Pr),this.Ir=new Dt(Bn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Bn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new _e(new ut([])),r=new Bn(n,e),i=new Bn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new _e(new ut([])),r=new Bn(n,e),i=new Bn(n,e+1);let s=Qe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return _e.comparator(e.key,n.key)||ze(e.gr,n.gr)}static Tr(e,n){return ze(e.gr,n.gr)||_e.comparator(e.key,n.key)}}class Mle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Dt(Bn.Pr)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new a8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Bn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(ze);return n.forEach(i=>{const s=new Bn(i,0),o=new Bn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new Bn(new _e(s),0);let a=new Dt(ze);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),R.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Me(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,i=>{const s=new Bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Bn(n,0),i=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return R.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ple{constructor(e){this.Cr=e,this.docs=new Vt(_e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const o=n.path,a=new _e(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||WE(yk(u),r)<=0||(i.has(u.key)||Eh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}vr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rle(this)}getSize(e){return R.resolve(this.size)}}class Rle extends ble{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class kle{constructor(e){this.persistence=e,this.Fr=new uo(n=>nc(n),vh),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new I8,this.targetCount=0,this.Nr=uc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.kn(n),R.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Or.containsKey(n))}}class b8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new li(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new kle(this),this.indexManager=new vle,this.remoteDocumentCache=new Ple(r=>this.referenceDelegate.Qr(r)),this.serializer=new HN(n),this.Kr=new Dle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Mle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new Nle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Nle extends nce{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.Gr=new I8,this.zr=null}static jr(e){return new dm(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const i=_e.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class D8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D8(e,n.fromCache,r,i)}}class Fle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Fle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Yl()<=at.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(Yl()<=at.DEBUG&&ie("QueryEngine","Query:",iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Yl()<=at.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):R.resolve())}zi(e,n){if(Jk(n))return R.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=J1(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,J1(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return Jk(n)||i.isEqual(ke.min())?R.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?R.resolve(null):(Yl()<=at.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iu(n)),this.Xi(e,o,n,function vk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new Zt(n+1,0):new Zt(n,r));return new ci(i,_e.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Dt(nN(e));return n.forEach((i,s)=>{Eh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Yl()<=at.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",iu(n)),this.Gi.getDocumentsMatchingQuery(e,n,ci.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Vle{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Vt(ze),this.ns=new uo(s=>nc(s),vh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function _O(t,e){return S8.apply(this,arguments)}function S8(){return S8=_(function*(t,e){const n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Qe();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),S8.apply(this,arguments)}function vO(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Hle(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mu(t,e,n){return M8.apply(this,arguments)}function M8(){return M8=_(function*(t,e,n){const r=me(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Wo(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),M8.apply(this,arguments)}function pm(t,e,n){const r=me(t);let i=ke.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=me(c),f=d.ns.get(u);return void 0!==f?R.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Qe())).next(a=>(function xO(t,e,n){let r=t.rs.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function tN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class O8{constructor(){this.activeTargetIds=function s8(){return zce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wO{constructor(){this.eo=new O8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new O8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jle{ro(e){}shutdown(){}}class AO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _m=null;function V8(){return null===_m?_m=268435456+Math.round(2147483648*Math.random()):_m++,"0x"+_m.toString(16)}const $le={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gle{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const gr="WebChannelConnection";class qle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=V8(),c=this.So(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ai("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Kl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${$le[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=V8();return new Promise((o,a)=>{const c=new $ae;c.setWithCredentials(!0),c.listenOnce(zae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $E.NO_ERROR:const u=c.getResponseJson();ie(gr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case $E.TIMEOUT:ie(gr,`RPC '${e}' ${s} timed out`),a(new se(B.DEADLINE_EXCEEDED,"Request time out"));break;case $E.HTTP_ERROR:const d=c.getStatus();if(ie(gr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(y){const T=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(T)>=0?T:B.UNKNOWN}(h.status);a(new se(p,h.message))}else a(new se(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se(B.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ie(gr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ie(gr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=V8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bae(),a=Hae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new jae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");ie(gr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new Gle({co:y=>{h?ie(gr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(ie(gr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ie(gr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),g=(y,T,b)=>{y.listen(T,j=>{try{b(j)}catch(Q){setTimeout(()=>{throw Q},0)}})};return g(d,z1.EventType.OPEN,()=>{h||ie(gr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,z1.EventType.CLOSE,()=>{h||(h=!0,ie(gr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,z1.EventType.ERROR,y=>{h||(h=!0,ai(gr,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new se(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,z1.EventType.MESSAGE,y=>{var T;if(!h){const b=y.data[0];Me(!!b);const Q=b.error||(null===(T=b[0])||void 0===T?void 0:T.error);if(Q){ie(gr,`RPC '${e}' stream ${i} received error:`,Q);const he=Q.status;let Re=function(Rn){const va=In[Rn];if(void 0!==va)return EN(va)}(he),Ke=Q.message;void 0===Re&&(Re=B.INTERNAL,Ke="Unknown error status: "+he+" with message "+Q.message),h=!0,p.Ro(new se(Re,Ke)),d.close()}else ie(gr,`RPC '${e}' stream ${i} received:`,b),p.Vo(b)}}),g(a,Uae.STAT_EVENT,y=>{y.stat===fk.PROXY?ie(gr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===fk.NOPROXY&&ie(gr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function vm(){return typeof document<"u"?document:null}function Lh(t){return new tle(t,!0)}class L8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class DO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new L8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return _(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return _(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return _(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new se(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(_(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wle extends DO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function ile(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Te(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Me(void 0===u||"string"==typeof u),Mn.fromBase64String(u||"")):(Me(void 0===u||u instanceof Uint8Array),Mn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?B.UNKNOWN:EN(l.code);return new se(u,l.message||"")}(o);n=new wN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=xs(t,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):ke.min(),a=new er({mapValue:{fields:r.document.fields}}),c=Ht.newFoundDocument(i,s,o,a);n=new rm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=xs(t,r.document),s=r.readTime?mn(r.readTime):ke.min(),o=Ht.newNoDocument(i,s);n=new rm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=xs(t,r.document);n=new rm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Te();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Yce(i,s);n=new bN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?mn(o.readTime):ke.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Sh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Q1(c)?{documents:ON(s,c)}:{query:g8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SN(s,o.resumeToken);const l=d8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=lu(s,o.snapshotVersion.toTimestamp());const l=d8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function ole(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Sh(this.serializer),n.removeTarget=e,this.e_(n)}}class Kle extends DO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function sle(t,e){return t&&t.length>0?(Me(void 0!==e),t.map(n=>function(i,s){let o=mn(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=mn(s)),new Gce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.I_(r,n)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Sh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Mh(t,e){let n;if(e instanceof au)n={update:kN(t,e.key,e.value)};else if(e instanceof cu)n={delete:Dh(t,e.key)};else if(e instanceof fo)n={update:kN(t,e.key,e.data),updateMask:ule(e.fieldMask)};else{if(!(e instanceof o8))return Te();n={verify:Dh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof su)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ic)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ou)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:nle(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Te()),n;var s}(this.serializer,r))};this.e_(n)}}class Yle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(B.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Xle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gn(n),this.f_=!1):ie("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Jle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(_(function*(){var c;ia(o)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(u){const d=me(u);d.C_.add(4),yield _u(d),d.M_.set("Unknown"),d.C_.delete(4),yield Bh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new Xle(r,i)}}function Bh(t){return H8.apply(this,arguments)}function H8(){return H8=_(function*(t){if(ia(t))for(const e of t.v_)yield e(!0)}),H8.apply(this,arguments)}function _u(t){return z8.apply(this,arguments)}function z8(){return z8=_(function*(t){for(const e of t.v_)yield e(!1)}),z8.apply(this,arguments)}function ym(t,e){const n=me(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),$8(n)?j8(n):yu(n).Ho()&&U8(n,e))}function Hh(t,e){const n=me(t),r=yu(n);n.D_.delete(e),r.Ho()&&SO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():ia(n)&&n.M_.set("Unknown"))}function U8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).u_(e)}function SO(t,e){t.x_.Oe(e),yu(t).c_(e)}function j8(t){t.x_=new Xce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.M_.g_()}function $8(t){return ia(t)&&!yu(t).jo()&&t.D_.size>0}function ia(t){return 0===me(t).C_.size}function MO(t){t.x_=void 0}function Zle(t){return G8.apply(this,arguments)}function G8(){return G8=_(function*(t){t.D_.forEach((e,n)=>{U8(t,e)})}),G8.apply(this,arguments)}function eue(t,e){return q8.apply(this,arguments)}function q8(){return q8=_(function*(t,e){MO(t),$8(t)?(t.M_.w_(e),j8(t)):t.M_.set("Unknown")}),q8.apply(this,arguments)}function tue(t,e,n){return W8.apply(this,arguments)}function W8(){return W8=_(function*(t,e,n){if(t.M_.set("Online"),e instanceof wN&&2===e.state&&e.cause)try{yield(r=_(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Em(t,r)}else if(e instanceof rm?t.x_.$e(e):e instanceof bN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ke.min()))try{const r=yield vO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Mn.EMPTY_BYTE_STRING,u.snapshotVersion)),SO(s,c);const d=new ho(u.target,c,l,u.sequenceNumber);U8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield Em(t,r)}var r}),W8.apply(this,arguments)}function Em(t,e,n){return K8.apply(this,arguments)}function K8(){return K8=_(function*(t,e,n){if(!Wo(e))throw e;t.C_.add(1),yield _u(t),t.M_.set("Offline"),n||(n=()=>vO(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Bh(t)}))}),K8.apply(this,arguments)}function PO(t,e){return e().catch(n=>Em(t,n,e))}function vu(t){return Y8.apply(this,arguments)}function Y8(){return Y8=_(function*(t){const e=me(t),n=sa(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;nue(e);)try{const i=yield Hle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,rue(e,i)}catch(i){yield Em(e,i)}RO(e)&&kO(e)}),Y8.apply(this,arguments)}function nue(t){return ia(t)&&t.b_.length<10}function rue(t,e){t.b_.push(e);const n=sa(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function RO(t){return ia(t)&&!sa(t).jo()&&t.b_.length>0}function kO(t){sa(t).start()}function iue(t){return Q8.apply(this,arguments)}function Q8(){return Q8=_(function*(t){sa(t).E_()}),Q8.apply(this,arguments)}function sue(t){return X8.apply(this,arguments)}function X8(){return X8=_(function*(t){const e=sa(t);for(const n of t.b_)e.P_(n.mutations)}),X8.apply(this,arguments)}function oue(t,e,n){return J8.apply(this,arguments)}function J8(){return J8=_(function*(t,e,n){const r=t.b_.shift(),i=c8.from(r,e,n);yield PO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vu(t)}),J8.apply(this,arguments)}function aue(t,e){return Z8.apply(this,arguments)}function Z8(){return Z8=_(function*(t,e){var n;e&&sa(t).h_&&(yield(n=_(function*(i,s){if(function yN(t){switch(t){default:return Te();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=s.code)&&a!==B.ABORTED){const o=i.b_.shift();sa(i).Yo(),yield PO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield vu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),RO(t)&&kO(t)}),Z8.apply(this,arguments)}function NO(t,e){return eC.apply(this,arguments)}function eC(){return eC=_(function*(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=ia(n);n.C_.add(3),yield _u(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Bh(n)}),eC.apply(this,arguments)}function nC(){return nC=_(function*(t,e){const n=me(t);e?(n.C_.delete(2),yield Bh(n)):e||(n.C_.add(2),yield _u(n),n.M_.set("Unknown"))}),nC.apply(this,arguments)}function yu(t){return t.O_||(t.O_=function(n,r,i){const s=me(n);return s.A_(),new Wle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Zle.bind(null,t),Io:eue.bind(null,t),a_:tue.bind(null,t)}),t.v_.push(function(){var e=_(function*(n){n?(t.O_.Yo(),$8(t)?j8(t):t.M_.set("Unknown")):(yield t.O_.stop(),MO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function sa(t){return t.N_||(t.N_=function(n,r,i){const s=me(n);return s.A_(),new Kle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:iue.bind(null,t),Io:aue.bind(null,t),T_:sue.bind(null,t),I_:oue.bind(null,t)}),t.v_.push(function(){var e=_(function*(n){n?(t.N_.Yo(),yield vu(t)):(yield t.N_.stop(),t.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class rC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eu(t,e){if(gn("AsyncQueue",`${e}: ${t}`),Wo(t))return new se(B.UNAVAILABLE,`${e}: ${t}`);throw t}class Cu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Ch(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new Cu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class OO{constructor(){this.B_=new Vt(_e.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xu(e,n,Cu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class cue{constructor(){this.k_=void 0,this.listeners=[]}}class lue{constructor(){this.queries=new uo(e=>eN(e),yh),this.onlineState="Unknown",this.q_=new Set}}function sC(){return sC=_(function*(t,e){const n=me(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Eu(o,`Initialization of query '${iu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&cC(n)}),sC.apply(this,arguments)}function aC(){return aC=_(function*(t,e){const n=me(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),aC.apply(this,arguments)}function uue(t,e){const n=me(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&cC(n)}function due(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function cC(t){t.q_.forEach(e=>{e.next()})}class lC{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class LO{constructor(e){this.key=e}}class BO{constructor(e){this.key=e}}class HO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=nN(e),this.aa=new Cu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new OO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=Eh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(f,h)||(r.track({type:2,doc:h}),y=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(c||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new xu(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new OO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new BO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new LO(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return xu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class pue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gue{constructor(e){this.key=e,this.Ra=!1}}class mue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new uo(a=>eN(a),yh),this.fa=new Map,this.ga=new Set,this.pa=new Vt(_e.comparator),this.ya=new Map,this.wa=new I8,this.Sa={},this.ba=new Map,this.Da=uc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function _ue(t,e){return uC.apply(this,arguments)}function uC(){return uC=_(function*(t,e){const n=function kC(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Eue.bind(null,e),e.Va.a_=uue.bind(null,e.eventManager),e.Va.Fa=due.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function gu(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ho(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Dr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function dC(t,e,n,r,i){return fC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&ym(n.remoteStore,o)}return i}),uC.apply(this,arguments)}function fC(){return fC=_(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=_(function*(y,T,b,j){let Q=T.view.ca(b);Q.Zi&&(Q=yield pm(y.localStore,T.query,!1).then(({documents:Ke})=>T.view.ca(Ke,Q)));const he=j&&j.targetChanges.get(T.targetId),Re=T.view.applyChanges(Q,y.isPrimaryClient,he);return xC(y,T.targetId,Re.Ta),Re.snapshot}),function g(y,T,b,j){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield pm(t.localStore,e,!0),o=new HO(e,s.ls),a=o.ca(s.documents),c=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);xC(t,n,l.Ta);const u=new pue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),fC.apply(this,arguments)}function vue(t,e){return hC.apply(this,arguments)}function hC(){return hC=_(function*(t,e){const n=me(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!yh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hh(n.remoteStore,r.targetId),Iu(n,r.targetId)}).catch(qo))):(Iu(n,r.targetId),yield mu(n.localStore,r.targetId,!0))}),hC.apply(this,arguments)}function pC(){return pC=_(function*(t,e,n){const r=function NC(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=me(o),l=Zt.now(),u=a.reduce((h,p)=>h.add(p.key),Qe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=$r(),g=Qe();return c.ss.getEntries(h,u).next(y=>{p=y,p.forEach((T,b)=>{b.isValidDocument()||(g=g.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(y=>{d=y;const T=[];for(const b of a){const j=Wce(b,d.get(b.key).overlayedDocument);null!=j&&T.push(new fo(b.key,j,Bk(j.value.mapValue),Kt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,T,a)}).next(y=>{f=y;const T=y.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,y.batchId,T)})}).then(()=>({batchId:f.batchId,changes:iN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Vt(ze)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield po(r,i.changes),yield vu(r.remoteStore)}catch(i){const s=Eu(i,"Failed to persist write");n.reject(s)}}),pC.apply(this,arguments)}function zO(t,e){return gC.apply(this,arguments)}function gC(){return gC=_(function*(t,e){const n=me(t);try{const r=yield function Ble(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,y,T;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Mn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),y=h,T=u,(0===(g=f).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=$r(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function yO(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(ke.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Me(o.Ra):i.removedDocuments.size>0&&(Me(o.Ra),o.Ra=!1))}),yield po(n,r,e)}catch(r){yield qo(r)}}),gC.apply(this,arguments)}function UO(t,e,n){const r=me(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=me(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&cC(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Eue(t,e,n){return mC.apply(this,arguments)}function mC(){return mC=_(function*(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Vt(_e.comparator);o=o.insert(s,Ht.newNoDocument(s,ke.min()));const a=Qe().add(s),c=new Ah(ke.min(),new Map,new Vt(ze),o,a);yield zO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),IC(r)}else yield mu(r.localStore,e,!1).then(()=>Iu(r,e,n)).catch(qo)}),mC.apply(this,arguments)}function Cue(t,e){return _C.apply(this,arguments)}function _C(){return _C=_(function*(t,e){const n=me(t),r=e.batch.batchId;try{const i=yield function Lle(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=R.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const y=l.docVersions.get(p);Me(null!==y),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);CC(n,r,null),EC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield po(n,i)}catch(i){yield qo(i)}}),_C.apply(this,arguments)}function xue(t,e,n){return vC.apply(this,arguments)}function vC(){return vC=_(function*(t,e,n){const r=me(t);try{const i=yield function(o,a){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Me(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);CC(r,e,n),EC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield po(r,i)}catch(i){yield qo(i)}}),vC.apply(this,arguments)}function EC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function CC(t,e,n){const r=me(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||jO(t,r)})}function jO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Hh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),IC(t))}function xC(t,e,n){for(const r of n)r instanceof LO?(t.wa.addReference(r.key,e),bue(t,r)):r instanceof BO?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||jO(t,r.key)):Te()}function bue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ga.add(r),IC(t))}function IC(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new _e(ut.fromString(e)),r=t.Da.next();t.ya.set(r,new gue(n)),t.pa=t.pa.insert(n,r),ym(t.remoteStore,new ho(Dr(nu(n.path)),r,"TargetPurposeLimboResolution",li._e))}}function po(t,e,n){return bC.apply(this,arguments)}function bC(){return bC=_(function*(t,e,n){const r=me(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=D8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=_(function*(l,u){const d=me(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(u,h=>R.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>R.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Wo(f))throw f;ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),y=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,y)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),bC.apply(this,arguments)}function wue(t,e){return wC.apply(this,arguments)}function wC(){return wC=_(function*(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield _O(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new se(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield po(n,r._s)}var s}),wC.apply(this,arguments)}function Aue(t,e){const n=me(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Cm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=Lh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function mO(t,e,n,r){return new Vle(t,e,n,r)}(this.persistence,new gO,e.initialUser,this.serializer)}createPersistence(e){return new b8(dm.jr,this.serializer)}createSharedClientState(e){return new wO}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bu{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>UO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wue.bind(null,r.syncEngine),yield function tC(t,e){return nC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lue}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),r=new qle(e.databaseInfo);return new Yle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>UO(this.syncEngine,n,0),a=AO.D()?new AO:new jle,new Jle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new mue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=_(function*(r){const i=me(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield _u(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class xm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Bue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=mk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){ie("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Eu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Im(t,e){return OC.apply(this,arguments)}function OC(){return OC=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield _O(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),OC.apply(this,arguments)}function FC(t,e){return VC.apply(this,arguments)}function VC(){return VC=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function LC(t){return BC.apply(this,arguments)}(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>NO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>NO(e.remoteStore,s)),t._onlineComponents=e}),VC.apply(this,arguments)}function BC(){return BC=_(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function YO(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ai("Error using user provided cache. Falling back to memory cache: "+n),yield Im(t,new Cm)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield Im(t,new Cm);return t._offlineComponents}),BC.apply(this,arguments)}function bm(t){return HC.apply(this,arguments)}function HC(){return HC=_(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield FC(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield FC(t,new bu))),t._onlineComponents}),HC.apply(this,arguments)}function Au(t){return UC.apply(this,arguments)}function UC(){return UC=_(function*(t){const e=yield bm(t),n=e.eventManager;return n.onListen=_ue.bind(null,e.syncEngine),n.onUnlisten=vue.bind(null,e.syncEngine),n}),UC.apply(this,arguments)}function tF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const nF=new Map;function jC(t,e,n){if(!n)throw new se(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rF(t){if(!_e.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iF(t){if(_e.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Te()}function st(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(t);throw new se(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class oF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new se(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Que(t,e,n,r){if(!0===e&&!0===r)throw new se(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=tF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new qae;switch(r.type){case"firstParty":return new Qae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nF.get(n);r&&(ie("ComponentProvider","Removing Datastore"),nF.delete(n),r.terminate())}(this),Promise.resolve()}}class tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Is extends tr{constructor(e,n,r){super(e,n,nu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new _e(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Jue(t,e,...n){if(t=rn(t),jC("collection","path",e),t instanceof zh){const r=ut.fromString(e,...n);return iF(r),new Is(t,null,r)}{if(!(t instanceof _n||t instanceof Is))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return iF(r),new Is(t.firestore,null,r)}}function aF(t,e,...n){if(t=rn(t),1===arguments.length&&(e=mk.newId()),jC("doc","path",e),t instanceof zh){const r=ut.fromString(e,...n);return rF(r),new _n(t,null,new _e(r))}{if(!(t instanceof _n||t instanceof Is))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return rF(r),new _n(t.firestore,t instanceof Is?t.converter:null,new _e(r))}}class Zue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new L8(this,"async_queue_retry"),this.iu=()=>{const n=vm();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=vm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=vm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Sn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return _(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Wo(n))throw n;ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,gn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=rC.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return _(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function $C(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Lt extends zh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||lF(this),this._firestoreClient.terminate()}}function tde(t,e){const r="string"==typeof t?t:e||"(default)",i=ps("object"==typeof t?t:Ol(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=gP("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Xue(t,e,n,r={}){var i;const s=(t=st(t,zh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Vn.MOCK_USER;else{a=function Kte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ug(JSON.stringify({alg:"none",type:"JWT"})),Ug(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Vn(l)}t._authCredentials=new Wae(new pk(a,c))}}(i,...s)}return i}function vn(t){return t._firestoreClient||lF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ace(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,tF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Bue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Mn.fromBase64String(e))}catch(n){throw new se(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fc(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new se(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class GC{constructor(e){this._methodName=e}}class qC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const rde=/^__.*__$/;class ide{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class fF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Am{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Dm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(hF(this.Iu)&&rde.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class sde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}pu(e,n,r,i=!1){return new Am({Iu:e,methodName:n,gu:r,path:Wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(t){const e=t._freezeSettings(),n=Lh(t._databaseId);return new sde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WC(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);YC("Data must be an object, but it was:",o,r);const a=vF(r,o);let c,l;if(s.merge)c=new jr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=$h(e,d,n);if(!o.contains(f))throw new se(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);EF(u,f)||u.push(f)}c=new jr(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new ide(new er(a),c,l)}class jh extends GC{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function hc(t,e){if(yF(t=rn(t)))return YC("Unsupported field value:",e,t),vF(t,e);if(t instanceof GC)return function(r,i){if(!hF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=hc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=rn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return cN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Zt.fromDate(r);return{timestampValue:lu(i.serializer,s)}}if(r instanceof Zt){const s=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lu(i.serializer,s)}}if(r instanceof qC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fc)return{bytesValue:SN(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:f8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${wm(r)}`)}(t,e)}function vF(t,e){const n={};return Mk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,(r,i)=>{const s=hc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function yF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof qC||t instanceof fc||t instanceof _n||t instanceof GC)}function YC(t,e,n){if(!yF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=wm(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function $h(t,e,n){if((e=rn(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return Tm(t,e);throw Dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const lde=new RegExp("[~\\*/\\[\\]]");function Tm(t,e,n){if(e.search(lde)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(B.INVALID_ARGUMENT,a+t+c)}function EF(t,e){return t.some(n=>n.isEqual(e))}class QC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ude(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ude extends QC{data(){return super.data()}}function Sm(t,e){return"string"==typeof e?Tm(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}class XC{}class xF extends XC{}function dde(t,e,...n){let r=[];e instanceof XC&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Su).length,a=s.filter(c=>c instanceof Gh).length;if(o>1||o>0&&a>0)throw new se(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gh extends xF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gh(e,n,r)}_apply(e){const n=this._parse(e);return AF(e._query,n),new tr(e.firestore,e.converter,i8(e._query,n))}_parse(e){const n=Du(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new se(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){wF(d,u);const h=[];for(const p of d)h.push(bF(c,s,p));f={arrayValue:{values:h}}}else f=bF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||wF(d,u),f=function _F(t,e,n,r=!1){return hc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return it.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function fde(t,e,n){const r=e,i=Sm("where",t);return Gh._create(i,r,n)}class Su extends XC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Su(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:bt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)AF(o,c),o=i8(o,c)}(e._query,n),new tr(e.firestore,e.converter,i8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Mm extends xF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Mm(e,n,r)}_apply(e){return new tr(e.firestore,e.converter,J1(e._query,this._limit,this._limitType))}}function hde(t){return function sF(t,e){if(e<=0)throw new se(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Mm._create("limit",t,"F")}function bF(t,e,n){if("string"==typeof(n=rn(n))){if(""===n)throw new se(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r8(e)&&-1!==n.indexOf("/"))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!_e.isDocumentKey(r))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tc(t,new _e(r))}if(n instanceof _n)return tc(t,n._key);throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(n)}.`)}function wF(t,e){if(!Array.isArray(t)||0===t.length)throw new se(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new se(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pde{convertValue(e,n="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ko(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new qC(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=q1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=Yo(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);Me(BN(r));const i=new ec(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends QC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class km extends Mu{data(e={}){return super.data(e)}}class Pu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new km(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new km(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new km(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:mde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class oa extends pde{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function _de(t,e,n){t=st(t,_n);const r=st(t.firestore,Lt),i=function ZC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return qh(r,[WC(Du(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Kt.none())])}function vde(t,e,n,...r){t=st(t,_n);const i=st(t.firestore,Lt),s=Du(i);let o;return o="string"==typeof(e=rn(e))||e instanceof Tu?function mF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[$h(e,r,n)],c=[i];if(s.length%2!=0)throw new se(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push($h(e,s[f])),c.push(s[f+1]);const l=[],u=er.empty();for(let f=a.length-1;f>=0;--f)if(!EF(l,a[f])){const h=a[f];let p=c[f];p=rn(p);const g=o.Ru(h);if(p instanceof jh)l.push(h);else{const y=hc(p,g);null!=y&&(l.push(h),u.set(h,y))}}const d=new jr(l);return new fF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function gF(t,e,n,r){const i=t.pu(1,e,n);YC("Data must be an object, but it was:",i,r);const s=[],o=er.empty();Ko(r,(c,l)=>{const u=Tm(e,c,n);l=rn(l);const d=i.Ru(u);if(l instanceof jh)s.push(u);else{const f=hc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new jr(s);return new fF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),qh(i,[o.toMutation(t._key,Kt.exists(!0))])}function qh(t,e){return function(r,i){const s=new Sn;return r.asyncQueue.enqueueAndForget(_(function*(){return function yue(t,e,n){return pC.apply(this,arguments)}(yield function zC(t){return bm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(vn(t),e)}!function(e,n=!0){Kl=Nl,wi(new ii("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Lt(new Kae(r.getProvider("auth-internal")),new Xae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),sn(hk,"4.3.2",e),sn(hk,"4.3.2","esm2017")}();var Fm=function(){return Fm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},Fm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Rde={includeMetadataChanges:!1};function rx(t,e){return void 0===e&&(e=Rde),new fe(function(n){var r=function yde(t,...e){var n,r,i;t=rn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||$C(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if($C(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof _n)l=st(t.firestore,Lt),u=nu(t._key.path),c={next:d=>{e[o]&&e[o](function ex(t,e,n){const r=n.docs.get(e._key),i=new oa(t);return new Mu(t,i,e._key,r,new pc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=st(t,tr);l=st(d.firestore,Lt),u=d._query;const f=new oa(l);c={next:h=>{e[o]&&e[o](new Pu(l,f,d,h))},error:e[o+1],complete:e[o+2]},function CF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new se(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const y=new xm(g),T=new lC(h,y,p);return f.asyncQueue.enqueueAndForget(_(function*(){return function iC(t,e){return sC.apply(this,arguments)}(yield Au(f),T)})),()=>{y.Na(),f.asyncQueue.enqueueAndForget(_(function*(){return function oC(t,e){return aC.apply(this,arguments)}(yield Au(f),T)}))}}(vn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Nde(t,e){return void 0===e&&(e={}),function kde(t){return rx(t,{includeMetadataChanges:!0})}(t).pipe(Ye(function(n){return PF(n,e)}))}function PF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Fm(Fm({},r),((n={})[e.idField]=t.id,n)):r}function Hde(t,e){return void 0===e&&(e={}),function Bde(t){return rx(t,{includeMetadataChanges:!0}).pipe(Ye(function(e){return e.docs}))}(t).pipe(Ye(function(n){return n.map(function(r){return PF(r,e)})}))}class bs{constructor(e){return e}}const OF="firestore",ox=new Ee("angularfire2.firestore-instances");function $de(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new bs(r)}}const Gde={provide:class Ude{constructor(){return Qg(OF)}},deps:[[new tn,ox]]},qde={provide:bs,useFactory:function jde(t,e){const n=Yg(OF,t,e);return n&&new bs(n)},deps:[[new tn,ox],za]};let Wde=(()=>{var t;class e{constructor(){sn("angularfire",Ho.full,"fst")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",Ct({providers:[qde,Gde]})),e})();function gc(t,...e){return{ngModule:Wde,providers:[{provide:ox,useFactory:$de(t),multi:!0,deps:[ft,Tn,Af,Tf,[new tn,YR],[new tn,W4],...e]}]}}const Wh=En(Hde,!0),Vm=En(Nde,!0),Wi=En(Jue,!0),Gr=En(aF,!0),mc=En(tde,!0),FF=En(hde,!0),Lm=En(dde,!0),Ru=En(_de,!0),Bm=En(vde,!0),ax=En(fde,!0);class Hm{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var ku,cx=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(cx||{}),rt=function(t){return t.GAME_ENDPOINT="game-endpoint",t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.PLAYERS_STATS="players-stats",t.LOCAL_METADATA="local-metadata",t.REMOTE_METADATA="remote-metadata",t.POST_INSTALL_FETCH_METADATA="post-install-fetch-metadata",t.JS_VERSION="js-version",t}(rt||{});class VF{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class qr{clearAll(){localStorage.clear()}cache(e,n,r=0){const i=new VF(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(VF,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}remoteMetadata(){return this.get(rt.REMOTE_METADATA)}localMetadata(){return this.get(rt.LOCAL_METADATA)}remove(e){localStorage.removeItem(e)}}(ku=qr).\u0275fac=function(e){return new(e||ku)},ku.\u0275prov=Ie({token:ku,factory:ku.\u0275fac,providedIn:"platform"}),un([di(2,tn())],qr.prototype,"cache",null),un([di(1,tn())],qr.prototype,"get",null);var Nu,lx=V(874);class go{constructor(){this.localStorageService=K(qr),this._authState=new Tt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(rt.USER))return!1;let n=this.localStorageService.get(rt.USER).session.timeToken,r=this.localStorageService.get(rt.USER).session.refreshToken,i=Date.parse(lx.AES.decrypt(n,r).toString(lx.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new Hm(s,this.localStorageService.get(rt.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(rt.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=QR(e).subscribe(r=>{if(null!=r){let i=Wh(Lm(Wi(n,"valid-users"),ax("email","==",r.email),FF(1))).subscribe(s=>{if(s.length>0){let o=Object.assign({email:"",enabled:!1,role:cx.USER},s[0]);o.enabled?(this.localStorageService.cache(rt.USER,{session:{timeToken:lx.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new Hm(!0,o.role)),window.location.reload()):this.signOut(e)}else this.signOut(e);i.unsubscribe()})}else this.localStorageService.remove(rt.USER),this._authState.emit(new Hm(!1,null))})}}signInWithEmailAndPassword(e,n,r){Voe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Loe(e,new Nie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(rt.USER),this._refreshInProgress=!0,this._authState.emit(new Hm(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{window.location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function ws(t,e){return Fe((n,r)=>{let i=0;n.subscribe(tt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ux(...t){return function Yde(){return Qp(1)}()(jn(t,ud(t)))}function LF(...t){const e=ud(t);return Fe((n,r)=>{(e?ux(t,n,e):ux(t,n)).subscribe(r)})}(Nu=go).\u0275fac=function(e){return new(e||Nu)},Nu.\u0275prov=Ie({token:Nu,factory:Nu.\u0275fac,providedIn:"platform"}),un([di(0,tn())],go.prototype,"checkLoginValidity",null);const Xde=(t,e)=>e.some(n=>t instanceof n);let BF,HF;const zF=new WeakMap,dx=new WeakMap,UF=new WeakMap,fx=new WeakMap,hx=new WeakMap;let px={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dx.get(t);if("objectStoreNames"===e)return t.objectStoreNames||UF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ife(t){return"function"==typeof t?function rfe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zde(){return HF||(HF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(gx(this),e),aa(zF.get(this))}:function(...e){return aa(t.apply(gx(this),e))}:function(e,...n){const r=t.call(gx(this),e,...n);return UF.set(r,e.sort?e.sort():[e]),aa(r)}}(t):(t instanceof IDBTransaction&&function tfe(t){if(dx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dx.set(t,e)}(t),Xde(t,function Jde(){return BF||(BF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,px):t)}function aa(t){if(t instanceof IDBRequest)return function efe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(aa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zF.set(n,t)}).catch(()=>{}),hx.set(e,t),e}(t);if(fx.has(t))return fx.get(t);const e=ife(t);return e!==t&&(fx.set(t,e),hx.set(e,t)),e}const gx=t=>hx.get(t),ofe=["get","getKey","getAll","getAllKeys","count"],afe=["put","add","delete","clear"],mx=new Map;function jF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(mx.get(e))return mx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=afe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ofe.includes(n))return;const s=function(){var o=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return mx.set(e,s),s}!function nfe(t){px=t(px)}(t=>({...t,get:(e,n,r)=>jF(e,n)||t.get(e,n,r),has:(e,n)=>!!jF(e,n)||t.has(e,n)}));const $F="@firebase/installations",_x="0.6.4",GF=1e4,qF=`w:${_x}`,WF="FIS_v2",cfe="https://firebaseinstallations.googleapis.com/v1",lfe=36e5,mo=new Lo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function KF(t){return t instanceof ji&&t.code.includes("request-failed")}function vx({projectId:t}){return`${cfe}/projects/${t}/installations`}function YF(t){return{token:t.token,requestStatus:2,expiresIn:hfe(t.expiresIn),creationTime:Date.now()}}function yx(t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=_(function*(t,e){const r=(yield e.json()).error;return mo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Ex.apply(this,arguments)}function QF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Cx(t){return xx.apply(this,arguments)}function xx(){return xx=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),xx.apply(this,arguments)}function hfe(t){return Number(t.replace("s","000"))}function Ix(){return Ix=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=vx(t),i=QF(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:WF,appId:t.appId,sdkVersion:qF})},c=yield Cx(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:YF(l.authToken)}}throw yield yx("Create Installation",c)}),Ix.apply(this,arguments)}function JF(t){return new Promise(e=>{setTimeout(e,t)})}const _fe=/^[cdef][\w-]{21}$/,bx="";function vfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function yfe(t){return function mfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return _fe.test(n)?n:bx}catch{return bx}}function Ou(t){return`${t.appName}!${t.appId}`}const Fu=new Map;function ZF(t,e){const n=Ou(t);eV(n,e),function xfe(t,e){const n=function tV(){return!_c&&"BroadcastChannel"in self&&(_c=new BroadcastChannel("[Firebase] FID Change"),_c.onmessage=t=>{eV(t.data.key,t.data.fid)}),_c}();n&&n.postMessage({key:t,fid:e}),function nV(){0===Fu.size&&_c&&(_c.close(),_c=null)}()}(n,e)}function eV(t,e){const n=Fu.get(t);if(n)for(const r of n)r(e)}let _c=null;const Ife="firebase-installations-database",bfe=1,vc="firebase-installations-store";let wx=null;function Ax(){return wx||(wx=function sfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=aa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(aa(o.result),c.oldVersion,c.newVersion,aa(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ife,bfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(vc)}})),wx}function zm(t,e){return Tx.apply(this,arguments)}function Tx(){return Tx=_(function*(t,e){const n=Ou(t),i=(yield Ax()).transaction(vc,"readwrite"),s=i.objectStore(vc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&ZF(t,e.fid),e}),Tx.apply(this,arguments)}function Dx(t){return Sx.apply(this,arguments)}function Sx(){return Sx=_(function*(t){const e=Ou(t),r=(yield Ax()).transaction(vc,"readwrite");yield r.objectStore(vc).delete(e),yield r.done}),Sx.apply(this,arguments)}function Kh(t,e){return Mx.apply(this,arguments)}function Mx(){return Mx=_(function*(t,e){const n=Ou(t),i=(yield Ax()).transaction(vc,"readwrite"),s=i.objectStore(vc),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&ZF(t,a.fid),a}),Mx.apply(this,arguments)}function Px(t){return Rx.apply(this,arguments)}function Rx(){return Rx=_(function*(t){let e;const n=yield Kh(t.appConfig,r=>{const i=function wfe(t){return iV(t||{fid:vfe(),registrationStatus:0})}(r),s=function Afe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(mo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Tfe(t,e){return kx.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Dfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bx?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Rx.apply(this,arguments)}function kx(){return kx=_(function*(t,e){try{const n=yield function gfe(t,e){return Ix.apply(this,arguments)}(t,e);return zm(t.appConfig,n)}catch(n){throw KF(n)&&409===n.customData.serverCode?yield Dx(t.appConfig):yield zm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),kx.apply(this,arguments)}function Dfe(t){return Nx.apply(this,arguments)}function Nx(){return Nx=_(function*(t){let e=yield rV(t.appConfig);for(;1===e.registrationStatus;)yield JF(100),e=yield rV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Px(t);return r||n}return e}),Nx.apply(this,arguments)}function rV(t){return Kh(t,e=>{if(!e)throw mo.create("installation-not-found");return iV(e)})}function iV(t){return function Sfe(t){return 1===t.registrationStatus&&t.registrationTime+GF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Ox(){return Ox=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Pfe(t,{fid:e}){return`${vx(t)}/${e}/authTokens:generate`}(t,n),i=function XF(t,{refreshToken:e}){const n=QF(t);return n.append("Authorization",function pfe(t){return`${WF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:qF,appId:t.appId}})},c=yield Cx(()=>fetch(r,a));if(c.ok)return YF(yield c.json());throw yield yx("Generate Auth Token",c)}),Ox.apply(this,arguments)}function Fx(t){return Vx.apply(this,arguments)}function Vx(){return Vx=_(function*(t,e=!1){let n;const r=yield Kh(t.appConfig,s=>{if(!oV(s))throw mo.create("not-registered");const o=s.authToken;if(!e&&function Nfe(t){return 2===t.requestStatus&&!function Ofe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lfe}(t)}(o))return s;if(1===o.requestStatus)return n=function Rfe(t,e){return Lx.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw mo.create("app-offline");const a=function Ffe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function kfe(t,e){return Bx.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Vx.apply(this,arguments)}function Lx(){return Lx=_(function*(t,e){let n=yield sV(t.appConfig);for(;1===n.authToken.requestStatus;)yield JF(100),n=yield sV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Fx(t,e):r}),Lx.apply(this,arguments)}function sV(t){return Kh(t,e=>{if(!oV(e))throw mo.create("not-registered");return function Vfe(t){return 1===t.requestStatus&&t.requestTime+GF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Bx(){return Bx=_(function*(t,e){try{const n=yield function Mfe(t,e){return Ox.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield zm(t.appConfig,r),n}catch(n){if(!KF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield zm(t.appConfig,r)}else yield Dx(t.appConfig);throw n}}),Bx.apply(this,arguments)}function oV(t){return void 0!==t&&2===t.registrationStatus}function Hx(){return Hx=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Px(e);return r?r.catch(console.error):Fx(e).catch(console.error),n.fid}),Hx.apply(this,arguments)}function zx(){return zx=_(function*(t,e=!1){const n=t;return yield function Hfe(t){return Ux.apply(this,arguments)}(n),(yield Fx(n,e)).token}),zx.apply(this,arguments)}function Ux(){return Ux=_(function*(t){const{registrationPromise:e}=yield Px(t);e&&(yield e)}),Ux.apply(this,arguments)}function Gx(t){return mo.create("missing-app-config-values",{valueName:t})}const aV="installations",Gfe=t=>{const e=t.getProvider("app").getImmediate(),n=function jfe(t){if(!t||!t.options)throw Gx("App Configuration");if(!t.name)throw Gx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Gx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ps(e,"heartbeat"),_delete:()=>Promise.resolve()}},qfe=t=>{const n=ps(t.getProvider("app").getImmediate(),aV).getImmediate();return{getId:()=>function Lfe(t){return Hx.apply(this,arguments)}(n),getToken:i=>function Bfe(t){return zx.apply(this,arguments)}(n,i)}};(function Wfe(){wi(new ii(aV,Gfe,"PUBLIC")),wi(new ii("installations-internal",qfe,"PRIVATE"))})(),sn($F,_x),sn($F,_x,"esm2017");const Um="analytics",Kfe="firebase_id",Yfe="origin",Qfe=6e4,Xfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qx="https://www.googletagmanager.com/gtag/js",Hn=new If("@firebase/analytics"),Sr=new Lo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zfe(t){if(!t.startsWith(qx)){const e=Sr.create("invalid-gtag-resource",{gtagURL:t});return Hn.warn(e.message),""}return t}function cV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Wx(){return Wx=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield cV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Hn.error(a)}t("config",i,s)}),Wx.apply(this,arguments)}function Kx(){return Kx=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield cV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Hn.error(s)}}),Kx.apply(this,arguments)}const che=30,lV=new class uhe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function dhe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Yx(){return Yx=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:dhe(r)},s=Xfe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),Yx.apply(this,arguments)}function Qx(){return Qx=_(function*(t,e=lV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Sr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Sr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new mhe;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:Qfe),uV({appId:r,apiKey:i,measurementId:s},o,a,e)}),Qx.apply(this,arguments)}function uV(t,e,n){return Xx.apply(this,arguments)}function Xx(){return Xx=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=lV){var s;const{appId:o,measurementId:a}=t;try{yield function phe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function fhe(t){return Yx.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function ghe(t){if(!(t instanceof ji&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?N4(n,i.intervalMillis,che):N4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Hn.debug(`Calling attemptFetch again in ${u} millis`),uV(t,d,r,i)}}),Xx.apply(this,arguments)}class mhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Jx,sI;function Zx(){return Zx=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),Zx.apply(this,arguments)}function tI(){return tI=_(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),tI.apply(this,arguments)}function oI(){return oI=_(function*(){if(!vf())return Hn.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield P4()}catch(t){return Hn.warn(Sr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),oI.apply(this,arguments)}function aI(){return aI=_(function*(t,e,n,r,i,s,o){var a;const c=function hhe(t){return Qx.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Hn.error(h)),e.push(c);const l=function Ihe(){return oI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function ahe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qx)&&n.src.includes(t))return n;return null})(s)||function the(t,e){const n=function ehe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Zfe}),r=document.createElement("script"),i=`${qx}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),sI&&(i("consent","default",sI),function dV(t){sI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[Yfe]="firebase",f.update=!0,null!=d&&(f[Kfe]=d),i("config",u.measurementId,f),Jx&&(i("set",Jx),function fV(t){Jx=t}(void 0)),u.measurementId}),aI.apply(this,arguments)}class whe{constructor(e){this.app=e}_delete(){return delete As[this.app.options.appId],Promise.resolve()}}let As={},hV=[];const pV={};let mV,Ts,jm="dataLayer",cI=!1;function The(t,e,n){!function Ahe(){const t=[];if(M4()&&t.push("This is a browser extension environment."),vP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Sr.create("invalid-analytics-context",{errorInfo:e});Hn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Sr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Sr.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=As[r])throw Sr.create("already-exists",{id:r});if(!cI){!function nhe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(jm);const{wrappedGtag:s,gtagCore:o}=function ohe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function she(t,e,n,r){function s(){return s=_(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function ihe(t,e,n,r,i){return Kx.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function rhe(t,e,n,r,i,s){return Wx.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Hn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(As,hV,pV,jm,"gtag");Ts=s,mV=o,cI=!0}return As[r]=function bhe(t,e,n,r,i,s,o){return aI.apply(this,arguments)}(t,hV,pV,e,mV,jm,n),new whe(t)}function Dhe(t=Ol()){const e=ps(t=rn(t),Um);return e.isInitialized()?e.getImmediate():function She(t,e={}){const n=ps(t,Um);if(n.isInitialized()){const i=n.getImmediate();if(yf(e,n.getOptions()))return i;throw Sr.create("already-initialized")}return n.initialize({options:e})}(t)}function Mhe(){return lI.apply(this,arguments)}function lI(){return(lI=_(function*(){if(M4()||!vP()||!vf())return!1;try{return yield P4()}catch{return!1}})).apply(this,arguments)}function Phe(t,e,n){t=rn(t),function yhe(t,e,n,r){return tI.apply(this,arguments)}(Ts,As[t.app.options.appId],e,n).catch(r=>Hn.error(r))}function _V(t,e,n,r){t=rn(t),function _he(t,e,n,r,i){return Zx.apply(this,arguments)}(Ts,As[t.app.options.appId],e,n,r).catch(i=>Hn.error(i))}const vV="@firebase/analytics";!function Rhe(){wi(new ii(Um,(e,{options:n})=>The(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wi(new ii("analytics-internal",function t(e){try{const n=e.getProvider(Um).getImmediate();return{logEvent:(r,i,s)=>_V(n,r,i,s)}}catch(n){throw Sr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),sn(vV,"0.10.0"),sn(vV,"0.10.0","esm2017")}();const Yh=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Nhe}=Array,{getPrototypeOf:Ohe,prototype:Fhe,keys:Vhe}=Object;function EV(t){if(1===t.length){const e=t[0];if(Nhe(e))return{args:e,keys:null};if(function Lhe(t){return t&&"object"==typeof t&&Ohe(t)===Fhe}(e)){const n=Vhe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Bhe}=Array;function CV(t){return Ye(e=>function Hhe(t,e){return Bhe(e)?t(...e):t(e)}(t,e))}function xV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function IV(...t){const e=ud(t),n=yw(t),{args:r,keys:i}=EV(t);if(0===r.length)return jn([],e);const s=new fe(function zhe(t,e,n=ve){return r=>{bV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)bV(e,()=>{const l=jn(t[c],e);let u=!1;l.subscribe(tt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>xV(i,o):ve));return n?s.pipe(CV(n)):s}function bV(t,e,n){t?Fs(n,t,e):e()}function wV(t){return new fe(e=>{sr(t()).subscribe(e)})}function Qh(t,e){const n=M(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function dI(){return Fe((t,e)=>{let n=null;t._refCount++;const r=tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class AV extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,St(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J;const n=this.getSubject();e.add(this.source.subscribe(tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J.EMPTY)}return e}refCount(){return dI()(this)}}function Vu(t){return t<=0?()=>Zi:Fe((e,n)=>{let r=0;e.subscribe(tt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $m(t){return Fe((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function TV(t=Uhe){return Fe((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Uhe(){return new Yh}function yc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ws((i,s)=>t(i,s,r)):ve,Vu(1),n?$m(e):TV(()=>new Yh))}function Xh(t,e){return M(e)?Un(t,e,1):Un(t,1)}function Ec(t){return Fe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(tt(n,void 0,void 0,o=>{s=sr(t(o,Ec(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function fI(t){return t<=0?()=>Zi:Fe((e,n)=>{let r=[];e.subscribe(tt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jh(t){return Fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Xe="primary",Zh=Symbol("RouteTitle");class Khe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Lu(t){return new Khe(t)}function Yhe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ds(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!DV(t[i],e[i]))return!1;return!0}function DV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function SV(t){return t.length>0?t[t.length-1]:null}function ca(t){return function khe(t){return!!t&&(t instanceof fe||M(t.lift)&&M(t.subscribe))}(t)?t:Qd(t)?jn(Promise.resolve(t)):Ve(t)}const Xhe={exact:function RV(t,e,n){if(!Cc(t.segments,e.segments)||!Gm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!RV(t.children[r],e.children[r],n))return!1;return!0},subset:kV},MV={exact:function Jhe(t,e){return Ds(t,e)},subset:function Zhe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DV(t[n],e[n]))},ignored:()=>!0};function PV(t,e,n){return Xhe[n.paths](t.root,e.root,n.matrixParams)&&MV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function kV(t,e,n){return NV(t,e,e.segments,n)}function NV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Cc(i,n)||e.hasChildren()||!Gm(i,n,r))}if(t.segments.length===n.length){if(!Cc(t.segments,n)||!Gm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!kV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Cc(t.segments,i)&&Gm(t.segments,i,r)&&t.children[Xe])&&NV(t.children[Xe],e,s,r)}}function Gm(t,e,n){return e.every((r,i)=>MV[n](t[i].parameters,r.parameters))}class Bu{constructor(e=new wt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return npe.serialize(this)}}class wt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qm(this)}}class ep{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Lu(this.parameters)),this._parameterMap}toString(){return VV(this)}}function Cc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let tp=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return new hI},providedIn:"root"}),e})();class hI{parse(e){const n=new hpe(e);return new Bu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${np(e.root,!0)}`,r=function spe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Wm(n)}=${Wm(i)}`).join("&"):`${Wm(n)}=${Wm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function rpe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const npe=new hI;function qm(t){return t.segments.map(e=>VV(e)).join("/")}function np(t,e){if(!t.hasChildren())return qm(t);if(e){const n=t.children[Xe]?np(t.children[Xe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Xe&&r.push(`${i}:${np(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function tpe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Xe?[np(t.children[Xe],!1)]:[`${i}:${np(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Xe]?`${qm(t)}/${n[0]}`:`${qm(t)}/(${n.join("//")})`}}function OV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wm(t){return OV(t).replace(/%3B/gi,";")}function pI(t){return OV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Km(t){return decodeURIComponent(t)}function FV(t){return Km(t.replace(/\+/g,"%20"))}function VV(t){return`${pI(t.path)}${function ipe(t){return Object.keys(t).map(e=>`;${pI(e)}=${pI(t[e])}`).join("")}(t.parameters)}`}const ope=/^[^\/()?;#]+/;function gI(t){const e=t.match(ope);return e?e[0]:""}const ape=/^[^\/()?;=#]+/,lpe=/^[^=?&#]+/,dpe=/^[^&#]+/;class hpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Xe]=new wt(e,n)),r}parseSegment(){const e=gI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new ep(Km(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function cpe(t){const e=t.match(ape);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gI(this.remaining);i&&(r=i,this.capture(r))}e[Km(n)]=Km(r)}parseQueryParam(e){const n=function upe(t){const e=t.match(lpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function fpe(t){const e=t.match(dpe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=FV(n),s=FV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Xe]:new wt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function LV(t){return t.segments.length>0?new wt([],{[Xe]:t}):t}function BV(t){const e={};for(const r of Object.keys(t.children)){const s=BV(t.children[r]);if(r===Xe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function ppe(t){if(1===t.numberOfChildren&&t.children[Xe]){const e=t.children[Xe];return new wt(t.segments.concat(e.segments),e.children)}return t}(new wt(t.segments,e))}function xc(t){return t instanceof Bu}function HV(t){let e;const i=LV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new wt(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function zV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mI(i,i,i,n,r);const s=function mpe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new jV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new jV(n,e,r)}(e);if(s.toRoot())return mI(i,i,new wt([],{}),n,r);const o=function _pe(t,e,n){if(t.isAbsolute)return new Qm(e,!0,0);if(!n)return new Qm(e,!1,NaN);if(null===n.parent)return new Qm(n,!0,0);const r=Ym(t.commands[0])?0:1;return function vpe(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new Qm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?ip(o.segmentGroup,o.index,s.commands):$V(o.segmentGroup,o.index,s.commands);return mI(i,o.segmentGroup,a,n,r)}function Ym(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rp(t){return"object"==typeof t&&null!=t&&t.outlets}function mI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:UV(t,e,n);const a=LV(BV(o));return new Bu(a,s,i)}function UV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:UV(s,e,n)}),new wt(t.segments,r)}class jV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ym(r[0]))throw new re(4003,!1);const i=r.find(rp);if(i&&i!==SV(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function $V(t,e,n){if(t||(t=new wt([],{})),0===t.segments.length&&t.hasChildren())return ip(t,e,n);const r=function Epe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(rp(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!qV(c,l,o))return s;r+=2}else{if(!qV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new wt(t.segments.slice(0,r.pathIndex),{});return s.children[Xe]=new wt(t.segments.slice(r.pathIndex),t.children),ip(s,0,i)}return r.match&&0===i.length?new wt(t.segments,{}):r.match&&!t.hasChildren()?_I(t,e,n):r.match?ip(t,0,i):_I(t,e,n)}function ip(t,e,n){if(0===n.length)return new wt(t.segments,{});{const r=function ype(t){return rp(t[0])?t[0].outlets:{[Xe]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Xe)&&t.children[Xe]&&1===t.numberOfChildren&&0===t.children[Xe].segments.length){const s=ip(t.children[Xe],e,n);return new wt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=$V(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new wt(t.segments,i)}}function _I(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(rp(s)){const c=Cpe(s.outlets);return new wt(r,c)}if(0===i&&Ym(n[0])){r.push(new ep(t.segments[e].path,GV(n[0]))),i++;continue}const o=rp(s)?s.outlets[Xe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ym(a)?(r.push(new ep(o,GV(a))),i+=2):(r.push(new ep(o,{})),i++)}return new wt(r,{})}function Cpe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=_I(new wt([],{}),0,r))}),e}function GV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qV(t,e,n){return t==n.path&&Ds(e,n.parameters)}const sp="imperative";class Ss{constructor(e,n){this.id=e,this.url=n}}class vI extends Ss{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hu extends Ss{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class op extends Ss{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ap extends Ss{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Xm extends Ss{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WV extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xpe extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ipe extends Ss{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bpe extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wpe extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ape{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tpe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Spe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mpe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yI{}class EI{constructor(e){this.url=e}}class Ppe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cp,this.attachRef=null}}let cp=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ppe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class YV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=CI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=CI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=xI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xI(e,this._root).map(n=>n.value)}}function CI(t,e){if(t===e.value)return e;for(const n of e.children){const r=CI(t,n);if(r)return r}return null}function xI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=xI(t,n);if(r.length)return r.unshift(e),r}return[]}class _o{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function zu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class QV extends YV{constructor(e,n){super(e),this.snapshot=n,II(this,e)}toString(){return this.snapshot.toString()}}function XV(t,e){const n=function Rpe(t,e){const o=new Jm([],{},{},"",{},Xe,e,null,{});return new ZV("",new _o(o,[]))}(0,e),r=new hi([new ep("",{})]),i=new hi({}),s=new hi({}),o=new hi({}),a=new hi(""),c=new Uu(r,i,o,a,s,Xe,e,n.root);return c.snapshot=n.root,new QV(new _o(c,[]),n)}class Uu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ye(l=>l[Zh]))??Ve(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(e=>Lu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(e=>Lu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function kpe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Jm{get title(){return this.data?.[Zh]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZV extends YV{constructor(e,n){super(n),this.url=e,II(this,n)}toString(){return eL(this._root)}}function II(t,e){e.value._routerState=t,e.children.forEach(n=>II(t,n))}function eL(t){const e=t.children.length>0?` { ${t.children.map(eL).join(", ")} } `:"";return`${t.value}${e}`}function bI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ds(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ds(e.params,n.params)||t.paramsSubject.next(n.params),function Qhe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ds(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ds(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wI(t,e){const n=Ds(t.params,e.params)&&function epe(t,e){return Cc(t,e)&&t.every((n,r)=>Ds(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||wI(t.parent,e.parent))}let tL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new Tt,this.deactivateEvents=new Tt,this.attachEvents=new Tt,this.detachEvents=new Tt,this.parentContexts=K(cp),this.location=K(Hi),this.changeDetector=K(No),this.environmentInjector=K(yi),this.inputBinder=K(Zm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Npe(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yr]}),e})();class Npe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Uu?this.route:e===cp?this.childContexts:this.parent.get(e,n)}}const Zm=new Ee("");function lp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Fpe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return lp(t,r,i);return lp(t,r)})}(t,e,n);return new _o(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>lp(t,a)),o}}const r=function Vpe(t){return new Uu(new hi(t.url),new hi(t.params),new hi(t.queryParams),new hi(t.fragment),new hi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>lp(t,s));return new _o(r,i)}}const AI="ngNavigationCancelingError";function rL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=xc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function iL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[AI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function sL(t){return t&&t[AI]}let TI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["ng-component"]],standalone:!0,features:[GS],decls:1,vars:0,template:function(r,i){1&r&&ht(0,"router-outlet")},dependencies:[tL],encapsulation:2}),e})();function DI(t){const e=t.children&&t.children.map(DI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=TI),n}function Ki(t){return t.outlet||Xe}function up(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Gpe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),bI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=zu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=zu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new KV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Spe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(bI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),bI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=up(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class oL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class e2{constructor(e,n){this.component=e,this.route=n}}function qpe(t,e,n){const r=t._root;return dp(r,e?e._root:null,n,[r.value])}function ju(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function bj(t){return null!==t0(t)}(t)?e.get(t):t:r}function dp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=zu(e);return t.children.forEach(o=>{(function Kpe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Ype(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Cc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cc(t.url,e.url)||!Ds(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wI(t,e)||!Ds(t.queryParams,e.queryParams);default:return!wI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new oL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),dp(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new e2(a.outlet.component,o))}else o&&fp(e,a,i),i.canActivateChecks.push(new oL(r)),dp(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>fp(a,n.getContext(o),i)),i}function fp(t,e,n){const r=zu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{fp(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new e2(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function hp(t){return"function"==typeof t}function aL(t){return t instanceof Yh||"EmptyError"===t?.name}const t2=Symbol("INITIAL_VALUE");function $u(){return pi(t=>IV(t.map(e=>e.pipe(Vu(1),LF(t2)))).pipe(Ye(e=>{for(const n of e)if(!0!==n){if(n===t2)return t2;if(!1===n||n instanceof Bu)return n}return!0}),ws(e=>e!==t2),Vu(1)))}function cL(t){return function ce(...t){return Ne(t)}(Qn(e=>{if(xc(e))throw rL(0,e)}),Ye(e=>!0===e))}class n2{constructor(e){this.segmentGroup=e||null}}class lL{constructor(e){this.urlTree=e}}function Gu(t){return Qh(new n2(t))}function uL(t){return Qh(new lL(t))}class g0e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new re(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ve(r);if(i.numberOfChildren>1||!i.children[Xe])return Qh(new re(4e3,!1));i=i.children[Xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Bu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new wt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const SI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m0e(t,e,n,r,i){const s=MI(t,e,n);return s.matched?(r=function Bpe(t,e){return t.providers&&!t._injector&&(t._injector=$S(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function f0e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Ve(i.map(o=>{const a=ju(o,t);return ca(function t0e(t){return t&&hp(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe($u(),cL()):Ve(!0)}(r,e,n).pipe(Ye(o=>!0===o?s:{...SI}))):Ve(s)}function MI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...SI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Yhe)(n,t,e);if(!i)return{...SI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dL(t,e,n,r){return n.length>0&&function y0e(t,e,n){return n.some(r=>r2(t,e,r)&&Ki(r)!==Xe)}(t,n,r)?{segmentGroup:new wt(e,v0e(r,new wt(n,t.children))),slicedSegments:[]}:0===n.length&&function E0e(t,e,n){return n.some(r=>r2(t,e,r))}(t,n,r)?{segmentGroup:new wt(t.segments,_0e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new wt(t.segments,t.children),slicedSegments:n}}function _0e(t,e,n,r,i){const s={};for(const o of r)if(r2(t,n,o)&&!i[Ki(o)]){const a=new wt([],{});s[Ki(o)]=a}return{...i,...s}}function v0e(t,e){const n={};n[Xe]=e;for(const r of t)if(""===r.path&&Ki(r)!==Xe){const i=new wt([],{});n[Ki(r)]=i}return n}function r2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class b0e{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new g0e(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,!1)}recognize(){const e=dL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(Ec(n=>{if(n instanceof lL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof n2?this.noMatchError(n):n}),Ye(n=>{const r=new Jm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new _o(r,n),s=new ZV("",i),o=function gpe(t,e,n=null,r=null){return zV(HV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Xe).pipe(Ec(r=>{throw r instanceof n2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=JV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return jn(i).pipe(Xh(s=>{const o=r.children[s],a=function jpe(t,e){const n=t.filter(r=>Ki(r)===e);return n.push(...t.filter(r=>Ki(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function $he(t,e){return Fe(function jhe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(tt(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),$m(null),function Ghe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ws((i,s)=>t(i,s,r)):ve,fI(1),n?$m(e):TV(()=>new Yh))}(),Un(s=>{if(null===s)return Gu(r);const o=fL(s);return function w0e(t){t.sort((e,n)=>e.value.outlet===Xe?-1:n.value.outlet===Xe?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Ve(o)}))}processSegment(e,n,r,i,s,o){return jn(n).pipe(Xh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ec(c=>{if(c instanceof n2)return Ve(null);throw c}))),yc(a=>!!a),Ec(a=>{if(aL(a))return function x0e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Ve([]):Gu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function C0e(t,e,n,r){return!!(Ki(t)===r||r!==Xe&&r2(e,n,t))&&("**"===t.path||MI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Gu(i):Gu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Un(o=>{const a=new wt(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=MI(n,i,s);if(!a)return Gu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?uL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Un(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?SV(i).parameters:{};a=Ve({snapshot:new Jm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hL(r),Ki(r),r.component??r._loadedComponent??null,r,pL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=m0e(n,r,i,e).pipe(Ye(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Jm(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hL(r),Ki(r),r.component??r._loadedComponent??null,r,pL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(pi(c=>null===c?Gu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(pi(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=dL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Ye(T=>null===T?null:[new _o(d,T)]));if(0===l.length&&0===g.length)return Ve([new _o(d,[])]);const y=Ki(r)===s;return this.processSegment(u,l,p,g,y?Xe:s,!0).pipe(Ye(T=>[new _o(d,T)]))}))))}getChildConfig(e,n,r){return n.children?Ve({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function d0e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Ve(!0):Ve(i.map(o=>{const a=ju(o,t);return ca(function Xpe(t){return t&&hp(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe($u(),cL())}(e,n,r).pipe(Un(i=>i?this.configLoader.loadChildren(e,n).pipe(Qn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function p0e(t){return Qh(iL(!1,3))}())):Ve({routes:[],injector:e})}}function A0e(t){const e=t.value.routeConfig;return e&&""===e.path}function fL(t){const e=[],n=new Set;for(const r of t){if(!A0e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=fL(r.children);e.push(new _o(r.value,i))}return e.filter(r=>!n.has(r))}function hL(t){return t.data||{}}function pL(t){return t.resolve||{}}function gL(t){return"string"==typeof t.title||null===t.title}function PI(t){return pi(e=>{const n=t(e);return n?jn(n).pipe(Ye(()=>e)):Ve(e)})}const s2=new Ee("ROUTES");let mL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(cJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Ve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ca(r.loadComponent()).pipe(Ye(_L),Qn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Jh(()=>{this.componentLoaders.delete(r)})),s=new AV(i,()=>new ne).pipe(dI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function k0e(t,e,n,r){return ca(t.loadChildren()).pipe(Ye(_L),Un(i=>i instanceof US||Array.isArray(i)?Ve(i):jn(e.compileModuleAsync(i))),Ye(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(s2,[],{optional:!0,self:!0}).flat()),{routes:o.map(DI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Jh(()=>{this.childrenLoaders.delete(i)})),a=new AV(o,()=>new ne).pipe(dI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _L(t){return function N0e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let o2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ne,this.transitionAbortSubject=new ne,this.configLoader=K(mL),this.environmentInjector=K(yi),this.urlSerializer=K(tp),this.rootContexts=K(cp),this.inputBindingEnabled=null!==K(Zm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Tpe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Ape(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new hi({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sp,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ws(o=>0!==o.id),Ye(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),pi(o=>{this.currentTransition=o;let a=!1,c=!1;return Ve(o).pipe(Qn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new ap(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Zi}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ve(l).pipe(pi(h=>{const p=this.transitions?.getValue();return this.events.next(new vI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Zi:Promise.resolve(h)}),function T0e(t,e,n,r,i,s){return Un(o=>function I0e(t,e,n,r,i,s,o="emptyOnly"){return new b0e(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ye(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Qn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new WV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:y,extras:T}=l,b=new vI(h,this.urlSerializer.serialize(p),g,y);this.events.next(b);const j=XV(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:j,urlAfterRedirects:p,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},Ve(o)}{const h="";return this.events.next(new ap(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Zi}}),Qn(l=>{const u=new xpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ye(l=>(this.currentTransition=o={...l,guards:qpe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function r0e(t,e){return Un(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ve({...n,guardsResult:!0}):function i0e(t,e,n,r){return jn(t).pipe(Un(i=>function u0e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ve(s.map(a=>{const c=up(e)??i,l=ju(a,c);return ca(function e0e(t){return t&&hp(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(yc())})).pipe($u()):Ve(!0)}(i.component,i.route,n,e,r)),yc(i=>!0!==i,!0))}(o,r,i,t).pipe(Un(a=>a&&function Qpe(t){return"boolean"==typeof t}(a)?function s0e(t,e,n,r){return jn(e).pipe(Xh(i=>ux(function a0e(t,e){return null!==t&&e&&e(new Dpe(t)),Ve(!0)}(i.route.parent,r),function o0e(t,e){return null!==t&&e&&e(new Mpe(t)),Ve(!0)}(i.route,r),function l0e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Wpe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>wV(()=>Ve(o.guards.map(c=>{const l=up(o.node)??n,u=ju(c,l);return ca(function Zpe(t){return t&&hp(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(yc())})).pipe($u())));return Ve(s).pipe($u())}(t,i.path,n),function c0e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ve(!0);const i=r.map(s=>wV(()=>{const o=up(e)??n,a=ju(s,o);return ca(function Jpe(t){return t&&hp(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(yc())}));return Ve(i).pipe($u())}(t,i.route,n))),yc(i=>!0!==i,!0))}(r,s,t,e):Ve(a)),Ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Qn(l=>{if(o.guardsResult=l.guardsResult,xc(l.guardsResult))throw rL(0,l.guardsResult);const u=new Ipe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ws(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),PI(l=>{if(l.guards.canActivateChecks.length)return Ve(l).pipe(Qn(u=>{const d=new bpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pi(u=>{let d=!1;return Ve(u).pipe(function D0e(t,e){return Un(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ve(n);let s=0;return jn(i).pipe(Xh(o=>function S0e(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!gL(i)&&(s[Zh]=i.title),function M0e(t,e,n,r){const i=function P0e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Ve({});const s={};return jn(i).pipe(Un(o=>function R0e(t,e,n,r){const i=up(e)??r,s=ju(t,i);return ca(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(yc(),Qn(a=>{s[o]=a}))),fI(1),function qhe(t){return Ye(()=>t)}(s),Ec(o=>aL(o)?Zi:Qh(o)))}(s,t,e,r).pipe(Ye(o=>(t._resolvedData=o,t.data=JV(t,n).resolve,i&&gL(i)&&(t.data[Zh]=i.title),null)))}(o.route,r,t,e)),Qn(()=>s++),fI(1),Un(o=>s===i.length?Ve(n):Zi))})}(r.paramsInheritanceStrategy,this.environmentInjector),Qn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Qn(u=>{const d=new wpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),PI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qn(h=>{d.component=h}),Ye(()=>{})));for(const h of d.children)f.push(...u(h));return f};return IV(u(l.targetSnapshot.root)).pipe($m(),Vu(1))}),PI(()=>this.afterPreactivation()),Ye(l=>{const u=function Ope(t,e,n){const r=lp(t,e._root,n?n._root:void 0);return new QV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Qn(()=>{this.events.next(new yI)}),((t,e,n,r)=>Ye(i=>(new Gpe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Vu(1),Qn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Whe(t){return Fe((e,n)=>{sr(t).subscribe(tt(n,()=>n.complete(),D)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Qn(l=>{throw l}))),Jh(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ec(l=>{if(c=!0,sL(l))this.events.next(new op(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Lpe(t){return sL(t)&&xc(t.url)}(l)?this.events.next(new EI(l.url)):o.resolve(!1);else{this.events.next(new Xm(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return Zi}))}))}cancelNavigationTransition(r,i,s){const o=new op(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function vL(t){return t!==sp}let yL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(r){return r.data[Zh]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return K(O0e)},providedIn:"root"}),e})(),O0e=(()=>{var t;class e extends yL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(b4))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),F0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return K(L0e)},providedIn:"root"}),e})();class V0e{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let L0e=(()=>{var t;class e extends V0e{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Yn(t)))(i||t)}}(),t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const RI=new Ee("",{providedIn:"root",factory:()=>({})});let B0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return K(H0e)},providedIn:"root"}),e})(),H0e=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var pp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pp||{});function z0e(t){throw t}function U0e(t,e,n){return e.parse("/")}const j0e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$0e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(V7),this.isNgZoneEnabled=!1,this._events=new ne,this.options=K(RI,{optional:!0})||{},this.pendingTasks=K(vg),this.errorHandler=this.options.errorHandler||z0e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||U0e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(B0e),this.routeReuseStrategy=K(F0e),this.titleStrategy=K(yL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(s2,{optional:!0})?.flat()??[],this.navigationTransitions=K(o2),this.urlSerializer=K(tp),this.location=K(Jy),this.componentInputBindingEnabled=!!K(Zm,{optional:!0}),this.eventsSubscription=new J,this.isNgZoneEnabled=K(ft)instanceof ft&&ft.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(CL(i)&&this._events.next(i));if(i instanceof vI)vL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof ap)this.rawUrlTree=s.rawUrl;else if(i instanceof WV){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof yI)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof op)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof EI){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vL(s.source)};this.scheduleNavigation(o,sp,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Xm&&this.restoreHistory(s,!0),i instanceof Hu&&(this.navigated=!0),CL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sp,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(DI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=HV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return zV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=xc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,sp,null,i)}navigate(r,i={skipLocationChange:!1}){return function G0e(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new re(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...j0e}:!1===i?{...$0e}:i,xc(r))return PV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return PV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function EL(t,e){t.events.pipe(ws(n=>n instanceof Hu||n instanceof op||n instanceof Xm||n instanceof ap),Ye(n=>n instanceof Hu||n instanceof ap?pp.COMPLETE:n instanceof op&&(0===n.code||1===n.code)?pp.REDIRECTING:pp.FAILED),ws(n=>n!==pp.REDIRECTING),Vu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function CL(t){return!(t instanceof yI||t instanceof EI)}class qu{constructor(e){return e}}const DL="analytics",FI="__angularfire_symbol__analyticsIsSupportedValue",SL="__angularfire_symbol__analyticsIsSupported";globalThis[SL]||=Mhe().then(t=>globalThis[FI]=t).catch(()=>globalThis[FI]=!1);const a2={async:()=>globalThis[SL],sync:()=>{const t=globalThis[FI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},ML=a2.async,ege=En(Dhe,!0),gp=En(_V,!0),tge=En(Phe,!0);let PL=(()=>{var t;class e{constructor(r,i,s){let o;vt(this,"initialized",void 0),vt(this,"disposables",[]),sn("angularfire",Ho.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),ML().then(()=>{const a=s.get(qu);a?this.disposables=[QR(r).subscribe(c=>{tge(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(Hf),Se(ft),Se(Tn))}),vt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac})),e})();const RL="firebase_screen_id",VI="outlet",mp="screen_class",kL="screen_name";let hge=Math.floor(Math.random()*(2**32-1))-2**31;const LI={},pge=t=>{const e=[t[mp],t[VI]].join("#");if(LI.hasOwnProperty(e))return LI[e];{const n=hge++;return LI[e]=n,n}},gge=(t,e,n)=>t.events.pipe(ws(i=>i instanceof KV)).pipe(pi(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Ve(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[kL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[VI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===TI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Ve({...u,[mp]:d});if(d){const f=n.resolveComponentFactory(d);return Ve({...u,[mp]:f.selector})}return Ve(null)}),ws(i=>!!i),Ye(i=>({firebase_screen_class:i[mp],[RL]:pge(i),...i})),function Kde(t,e,n,r){return Fe((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Je(s,p=>{try{const g=t(p);let y=a.get(g);if(!y){a.set(g,y=r?r():new ne);const T=function h(p,g){const y=new fe(T=>{u++;const b=g.subscribe(T);return()=>{b.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return y.key=p,y}(g,y);if(s.next(T),n){const b=tt(y,()=>{y.complete(),b?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(sr(n(T)).subscribe(b))}}y.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[VI]),Un(i=>i.pipe(xw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),LF(void 0),function Qde(){return Fe((t,e)=>{let n,r=!1;t.subscribe(tt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Ye(([s,o])=>s?{firebase_previous_class:s[mp],firebase_previous_screen:s[kL],firebase_previous_id:s[RL],...o}:o))));let mge=(()=>{var t;class e{constructor(r,i,s,o,a,c){vt(this,"disposable",void 0),sn("angularfire",Ho.full,"screen-tracking"),ML().then(()=>{const l=c.get(qu);!r||!l||o.runOutsideAngular(()=>{this.disposable=gge(r,i,s).pipe(pi(function(){var u=_(function*(d){return a&&(yield a.initialized),gp(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(Yi,8),Se(b4,8),Se(Hd),Se(ft),Se(PL,8),Se(Tn))}),vt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac})),e})();const BI=new Ee("angularfire2.analytics-instances");function vge(t){return(e,n)=>{if(!a2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new qu(r)}}const yge={provide:class Z0e{constructor(){return Qg(DL)}},deps:[[new tn,BI]]},Ege={provide:qu,useFactory:function _ge(t,e){if(!a2.sync())return null;const n=Yg(DL,t,e);return n&&new qu(n)},deps:[[new tn,BI],za]};let Cge=(()=>{var t;class e{constructor(r,i){sn("angularfire",Ho.full,"analytics")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(mge,8),Se(PL,8))}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",Ct({providers:[Ege,yge,{provide:F7,useValue:a2.async,multi:!0}]})),e})();function xge(t,...e){return{ngModule:Cge,providers:[{provide:BI,useFactory:vge(t),multi:!0,deps:[ft,Tn,Af,Tf,...e]}]}}let NL=(()=>{var t;class e{constructor(){this.localStorageService=K(qr),this.delay=function(){var r=_(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}checkForUpdate(r,i){if(null===this.localStorageService.remoteMetadata()||null===this.localStorageService.localMetadata())return;let s=this.localStorageService.remoteMetadata().dgtVersion,o=this.localStorageService.localMetadata().dgtVersion;i.next(null!==s&&s!==o&&s.trim().length>0),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}installUpdate(r){r.nativeElement.classList.add("show"),r.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(5e3).then(()=>{let i=this.localStorageService.localMetadata();i.dgtVersion=this.localStorageService.remoteMetadata().dgtVersion;const s=this.localStorageService.get(rt.USER);this.localStorageService.clearAll(),this.localStorageService.cache(rt.USER,s),this.localStorageService.cache(rt.JS_VERSION,i.dgtVersion),this.localStorageService.cache(rt.LOCAL_METADATA,i),this.localStorageService.cache(rt.POST_INSTALL_FETCH_METADATA,!0),r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ige=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Xd("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const bge=["updateNotification"];function wge(t,e){1&t&&ht(0,"span",25,26)}let Age=(()=>{var t;class e{constructor(){this.dgAPI=K(hs),this.changeDetector=K(No),this.authService=K(go),this.changelogService=K(NL),this.analytics=K(qu),this.active=!1,this.initialized=!1,this.window=window;let r=window.location.pathname.split("/");gp(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),gp(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new fe(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&xi(bge,5),2&r){let s;ti(s=ni())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(z(0,"div",0)(1,"ul",1)(2,"li",2),lr(3,wge,2,0,"span",3),Gt(4,"async"),z(5,"a",4),ht(6,"img",5),z(7,"span",6),Y(8,"home"),q()()(),z(9,"li",7)(10,"a",8),ht(11,"img",9),z(12,"span",6),Y(13,"planets"),q()()(),z(14,"li",10)(15,"a",11),ht(16,"img",12),z(17,"span",6),Y(18,"radar"),q()()(),z(19,"li",13)(20,"a",14),ht(21,"img",15),z(22,"span",6),Y(23,"fleets"),q()()(),z(24,"li",16)(25,"a",17),ht(26,"img",18),z(27,"span",6),Y(28,"navigation"),q()()(),z(29,"li",19)(30,"a",20),ht(31,"img",21),z(32,"span",6),Y(33,"research"),q()()(),z(34,"li",22)(35,"a",23),ht(36,"img",24),z(37,"span",6),Y(38,"alliances"),q()()()()()),2&r&&(Ae(2),Ze("tabName","home"),Ae(1),Ze("ngIf",ei(4,8,i.updateAvailableNotification)&&2!==i.window.location.pathname.split("/").length),Ae(6),Ze("tabName","planets"),Ae(5),Ze("tabName","radar"),Ae(5),Ze("tabName","fleets"),Ae(5),Ze("tabName","navigation"),Ae(5),Ze("tabName","research"),Ae(5),Ze("tabName","alliances"))},dependencies:[Qs,Ige,pf],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.notification-badge[_ngcontent-%COMP%]{background:#d84343;top:14px;right:15px!important;padding:3px;color:#fff;font-size:0;line-height:8px;height:5px;width:5px;position:relative;float:right;border-radius:100px;animation:pulse-red 2s infinite}"]}),e})();const zn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},HI=new Map,OL={activated:!1,tokenObservers:[]},Tge={initialized:!1,enabled:!1};function cn(t){return HI.get(t)||Object.assign({},OL)}function c2(){return Tge}const zI="https://content-firebaseappcheck.googleapis.com/v1",Pge="exchangeDebugToken",FL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class kge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new kl,yield function Nge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new kl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const nr=new Lo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function l2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function UI(t){if(!cn(t).activated)throw nr.create("use-before-activation",{appName:t.name})}function jI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=u2(n)+"d:"),r&&(o+=u2(r)+"h:"),o+=u2(i)+"m:"+u2(s)+"s",o}function u2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function d2(t,e){return $I.apply(this,arguments)}function $I(){return $I=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw nr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw nr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw nr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),$I.apply(this,arguments)}function VL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${zI}/projects/${n}/apps/${r}:${Pge}?key=${i}`,body:{debug_token:e}}}const Lge="firebase-app-check-database",Bge=1,_p="firebase-app-check-store",LL="debug-token";let f2=null;function BL(){return f2||(f2=new Promise((t,e)=>{try{const n=indexedDB.open(Lge,Bge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(nr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_p,{keyPath:"compositeKey"})}}catch(n){e(nr.create("storage-open",{originalErrorMessage:n?.message}))}}),f2)}function HL(t,e){return GI.apply(this,arguments)}function GI(){return GI=_(function*(t,e){const r=(yield BL()).transaction(_p,"readwrite"),s=r.objectStore(_p).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(nr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),GI.apply(this,arguments)}function zL(t){return qI.apply(this,arguments)}function qI(){return qI=_(function*(t){const n=(yield BL()).transaction(_p,"readonly"),i=n.objectStore(_p).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(nr.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),qI.apply(this,arguments)}function UL(t){return`${t.options.appId}-${t.name}`}const vp=new If("@firebase/app-check");function WI(){return WI=_(function*(t){if(vf()){let e;try{e=yield function Hge(t){return zL(UL(t))}(t)}catch(n){vp.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),WI.apply(this,arguments)}function KI(t,e){return vf()?function zge(t,e){return HL(UL(t),e)}(t,e).catch(n=>{vp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function YI(){return YI=_(function*(){let t;try{t=yield function jge(){return zL(LL)}()}catch{}if(t)return t;{const e=one();return function Uge(t){return HL(LL,t)}(e).catch(n=>vp.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),YI.apply(this,arguments)}function QI(){return c2().enabled}function XI(){return JI.apply(this,arguments)}function JI(){return JI=_(function*(){const t=c2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),JI.apply(this,arguments)}const Wge={error:"UNKNOWN_ERROR"};function Kge(t){return S4.encodeString(JSON.stringify(t),!1)}function h2(t){return ZI.apply(this,arguments)}function ZI(){return ZI=_(function*(t,e=!1){const n=t.app;UI(n);const r=cn(n);let s,i=r.token;if(i&&!Wu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Wu(c)?i=c:yield KI(n,void 0))}if(!e&&i&&Wu(i))return{token:i.token};let a,o=!1;if(QI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=d2(VL(n,yield XI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield KI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield cn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?vp.warn(c.message):vp.error(c),s=c}return i?s?a=Wu(i)?{token:i.token,internalError:s}:qL(s):(a={token:i.token},r.token=i,yield KI(n,i)):a=qL(s),o&&GL(n,a),a}),ZI.apply(this,arguments)}function eb(){return eb=_(function*(t){const e=t.app;UI(e);const{provider:n}=cn(e);if(QI()){const r=yield XI(),{token:i}=yield d2(VL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),eb.apply(this,arguments)}function tb(t,e,n,r){const{app:i}=t,s=cn(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Wu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),$L(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$L(t))}function nb(t,e){const n=cn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $L(t){const{app:e}=t,n=cn(e);let r=n.tokenRefresher;r||(r=function Yge(t){const{app:e}=t;return new kge(_(function*(){let r;if(r=cn(e).token?yield h2(t,!0):yield h2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=cn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},FL.RETRIAL_MIN_WAIT,FL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function GL(t,e){const n=cn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Wu(t){return t.expireTimeMillis-Date.now()>0}function qL(t){return{token:Kge(Wge),error:t}}class Qge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=cn(this.app);for(const n of e)nb(this.app,n.next);return Promise.resolve()}}function r1e(t,e){const n=new kl;cn(t).reCAPTCHAState={initialized:n};const i=function WL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=l2(!1);return s?p2(t,e,s,i,n):function o1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=l2(!1);if(!o)throw new Error("no recaptcha");p2(t,e,o,i,n)}),n.promise}function p2(t,e,n,r,i){n.ready(()=>{(function s1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{cn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{cn(t).reCAPTCHAState.succeeded=!1}}),s=cn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function rb(){return rb=_(function*(t){UI(t);const n=yield cn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=cn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),rb.apply(this,arguments)}class Qi{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return _(function*(){var n,r,i;!function JL(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw nr.create("throttled",{time:jI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function KL(t){return rb.apply(this,arguments)}(e._app).catch(a=>{throw nr.create("recaptcha-error")});if(null===(n=cn(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw nr.create("recaptcha-error");let o;try{o=yield d2(function Fge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${zI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function XL(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=N4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),nr.create("throttled",{time:jI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=ps(e,"heartbeat"),r1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Qi&&this._siteKey===e._siteKey}}function c1e(t=Ol(),e){const n=ps(t=rn(t),"app-check");if(c2().initialized||function qge(){const t=pP(),e=c2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new kl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Gge(){return YI.apply(this,arguments)}())}(),QI()&&XI().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw nr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function l1e(t,e,n){const r=function Dge(t,e){return HI.set(t,e),HI.get(t)}(t,Object.assign({},OL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function $ge(t){return WI.apply(this,arguments)}(t).then(i=>(i&&Wu(i)&&(r.token=i,GL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),cn(t).isTokenAutoRefreshEnabled&&tb(r,"INTERNAL",()=>{}),r}const ZL="app-check-internal";!function d1e(){wi(new ii("app-check",t=>function Xge(t,e){return new Qge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZL).initialize()})),wi(new ii(ZL,t=>function Jge(t){return{getToken:e=>h2(t,e),getLimitedUseToken:()=>function jL(t){return eb.apply(this,arguments)}(t),addTokenListener:e=>tb(t,"INTERNAL",e),removeTokenListener:e=>nb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),sn("@firebase/app-check","0.8.0")}();class sb{constructor(e){return e}}const ob=new Ee("angularfire2.app-check-instances"),h1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function p1e(t){return(e,n,r)=>{!p4(r)&&h1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new sb(i)}}const g1e={provide:W4,deps:[[new tn,ob]]},m1e={provide:sb,useFactory:function f1e(t,e){const n=Yg(LP,t,e);return n&&new sb(n)},deps:[[new tn,ob],za,as]};let _1e=(()=>{var t;class e{constructor(){sn("angularfire",Ho.full,"app-check")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",Ct({providers:[m1e,g1e]})),e})();function yo(t,...e){return{ngModule:_1e,providers:[{provide:ob,useFactory:p1e(t),multi:!0,deps:[ft,Tn,as,Af,Tf,...e]}]}}const Eo=En(c1e,!0);let v1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[Age]}),t.\u0275inj=Ct({imports:[zr,Js(()=>eo(zn_firebase)),Ga(()=>qa()),gc(()=>mc()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),xge(()=>ege())]}),e})();class y1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class E1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class eB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class tB{constructor(){this._resources=new E1e,this._workers=new eB,this._soldiers=new eB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var bn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(bn||{});let nB=(()=>{var t;class e{constructor(){this.dgAPI=K(hs)}extractStats(){let r=new y1e;return r.stats.set(bn.ALL,new tB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new tB),r.stats.get(bn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(bn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(bn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(bn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(bn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(bn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case bn.METAL:r.stats.get(bn.ALL).resources.metalStored+=s.stored,r.stats.get(bn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case bn.MINERAL:r.stats.get(bn.ALL).resources.mineralStored+=s.stored,r.stats.get(bn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case bn.FOOD:r.stats.get(bn.ALL).resources.foodStored+=s.stored,r.stats.get(bn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case bn.ENERGY:r.stats.get(bn.ALL).resources.energyStored+=s.stored,r.stats.get(bn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),C1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=$n({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),ab=(()=>{var t;class e{constructor(){this.decimalPipe=K(Fo)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=$n({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const x1e=function(t){return{"dgt-stats-totals-last-row":t}},Di=function(t){return{"dgt-padding-bottom-xs":t}};function I1e(t,e){if(1&t&&(z(0,"tr",4)(1,"th",5)(2,"span",6),Y(3),Gt(4,"galaxyNameFormatter"),q(),z(5,"span",7),Y(6),q()(),z(7,"td",8)(8,"div",9),ht(9,"img",10),z(10,"span",11),Y(11),Gt(12,"number"),q()()(),z(13,"td",12)(14,"div",9)(15,"span",11),Y(16),Gt(17,"resourceProductionFormatter"),q()()(),z(18,"td",13)(19,"div",14),ht(20,"img",15),z(21,"span",11),Y(22),Gt(23,"number"),q()()(),z(24,"td",12)(25,"div",14)(26,"span",11),Y(27),Gt(28,"resourceProductionFormatter"),q()()(),z(29,"td",13)(30,"div",16),ht(31,"img",17),z(32,"span",11),Y(33),Gt(34,"number"),q()()(),z(35,"td",12)(36,"div",16)(37,"span",11),Y(38),Gt(39,"resourceProductionFormatter"),q()()(),z(40,"td",13)(41,"div",18),ht(42,"img",19),z(43,"span",11),Y(44),Gt(45,"number"),q()()(),z(46,"td",20)(47,"div",18)(48,"span",11),Y(49),Gt(50,"resourceProductionFormatter"),q()()(),z(51,"td",21)(52,"div",22),ht(53,"img",23),z(54,"span",11),Y(55),Gt(56,"number"),q()()(),z(57,"td",24)(58,"div",25),ht(59,"img",26),z(60,"span",11),Y(61),Gt(62,"number"),q()()(),z(63,"td",27)(64,"div",28),ht(65,"img",29),z(66,"span",11),Y(67),Gt(68,"number"),q()()()()),2&t){const n=e.$implicit,r=e.index,i=hn();Ze("ngClass",Lr(64,x1e,r==i.panel.stats.size-1)),Ae(1),Ze("ngClass",Lr(66,Di,r==i.panel.stats.size-2)),Ae(2),pt(ei(4,26,n.key)),Ae(3),Ra("[",n.value.count,"]"),Ae(1),Ze("ngClass",Lr(68,Di,r==i.panel.stats.size-2)),Ae(4),pt(Ci(12,28,n.value.resources.metalStored,"1.0","en-US")),Ae(2),Ze("ngClass",Lr(70,Di,r==i.panel.stats.size-2)),Ae(3),pt(ei(17,32,n.value.resources.metalProduction)),Ae(2),Ze("ngClass",Lr(72,Di,r==i.panel.stats.size-2)),Ae(4),pt(Ci(23,34,n.value.resources.mineralStored,"1.0","en-US")),Ae(2),Ze("ngClass",Lr(74,Di,r==i.panel.stats.size-2)),Ae(3),pt(ei(28,38,n.value.resources.mineralProduction)),Ae(2),Ze("ngClass",Lr(76,Di,r==i.panel.stats.size-2)),Ae(4),pt(Ci(34,40,n.value.resources.foodStored,"1.0","en-US")),Ae(2),Ze("ngClass",Lr(78,Di,r==i.panel.stats.size-2)),Ae(3),pt(ei(39,44,n.value.resources.foodProduction)),Ae(2),Ze("ngClass",Lr(80,Di,r==i.panel.stats.size-2)),Ae(4),pt(Ci(45,46,n.value.resources.energyStored,"1.0","en-US")),Ae(2),Ze("ngClass",Lr(82,Di,r==i.panel.stats.size-2)),Ae(3),pt(ei(50,50,n.value.resources.energyProduction)),Ae(2),Ze("ngClass",Lr(84,Di,r==i.panel.stats.size-2)),Ae(4),pt(Ci(56,52,n.value.resources.ground,"1.0","en-US")),Ae(2),Ze("ngClass",Lr(86,Di,r==i.panel.stats.size-2)),Ae(4),pt(Ci(62,56,n.value.resources.orbit,"1.0","en-US")),Ae(2),Ze("ngClass",Lr(88,Di,r==i.panel.stats.size-2)),Ae(4),pt(Ci(68,60,n.value.soldiers.total,"1.0","en-US"))}}let b1e=(()=>{var t;class e{constructor(){this.statsPanelService=K(nB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"table",2),lr(3,I1e,69,90,"tr",3),Gt(4,"keyvalue"),q()()()),2&r&&(Ae(3),Ze("ngForOf",ei(4,1,i.panel.stats)))},dependencies:[l4,Vg,Fo,FM,C1e,ab],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function rB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g2(t){return(g2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function iB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cb(t,e){return function S1e(t){if(Array.isArray(t))return t}(t)||function P1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||sB(t,e)||function k1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ep(t){return function D1e(t){if(Array.isArray(t))return lb(t)}(t)||function M1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||sB(t)||function R1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sB(t,e){if(t){if("string"==typeof t)return lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(t,e)}}function lb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oB=function(){},ub={},aB={},cB=null,lB={mark:oB,measure:oB};try{typeof window<"u"&&(ub=window),typeof document<"u"&&(aB=document),typeof MutationObserver<"u"&&(cB=MutationObserver),typeof performance<"u"&&(lB=performance)}catch{}var v2,y2,E2,C2,x2,uB=(ub.navigator||{}).userAgent,dB=void 0===uB?"":uB,la=ub,zt=aB,fB=cB,_2=lB,Co=!!zt.documentElement&&!!zt.head&&"function"==typeof zt.addEventListener&&"function"==typeof zt.createElement,hB=~dB.indexOf("MSIE")||~dB.indexOf("Trident/"),xo="___FONT_AWESOME___",pB="fa",gB="svg-inline--fa",Ic="data-fa-i2svg",fb="data-fa-pseudo-element",O1e="data-fa-pseudo-element-pending",hb="data-prefix",pb="data-icon",mB="fontawesome-i2svg",F1e="async",V1e=["HTML","HEAD","STYLE","SCRIPT"],_B=function(){try{return!0}catch{return!1}}(),Ut="classic",ln="sharp",gb=[Ut,ln];function Cp(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ut]}})}var xp=Cp((Pn(v2={},Ut,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Pn(v2,ln,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),v2)),Ip=Cp((Pn(y2={},Ut,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Pn(y2,ln,{solid:"fass",regular:"fasr",light:"fasl"}),y2)),bp=Cp((Pn(E2={},Ut,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Pn(E2,ln,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),E2)),L1e=Cp((Pn(C2={},Ut,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Pn(C2,ln,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),C2)),B1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,vB="fa-layers-text",H1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,z1e=Cp((Pn(x2={},Ut,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Pn(x2,ln,{900:"fass",400:"fasr",300:"fasl"}),x2)),yB=[1,2,3,4,5,6,7,8,9,10],U1e=yB.concat([11,12,13,14,15,16,17,18,19,20]),j1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],bc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},wp=new Set;Object.keys(Ip[Ut]).map(wp.add.bind(wp)),Object.keys(Ip[ln]).map(wp.add.bind(wp));var $1e=[].concat(gb,Ep(wp),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",bc.GROUP,bc.SWAP_OPACITY,bc.PRIMARY,bc.SECONDARY]).concat(yB.map(function(t){return"".concat(t,"x")})).concat(U1e.map(function(t){return"w-".concat(t)})),Ap=la.FontAwesomeConfig||{};zt&&"function"==typeof zt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=cb(t,2),r=e[1],i=function q1e(t){return""===t||"false"!==t&&("true"===t||t)}(function G1e(t){var e=zt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Ap[r]=i)});var EB={styleDefault:"solid",familyDefault:"classic",cssPrefix:pB,replacementClass:gB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ap.familyPrefix&&(Ap.cssPrefix=Ap.familyPrefix);var Ku=De(De({},EB),Ap);Ku.autoReplaceSvg||(Ku.observeMutations=!1);var Pe={};Object.keys(EB).forEach(function(t){Object.defineProperty(Pe,t,{enumerable:!0,set:function(n){Ku[t]=n,Tp.forEach(function(r){return r(Pe)})},get:function(){return Ku[t]}})}),Object.defineProperty(Pe,"familyPrefix",{enumerable:!0,set:function(e){Ku.cssPrefix=e,Tp.forEach(function(n){return n(Pe)})},get:function(){return Ku.cssPrefix}}),la.FontAwesomeConfig=Pe;var Tp=[],Ms={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Q1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Dp(){for(var t=12,e="";t-- >0;)e+=Q1e[62*Math.random()|0];return e}function Yu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function mb(t){return t.classList?Yu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function CB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function _b(t){return t.size!==Ms.size||t.x!==Ms.x||t.y!==Ms.y||t.rotate!==Ms.rotate||t.flipX||t.flipY}var eme=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function xB(){var t=pB,e=gB,n=Pe.cssPrefix,r=Pe.replacementClass,i=eme;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var IB=!1;function vb(){Pe.autoAddCss&&!IB&&(function Y1e(t){if(t&&Co){var e=zt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=zt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}zt.head.insertBefore(e,r)}}(xB()),IB=!0)}var tme={mixout:function(){return{dom:{css:xB,insertCss:vb}}},hooks:function(){return{beforeDOMElementCreation:function(){vb()},beforeI2svg:function(){vb()}}}},Io=la||{};Io[xo]||(Io[xo]={}),Io[xo].styles||(Io[xo].styles={}),Io[xo].hooks||(Io[xo].hooks={}),Io[xo].shims||(Io[xo].shims=[]);var Xi=Io[xo],bB=[],b2=!1;function Sp(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?CB(t):"<".concat(e," ").concat(function X1e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(CB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Sp).join(""),"</").concat(e,">")}function wB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Co&&((b2=(zt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(zt.readyState))||zt.addEventListener("DOMContentLoaded",function t(){zt.removeEventListener("DOMContentLoaded",t),b2=1,bB.map(function(e){return e()})}));var yb=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function Eb(t){var e=function sme(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function AB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Cb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=AB(e);"function"!=typeof Xi.hooks.addPack||i?Xi.styles[t]=De(De({},Xi.styles[t]||{}),s):Xi.hooks.addPack(t,AB(e)),"fas"===t&&Cb("fa",e)}var w2,A2,T2,Qu=Xi.styles,ame=Xi.shims,cme=(Pn(w2={},Ut,Object.values(bp[Ut])),Pn(w2,ln,Object.values(bp[ln])),w2),xb=null,TB={},DB={},SB={},MB={},PB={},lme=(Pn(A2={},Ut,Object.keys(xp[Ut])),Pn(A2,ln,Object.keys(xp[ln])),A2);var RB=function(){var e=function(s){return yb(Qu,function(o,a,c){return o[c]=yb(a,s,{}),o},{})};TB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),DB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),PB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Qu||Pe.autoFetchSvg,r=yb(ame,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});SB=r.names,MB=r.unicodes,xb=D2(Pe.styleDefault,{family:Pe.familyDefault})};function Ib(t,e){return(TB[t]||{})[e]}function wc(t,e){return(PB[t]||{})[e]}function kB(t){return SB[t]||{prefix:null,iconName:null}}function da(){return xb}(function K1e(t){Tp.push(t)})(function(t){xb=D2(t.styleDefault,{family:Pe.familyDefault})}),RB();var bb=function(){return{prefix:null,iconName:null,rest:[]}};function D2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Ut:n;return Ip[r][t]||Ip[r][xp[r][t]]||(t in Xi.styles?t:null)||null}var NB=(Pn(T2={},Ut,Object.keys(bp[Ut])),Pn(T2,ln,Object.keys(bp[ln])),T2);function S2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Pn(e={},Ut,"".concat(Pe.cssPrefix,"-").concat(Ut)),Pn(e,ln,"".concat(Pe.cssPrefix,"-").concat(ln)),e),o=null,a=Ut;(t.includes(s[Ut])||t.some(function(l){return NB[Ut].includes(l)}))&&(a=Ut),(t.includes(s[ln])||t.some(function(l){return NB[ln].includes(l)}))&&(a=ln);var c=t.reduce(function(l,u){var d=function dme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function ume(t){return~$1e.indexOf(t)}(i)?null:i}(Pe.cssPrefix,u);if(Qu[u]?(u=cme[a].includes(u)?L1e[a][u]:u,o=u,l.prefix=u):lme[a].indexOf(u)>-1?(o=u,l.prefix=D2(u,{family:a})):d?l.iconName=d:u!==Pe.replacementClass&&u!==s[Ut]&&u!==s[ln]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?kB(l.iconName):{},h=wc(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Qu.far&&Qu.fas&&!Pe.autoFetchSvg&&(l.prefix="fas")}return l},bb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===ln&&(Qu.fass||Pe.autoFetchSvg)&&(c.prefix="fass",c.iconName=wc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=da()||"fas"),c}var pme=function(){function t(){(function w1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function A1e(t,e,n){e&&iB(t.prototype,e),n&&iB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=De(De({},n.definitions[a]||{}),o[a]),Cb(a,o[a]);var c=bp[Ut][a];c&&Cb(c,o[a]),RB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),OB=[],Xu={},Ju={},gme=Object.keys(Ju);function wb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Xu[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Ac(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Xu[t]||[]).forEach(function(s){s.apply(null,n)})}function bo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ju[t]?Ju[t].apply(null,e):void 0}function Ab(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||da();if(e)return e=wc(n,e)||e,wB(FB.definitions,n,e)||wB(Xi.styles,n,e)}var FB=new pme,vme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Co?(Ac("beforeI2svg",e),bo("pseudoElements2svg",e),bo("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Pe.autoReplaceSvg&&(Pe.autoReplaceSvg=!0),Pe.observeMutations=!0,function rme(t){Co&&(b2?setTimeout(t,0):bB.push(t))}(function(){Eme({autoReplaceSvgRoot:n}),Ac("watch",e)})}},ui={noAuto:function(){Pe.autoReplaceSvg=!1,Pe.observeMutations=!1,Ac("noAuto")},config:Pe,dom:vme,parse:{icon:function(e){if(null===e)return null;if("object"===g2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:wc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=D2(e[0]);return{prefix:r,iconName:wc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Pe.cssPrefix,"-"))>-1||e.match(B1e))){var i=S2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||da(),iconName:wc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=da();return{prefix:s,iconName:wc(s,e)||e}}}},library:FB,findIconDefinition:Ab,toHtml:Sp},Eme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?zt:n;(Object.keys(Xi.styles).length>0||Pe.autoFetchSvg)&&Co&&Pe.autoReplaceSvg&&ui.dom.i2svg({node:r})};function M2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Sp(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Co){var r=zt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Tb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,y=p.height,T="fak"===i,b=[Pe.replacementClass,s?"".concat(Pe.cssPrefix,"-").concat(s):""].filter(function(Rn){return-1===d.classes.indexOf(Rn)}).filter(function(Rn){return""!==Rn||!!Rn}).concat(d.classes).join(" "),j={children:[],attributes:De(De({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},Q=T&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};h&&(j.attributes[Ic]=""),c&&(j.children.push({tag:"title",attributes:{id:j.attributes["aria-labelledby"]||"title-".concat(u||Dp())},children:[c]}),delete j.attributes.title);var he=De(De({},j),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:De(De({},Q),d.styles)}),Re=r.found&&n.found?bo("generateAbstractMask",he)||{children:[],attributes:{}}:bo("generateAbstractIcon",he)||{children:[],attributes:{}},Yt=Re.attributes;return he.children=Re.children,he.attributes=Yt,a?function xme(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Pe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:De(De({},i),{},{id:o}),children:r}]}]}(he):function Cme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(_b(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=I2(De(De({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(he)}function VB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=De(De(De({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Ic]="");var u=De({},o.styles);_b(i)&&(u.transform=function Z1e(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&hB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=I2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Db=Xi.styles;function Sb(t){var e=t[0],n=t[1],s=cb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(bc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(bc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(bc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var bme={found:!1,width:512,height:512};function Mb(t,e){var n=e;return"fa"===e&&null!==Pe.styleDefault&&(e=da()),new Promise(function(r,i){if(bo("missingIconAbstract"),"fa"===n){var o=kB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Db[e]&&Db[e][t])return r(Sb(Db[e][t]));(function wme(t,e){!_B&&!Pe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(De(De({},bme),{},{icon:Pe.showMissingIcons&&t&&bo("missingIconAbstract")||{}}))})}var LB=function(){},Pb=Pe.measurePerformance&&_2&&_2.mark&&_2.measure?_2:{mark:LB,measure:LB},Mp='FA "6.4.2"',BB=function(e){Pb.mark("".concat(Mp," ").concat(e," ends")),Pb.measure("".concat(Mp," ").concat(e),"".concat(Mp," ").concat(e," begins"),"".concat(Mp," ").concat(e," ends"))},Rb={begin:function(e){return Pb.mark("".concat(Mp," ").concat(e," begins")),function(){return BB(e)}},end:BB},P2=function(){};function HB(t){return"string"==typeof(t.getAttribute?t.getAttribute(Ic):null)}function Mme(t){return zt.createElementNS("http://www.w3.org/2000/svg",t)}function Pme(t){return zt.createElement(t)}function zB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Mme:Pme:n;if("string"==typeof t)return zt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(zB(o,{ceFn:r}))}),i}var R2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(zB(i),n)}),null===n.getAttribute(Ic)&&Pe.keepOriginalSource){var r=zt.createComment(function Rme(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~mb(n).indexOf(Pe.replacementClass))return R2.replace(e);var i=new RegExp("".concat(Pe.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Pe.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Sp(a)}).join("\n");n.setAttribute(Ic,""),n.innerHTML=o}};function UB(t){t()}function jB(t,e){var n="function"==typeof e?e:P2;if(0===t.length)n();else{var r=UB;Pe.mutateApproach===F1e&&(r=la.requestAnimationFrame||UB),r(function(){var i=function Sme(){return!0===Pe.autoReplaceSvg?R2.replace:R2[Pe.autoReplaceSvg]||R2.replace}(),s=Rb.begin("mutate");t.map(i),s(),n()})}}var kb=!1;function $B(){kb=!0}function Nb(){kb=!1}var k2=null;function GB(t){if(fB&&Pe.observeMutations){var e=t.treeCallback,n=void 0===e?P2:e,r=t.nodeCallback,i=void 0===r?P2:r,s=t.pseudoElementsCallback,o=void 0===s?P2:s,a=t.observeMutationsRoot,c=void 0===a?zt:a;k2=new fB(function(l){if(!kb){var u=da();Yu(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!HB(d.addedNodes[0])&&(Pe.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Pe.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&HB(d.target)&&~j1e.indexOf(d.attributeName))if("class"===d.attributeName&&function Tme(t){var e=t.getAttribute?t.getAttribute(hb):null,n=t.getAttribute?t.getAttribute(pb):null;return e&&n}(d.target)){var f=S2(mb(d.target)),p=f.iconName;d.target.setAttribute(hb,f.prefix||u),p&&d.target.setAttribute(pb,p)}else(function Dme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Pe.replacementClass)})(d.target)&&i(d.target)})}}),Co&&k2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Ome(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=S2(mb(t));return i.prefix||(i.prefix=da()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function fme(t,e){return(DB[t]||{})[e]}(i.prefix,t.innerText)||Ib(i.prefix,Eb(t.innerText))),!i.iconName&&Pe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function Fme(t){var e=Yu(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Pe.autoA11y&&(n?e["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(r||Dp()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=wb("parseNodeAttributes",{},t),c=e.styleParser?function Nme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return De({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Ms,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var Lme=Xi.styles;function WB(t){var e="nest"===Pe.autoReplaceSvg?qB(t,{styleParser:!1}):qB(t);return~e.extra.classes.indexOf(vB)?bo("generateLayersText",t,e):bo("generateSvgReplacementMutation",t,e)}var fa=new Set;function KB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Co)return Promise.resolve();var n=zt.documentElement.classList,r=function(d){return n.add("".concat(mB,"-").concat(d))},i=function(d){return n.remove("".concat(mB,"-").concat(d))},s=Pe.autoFetchSvg?fa:gb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Lme));s.includes("fa")||s.push("fa");var o=[".".concat(vB,":not([").concat(Ic,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Ic,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Yu(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Rb.begin("onTree"),l=a.reduce(function(u,d){try{var f=WB(d);f&&u.push(f)}catch(h){_B||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){jB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function Bme(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;WB(t).then(function(n){n&&jB([n],e)})}function Hme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Ab(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Ab(i||{})),t(r,De(De({},n),{},{mask:i}))}}gb.map(function(t){fa.add("fa-".concat(t))}),Object.keys(xp[Ut]).map(fa.add.bind(fa)),Object.keys(xp[ln]).map(fa.add.bind(fa)),fa=Ep(fa);var zme=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Ms:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,y=void 0===g?[]:g,T=n.attributes,b=void 0===T?{}:T,j=n.styles,Q=void 0===j?{}:j;if(e){var he=e.prefix,Re=e.iconName,Ke=e.icon;return M2(De({type:"icon"},e),function(){return Ac("beforeDOMElementCreation",{iconDefinition:e,params:n}),Pe.autoA11y&&(f?b["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(p||Dp()):(b["aria-hidden"]="true",b.focusable="false")),Tb({icons:{main:Sb(Ke),mask:c?Sb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:he,iconName:Re,transform:De(De({},Ms),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:b,styles:Q,classes:y}})})}},Ume={mixout:function(){return{icon:Hme(zme)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=KB,n.nodeCallback=Bme,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return KB(void 0===r?zt:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Mb(i,a),u.iconName?Mb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var y=cb(g,2);h([n,Tb({icons:{main:y[0],mask:y[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=I2(n.styles);return c.length>0&&(i.style=c),_b(o)&&(l=bo("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},jme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return M2({type:"layer"},function(){Ac("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Pe.cssPrefix,"-layers")].concat(Ep(s)).join(" ")},children:o}]})}}}},$me={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return M2({type:"counter",content:n},function(){return Ac("beforeDOMElementCreation",{content:n,params:r}),function Ime(t){var e=t.content,n=t.title,r=t.extra,i=De(De(De({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=I2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Pe.cssPrefix,"-layers-counter")].concat(Ep(a))}})})}}}},Gme={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Ms:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return M2({type:"text",content:n},function(){return Ac("beforeDOMElementCreation",{content:n,params:r}),VB({content:n,transform:De(De({},Ms),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Pe.cssPrefix,"-layers-text")].concat(Ep(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(hB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Pe.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,VB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},qme=new RegExp('"',"ug"),YB=[1105920,1112319];function QB(t,e){var n="".concat(O1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Yu(t.children).filter(function(Ke){return Ke.getAttribute(fb)===e})[0],a=la.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(H1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?ln:Ut,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Ip[f][c[2].toLowerCase()]:z1e[f][l],p=function Wme(t){var e=t.replace(qme,""),n=function ome(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=YB[0]&&n<=YB[1],i=2===e.length&&e[0]===e[1];return{value:Eb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,y=p.isSecondary,T=c[0].startsWith("FontAwesome"),b=Ib(h,g),j=b;if(T){var Q=function hme(t){var e=MB[t],n=Ib("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);Q.iconName&&Q.prefix&&(b=Q.iconName,h=Q.prefix)}if(!b||y||o&&o.getAttribute(hb)===h&&o.getAttribute(pb)===j)r();else{t.setAttribute(n,j),o&&t.removeChild(o);var he=function Vme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ms,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Re=he.extra;Re.attributes[fb]=e,Mb(b,h).then(function(Ke){var Yt=Tb(De(De({},he),{},{icons:{main:Ke,mask:bb()},prefix:h,iconName:j,extra:Re,watchable:!0})),Rn=zt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Rn,t.firstChild):t.appendChild(Rn),Rn.outerHTML=Yt.map(function(va){return Sp(va)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Kme(t){return Promise.all([QB(t,"::before"),QB(t,"::after")])}function Yme(t){return!(t.parentNode===document.head||~V1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(fb)||t.parentNode&&"svg"===t.parentNode.tagName)}function XB(t){if(Co)return new Promise(function(e,n){var r=Yu(t.querySelectorAll("*")).filter(Yme).map(Kme),i=Rb.begin("searchPseudoElements");$B(),Promise.all(r).then(function(){i(),Nb(),e()}).catch(function(){i(),Nb(),n()})})}var JB=!1,ZB=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Ob={x:0,y:0,width:"100%",height:"100%"};function eH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function Zme(t){return"g"===t.tag?t.children:[t]}var e2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?S2(i.split(" ").map(function(o){return o.trim()})):bb();return s.prefix||(s.prefix=da()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function J1e(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:De(De({},Ob),{},{fill:"white"})},g=u.children?{children:u.children.map(eH)}:{},y={tag:"g",attributes:De({},h.inner),children:[eH(De({tag:u.tag,attributes:De(De({},u.attributes),h.path)},g))]},T={tag:"g",attributes:De({},h.outer),children:[y]},b="mask-".concat(a||Dp()),j="clip-".concat(a||Dp()),Q={tag:"mask",attributes:De(De({},Ob),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,T]},he={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:Zme(f)},Q]};return r.push(he,{tag:"rect",attributes:De({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(b,")")},Ob)}),{children:r,attributes:i}}}};!function mme(t,e){var n=e.mixoutsTo;OB=t,Xu={},Object.keys(Ju).forEach(function(r){-1===gme.indexOf(r)&&delete Ju[r]}),OB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===g2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Xu[o]||(Xu[o]=[]),Xu[o].push(s[o])})}r.provides&&r.provides(Ju)})}([tme,Ume,jme,$me,Gme,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=XB,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Pe.searchPseudoElements&&XB(void 0===r?zt:r)}}},{mixout:function(){return{dom:{unwatch:function(){$B(),JB=!0}}}},hooks:function(){return{bootstrap:function(){GB(wb("mutationObserverCallbacks",{}))},noAuto:function(){!function kme(){k2&&k2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;JB?Nb():GB(wb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return ZB(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=ZB(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:De({},h.outer),children:[{tag:"g",attributes:De({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:De(De({},r.icon.attributes),h.path)}]}]}}}},e2e,{provides:function(e){var n=!1;la.matchMedia&&(n=la.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:De(De({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=De(De({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:De(De({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:De(De({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:De(De({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:De(De({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:De(De({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:De(De({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:De(De({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:ui});var i2e=ui.parse,s2e=ui.icon;const o2e=["*"],l2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let f2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),tH=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),h2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[yr]}),e})(),p2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(cs),te(Ir))},t.\u0275cmp=kn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[yr],ngContentSelectors:o2e,decls:1,vars:0,template:function(r,i){1&r&&(function wD(t){const e=ee()[fn][or];if(!e.projection){const r=e.projection=Sd(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?rY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function AD(t,e=0,n){const r=ee(),i=lt(),s=fl(i,nt+t,16,null,n||null);null===s.projection&&(s.projection=e),O_(),(!r[Bs]||jc())&&32!=(32&s.flags)&&function tq(t,e,n){T5(e[je],0,e,n,lv(t,n,e),C5(n.parent||e[or],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),g2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?i2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...l2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=s2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(sP),te(f2e),te(tH),te(h2e,8),te(p2e,8))},t.\u0275cmp=kn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(my("innerHTML",i.renderedIconHTML,H5),Vi("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[yr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),Fb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Ct({}),e})(),m2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[b1e]}),t.\u0275inj=Ct({providers:[Fo,nB],imports:[zr,Fb]}),e})(),nH=(()=>{var t;class e{constructor(){this.firestore=K(bs),this.dgAPI=K(hs)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;const i=Wi(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);this.planetScanSubscription=Wh(Lm(i,ax("location","==",r.planetScan.location),FF(1))).subscribe(s=>{let o=Object.assign(new lP,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==ur.RESOURCE||r.type==ur.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==ur.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==ur.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==ur.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?Ru(Gr(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):Bm(Gr(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _2e(t,e){1&t&&(z(0,"p",3),Y(1,"Each scan will be cached and shared with your alliance members "),ht(2,"img",4),q())}let v2e=(()=>{var t;class e{constructor(){this.scanService=K(nH),this.authService=K(go),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"]],template:function(r,i){1&r&&(z(0,"div",0),ht(1,"span",1),q(),lr(2,_2e,3,0,"p",2)),2&r&&(Ae(2),Ze("ngIf",i.active))},dependencies:[Qs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),y2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[v2e]}),t.\u0275inj=Ct({providers:[nH],imports:[zr,Js(()=>eo(zn_firebase)),Ga(()=>qa()),gc(()=>mc()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),rH=(()=>{var t;class e{constructor(){this.firestore=K(bs),this.dgAPI=K(hs),this.resourceProductionFormatterPipe=K(ab),this.decimalPipe=K(Fo)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=Wh(Lm(Wi(this.firestore,"scans-g"+i[0].split(/\./)[0]),ax("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Ft.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Ft.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Ft.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Ft.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Ft.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Ft.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Ft.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Ft.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Ft.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Ft.MEDICAL_CENTRE)&&(f+=.3),d.includes(Ft.LEISURE_CENTRE)&&(f+=.4),d.includes(Ft.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function E2e(t,e){1&t&&(z(0,"p",3),Y(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),q())}let C2e=(()=>{var t;class e{constructor(){this.scanService=K(rH),this.authService=K(go),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(z(0,"div",0),ht(1,"span",1),q(),lr(2,E2e,2,0,"p",2)),2&r&&(Ae(2),Ze("ngIf",i.active))},dependencies:[Qs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),x2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[C2e]}),t.\u0275inj=Ct({providers:[Fo,ab,rH],imports:[zr,Js(()=>eo(zn_firebase)),Ga(()=>qa()),gc(()=>mc()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function I2e(t,e){if(1&t){const n=bl();z(0,"div",2)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"span"),Y(6,"DGT Login"),q()()(),z(7,"tr",4)(8,"td"),ht(9,"input",5,6),q(),z(11,"td"),ht(12,"input",7,8),q()(),z(14,"tr",9)(15,"td",3)(16,"button",10),Xt("click",function(){Oi(n);const i=cy(10),s=cy(13);return Fi(hn().signInWithEmailAndPassword(i.value,s.value))}),Y(17,"Login"),q(),z(18,"button",11),Xt("click",function(){return Oi(n),Fi(hn().signInWithGoogle())}),ht(19,"img",12),q()()()()()()}}function b2e(t,e){if(1&t){const n=bl();z(0,"div",13)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"button",14),Xt("click",function(){return Oi(n),Fi(hn().signOut())}),Y(6,"Logout"),q()()()()()()}}let w2e=(()=>{var t;class e{constructor(){this.authService=K(go),this.auth=K(Hf),this.firestore=K(bs),this.localStorageService=K(qr),this.changeDetection=K(No),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new fe(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(rt.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-authentication"]],decls:4,vars:6,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"],["id","dgt-logout",1,"logout"],[1,"dgt-logout-button",3,"click"]],template:function(r,i){1&r&&(lr(0,I2e,20,0,"div",0),Gt(1,"async"),lr(2,b2e,7,0,"div",1),Gt(3,"async")),2&r&&(Ze("ngIf",ei(1,2,i.displayLogin)),Ae(2),Ze("ngIf",!ei(3,4,i.displayLogin)))},dependencies:[Qs,pf],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),A2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[w2e]}),t.\u0275inj=Ct({imports:[zr,Js(()=>eo(zn_firebase)),Ga(()=>qa()),gc(()=>mc()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var O2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Fye=(()=>{var t;class e{constructor(){this.localStorageService=K(qr)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){let o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(rt.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Sz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(cs),te(Ir))},t.\u0275dir=Oe({type:t}),e})(),Tc=(()=>{var t;class e extends Sz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Yn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[xt]}),e})();const Ps=new Ee("NgValueAccessor"),Bye={provide:Ps,useExisting:Pt(()=>F2),multi:!0},zye=new Ee("CompositionEventMode");let F2=(()=>{var t;class e extends Sz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hye(){const t=Oo()?Oo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(cs),te(Ir),te(zye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Xt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[$t([Bye]),xt]}),e})();const mr=new Ee("NgValidators"),pa=new Ee("NgAsyncValidators");function Hz(t){return null!=t}function zz(t){return Qd(t)?jn(t):t}function Uz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function jz(t,e){return e.map(n=>n(t))}function $z(t){return t.map(e=>function jye(t){return!t.validate}(e)?e:n=>e.validate(n))}function Ub(t){return null!=t?function Gz(t){if(!t)return null;const e=t.filter(Hz);return 0==e.length?null:function(n){return Uz(jz(n,e))}}($z(t)):null}function jb(t){return null!=t?function qz(t){if(!t)return null;const e=t.filter(Hz);return 0==e.length?null:function(n){return function Vye(...t){const e=yw(t),{args:n,keys:r}=EV(t),i=new fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;sr(n[u]).subscribe(tt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?xV(r,a):a),s.complete())}))}});return e?i.pipe(CV(e)):i}(jz(n,e).map(zz)).pipe(Ye(Uz))}}($z(t)):null}function Wz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $b(t){return t?Array.isArray(t)?t:[t]:[]}function L2(t,e){return Array.isArray(t)?t.includes(e):t===e}function Qz(t,e){const n=$b(e);return $b(t).forEach(i=>{L2(n,i)||n.push(i)}),n}function Xz(t,e){return $b(e).filter(n=>!L2(t,n))}class Jz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ub(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Mr extends Jz{get formDirective(){return null}get path(){return null}}class ga extends Jz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let eU=(()=>{var t;class e extends Zz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(ga,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Xd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xt]}),e})(),Gb=(()=>{var t;class e extends Zz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Mr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Xd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[xt]}),e})();const Pp="VALID",H2="INVALID",Zu="PENDING",Rp="DISABLED";function Kb(t){return(z2(t)?t.validators:t)||null}function Yb(t,e){return(z2(e)?e.asyncValidators:t)||null}function z2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class iU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pp}get invalid(){return this.status===H2}get pending(){return this.status==Zu}get disabled(){return this.status===Rp}get enabled(){return this.status!==Rp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xz(e,this._rawAsyncValidators))}hasValidator(e){return L2(this._rawValidators,e)}hasAsyncValidator(e){return L2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pp||this.status===Zu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rp:Pp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zu,this._hasOwnPendingAsyncValidator=!0;const n=zz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?Rp:this.errors?H2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zu)?Zu:this._anyControlsHaveStatus(H2)?H2:Pp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){z2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Wye(t){return Array.isArray(t)?Ub(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Kye(t){return Array.isArray(t)?jb(t):t||null}(this._rawAsyncValidators)}}class Qb extends iU{constructor(e,n,r){super(Kb(n),Yb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function rU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new re(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function nU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ed=new Ee("CallSetDisabledState",{providedIn:"root",factory:()=>U2}),U2="always";function kp(t,e,n=U2){Xb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Xye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&sU(t,e)})}(t,e),function Zye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Jye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&sU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Qye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function G2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xb(t,e){const n=function Kz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Wz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Yz(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Wz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();G2(e._rawValidators,i),G2(e._rawAsyncValidators,i)}function sU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const i4e={provide:Mr,useExisting:Pt(()=>Op)},Np=(()=>Promise.resolve())();let Op=(()=>{var t;class e extends Mr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Tt,this.form=new Qb({},Ub(r),jb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Np.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),kp(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Np.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Np.then(()=>{const i=this._findContainer(r.path),s=new Qb({});(function oU(t,e){Xb(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Np.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Np.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function aU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(te(mr,10),te(pa,10),te(ed,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Xt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([i4e]),xt]}),e})();function cU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function lU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const uU=class extends iU{constructor(e=null,n,r){super(Kb(n),Yb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),z2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=lU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},a4e={provide:ga,useExisting:Pt(()=>tw)},hU=(()=>Promise.resolve())();let tw=(()=>{var t;class e extends ga{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new uU,this._registered=!1,this.name="",this.update=new Tt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function ew(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===F2?n=s:function n4e(t){return Object.getPrototypeOf(t.constructor)===Tc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Zb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){hU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Ml(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);hU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function j2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Mr,9),te(mr,10),te(pa,10),te(Ps,10),te(No,8),te(ed,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([a4e]),xt,yr]}),e})(),nw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),gU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Ct({}),e})(),P4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Ct({imports:[gU]}),e})(),lw=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:ed,useValue:r.callSetDisabledState??U2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Ct({imports:[P4e]}),e})(),k4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=$n({name:"kickMemberFormatter",type:t,pure:!0}),e})();const N4e=["dgtSpinner"],O4e=["dgtMainContainer"];function F4e(t,e){if(1&t&&(z(0,"span",18),Y(1),q()),2&t){const n=hn().$implicit;Ae(1),Ra("[",n.kickEta,"]")}}const V4e=function(){return["far","circle-xmark"]};function L4e(t,e){if(1&t){const n=bl();z(0,"div",19)(1,"form",20,21),Xt("ngSubmit",function(i){return Oi(n),Fi(hn(4).onSubmitKickMember(i))}),ht(3,"input",22),Gt(4,"kickMemberFormatter"),z(5,"button",23),ht(6,"fa-icon",24),q()()()}if(2&t){const n=hn().$implicit;Ae(3),uy("name",ei(4,2,n.dgId)),Ae(3),Ze("icon",function JS(t,e,n){const r=Er()+t,i=ee();return i[r]===Ge?us(i,r,n?e.call(n):e()):qd(i,r)}(4,V4e))}}function B4e(t,e){if(1&t&&(z(0,"div",8)(1,"div",9)(2,"span",10),Y(3),q(),z(4,"span",11),Y(5,"Rank: "),z(6,"span",12),Y(7),Gt(8,"number"),q()(),lr(9,F4e,2,1,"span",13),z(10,"span",14),Y(11,"Score: "),z(12,"span",12),Y(13),Gt(14,"number"),q()(),z(15,"span",15),Y(16,"Combat: "),z(17,"span",12),Y(18),Gt(19,"number"),q()(),z(20,"span",16),Y(21,"Planets: "),z(22,"span",12),Y(23),q()(),lr(24,L4e,7,5,"div",17),q()()),2&t){const n=e.$implicit,r=hn(2).ngIf,i=hn();Ae(3),pt(n.name),Ae(4),pt(Ci(8,7,n.stats.rank,"1.0","en-US")),Ae(2),Ze("ngIf",null!=n.kickEta),Ae(4),pt(Ci(14,11,n.stats.score,"1.0","en-US")),Ae(5),pt(Ci(19,15,n.stats.combatScore,"1.0","en-US")),Ae(5),pt(n.stats.planets),Ae(1),Ze("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function H4e(t,e){if(1&t&&(z(0,"div",5,6),lr(2,B4e,25,19,"div",7),q()),2&t){const n=hn(2);Ae(2),Ze("ngForOf",n.allianceMembers)}}function z4e(t,e){if(1&t&&(xl(0),lr(1,H4e,3,1,"div",4),Il()),2&t){const n=hn();Ae(1),Ze("ngIf",n.active)}}let U4e=(()=>{var t;class e{constructor(r){this.authService=K(go),this.localStorageService=K(qr),this.membersPanelService=K(Fye),this.active=!1,this.initialized=!1,this.UserRole=cx,r.addIcons(O2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new fe(s=>{s.next(i.role),s.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(rt.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(tH))},t.\u0275cmp=kn({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(xi(N4e,5),xi(O4e,5)),2&r){let s;ti(s=ni())&&(i.loadSpinner=s.first),ti(s=ni())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(z(0,"div",0,1),ht(2,"span",2),q(),lr(3,z4e,2,1,"ng-container",3),Gt(4,"async")),2&r&&(Ae(3),Ze("ngIf",ei(4,1,i.role)))},dependencies:[Vg,Qs,nw,Gb,Op,g2e,pf,Fo,k4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:0!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),j4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[U4e]}),t.\u0275inj=Ct({imports:[zr,lw,Fb,Js(()=>eo(zn_firebase)),Ga(()=>qa()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),$4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),G4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[$4e]}),t.\u0275inj=Ct({imports:[zr]}),e})(),q4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),W4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[q4e]}),t.\u0275inj=Ct({imports:[zr]}),e})();const K4e=["dgtSpinner"],Y4e=["dgtUpdatingModel"];function Q4e(t,e){if(1&t){const n=bl();z(0,"div",11)(1,"span"),Y(2,"There is a new update: "),z(3,"i")(4,"b"),Y(5),q(),Y(6," - "),q(),z(7,"a",12),Xt("click",function(){return Oi(n),Fi(hn().installUpdate())}),Y(8,"click here"),q(),Y(9," to update your data"),q()()}if(2&t){const n=hn();Ae(5),pt(n.newVersion)}}let X4e=(()=>{var t;class e{constructor(){this.changeLogService=K(NL),this.changeDetector=K(No),this.localStorageService=K(qr),this.version="N/A",this.newVersion="N/A",this.updateAvailable=new fe(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),null!==this.localStorageService.remoteMetadata()&&(this.newVersion=this.localStorageService.remoteMetadata().dgtVersion),null!==this.localStorageService.localMetadata()&&(this.version=this.localStorageService.localMetadata().dgtVersion)}installUpdate(){this.changeLogService.installUpdate(this.dgtUpdatingModel)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&(xi(K4e,5),xi(Y4e,5)),2&r){let s;ti(s=ni())&&(i.loadSpinner=s.first),ti(s=ni())&&(i.dgtUpdatingModel=s.first)}},decls:87,vars:5,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-update"],["href","javascript:void(0);",3,"click"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"h2"),Y(2,"DarkGalaxy Tools "),z(3,"span"),Y(4),q()(),z(5,"div",1,2),ht(7,"span",3),q(),lr(8,Q4e,10,1,"div",4),Gt(9,"async"),z(10,"div",5)(11,"div")(12,"span"),Y(13,"Changelog:"),q()(),z(14,"ul")(15,"li"),Y(16,"fix - starting with 2.0.0 most of the updates will be silent, without opening github/tampermonkey"),q(),z(17,"li"),Y(18,"fix - added images for all ships (including holoships)"),q(),z(19,"li"),Y(20,"fix - revamped "),z(21,"b"),Y(22,"Research"),q(),Y(23," screen and added required research points for queued items - finished researches are now highlighted"),q(),z(24,"li"),Y(25,"new - "),z(26,"b"),Y(27,"Player Rankings"),q(),Y(28," screen - added planets stats & details"),q(),z(29,"li"),Y(30,"new - enabled Admin Panel for TL/Admin roles"),q(),z(31,"li"),Y(32,"new - reworked caching module - you will see a short "),z(33,"b"),Y(34,"syncing"),q(),Y(35," modal everytime stats metadata gets updated on Firebase"),q()(),z(36,"div")(37,"span"),Y(38,"Upcoming:"),q()(),z(39,"ul")(40,"li")(41,"b"),Y(42,"Alliance Rankings"),q(),Y(43," screen - added planets stats"),q(),z(44,"li"),Y(45,"Notification for "),z(46,"b"),Y(47,"Radar"),q(),Y(48," when at least one allied planet (including yours) is attacked"),q(),z(49,"li")(50,"b"),Y(51,"Research"),q(),Y(52," queue cancel confirmation popup"),q(),z(53,"li")(54,"b"),Y(55,"Navigation"),q(),Y(56," NAP color (yellow) (eg: SOL planets will be seen with a yellow border)"),q(),z(57,"li"),Y(58,"Integration with Google Sheets"),q(),z(59,"li"),Y(60,"Copy to clipboard various stats"),q(),z(61,"li"),Y(62,"Fleet Scan statistics, including a fight simulation"),q()()(),z(63,"div",6)(64,"div")(65,"span"),Y(66,"Important:"),q()(),z(67,"ul")(68,"li"),Y(69,"please report any bug on "),z(70,"b"),Y(71,"Whatsapp#Toolbox"),q(),Y(72," channel"),q(),z(73,"li")(74,"b"),Y(75,"disable browser ads-blocking plugins for https://*.darkgalaxy.com"),q(),Y(76," - some of them are interfering with Firebase communication"),q()()()(),z(77,"div",7,8)(79,"div",9)(80,"span"),Y(81,"Installing "),z(82,"i")(83,"b"),Y(84),q()(),Y(85,"..."),q(),ht(86,"img",10),q()()),2&r&&(Ae(4),pt(i.version),Ae(4),Ze("ngIf",ei(9,3,i.updateAvailable)),Ae(76),pt(i.newVersion))},dependencies:[Qs,pf],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#72bde0!important}#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border-radius:5px;background:#364a36;border:1px solid #3a593a}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin:0!important;font-size:18px;font-weight:700;border-bottom:1px solid #3a593a;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{margin:5px;border-radius:3px;color:#dcdcdc}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px;animation:neo-pulse-red 2s infinite}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#bd4747;display:block;color:#dcdcdc}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}"]}),e})();function Fp(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new de({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Yh)}});t.subscribe(s)})}class W2{}class K2{}class Rs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Rs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Rs;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Rs?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class J4e{encodeKey(e){return kU(e)}encodeValue(e){return kU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const e6e=/%(\d[a-f0-9])/gi,t6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kU(t){return encodeURIComponent(t).replace(e6e,(e,n)=>t6e[n]??e)}function Y2(t){return`${t}`}class ma{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new J4e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Z4e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Y2):[Y2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ma({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Y2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Y2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class n6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function NU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function OU(t){return typeof Blob<"u"&&t instanceof Blob}function FU(t){return typeof FormData<"u"&&t instanceof FormData}class Vp{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function r6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Rs),this.context||(this.context=new n6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ma,this.urlWithParams=n}serializeBody(){return null===this.body?null:NU(this.body)||OU(this.body)||FU(this.body)||function i6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ma?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||FU(this.body)?null:OU(this.body)?this.body.type||null:NU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ma?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new Vp(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var td=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(td||{});class uw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Rs,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class dw extends uw{constructor(e={}){super(e),this.type=td.ResponseHeader}clone(e={}){return new dw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nd extends uw{constructor(e={}){super(e),this.type=td.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class VU extends uw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function fw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Q2=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Vp)o=r;else{let l,u;l=s.headers instanceof Rs?s.headers:new Rs(s.headers),s.params&&(u=s.params instanceof ma?s.params:new ma({fromObject:s.params})),o=new Vp(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Ve(o).pipe(Xh(l=>this.handler.handle(l)));if(r instanceof Vp||"events"===s.observe)return a;const c=a.pipe(ws(l=>l instanceof nd));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Ye(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new ma).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,fw(s,i))}post(r,i,s={}){return this.request("POST",r,fw(s,i))}put(r,i,s={}){return this.request("PUT",r,fw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(W2))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();function HU(t,e){return e(t)}function o6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const c6e=new Ee(""),Lp=new Ee(""),zU=new Ee("");function l6e(){let t=null;return(e,n)=>{null===t&&(t=(K(c6e,{optional:!0})??[]).reduceRight(o6e,HU));const r=K(vg),i=r.add();return t(e,n).pipe(Jh(()=>r.remove(i)))}}let UU=(()=>{var t;class e extends W2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=K(vg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Lp),...this.injector.get(zU,[])]));this.chain=s.reduceRight((o,a)=>function a6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),HU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Jh(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(K2),Se(yi))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const h6e=/^\)\]\}',?\n/;let $U=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new re(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?jn(i.\u0275loadImpl()):Ve(null)).pipe(pi(()=>new fe(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,T)=>a.setRequestHeader(y,T.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const y=r.detectContentTypeHeader();null!==y&&a.setRequestHeader("Content-Type",y)}if(r.responseType){const y=r.responseType.toLowerCase();a.responseType="json"!==y?y:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const y=a.statusText||"OK",T=new Rs(a.getAllResponseHeaders()),b=function p6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new dw({headers:T,status:a.status,statusText:y,url:b}),l},d=()=>{let{headers:y,status:T,statusText:b,url:j}=u(),Q=null;204!==T&&(Q=typeof a.response>"u"?a.responseText:a.response),0===T&&(T=Q?200:0);let he=T>=200&&T<300;if("json"===r.responseType&&"string"==typeof Q){const Re=Q;Q=Q.replace(h6e,"");try{Q=""!==Q?JSON.parse(Q):null}catch(Ke){Q=Re,he&&(he=!1,Q={error:Ke,text:Q})}}he?(o.next(new nd({body:Q,headers:y,status:T,statusText:b,url:j||void 0})),o.complete()):o.error(new VU({error:Q,headers:y,status:T,statusText:b,url:j||void 0}))},f=y=>{const{url:T}=u(),b=new VU({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});o.error(b)};let h=!1;const p=y=>{h||(o.next(u()),h=!0);let T={type:td.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(T.total=y.total),"text"===r.responseType&&a.responseText&&(T.partialText=a.responseText),o.next(T)},g=y=>{let T={type:td.UploadProgress,loaded:y.loaded};y.lengthComputable&&(T.total=y.total),o.next(T)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:td.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(BM))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const hw=new Ee("XSRF_ENABLED"),GU=new Ee("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qU=new Ee("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class WU{}let _6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=MM(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr),Se(as),Se(GU))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();function v6e(t,e){const n=t.url.toLowerCase();if(!K(hw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=K(WU).getToken(),i=K(qU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var _a=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(_a||{});function Sc(t,e){return{\u0275kind:t,\u0275providers:e}}function y6e(...t){const e=[Q2,$U,UU,{provide:W2,useExisting:UU},{provide:K2,useExisting:$U},{provide:Lp,useValue:v6e,multi:!0},{provide:hw,useValue:!0},{provide:WU,useClass:_6e}];for(const n of t)e.push(...n.\u0275providers);return function Ev(t){return{\u0275providers:t}}(e)}const KU=new Ee("LEGACY_INTERCEPTOR_FN");let YU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Ct({providers:[y6e(Sc(_a.LegacyInterceptors,[{provide:KU,useFactory:l6e},{provide:Lp,useExisting:KU,multi:!0}]))]}),e})();class A6e{constructor(){this._stats=new zg}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats}}}class T6e{get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get playersRankingsTurn(){return this._playersRankingsTurn}set playersRankingsTurn(e){this._playersRankingsTurn=e}get allianceMembersTurn(){return this._allianceMembersTurn}set allianceMembersTurn(e){this._allianceMembersTurn=e}get planetsTurn(){return this._planetsTurn}set planetsTurn(e){this._planetsTurn=e}toJSON(){return{dgtVersion:this.dgtVersion,playersRankingsTurn:this.playersRankingsTurn,allianceMembersTurn:this.allianceMembersTurn,planetsTurn:this.planetsTurn}}}let QU=(()=>{var t;class e{constructor(){this.httpClient=K(Q2),this.firestore=K(bs),this.localStorageService=K(qr),this._updatesEmitter=new Tt,this.ALLIANCES_URL=this.localStorageService.get(rt.GAME_ENDPOINT)+"/alliances/",this.delay=function(){var r=_(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}updateMetadata(r){const i=Wi(this.firestore,"metadata");let s=Wh(Lm(i)).subscribe(o=>{const a=Object.assign([],o);let c=new T6e;c.dgtVersion=a[0].version,c.planetsTurn=a[1],c.playersRankingsTurn=a[2],this.localStorageService.cache(rt.REMOTE_METADATA,c),r.next(!0),r.complete(),s.unsubscribe()})}loadTurnBasedUpdates(r){let i=this.localStorageService.localMetadata(),s=this.localStorageService.get(rt.REMOTE_METADATA),o=this.localStorageService.get(rt.POST_INSTALL_FETCH_METADATA);const a=this.localStorageService.get(rt.PLAYERS_STATS);if(o||0===i.planetsTurn.turn||s.planetsTurn.turn>i.planetsTurn.turn||s.planetsTurn.turn==i.planetsTurn.turn&&s.planetsTurn.version>i.planetsTurn.version){o||this._updatesEmitter.emit(1);let T=this.localStorageService.localMetadata(),b=this.localStorageService.remoteMetadata();T.planetsTurn.turn=b.planetsTurn.turn,T.planetsTurn.version=b.planetsTurn.version,o&&(T.dgtVersion=b.dgtVersion),this.localStorageService.cache(rt.LOCAL_METADATA,T),o||this._updatesEmitter.emit(-1)}(o||!a||0===i.playersRankingsTurn.turn||s.playersRankingsTurn.turn>i.playersRankingsTurn.turn||s.playersRankingsTurn.turn==i.playersRankingsTurn.turn&&s.playersRankingsTurn.version>i.playersRankingsTurn.version)&&this.loadPlayersRankings(r);const p=this.localStorageService.get(rt.ALLIANCE_MEMBERS);!o&&a&&(!p||0===i.allianceMembersTurn.turn||r>i.allianceMembersTurn.turn)&&this.loadAllianceMembers(r).catch(T=>console.log(T)),this.localStorageService.remove(rt.POST_INSTALL_FETCH_METADATA)}loadPlayersRankings(r){this._updatesEmitter.emit(2);const i=Wi(this.firestore,"players-rankings");let s=Wh(i).subscribe(o=>{let a=Object.assign([],o);this.localStorageService.cache(rt.PLAYERS_STATS,a);let c=this.localStorageService.localMetadata(),l=this.localStorageService.remoteMetadata();c.playersRankingsTurn.turn=l.playersRankingsTurn.turn,c.playersRankingsTurn.version=l.playersRankingsTurn.version,this.localStorageService.cache(rt.LOCAL_METADATA,c),this.delay(1e3).then(()=>{this._updatesEmitter.emit(-1)}),this.loadAllianceMembers(r).then(()=>{this.delay(1e3).then(()=>{s.unsubscribe(),this._updatesEmitter.emit(-1)})})})}loadAllianceMembers(r){var i=this;return _(function*(){const s=yield Fp(i.httpClient.get(i.ALLIANCES_URL,{responseType:"text"})),o=(new DOMParser).parseFromString(s,"text/html"),a=i.localStorageService.get(rt.PLAYERS_STATS);if(!o.querySelector('[action="/alliances/join/"]')){let c=[];o.querySelectorAll(".allianceBox").forEach(u=>{u.querySelector(".plainHeader")&&"member list"===u.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&u.querySelectorAll(".player").forEach(d=>{let f=new A6e;if(null!=d.querySelector('[action^="/alliances/note/"]')){let h=d.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);f.dgId=h[h.length-2]}null==d.querySelector('[action="/alliances/kick/"] input')&&null!=d.querySelector(".right>b")&&(f.kickEta=d.querySelector(".right>b").textContent.trim().toLowerCase()),null!=d.querySelector("div.name")&&(f.name=d.querySelector("div.name").childNodes[0].textContent.trim(),f.stats=a.find(h=>h.name.toLowerCase()===f.name.toLowerCase()),c.push(f))})});let l=i.localStorageService.localMetadata();l.allianceMembersTurn.turn=r,i.localStorageService.cache(rt.ALLIANCE_MEMBERS,c),i.localStorageService.cache(rt.LOCAL_METADATA,l)}})()}get updatesEmitter(){return this._updatesEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),D6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[X4e]}),t.\u0275inj=Ct({providers:[QU],imports:[zr,Js(()=>eo(zn_firebase)),gc(()=>mc()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class S6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class pw{constructor(){this._planets=[],this._total=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class XU{constructor(e,n){this._planets=[],this._galaxy=e,this._planets=n}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets}}}class J2{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}let Z2=class{constructor(e,n,r=!1){this._lock=!1,this._turn=e,this._version=n,this._lock=r}get lock(){return this._lock}set lock(e){this._lock=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version,lock:this.lock}}};Z2=un([di(2,tn())],Z2);let gw=(()=>{var t;class e{constructor(){this.firestore=K(bs),this.dgAPI=K(hs),this.metadataPath=Wi(this.firestore,"metadata")}updateMetadataTurns(r){let i=Vm(Gr(this.metadataPath,r)).subscribe(s=>{if(s){let o=Object.assign(new Z2(0,0),s);o.turn===this.dgAPI.gameTurn()?o.version++:(o.turn=this.dgAPI.gameTurn(),o.version=1),o.lock=!1,Bm(Gr(this.metadataPath,r),JSON.parse(JSON.stringify(o))).catch(a=>console.log(a))}else Ru(Gr(this.metadataPath,r),JSON.parse(JSON.stringify(new Z2(this.dgAPI.gameTurn(),1)))).catch(o=>console.log(o));i.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class JU{constructor(){this._planets=[]}get tag(){return this._tag}set tag(e){this._tag=e}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{tag:this.tag,planets:this.planets,turn:this.turn,total:this.total}}}var rd;class mw{constructor(){this.GALAXIES=49,this.G1_SECTORS=25,this.G2_G13_SECTORS=6,this.G14_G49_SECTORS=2,this.SYSTEMS=4,this.httpClient=K(Q2),this.firestore=K(bs),this.dgAPI=K(hs),this.metadataService=K(gw),this.localStorageService=K(qr),this._systemScanEmitter=new Tt,this._planetScanEmitter=new Tt,this.NAVIGATION_BASE_URL=this.localStorageService.get(rt.GAME_ENDPOINT)+"/navigation/",this.delay=function(){var e=_(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanPlanets(e,n=[]){var r=this;return _(function*(){const i=250+Math.floor(250*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){let d=new Map,f=new Map;const h=Wi(r.firestore,"planets-g"+s[u]);let p;p=1===s[u]?r.G1_SECTORS:s[u]>1&&s[u]<14?r.G2_G13_SECTORS:r.G14_G49_SECTORS;for(let g=1;g<=p;g++)for(let y=1;y<=r.SYSTEMS;y++)a&&(yield r.parseAndSave(s[u],g,y,d,f,h),r._systemScanEmitter.emit(new J2(++o,l,"load-save")),yield r.delay(i));r.mergePlayerPlanets(d),r.mergeAlliancePlanets(f),yield r.delay(i)}r.metadataService.updateMetadataTurns("planets-turn"),c.unsubscribe()})()}mergeAlliancePlanets(e){const n=Wi(this.firestore,"alliances-planets");e.forEach((r,i)=>{let s=Vm(Gr(n,i)).subscribe(o=>{o?(Object.assign(new JU,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.total=0,r.planets.forEach(c=>{r.total+=c.planets.length}),Bm(Gr(n,r.tag),JSON.parse(JSON.stringify(r))).catch(c=>console.log(c))):(r.total=0,r.planets.forEach(a=>{r.total+=a.planets.length}),Ru(Gr(n,r.tag),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a))),s.unsubscribe()})})}mergePlayerPlanets(e){const n=Wi(this.firestore,"players-planets");e.forEach((r,i)=>{let s=Vm(Gr(n,i.toString())).subscribe(o=>{o&&Object.assign(new pw,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.planets.forEach(a=>{1===a.galaxy?r.g1Total+=a.planets.length:a.galaxy>1&&a.galaxy<14?r.g213Total+=a.planets.length:r.g1449Total+=a.planets.length,r.total+=a.planets.length}),o?Bm(Gr(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)):Ru(Gr(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)),s.unsubscribe()})})}parseAndSave(e,n,r,i,s,o){var a=this;return _(function*(){const c=yield Fp(a.httpClient.get(a.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(c,"text/html").querySelectorAll(".navigation .planets").forEach((u,d)=>{setTimeout(()=>{let f=new S6e;const h=u.querySelector(".coords span").textContent.trim(),p=h.split(/\./);if(a.planetScanEmitter.emit(h),f.location=h,f.galaxy=parseInt(p[0]),f.sector=parseInt(p[1]),f.system=parseInt(p[2]),f.planet=parseInt(p[3]),u.classList.contains("neutral")?(f.owner="none",f.playerId=-1,f.alliance="-"):(f.alliance=u.querySelector(".allianceName")?u.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.owner=u.querySelector(".playerName").textContent.trim().toLowerCase(),f.playerId=parseInt(u.querySelector(".playerName").attributes.playerId.value.trim())),f.turn=a.dgAPI.gameTurn(),f.playerId>=0){i.has(f.playerId)||i.set(f.playerId,new pw);let g=i.get(f.playerId).planets;if(g.some(T=>T.galaxy===e)?g.filter(b=>b.galaxy===e&&!b.planets.includes(f.location)).forEach(b=>b.planets.push(f.location)):i.get(f.playerId).planets.push(new XU(e,[f.location])),i.get(f.playerId).name=f.owner,i.get(f.playerId).playerId=f.playerId,i.get(f.playerId).turn=f.turn,"-"!==f.alliance){s.has(f.alliance)||s.set(f.alliance,new JU);let T=s.get(f.alliance).planets;T.some(j=>j.galaxy===e)?T.filter(Q=>Q.galaxy===e&&!Q.planets.includes(f.location)).forEach(Q=>Q.planets.push(f.location)):s.get(f.alliance).planets.push(new XU(e,[f.location])),s.get(f.alliance).tag=f.alliance,s.get(f.alliance).turn=f.turn}Ru(Gr(o,f.location),JSON.parse(JSON.stringify(f))).catch(T=>console.log(T))}},25*d)})})()}filterValidGalaxies(e){let n=[];if(1===e.length)switch(e[0]){case 149:n.push(...this.allGalaxies());break;case 213:n.push(...Array.from({length:12},(r,i)=>i+2));break;case 1449:n.push(...Array.from({length:36},(r,i)=>i+14));break;default:e[0]>0&&e[0]<=this.GALAXIES&&n.push(e[0])}else n.push(...e.filter(r=>r>0&&r<=this.GALAXIES));return n}totalSystemsNr(e){return this.filterValidGalaxies(e).reduce((r,i)=>1===i?r+this.G1_SECTORS*this.SYSTEMS:i>1&&i<14?r+this.G2_G13_SECTORS*this.SYSTEMS:r+this.G14_G49_SECTORS*this.SYSTEMS,0)}allGalaxies(){return Array.from({length:this.GALAXIES},(e,n)=>n+1)}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(rd=mw).\u0275fac=function(e){return new(e||rd)},rd.\u0275prov=Ie({token:rd,factory:rd.\u0275fac,providedIn:"root"}),un([di(1,tn())],mw.prototype,"scanPlanets",null);class ZU{constructor(e){this._number=e}get number(){return this._number}set number(e){this._number=e}}let M6e=(()=>{var t;class e{constructor(){this.httpClient=K(Q2),this.firestore=K(bs),this.metadataService=K(gw),this.localStorageService=K(qr),this._playersRankingsEmitter=new Tt,this.PLAYER_RANKINGS_URL=this.localStorageService.get(rt.GAME_ENDPOINT)+"/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL=this.localStorageService.get(rt.GAME_ENDPOINT)+"/rankings/combat/players/",this.delay=function(){var r=_(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r){var i=this;return _(function*(){const s=100+Math.floor(100*Math.random()),o=Wi(i.firestore,"players-rankings"),a=Wi(i.firestore,"players-planets");let c=!0,l=r.subscribe(h=>{c=!h}),u=new ZU(0),d=new Map,f=yield i.getNumberOfPages();for(let h=1;h<=f;h++)c&&(yield i.scanRankingsPage(d,u,s,h,f),yield i.scanCombatRankingsPage(d,u,s,h,f)),l.unsubscribe();yield i.saveRankings(d,c,o,a,new ZU(0)),i.metadataService.updateMetadataTurns("players-rankings-turn")})()}getNumberOfPages(){var r=this;return _(function*(){let i=yield Fp(r.httpClient.get(r.PLAYER_RANKINGS_URL,{responseType:"text"})),s=(new DOMParser).parseFromString(i,"text/html");return parseInt(s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,s,o,a){var c=this;return _(function*(){let l=yield Fp(c.httpClient.get(c.PLAYER_RANKINGS_URL+o,{responseType:"text"}));(new DOMParser).parseFromString(l,"text/html").querySelectorAll(".rankingsList .entry").forEach(d=>{const f=parseInt(d.querySelector(".playerName").attributes.playerId.value.trim());r.has(f)||r.set(f,new zg);let h=r.get(f);h.playerId=f,h.name=d.querySelector(".playerName").textContent.trim().toLowerCase(),h.rank=parseInt(d.querySelector(".rank").textContent.trim().replace(/,/g,"")),h.score=parseInt(d.querySelector(".score").textContent.trim().replace(/,/g,"")),h.combinedScore=h.combatScore+h.score,h.alliance=d.querySelector(".allianceName")?d.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",d.classList.contains("myRow")?h.relation="allied":d.querySelector(".hostile")?h.relation="neutral":d.querySelector(".allied")&&(h.relation="allied"),"sol"===h.alliance&&(h.relation="nap"),("wp"===h.alliance||"skol"===h.alliance)&&(h.relation="hostile")}),i.number+=(yield c.atomicIncrement()),c._playersRankingsEmitter.emit(new J2(i.number,2*a,"load")),yield c.delay(s)})()}scanCombatRankingsPage(r,i,s,o,a){var c=this;return _(function*(){let l=yield Fp(c.httpClient.get(c.PLAYER_COMBAT_RANKINGS_URL+o,{responseType:"text"}));(new DOMParser).parseFromString(l,"text/html").querySelectorAll(".rankingsList .entry").forEach(d=>{const f=parseInt(d.querySelector(".playerName").attributes.playerId.value.trim());r.has(f)||r.set(f,new zg);let h=r.get(f);h.combatScore=parseInt(d.querySelector(".score").textContent.trim().replace(/,/g,"")),h.combinedScore=h.combatScore+h.score}),i.number+=(yield c.atomicIncrement()),c._playersRankingsEmitter.emit(new J2(i.number,2*a,"load")),yield c.delay(s)})()}saveRankings(r,i,s,o,a){var c=this;return _(function*(){r.forEach((l,u)=>{i&&setTimeout(()=>{let d=Vm(Gr(o,u.toString())).subscribe(f=>{if(f){const h=Object.assign(new pw,f);l.planets=h.total,l.g1Total=h.g1Total,l.g213Total=h.g213Total,l.g1449Total=h.g1449Total}else l.planets=1;Ru(Gr(s,u.toString()),JSON.parse(JSON.stringify(l))).then(()=>{c._playersRankingsEmitter.emit(new J2(++a.number,r.size,"save"))}).catch(h=>console.log(h)),d.unsubscribe()})},50*a.number)}),yield c.delay(50*r.size)})()}atomicIncrement(){return _(function*(){return 1})()}get playersRankingsEmitter(){return this._playersRankingsEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),P6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||"Enter"===r.key||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Ir))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&Xt("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const R6e=["planetsLoadModal"],k6e=["rankingsLoadModal"],N6e=["planetProgressBar"],O6e=["playersProgressBar"],F6e=["planetCounter"];function V6e(t,e){if(1&t){const n=bl();xl(0),z(1,"div",1)(2,"div",2)(3,"b",3),Y(4,"DGT Admin Panel"),q()(),z(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7)(9,"b"),Y(10,"Universe Scan"),q()(),z(11,"span",8),Y(12,"Use this with caution. It's a very expensive operation for both DG server and DGT database!"),q(),z(13,"span",8),Y(14,"Usage examples:"),q(),z(15,"ul")(16,"li"),Y(17,"1,2 - G01 and G02"),q(),z(18,"li"),Y(19,"34 - G34"),q(),z(20,"li"),Y(21,"special: 213 - first ring (G02-G13)"),q(),z(22,"li"),Y(23,"special: 1449 - second ring (G14-G49)"),q(),z(24,"li"),Y(25,"special: 149 - everything (G01-G49)"),q()()(),z(26,"form")(27,"input",9),Xt("ngModelChange",function(i){return Oi(n),Fi(hn().controls.galaxies=i)}),q(),z(28,"button",10),Xt("click",function(){return Oi(n),Fi(hn().scanNavigationScreen())}),Y(29,"Fetch"),q()()(),ht(30,"span",11),z(31,"div",12)(32,"div",6)(33,"span",7)(34,"b"),Y(35,"Players Rankings"),q()(),z(36,"span",8),Y(37,"Light operation. Can be triggered every turn and should always be triggered after a "),z(38,"b"),Y(39,"Universe Scan"),q()()(),z(40,"form")(41,"button",10),Xt("click",function(){return Oi(n),Fi(hn().scanPlayersRankingScreens())}),Y(42,"Fetch"),q()()()()(),z(43,"div",13,14)(45,"div",15)(46,"div",16)(47,"span",17),Y(48),q(),z(49,"span",18,19),Y(51),q()(),z(52,"div",20)(53,"span",21),Y(54),q(),ht(55,"span",22,23),q(),z(57,"div",24)(58,"button",25),Xt("click",function(){return Oi(n),Fi(hn().cancelScan())}),Y(59,"Cancel"),q()()()(),z(60,"div",26,27)(62,"div",15)(63,"div",16)(64,"span",28),Y(65),q()(),z(66,"div",20)(67,"span",21),Y(68),q(),ht(69,"span",22,29),q(),z(71,"div",24)(72,"button",25),Xt("click",function(){return Oi(n),Fi(hn().cancelScan())}),Y(73,"Cancel"),q()()()(),Il()}if(2&t){const n=hn();Ae(27),Ze("ngModel",n.controls.galaxies),Ae(21),pt(n.loadedSystem),Ae(3),pt(n.loadedPlanet),Ae(3),Ra("",n.planetPercentage,"%"),Ae(11),pt(n.loadedRankings),Ae(3),Ra("",n.playersPercentage,"%")}}let L6e=(()=>{var t;class e{constructor(){this.planetsLoaderService=K(mw),this.playersRankingsLoaderService=K(M6e),this.changeDetection=K(No),this.authService=K(go),this.cancelScanEmitter=new Tt,this.active=!1,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0,this.authService.authState.subscribe(r=>{this.active=r.status&&("admin"===r.role||"tl"===r.role)}),this.authService.checkLoginValidity()}scanNavigationScreen(){var r=this;return _(function*(){if(r.active){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.planetsLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.page+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.page/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.planetsLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.planetsLoaderService.scanPlanets(r.cancelScanEmitter,i),r.cancelScan()}})()}scanPlayersRankingScreens(){var r=this;return _(function*(){r.active&&(r.playersProgressBar.nativeElement.style.width="0%",r.loadedRankings="Loading ranking pages",r.rankingsLoadModal.nativeElement.classList.add("show"),r.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.rankingsCountSubscription=r.playersRankingsLoaderService.playersRankingsEmitter.subscribe(i=>{switch(i.action){case"load":r.loadedRankings="Loading "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%";break;case"save":r.loadedRankings="Saving "+i.page+"/"+i.total+" players",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%"}}),yield r.playersRankingsLoaderService.scanPlayersRankingsScreens(r.cancelScanEmitter),r.cancelScan())})()}cancelScan(){this.active&&(this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe(),this.rankingsCountSubscription&&this.rankingsCountSubscription.unsubscribe())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(xi(R6e,5),xi(k6e,5),xi(N6e,5),xi(O6e,5),xi(F6e,5)),2&r){let s;ti(s=ni())&&(i.planetsLoadModal=s.first),ti(s=ni())&&(i.rankingsLoadModal=s.first),ti(s=ni())&&(i.planetProgressBar=s.first),ti(s=ni())&&(i.playersProgressBar=s.first),ti(s=ni())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-admin-panel-wrapper",1,"opacBackground","lightBorder","noPadding","seperatorLarge"],["id","dgt-admin-panel-header",1,"opacDarkBackground","padding"],[2,"color","#ffd46f !important"],["id","dgt-admin-panel-body",1,"noPadding","ofHidden"],["id","admin-load-planets"],[1,"load-example"],[1,"usage-warning",2,"color","#ffd46f !important"],[1,"usage-warning"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","admin-load-separator"],["id","admin-load-rankings",2,"padding","3px","font-weight","bold"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"rankings-counter"],["playersProgressBar",""]],template:function(r,i){1&r&&lr(0,V6e,74,6,"ng-container",0),2&r&&Ze("ngIf",i.active)},dependencies:[Qs,nw,F2,eU,Gb,tw,Op,P6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%], #dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}span.system-counter[_ngcontent-%COMP%], span.planet-counter[_ngcontent-%COMP%]{transition:all .1s;color:#dcdc}.load-example[_ngcontent-%COMP%]{display:table}.load-example[_ngcontent-%COMP%]{font-weight:400!important;color:#dcdcdc!important;font-size:11px;text-align:left;margin-bottom:10px}.load-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], .load-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{margin-bottom:5px!important}#admin-load-rankings[_ngcontent-%COMP%]{margin-top:5px!important}#admin-load-rankings[_ngcontent-%COMP%], #admin-load-planets[_ngcontent-%COMP%]{padding:5px!important;display:inline-table}#admin-load-planets[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;font-size:12px;background:rgba(0,0,0,.25);color:#fff;border:none!important;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px;width:135px;text-align:left}#admin-load-rankings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], #admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a!important;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;margin:0!important;height:24px;line-height:20px;font-size:13px;min-width:65px!important;float:right}#admin-load-rankings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, #admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}#admin-load-rankings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:left!important;width:100%!important}#admin-load-separator[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important;margin:5px 5px 3px!important;display:block}#dgt-admin-panel-body[_ngcontent-%COMP%], #dgt-admin-panel-header[_ngcontent-%COMP%]{background:#364a36!important}#dgt-admin-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important}#dgt-admin-panel-wrapper[_ngcontent-%COMP%]{border:1px solid #3a593a!important}"]}),e})(),B6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[L6e]}),t.\u0275inj=Ct({providers:[gw],imports:[zr,lw,YU,Js(()=>eo(zn_firebase)),Ga(()=>qa()),gc(()=>mc()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),H6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-alliance-rankings"]],decls:0,vars:0,template:function(r,i){}}),e})(),z6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[H6e]}),t.\u0275inj=Ct({imports:[zr]}),e})();const U6e=["dgtUpdatingModel"];let j6e=(()=>{var t;class e{constructor(){this.localStorageService=K(qr),this.synchronizerService=K(QU),this.dgAPI=K(hs),this.delay=function(){var r=_(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}ngAfterViewInit(){this.delay(this.localStorageService.get(rt.POST_INSTALL_FETCH_METADATA)?0:1e3).then(()=>{let r=0;this.synchronizerService.updatesEmitter.subscribe(s=>{r+=s,0==r?this.delay(2500).then(()=>{this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()}):(this.dgtUpdatingModel.nativeElement.classList.add("show"),this.dgtUpdatingModel.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(2500).then(()=>{}))});let i=new fe(s=>{this.synchronizerService.updateMetadata(s)}).subscribe(s=>{s&&(this.synchronizerService.loadTurnBasedUpdates(this.dgAPI.gameTurn()),i.unsubscribe())})})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-local-storage-synchronizer"]],viewQuery:function(r,i){if(1&r&&xi(U6e,5),2&r){let s;ti(s=ni())&&(i.dgtUpdatingModel=s.first)}},decls:6,vars:0,consts:[["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"]],template:function(r,i){1&r&&(z(0,"div",0,1)(2,"div",2)(3,"span"),Y(4,"Downloading DGT metadata updates..."),q(),ht(5,"img",3),q()())},styles:["#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}"]}),e})(),$6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[j6e]}),t.\u0275inj=Ct({imports:[zr,YU,Js(()=>eo(zn_firebase)),gc(()=>mc()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),G6e=(()=>{class e{static get times(){return this._times}}return e._times=[[1,42],[2,42],[3,60],[4,60],[5,72],[6,100],[7,42],[8,42],[9,60],[10,60],[11,72],[12,100],[13,36],[14,36],[15,72],[16,72],[17,60],[18,48],[19,60],[20,72],[21,24],[22,48],[23,36],[24,60],[25,48],[26,120],[27,18],[28,18],[29,18],[30,18],[31,18],[32,36],[33,36],[34,36],[35,36],[36,36],[37,12],[38,12],[39,12],[40,24],[41,24],[42,24],[43,48],[44,48],[45,36],[46,36],[47,36],[48,36],[49,24],[50,24],[51,24],[52,24],[53,18],[54,18],[55,18],[56,18],[57,12],[58,12]],e})(),q6e=(()=>{var t;class e{fixQueuedResearchTimes(){document.querySelectorAll(".researchButton").forEach((r,i)=>{if(r.classList.contains("researchQueued")){let s=r.querySelector(".infoText");s.classList.add("queuePosition");let o=document.createElement("div");o.classList.add("infoText","researchTime"),o.innerHTML=G6e.times[i][1].toString(),s.parentNode.insertBefore(o,s)}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),W6e=(()=>{var t;class e{constructor(){this.preloadResearchTimesService=K(q6e)}ngAfterViewInit(){this.preloadResearchTimesService.fixQueuedResearchTimes()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-research-panel"]],decls:0,vars:0,template:function(r,i){}}),e})(),K6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[W6e]}),t.\u0275inj=Ct({imports:[zr]}),e})(),Y6e=(()=>{var t;class e{constructor(){this.dgApi=K(hs),this.localStorageService=K(qr)}fetchAndClear(){let r=this.dgApi.playerRankings();const i=this.localStorageService.get(rt.PLAYERS_STATS);for(const s of i){const o=r.get(s.playerId);o&&(o.planets=s.planets,o.g1449Total=s.g1449Total,o.g213Total=s.g213Total,o.g1Total=s.g1Total)}return document.querySelector(".playerRankingsList").remove(),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Q6e=function(t,e,n,r,i){return{neutral:t,hostile:e,allied:n,self:r,nap:i}};function X6e(t,e){if(1&t&&(z(0,"tr",14)(1,"td",3),Y(2),q(),z(3,"td",4),Y(4),q(),z(5,"td",5),Y(6),q(),z(7,"td",6)(8,"a",15),Y(9),q()(),z(10,"td",7)(11,"a",15),Y(12),q()(),z(13,"td",8)(14,"a",15),Y(15),q()(),z(16,"td",9)(17,"a",15),Y(18),q()(),z(19,"td",10),Y(20),Gt(21,"number"),q()()),2&t){const n=e.$implicit;Ze("ngClass",ZS(13,Q6e,"neutral"===n.relation,"hostile"===n.relation,"allied"===n.relation,"self"===n.relation,"nap"===n.relation)),Ae(2),pt(n.rank),Ae(2),pt(n.alliance),Ae(2),pt(n.name),Ae(3),pt(n.planets),Ae(3),pt(n.g1Total),Ae(3),pt(n.g213Total),Ae(3),pt(n.g1449Total),Ae(2),pt(Ci(21,9,n.score,"1.0","en-US"))}}function J6e(t,e){if(1&t&&(xl(0),z(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),Y(6,"#"),q(),z(7,"th",4),Y(8,"Tag"),q(),z(9,"th",5),Y(10,"Player"),q(),z(11,"th",6),Y(12,"Planets"),q(),z(13,"th",7),Y(14,"G1"),q(),z(15,"th",8),Y(16,"Inner"),q(),z(17,"th",9),Y(18,"Outer"),q(),z(19,"th",10),Y(20,"Score"),q()()(),z(21,"tbody"),lr(22,X6e,22,19,"tr",11),q()()(),z(23,"div",12)(24,"div",13)(25,"h2"),Y(26,"Riddick"),q(),z(27,"table")(28,"tr")(29,"th"),Y(30,"G7"),q(),z(31,"td"),Y(32,"7.4.1.2, 7.4.1.3, 7.4.1.4, 7.4.1.5, 7.4.1.6, 7.4.1.7, 7.4.2.7, 7.4.3.3, 7.4.4.6, 7.6.1.1, 7.6.1.4, 7.6.1.5, 7.6.1.6, 7.6.1.7, 7.6.1.8, 7.6.1.9, 7.6.2.2, 7.6.2.4, 7.6.2.5, 7.6.2.6, 7.6.2.7, 7.6.2.8, 7.6.2.9, 7.6.3.1, 7.6.3.2, 7.6.3.3, 7.6.3.4, 7.6.3.6, 7.6.3.7, 7.6.4.1, 7.6.4.2, 7.6.4.3, 7.6.4.6, 7.6.4.7, 7.6.4.8, 7.6.4.9 "),q()(),z(33,"tr")(34,"th"),Y(35,"G8"),q(),z(36,"td"),Y(37,"8.4.3.5"),q()(),z(38,"tr")(39,"th"),Y(40,"G9"),q(),z(41,"td"),Y(42,"9.3.3.1, 9.3.3.2, 9.3.3.3, 9.3.3.5, 9.3.3.6, 9.3.3.7, 9.3.3.8, 9.3.3.9"),q()()()()(),Il()),2&t){const n=hn();Ae(22),Ze("ngForOf",n.rankings.values())}}let Z6e=(()=>{var t;class e{constructor(){this.playerRankingsService=K(Y6e),this.rankings=new Map,this.authService=K(go),this.authenticated=!1,this.authService.authState.subscribe(r=>{this.authenticated=r.status,this.authenticated&&(this.rankings=this.playerRankingsService.fetchAndClear())}),this.authService.checkLoginValidity()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-players-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-players-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"planets"],[1,"g1"],[1,"inner"],[1,"outer"],[1,"score"],[3,"ngClass",4,"ngFor","ngForOf"],["id","dgt-player-planets-overlay-modal",1,"hide","dgt-overlay-modal"],[1,"dgt-display-info"],[3,"ngClass"],["href","javascript:void(0);"]],template:function(r,i){1&r&&lr(0,J6e,43,1,"ng-container",0),2&r&&Ze("ngIf",i.authenticated)},dependencies:[l4,Vg,Qs,Fo],styles:[".hostile[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%], .self[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]{color:#fff}.hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}.name[_ngcontent-%COMP%]{width:150px;text-transform:capitalize;padding-left:10px!important}.planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{width:100px}.score[_ngcontent-%COMP%]{width:150px}.rank[_ngcontent-%COMP%]{width:30px;text-align:center}.alliance[_ngcontent-%COMP%]{width:50px;padding-left:10px}.score[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{text-align:center}.hostile[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4b2b2b!important;color:#df4a4a!important}.nap[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4e4e17!important;color:#b9b916!important}.allied[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#18354b!important;color:#08baff!important}.self[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#426300!important;color:#7bbd1a!important}.neutral[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#3b3b3b!important;color:#fff!important}.neutral[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#dcdcdc}td.alliance[_ngcontent-%COMP%]{text-transform:uppercase}td.name[_ngcontent-%COMP%]{color:#fff}#dgt-players-rankings-wrapper[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);border-radius:3px;padding:5px!important;margin-bottom:5px!important}table[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{line-height:26px;border-bottom:1px solid rgba(0,0,0,.25)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}"]}),e})(),e3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[Z6e]}),t.\u0275inj=Ct({imports:[zr,lw,Fb,Js(()=>eo(zn_firebase)),Ga(()=>qa()),yo(()=>Eo(Zs(),{provider:new Qi(zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Wr=xte();let t3e=window.location.pathname.split(/\//g);Wr.bootstrapModule(W4e).then(()=>{Wr.bootstrapModule(G4e).then(()=>{Wr.bootstrapModule(A2e).then(()=>{Wr.bootstrapModule($6e).then(()=>{Wr.bootstrapModule(v1e).then(()=>{!function n3e(t){2===t.length&&0===t[1].trim().length&&(Wr.bootstrapModule(D6e).catch(e=>console.error("Error loading ChangelogModule: "+e)),Wr.bootstrapModule(B6e).catch(e=>console.error("Error loading FetchDataModule: "+e))),"planets"===t[1]&&Wr.bootstrapModule(m2e).catch(e=>console.error("Error loading PlanetListStatsModule: "+e)),"planet"===t[1]&&"comms"===(5===t.length&&t[3])&&Wr.bootstrapModule(y2e).catch(e=>console.error("Error loading SharedScansModule: "+e)),"navigation"===t[1]&&6===t.length&&!isNaN(+t[2])&&!isNaN(+t[3])&&!isNaN(+t[4])&&Wr.bootstrapModule(x2e).catch(e=>console.error("Error loading NavigationScansModule: "+e)),"alliances"===t[1]&&document.querySelector("dgt-alliance-members")&&Wr.bootstrapModule(j4e).catch(e=>console.error("Error loading AllianceMembersModule: "+e)),"rankings"===t[1]&&"alliances"===t[2]&&Wr.bootstrapModule(z6e).catch(e=>console.error("Error loading AllianceRankingsModule: "+e)),"rankings"===t[1]&&"players"===t[2]&&Wr.bootstrapModule(e3e).catch(e=>console.error("Error loading PlayerRankingsModule: "+e)),"research"===t[1]&&Wr.bootstrapModule(K6e).catch(e=>console.error("Error loading ResearchModule: "+e))}(t3e)}).catch(t=>console.error("Error loading NavbarModule: "+t))}).catch(t=>console.error("Error loading LocalStorageSynchronizerModule: "+t))}).catch(t=>console.error("Error loading AuthenticationModule: "+t))}).catch(t=>console.error("Error loading DarkgalaxyUiParserModule: "+t))}).catch(t=>console.error("Error loading LocalStorageManagerModule: "+t))},42:function(ye,xe,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,U=I.lib.BlockCipher,J=I.algo,N=[],W=[],v=[],w=[],P=[],E=[],D=[],C=[],S=[],A=[];!function(){for(var m=[],x=0;x<256;x++)m[x]=x<128?x<<1:x<<1^283;var L=0,O=0;for(x=0;x<256;x++){var H=O^O<<1^O<<2^O<<3^O<<4;N[L]=H=H>>>8^255&H^99,W[H]=L;var pe,$=m[L],de=m[$],le=m[de];v[L]=(pe=257*m[H]^16843008*H)<<24|pe>>>8,w[L]=pe<<16|pe>>>16,P[L]=pe<<8|pe>>>24,E[L]=pe,D[H]=(pe=16843009*le^65537*de^257*$^16843008*L)<<24|pe>>>8,C[H]=pe<<16|pe>>>16,S[H]=pe<<8|pe>>>24,A[H]=pe,L?(L=$^m[m[m[le^$]]],O^=m[m[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=J.AES=U.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var x=this._keyPriorReset=this._key,L=x.words,O=x.sigBytes/4,$=4*((this._nRounds=O+6)+1),de=this._keySchedule=[],le=0;le<$;le++)le<O?de[le]=L[le]:(m=de[le-1],le%O?O>6&&le%O==4&&(m=N[m>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m]):(m=N[(m=m<<8|m>>>24)>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m],m^=F[le/O|0]<<24),de[le]=de[le-O]^m);for(var pe=this._invKeySchedule=[],we=0;we<$;we++){if(le=$-we,we%4)var m=de[le];else m=de[le-4];pe[we]=we<4||le<=4?m:D[N[m>>>24]]^C[N[m>>>16&255]]^S[N[m>>>8&255]]^A[N[255&m]]}}},encryptBlock:function(m,x){this._doCryptBlock(m,x,this._keySchedule,v,w,P,E,N)},decryptBlock:function(m,x){var L=m[x+1];m[x+1]=m[x+3],m[x+3]=L,this._doCryptBlock(m,x,this._invKeySchedule,D,C,S,A,W),L=m[x+1],m[x+1]=m[x+3],m[x+3]=L},_doCryptBlock:function(m,x,L,O,H,$,de,le){for(var pe=this._nRounds,we=m[x]^L[0],X=m[x+1]^L[1],ue=m[x+2]^L[2],ve=m[x+3]^L[3],ce=4,Ne=1;Ne<pe;Ne++){var fe=O[we>>>24]^H[X>>>16&255]^$[ue>>>8&255]^de[255&ve]^L[ce++],qe=O[X>>>24]^H[ue>>>16&255]^$[ve>>>8&255]^de[255&we]^L[ce++],et=O[ue>>>24]^H[ve>>>16&255]^$[we>>>8&255]^de[255&X]^L[ce++],Z=O[ve>>>24]^H[we>>>16&255]^$[X>>>8&255]^de[255&ue]^L[ce++];we=fe,X=qe,ue=et,ve=Z}fe=(le[we>>>24]<<24|le[X>>>16&255]<<16|le[ue>>>8&255]<<8|le[255&ve])^L[ce++],qe=(le[X>>>24]<<24|le[ue>>>16&255]<<16|le[ve>>>8&255]<<8|le[255&we])^L[ce++],et=(le[ue>>>24]<<24|le[ve>>>16&255]<<16|le[we>>>8&255]<<8|le[255&X])^L[ce++],Z=(le[ve>>>24]<<24|le[we>>>16&255]<<16|le[X>>>8&255]<<8|le[255&ue])^L[ce++],m[x]=fe,m[x+1]=qe,m[x+2]=et,m[x+3]=Z},keySize:8});I.AES=U._createHelper(k)}(),M.AES)},172:function(ye,xe,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,U=I.lib.BlockCipher;const N=16,W=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],v=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function P(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function E(A,F,k){let L,m=F,x=k;for(let O=0;O<N;++O)m^=A.pbox[O],x=P(A,m)^x,L=m,m=x,x=L;return L=m,m=x,x=L,x^=A.pbox[N],m^=A.pbox[N+1],{left:m,right:x}}var S=I.algo.Blowfish=U.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function C(A,F,k){for(let H=0;H<4;H++){A.sbox[H]=[];for(let $=0;$<256;$++)A.sbox[H][$]=v[H][$]}let m=0;for(let H=0;H<N+2;H++)A.pbox[H]=W[H]^F[m],m++,m>=k&&(m=0);let x=0,L=0,O=0;for(let H=0;H<N+2;H+=2)O=E(A,x,L),x=O.left,L=O.right,A.pbox[H]=x,A.pbox[H+1]=L;for(let H=0;H<4;H++)for(let $=0;$<256;$+=2)O=E(A,x,L),x=O.left,L=O.right,A.sbox[H][$]=x,A.sbox[H][$+1]=L;return!0}(w,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=E(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function D(A,F,k){let L,m=F,x=k;for(let O=N+1;O>1;--O)m^=A.pbox[O],x=P(A,m)^x,L=m,m=x,x=L;return L=m,m=x,x=L,x^=A.pbox[1],m^=A.pbox[0],{left:m,right:x}}(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});I.Blowfish=U._createHelper(S)}(),M.Blowfish)},270:function(ye,xe,V){var G,U,J,N,W,v,P,D,C,A,F,k,x,O,$,de,pe,we,M;ye.exports=(M=V(12),V(66),void(M.lib.Cipher||(G=M,U=G.lib,J=U.Base,N=U.WordArray,W=U.BufferedBlockAlgorithm,v=G.enc,P=v.Base64,D=G.algo.EvpKDF,C=U.Cipher=W.extend({cfg:J.extend(),createEncryptor:function(X,ue){return this.create(this._ENC_XFORM_MODE,X,ue)},createDecryptor:function(X,ue){return this.create(this._DEC_XFORM_MODE,X,ue)},init:function(X,ue,ve){this.cfg=this.cfg.extend(ve),this._xformMode=X,this._key=ue,this.reset()},reset:function(){W.reset.call(this),this._doReset()},process:function(X){return this._append(X),this._process()},finalize:function(X){return X&&this._append(X),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function X(ue){return"string"==typeof ue?we:de}return function(ue){return{encrypt:function(ve,ce,Ne){return X(ce).encrypt(ue,ve,ce,Ne)},decrypt:function(ve,ce,Ne){return X(ce).decrypt(ue,ve,ce,Ne)}}}}()}),U.StreamCipher=C.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=G.mode={},F=U.BlockCipherMode=J.extend({createEncryptor:function(X,ue){return this.Encryptor.create(X,ue)},createDecryptor:function(X,ue){return this.Decryptor.create(X,ue)},init:function(X,ue){this._cipher=X,this._iv=ue}}),k=A.CBC=function(){var X=F.extend();function ue(ve,ce,Ne){var fe,qe=this._iv;qe?(fe=qe,this._iv=undefined):fe=this._prevBlock;for(var et=0;et<Ne;et++)ve[ce+et]^=fe[et]}return X.Encryptor=X.extend({processBlock:function(ve,ce){var Ne=this._cipher,fe=Ne.blockSize;ue.call(this,ve,ce,fe),Ne.encryptBlock(ve,ce),this._prevBlock=ve.slice(ce,ce+fe)}}),X.Decryptor=X.extend({processBlock:function(ve,ce){var Ne=this._cipher,fe=Ne.blockSize,qe=ve.slice(ce,ce+fe);Ne.decryptBlock(ve,ce),ue.call(this,ve,ce,fe),this._prevBlock=qe}}),X}(),x=(G.pad={}).Pkcs7={pad:function(X,ue){for(var ve=4*ue,ce=ve-X.sigBytes%ve,Ne=ce<<24|ce<<16|ce<<8|ce,fe=[],qe=0;qe<ce;qe+=4)fe.push(Ne);var et=N.create(fe,ce);X.concat(et)},unpad:function(X){X.sigBytes-=255&X.words[X.sigBytes-1>>>2]}},U.BlockCipher=C.extend({cfg:C.cfg.extend({mode:k,padding:x}),reset:function(){var X;C.reset.call(this);var ue=this.cfg,ve=ue.iv,ce=ue.mode;this._xformMode==this._ENC_XFORM_MODE?X=ce.createEncryptor:(X=ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==X?this._mode.init(this,ve&&ve.words):(this._mode=X.call(ce,this,ve&&ve.words),this._mode.__creator=X)},_doProcessBlock:function(X,ue){this._mode.processBlock(X,ue)},_doFinalize:function(){var X,ue=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ue.pad(this._data,this.blockSize),X=this._process(!0)):(X=this._process(!0),ue.unpad(X)),X},blockSize:4}),O=U.CipherParams=J.extend({init:function(X){this.mixIn(X)},toString:function(X){return(X||this.formatter).stringify(this)}}),$=(G.format={}).OpenSSL={stringify:function(X){var ve=X.ciphertext,ce=X.salt;return(ce?N.create([1398893684,1701076831]).concat(ce).concat(ve):ve).toString(P)},parse:function(X){var ue,ve=P.parse(X),ce=ve.words;return 1398893684==ce[0]&&1701076831==ce[1]&&(ue=N.create(ce.slice(2,4)),ce.splice(0,4),ve.sigBytes-=16),O.create({ciphertext:ve,salt:ue})}},de=U.SerializableCipher=J.extend({cfg:J.extend({format:$}),encrypt:function(X,ue,ve,ce){ce=this.cfg.extend(ce);var Ne=X.createEncryptor(ve,ce),fe=Ne.finalize(ue),qe=Ne.cfg;return O.create({ciphertext:fe,key:ve,iv:qe.iv,algorithm:X,mode:qe.mode,padding:qe.padding,blockSize:X.blockSize,formatter:ce.format})},decrypt:function(X,ue,ve,ce){return ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format),X.createDecryptor(ve,ce).finalize(ue.ciphertext)},_parse:function(X,ue){return"string"==typeof X?ue.parse(X,this):X}}),pe=(G.kdf={}).OpenSSL={execute:function(X,ue,ve,ce,Ne){if(ce||(ce=N.random(8)),Ne)var fe=D.create({keySize:ue+ve,hasher:Ne}).compute(X,ce);else fe=D.create({keySize:ue+ve}).compute(X,ce);var qe=N.create(fe.words.slice(ue),4*ve);return fe.sigBytes=4*ue,O.create({key:fe,iv:qe,salt:ce})}},we=U.PasswordBasedCipher=de.extend({cfg:de.cfg.extend({kdf:pe}),encrypt:function(X,ue,ve,ce){var Ne=(ce=this.cfg.extend(ce)).kdf.execute(ve,X.keySize,X.ivSize,ce.salt,ce.hasher);ce.iv=Ne.iv;var fe=de.encrypt.call(this,X,ue,Ne.key,ce);return fe.mixIn(Ne),fe},decrypt:function(X,ue,ve,ce){ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format);var Ne=ce.kdf.execute(ve,X.keySize,X.ivSize,ue.salt,ce.hasher);return ce.iv=Ne.iv,de.decrypt.call(this,X,ue,Ne.key,ce)}}))))},12:function(ye,xe,V){var M;ye.exports=(M=M||function(I,G){var U;if(typeof window<"u"&&window.crypto&&(U=window.crypto),typeof self<"u"&&self.crypto&&(U=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(U=globalThis.crypto),!U&&typeof window<"u"&&window.msCrypto&&(U=window.msCrypto),!U&&typeof global<"u"&&global.crypto&&(U=global.crypto),!U)try{U=V(480)}catch{}var J=function(){if(U){if("function"==typeof U.getRandomValues)try{return U.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof U.randomBytes)try{return U.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function m(){}return function(x){var L;return m.prototype=x,L=new m,m.prototype=null,L}}(),W={},v=W.lib={},w=v.Base={extend:function(m){var x=N(this);return m&&x.mixIn(m),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var x in m)m.hasOwnProperty(x)&&(this[x]=m[x]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},P=v.WordArray=w.extend({init:function(m,x){m=this.words=m||[],this.sigBytes=null!=x?x:4*m.length},toString:function(m){return(m||D).stringify(this)},concat:function(m){var x=this.words,L=m.words,O=this.sigBytes,H=m.sigBytes;if(this.clamp(),O%4)for(var $=0;$<H;$++)x[O+$>>>2]|=(L[$>>>2]>>>24-$%4*8&255)<<24-(O+$)%4*8;else for(var le=0;le<H;le+=4)x[O+le>>>2]=L[le>>>2];return this.sigBytes+=H,this},clamp:function(){var m=this.words,x=this.sigBytes;m[x>>>2]&=4294967295<<32-x%4*8,m.length=I.ceil(x/4)},clone:function(){var m=w.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var x=[],L=0;L<m;L+=4)x.push(J());return new P.init(x,m)}}),E=W.enc={},D=E.Hex={stringify:function(m){for(var x=m.words,L=m.sigBytes,O=[],H=0;H<L;H++){var $=x[H>>>2]>>>24-H%4*8&255;O.push(($>>>4).toString(16)),O.push((15&$).toString(16))}return O.join("")},parse:function(m){for(var x=m.length,L=[],O=0;O<x;O+=2)L[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new P.init(L,x/2)}},C=E.Latin1={stringify:function(m){for(var x=m.words,L=m.sigBytes,O=[],H=0;H<L;H++)O.push(String.fromCharCode(x[H>>>2]>>>24-H%4*8&255));return O.join("")},parse:function(m){for(var x=m.length,L=[],O=0;O<x;O++)L[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new P.init(L,x)}},S=E.Utf8={stringify:function(m){try{return decodeURIComponent(escape(C.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return C.parse(unescape(encodeURIComponent(m)))}},A=v.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new P.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=S.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var x,L=this._data,O=L.words,H=L.sigBytes,$=this.blockSize,le=H/(4*$),pe=(le=m?I.ceil(le):I.max((0|le)-this._minBufferSize,0))*$,we=I.min(4*pe,H);if(pe){for(var X=0;X<pe;X+=$)this._doProcessBlock(O,X);x=O.splice(0,pe),L.sigBytes-=we}return new P.init(x,we)},clone:function(){var m=w.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),k=(v.Hasher=A.extend({cfg:w.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(x,L){return new m.init(L).finalize(x)}},_createHmacHelper:function(m){return function(x,L){return new k.HMAC.init(m,L).finalize(x)}}}),W.algo={});return W}(Math),M)},506:function(ye,xe,V){var M,U;ye.exports=(M=V(12),U=M.lib.WordArray,M.enc.Base64={stringify:function(v){var w=v.words,P=v.sigBytes,E=this._map;v.clamp();for(var D=[],C=0;C<P;C+=3)for(var k=(w[C>>>2]>>>24-C%4*8&255)<<16|(w[C+1>>>2]>>>24-(C+1)%4*8&255)<<8|w[C+2>>>2]>>>24-(C+2)%4*8&255,m=0;m<4&&C+.75*m<P;m++)D.push(E.charAt(k>>>6*(3-m)&63));var x=E.charAt(64);if(x)for(;D.length%4;)D.push(x);return D.join("")},parse:function(v){var w=v.length,P=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var D=0;D<P.length;D++)E[P.charCodeAt(D)]=D}var C=P.charAt(64);if(C){var S=v.indexOf(C);-1!==S&&(w=S)}return function W(v,w,P){for(var E=[],D=0,C=0;C<w;C++)if(C%4){var S=P[v.charCodeAt(C-1)]<<C%4*2,A=P[v.charCodeAt(C)]>>>6-C%4*2;E[D>>>2]|=(S|A)<<24-D%4*8,D++}return U.create(E,D)}(v,w,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},M.enc.Base64)},523:function(ye,xe,V){var M,U;ye.exports=(M=V(12),U=M.lib.WordArray,M.enc.Base64url={stringify:function(v,w){void 0===w&&(w=!0);var P=v.words,E=v.sigBytes,D=w?this._safe_map:this._map;v.clamp();for(var C=[],S=0;S<E;S+=3)for(var m=(P[S>>>2]>>>24-S%4*8&255)<<16|(P[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|P[S+2>>>2]>>>24-(S+2)%4*8&255,x=0;x<4&&S+.75*x<E;x++)C.push(D.charAt(m>>>6*(3-x)&63));var L=D.charAt(64);if(L)for(;C.length%4;)C.push(L);return C.join("")},parse:function(v,w){void 0===w&&(w=!0);var P=v.length,E=w?this._safe_map:this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var C=0;C<E.length;C++)D[E.charCodeAt(C)]=C}var S=E.charAt(64);if(S){var A=v.indexOf(S);-1!==A&&(P=A)}return function W(v,w,P){for(var E=[],D=0,C=0;C<w;C++)if(C%4){var S=P[v.charCodeAt(C-1)]<<C%4*2,A=P[v.charCodeAt(C)]>>>6-C%4*2;E[D>>>2]|=(S|A)<<24-D%4*8,D++}return U.create(E,D)}(v,P,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},M.enc.Base64url)},454:function(ye,xe,V){var M;ye.exports=(M=V(12),function(){var U=M.lib.WordArray,J=M.enc;function W(v){return v<<8&4278255360|v>>>8&16711935}J.Utf16=J.Utf16BE={stringify:function(v){for(var w=v.words,P=v.sigBytes,E=[],D=0;D<P;D+=2)E.push(String.fromCharCode(w[D>>>2]>>>16-D%4*8&65535));return E.join("")},parse:function(v){for(var w=v.length,P=[],E=0;E<w;E++)P[E>>>1]|=v.charCodeAt(E)<<16-E%2*16;return U.create(P,2*w)}},J.Utf16LE={stringify:function(v){for(var w=v.words,P=v.sigBytes,E=[],D=0;D<P;D+=2){var C=W(w[D>>>2]>>>16-D%4*8&65535);E.push(String.fromCharCode(C))}return E.join("")},parse:function(v){for(var w=v.length,P=[],E=0;E<w;E++)P[E>>>1]|=W(v.charCodeAt(E)<<16-E%2*16);return U.create(P,2*w)}}}(),M.enc.Utf16)},66:function(ye,xe,V){var I,G,U,J,N,v,M;ye.exports=(M=V(12),V(446),V(990),J=(G=(I=M).lib).WordArray,v=(N=I.algo).EvpKDF=(U=G.Base).extend({cfg:U.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,P){for(var E,D=this.cfg,C=D.hasher.create(),S=J.create(),A=S.words,F=D.keySize,k=D.iterations;A.length<F;){E&&C.update(E),E=C.update(w).finalize(P),C.reset();for(var m=1;m<k;m++)E=C.finalize(E),C.reset();S.concat(E)}return S.sigBytes=4*F,S}}),I.EvpKDF=function(w,P,E){return v.create(E).compute(w,P)},M.EvpKDF)},826:function(ye,xe,V){var M,J,W;ye.exports=(M=V(12),V(270),J=M.lib.CipherParams,W=M.enc.Hex,M.format.Hex={stringify:function(P){return P.ciphertext.toString(W)},parse:function(P){var E=W.parse(P);return J.create({ciphertext:E})}},M.format.Hex)},990:function(ye,xe,V){var M,N;ye.exports=(M=V(12),N=M.enc.Utf8,void(M.algo.HMAC=M.lib.Base.extend({init:function(w,P){w=this._hasher=new w.init,"string"==typeof P&&(P=N.parse(P));var E=w.blockSize,D=4*E;P.sigBytes>D&&(P=w.finalize(P)),P.clamp();for(var C=this._oKey=P.clone(),S=this._iKey=P.clone(),A=C.words,F=S.words,k=0;k<E;k++)A[k]^=1549556828,F[k]^=909522486;C.sigBytes=S.sigBytes=D,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var P=this._hasher,E=P.finalize(w);return P.reset(),P.finalize(this._oKey.clone().concat(E))}})))},874:function(ye,xe,V){var M;ye.exports=(M=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),M)},37:function(ye,xe,V){var M;ye.exports=(M=V(12),function(){if("function"==typeof ArrayBuffer){var U=M.lib.WordArray,J=U.init,N=U.init=function(W){if(W instanceof ArrayBuffer&&(W=new Uint8Array(W)),(W instanceof Int8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)&&(W=new Uint8Array(W.buffer,W.byteOffset,W.byteLength)),W instanceof Uint8Array){for(var v=W.byteLength,w=[],P=0;P<v;P++)w[P>>>2]|=W[P]<<24-P%4*8;J.call(this,w,v)}else J.apply(this,arguments)};N.prototype=U}}(),M.lib.WordArray)},873:function(ye,xe,V){var M;ye.exports=(M=V(12),function(I){var G=M,U=G.lib,J=U.WordArray,N=U.Hasher,W=G.algo,v=[];!function(){for(var S=0;S<64;S++)v[S]=4294967296*I.abs(I.sin(S+1))|0}();var w=W.MD5=N.extend({_doReset:function(){this._hash=new J.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,A){for(var F=0;F<16;F++){var k=A+F,m=S[k];S[k]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var x=this._hash.words,L=S[A+0],O=S[A+1],H=S[A+2],$=S[A+3],de=S[A+4],le=S[A+5],pe=S[A+6],we=S[A+7],X=S[A+8],ue=S[A+9],ve=S[A+10],ce=S[A+11],Ne=S[A+12],fe=S[A+13],qe=S[A+14],et=S[A+15],Z=x[0],ae=x[1],ne=x[2],oe=x[3];Z=P(Z,ae,ne,oe,L,7,v[0]),oe=P(oe,Z,ae,ne,O,12,v[1]),ne=P(ne,oe,Z,ae,H,17,v[2]),ae=P(ae,ne,oe,Z,$,22,v[3]),Z=P(Z,ae,ne,oe,de,7,v[4]),oe=P(oe,Z,ae,ne,le,12,v[5]),ne=P(ne,oe,Z,ae,pe,17,v[6]),ae=P(ae,ne,oe,Z,we,22,v[7]),Z=P(Z,ae,ne,oe,X,7,v[8]),oe=P(oe,Z,ae,ne,ue,12,v[9]),ne=P(ne,oe,Z,ae,ve,17,v[10]),ae=P(ae,ne,oe,Z,ce,22,v[11]),Z=P(Z,ae,ne,oe,Ne,7,v[12]),oe=P(oe,Z,ae,ne,fe,12,v[13]),ne=P(ne,oe,Z,ae,qe,17,v[14]),Z=E(Z,ae=P(ae,ne,oe,Z,et,22,v[15]),ne,oe,O,5,v[16]),oe=E(oe,Z,ae,ne,pe,9,v[17]),ne=E(ne,oe,Z,ae,ce,14,v[18]),ae=E(ae,ne,oe,Z,L,20,v[19]),Z=E(Z,ae,ne,oe,le,5,v[20]),oe=E(oe,Z,ae,ne,ve,9,v[21]),ne=E(ne,oe,Z,ae,et,14,v[22]),ae=E(ae,ne,oe,Z,de,20,v[23]),Z=E(Z,ae,ne,oe,ue,5,v[24]),oe=E(oe,Z,ae,ne,qe,9,v[25]),ne=E(ne,oe,Z,ae,$,14,v[26]),ae=E(ae,ne,oe,Z,X,20,v[27]),Z=E(Z,ae,ne,oe,fe,5,v[28]),oe=E(oe,Z,ae,ne,H,9,v[29]),ne=E(ne,oe,Z,ae,we,14,v[30]),Z=D(Z,ae=E(ae,ne,oe,Z,Ne,20,v[31]),ne,oe,le,4,v[32]),oe=D(oe,Z,ae,ne,X,11,v[33]),ne=D(ne,oe,Z,ae,ce,16,v[34]),ae=D(ae,ne,oe,Z,qe,23,v[35]),Z=D(Z,ae,ne,oe,O,4,v[36]),oe=D(oe,Z,ae,ne,de,11,v[37]),ne=D(ne,oe,Z,ae,we,16,v[38]),ae=D(ae,ne,oe,Z,ve,23,v[39]),Z=D(Z,ae,ne,oe,fe,4,v[40]),oe=D(oe,Z,ae,ne,L,11,v[41]),ne=D(ne,oe,Z,ae,$,16,v[42]),ae=D(ae,ne,oe,Z,pe,23,v[43]),Z=D(Z,ae,ne,oe,ue,4,v[44]),oe=D(oe,Z,ae,ne,Ne,11,v[45]),ne=D(ne,oe,Z,ae,et,16,v[46]),Z=C(Z,ae=D(ae,ne,oe,Z,H,23,v[47]),ne,oe,L,6,v[48]),oe=C(oe,Z,ae,ne,we,10,v[49]),ne=C(ne,oe,Z,ae,qe,15,v[50]),ae=C(ae,ne,oe,Z,le,21,v[51]),Z=C(Z,ae,ne,oe,Ne,6,v[52]),oe=C(oe,Z,ae,ne,$,10,v[53]),ne=C(ne,oe,Z,ae,ve,15,v[54]),ae=C(ae,ne,oe,Z,O,21,v[55]),Z=C(Z,ae,ne,oe,X,6,v[56]),oe=C(oe,Z,ae,ne,et,10,v[57]),ne=C(ne,oe,Z,ae,pe,15,v[58]),ae=C(ae,ne,oe,Z,fe,21,v[59]),Z=C(Z,ae,ne,oe,de,6,v[60]),oe=C(oe,Z,ae,ne,ce,10,v[61]),ne=C(ne,oe,Z,ae,H,15,v[62]),ae=C(ae,ne,oe,Z,ue,21,v[63]),x[0]=x[0]+Z|0,x[1]=x[1]+ae|0,x[2]=x[2]+ne|0,x[3]=x[3]+oe|0},_doFinalize:function(){var S=this._data,A=S.words,F=8*this._nDataBytes,k=8*S.sigBytes;A[k>>>5]|=128<<24-k%32;var m=I.floor(F/4294967296),x=F;A[15+(k+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(k+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),S.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,H=0;H<4;H++){var $=O[H];O[H]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8)}return L},clone:function(){var S=N.clone.call(this);return S._hash=this._hash.clone(),S}});function P(S,A,F,k,m,x,L){var O=S+(A&F|~A&k)+m+L;return(O<<x|O>>>32-x)+A}function E(S,A,F,k,m,x,L){var O=S+(A&k|F&~k)+m+L;return(O<<x|O>>>32-x)+A}function D(S,A,F,k,m,x,L){var O=S+(A^F^k)+m+L;return(O<<x|O>>>32-x)+A}function C(S,A,F,k,m,x,L){var O=S+(F^(A|~k))+m+L;return(O<<x|O>>>32-x)+A}G.MD5=N._createHelper(w),G.HmacMD5=N._createHmacHelper(w)}(Math),M.MD5)},228:function(ye,xe,V){var M;ye.exports=(M=V(12),V(270),M.mode.CFB=function(){var I=M.lib.BlockCipherMode.extend();function G(U,J,N,W){var v,w=this._iv;w?(v=w.slice(0),this._iv=void 0):v=this._prevBlock,W.encryptBlock(v,0);for(var P=0;P<N;P++)U[J+P]^=v[P]}return I.Encryptor=I.extend({processBlock:function(U,J){var N=this._cipher,W=N.blockSize;G.call(this,U,J,W,N),this._prevBlock=U.slice(J,J+W)}}),I.Decryptor=I.extend({processBlock:function(U,J){var N=this._cipher,W=N.blockSize,v=U.slice(J,J+W);G.call(this,U,J,W,N),this._prevBlock=v}}),I}(),M.mode.CFB)},584:function(ye,xe,V){var M;ye.exports=(M=V(12),V(270),M.mode.CTRGladman=function(){var I=M.lib.BlockCipherMode.extend();function G(N){if(255==(N>>24&255)){var W=N>>16&255,v=N>>8&255,w=255&N;255===W?(W=0,255===v?(v=0,255===w?w=0:++w):++v):++W,N=0,N+=W<<16,N+=v<<8,N+=w}else N+=1<<24;return N}var J=I.Encryptor=I.extend({processBlock:function(N,W){var v=this._cipher,w=v.blockSize,P=this._iv,E=this._counter;P&&(E=this._counter=P.slice(0),this._iv=void 0),function U(N){return 0===(N[0]=G(N[0]))&&(N[1]=G(N[1])),N}(E);var D=E.slice(0);v.encryptBlock(D,0);for(var C=0;C<w;C++)N[W+C]^=D[C]}});return I.Decryptor=J,I}(),M.mode.CTRGladman)},392:function(ye,xe,V){var I,G,M;ye.exports=(M=V(12),V(270),M.mode.CTR=(G=(I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(U,J){var N=this._cipher,W=N.blockSize,v=this._iv,w=this._counter;v&&(w=this._counter=v.slice(0),this._iv=void 0);var P=w.slice(0);N.encryptBlock(P,0),w[W-1]=w[W-1]+1|0;for(var E=0;E<W;E++)U[J+E]^=P[E]}}),I.Decryptor=G,I),M.mode.CTR)},594:function(ye,xe,V){var I,M;ye.exports=(M=V(12),V(270),M.mode.ECB=((I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(G,U){this._cipher.encryptBlock(G,U)}}),I.Decryptor=I.extend({processBlock:function(G,U){this._cipher.decryptBlock(G,U)}}),I),M.mode.ECB)},15:function(ye,xe,V){var I,G,M;ye.exports=(M=V(12),V(270),M.mode.OFB=(G=(I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(U,J){var N=this._cipher,W=N.blockSize,v=this._iv,w=this._keystream;v&&(w=this._keystream=v.slice(0),this._iv=void 0),N.encryptBlock(w,0);for(var P=0;P<W;P++)U[J+P]^=w[P]}}),I.Decryptor=G,I),M.mode.OFB)},237:function(ye,xe,V){var M;ye.exports=(M=V(12),V(270),M.pad.AnsiX923={pad:function(I,G){var U=I.sigBytes,J=4*G,N=J-U%J,W=U+N-1;I.clamp(),I.words[W>>>2]|=N<<24-W%4*8,I.sigBytes+=N},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},M.pad.Ansix923)},501:function(ye,xe,V){var M;ye.exports=(M=V(12),V(270),M.pad.Iso10126={pad:function(I,G){var U=4*G,J=U-I.sigBytes%U;I.concat(M.lib.WordArray.random(J-1)).concat(M.lib.WordArray.create([J<<24],1))},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},M.pad.Iso10126)},4:function(ye,xe,V){var M;ye.exports=(M=V(12),V(270),M.pad.Iso97971={pad:function(I,G){I.concat(M.lib.WordArray.create([2147483648],1)),M.pad.ZeroPadding.pad(I,G)},unpad:function(I){M.pad.ZeroPadding.unpad(I),I.sigBytes--}},M.pad.Iso97971)},738:function(ye,xe,V){var M;ye.exports=(M=V(12),V(270),M.pad.NoPadding={pad:function(){},unpad:function(){}},M.pad.NoPadding)},297:function(ye,xe,V){var M;ye.exports=(M=V(12),V(270),M.pad.ZeroPadding={pad:function(I,G){var U=4*G;I.clamp(),I.sigBytes+=U-(I.sigBytes%U||U)},unpad:function(I){var G=I.words,U=I.sigBytes-1;for(U=I.sigBytes-1;U>=0;U--)if(G[U>>>2]>>>24-U%4*8&255){I.sigBytes=U+1;break}}},M.pad.ZeroPadding)},538:function(ye,xe,V){var I,G,U,J,N,v,w,M;ye.exports=(M=V(12),V(78),V(990),J=(G=(I=M).lib).WordArray,v=(N=I.algo).HMAC,w=N.PBKDF2=(U=G.Base).extend({cfg:U.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(P){this.cfg=this.cfg.extend(P)},compute:function(P,E){for(var D=this.cfg,C=v.create(D.hasher,P),S=J.create(),A=J.create([1]),F=S.words,k=A.words,m=D.keySize,x=D.iterations;F.length<m;){var L=C.update(E).finalize(A);C.reset();for(var O=L.words,H=O.length,$=L,de=1;de<x;de++){$=C.finalize($),C.reset();for(var le=$.words,pe=0;pe<H;pe++)O[pe]^=le[pe]}S.concat(L),k[0]++}return S.sigBytes=4*m,S}}),I.PBKDF2=function(P,E,D){return w.create(D).compute(P,E)},M.PBKDF2)},848:function(ye,xe,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,U=I.lib.StreamCipher,N=[],W=[],v=[],w=I.algo.RabbitLegacy=U.extend({_doReset:function(){var E=this._key.words,D=this.cfg.iv,C=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],S=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)P.call(this);for(A=0;A<8;A++)S[A]^=C[A+4&7];if(D){var F=D.words,k=F[0],m=F[1],x=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=x>>>16|4294901760&L,H=L<<16|65535&x;for(S[0]^=x,S[1]^=O,S[2]^=L,S[3]^=H,S[4]^=x,S[5]^=O,S[6]^=L,S[7]^=H,A=0;A<4;A++)P.call(this)}},_doProcessBlock:function(E,D){var C=this._X;P.call(this),N[0]=C[0]^C[5]>>>16^C[3]<<16,N[1]=C[2]^C[7]>>>16^C[5]<<16,N[2]=C[4]^C[1]>>>16^C[7]<<16,N[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)N[S]=16711935&(N[S]<<8|N[S]>>>24)|4278255360&(N[S]<<24|N[S]>>>8),E[D+S]^=N[S]},blockSize:4,ivSize:2});function P(){for(var E=this._X,D=this._C,C=0;C<8;C++)W[C]=D[C];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<W[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<W[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<W[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<W[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<W[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<W[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<W[6]>>>0?1:0)|0,this._b=D[7]>>>0<W[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+D[C],A=65535&S,F=S>>>16;v[C]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,E[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,E[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,E[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,E[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,E[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,E[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,E[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}I.RabbitLegacy=U._createHelper(w)}(),M.RabbitLegacy)},969:function(ye,xe,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,U=I.lib.StreamCipher,N=[],W=[],v=[],w=I.algo.Rabbit=U.extend({_doReset:function(){for(var E=this._key.words,D=this.cfg.iv,C=0;C<4;C++)E[C]=16711935&(E[C]<<8|E[C]>>>24)|4278255360&(E[C]<<24|E[C]>>>8);var S=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,C=0;C<4;C++)P.call(this);for(C=0;C<8;C++)A[C]^=S[C+4&7];if(D){var F=D.words,k=F[0],m=F[1],x=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=x>>>16|4294901760&L,H=L<<16|65535&x;for(A[0]^=x,A[1]^=O,A[2]^=L,A[3]^=H,A[4]^=x,A[5]^=O,A[6]^=L,A[7]^=H,C=0;C<4;C++)P.call(this)}},_doProcessBlock:function(E,D){var C=this._X;P.call(this),N[0]=C[0]^C[5]>>>16^C[3]<<16,N[1]=C[2]^C[7]>>>16^C[5]<<16,N[2]=C[4]^C[1]>>>16^C[7]<<16,N[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)N[S]=16711935&(N[S]<<8|N[S]>>>24)|4278255360&(N[S]<<24|N[S]>>>8),E[D+S]^=N[S]},blockSize:4,ivSize:2});function P(){for(var E=this._X,D=this._C,C=0;C<8;C++)W[C]=D[C];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<W[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<W[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<W[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<W[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<W[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<W[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<W[6]>>>0?1:0)|0,this._b=D[7]>>>0<W[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+D[C],A=65535&S,F=S>>>16;v[C]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,E[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,E[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,E[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,E[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,E[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,E[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,E[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}I.Rabbit=U._createHelper(w)}(),M.Rabbit)},195:function(ye,xe,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,U=I.lib.StreamCipher,J=I.algo,N=J.RC4=U.extend({_doReset:function(){for(var w=this._key,P=w.words,E=w.sigBytes,D=this._S=[],C=0;C<256;C++)D[C]=C;C=0;for(var S=0;C<256;C++){var A=C%E,k=D[C];D[C]=D[S=(S+D[C]+(P[A>>>2]>>>24-A%4*8&255))%256],D[S]=k}this._i=this._j=0},_doProcessBlock:function(w,P){w[P]^=W.call(this)},keySize:8,ivSize:0});function W(){for(var w=this._S,P=this._i,E=this._j,D=0,C=0;C<4;C++){var S=w[P=(P+1)%256];w[P]=w[E=(E+w[P])%256],w[E]=S,D|=w[(w[P]+w[E])%256]<<24-8*C}return this._i=P,this._j=E,D}I.RC4=U._createHelper(N);var v=J.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)W.call(this)}});I.RC4Drop=U._createHelper(v)}(),M.RC4)},558:function(ye,xe,V){var M;ye.exports=(M=V(12),function(I){var G=M,U=G.lib,J=U.WordArray,N=U.Hasher,W=G.algo,v=J.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=J.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),P=J.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=J.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=J.create([0,1518500249,1859775393,2400959708,2840853838]),C=J.create([1352829926,1548603684,1836072691,2053994217,0]),S=W.RIPEMD160=N.extend({_doReset:function(){this._hash=J.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,H){for(var $=0;$<16;$++){var de=H+$,le=O[de];O[de]=16711935&(le<<8|le>>>24)|4278255360&(le<<24|le>>>8)}var fe,qe,et,Z,ae,ne,oe,St,Fe,tt,Je,pe=this._hash.words,we=D.words,X=C.words,ue=v.words,ve=w.words,ce=P.words,Ne=E.words;for(ne=fe=pe[0],oe=qe=pe[1],St=et=pe[2],Fe=Z=pe[3],tt=ae=pe[4],$=0;$<80;$+=1)Je=fe+O[H+ue[$]]|0,Je+=$<16?A(qe,et,Z)+we[0]:$<32?F(qe,et,Z)+we[1]:$<48?k(qe,et,Z)+we[2]:$<64?m(qe,et,Z)+we[3]:x(qe,et,Z)+we[4],Je=(Je=L(Je|=0,ce[$]))+ae|0,fe=ae,ae=Z,Z=L(et,10),et=qe,qe=Je,Je=ne+O[H+ve[$]]|0,Je+=$<16?x(oe,St,Fe)+X[0]:$<32?m(oe,St,Fe)+X[1]:$<48?k(oe,St,Fe)+X[2]:$<64?F(oe,St,Fe)+X[3]:A(oe,St,Fe)+X[4],Je=(Je=L(Je|=0,Ne[$]))+tt|0,ne=tt,tt=Fe,Fe=L(St,10),St=oe,oe=Je;Je=pe[1]+et+Fe|0,pe[1]=pe[2]+Z+tt|0,pe[2]=pe[3]+ae+ne|0,pe[3]=pe[4]+fe+oe|0,pe[4]=pe[0]+qe+St|0,pe[0]=Je},_doFinalize:function(){var O=this._data,H=O.words,$=8*this._nDataBytes,de=8*O.sigBytes;H[de>>>5]|=128<<24-de%32,H[14+(de+64>>>9<<4)]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),O.sigBytes=4*(H.length+1),this._process();for(var le=this._hash,pe=le.words,we=0;we<5;we++){var X=pe[we];pe[we]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return le},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,H,$){return O^H^$}function F(O,H,$){return O&H|~O&$}function k(O,H,$){return(O|~H)^$}function m(O,H,$){return O&$|H&~$}function x(O,H,$){return O^(H|~$)}function L(O,H){return O<<H|O>>>32-H}G.RIPEMD160=N._createHelper(S),G.HmacRIPEMD160=N._createHmacHelper(S)}(Math),M.RIPEMD160)},446:function(ye,xe,V){var I,G,U,J,W,v,M;ye.exports=(M=V(12),U=(G=(I=M).lib).WordArray,W=[],v=I.algo.SHA1=(J=G.Hasher).extend({_doReset:function(){this._hash=new U.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,P){for(var E=this._hash.words,D=E[0],C=E[1],S=E[2],A=E[3],F=E[4],k=0;k<80;k++){if(k<16)W[k]=0|w[P+k];else{var m=W[k-3]^W[k-8]^W[k-14]^W[k-16];W[k]=m<<1|m>>>31}var x=(D<<5|D>>>27)+F+W[k];x+=k<20?1518500249+(C&S|~C&A):k<40?1859775393+(C^S^A):k<60?(C&S|C&A|S&A)-1894007588:(C^S^A)-899497514,F=A,A=S,S=C<<30|C>>>2,C=D,D=x}E[0]=E[0]+D|0,E[1]=E[1]+C|0,E[2]=E[2]+S|0,E[3]=E[3]+A|0,E[4]=E[4]+F|0},_doFinalize:function(){var w=this._data,P=w.words,E=8*this._nDataBytes,D=8*w.sigBytes;return P[D>>>5]|=128<<24-D%32,P[14+(D+64>>>9<<4)]=Math.floor(E/4294967296),P[15+(D+64>>>9<<4)]=E,w.sigBytes=4*P.length,this._process(),this._hash},clone:function(){var w=J.clone.call(this);return w._hash=this._hash.clone(),w}}),I.SHA1=J._createHelper(v),I.HmacSHA1=J._createHmacHelper(v),M.SHA1)},811:function(ye,xe,V){var I,U,J,N,W,M;ye.exports=(M=V(12),V(78),U=(I=M).lib.WordArray,W=(J=I.algo).SHA224=(N=J.SHA256).extend({_doReset:function(){this._hash=new U.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var v=N._doFinalize.call(this);return v.sigBytes-=4,v}}),I.SHA224=N._createHelper(W),I.HmacSHA224=N._createHmacHelper(W),M.SHA224)},78:function(ye,xe,V){var M;ye.exports=(M=V(12),function(I){var G=M,U=G.lib,J=U.WordArray,N=U.Hasher,W=G.algo,v=[],w=[];!function(){function D(F){for(var k=I.sqrt(F),m=2;m<=k;m++)if(!(F%m))return!1;return!0}function C(F){return 4294967296*(F-(0|F))|0}for(var S=2,A=0;A<64;)D(S)&&(A<8&&(v[A]=C(I.pow(S,.5))),w[A]=C(I.pow(S,1/3)),A++),S++}();var P=[],E=W.SHA256=N.extend({_doReset:function(){this._hash=new J.init(v.slice(0))},_doProcessBlock:function(D,C){for(var S=this._hash.words,A=S[0],F=S[1],k=S[2],m=S[3],x=S[4],L=S[5],O=S[6],H=S[7],$=0;$<64;$++){if($<16)P[$]=0|D[C+$];else{var de=P[$-15],pe=P[$-2];P[$]=((de<<25|de>>>7)^(de<<14|de>>>18)^de>>>3)+P[$-7]+((pe<<15|pe>>>17)^(pe<<13|pe>>>19)^pe>>>10)+P[$-16]}var ue=A&F^A&k^F&k,Ne=H+((x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25))+(x&L^~x&O)+w[$]+P[$];H=O,O=L,L=x,x=m+Ne|0,m=k,k=F,F=A,A=Ne+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ue)|0}S[0]=S[0]+A|0,S[1]=S[1]+F|0,S[2]=S[2]+k|0,S[3]=S[3]+m|0,S[4]=S[4]+x|0,S[5]=S[5]+L|0,S[6]=S[6]+O|0,S[7]=S[7]+H|0},_doFinalize:function(){var D=this._data,C=D.words,S=8*this._nDataBytes,A=8*D.sigBytes;return C[A>>>5]|=128<<24-A%32,C[14+(A+64>>>9<<4)]=I.floor(S/4294967296),C[15+(A+64>>>9<<4)]=S,D.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var D=N.clone.call(this);return D._hash=this._hash.clone(),D}});G.SHA256=N._createHelper(E),G.HmacSHA256=N._createHmacHelper(E)}(Math),M.SHA256)},545:function(ye,xe,V){var M;ye.exports=(M=V(12),V(802),function(I){var G=M,U=G.lib,J=U.WordArray,N=U.Hasher,v=G.x64.Word,w=G.algo,P=[],E=[],D=[];!function(){for(var A=1,F=0,k=0;k<24;k++){P[A+5*F]=(k+1)*(k+2)/2%64;var x=(2*A+3*F)%5;A=F%5,F=x}for(A=0;A<5;A++)for(F=0;F<5;F++)E[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var H=0,$=0,de=0;de<7;de++){if(1&L){var le=(1<<de)-1;le<32?$^=1<<le:H^=1<<le-32}128&L?L=L<<1^113:L<<=1}D[O]=v.create(H,$)}}();var C=[];!function(){for(var A=0;A<25;A++)C[A]=v.create()}();var S=w.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new v.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,m=this.blockSize/2,x=0;x<m;x++){var L=A[F+2*x],O=A[F+2*x+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(H=k[x]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),H.low^=L}for(var $=0;$<24;$++){for(var de=0;de<5;de++){for(var le=0,pe=0,we=0;we<5;we++)le^=(H=k[de+5*we]).high,pe^=H.low;var X=C[de];X.high=le,X.low=pe}for(de=0;de<5;de++){var ue=C[(de+4)%5],ve=C[(de+1)%5],ce=ve.high,Ne=ve.low;for(le=ue.high^(ce<<1|Ne>>>31),pe=ue.low^(Ne<<1|ce>>>31),we=0;we<5;we++)(H=k[de+5*we]).high^=le,H.low^=pe}for(var fe=1;fe<25;fe++){var qe=(H=k[fe]).high,et=H.low,Z=P[fe];Z<32?(le=qe<<Z|et>>>32-Z,pe=et<<Z|qe>>>32-Z):(le=et<<Z-32|qe>>>64-Z,pe=qe<<Z-32|et>>>64-Z);var ae=C[E[fe]];ae.high=le,ae.low=pe}var ne=C[0],oe=k[0];for(ne.high=oe.high,ne.low=oe.low,de=0;de<5;de++)for(we=0;we<5;we++){var St=C[fe=de+5*we],Fe=C[(de+1)%5+5*we],tt=C[(de+2)%5+5*we];(H=k[fe]).high=St.high^~Fe.high&tt.high,H.low=St.low^~Fe.low&tt.low}var H,Je=D[$];(H=k[0]).high^=Je.high,H.low^=Je.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,x=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(I.ceil((m+1)/x)*x>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,H=O/8,$=[],de=0;de<H;de++){var le=L[de],pe=le.high,we=le.low;pe=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),$.push(we=16711935&(we<<8|we>>>24)|4278255360&(we<<24|we>>>8)),$.push(pe)}return new J.init($,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});G.SHA3=N._createHelper(S),G.HmacSHA3=N._createHmacHelper(S)}(Math),M.SHA3)},913:function(ye,xe,V){var I,G,U,J,N,W,v,M;ye.exports=(M=V(12),V(802),V(870),U=(G=(I=M).x64).Word,J=G.WordArray,v=(N=I.algo).SHA384=(W=N.SHA512).extend({_doReset:function(){this._hash=new J.init([new U.init(3418070365,3238371032),new U.init(1654270250,914150663),new U.init(2438529370,812702999),new U.init(355462360,4144912697),new U.init(1731405415,4290775857),new U.init(2394180231,1750603025),new U.init(3675008525,1694076839),new U.init(1203062813,3204075428)])},_doFinalize:function(){var w=W._doFinalize.call(this);return w.sigBytes-=16,w}}),I.SHA384=W._createHelper(v),I.HmacSHA384=W._createHmacHelper(v),M.SHA384)},870:function(ye,xe,V){var M;ye.exports=(M=V(12),V(802),function(){var I=M,U=I.lib.Hasher,J=I.x64,N=J.Word,W=J.WordArray,v=I.algo;function w(){return N.create.apply(N,arguments)}var P=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],E=[];!function(){for(var C=0;C<80;C++)E[C]=w()}();var D=v.SHA512=U.extend({_doReset:function(){this._hash=new W.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(C,S){for(var A=this._hash.words,F=A[0],k=A[1],m=A[2],x=A[3],L=A[4],O=A[5],H=A[6],$=A[7],de=F.high,le=F.low,pe=k.high,we=k.low,X=m.high,ue=m.low,ve=x.high,ce=x.low,Ne=L.high,fe=L.low,qe=O.high,et=O.low,Z=H.high,ae=H.low,ne=$.high,oe=$.low,St=de,Fe=le,tt=pe,Je=we,Ye=X,Ji=ue,id=ve,ks=ce,rr=Ne,un=fe,di=qe,Mc=et,sd=Z,Pc=ae,Bp=ne,ya=oe,Pr=0;Pr<80;Pr++){var Rr,fi,Rc=E[Pr];if(Pr<16)fi=Rc.high=0|C[S+2*Pr],Rr=Rc.low=0|C[S+2*Pr+1];else{var kc=E[Pr-15],Ns=kc.high,Ea=kc.low,Hp=(Ea>>>1|Ns<<31)^(Ea>>>8|Ns<<24)^(Ea>>>7|Ns<<25),Si=E[Pr-2],Os=Si.high,Ca=Si.low,Up=(Ca>>>19|Os<<13)^(Ca<<3|Os>>>29)^(Ca>>>6|Os<<26),jp=E[Pr-7],$p=E[Pr-16],Gp=$p.low;Rc.high=fi=(fi=(fi=((Ns>>>1|Ea<<31)^(Ns>>>8|Ea<<24)^Ns>>>7)+jp.high+((Rr=Hp+jp.low)>>>0<Hp>>>0?1:0))+((Os>>>19|Ca<<13)^(Os<<3|Ca>>>29)^Os>>>6)+((Rr+=Up)>>>0<Up>>>0?1:0))+$p.high+((Rr+=Gp)>>>0<Gp>>>0?1:0),Rc.low=Rr}var ir,i_=rr&di^~rr&sd,qp=un&Mc^~un&Pc,s_=St&tt^St&Ye^tt&Ye,od=(Fe>>>28|St<<4)^(Fe<<30|St>>>2)^(Fe<<25|St>>>7),ad=P[Pr],cd=ad.low,Mi=Bp+((rr>>>14|un<<18)^(rr>>>18|un<<14)^(rr<<23|un>>>9))+((ir=ya+((un>>>14|rr<<18)^(un>>>18|rr<<14)^(un<<23|rr>>>9)))>>>0<ya>>>0?1:0),ld=od+(Fe&Je^Fe&Ji^Je&Ji);Bp=sd,ya=Pc,sd=di,Pc=Mc,di=rr,Mc=un,rr=id+(Mi=(Mi=(Mi=Mi+i_+((ir+=qp)>>>0<qp>>>0?1:0))+ad.high+((ir+=cd)>>>0<cd>>>0?1:0))+fi+((ir+=Rr)>>>0<Rr>>>0?1:0))+((un=ks+ir|0)>>>0<ks>>>0?1:0)|0,id=Ye,ks=Ji,Ye=tt,Ji=Je,tt=St,Je=Fe,St=Mi+(((St>>>28|Fe<<4)^(St<<30|Fe>>>2)^(St<<25|Fe>>>7))+s_+(ld>>>0<od>>>0?1:0))+((Fe=ir+ld|0)>>>0<ir>>>0?1:0)|0}le=F.low=le+Fe,F.high=de+St+(le>>>0<Fe>>>0?1:0),we=k.low=we+Je,k.high=pe+tt+(we>>>0<Je>>>0?1:0),ue=m.low=ue+Ji,m.high=X+Ye+(ue>>>0<Ji>>>0?1:0),ce=x.low=ce+ks,x.high=ve+id+(ce>>>0<ks>>>0?1:0),fe=L.low=fe+un,L.high=Ne+rr+(fe>>>0<un>>>0?1:0),et=O.low=et+Mc,O.high=qe+di+(et>>>0<Mc>>>0?1:0),ae=H.low=ae+Pc,H.high=Z+sd+(ae>>>0<Pc>>>0?1:0),oe=$.low=oe+ya,$.high=ne+Bp+(oe>>>0<ya>>>0?1:0)},_doFinalize:function(){var C=this._data,S=C.words,A=8*this._nDataBytes,F=8*C.sigBytes;return S[F>>>5]|=128<<24-F%32,S[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),S[31+(F+128>>>10<<5)]=A,C.sigBytes=4*S.length,this._process(),this._hash.toX32()},clone:function(){var C=U.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:32});I.SHA512=U._createHelper(D),I.HmacSHA512=U._createHmacHelper(D)}(),M.SHA512)},769:function(ye,xe,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,G=I.lib,U=G.WordArray,J=G.BlockCipher,N=I.algo,W=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=N.DES=J.extend({_doReset:function(){for(var k=this._key.words,m=[],x=0;x<56;x++){var L=W[x]-1;m[x]=k[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],H=0;H<16;H++){var $=O[H]=[],de=w[H];for(x=0;x<24;x++)$[x/6|0]|=m[(v[x]-1+de)%28]<<31-x%6,$[4+(x/6|0)]|=m[28+(v[x+24]-1+de)%28]<<31-x%6;for($[0]=$[0]<<1|$[0]>>>31,x=1;x<7;x++)$[x]=$[x]>>>4*(x-1)+3;$[7]=$[7]<<5|$[7]>>>27}var le=this._invSubKeys=[];for(x=0;x<16;x++)le[x]=O[15-x]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,m){this._lBlock=F[k],this._rBlock=F[k+1],C.call(this,4,252645135),C.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),C.call(this,1,1431655765);for(var x=0;x<16;x++){for(var L=m[x],O=this._lBlock,H=this._rBlock,$=0,de=0;de<8;de++)$|=P[de][((H^L[de])&E[de])>>>0];this._lBlock=H,this._rBlock=O^$}var le=this._lBlock;this._lBlock=this._rBlock,this._rBlock=le,C.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function C(F,k){var m=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=m,this._lBlock^=m<<F}function S(F,k){var m=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=m,this._rBlock^=m<<F}I.DES=J._createHelper(D);var A=N.TripleDES=J.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=k.slice(0,2),x=k.length<4?k.slice(0,2):k.slice(2,4),L=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=D.createEncryptor(U.create(m)),this._des2=D.createEncryptor(U.create(x)),this._des3=D.createEncryptor(U.create(L))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});I.TripleDES=J._createHelper(A)}(),M.TripleDES)},802:function(ye,xe,V){var U,J,N,W,M;ye.exports=(M=V(12),J=(U=M.lib).Base,N=U.WordArray,(W=M.x64={}).Word=J.extend({init:function(P,E){this.high=P,this.low=E}}),W.WordArray=J.extend({init:function(P,E){P=this.words=P||[],this.sigBytes=null!=E?E:8*P.length},toX32:function(){for(var P=this.words,E=P.length,D=[],C=0;C<E;C++){var S=P[C];D.push(S.high),D.push(S.low)}return N.create(D,this.sigBytes)},clone:function(){for(var P=J.clone.call(this),E=P.words=this.words.slice(0),D=E.length,C=0;C<D;C++)E[C]=E[C].clone();return P}}),M)},480:()=>{}},ye=>{ye(ye.s=124)}]);