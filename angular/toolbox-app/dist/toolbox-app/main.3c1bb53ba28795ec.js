(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{242:(ve,xe,V)=>{"use strict";function R(t){return"function"==typeof t}function b(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const $=b(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Y{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(s){e=s instanceof $?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_(s)}catch(o){e=e??[],o instanceof $?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof Y){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&U(n,e)}remove(e){const{_finalizers:n}=this;n&&U(n,e),e instanceof Y&&e._removeParent(this)}}Y.EMPTY=(()=>{const t=new Y;return t.closed=!0,t})();const N=Y.EMPTY;function q(t){return t instanceof Y||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function _(t){R(t)?t():t.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(t,e,...n){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=P;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function y(t){P.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw t;e(t)})}function T(){}const x=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function m(t){if(w.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class L extends Y{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,q(e)&&e.add(this)):this.destination=K}static create(e,n,r){return new le(e,n,r)}next(e){this.isStopped?be(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?be(function D(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?be(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function z(t,e){return O.call(t,e)}class j{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oe(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oe(r)}else oe(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oe(n)}}}class le extends L{constructor(e,n,r){let i;if(super(),R(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&z(e.next,s),error:e.error&&z(e.error,s),complete:e.complete&&z(e.complete,s)}):i=e}this.destination=new j(i)}}function oe(t){w.useDeprecatedSynchronousErrorHandling?function C(t){w.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):y(t)}function be(t,e){const{onStoppedNotification:n}=w;n&&P.setTimeout(()=>n(t,e))}const K={closed:!0,next:T,error:function fe(t){throw t},complete:T},ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function me(t){return t}function Ne(t){return 0===t.length?me:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Q(t){return t&&t instanceof L||function Ze(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}(t)&&q(t)}(n)?n:new le(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=We(r))((i,s)=>{const o=new le({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ce](){return this}pipe(...n){return Ne(n)(this)}toPromise(n){return new(n=We(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function We(t){var e;return null!==(e=t??w.Promise)&&void 0!==e?e:Promise}const ie=b(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new re(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ie}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new Y(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return t.create=(e,n)=>new re(e,n),t})();class re extends Z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function Tt(t){return R(t?.lift)}function Ve(t){return e=>{if(Tt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(t,e,n,r,i){return new Je(t,e,n,r,i)}class Je extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ye(t,e){return Ve((n,r)=>{let i=0;n.subscribe(et(r,s=>{r.next(t.call(e,s,i++))}))})}function tr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function _n(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Ti(t,e){return function(n,r){e(n,r,t)}}function Di(t){return this instanceof Di?(this.v=t,this):new Di(t)}function G0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Nc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const X0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function od(t){return R(t?.then)}function J0(t){return R(t[ce])}function Z0(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function ad(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cd=function r_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nr(t){return R(t?.[cd])}function Si(t){return function Fs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Di?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Di(n.read());if(i)return yield Di(void 0);yield yield Di(r)}}finally{n.releaseLock()}})}function ld(t){return R(t?.getReader)}function rr(t){if(t instanceof de)return t;if(null!=t){if(J0(t))return function QU(t){return new de(e=>{const n=t[ce]();if(R(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(X0(t))return function XU(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(od(t))return function JU(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,y)})}(t);if(Z0(t))return mw(t);if(nr(t))return function ZU(t){return new de(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ld(t))return function ej(t){return mw(Si(t))}(t)}throw ad(t)}function mw(t){return new de(e=>{(function tj(t,e){var n,r,i,s;return function Pr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=G0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Vs(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Hn(t,e,n=1/0){return R(e)?Hn((r,i)=>Ye((s,o)=>e(r,s,i,o))(rr(t(r,i))),n):("number"==typeof e&&(n=e),Ve((r,i)=>function nj(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let E=!1;rr(n(g,u++)).subscribe(et(e,S=>{i?.(S),s?h(S):e.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const S=c.shift();o?Vs(e,o,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(et(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function ep(t=1/0){return Hn(me,t)}const Qi=new de(t=>t.complete());function i_(t){return t[t.length-1]}function _w(t){return R(i_(t))?t.pop():void 0}function ud(t){return function ij(t){return t&&R(t.schedule)}(i_(t))?t.pop():void 0}function tp(t,e=0){return Ve((n,r)=>{n.subscribe(et(r,i=>Vs(r,t,()=>r.next(i),e),()=>Vs(r,t,()=>r.complete(),e),i=>Vs(r,t,()=>r.error(i),e)))})}function np(t,e=0){return Ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vw(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{Vs(n,e,()=>{const r=t[Symbol.asyncIterator]();Vs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zn(t,e){return e?function dj(t,e){if(null!=t){if(J0(t))return function oj(t,e){return rr(t).pipe(np(e),tp(e))}(t,e);if(X0(t))return function cj(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(od(t))return function aj(t,e){return rr(t).pipe(np(e),tp(e))}(t,e);if(Z0(t))return vw(t,e);if(nr(t))return function lj(t,e){return new de(n=>{let r;return Vs(n,e,()=>{r=t[cd](),Vs(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}(t,e);if(ld(t))return function uj(t,e){return vw(Si(t),e)}(t,e)}throw ad(t)}(t,e):rr(t)}class ci extends Z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Le(...t){return zn(t,ud(t))}function yw(t={}){const{connector:e=(()=>new Z),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Ve((g,E)=>{l++,!d&&!u&&f();const S=c=c??e();E.add(()=>{l--,0===l&&!d&&!u&&(a=s_(p,i))}),S.subscribe(E),!o&&l>0&&(o=new le({next:I=>S.next(I),error:I=>{d=!0,f(),a=s_(h,n,I),S.error(I)},complete:()=>{u=!0,f(),a=s_(h,r),S.complete()}}),rr(g).subscribe(o))})(s)}}function s_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new le({next:()=>{r.unsubscribe(),t()}});return rr(e(...n)).subscribe(r)}function li(t,e){return Ve((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(et(r,c=>{i?.unsubscribe();let l=0;const u=s++;rr(t(c,u)).subscribe(i=et(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ew(t,e=me){return t=t??hj,Ve((n,r)=>{let i,s=!0;n.subscribe(et(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function hj(t,e){return t===e}function vt(t){for(let e in t)if(t[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function rp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function bn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(bn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function o_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const pj=vt({__forward_ref__:vt});function Rt(t){return t.__forward_ref__=Rt,t.toString=function(){return bn(this())},t}function ze(t){return a_(t)?t():t}function a_(t){return"function"==typeof t&&t.hasOwnProperty(pj)&&t.__forward_ref__===Rt}function c_(t){return t&&!!t.\u0275providers}const xw="https://g.co/ng/security#xss";class ee extends Error{constructor(e,n){super(function ip(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function l_(t,e){throw new ee(-201,!1)}function ui(t,e){null==t&&function Be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function sp(t){return Cw(t,ap)||Cw(t,Iw)}function Cw(t,e){return t.hasOwnProperty(e)?t[e]:null}function op(t){return t&&(t.hasOwnProperty(u_)||t.hasOwnProperty(Cj))?t[u_]:null}const ap=vt({\u0275prov:vt}),u_=vt({\u0275inj:vt}),Iw=vt({ngInjectableDef:vt}),Cj=vt({ngInjectorDef:vt});var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(st||{});let d_;function kr(t){const e=d_;return d_=t,e}function ww(t,e,n){const r=sp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&st.Optional?null:void 0!==e?e:void l_(bn(t))}const Pt=globalThis;class ye{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const dd={},m_="__NG_DI_FLAG__",cp="ngTempTokenPath",wj=/\n/gm,Tw="__source";let Oc;function yo(t){const e=Oc;return Oc=t,e}function Dj(t,e=st.Default){if(void 0===Oc)throw new ee(-203,!1);return null===Oc?ww(t,void 0,e):Oc.get(t,e&st.Optional?null:void 0,e)}function Se(t,e=st.Default){return(function bw(){return d_}()||Dj)(ze(t),e)}function W(t,e=st.Default){return Se(t,lp(e))}function lp(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function __(t){const e=[];for(let n=0;n<t.length;n++){const r=ze(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let i,s=st.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Sj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Se(i,s))}else e.push(Se(r))}return e}function fd(t,e){return t[m_]=e,t.prototype[m_]=e,t}function Sj(t){return t[m_]}function Ls(t){return{toString:t}.toString()}var up=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(up||{}),Ri=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ri||{});const Xi={},ft=[],dp=vt({\u0275cmp:vt}),v_=vt({\u0275dir:vt}),y_=vt({\u0275pipe:vt}),Sw=vt({\u0275mod:vt}),Bs=vt({\u0275fac:vt}),hd=vt({__NG_ELEMENT_ID__:vt}),Rw=vt({__NG_ENV_ID__:vt});function Pw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function E_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];kw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Mw(t){return 3===t||4===t||6===t}function kw(t){return 64===t.charCodeAt(0)}function pd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Nw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Nw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Ow="ng-template";function Mj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Pw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Fw(t){return 4===t.type&&t.value!==Ow}function kj(t,e,n){return e===(4!==t.type||n?t.value:Ow)}function Nj(t,e,n){let r=4;const i=t.attrs||[],s=function Vj(t){for(let e=0;e<t.length;e++)if(Mw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!kj(t,c,n)||""===c&&1===e.length){if(Pi(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Mj(t.attrs,l,n)){if(Pi(r))return!1;o=!0}continue}const d=Oj(8&r?"class":c,i,Fw(t),n);if(-1===d){if(Pi(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Pw(h,l,0)||2&r&&l!==f){if(Pi(r))return!1;o=!0}}}}else{if(!o&&!Pi(r)&&!Pi(c))return!1;if(o&&Pi(c))continue;o=!1,r=c|1&r}}return Pi(r)||o}function Pi(t){return 0==(1&t)}function Oj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Lj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Vw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Nj(t,e[r],n))return!0;return!1}function Bj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Lw(t,e){return t?":not("+e.trim()+")":e}function Hj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Pi(o)&&(e+=Lw(s,i),i=""),r=o,s=s||!Pi(r);n++}return""!==i&&(e+=Lw(s,i)),e}function ir(t){return Ls(()=>{const e=Hw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===up.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ri.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""};zw(n);const r=t.dependencies;return n.directiveDefs=fp(r,!1),n.pipeDefs=fp(r,!0),n.id=function Kj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function $j(t){return at(t)||jn(t)}function Gj(t){return null!==t}function Mt(t){return Ls(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bw(t,e){if(null==t)return Xi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Oe(t){return Ls(()=>{const e=Hw(t);return zw(e),e})}function Un(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[dp]||null}function jn(t){return t[v_]||null}function mr(t){return t[y_]||null}function Wr(t,e){const n=t[Sw]||null;if(!n&&!0===e)throw new Error(`Type ${bn(t)} does not have '\u0275mod' property.`);return n}function Hw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bw(t.inputs,e),outputs:Bw(t.outputs)}}function zw(t){t.features?.forEach(e=>e(t))}function fp(t,e){if(!t)return null;const n=e?mr:$j;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Gj)}const Zt=0,Ie=1,Ke=2,jt=3,Mi=4,gd=5,sr=6,Vc=7,ln=8,Eo=9,Lc=10,$e=11,md=12,Uw=13,Bc=14,un=15,_d=16,Hc=17,Ji=18,vd=19,jw=20,xo=21,Hs=22,yd=23,Ed=24,tt=25,x_=1,$w=2,Zi=7,zc=9,$n=11;function Nr(t){return Array.isArray(t)&&"object"==typeof t[x_]}function _r(t){return Array.isArray(t)&&!0===t[x_]}function C_(t){return 0!=(4&t.flags)}function Ia(t){return t.componentOffset>-1}function pp(t){return 1==(1&t.flags)}function ki(t){return!!t.template}function I_(t){return 0!=(512&t[Ke])}function ba(t,e){return t.hasOwnProperty(Bs)?t[Bs]:null}let Gn=null,gp=!1;function di(t){const e=Gn;return Gn=t,e}const Ww={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Yw(t){if(!Cd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Jw(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Xw(t){t.dirty=!0,function Qw(t){if(void 0===t.liveConsumerNode)return;const e=gp;gp=!0;try{for(const n of t.liveConsumerNode)n.dirty||Xw(n)}finally{gp=e}}(t),t.consumerMarkedDirty?.(t)}function w_(t){return t&&(t.nextProducerIndex=0),di(t)}function A_(t,e){if(di(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Cd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)mp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jw(t){Uc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Yw(n),r!==n.version))return!0}return!1}function Zw(t){if(Uc(t),Cd(t))for(let e=0;e<t.producerNode.length;e++)mp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function mp(t,e){if(function tA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Uc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)mp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Uc(i),i.producerIndexOfThis[r]=e}}function Cd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let nA=null;function sA(t){const e=di(null);try{return t()}finally{di(e)}}const oA=()=>{},a$=(()=>({...Ww,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:oA}))();class c${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function vr(){return aA}function aA(t){return t.type.prototype.ngOnChanges&&(t.setInput=u$),l$}function l$(){const t=lA(this),e=t?.current;if(e){const n=t.previous;if(n===Xi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function u$(t,e,n,r){const i=this.declaredInputs[n],s=lA(t)||function d$(t,e){return t[cA]=e}(t,{previous:Xi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new c$(c&&c.currentValue,e,a===Xi),t[r]=e}vr.ngInherit=!0;const cA="__ngSimpleChanges__";function lA(t){return t[cA]||null}const es=function(t,e,n){};function kt(t){for(;Array.isArray(t);)t=t[Zt];return t}function _p(t,e){return kt(e[t])}function Or(t,e){return kt(e[t.index])}function fA(t,e){return t.data[e]}function jc(t,e){return t[e]}function Kr(t,e){const n=e[t];return Nr(n)?n:n[Zt]}function Io(t,e){return null==e?null:t[e]}function hA(t){t[Hc]=0}function _$(t){1024&t[Ke]||(t[Ke]|=1024,gA(t,1))}function pA(t){1024&t[Ke]&&(t[Ke]&=-1025,gA(t,-1))}function gA(t,e){let n=t[jt];if(null===n)return;n[gd]+=e;let r=n;for(n=n[jt];null!==n&&(1===e&&1===r[gd]||-1===e&&0===r[gd]);)n[gd]+=e,r=n,n=n[jt]}const He={lFrame:AA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vA(){return He.bindingsEnabled}function $c(){return null!==He.skipHydrationRootTNode}function X(){return He.lFrame.lView}function ct(){return He.lFrame.tView}function ts(t){return He.lFrame.contextLView=t,t[ln]}function ns(t){return He.lFrame.contextLView=null,t}function qn(){let t=yA();for(;null!==t&&64===t.type;)t=t.parent;return t}function yA(){return He.lFrame.currentTNode}function rs(t,e){const n=He.lFrame;n.currentTNode=t,n.isParent=e}function P_(){return He.lFrame.isParent}function M_(){He.lFrame.isParent=!1}function yr(){const t=He.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Gc(){return He.lFrame.bindingIndex++}function S$(t,e){const n=He.lFrame;n.bindingIndex=n.bindingRootIndex=t,k_(e)}function k_(t){He.lFrame.currentDirectiveIndex=t}function IA(){return He.lFrame.currentQueryIndex}function O_(t){He.lFrame.currentQueryIndex=t}function P$(t){const e=t[Ie];return 2===e.type?e.declTNode:1===e.type?t[sr]:null}function bA(t,e,n){if(n&st.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&st.Host||(i=P$(s),null===i||(s=s[Bc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=He.lFrame=wA();return r.currentTNode=e,r.lView=t,!0}function F_(t){const e=wA(),n=t[Ie];He.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function wA(){const t=He.lFrame,e=null===t?null:t.child;return null===e?AA(t):e}function AA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function TA(){const t=He.lFrame;return He.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const DA=TA;function V_(){const t=TA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Er(){return He.lFrame.selectedIndex}function wa(t){He.lFrame.selectedIndex=t}function Kt(){const t=He.lFrame;return fA(t.tView,t.selectedIndex)}let RA=!0;function vp(){return RA}function bo(t){RA=t}function yp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Ep(t,e,n){PA(t,e,3,n)}function xp(t,e,n,r){(3&t[Ke])===n&&PA(t,e,n,r)}function L_(t,e){let n=t[Ke];(3&n)===e&&(n&=8191,n+=1,t[Ke]=n)}function PA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Hc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Hc]+=65536),(a<s||-1==s)&&(B$(t,n,e,c),t[Hc]=(4294901760&t[Hc])+c+2),c++}function MA(t,e){es(4,t,e);const n=di(null);try{e.call(t)}finally{di(n),es(5,t,e)}}function B$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ke]>>13<t[Hc]>>16&&(3&t[Ke])===e&&(t[Ke]+=8192,MA(a,s)):MA(a,s)}const qc=-1;class bd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function H_(t){return t!==qc}function wd(t){return 32767&t}function Ad(t,e){let n=function j$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Bc],n--;return r}let z_=!0;function Cp(t){const e=z_;return z_=t,e}const kA=255,NA=5;let $$=0;const is={};function Ip(t,e){const n=OA(t,e);if(-1!==n)return n;const r=e[Ie];r.firstCreatePass&&(t.injectorIndex=e.length,U_(r.data,t),U_(e,null),U_(r.blueprint,null));const i=bp(t,e),s=t.injectorIndex;if(H_(i)){const o=wd(i),a=Ad(i,e),c=a[Ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function U_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function OA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function bp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=UA(i),null===r)return qc;if(n++,i=i[Bc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return qc}function j_(t,e,n){!function G$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(hd)&&(r=n[hd]),null==r&&(r=n[hd]=$$++);const i=r&kA;e.data[t+(i>>NA)]|=1<<i}(t,e,n)}function FA(t,e,n){if(n&st.Optional||void 0!==t)return t;l_()}function VA(t,e,n,r){if(n&st.Optional&&void 0===r&&(r=null),!(n&(st.Self|st.Host))){const i=t[Eo],s=kr(void 0);try{return i?i.get(e,r,n&st.Optional):ww(e,r,n&st.Optional)}finally{kr(s)}}return FA(r,0,n)}function LA(t,e,n,r=st.Default,i){if(null!==t){if(2048&e[Ke]&&!(r&st.Self)){const o=function X$(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Ke]&&!(512&o[Ke]);){const a=BA(s,o,n,r|st.Self,is);if(a!==is)return a;let c=s.parent;if(!c){const l=o[jw];if(l){const u=l.get(n,is,r);if(u!==is)return u}c=UA(o),o=o[Bc]}s=c}return i}(t,e,n,r,is);if(o!==is)return o}const s=BA(t,e,n,r,is);if(s!==is)return s}return VA(e,n,r,i)}function BA(t,e,n,r,i){const s=function K$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(hd)?t[hd]:void 0;return"number"==typeof e?e>=0?e&kA:Q$:e}(n);if("function"==typeof s){if(!bA(e,t,r))return r&st.Host?FA(i,0,r):VA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&st.Optional)return o;l_()}finally{DA()}}else if("number"==typeof s){let o=null,a=OA(t,e),c=qc,l=r&st.Host?e[un][sr]:null;for((-1===a||r&st.SkipSelf)&&(c=-1===a?bp(t,e):e[a+8],c!==qc&&zA(r,!1)?(o=e[Ie],a=wd(c),e=Ad(c,e)):a=-1);-1!==a;){const u=e[Ie];if(HA(s,a,u.data)){const d=W$(a,e,n,o,r,l);if(d!==is)return d}c=e[a+8],c!==qc&&zA(r,e[Ie].data[a+8]===l)&&HA(s,a,e)?(o=u,a=wd(c),e=Ad(c,e)):a=-1}}return i}function W$(t,e,n,r,i,s){const o=e[Ie],a=o.data[t+8],u=wp(a,o,n,null==r?Ia(a)&&z_:r!=o&&0!=(3&a.type),i&st.Host&&s===a);return null!==u?Aa(e,o,u,a):is}function wp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&ki(h)&&h.type===n)return c}return null}function Aa(t,e,n,r){let i=t[n];const s=e.data;if(function H$(t){return t instanceof bd}(i)){const o=i;o.resolving&&function gj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,`Circular dependency in DI detected for ${t}${n}`)}(function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(s[n]));const a=Cp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?kr(o.injectImpl):null;bA(t,r,st.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function L$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=aA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&kr(l),Cp(a),o.resolving=!1,DA()}}return i}function HA(t,e,n){return!!(n[e+(t>>NA)]&1<<t)}function zA(t,e){return!(t&st.Self||t&st.Host&&e)}class xr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return LA(this._tNode,this._lView,e,lp(r),n)}}function Q$(){return new xr(qn(),X())}function Wn(t){return Ls(()=>{const e=t.prototype.constructor,n=e[Bs]||$_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Bs]||$_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function $_(t){return a_(t)?()=>{const e=$_(ze(t));return e&&e()}:ba(t)}function UA(t){const e=t[Ie],n=e.type;return 2===n?e.declTNode:1===n?t[sr]:null}const Kc="__parameters__";function Qc(t,e,n){return Ls(()=>{const r=function G_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Kc)?c[Kc]:Object.defineProperty(c,Kc,{value:[]})[Kc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Jc(t,e){t.forEach(n=>Array.isArray(n)?Jc(n,e):e(n))}function $A(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Sd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Yr(t,e,n){let r=Zc(t,e);return r>=0?t[1|r]=n:(r=~r,function iG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function q_(t,e){const n=Zc(t,e);if(n>=0)return t[1|n]}function Zc(t,e){return function GA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const dn=fd(Qc("Optional"),8),K_=fd(Qc("SkipSelf"),4);function kp(t){return 128==(128&t.flags)}var wo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wo||{});const wG=/^>|^->|<!--|-->|--!>|<!-$/g,AG=/(<|>)/g,TG="\u200b$1\u200b";const J_=new Map;let DG=0;const ev="__ngContext__";function or(t,e){Nr(e)?(t[ev]=e[vd],function RG(t){J_.set(t[vd],t)}(e)):t[ev]=e}let tv;function nv(t,e){return tv(t,e)}function Md(t){const e=t[jt];return _r(e)?e[jt]:e}function d5(t){return h5(t[md])}function f5(t){return h5(t[Mi])}function h5(t){for(;null!==t&&!_r(t);)t=t[Mi];return t}function nl(t,e,n,r,i){if(null!=r){let s,o=!1;_r(r)?s=r:Nr(r)&&(o=!0,r=r[Zt]);const a=kt(r);0===t&&null!==n?null==i?_5(e,n,a):Ta(e,n,a,i||null,!0):1===t&&null!==n?Ta(e,n,a,i||null,!0):2===t?function Hp(t,e,n){const r=Lp(t,e);r&&function YG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function JG(t,e,n,r,i){const s=n[Zi];s!==kt(n)&&nl(e,t,r,s,i);for(let a=$n;a<n.length;a++){const c=n[a];Nd(c[Ie],c,t,e,r,s)}}(e,t,s,n,i)}}function rv(t,e){return t.createComment(function r5(t){return t.replace(wG,e=>e.replace(AG,TG))}(e))}function Fp(t,e,n){return t.createElement(e,n)}function g5(t,e){const n=t[zc],r=n.indexOf(e);pA(e),n.splice(r,1)}function Vp(t,e){if(t.length<=$n)return;const n=$n+e,r=t[n];if(r){const i=r[_d];null!==i&&i!==t&&g5(i,r),e>0&&(t[n-1][Mi]=r[Mi]);const s=Tp(t,$n+e);!function zG(t,e){Nd(t,e,e[$e],2,null,null),e[Zt]=null,e[sr]=null}(r[Ie],r);const o=s[Ji];null!==o&&o.detachView(s[Ie]),r[jt]=null,r[Mi]=null,r[Ke]&=-129}return r}function iv(t,e){if(!(256&e[Ke])){const n=e[$e];e[yd]&&Zw(e[yd]),e[Ed]&&Zw(e[Ed]),n.destroyNode&&Nd(t,e,n,3,null,null),function $G(t){let e=t[md];if(!e)return sv(t[Ie],t);for(;e;){let n=null;if(Nr(e))n=e[md];else{const r=e[$n];r&&(n=r)}if(!n){for(;e&&!e[Mi]&&e!==t;)Nr(e)&&sv(e[Ie],e),e=e[jt];null===e&&(e=t),Nr(e)&&sv(e[Ie],e),n=e&&e[Mi]}e=n}}(e)}}function sv(t,e){if(!(256&e[Ke])){e[Ke]&=-129,e[Ke]|=256,function KG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof bd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];es(4,a,c);try{c.call(a)}finally{es(5,a,c)}}else{es(4,i,s);try{s.call(i)}finally{es(5,i,s)}}}}}(t,e),function WG(t,e){const n=t.cleanup,r=e[Vc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Vc]=null);const i=e[xo];if(null!==i){e[xo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[Ie].type&&e[$e].destroy();const n=e[_d];if(null!==n&&_r(e[jt])){n!==e[jt]&&g5(n,e);const r=e[Ji];null!==r&&r.detachView(t)}!function PG(t){J_.delete(t[vd])}(e)}}function ov(t,e,n){return function m5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Zt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ri.None||s===Ri.Emulated)return null}return Or(r,n)}}(t,e.parent,n)}function Ta(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _5(t,e,n){t.appendChild(e,n)}function v5(t,e,n,r,i){null!==r?Ta(t,e,n,r,i):_5(t,e,n)}function Lp(t,e){return t.parentNode(e)}function y5(t,e,n){return x5(t,e,n)}let av,zp,dv,Up,x5=function E5(t,e,n){return 40&t.type?Or(t,n):null};function Bp(t,e,n,r){const i=ov(t,r,e),s=e[$e],a=y5(r.parent||e[sr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)v5(s,i,n[c],a,!1);else v5(s,i,n,a,!1);void 0!==av&&av(s,r,e,n,i)}function kd(t,e){if(null!==e){const n=e.type;if(3&n)return Or(e,t);if(4&n)return cv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return kd(t,r);{const i=t[e.index];return _r(i)?cv(-1,i):kt(i)}}if(32&n)return nv(e,t)()||kt(t[e.index]);{const r=I5(t,e);return null!==r?Array.isArray(r)?r[0]:kd(Md(t[un]),r):kd(t,e.next)}}return null}function I5(t,e){return null!==e?t[un][sr].projection[e.projection]:null}function cv(t,e){const n=$n+t+1;if(n<e.length){const r=e[n],i=r[Ie].firstChild;if(null!==i)return kd(r,i)}return e[Zi]}function lv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&or(kt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)lv(t,e,n.child,r,i,s,!1),nl(e,t,i,a,s);else if(32&c){const l=nv(n,r);let u;for(;u=l();)nl(e,t,i,u,s);nl(e,t,i,a,s)}else 16&c?w5(t,e,r,n,i,s):nl(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Nd(t,e,n,r,i,s){lv(n,r,t.firstChild,e,i,s,!1)}function w5(t,e,n,r,i,s){const o=n[un],c=o[sr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)nl(e,t,i,c[l],s);else{let l=c;const u=o[jt];kp(r)&&(l.flags|=128),lv(t,e,l,u,i,s,!0)}}function A5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function T5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&E_(t,e,r),null!==i&&A5(t,e,i),null!==s&&function eq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function rl(t){return function uv(){if(void 0===zp&&(zp=null,Pt.trustedTypes))try{zp=Pt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zp}()?.createHTML(t)||t}function il(){if(void 0!==dv)return dv;if(typeof document<"u")return document;throw new ee(210,!1)}function D5(t){return function fv(){if(void 0===Up&&(Up=null,Pt.trustedTypes))try{Up=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Up}()?.createHTML(t)||t}class Da{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xw})`}}class sq extends Da{getTypeName(){return"HTML"}}class oq extends Da{getTypeName(){return"Style"}}class aq extends Da{getTypeName(){return"Script"}}class cq extends Da{getTypeName(){return"URL"}}class lq extends Da{getTypeName(){return"ResourceURL"}}function Qr(t){return t instanceof Da?t.changingThisBreaksApplicationSecurity:t}function ss(t,e){const n=function uq(t){return t instanceof Da&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xw})`)}return n===e}class mq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(rl(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class _q{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=rl(e),n}}const yq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jp(t){return(t=String(t)).match(yq)?t:"unsafe:"+t}function js(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Od(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const M5=js("area,br,col,hr,img,wbr"),k5=js("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),N5=js("rp,rt"),hv=Od(M5,Od(k5,js("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Od(N5,js("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Od(N5,k5)),pv=js("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),O5=Od(pv,js("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),js("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Eq=js("script,style,template");class xq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!hv.hasOwnProperty(n))return this.sanitizedSomething=!0,!Eq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!O5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;pv[a]&&(c=jp(c)),this.buf.push(" ",o,'="',F5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();hv.hasOwnProperty(n)&&!M5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(F5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Cq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Iq=/([^\#-~ |!])/g;function F5(t){return t.replace(/&/g,"&amp;").replace(Cq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Iq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $p;function V5(t,e){let n=null;try{$p=$p||function P5(t){const e=new _q(t);return function vq(){try{return!!(new window.DOMParser).parseFromString(rl(""),"text/html")}catch{return!1}}()?new mq(e):e}(t);let r=e?String(e):"";n=$p.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=$p.getInertBodyElement(r)}while(r!==s);return rl((new xq).sanitizeChildren(gv(n)||n))}finally{if(n){const r=gv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function gv(t){return"content"in t&&function bq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hi||{});function L5(t){const e=function Fd(){const t=X();return t&&t[Lc].sanitizer}();return e?D5(e.sanitize(hi.HTML,t)||""):ss(t,"HTML")?D5(Qr(t)):V5(il(),je(t))}const Vd=new ye("ENVIRONMENT_INITIALIZER"),U5=new ye("INJECTOR",-1),j5=new ye("INJECTOR_DEF_TYPES");class mv{get(e,n=dd){if(n===dd){const r=new Error(`NullInjectorError: No provider for ${bn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Rq(...t){return{\u0275providers:$5(0,t),\u0275fromNgModule:!0}}function $5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Jc(e,o=>{const a=o;Gp(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&G5(i,s),n}function G5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];vv(i,s=>{e(s,r)})}}function Gp(t,e,n,r){if(!(t=ze(t)))return!1;let i=null,s=op(t);const o=!s&&at(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=op(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Gp(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Jc(s.imports,u=>{Gp(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&G5(l,e)}if(!a){const l=ba(i)||(()=>new i);e({provide:i,useFactory:l,deps:ft},i),e({provide:j5,useValue:i,multi:!0},i),e({provide:Vd,useValue:()=>Se(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;vv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function vv(t,e){for(let n of t)c_(n)&&(n=n.\u0275providers),Array.isArray(n)?vv(n,e):e(n)}const Pq=vt({provide:String,useValue:vt});function yv(t){return null!==t&&"object"==typeof t&&Pq in t}function Sa(t){return"function"==typeof t}const Ev=new ye("Set Injector scope."),qp={},kq={};let xv;function Wp(){return void 0===xv&&(xv=new mv),xv}class pi{}class sl extends pi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iv(e,o=>this.processProvider(o)),this.records.set(U5,ol(void 0,this)),i.has("environment")&&this.records.set(pi,ol(void 0,this));const s=this.records.get(Ev);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(j5.multi,ft,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=yo(this),r=kr(void 0);try{return e()}finally{yo(n),kr(r)}}get(e,n=dd,r=st.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rw))return e[Rw](this);r=lp(r);const s=yo(this),o=kr(void 0);try{if(!(r&st.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Lq(t){return"function"==typeof t||"object"==typeof t&&t instanceof ye}(e)&&sp(e);c=l&&this.injectableDefInScope(l)?ol(Cv(e),qp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&st.Self?Wp():this.parent).get(e,n=r&st.Optional&&n===dd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[cp]=a[cp]||[]).unshift(bn(e)),s)throw a;return function Rj(t,e,n,r){const i=t[cp];throw e[Tw]&&i.unshift(e[Tw]),t.message=function Pj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=bn(e);if(Array.isArray(e))i=e.map(bn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):bn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[cp]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{kr(o),yo(s)}}resolveInjectorInitializers(){const e=yo(this),n=kr(void 0);try{const i=this.get(Vd.multi,ft,st.Self);for(const s of i)s()}finally{yo(e),kr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(bn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){let n=Sa(e=ze(e))?e:ze(e&&e.provide);const r=function Oq(t){return yv(t)?ol(void 0,t.useValue):ol(K5(t),qp)}(e);if(Sa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ol(void 0,qp,!0),i.factory=()=>__(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===qp&&(n.value=kq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Vq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ze(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Cv(t){const e=sp(t),n=null!==e?e.factory:ba(t);if(null!==n)return n;if(t instanceof ye)throw new ee(204,!1);if(t instanceof Function)return function Nq(t){const e=t.length;if(e>0)throw Sd(e,"?"),new ee(204,!1);const n=function xj(t){return t&&(t[ap]||t[Iw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ee(204,!1)}function K5(t,e,n){let r;if(Sa(t)){const i=ze(t);return ba(i)||Cv(i)}if(yv(t))r=()=>ze(t.useValue);else if(function W5(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...__(t.deps||[]));else if(function q5(t){return!(!t||!t.useExisting)}(t))r=()=>Se(ze(t.useExisting));else{const i=ze(t&&(t.useClass||t.provide));if(!function Fq(t){return!!t.deps}(t))return ba(i)||Cv(i);r=()=>new i(...__(t.deps))}return r}function ol(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Iv(t,e){for(const n of t)Array.isArray(n)?Iv(n,e):n&&c_(n)?Iv(n.\u0275providers,e):e(n)}const Kp=new ye("AppId",{providedIn:"root",factory:()=>Bq}),Bq="ng",Y5=new ye("Platform Initializer"),os=new ye("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Q5=new ye("CSP nonce",{providedIn:"root",factory:()=>il().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let X5=(t,e,n)=>null;function Pv(t,e,n=!1){return X5(t,e,n)}class Yq{}class eT{}class Xq{resolveComponentFactory(e){throw function Qq(t){const e=Error(`No component factory found for ${bn(t)}.`);return e.ngComponent=t,e}(e)}}let Hd=(()=>{class e{}return e.NULL=new Xq,e})();function Jq(){return ll(qn(),X())}function ll(t,e){return new Cr(Or(t,e))}let Cr=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=Jq,e})();function Zq(t){return t instanceof Cr?t.nativeElement:t}class nT{}let as=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function eW(){const t=X(),n=Kr(qn().index,t);return(Nr(n)?n:t)[$e]}(),e})(),tW=(()=>{var t;class e{}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>null}),e})();class ul{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rT=new ul("16.2.12"),Nv={};function aT(t,e=null,n=null,r){const i=cT(t,e,n,r);return i.resolveInjectorInitializers(),i}function cT(t,e=null,n=null,r,i=new Set){const s=[n||ft,Rq(t)];return r=r||("object"==typeof t?void 0:bn(t)),new sl(s,e||Wp(),r||null,i)}let An=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return aT({name:""},i,r,"");{const s=r.name??"";return aT({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=dd,t.NULL=new mv,t.\u0275prov=Ce({token:t,providedIn:"any",factory:()=>Se(U5)}),t.__NG_ELEMENT_ID__=-1,e})();function Fv(t){return t.ngOriginalError}class $s{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fv(e);for(;n&&Fv(n);)n=Fv(n);return n||null}}function Lv(t){return e=>{setTimeout(t,void 0,e)}}const yt=class cW extends Z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Lv(s),i&&(i=Lv(i)),o&&(o=Lv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Y&&e.add(a),a}};function uT(...t){}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function lW(){const t="function"==typeof Pt.requestAnimationFrame;let e=Pt[t?"requestAnimationFrame":"setTimeout"],n=Pt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function fW(t){const e=()=>{!function dW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hv(t),t.isCheckStableRunning=!0,Bv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function pW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return dT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),fT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return dT(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),fT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Hv(t),Bv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,uW,uT,uT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const uW={};function Bv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fT(t){t._nesting--,Bv(t)}class hW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yt,this.onMicrotaskEmpty=new yt,this.onStable=new yt,this.onError=new yt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const hT=new ye("",{providedIn:"root",factory:pT});function pT(){const t=W(dt);let e=!0;return function fj(...t){const e=ud(t),n=function sj(t,e){return"number"==typeof i_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?rr(r[0]):ep(n)(zn(r,e)):Qi}(new de(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new de(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{dt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(yw()))}function Gs(t){return t instanceof Function?t():t}let zv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t}),e})();function zd(t){for(;t;){t[Ke]|=64;const e=Md(t);if(I_(t)&&!e)return t;t=e}return null}const yT=new ye("",{providedIn:"root",factory:()=>!1});let tg=null;function IT(t,e){return t[e]??AT()}function bT(t,e){const n=AT();n.producerNode?.length&&(t[e]=tg,n.lView=t,tg=wT())}const bW={...Ww,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zd(t.lView)},lView:null};function wT(){return Object.create(bW)}function AT(){return tg??=wT(),tg}const qe={};function ke(t){TT(ct(),X(),Er()+t,!1)}function TT(t,e,n,r){if(!r)if(3==(3&e[Ke])){const s=t.preOrderCheckHooks;null!==s&&Ep(e,s,n)}else{const s=t.preOrderHooks;null!==s&&xp(e,s,0,n)}wa(n)}function J(t,e=st.Default){const n=X();return null===n?Se(t,e):LA(qn(),n,ze(t),e)}function ng(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[Zt]=i,d[Ke]=140|r,(null!==l||t&&2048&t[Ke])&&(d[Ke]|=2048),hA(d),d[jt]=d[Bc]=t,d[ln]=n,d[Lc]=o||t&&t[Lc],d[$e]=a||t&&t[$e],d[Eo]=c||t&&t[Eo]||null,d[sr]=s,d[vd]=function SG(){return DG++}(),d[Hs]=u,d[jw]=l,d[un]=2==e.type?t[un]:d,d}function hl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Uv(t,e,n,r,i){const s=yA(),o=P_(),c=t.data[e]=function kW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return $c()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function D$(){return He.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Id(){const t=He.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return rs(s,!0),s}function Ud(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function DT(t,e,n,r,i){const s=IT(e,yd),o=Er(),a=2&r;try{wa(-1),a&&e.length>tt&&TT(t,e,tt,!1),es(a?2:0,i);const l=a?s:null,u=w_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{A_(l,u)}}finally{a&&null===e[yd]&&bT(e,yd),wa(o),es(a?3:1,i)}}function jv(t,e,n){if(C_(e)){const r=di(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{di(r)}}}function $v(t,e,n){vA()&&(function HW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ia(n)&&function WW(t,e,n){const r=Or(e,t),i=ST(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=rg(t,ng(t,i,null,o,r,e,null,t[Lc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ip(n,e),or(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Aa(e,t,a,n);or(l,e),null!==o&&KW(0,a-i,l,c,0,o),ki(c)&&(Kr(n.index,e)[ln]=Aa(e,t,a,n))}}(t,e,n,Or(n,e)),64==(64&n.flags)&&NT(t,e,n))}function Gv(t,e,n=Or){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ST(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qv(t,e,n,r,i,s,o,a,c,l,u){const d=tt+r,f=d+i,h=function TW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:qe);return n}(d,f),p="function"==typeof l?l():l;return h[Ie]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let RT=t=>null;function PT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?MT(n,e,i,s):r.hasOwnProperty(i)&&MT(n,e,r[i],s)}return n}function MT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Xr(t,e,n,r,i,s,o,a){const c=Or(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Xv(t,n,u,r,i),Ia(e)&&function FW(t,e){const n=Kr(e,t);16&n[Ke]||(n[Ke]|=64)}(n,e.index)):3&e.type&&(r=function OW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Wv(t,e,n,r){if(vA()){const i=null===r?null:{"":-1},s=function UW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Vw(e,o.selectors,!1))if(r||(r=[]),ki(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Kv(t,e,a.length)}else r.unshift(o),Kv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&kT(t,e,n,o,i,a),i&&function jW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ee(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=pd(n.mergedAttrs,n.attrs)}function kT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)j_(Ip(n,e),t,r[l].type);!function GW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Ud(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=pd(n.mergedAttrs,u.hostAttrs),qW(t,n,e,c,u),$W(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function NW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=PT(d.inputs,u,c,f?f.inputs:null),l=PT(d.outputs,u,l,p);const g=null===c||null===o||Fw(e)?null:YW(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function NT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function R$(){return He.lFrame.currentDirectiveIndex}();try{wa(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];k_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&zW(c,l)}}finally{wa(-1),k_(o)}}function zW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Kv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $W(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ki(e)&&(n[""]=t)}}function qW(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ba(i.type)),o=new bd(s,ki(i),J);t.blueprint[r]=o,n[r]=o,function LW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function BW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Ud(t,n,i.hostVars,qe),i)}function cs(t,e,n,r,i,s){const o=Or(t,e);!function Yv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?je(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[$e],o,s,t.value,n,r,i)}function KW(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)OT(r,n,o[a++],o[a++],o[a++])}function OT(t,e,n,r,i){const s=di(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{di(s)}}function YW(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function VT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];O_(n[r]),o.contentQueries(2,e[s],s)}}}function rg(t,e){return t[md]?t[Uw][Mi]=e:t[md]=e,t[Uw]=e,e}function Qv(t,e,n){O_(0);const r=di(null);try{e(t,n)}finally{di(r)}}function LT(t){return t[Vc]||(t[Vc]=[])}function BT(t){return t.cleanup||(t.cleanup=[])}function zT(t,e){const n=t[Eo],r=n?n.get($s,null):null;r&&r.handleError(e)}function Xv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];OT(t.data[o],e[o],r,a,i)}}function QW(t,e){const n=Kr(e,t),r=n[Ie];!function XW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Zt];null!==i&&null===n[Hs]&&(n[Hs]=Pv(i,n[Eo])),Jv(r,n,n[ln])}function Jv(t,e,n){F_(e);try{const r=t.viewQuery;null!==r&&Qv(1,r,n);const i=t.template;null!==i&&DT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&VT(t,e),t.staticViewQueries&&Qv(2,t.viewQuery,n);const s=t.components;null!==s&&function JW(t,e){for(let n=0;n<e.length;n++)QW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ke]&=-5,V_()}}let UT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function o$(t,e,n){const r=Object.create(a$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Xw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Jw(r))return;r.hasRun=!0;const o=w_(r);try{r.cleanupFn(),r.cleanupFn=oA,r.fn(i)}finally{A_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t}),e})();function ig(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=o_(i,a):2==s&&(r=o_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function jd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(kt(s)),_r(s)&&jT(s,r);const o=n.type;if(8&o)jd(t,e,n.child,r);else if(32&o){const a=nv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=I5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Md(e[un]);jd(c[Ie],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function jT(t,e){for(let n=$n;n<t.length;n++){const r=t[n],i=r[Ie].firstChild;null!==i&&jd(r[Ie],r,i,e)}t[Zi]!==t[Zt]&&e.push(t[Zi])}function sg(t,e,n,r=!0){const i=e[Lc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{$T(t,e,t.template,n)}catch(c){throw r&&zT(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function $T(t,e,n,r){const i=e[Ke];if(256!=(256&i)){e[Lc].effectManager?.flush(),F_(e);try{hA(e),function xA(t){return He.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&DT(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Ep(e,l,null)}else{const l=t.preOrderHooks;null!==l&&xp(e,l,0,null),L_(e,0)}if(function tK(t){for(let e=d5(t);null!==e;e=f5(e)){if(!e[$w])continue;const n=e[zc];for(let r=0;r<n.length;r++){_$(n[r])}}}(e),GT(e,2),null!==t.contentQueries&&VT(t,e),o){const l=t.contentCheckHooks;null!==l&&Ep(e,l)}else{const l=t.contentHooks;null!==l&&xp(e,l,1),L_(e,1)}!function AW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=IT(e,Ed);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)wa(~s);else{const o=s,a=n[++i],c=n[++i];S$(a,o),r.dirty=!1;const l=w_(r);try{c(2,e[o])}finally{A_(r,l)}}}}finally{null===e[Ed]&&bT(e,Ed),wa(-1)}}(t,e);const a=t.components;null!==a&&WT(e,a,0);const c=t.viewQuery;if(null!==c&&Qv(2,c,r),o){const l=t.viewCheckHooks;null!==l&&Ep(e,l)}else{const l=t.viewHooks;null!==l&&xp(e,l,2),L_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ke]&=-73,pA(e)}finally{V_()}}}function GT(t,e){for(let n=d5(t);null!==n;n=f5(n))for(let r=$n;r<n.length;r++)qT(n[r],e)}function nK(t,e,n){qT(Kr(e,t),n)}function qT(t,e){if(!function g$(t){return 128==(128&t[Ke])}(t))return;const n=t[Ie],r=t[Ke];if(80&r&&0===e||1024&r||2===e)$T(n,t,n.template,t[ln]);else if(t[gd]>0){GT(t,1);const i=n.components;null!==i&&WT(t,i,1)}}function WT(t,e,n){for(let r=0;r<e.length;r++)nK(t,e[r],n)}class $d{get rootNodes(){const e=this._lView,n=e[Ie];return jd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(e){this._lView[ln]=e}get destroyed(){return 256==(256&this._lView[Ke])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[jt];if(_r(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vp(e,r),Tp(n,r))}this._attachedToViewContainer=!1}iv(this._lView[Ie],this._lView)}onDestroy(e){!function mA(t,e){if(256==(256&t[Ke]))throw new ee(911,!1);null===t[xo]&&(t[xo]=[]),t[xo].push(e)}(this._lView,e)}markForCheck(){zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ke]&=-129}reattach(){this._lView[Ke]|=128}detectChanges(){sg(this._lView[Ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jG(t,e){Nd(t,e,e[$e],2,null,null)}(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e}}class rK extends $d{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;sg(e[Ie],e,e[ln],!1)}checkNoChanges(){}get context(){return null}}class KT extends Hd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=at(e);return new Gd(n,this.ngModule)}}function YT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class sK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=lp(r);const i=this.injector.get(e,Nv,r);return i!==Nv||n===Nv?i:this.parentInjector.get(e,n,r)}}class Gd extends eT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=YT(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return YT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function zj(t){return t.map(Hj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof pi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new sK(e,s):e,a=o.get(nT,null);if(null===a)throw new ee(407,!1);const d={rendererFactory:a,sanitizer:o.get(tW,null),effectManager:o.get(UT,null),afterRenderEventManager:o.get(zv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function DW(t,e,n,r){const s=r.get(yT,!1)||n===Ri.ShadowDom,o=t.selectRootElement(e,s);return function SW(t){RT(t)}(o),o}(f,r,this.componentDef.encapsulation,o):Fp(f,h,function iK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let I=null;null!==p&&(I=Pv(p,o,!0));const H=qv(0,null,null,1,0,null,null,null,null,null,null),G=ng(null,H,null,S,null,null,d,f,o,null,I);let ue,De;F_(G);try{const Fe=this.componentDef;let _t,Jt=null;Fe.findHostDirectiveDefs?(_t=[],Jt=new Map,Fe.findHostDirectiveDefs(Fe,_t,Jt),_t.push(Fe)):_t=[Fe];const Ai=function aK(t,e){const n=t[Ie],r=tt;return t[r]=e,hl(n,r,2,"#host",null)}(G,p),Q2=function cK(t,e,n,r,i,s,o){const a=i[Ie];!function lK(t,e,n,r){for(const i of t)e.mergedAttrs=pd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ig(e,e.mergedAttrs,!0),null!==n&&T5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Pv(e,i[Eo]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=ng(i,ST(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Kv(a,t,r.length-1),rg(i,d),i[t.index]=d}(Ai,p,Fe,_t,G,d,f);De=fA(H,tt),p&&function dK(t,e,n,r){if(r)E_(t,n,["ng-version",rT.full]);else{const{attrs:i,classes:s}=function Uj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Pi(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&E_(t,n,i),s&&s.length>0&&A5(t,n,s.join(" "))}}(f,Fe,p,r),void 0!==n&&function fK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(De,this.ngContentSelectors,n),ue=function uK(t,e,n,r,i,s){const o=qn(),a=i[Ie],c=Or(o,i);kT(a,i,o,n,null,r);for(let u=0;u<n.length;u++)or(Aa(i,a,o.directiveStart+u,o),i);NT(a,i,o),c&&or(c,i);const l=Aa(i,a,o.directiveStart+o.componentOffset,o);if(t[ln]=i[ln]=l,null!==s)for(const u of s)u(l,e);return jv(a,o,t),l}(Q2,Fe,_t,Jt,G,[hK]),Jv(H,G,null)}finally{V_()}return new oK(this.componentType,ue,ll(De,G),G,De)}}class oK extends Yq{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new rK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Xv(s[Ie],s,i,e,n),this.previousInputValues.set(e,n),zd(Kr(this._tNode.index,s))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function hK(){const t=qn();yp(X()[Ie],t)}function Et(t){let e=function QT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ki(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=og(t.inputs),o.inputTransforms=og(t.inputTransforms),o.declaredInputs=og(t.declaredInputs),o.outputs=og(t.outputs);const a=i.hostBindings;a&&_K(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&gK(t,c),l&&mK(t,l),rp(t.inputs,i.inputs),rp(t.declaredInputs,i.declaredInputs),rp(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),rp(o.inputTransforms,i.inputTransforms)),ki(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Et&&(n=!1)}}e=Object.getPrototypeOf(e)}!function pK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pd(i.hostAttrs,n=pd(n,i.hostAttrs))}}(r)}function og(t){return t===Xi?{}:t===ft?[]:t}function gK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function mK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function _K(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ag(t){return!!Zv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Zv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ls(t,e,n){return t[e]=n}function ar(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function cg(t,e,n,r,i){const s=function Ra(t,e,n,r){const i=ar(t,e,n);return ar(t,e+1,r)||i}(t,e,n,r);return ar(t,e+2,i)||s}function Ni(t,e,n,r){const i=X();return ar(i,Gc(),e)&&(ct(),cs(Kt(),i,t,e,n,r)),Ni}function gl(t,e,n,r){return ar(t,Gc(),n)?e+je(n)+r:qe}function Jr(t,e,n,r,i,s,o,a){const c=X(),l=ct(),u=t+tt,d=l.firstCreatePass?function UK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=hl(e,t,4,o||null,Io(l,a));Wv(e,n,u,Io(l,c)),yp(e,u);const d=u.tView=qv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];rs(d,!1);const f=hD(l,c,d,t);vp()&&Bp(l,c,f,d),or(f,c),rg(c,c[u]=FT(f,c,f,d)),pp(d)&&$v(l,c,d),null!=o&&Gv(c,d,a)}let hD=function pD(t,e,n,r){return bo(!0),e[$e].createComment("")};function sy(t){return jc(function T$(){return He.lFrame.contextLView}(),tt+t)}function nt(t,e,n){const r=X();return ar(r,Gc(),e)&&Xr(ct(),Kt(),r,t,e,r[$e],n,!1),nt}function oy(t,e,n,r,i){const o=i?"class":"style";Xv(t,n,e.inputs[o],o,r)}function ae(t,e,n,r){const i=X(),s=ct(),o=tt+t,a=i[$e],c=s.firstCreatePass?function qK(t,e,n,r,i,s){const o=e.consts,c=hl(e,t,2,r,Io(o,i));return Wv(e,n,c,Io(o,s)),null!==c.attrs&&ig(c,c.attrs,!1),null!==c.mergedAttrs&&ig(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=gD(s,i,c,a,e,t);i[o]=l;const u=pp(c);return rs(c,!0),T5(a,l,c),32!=(32&c.flags)&&vp()&&Bp(s,i,l,c),0===function y$(){return He.lFrame.elementDepthCount}()&&or(l,i),function E$(){He.lFrame.elementDepthCount++}(),u&&($v(s,i,c),jv(s,c,i)),null!==r&&Gv(i,c),ae}function _e(){let t=qn();P_()?M_():(t=t.parent,rs(t,!1));const e=t;(function C$(t){return He.skipHydrationRootTNode===t})(e)&&function A$(){He.skipHydrationRootTNode=null}(),function x$(){He.lFrame.elementDepthCount--}();const n=ct();return n.firstCreatePass&&(yp(n,t),C_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function z$(t){return 0!=(8&t.flags)}(e)&&oy(n,e,X(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function U$(t){return 0!=(16&t.flags)}(e)&&oy(n,e,X(),e.stylesWithoutHost,!1),_e}function xt(t,e,n,r){return ae(t,e,n,r),_e(),xt}let gD=(t,e,n,r,i,s)=>(bo(!0),Fp(r,i,function SA(){return He.lFrame.currentNamespace}()));function Qd(t,e,n){const r=X(),i=ct(),s=t+tt,o=i.firstCreatePass?function YK(t,e,n,r,i){const s=e.consts,o=Io(s,r),a=hl(e,t,8,"ng-container",o);return null!==o&&ig(a,o,!0),Wv(e,n,a,Io(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];rs(o,!0);const a=_D(i,r,o,t);return r[s]=a,vp()&&Bp(i,r,a,o),or(a,r),pp(o)&&($v(i,r,o),jv(i,o,r)),null!=n&&Gv(r,o),Qd}function Xd(){let t=qn();const e=ct();return P_()?M_():(t=t.parent,rs(t,!1)),e.firstCreatePass&&(yp(e,t),C_(t)&&e.queries.elementEnd(t)),Xd}let _D=(t,e,n,r)=>(bo(!0),rv(e[$e],""));function Jd(){return X()}function Zd(t){return!!t&&"function"==typeof t.then}function vD(t){return!!t&&"function"==typeof t.subscribe}function en(t,e,n,r){const i=X(),s=ct(),o=qn();return function ED(t,e,n,r,i,s,o){const a=pp(r),l=t.firstCreatePass&&BT(t),u=e[ln],d=LT(e);let f=!0;if(3&r.type||o){const g=Or(r,e),E=o?o(g):g,S=d.length,I=o?G=>o(kt(G[r.index])):r.index;let H=null;if(!o&&a&&(H=function JK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Vc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,f=!1;else{s=CD(r,e,u,s,!1);const G=n.listen(E,i,s);d.push(s,G),l&&l.push(i,I,S,S+1)}}else s=CD(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let E=0;E<g;E+=2){const ue=e[p[E]][p[E+1]].subscribe(s),De=d.length;d.push(s,ue),l&&l.push(i,r.index,De,-(De+1))}}}(s,i,i[$e],o,t,e,r),en}function xD(t,e,n,r){try{return es(6,e,n),!1!==n(r)}catch(i){return zT(t,i),!1}finally{es(7,e,n)}}function CD(t,e,n,r,i){return function s(o){if(o===Function)return r;zd(t.componentOffset>-1?Kr(t.index,e):e);let c=xD(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=xD(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Mn(t=1){return function M$(t){return(He.lFrame.contextLView=function k$(t,e){for(;t>0;)e=e[Bc],t--;return e}(t,He.lFrame.contextLView))[ln]}(t)}function ZK(t,e){let n=null;const r=function Fj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Vw(t,s,!0):Bj(r,s))return i}else n=i}return n}function ay(t,e,n){return cy(t,"",e,"",n),ay}function cy(t,e,n,r,i){const s=X(),o=gl(s,e,n,r);return o!==qe&&Xr(ct(),Kt(),s,t,o,s[$e],i,!1),cy}function fg(t,e){return t<<17|e<<2}function Ao(t){return t>>17&32767}function ly(t){return 2|t}function Pa(t){return(131068&t)>>2}function uy(t,e){return-131069&t|e<<2}function dy(t){return 1|t}function kD(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ao(s):Pa(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];sY(t[a],e)&&(c=!0,t[a+1]=r?dy(u):ly(u)),a=r?Ao(u):Pa(u)}c&&(t[n+1]=r?ly(s):dy(s))}function sY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Zc(t,e)>=0}function ef(t,e){return function Oi(t,e,n,r){const i=X(),s=ct(),o=function Us(t){const e=He.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function UD(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Er()],o=function zD(t,e){return e>=t.expandoStartIndex}(t,n);(function qD(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function pY(t,e,n,r){const i=function N_(t){const e=He.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=tf(n=fy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=fy(i,t,e,n,r),null===s){let c=function gY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Pa(r))return t[Ao(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=fy(null,t,e,c[1],r),c=tf(c,e.attrs,r),function mY(t,e,n,r){t[Ao(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function _Y(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=tf(r,t[s].hostAttrs,n);return tf(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function rY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ao(o),c=Pa(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Zc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=Ao(t[a+1]);t[r+1]=fg(f,a),0!==f&&(t[f+1]=uy(t[f+1],r)),t[a+1]=function tY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=fg(a,0),0!==a&&(t[a+1]=uy(t[a+1],r)),a=r;else t[r+1]=fg(c,0),0===a?a=r:t[c+1]=uy(t[c+1],r),c=r;l&&(t[r+1]=ly(t[r+1])),kD(t,u,r,!0),kD(t,u,r,!1),function iY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Zc(s,e)>=0&&(n[r+1]=dy(n[r+1]))}(e,u,t,r,s),o=fg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==qe&&ar(i,o,e)&&function $D(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function nY(t){return 1==(1&t)}(l)?GD(c,e,n,i,Pa(l),o):void 0;hg(u)||(hg(s)||function eY(t){return 2==(2&t)}(l)&&(s=GD(c,null,n,i,a,o)),function ZG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:wo.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wo.Important),t.setStyle(n,r,i,s))}}(r,o,_p(Er(),n),i,s))}(s,s.data[Er()],i,i[$e],t,i[o+1]=function xY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=bn(Qr(t)))),t}(e,n),r,o)}(t,e,null,!0),ef}function fy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=tf(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function tf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yr(t,o,!!n||e[++s]))}return void 0===t?null:t}function GD(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===qe&&(f=d?ft:void 0);let h=d?q_(f,r):u===r?f:void 0;if(l&&!hg(h)&&(h=q_(c,r)),hg(h)&&(a=h,o))return a;const p=t[i+1];i=o?Ao(p):Pa(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=q_(c,r))}return a}function hg(t){return void 0!==t}function we(t,e=""){const n=X(),r=ct(),i=t+tt,s=r.firstCreatePass?hl(r,i,1,e,null):r.data[i],o=WD(r,n,s,e,t);n[i]=o,vp()&&Bp(r,n,o,s),rs(s,!1)}let WD=(t,e,n,r,i)=>(bo(!0),function Op(t,e){return t.createText(e)}(e[$e],r));function Yt(t){return Ma("",t,""),Yt}function Ma(t,e,n){const r=X(),i=gl(r,t,e,n);return i!==qe&&function qs(t,e,n){const r=_p(e,t);!function p5(t,e,n){t.setValue(e,n)}(t[$e],r,n)}(r,Er(),i),Ma}function hy(t,e,n){const r=X();return ar(r,Gc(),e)&&Xr(ct(),Kt(),r,t,e,r[$e],n,!0),hy}const ka=void 0;var jY=["en",[["a","p"],["AM","PM"],ka],[["AM","PM"],ka,ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ka,"{1} 'at' {0}",ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let bl={};function Ir(t){const e=function $Y(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=hS(e);if(n)return n;const r=e.split("-")[0];if(n=hS(r),n)return n;if("en"===r)return jY;throw new ee(701,!1)}function hS(t){return t in bl||(bl[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),bl[t]}var Nt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Nt||{});const wl="en-US";let pS=wl;function my(t,e,n,r,i){if(t=ze(t),Array.isArray(t))for(let s=0;s<t.length;s++)my(t[s],e,n,r,i);else{const s=ct(),o=X(),a=qn();let c=Sa(t)?t:ze(t.provide);const l=K5(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Sa(t)||!t.multi){const h=new bd(l,i,J),p=vy(c,e,i?u:u+f,d);-1===p?(j_(Ip(a,o),s,c),_y(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=vy(c,e,u+f,d),p=vy(c,e,u,u+f),E=p>=0&&n[p];if(i&&!E||!i&&!(h>=0&&n[h])){j_(Ip(a,o),s,c);const S=function UQ(t,e,n,r,i){const s=new bd(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,BS(s,i,r&&!n),s}(i?zQ:HQ,n.length,i,r,l);!i&&E&&(n[p].providerFactory=S),_y(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),o.push(S)}else _y(s,t,h>-1?h:p,BS(n[i?p:h],l,!i&&r));!i&&r&&E&&n[p].componentProviders++}}}function _y(t,e,n,r){const i=Sa(e),s=function Mq(t){return!!t.useClass}(e);if(i||s){const c=(s?ze(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function BS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function HQ(t,e,n,r){return yy(this.multi,[])}function zQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Aa(n,n[Ie],this.providerFactory.index,r);s=a.slice(0,o),yy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],yy(i,s);return s}function yy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $t(t,e=[]){return n=>{n.providersResolver=(r,i)=>function BQ(t,e,n){const r=ct();if(r.firstCreatePass){const i=ki(t);my(n,r.data,r.blueprint,i,!0),my(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Na{}class HS{}class Ey extends Na{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KT(this);const i=Wr(e);this._bootstrapComponents=Gs(i.bootstrap),this._r3Injector=cT(e,n,[{provide:Na,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver},...r],bn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xy extends HS{constructor(e){super(),this.moduleType=e}create(e){return new Ey(this.moduleType,e,[])}}class zS extends Na{constructor(e){super(),this.componentFactoryResolver=new KT(this),this.instance=null;const n=new sl([...e.providers,{provide:Na,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],e.parent||Wp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function US(t,e,n=null){return new zS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let GQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=$5(0,r.type),s=i.length>0?US([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Ce({token:t,providedIn:"environment",factory:()=>new t(Se(pi))}),e})();function jS(t){t.getStandaloneInjector=e=>e.get(GQ).getOrCreateStandaloneInjector(t)}function Lr(t,e,n,r){return XS(X(),yr(),t,e,n,r)}function lf(t,e){const n=t[e];return n===qe?void 0:n}function XS(t,e,n,r,i,s){const o=e+n;return ar(t,o,i)?ls(t,o+1,s?r.call(s,i):r(i)):lf(t,o+1)}function Dn(t,e){const n=ct();let r;const i=t+tt;n.firstCreatePass?(r=function cX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ba(r.type)),a=kr(J);try{const c=Cp(!1),l=s();return Cp(c),function GK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,X(),i,l),l}finally{kr(a)}}function mi(t,e,n){const r=t+tt,i=X(),s=jc(i,r);return uf(i,r)?XS(i,yr(),e,s.transform,n,s):s.transform(n)}function To(t,e,n,r,i){const s=t+tt,o=X(),a=jc(o,s);return uf(o,s)?function ZS(t,e,n,r,i,s,o,a){const c=e+n;return cg(t,c,i,s,o)?ls(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):lf(t,c+3)}(o,yr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function uf(t,e){return t[Ie].data[e].pure}function fX(){return this._results[Symbol.iterator]()}class Iy{get changes(){return this._changes||(this._changes=new yt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Iy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=fX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function fi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function nG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function pX(t,e,n,r=!0){const i=e[Ie];if(function GG(t,e,n,r){const i=$n+r,s=n.length;r>0&&(n[i-1][Mi]=e),r<s-$n?(e[Mi]=n[i],$A(n,$n+r,e)):(n.push(e),e[Mi]=null),e[jt]=n;const o=e[_d];null!==o&&n!==o&&function qG(t,e){const n=t[zc];e[un]!==e[jt][jt][un]&&(t[$w]=!0),null===n?t[zc]=[e]:n.push(e)}(o,e);const a=e[Ji];null!==a&&a.insertView(t),e[Ke]|=128}(i,e,t,n),r){const s=cv(n,t),o=e[$e],a=Lp(o,t[Zi]);null!==a&&function UG(t,e,n,r,i,s){r[Zt]=i,r[sr]=e,Nd(t,r,n,1,i,s)}(i,t[sr],o,e,a,s)}}let Ws=(()=>{class e{}return e.__NG_ELEMENT_ID__=_X,e})();const gX=Ws,mX=class extends gX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function hX(t,e,n,r){const i=e.tView,a=ng(t,i,n,4096&t[Ke]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[_d]=t[e.index];const l=t[Ji];return null!==l&&(a[Ji]=l.createEmbeddedView(i)),Jv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new $d(i)}};function _X(){return vg(qn(),X())}function vg(t,e){return 4&t.type?new mX(e,t,ll(t,e)):null}let Vi=(()=>{class e{}return e.__NG_ELEMENT_ID__=IX,e})();function IX(){return c7(qn(),X())}const bX=Vi,o7=class extends bX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const e=bp(this._hostTNode,this._hostLView);if(H_(e)){const n=Ad(e,this._hostLView),r=wd(e);return new xr(n[Ie].data[r+8],n)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=a7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Dd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Gd(at(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const E=(o?l:this.parentInjector).get(pi,null);E&&(s=E)}at(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function m$(t){return _r(t[jt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[jt],u=new o7(l,l[sr],l[jt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return pX(a,i,o,!r),e.attachToViewContainerRef(),$A(by(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=a7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vp(this._lContainer,n);r&&(Tp(by(this._lContainer),n),iv(r[Ie],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vp(this._lContainer,n);return r&&null!=Tp(by(this._lContainer),n)?new $d(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function a7(t){return t[8]}function by(t){return t[8]||(t[8]=[])}function c7(t,e){let n;const r=e[t.index];return _r(r)?n=r:(n=FT(r,e,null,t),e[t.index]=n,rg(e,n)),l7(n,e,t,r),new o7(n,t,e)}let l7=function u7(t,e,n,r){if(t[Zi])return;let i;i=8&n.type?kt(r):function wX(t,e){const n=t[$e],r=n.createComment(""),i=Or(e,t);return Ta(n,Lp(n,i),r,function QG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Zi]=i};class wy{constructor(e){this.queryList=e,this.matches=null}clone(){return new wy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ay{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ay(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==m7(e,n).matches&&this.queries[n].setDirty()}}class d7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Ty{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Ty(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Dy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Dy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,DX(n,s)),this.matchTNodeWithReadOption(e,n,wp(n,e,s,!1,!1))}else r===Ws?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,wp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Cr||i===Vi||i===Ws&&4&n.type)this.addMatch(n.index,-2);else{const s=wp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function DX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function RX(t,e,n,r){return-1===n?function SX(t,e){return 11&t.type?ll(t,e):4&t.type?vg(t,e):null}(e,t):-2===n?function PX(t,e,n){return n===Cr?ll(e,t):n===Ws?vg(e,t):n===Vi?c7(e,t):void 0}(t,e,r):Aa(t,t[Ie],n,e)}function f7(t,e,n,r){const i=e[Ji].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:RX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Sy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=f7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=$n;d<u.length;d++){const f=u[d];f[_d]===f[jt]&&Sy(f[Ie],f,l,r)}if(null!==u[zc]){const d=u[zc];for(let f=0;f<d.length;f++){const h=d[f];Sy(h[Ie],h,l,r)}}}}}return r}function Li(t){const e=X(),n=ct(),r=IA();O_(r+1);const i=m7(n,r);if(t.dirty&&function p$(t){return 4==(4&t[Ke])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Sy(n,e,r,[]):f7(n,e,i,r);t.reset(s,Zq),t.notifyOnChanges()}return!0}return!1}function fs(t,e,n){const r=ct();r.firstCreatePass&&(function g7(t,e,n){null===t.queries&&(t.queries=new Ty),t.queries.track(new Dy(e,n))}(r,new d7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function p7(t,e,n){const r=new Iy(4==(4&n));(function MW(t,e,n,r){const i=LT(e);i.push(n),t.firstCreatePass&&BT(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Ji]&&(e[Ji]=new Ay),e[Ji].queries.push(new wy(r))}(r,X(),e)}function Bi(){return function MX(t,e){return t[Ji].queries[e].queryList}(X(),IA())}function m7(t,e){return t.queries.getByIndex(e)}const k7=new ye("Application Initializer");let Oy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=W(k7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Zd(o))r.push(o);else if(vD(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),N7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Ks=new ye("LocaleId",{providedIn:"root",factory:()=>W(Ks,st.Optional|st.SkipSelf)||function tJ(){return typeof $localize<"u"&&$localize.locale||wl}()});let xg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ci(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class iJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let sJ=(()=>{var t;class e{compileModuleSync(r){return new xy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Gs(Wr(r).declarations).reduce((a,c)=>{const l=at(c);return l&&a.push(new Gd(l)),a},[]);return new iJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const L7=new ye(""),Ig=new ye("");let Hy,Ly=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hy||(function TJ(t){Hy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(dt),Se(By),Se(Ig))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})(),By=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Hy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Do=null;const B7=new ye("AllowMultipleToken"),zy=new ye("PlatformDestroyListeners"),H7=new ye("appBootstrapListener");function j7(t,e,n=[]){const r=`Platform: ${e}`,i=new ye(r);return(s=[])=>{let o=Uy();if(!o||o.injector.get(B7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function RJ(t){if(Do&&!Do.get(B7,!1))throw new ee(400,!1);(function z7(){!function t$(t){nA=t}(()=>{throw new ee(600,!1)})})(),Do=t;const e=t.get(G7);(function U7(t){t.get(Y5,null)?.forEach(n=>n())})(t)}(function $7(t=[],e){return An.create({name:e,providers:[{provide:Ev,useValue:"platform"},{provide:zy,useValue:new Set([()=>Do=null])},...t]})}(a,r))}return function MJ(t){const e=Uy();if(!e)throw new ee(401,!1);return e}()}}function Uy(){return Do?.get(G7)??null}let G7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function kJ(t="zone.js",e){return"noop"===t?new hW:"zone.js"===t?new dt(e):t}(i?.ngZone,function q7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function $Q(t,e,n){return new Ey(t,e,n)}(r.moduleType,this.injector,function X7(t){return[{provide:dt,useFactory:t},{provide:Vd,multi:!0,useFactory:()=>{const e=W(OJ,{optional:!0});return()=>e.initialize()}},{provide:Q7,useFactory:NJ},{provide:hT,useFactory:pT}]}(()=>s)),a=o.injector.get($s,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{bg(this._modules,o),c.unsubscribe()})}),function W7(t,e,n){try{const r=n();return Zd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(Oy);return c.runInitializers(),c.donePromise.then(()=>(function gS(t){ui(t,"Expected localeId to be defined"),"string"==typeof t&&(pS=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ks,wl)||wl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=K7({},i);return function DJ(t,e,n){const r=new xy(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(hf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new ee(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(zy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(An))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function K7(t,e){return Array.isArray(e)?e.reduce(K7,t):{...t,...e}}let hf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(Q7),this.zoneIsStable=W(hT),this.componentTypes=[],this.components=[],this.isStable=W(xg).hasPendingTasks.pipe(li(r=>r?Le(!1):this.zoneIsStable),Ew(),yw()),this._injector=W(pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof eT;if(!this._injector.get(Oy).done)throw!s&&function Fc(t){const e=at(t)||jn(t)||mr(t);return null!==e&&e.standalone}(r),new ee(405,!1);let a;a=s?r:this._injector.get(Hd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function SJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Na),u=a.create(An.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(L7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),bg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;bg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(H7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>bg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ee(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Q7=new ye("",{providedIn:"root",factory:()=>W($s).handleError.bind(void 0)});function NJ(){const t=W(dt),e=W($s);return n=>t.runOutsideAngular(()=>e.handleError(n))}let OJ=(()=>{var t;class e{constructor(){this.zone=W(dt),this.applicationRef=W(hf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let So=(()=>{class e{}return e.__NG_ELEMENT_ID__=LJ,e})();function LJ(t){return function BJ(t,e,n){if(Ia(t)&&!n){const r=Kr(t.index,e);return new $d(r,r)}return 47&t.type?new $d(e[un],e):null}(qn(),X(),16==(16&t))}class tR{constructor(){}supports(e){return ag(e)}create(e){return new GJ(e)}}const $J=(t,e)=>e;class GJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$J}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<rR(r,i,s)?n:r,a=rR(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ag(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function bK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new qJ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new nR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class qJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class nR{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new WJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rR(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class iR{constructor(){}supports(e){return e instanceof Map||Zv(e)}create(){return new KJ}}class KJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Zv(e)))throw new ee(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new YJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class YJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sR(){return new Tg([new tR])}let Tg=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sR()),deps:[[e,new K_,new dn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:sR}),e})();function oR(){return new pf([new iR])}let pf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||oR()),deps:[[e,new K_,new dn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:oR}),e})();const JJ=j7(null,"core",[]);let ZJ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(hf))},t.\u0275mod=Mt({type:t}),t.\u0275inj=Dt({}),e})();let Ky=null;function Ro(){return Ky}class fZ{}const Hr=new ye("DocumentToken");let gR=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(hZ)},providedIn:"platform"}),e})(),hZ=(()=>{var t;class e extends gR{constructor(){super(),this._doc=W(Hr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ro().getBaseHref(this._doc)}onPopState(r){const i=Ro().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Ro().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function mR(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function _R(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Fa(t){return t&&"?"!==t[0]?"?"+t:t}let Sg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(gZ)},providedIn:"root"}),e})();const pZ=new ye("appBaseHref");let gZ=(()=>{var t;class e extends Sg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??W(Hr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return mR(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Fa(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Fa(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Fa(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(gR),Se(pZ,8))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Yy=(()=>{var t;class e{constructor(r){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function vZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(_R(vR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Fa(i))}normalize(r){return e.stripTrailingSlash(function _Z(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,vR(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fa(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fa(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Fa,t.joinWithSlash=mR,t.stripTrailingSlash=_R,t.\u0275fac=function(r){return new(r||t)(Se(Sg))},t.\u0275prov=Ce({token:t,factory:function(){return function mZ(){return new Yy(Se(Sg))}()},providedIn:"root"}),e})();function vR(t){return t.replace(/\/index.html$/,"")}var Rg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Rg||{}),fn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(fn||{});function _i(t,e){const n=Ir(t),r=n[Nt.NumberSymbols][e];if(typeof r>"u"){if(e===fn.CurrencyDecimal)return n[Nt.NumberSymbols][fn.Decimal];if(e===fn.CurrencyGroup)return n[Nt.NumberSymbols][fn.Group]}return r}const GZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function r4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function TR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const s4=/\s+/,DR=[];let SR=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=DR,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(s4):DR}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(s4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(s4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Tg),J(pf),J(Cr),J(as))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class ree{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let o4=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new ree(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),PR(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{PR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Vi),J(Ws),J(Tg))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function PR(t,e){t.context.$implicit=e.item}let Po=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new iee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){MR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){MR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Vi),J(Ws))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class iee{constructor(){this.$implicit=null,this.ngIf=null}}function MR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${bn(e)}'.`)}function zi(t,e){return new ee(2100,!1)}class aee{createSubscription(e,n){return sA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){sA(()=>e.unsubscribe())}}class cee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const lee=new cee,uee=new aee;let _f=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Zd(r))return lee;if(vD(r))return uee;throw zi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(J(So,16))},t.\u0275pipe=Un({name:"async",type:t,pure:!1,standalone:!0}),e})(),NR=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=OR}transform(r,i=OR){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Iee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(J(pf,16))},t.\u0275pipe=Un({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function OR(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Rl=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function l4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function XZ(t,e,n){return function t4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function ZZ(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function JZ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const I=s.match(GZ);if(null===I)throw new Error(`${s} is not a valid digit info`);const H=I[1],G=I[3],ue=I[5];null!=H&&(u=r4(H)),null!=G&&(d=r4(G)),null!=ue?f=r4(ue):null!=G&&d>f&&(f=d)}!function eee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let E=[];for(c=h.every(I=>!I);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?E=h.splice(p,h.length):(E=h,h=[0]);const S=[];for(h.length>=e.lgSize&&S.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)S.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&S.unshift(h.join("")),a=S.join(_i(n,r)),E.length&&(a+=_i(n,i)+E.join("")),g&&(a+=_i(n,fn.Exponential)+"+"+g)}else a=_i(n,fn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function n4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Qy(t,e){return Ir(t)[Nt.NumberFormats][e]}(e,Rg.Decimal),_i(e,fn.MinusSign)),e,fn.Group,fn.Decimal,n)}(function u4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw zi()}}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ks,16))},t.\u0275pipe=Un({name:"number",type:t,pure:!0,standalone:!0}),e})();let Aee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Dt({}),e})();const Tee="server";function d4(t){return t===Tee}class VR{}class Zee extends fZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p4 extends Zee{static makeCurrent(){!function dZ(t){Ky||(Ky=t)}(new p4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ete(){return yf=yf||document.querySelector("base"),yf?yf.getAttribute("href"):null}();return null==n?null:function tte(t){Ug=Ug||document.createElement("a"),Ug.setAttribute("href",t);const e=Ug.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return TR(document.cookie,e)}}let Ug,yf=null,rte=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const g4=new ye("EventManagerPlugins");let UR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(g4),Se(dt))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();class jR{constructor(e){this._doc=e}}const m4="ng-app-id";let $R=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=d4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${m4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(m4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(m4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr),Se(Kp),Se(Q5,8),Se(os))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const _4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},v4=/%COMP%/g,ate=new ye("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function qR(t,e){return e.map(n=>n.replace(v4,t))}let WR=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=d4(c),this.defaultRenderer=new y4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ri.ShadowDom&&(i={...i,encapsulation:Ri.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof YR?s.applyToHost(r):s instanceof E4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ri.Emulated:o=new YR(l,u,i,this.appId,d,a,c,f);break;case Ri.ShadowDom:return new dte(l,u,r,i,a,c,this.nonce,f);default:o=new E4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(UR),Se($R),Se(Kp),Se(ate),Se(Hr),Se(os),Se(dt),Se(Q5))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();class y4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(KR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(KR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=_4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=_4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(wo.DashCase|wo.Important)?e.style.setProperty(n,r,i&wo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ro().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function KR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class dte extends y4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=qR(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class E4 extends y4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?qR(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class YR extends E4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function cte(t){return"_ngcontent-%COMP%".replace(v4,t)}(l),this.hostAttr=function lte(t){return"_nghost-%COMP%".replace(v4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let fte=(()=>{var t;class e extends jR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const QR=["alt","control","meta","shift"],hte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gte=(()=>{var t;class e extends jR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ro().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),QR.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=hte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),QR.forEach(a=>{a!==s&&(0,pte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const JR=[{provide:os,useValue:"browser"},{provide:Y5,useValue:function mte(){p4.makeCurrent()},multi:!0},{provide:Hr,useFactory:function vte(){return function iq(t){dv=t}(document),document},deps:[]}],yte=j7(JJ,"browser",JR),Ete=new ye(""),ZR=[{provide:Ig,useClass:class nte{addToWindow(e){Pt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new ee(5103,!1);return s},Pt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pt.getAllAngularRootElements=()=>e.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(r=>{const i=Pt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ro().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:L7,useClass:Ly,deps:[dt,By,Ig]},{provide:Ly,useClass:Ly,deps:[dt,By,Ig]}],e9=[{provide:Ev,useValue:"root"},{provide:$s,useFactory:function _te(){return new $s},deps:[]},{provide:g4,useClass:fte,multi:!0,deps:[Hr,dt,os]},{provide:g4,useClass:gte,multi:!0,deps:[Hr]},WR,$R,UR,{provide:nT,useExisting:WR},{provide:VR,useClass:rte,deps:[]},[]];let yi=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Kp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Ete,12))},t.\u0275mod=Mt({type:t}),t.\u0275inj=Dt({providers:[...e9,...ZR],imports:[Aee,ZJ]}),e})(),x4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr))},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new r:function Cte(){return new x4(Se(Hr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let r9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new(r||t):Se(i9),i},providedIn:"root"}),e})(),i9=(()=>{var t;class e extends r9{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case hi.NONE:return i;case hi.HTML:return ss(i,"HTML")?Qr(i):V5(this._doc,String(i)).toString();case hi.STYLE:return ss(i,"Style")?Qr(i):i;case hi.SCRIPT:if(ss(i,"Script"))return Qr(i);throw new ee(5200,!1);case hi.URL:return ss(i,"URL")?Qr(i):jp(String(i));case hi.RESOURCE_URL:if(ss(i,"ResourceURL"))return Qr(i);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(r){return function dq(t){return new sq(t)}(r)}bypassSecurityTrustStyle(r){return function fq(t){return new oq(t)}(r)}bypassSecurityTrustScript(r){return function hq(t){return new aq(t)}(r)}bypassSecurityTrustUrl(r){return function pq(t){return new cq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function gq(t){return new lq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr))},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new r:function Ate(t){return new i9(t.get(Hr))}(Se(An)),i},providedIn:"root"}),e})();class I4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class o9{constructor(){this._orbit=0,this._ground=0,this._workers=new I4,this._soldiers=new I4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class b4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Tte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new o9,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new b4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class a9{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new I4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var cr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(cr||{});class Dte{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Ste{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ft=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ft||{});class c9{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Rte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new a9,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=cr.RESOURCE;break;case 1:s=cr.SURFACE;break;case 2:s=cr.FLEET;break;default:s=cr.UNKNOWN}});let o=new Dte(r,s);if(s!==cr.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new c9(c.split("Owner:")[1].trim(),""):new c9("Uninhabited Planet",a.substring(1,a.length-1))}if((s===cr.RESOURCE||s===cr.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===cr.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new b4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===cr.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new b4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Ste(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Ft.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Ft.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Ft.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Ft.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Ft.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Ft.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Ft.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Ft.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Ft.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Ft.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Ft.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Ft.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Ft.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Pte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new o9;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class l9{constructor(){this._score=0,this._combatScore=0,this._planets=0,this._rank=0}get name(){return this._name}set name(e){this._name=e}get rank(){return this._rank}set rank(e){this._rank=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{name:this.name,planets:this.planets,score:this.score,combatScore:this.combatScore,rank:this.rank}}}class Mte{constructor(){this._stats=new l9}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats}}}class w4{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}var Pl;class Ei{cache(e,n,r=0){const i=new w4(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(w4,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}isExpired(e){const n=localStorage.getItem(e);if(!n)return!0;const r=Object.assign(w4,JSON.parse(n));return r.ttl>0&&Date.now()>r.expiry}remove(e){localStorage.removeItem(e)}}(Pl=Ei).\u0275fac=function(e){return new(e||Pl)},Pl.\u0275prov=Ce({token:Pl,factory:Pl.\u0275fac,providedIn:"platform"}),_n([Ti(2,dn())],Ei.prototype,"cache",null),_n([Ti(1,dn())],Ei.prototype,"get",null);var Ct=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t.LOCAL_VERSION="local-version",t.REMOTE_VERSION="remote-version",t.PLAYERS_STATS="players-stats",t.LAST_PLAYERS_RANKINGS_UPDATE_TURN="last-players-rankings-update",t.LAST_PLANETS_UPDATE_TURN="last-planets-update",t}(Ct||{});let kte=(()=>{var t;class e{constructor(){this.localStorageService=W(Ei)}extract(){let r=this.localStorageService.get(Ct.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let o=new Mte;if(null!=s.querySelector('[action^="/alliances/note/"]')){let a=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);o.dgId=a[a.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(o.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(o.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(o))})}),this.localStorageService.cache(Ct.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Ml;class hs{constructor(){this.planetListExtractor=W(Tte),this.planetScanExtractor=W(Rte),this.navigationSystemPlanetsExtractor=W(Pte),this.allianceMembersExtractor=W(kte),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function Ef(t){return(Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gt(t,e,n){return(e=function Ote(t){var e=function Nte(t,e){if("object"!==Ef(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ef(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ef(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u9(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){u9(s,r,i,o,a,"next",c)}function a(c){u9(s,r,i,o,a,"throw",c)}o(void 0)})}}(Ml=hs).\u0275fac=function(e){return new(e||Ml)},Ml.\u0275prov=Ce({token:Ml,factory:Ml.\u0275fac,providedIn:"platform"}),_n([Ti(0,dn())],hs.prototype,"username",null);const d9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},T4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(d9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Bte;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jg=function(t){return function(t){const e=d9(t);return T4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},$g=function(t){try{return T4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gg=()=>{try{return h9().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$g(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},p9=t=>{var e,n;return null===(n=null===(e=Gg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},g9=()=>{var t;return null===(t=Gg())||void 0===t?void 0:t.config},m9=t=>{var e;return null===(e=Gg())||void 0===e?void 0:e[`_${t}`]};class kl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function D4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function xf(){try{return"object"==typeof indexedDB}catch{return!1}}function S4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function _9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Jte(t,e){return t.replace(Zte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ui(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Zte=/\{\$([^}]+)}/g;function Cf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(y9(s)&&y9(o)){if(!Cf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function y9(t){return null!==t&&"object"==typeof t}function If(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class nne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function rne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=R4),void 0===i.error&&(i.error=R4),void 0===i.complete&&(i.complete=R4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R4(){}const ine=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},sne=1e3,one=2,ane=144e5,cne=.5;function M4(t,e=sne,n=one){const r=e*Math.pow(n,t),i=Math.round(cne*r*(Math.random()-.5)*2);return Math.min(ane,r+i)}function nn(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Va="[DEFAULT]";class une{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function fne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Va?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class hne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new une(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const k4=[];var ot=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ot||{});const E9={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},pne=ot.INFO,gne={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},mne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=gne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Af{constructor(e){this.name=e,this._logLevel=pne,this._logHandler=mne,this._userLogHandler=null,k4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?E9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const _ne=(t,e)=>e.some(n=>t instanceof n);let x9,C9;const I9=new WeakMap,N4=new WeakMap,b9=new WeakMap,O4=new WeakMap,F4=new WeakMap;let V4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return N4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||b9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function bne(t){return"function"==typeof t?function Ine(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yne(){return C9||(C9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(L4(this),e),No(I9.get(this))}:function(...e){return No(t.apply(L4(this),e))}:function(e,...n){const r=t.call(L4(this),e,...n);return b9.set(r,e.sort?e.sort():[e]),No(r)}}(t):(t instanceof IDBTransaction&&function xne(t){if(N4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});N4.set(t,e)}(t),_ne(t,function vne(){return x9||(x9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,V4):t)}function No(t){if(t instanceof IDBRequest)return function Ene(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(No(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&I9.set(n,t)}).catch(()=>{}),F4.set(e,t),e}(t);if(O4.has(t))return O4.get(t);const e=bne(t);return e!==t&&(O4.set(t,e),F4.set(e,t)),e}const L4=t=>F4.get(t),Ane=["get","getKey","getAll","getAllKeys","count"],Tne=["put","add","delete","clear"],B4=new Map;function w9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(B4.get(e))return B4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ane.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return B4.set(e,s),s}!function Cne(t){V4=t(V4)}(t=>({...t,get:(e,n,r)=>w9(e,n)||t.get(e,n,r),has:(e,n)=>!!w9(e,n)||t.has(e,n)}));class Dne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Sne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const H4="@firebase/app",La=new Af("@firebase/app"),Wg="[DEFAULT]",tre={[H4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ba=new Map,Kg=new Map;function nre(t,e){try{t.container.addComponent(e)}catch(n){La.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xi(t){const e=t.name;if(Kg.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,t);for(const n of Ba.values())nre(n,t);return!0}function ps(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Xs=new ko("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ire{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const Nl="10.5.2";function T9(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(n||(n=g9()),!n)throw Xs.create("no-options");const s=Ba.get(i);if(s){if(Cf(n,s.options)&&Cf(r,s.config))return s;throw Xs.create("duplicate-app",{appName:i})}const o=new hne(i);for(const c of Kg.values())o.addComponent(c);const a=new ire(n,r,o);return Ba.set(i,a),a}function Ol(t=Wg){const e=Ba.get(t);if(!e&&t===Wg&&g9())return T9();if(!e)throw Xs.create("no-app",{appName:t});return e}function D9(){return Array.from(Ba.values())}function rn(t,e,n){var r;let i=null!==(r=tre[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void La.warn(a.join(" "))}xi(new ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const sre="firebase-heartbeat-database",ore=1,Tf="firebase-heartbeat-store";let U4=null;function S9(){return U4||(U4=function wne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=No(o);return r&&o.addEventListener("upgradeneeded",c=>{r(No(o.result),c.oldVersion,c.newVersion,No(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(sre,ore,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Tf)}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),U4}function j4(){return(j4=v(function*(t){try{return yield(yield S9()).transaction(Tf).objectStore(Tf).get(P9(t))}catch(e){if(e instanceof Ui)La.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e?.message});La.warn(n.message)}}})).apply(this,arguments)}function R9(t,e){return $4.apply(this,arguments)}function $4(){return($4=v(function*(t,e){try{const r=(yield S9()).transaction(Tf,"readwrite");yield r.objectStore(Tf).put(e,P9(t)),yield r.done}catch(n){if(n instanceof Ui)La.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n?.message});La.warn(r.message)}}})).apply(this,arguments)}function P9(t){return`${t.name}!${t.options.appId}`}class ure{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=M9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=M9(),{heartbeatsToSend:r,unsentEntries:i}=function dre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),k9(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),k9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=jg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function M9(){return(new Date).toISOString().substring(0,10)}class fre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!xf()&&S4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function are(t){return j4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return R9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return R9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function k9(t){return jg(JSON.stringify({version:2,heartbeats:t})).length}!function hre(t){xi(new ei("platform-logger",e=>new Dne(e),"PRIVATE")),xi(new ei("heartbeat",e=>new ure(e),"PRIVATE")),rn(H4,"0.9.22",t),rn(H4,"0.9.22","esm2017"),rn("fire-js","")}(""),rn("firebase","10.5.2","app");class mre extends Y{constructor(e,n){super()}schedule(e,n=0){return this}}const Yg={setInterval(t,e,...n){const{delegate:r}=Yg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Yg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class N9 extends mre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Yg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Yg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const O9={now:()=>(O9.delegate||Date).now(),delegate:void 0};class Df{constructor(e,n=Df.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Df.now=O9.now;class F9 extends Df{constructor(e,n=Df.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const yre=new class vre extends F9{}(class _re extends N9{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Ere=new F9(N9);function Kn(t,e,n){const r=R(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ve((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(et(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):me}const Oo=new ul("ANGULARFIRE2_VERSION");function Qg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Xg=(t,e)=>{const n=e?[e]:D9(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class G4{constructor(){return Xg(V9)}}const V9="app-check";function Fl(){}class L9{constructor(e,n=yre){gt(this,"zone",void 0),gt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Cre{constructor(e){gt(this,"zone",void 0),gt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)),n.pipe(Kn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sf=(()=>{var t;class e{constructor(r){gt(this,"ngZone",void 0),gt(this,"outsideAngular",void 0),gt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new L9(Zone.current)),this.insideAngular=r.run(()=>new L9(Zone.current,Ere)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(dt))}),gt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Vl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ha(t){return Vl().ngZone.run(()=>t())}function bre(t){return function wre(t){return function(n){return(n=n.lift(new Cre(t.ngZone))).pipe(np(t.outsideAngular),tp(t.insideAngular))}}(Vl())(t)}const Are=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ha(()=>t.apply(void 0,r))},yn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Ha(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl))),r[s]=Are(r[s],n));const i=function Ire(t){return Vl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof de){const s=Vl();return i.pipe(np(s.outsideAngular),tp(s.insideAngular))}return Ha(()=>i)}return i instanceof de?i.pipe(bre):i instanceof Promise?Ha(()=>new Promise((s,o)=>i.then(a=>Ha(()=>s(a)),a=>Ha(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ha(()=>i)};class za{constructor(e){return e}}class Rf{constructor(){return D9()}}const q4=new ye("angularfire2._apps"),Dre={provide:za,useFactory:function Tre(t){return t&&1===t.length?t[0]:new za(Ol())},deps:[[new dn,q4]]},Sre={provide:Rf,deps:[[new dn,q4]]};function Rre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new za(r)}}let Pre=(()=>{var t;class e{constructor(r){rn("angularfire",Oo.full,"core"),rn("angularfire",Oo.full,"app"),rn("angular",rT.full,r.toString())}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(os))}),gt(e,"\u0275mod",Mt({type:t})),gt(e,"\u0275inj",Dt({providers:[Dre,Sre]})),e})();function Fo(t,...e){return{ngModule:Pre,providers:[{provide:q4,useFactory:Rre(t),multi:!0,deps:[dt,An,Sf,...e]}]}}const Vo=yn(Ol,!0),Lo=yn(T9,!0);const Mre=function B9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},H9=new ko("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jg=new Af("@firebase/auth");function Zg(t,...e){Jg.logLevel<=ot.ERROR&&Jg.error(`Auth (${Nl}): ${t}`,...e)}function zr(t,...e){throw W4(t,...e)}function ti(t,...e){return W4(t,...e)}function z9(t,e,n){const r=Object.assign(Object.assign({},Mre()),{[e]:n});return new ko("auth","Firebase",r).create(e,{appName:t.name})}function W4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return H9.create(t,...e)}function he(t,e,...n){if(!t)throw W4(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zg(e),new Error(e)}function Js(t,e){t||gs(e)}function Pf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function U9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Js(n>e,"Short delay should be less than long delay!"),this.isMobile=function Wte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}()||function Yte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Nre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function K4(){return"http:"===U9()||"https:"===U9()}()||D4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y4(t,e){Js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class j9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vre=new Mf(3e4,6e4);function Gt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qt(t,e,n,r){return Q4.apply(this,arguments)}function Q4(){return(Q4=v(function*(t,e,n,r,i={}){return $9(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=If(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),j9.fetch()(G9(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function $9(t,e,n){return X4.apply(this,arguments)}function X4(){return(X4=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fre),e);try{const i=new Bre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw kf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw kf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw kf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw kf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw z9(t,u,l);zr(t,u)}}catch(i){if(i instanceof Ui)throw i;zr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Zs(t,e,n,r){return J4.apply(this,arguments)}function J4(){return(J4=v(function*(t,e,n,r,i={}){const s=yield Qt(t,e,n,r,i);return"mfaPendingCredential"in s&&zr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function G9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Y4(t.config,i):`${t.config.apiScheme}://${i}`}function Lre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),Vre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ti(t,e,r);return i.customData._tokenResponse=n,i}function W9(t){return void 0!==t&&void 0!==t.enterprise}class K9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function Y9(t,e){return e6.apply(this,arguments)}function e6(){return(e6=v(function*(t,e){return Qt(t,"GET","/v2/recaptchaConfig",Gt(t,e))})).apply(this,arguments)}function t6(){return(t6=v(function*(t,e){return Qt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function r6(){return(r6=v(function*(t,e){return Qt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Nf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function i6(){return(i6=v(function*(t,e=!1){const n=nn(t),r=yield n.getIdToken(e),i=em(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Nf(s6(i.auth_time)),issuedAtTime:Nf(s6(i.iat)),expirationTime:Nf(s6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function s6(t){return 1e3*Number(t)}function em(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=$g(n);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eo(t,e){return o6.apply(this,arguments)}function o6(){return(o6=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ui&&function qre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Wre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class Q9{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nf(this.lastLoginAt),this.creationTime=Nf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Of(t){return a6.apply(this,arguments)}function a6(){return a6=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield eo(t,function jre(t,e){return r6.apply(this,arguments)}(n,{idToken:r}));he(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Qre(t){return t.map(e=>{var{providerId:n}=e,r=tr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Yre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Q9(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),a6.apply(this,arguments)}function c6(){return(c6=v(function*(t){const e=nn(t);yield Of(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function l6(){return(l6=v(function*(t,e){const n=yield $9(t,{},v(function*(){const r=If({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=G9(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",j9.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Gre(t){const e=em(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return he(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Xre(t,e){return l6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ff;return r&&(he("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(he("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(he("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ff,this.toJSON())}_performRefresh(){return gs("not implemented")}}function Bo(t,e){he("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ua{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Q9(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield eo(n,n.stsTokenManager.getToken(n.auth,e));return he(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function $re(t){return i6.apply(this,arguments)}(this,e)}reload(){return function Kre(t){return c6.apply(this,arguments)}(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ua(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Of(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield eo(e,function zre(t,e){return t6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,S=null!==(l=n.createdAt)&&void 0!==l?l:void 0,I=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:H,emailVerified:G,isAnonymous:ue,providerData:De,stsTokenManager:Fe}=n;he(H&&Fe,e,"internal-error");const _t=Ff.fromJSON(this.name,Fe);he("string"==typeof H,e,"internal-error"),Bo(d,e.name),Bo(f,e.name),he("boolean"==typeof G,e,"internal-error"),he("boolean"==typeof ue,e,"internal-error"),Bo(h,e.name),Bo(p,e.name),Bo(g,e.name),Bo(E,e.name),Bo(S,e.name),Bo(I,e.name);const Jt=new Ua({uid:H,auth:e,email:f,emailVerified:G,displayName:d,isAnonymous:ue,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:_t,createdAt:S,lastLoginAt:I});return De&&Array.isArray(De)&&(Jt.providerData=De.map(Ai=>Object.assign({},Ai))),E&&(Jt._redirectEventId=E),Jt}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Ff;i.updateFromServerResponse(n);const s=new Ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Of(s),s})()}}const X9=new Map;function to(t){Js(t instanceof Function,"Expected a class definition");let e=X9.get(t);return e?(Js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,X9.set(t,e),e)}const J9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function tm(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tm(this.userKey,i.apiKey,s),this.fullPersistenceKey=tm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ua._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new Bl(to(J9),e,r);const i=(yield Promise.all(n.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||to(J9);const o=tm(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Ua._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Bl(s,e,r)):new Bl(s,e,r)})()}}function Z9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iP(e))return"Blackberry";if(sP(e))return"Webos";if(u6(e))return"Safari";if((e.includes("chrome/")||tP(e))&&!e.includes("edge/"))return"Chrome";if(rP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function eP(t=kn()){return/firefox\//i.test(t)}function u6(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tP(t=kn()){return/crios\//i.test(t)}function nP(t=kn()){return/iemobile/i.test(t)}function rP(t=kn()){return/android/i.test(t)}function iP(t=kn()){return/blackberry/i.test(t)}function sP(t=kn()){return/webos/i.test(t)}function nm(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oP(t=kn()){return nm(t)||rP(t)||sP(t)||iP(t)||/windows phone/i.test(t)||nP(t)}function aP(t,e=[]){let n;switch(t){case"Browser":n=Z9(kn());break;case"Worker":n=`${Z9(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}class tie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function d6(){return(d6=v(function*(t,e={}){return Qt(t,"GET","/v2/passwordPolicy",Gt(t,e))})).apply(this,arguments)}class iie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class sie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cP(this),this.idTokenSubscription=new cP(this),this.beforeStateQueue=new tie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=to(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Bl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return he(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield Of(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ore(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?nn(e):null;return r&&he(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&he(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(to(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const n=yield function nie(t){return d6.apply(this,arguments)}(e),r=new iie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ko("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&to(e)||n._popupRedirectResolver;he(r,n,"argument-error"),n.redirectPersistenceManager=yield Bl.create(n,[to(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function kre(t,...e){Jg.logLevel<=ot.WARN&&Jg.warn(`Auth (${Nl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function En(t){return nn(t)}class cP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function tne(t,e){const n=new nne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function f6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function oie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function lP(t){return`__${t}${Math.floor(1e6*Math.random())}`}class uP{constructor(e){this.type="recaptcha-enterprise",this.auth=En(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){Y9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new K9(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;W9(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&W9(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));f6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function dP(t,e,n){return h6.apply(this,arguments)}function h6(){return(h6=v(function*(t,e,n,r=!1){const i=new uP(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function p6(){return p6=v(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield dP(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield dP(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),p6.apply(this,arguments)}function fP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class m6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}function gP(t,e){return v6.apply(this,arguments)}function v6(){return(v6=v(function*(t,e){return Qt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function _ie(t,e){return E6.apply(this,arguments)}function E6(){return(E6=v(function*(t,e){return Zs(t,"POST","/v1/accounts:signInWithPassword",Gt(t,e))})).apply(this,arguments)}function A6(){return(A6=v(function*(t,e){return Zs(t,"POST","/v1/accounts:signInWithEmailLink",Gt(t,e))})).apply(this,arguments)}function T6(){return(T6=v(function*(t,e){return Zs(t,"POST","/v1/accounts:signInWithEmailLink",Gt(t,e))})).apply(this,arguments)}class Vf extends m6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){switch(n.signInMethod){case"password":return function rm(t,e,n,r){return p6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",_ie);case"emailLink":return function Cie(t,e){return A6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:zr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return gP(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Iie(t,e){return T6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:zr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function no(t,e){return D6.apply(this,arguments)}function D6(){return(D6=v(function*(t,e){return Zs(t,"POST","/v1/accounts:signInWithIdp",Gt(t,e))})).apply(this,arguments)}class Hl extends m6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tr(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return no(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,no(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=If(n)}return e}}class Bf{constructor(e){var n,r,i,s,o,a;const c=bf(wf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Rie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);he(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Pie(t){const e=bf(wf(t)).link,n=e?bf(wf(e)).deep_link_id:null,r=bf(wf(t)).deep_link_id;return(r?bf(wf(r)).link:null)||r||n||e||t}(e);try{return new Bf(n)}catch{return null}}}let mP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Vf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Bf.parseLink(r);return he(i,"argument-error"),Vf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Ho{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _P extends Ho{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Mie=(()=>{class t extends _P{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Hl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield Ua._fromIdTokenResponse(e,r,i),o=yP(r);return new Ci({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=yP(r);return new Ci({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function yP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class om extends Ui{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,om.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new om(e,n,r,i)}}function EP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?om._fromErrorAndOperation(t,s,e,r):s})}function L6(){return(L6=v(function*(t,e,n=!1){const r=yield eo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ci._forOperation(t,"link",r)})).apply(this,arguments)}function H6(){return(H6=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield eo(t,EP(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=em(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),Ci._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&zr(r,"user-mismatch"),s}})).apply(this,arguments)}function IP(t,e){return z6.apply(this,arguments)}function z6(){return(z6=v(function*(t,e,n=!1){const r="signIn",i=yield EP(t,r,e),s=yield Ci._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function j6(){return(j6=v(function*(t,e){return IP(En(t),e)})).apply(this,arguments)}function J6(){return(J6=v(function*(t){const e=En(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Bie(t,e,n){return function U6(t,e){return j6.apply(this,arguments)}(nn(t),mP.credential(e,n)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function X6(t){return J6.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const lm="__sak";class wP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rse=(()=>{class t extends wP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ese(){const t=kn();return u6(t)||nm(t)}()&&function eie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=oP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Zre(){return function Qte(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),AP=(()=>{class t extends wP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let sse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function ise(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class ose{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=um("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xn(){return window}function E3(){return typeof xn().WorkerGlobalScope<"u"&&"function"==typeof xn().importScripts}function x3(){return(x3=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const TP="firebaseLocalStorageDb",dm="firebaseLocalStorage",DP="fbase_key";class zf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fm(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function C3(){const t=indexedDB.open(TP,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dm,{keyPath:DP})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(dm)?e(r):(r.close(),yield function fse(){const t=indexedDB.deleteDatabase(TP);return new zf(t).toPromise()}(),e(yield C3()))}))})}function SP(t,e,n){return I3.apply(this,arguments)}function I3(){return(I3=v(function*(t,e,n){const r=fm(t,!0).put({[DP]:e,value:n});return new zf(r).toPromise()})).apply(this,arguments)}function b3(){return(b3=v(function*(t,e){const n=fm(t,!1).get(e),r=yield new zf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function RP(t,e){const n=fm(t,!0).delete(e);return new zf(n).toPromise()}const mse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield C3()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return E3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=sse._getInstance(function use(){return E3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function cse(){return x3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new ose(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function lse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield C3();return yield SP(n,lm,"1"),yield RP(n,lm),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>SP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function hse(t,e){return b3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>RP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=fm(o,!1).getAll();return new zf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function $a(t,e){return e?to(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}lP("rcb"),new Mf(3e4,6e4);class k3 extends m6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mse(t){return IP(t.auth,new k3(t),t.bypassAuthState)}function kse(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),function CP(t,e){return H6.apply(this,arguments)}(n,new k3(t),t.bypassAuthState)}function Nse(t){return N3.apply(this,arguments)}function N3(){return(N3=v(function*(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),function V6(t,e){return L6.apply(this,arguments)}(n,new k3(t),t.bypassAuthState)})).apply(this,arguments)}class MP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mse;case"linkViaPopup":case"linkViaRedirect":return Nse;case"reauthViaPopup":case"reauthViaRedirect":return kse;default:zr(this.auth,"internal-error")}}resolve(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ose=new Mf(2e3,1e4);function Fse(t,e,n){return O3.apply(this,arguments)}function O3(){return(O3=v(function*(t,e,n){const r=En(t);!function Ll(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&zr(t,"argument-error"),z9(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Ho);const i=$a(r,n);return new L3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let L3=(()=>{class t extends MP{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return v(function*(){const r=yield n.execute();return he(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return v(function*(){Js(1===n.filter.length,"Popup operations only handle one event");const r=um();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(ti(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Ose.get())};n()}}return t.currentPopupAction=null,t})();const Vse="pendingRedirect",Uf=new Map;class Lse extends MP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=Uf.get(n.auth._key());if(!r){try{const s=(yield function Bse(t,e){return B3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Uf.set(n.auth._key(),r)}return n.bypassAuthState||Uf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function B3(){return(B3=v(function*(t,e){const n=function NP(t){return tm(Vse,t.config.apiKey,t.name)}(e),r=function kP(t){return to(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Hse(t,e){Uf.set(t._key(),e)}function OP(t,e){return q3.apply(this,arguments)}function q3(){return(q3=v(function*(t,e,n=!1){const r=En(t),i=$a(r,e),o=yield new Lse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Gse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function qse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LP(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(VP(e))}saveEventToCache(e){this.cachedEventUids.add(VP(e)),this.lastProcessedEventTime=Date.now()}}function VP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LP({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function K3(){return(K3=v(function*(t,e={}){return Qt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Kse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yse=/^https?/;function Y3(){return Y3=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Wse(t){return K3.apply(this,arguments)}(t);for(const n of e)try{if(Xse(n))return}catch{}zr(t,"unauthorized-domain")}),Y3.apply(this,arguments)}function Xse(t){const e=Pf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Yse.test(n))return!1;if(Kse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jse=new Mf(3e4,6e4);function BP(){const t=xn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let pm=null;const toe=new Mf(5e3,15e3),noe="__/auth/iframe",roe="emulator/auth/iframe",ioe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},soe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ooe(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Y4(e,roe):`https://${t.config.authDomain}/${noe}`,r={apiKey:e.apiKey,appName:t.name,v:Nl},i=soe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${If(r).slice(1)}`}function Q3(){return Q3=v(function*(t){const e=yield function eoe(t){return pm=pm||function Zse(t){return new Promise((e,n)=>{var r,i,s;function o(){BP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BP(),n(ti(t,"network-request-failed"))},timeout:Jse.get()})}if(null!==(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=xn().gapi)||void 0===s||!s.load){const a=lP("iframefcb");return xn()[a]=()=>{gapi.load?o():n(ti(t,"network-request-failed"))},f6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw pm=null,e})}(t),pm}(t),n=xn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:ooe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ioe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ti(t,"network-request-failed"),c=xn().setTimeout(()=>{o(a)},toe.get());function l(){xn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Q3.apply(this,arguments)}const coe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class HP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const goe="__/auth/handler",moe="emulator/auth/handler",_oe=encodeURIComponent("fac");function zP(t,e,n,r,i,s){return X3.apply(this,arguments)}function X3(){return(X3=v(function*(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nl,eventId:i};if(e instanceof Ho){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function ene(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof _P){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${_oe}=${encodeURIComponent(c)}`:"";return`${function voe({config:t}){return t.emulator?Y4(t,moe):`https://${t.authDomain}/${goe}`}(t)}?${If(a).slice(1)}${l}`})).apply(this,arguments)}const J3="webStorageSupport",Eoe=class yoe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AP,this._completeRedirectFn=OP,this._overrideRedirectResult=Hse}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;Js(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield zP(e,n,r,Pf(),i);return function hoe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},coe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=kn().toLowerCase();n&&(a=tP(l)?"_blank":n),eP(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Jre(t=kn()){var e;return nm(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function poe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new HP(null);const d=window.open(e||"",a,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new HP(d)}(e,a,um())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function ase(t){xn().location.href=t}(yield zP(e,n,r,Pf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Js(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function aoe(t){return Q3.apply(this,arguments)}(e),i=new Gse(e);return r.register("authEvent",s=>(he(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(J3,{type:J3},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[J3];void 0!==o&&n(!!o),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Qse(t){return Y3.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oP()||u6()||nm()}};var $P="@firebase/auth";class xoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const woe=m9("authIdTokenMaxAge")||300;let qP=null;const Aoe=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>woe)return;const s=r?.token;qP!==s&&(qP=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Toe(t=Ol()){const e=ps(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function die(t,e){const n=ps(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Cf(n.getOptions(),e??{}))return i;zr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Eoe,persistence:[mse,rse,AP]}),r=m9("authTokenSyncURL");if(r){const s=Aoe(r);(function Kie(t,e,n){nn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Wie(t,e,n,r){nn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=p9("auth");return i&&function hie(t,e,n){const r=En(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=fP(e),{host:o,port:a}=function pie(t){const e=fP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:hP(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:hP(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function gie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Doe(t){return new de(function(e){var n=function Yie(t,e,n,r){return nn(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Ioe(t){xi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aP(t)},l=new sie(r,i,s,c);return function fie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(to);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xi(new ei("auth-internal",e=>{const n=En(e.getProvider("auth").getImmediate());return new xoe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rn($P,"1.3.2",function Coe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),rn($P,"1.3.2","esm2017")}("Browser");class jf{constructor(e){return e}}class KP{constructor(){return Xg("auth")}}const eE=new ye("angularfire2.auth-instances");function Poe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new jf(r)}}const Moe={provide:KP,deps:[[new dn,eE]]},koe={provide:jf,useFactory:function Roe(t,e){const n=Qg("auth",t,e);return n&&new jf(n)},deps:[[new dn,eE],za]};let Noe=(()=>{var t;class e{constructor(){rn("angularfire",Oo.full,"auth")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Mt({type:t})),gt(e,"\u0275inj",Dt({providers:[koe,Moe]})),e})();function zl(t,...e){return{ngModule:Noe,providers:[{provide:eE,useFactory:Poe(t),multi:!0,deps:[dt,An,Sf,Rf,[new dn,G4],...e]}]}}const YP=yn(Doe,!0),Ul=yn(Toe,!0),Ooe=yn(Bie,!0),Foe=yn(Fse,!0);var Ee,Voe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ji={},tE=tE||{},Ge=Voe||self;function mm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var nE="closure_uid_"+(1e9*Math.random()>>>0),Boe=0;function Hoe(t,e,n){return t.call.apply(t.bind,arguments)}function zoe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function lr(t,e,n){return(lr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hoe:zoe).apply(null,arguments)}function _m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function zo(){this.s=this.s,this.o=this.o}zo.prototype.s=!1,zo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Loe(t){Object.prototype.hasOwnProperty.call(t,nE)&&t[nE]||(t[nE]=++Boe)}(this)},zo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function rE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(mm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ur(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ur.prototype.h=function(){this.defaultPrevented=!0};var joe=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ge.addEventListener("test",()=>{},e),Ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Gf(t){return/^[\s\xa0]*$/.test(t)}function vm(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function ms(t){return-1!=vm().indexOf(t)}function iE(t){return iE[" "](t),t}iE[" "]=function(){};var oE,t,Goe=ms("Opera"),jl=ms("Trident")||ms("MSIE"),JP=ms("Edge"),sE=JP||jl,ZP=ms("Gecko")&&!(-1!=vm().toLowerCase().indexOf("webkit")&&!ms("Edge"))&&!(ms("Trident")||ms("MSIE"))&&!ms("Edge"),qoe=-1!=vm().toLowerCase().indexOf("webkit")&&!ms("Edge");function eM(){var t=Ge.document;return t?t.documentMode:void 0}e:{var aE="",cE=(t=vm(),ZP?/rv:([^\);]+)(\)|;)/.exec(t):JP?/Edge\/([\d\.]+)/.exec(t):jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):qoe?/WebKit\/(\S+)/.exec(t):Goe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(cE&&(aE=cE?cE[1]:""),jl){var lE=eM();if(null!=lE&&lE>parseFloat(aE)){oE=String(lE);break e}}oE=aE}var Woe=Ge.document&&jl&&(eM()||parseInt(oE,10))||void 0;function qf(t,e){if(ur.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZP){e:{try{iE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Koe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qf.$.h.call(this)}}Nn(qf,ur);var Koe={2:"touch",3:"pen",4:"mouse"};qf.prototype.h=function(){qf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wf="closure_listenable_"+(1e6*Math.random()|0),Yoe=0;function Qoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Yoe,this.fa=this.ia=!1}function ym(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nM(t){const e={};for(const n in t)e[n]=t[n];return e}const rM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iM(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<rM.length;s++)n=rM[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Em(t){this.src=t,this.g={},this.h=0}function fE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=QP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ym(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function hE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Em.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=hE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Qoe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var pE="closure_lm_"+(1e6*Math.random()|0),gE={};function sM(t,e,n,r,i){if(r&&r.once)return aM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sM(t,e[s],n,r,i);return null}return n=yE(n),t&&t[Wf]?t.O(e,n,$f(r)?!!r.capture:!!r,i):oM(t,e,n,!1,r,i)}function oM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$f(i)?!!i.capture:!!i,a=_E(t);if(a||(t[pE]=a=new Em(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Joe(){const e=Zoe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)joe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lM(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function aM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aM(t,e[s],n,r,i);return null}return n=yE(n),t&&t[Wf]?t.P(e,n,$f(r)?!!r.capture:!!r,i):oM(t,e,n,!0,r,i)}function cM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)cM(t,e[s],n,r,i);else r=$f(r)?!!r.capture:!!r,n=yE(n),t&&t[Wf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=hE(s=t.g[e],n,r,i))&&(ym(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=_E(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hE(e,n,r,i)),(n=-1<t?e[t]:null)&&mE(n))}function mE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Wf])fE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_E(e))?(fE(n,t),0==n.h&&(n.src=null,e[pE]=null)):ym(t)}}}function lM(t){return t in gE?gE[t]:gE[t]="on"+t}function Zoe(t,e){if(t.fa)t=!0;else{e=new qf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&mE(t),t=n.call(r,e)}return t}function _E(t){return(t=t[pE])instanceof Em?t:null}var vE="__closure_events_fn_"+(1e9*Math.random()>>>0);function yE(t){return"function"==typeof t?t:(t[vE]||(t[vE]=function(e){return t.handleEvent(e)}),t[vE])}function On(){zo.call(this),this.i=new Em(this),this.S=this,this.J=null}function Yn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ur(e,t);else if(e instanceof ur)e.target=e.target||t;else{var i=e;iM(e=new ur(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=xm(o,r,!0,e)&&i}if(i=xm(o=e.g=t,r,!0,e)&&i,i=xm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=xm(o=e.g=n[s],r,!1,e)&&i}function xm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&fE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Nn(On,zo),On.prototype[Wf]=!0,On.prototype.removeEventListener=function(t,e,n,r){cM(this,t,e,n,r)},On.prototype.N=function(){if(On.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ym(n[r]);delete t.g[e],t.h--}}this.J=null},On.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},On.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var EE=Ge.JSON.stringify;function tae(){var t=xE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var uM=new class eae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rae,t=>t.reset());class rae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function iae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function sae(t){Ge.setTimeout(()=>{throw t},0)}let Kf,Yf=!1,xE=new class nae{constructor(){this.h=this.g=null}add(e,n){const r=uM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},dM=()=>{const t=Ge.Promise.resolve(void 0);Kf=()=>{t.then(oae)}};var oae=()=>{for(var t;t=tae();){try{t.h.call(t.g)}catch(n){sae(n)}var e=uM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yf=!1};function Cm(t,e){On.call(this),this.h=t||1,this.g=e||Ge,this.j=lr(this.qb,this),this.l=Date.now()}function CE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function IE(t,e,n){if("function"==typeof t)n&&(t=lr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lr(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function fM(t){t.g=IE(()=>{t.g=null,t.i&&(t.i=!1,fM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nn(Cm,On),(Ee=Cm.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yn(this,"tick"),this.ga&&(CE(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){Cm.$.N.call(this),CE(this),delete this.g};class aae extends zo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fM(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qf(t){zo.call(this),this.h=t,this.g={}}Nn(Qf,zo);var hM=[];function pM(t,e,n,r){Array.isArray(n)||(n&&(hM[0]=n.toString()),n=hM);for(var i=0;i<n.length;i++){var s=sM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function gM(t){dE(t.g,function(e,n){this.g.hasOwnProperty(n)&&mE(e)},t),t.g={}}function Im(){this.g=!0}function $l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return EE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Qf.prototype.N=function(){Qf.$.N.call(this),gM(this)},Qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Im.prototype.Ea=function(){this.g=!1},Im.prototype.info=function(){};var Ga={},mM=null;function bm(){return mM=mM||new On}function _M(t){ur.call(this,Ga.Ta,t)}function Xf(t){const e=bm();Yn(e,new _M(e))}function vM(t,e){ur.call(this,Ga.STAT_EVENT,t),this.stat=e}function Ar(t){const e=bm();Yn(e,new vM(e,t))}function yM(t,e){ur.call(this,Ga.Ua,t),this.size=e}function Jf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}Ga.Ta="serverreachability",Nn(_M,ur),Ga.STAT_EVENT="statevent",Nn(vM,ur),Ga.Ua="timingevent",Nn(yM,ur);var wm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},EM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bE(){}function CM(){}bE.prototype.h=null;var TE,Zf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wE(){ur.call(this,"d")}function AE(){ur.call(this,"c")}function Am(){}function eh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qf(this),this.P=fae,this.V=new Cm(t=sE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IM}function IM(){this.i=null,this.g="",this.h=!1}Nn(wE,ur),Nn(AE,ur),Nn(Am,bE),Am.prototype.g=function(){return new XMLHttpRequest},Am.prototype.i=function(){return{}},TE=new Am;var fae=45e3,DE={},Tm={};function SE(t,e,n){t.L=1,t.v=Pm(ro(e)),t.s=n,t.S=!0,bM(t,null)}function bM(t,e){t.G=Date.now(),th(t),t.A=ro(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),NM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new IM,t.g=ik(t.l,n?e:null,!t.s),0<t.O&&(t.M=new aae(lr(t.Pa,t,t.g),t.O)),pM(t.U,t.g,"readystatechange",t.nb),e=t.I?nM(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Xf(),function cae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function wM(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function AM(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=hae(t,n),i==Tm){4==e&&(t.o=4,Ar(14),r=!1),$l(t.j,t.m,null,"[Incomplete Response]");break}if(i==DE){t.o=4,Ar(15),$l(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}$l(t.j,t.m,i,null),RE(t,i)}wM(t)&&i!=Tm&&i!=DE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ar(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),VE(e),e.M=!0,Ar(11))):($l(t.j,t.m,n,"[Invalid Chunked Response]"),qa(t),nh(t))}function hae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Tm:(n=Number(e.substring(n,r)),isNaN(n)?DE:(r+=1)+n>e.length?Tm:(e=e.slice(r,r+n),t.C=r+n,e))}function th(t){t.Y=Date.now()+t.P,TM(t,t.P)}function TM(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Jf(lr(t.lb,t),e)}function Dm(t){t.B&&(Ge.clearTimeout(t.B),t.B=null)}function nh(t){0==t.l.H||t.J||ek(t.l,t)}function qa(t){Dm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,CE(t.V),gM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function RE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||PE(n.i,t)))if(!t.K&&PE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Vm(n),Om(n)}FE(n),Ar(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jf(lr(n.ib,n),6e3));if(1>=VM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ka(n,11)}else if((t.K||n.g==t)&&Vm(n),!Gf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ME(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Bt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=rk(r,r.J?r.pa:null,r.Y),o.K){LM(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Dm(a),th(a)),r.g=o}else JM(r);0<n.j.length&&Fm(n)}else"stop"!=l[0]&&"close"!=l[0]||Ka(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ka(n,7):OE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Xf()}catch{}}function DM(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(mm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function gae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(mm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function pae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(mm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ee=eh.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==_s(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const u=_s(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||sE||this.g&&(this.h.h||this.g.ja()||qM(this.g)))){this.J||4!=u||7==e||Xf(),Dm(this);var n=this.g.da();this.ca=n;t:if(wM(this)){var r=qM(this.g);t="";var i=r.length,s=4==_s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qa(this),nh(this);var o="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function lae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Ar(12),qa(this),nh(this);break e}$l(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RE(this,n)}this.S?(AM(this,u,o),sE&&this.i&&3==u&&(pM(this.U,this.V,"tick",this.mb),this.V.start())):($l(this.j,this.m,o,null),RE(this,o)),4==u&&qa(this),this.i&&!this.J&&(4==u?ek(this.l,this):(this.i=!1,th(this)))}else(function kae(t){const e={};t=(t.g&&2<=_s(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Gf(t[r]))continue;var n=iae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Xoe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),qa(this),nh(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=_s(this.g),e=this.g.ja();this.C<e.length&&(Dm(this),AM(this,t,e),this.i&&4!=t&&th(this))}},Ee.cancel=function(){this.J=!0,qa(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function uae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xf(),Ar(17)),qa(this),this.o=2,nh(this)):TM(this,this.Y-t)};var SM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wa){this.h=t.h,Sm(this,t.j),this.s=t.s,this.g=t.g,Rm(this,t.m),this.l=t.l;var e=t.i,n=new sh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),RM(this,n),this.o=t.o}else t&&(e=String(t).match(SM))?(this.h=!1,Sm(this,e[1]||"",!0),this.s=rh(e[2]||""),this.g=rh(e[3]||"",!0),Rm(this,e[4]),this.l=rh(e[5]||"",!0),RM(this,e[6]||"",!0),this.o=rh(e[7]||"")):(this.h=!1,this.i=new sh(null,this.h))}function ro(t){return new Wa(t)}function Sm(t,e,n){t.j=n?rh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RM(t,e,n){e instanceof sh?(t.i=e,function Cae(t,e){e&&!t.j&&(Uo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MM(this,r),NM(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ih(e,Eae)),t.i=new sh(e,t.h))}function Bt(t,e,n){t.i.set(e,n)}function Pm(t){return Bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ih(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,_ae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _ae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ih(e,PM,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ih(e,PM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ih(n,"/"==n.charAt(0)?yae:vae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ih(n,xae)),t.join("")};var PM=/[#\/\?@]/g,vae=/[#\?:]/g,yae=/[#\?]/g,Eae=/[#\?@]/g,xae=/#/g;function sh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Uo(t){t.g||(t.g=new Map,t.h=0,t.i&&function mae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function MM(t,e){Uo(t),e=Gl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kM(t,e){return Uo(t),e=Gl(t,e),t.g.has(e)}function NM(t,e,n){MM(t,e),0<n.length&&(t.i=null,t.g.set(Gl(t,e),rE(n)),t.h+=n.length)}function Gl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OM(t){this.l=t||bae,t=Ge.PerformanceNavigationTiming?0<(t=Ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=sh.prototype).add=function(t,e){Uo(this),this.i=null,t=Gl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){Uo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){Uo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ee.Z=function(t){Uo(this);let e=[];if("string"==typeof t)kM(this,t)&&(e=e.concat(this.g.get(Gl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return Uo(this),this.i=null,kM(this,t=Gl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var bae=10;function FM(t){return!!t.h||!!t.g&&t.g.size>=t.j}function VM(t){return t.h?1:t.g?t.g.size:0}function PE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ME(t,e){t.g?t.g.add(e):t.h=e}function LM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function BM(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return rE(t.i)}OM.prototype.cancel=function(){if(this.i=BM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var wae=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function Aae(){this.g=new wae}function Tae(t,e,n){const r=n||"";try{DM(t,function(i,s){let o=i;$f(i)&&(o=EE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function oh(t){this.l=t.ec||null,this.j=t.ob||!1}function km(t,e){On.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=kE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nn(oh,bE),oh.prototype.g=function(){return new km(this.l,this.j)},oh.prototype.i=function(t){return function(){return t}}({}),Nn(km,On);var kE=0;function HM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ah(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ch(t)}function ch(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=km.prototype).open=function(t,e){if(this.readyState!=kE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ch(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ah(this)),this.readyState=kE},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ch(this)),this.g&&(this.readyState=3,ch(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ah(this):ch(this),3==this.readyState&&HM(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,ah(this))},Ee.Ya=function(t){this.g&&(this.response=t,ah(this))},Ee.ka=function(){this.g&&ah(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(km.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Sae=Ge.JSON.parse;function sn(t){On.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zM,this.L=this.M=!1}Nn(sn,On);var zM="",Rae=/^https?$/i,Pae=["POST","PUT"];function UM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jM(t),Nm(t)}function jM(t){t.F||(t.F=!0,Yn(t,"complete"),Yn(t,"error"))}function $M(t){if(t.h&&typeof tE<"u"&&(!t.C[1]||4!=_s(t)||2!=t.da()))if(t.v&&4==_s(t))IE(t.La,0,t);else if(Yn(t,"readystatechange"),4==_s(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(SM)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!Rae.test(i?i.toLowerCase():"")}n=r}if(n)Yn(t,"complete"),Yn(t,"success");else{t.m=6;try{var s=2<_s(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",jM(t)}}finally{Nm(t)}}}function Nm(t,e){if(t.g){GM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Yn(t,"ready");try{n.onreadystatechange=r}catch{}}}function GM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}function _s(t){return t.g?t.g.readyState:0}function qM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function WM(t){let e="";return dE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function NE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=WM(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Bt(t,e,n))}function lh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KM(t){this.Ga=0,this.j=[],this.l=new Im,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lh("baseRetryDelayMs",5e3,t),this.hb=lh("retryDelaySeedMs",1e4,t),this.eb=lh("forwardChannelMaxRetries",2,t),this.xa=lh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OM(t&&t.concurrentRequestLimit),this.Ja=new Aae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function OE(t){if(YM(t),3==t.H){var e=t.W++,n=ro(t.I);if(Bt(n,"SID",t.K),Bt(n,"RID",e),Bt(n,"TYPE","terminate"),uh(t,n),(e=new eh(t,t.l,e)).L=2,e.v=Pm(ro(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=ik(e.l,null),e.g.ha(e.v)),e.G=Date.now(),th(e)}nk(t)}function Om(t){t.g&&(VE(t),t.g.cancel(),t.g=null)}function YM(t){Om(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),Vm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ge.clearTimeout(t.m),t.m=null)}function Fm(t){if(!FM(t.i)&&!t.m){t.m=!0;var e=t.Na;Kf||dM(),Yf||(Kf(),Yf=!0),xE.add(e,t),t.C=0}}function QM(t,e){var n;n=e?e.m:t.W++;const r=ro(t.I);Bt(r,"SID",t.K),Bt(r,"RID",n),Bt(r,"AID",t.V),uh(t,r),t.o&&t.s&&NE(r,t.o,t.s),n=new eh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ME(t.i,n),SE(n,r,e)}function uh(t,e){t.na&&dE(t.na,function(n,r){Bt(e,r,n)}),t.h&&DM({},function(n,r){Bt(e,r,n)})}function XM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?lr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Tae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kf||dM(),Yf||(Kf(),Yf=!0),xE.add(e,t),t.A=0}}function FE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Jf(lr(t.Ma,t),tk(t,t.A)),t.A++,0))}function VE(t){null!=t.B&&(Ge.clearTimeout(t.B),t.B=null)}function ZM(t){t.g=new eh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ro(t.wa);Bt(e,"RID","rpc"),Bt(e,"SID",t.K),Bt(e,"AID",t.V),Bt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Bt(e,"TO",t.qa),Bt(e,"TYPE","xmlhttp"),uh(t,e),t.o&&t.s&&NE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Pm(ro(e)),n.s=null,n.S=!0,bM(n,t)}function Vm(t){null!=t.v&&(Ge.clearTimeout(t.v),t.v=null)}function ek(t,e){var n=null;if(t.g==e){Vm(t),VE(t),t.g=null;var r=2}else{if(!PE(t.i,e))return;n=e.F,LM(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Yn(r=bm(),new yM(r,n)),Fm(t)}else JM(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Nae(t,e){return!(VM(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Jf(lr(t.Na,t,e),tk(t,t.C)),t.C++,0)))}(t,e)||2==r&&FE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ka(t,5);break;case 4:Ka(t,10);break;case 3:Ka(t,6);break;default:Ka(t,2)}}function tk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ka(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=lr(t.pb,t);n||(n=new Wa("//www.google.com/images/cleardot.gif"),Ge.location&&"http"==Ge.location.protocol||Sm(n,"https"),Pm(n)),function Dae(t,e){const n=new Im;if(Ge.Image){const r=new Image;r.onload=_m(Mm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_m(Mm,n,r,"TestLoadImage: error",!1,e),r.onabort=_m(Mm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_m(Mm,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ar(2);t.H=0,t.h&&t.h.za(e),nk(t),YM(t)}function nk(t){if(t.H=0,t.ma=[],t.h){const e=BM(t.i);(0!=e.length||0!=t.j.length)&&(XP(t.ma,e),XP(t.ma,t.j),t.i.i.length=0,rE(t.j),t.j.length=0),t.h.ya()}}function rk(t,e,n){var r=n instanceof Wa?ro(n):new Wa(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Rm(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Wa(null);r&&Sm(s,r),e&&(s.g=e),i&&Rm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Bt(r,n,e),Bt(r,"VER",t.ra),uh(t,r),r}function ik(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sn(n&&t.Ha&&!t.va?new oh({ob:!0}):t.va)).Oa(t.J),e}function sk(){}function Lm(){if(jl&&!(10<=Number(Woe)))throw Error("Environmental error: no available transport.")}function ni(t,e){On.call(this),this.g=new KM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ql(this)}function ok(t){wE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ak(){AE.call(this),this.status=1}function ql(t){this.g=t}function $i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function LE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function It(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ee=sn.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():TE.g(),this.C=function xM(t){return t.h||(t.h=t.i())}(this.u?this.u:TE),this.g.onreadystatechange=lr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void UM(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=QP(Pae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GM(this),0<this.B&&((this.L=function Mae(t){return jl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lr(this.ua,this)):this.A=IE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){UM(this,s)}},Ee.ua=function(){typeof tE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yn(this,"complete"),Yn(this,"abort"),Nm(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nm(this,!0)),sn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?$M(this):this.kb())},Ee.kb=function(){$M(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<_s(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sae(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=KM.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new eh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=nM(s),iM(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XM(this,i,e),Bt(n=ro(this.I),"RID",t),Bt(n,"CVER",22),this.F&&Bt(n,"X-HTTP-Session-Id",this.F),uh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(WM(s)))+"&"+e:this.o&&NE(n,this.o,s)),ME(this.i,i),this.bb&&Bt(n,"TYPE","init"),this.P?(Bt(n,"$req",e),Bt(n,"SID","null"),i.aa=!0,SE(i,n,null)):SE(i,n,e),this.H=2}}else 3==this.H&&(t?QM(this,t):0==this.j.length||FM(this.i)||QM(this))},Ee.Ma=function(){if(this.u=null,ZM(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jf(lr(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ar(10),Om(this),ZM(this))},Ee.ib=function(){null!=this.v&&(this.v=null,Om(this),FE(this),Ar(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ar(2)):(this.l.info("Failed to ping google.com"),Ar(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=sk.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},Lm.prototype.g=function(t,e){return new ni(t,e)},Nn(ni,On),ni.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ar(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rk(t,null,t.Y),Fm(t)},ni.prototype.close=function(){OE(this.g)},ni.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=EE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Fm(e)},ni.prototype.N=function(){this.g.h=null,delete this.j,OE(this.g),delete this.g,ni.$.N.call(this)},Nn(ok,wE),Nn(ak,AE),Nn(ql,sk),ql.prototype.Ba=function(){Yn(this.g,"a")},ql.prototype.Aa=function(t){Yn(this.g,new ok(t))},ql.prototype.za=function(t){Yn(this.g,new ak)},ql.prototype.ya=function(){Yn(this.g,"b")},Nn($i,function Oae(){this.blockSize=-1}),$i.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$i.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)LE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){LE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){LE(this,r),i=0;break}}this.h=i,this.i+=e},$i.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Fae={};function BE(t){return-128<=t&&128>t?function $oe(t,e){var n=Fae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new It([0|e],0>e?-1:0)}):new It([0|t],0>t?-1:0)}function vs(t){if(isNaN(t)||!isFinite(t))return Wl;if(0>t)return Qn(vs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=HE;return new It(e,0)}var HE=4294967296,Wl=BE(0),zE=BE(1),lk=BE(16777216);function io(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ii(t){return-1==t.h}function Qn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new It(n,~t.h).add(zE)}function Bm(t,e){return t.add(Qn(e))}function Hm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dh(t,e){this.g=t,this.h=e}function zm(t,e){if(io(e))throw Error("division by zero");if(io(t))return new dh(Wl,Wl);if(Ii(t))return e=zm(Qn(t),e),new dh(Qn(e.g),Qn(e.h));if(Ii(e))return e=zm(t,Qn(e)),new dh(Qn(e.g),e.h);if(30<t.g.length){if(Ii(t)||Ii(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zE,r=e;0>=r.X(t);)n=uk(n),r=uk(r);var i=Kl(n,1),s=Kl(r,1);for(r=Kl(r,2),n=Kl(n,2);!io(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Kl(r,1),n=Kl(n,1)}return e=Bm(t,i.R(e)),new dh(i,e)}for(i=Wl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=vs(n)).R(e);Ii(o)||0<o.X(t);)o=(s=vs(n-=r)).R(e);io(s)&&(s=zE),i=i.add(s),t=Bm(t,o)}return new dh(i,t)}function uk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new It(n,t.h)}function Kl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new It(i,t.h)}(Ee=It.prototype).ea=function(){if(Ii(this))return-Qn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:HE+r)*e,e*=HE}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(io(this))return"0";if(Ii(this))return"-"+Qn(this).toString(t);for(var e=vs(Math.pow(t,6)),n=this,r="";;){var i=zm(n,e).g,s=((0<(n=Bm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(io(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return Ii(t=Bm(this,t))?-1:io(t)?0:1},Ee.abs=function(){return Ii(this)?Qn(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new It(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(io(this)||io(t))return Wl;if(Ii(this))return Ii(t)?Qn(this).R(Qn(t)):Qn(Qn(this).R(t));if(Ii(t))return Qn(this.R(Qn(t)));if(0>this.X(lk)&&0>t.X(lk))return vs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,Hm(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Hm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Hm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Hm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new It(n,0)},Ee.gb=function(t){return zm(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new It(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new It(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new It(n,this.h^t.h)},Lm.prototype.createWebChannel=Lm.prototype.g,ni.prototype.send=ni.prototype.u,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,wm.NO_ERROR=0,wm.TIMEOUT=8,wm.HTTP_ERROR=6,EM.COMPLETE="complete",CM.EventType=Zf,Zf.OPEN="a",Zf.CLOSE="b",Zf.ERROR="c",Zf.MESSAGE="d",On.prototype.listen=On.prototype.O,sn.prototype.listenOnce=sn.prototype.P,sn.prototype.getLastError=sn.prototype.Sa,sn.prototype.getLastErrorCode=sn.prototype.Ia,sn.prototype.getStatus=sn.prototype.da,sn.prototype.getResponseJson=sn.prototype.Wa,sn.prototype.getResponseText=sn.prototype.ja,sn.prototype.send=sn.prototype.ha,sn.prototype.setWithCredentials=sn.prototype.Oa,$i.prototype.digest=$i.prototype.l,$i.prototype.reset=$i.prototype.reset,$i.prototype.update=$i.prototype.j,It.prototype.add=It.prototype.add,It.prototype.multiply=It.prototype.R,It.prototype.modulo=It.prototype.gb,It.prototype.compare=It.prototype.X,It.prototype.toNumber=It.prototype.ea,It.prototype.toString=It.prototype.toString,It.prototype.getBits=It.prototype.D,It.fromNumber=vs,It.fromString=function ck(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Qn(ck(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vs(Math.pow(e,8)),r=Wl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=vs(Math.pow(e,s)),r=r.R(s).add(vs(o))):r=(r=r.R(n)).add(vs(o))}return r};var Vae=ji.createWebChannelTransport=function(){return new Lm},Lae=ji.getStatEventTarget=function(){return bm()},UE=ji.ErrorCode=wm,Bae=ji.EventType=EM,Hae=ji.Event=Ga,dk=ji.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zae=ji.FetchXmlHttpFactory=oh,Um=ji.WebChannel=CM,Uae=ji.XhrIo=sn,jae=ji.Md5=$i,Yl=ji.Integer=It;const fk="@firebase/firestore";class Fn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");let Ql="10.5.2";const jo=new Af("@firebase/firestore");function Xl(){return jo.logLevel}function te(t,...e){if(jo.logLevel<=ot.DEBUG){const n=e.map(jE);jo.debug(`Firestore (${Ql}): ${t}`,...n)}}function hn(t,...e){if(jo.logLevel<=ot.ERROR){const n=e.map(jE);jo.error(`Firestore (${Ql}): ${t}`,...n)}}function ri(t,...e){if(jo.logLevel<=ot.WARN){const n=e.map(jE);jo.warn(`Firestore (${Ql}): ${t}`,...n)}}function jE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ae(t="Unexpected state"){const e=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: `+t;throw hn(e),new Error(e)}function Re(t,e){t||Ae()}function pe(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class Gae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qae{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re("string"==typeof r.accessToken),new hk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(null===e||"string"==typeof e),new Fn(e)}}class Wae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re("string"==typeof n.token),this.R=n.token,new pk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Qae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class gk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Qae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Jl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Xt(0,0))}static max(){return new Me(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ae(),void 0===r?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===fh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends fh{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const Xae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends fh{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return Xae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(lt.fromString(e))}static fromName(e){return new ge(lt.fromString(e).popFirst(5))}static empty(){return new ge(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new lt(e.slice()))}}function vk(t){return new ii(t.readTime,t.key,-1)}class ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ii(Me.min(),ge.empty(),-1)}static max(){return new ii(Me.max(),ge.empty(),-1)}}function GE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ge.comparator(t.documentKey,e.documentKey),0!==n?n:Ue(t.largestBatchId,e.largestBatchId))}const yk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ece{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function $o(t){return qE.apply(this,arguments)}function qE(){return qE=v(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==yk)throw t;te("LocalStore","Unexpectedly lost primary lease")}),qE.apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Go(t){return"IndexedDbTransactionError"===t.name}let si=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function ph(t){return null==t}function gh(t){return 0===t&&1/t==-1/0}function Dk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||Xn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gm(this.root,e,this.comparator,!0)}}class Gm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xn.RED,this.left=i??Xn.EMPTY,this.right=s??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1,Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class At{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rk(this.data.getIterator())}getIteratorFrom(e){return new Rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class Rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ur{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Ur([])}unionWith(e){let n=new At(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Pk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Pk("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const Ice=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(t){if(Re(!!t),"string"==typeof t){let e=0;const n=Ice.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function so(t){return"string"==typeof t?Rn.fromBase64String(t):Rn.fromUint8Array(t)}function qm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wm(t){const e=t.mapValue.fields.__previous_value__;return qm(e)?Wm(e):e}function mh(t){const e=Wo(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}class bce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}const Ko={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qm(t)?4:Ok(t)?9007199254740991:10:Ae()}function Es(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mh(t).isEqual(mh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Wo(i.timestampValue),a=Wo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,so(t.bytesValue).isEqual(so(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return on(i.geoPointValue.latitude)===on(s.geoPointValue.latitude)&&on(i.geoPointValue.longitude)===on(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return on(i.integerValue)===on(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=on(i.doubleValue),a=on(s.doubleValue);return o===a?gh(o)===gh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Jl(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Dk(o)!==Dk(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Es(o[c],a[c])))return!1;return!0}(t,e);default:return Ae()}var s}function _h(t,e){return void 0!==(t.values||[]).find(n=>Es(n,e))}function Qo(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=on(s.integerValue||s.doubleValue),c=on(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Mk(t.timestampValue,e.timestampValue);case 4:return Mk(mh(t),mh(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=so(s),c=so(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Ue(a[l],c[l]);if(0!==u)return u}return Ue(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(on(s.latitude),on(o.latitude));return 0!==a?a:Ue(on(s.longitude),on(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Qo(a[l],c[l]);if(u)return u}return Ue(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ko.mapValue&&o===Ko.mapValue)return 0;if(s===Ko.mapValue)return 1;if(o===Ko.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=Ue(c[d],u[d]);if(0!==f)return f;const h=Qo(a[c[d]],l[u[d]]);if(0!==h)return h}return Ue(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function Mk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ue(t,e);const n=Wo(t),r=Wo(e),i=Ue(n.seconds,r.seconds);return 0!==i?i:Ue(n.nanos,r.nanos)}function nu(t){return YE(t)}function YE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?so(t.bytesValue).toBase64():"referenceValue"in t?ge.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=YE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${YE(n.fields[o])}`;return i+"}"}(t.mapValue):Ae()}function Za(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function QE(t){return!!t&&"integerValue"in t}function vh(t){return!!t&&"arrayValue"in t}function kk(t){return!!t&&"nullValue"in t}function Nk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qm(t){return!!t&&"mapValue"in t}function yh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ok(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yh(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Qm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jn(yh(this.value))}}function Lk(t){const e=[];return qo(t.fields,(n,r)=>{const i=new qt([n]);if(Qm(r)){const s=Lk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ur(e)}class Ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,Me.min(),Me.min(),Me.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,Me.min(),Me.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Me.min(),Me.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xo{constructor(e,n){this.position=e,this.inclusive=n}}function Bk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ge.comparator(ge.fromName(o.referenceValue),n.key):Qo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Hk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class zk{}class rt extends zk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Dce(e,n,r):"array-contains"===n?new Pce(e,r):"in"===n?new Wk(e,r):"not-in"===n?new Mce(e,r):"array-contains-any"===n?new kce(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Sce(e,r):new Rce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Qo(n,this.value)):null!==n&&Yo(this.value)===Yo(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends zk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new bt(e,n)}matches(e){return ru(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ru(t){return"and"===t.op}function JE(t){return function Uk(t){for(const e of t.filters)if(e instanceof bt)return!1;return!0}(t)&&ru(t)}function ZE(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+nu(t.value);if(JE(t))return t.filters.map(e=>ZE(e)).join(",");{const e=t.filters.map(n=>ZE(n)).join(",");return`${t.op}(${e})`}}function jk(t,e){return t instanceof rt?(r=t,(i=e)instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Es(r.value,i.value)):t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&jk(o,i.filters[a]),!0)}(t,e):void Ae();var r,i}function Gk(t){return t instanceof rt?`${(n=t).field.canonicalString()} ${n.op} ${nu(n.value)}`:t instanceof bt?function(n){return n.op.toString()+" {"+n.getFilters().map(Gk).join(" ,")+"}"}(t):"Filter";var n}class Dce extends rt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sce extends rt{constructor(e,n){super(e,"in",n),this.keys=qk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rce extends rt{constructor(e,n){super(e,"not-in",n),this.keys=qk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class Pce extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vh(n)&&_h(n.arrayValue,this.value)}}class Wk extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&_h(this.value.arrayValue,n)}}class Mce extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!_h(this.value.arrayValue,n)}}class kce extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_h(this.value.arrayValue,r))}}class Nce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function e8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nce(t,e,n,r,i,s,o)}function ec(t){const e=pe(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ZE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),e.ce=n}return e.ce}function xh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hk(t.startAt,e.startAt)&&Hk(t.endAt,e.endAt)}function Xm(t){return ge.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class oo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function iu(t){return new oo(t)}function Xk(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function t8(t){return null!==t.collectionGroup}function su(t){const e=pe(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(qt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Eh(s,r))}),n.has(qt.keyField().canonicalString())||e.le.push(new Eh(qt.keyField(),r))}return e.le}function Tr(t){const e=pe(t);return e.he||(e.he=function Jk(t,e){if("F"===t.limitType)return e8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Eh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Xo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xo(t.startAt.position,t.startAt.inclusive):null;return e8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,su(t))),e.he}function n8(t,e){const n=t.filters.concat([e]);return new oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zm(t,e,n){return new oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return xh(Tr(t),Tr(e))&&t.limitType===e.limitType}function Zk(t){return`${ec(Tr(t))}|lt:${t.limitType}`}function ou(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Gk(i)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nu(i)).join(",")),`Target(${r})`}(Tr(t))}; limitType=${t.limitType})`}function Ih(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of su(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Bk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,su(r),i)||r.endAt&&!function(o,a,c){const l=Bk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,su(r),i)));var r,i}function tN(t){return(e,n)=>{let r=!1;for(const i of su(t)){const s=Oce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Oce(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?Qo(c,l):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Sk(this.inner)}size(){return this.innerSize}}const Fce=new Vt(ge.comparator);function jr(){return Fce}const nN=new Vt(ge.comparator);function bh(...t){let e=nN;for(const n of t)e=e.insert(n.key,n);return e}function rN(t){let e=nN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return wh()}function iN(){return wh()}function wh(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vce=new Vt(ge.comparator),Lce=new At(ge.comparator);function Qe(...t){let e=Lce;for(const n of t)e=e.add(n);return e}const Bce=new At(Ue);function sN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function oN(t){return{integerValue:""+t}}function aN(t,e){return function xk(t){return"number"==typeof t&&Number.isInteger(t)&&!gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?oN(e):sN(t,e)}class e1{constructor(){this._=void 0}}function Hce(t,e,n){return t instanceof au?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qm(s)&&(s=Wm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof tc?lN(t,e):t instanceof nc?uN(t,e):function(i,s){const o=cN(i,s),a=dN(o)+dN(i.Ie);return QE(o)&&QE(i.Ie)?oN(a):sN(i.serializer,a)}(t,e)}function zce(t,e,n){return t instanceof tc?lN(t,e):t instanceof nc?uN(t,e):n}function cN(t,e){return t instanceof cu?QE(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class au extends e1{}class tc extends e1{constructor(e){super(),this.elements=e}}function lN(t,e){const n=fN(e);for(const r of t.elements)n.some(i=>Es(i,r))||n.push(r);return{arrayValue:{values:n}}}class nc extends e1{constructor(e){super(),this.elements=e}}function uN(t,e){let n=fN(e);for(const r of t.elements)n=n.filter(i=>!Es(i,r));return{arrayValue:{values:n}}}class cu extends e1{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function dN(t){return on(t.integerValue||t.doubleValue)}function fN(t){return vh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class jce{constructor(e,n){this.version=e,this.transformResults=n}}class Wt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wt}static exists(e){return new Wt(void 0,e)}static updateTime(e){return new Wt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function t1(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class n1{}function hN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new uu(t.key,Wt.none()):new lu(t.key,t.data,Wt.none());{const n=t.data,r=Jn.empty();let i=new At(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new co(t.key,r,new Ur(i.toArray()),Wt.none())}}function $ce(t,e,n){t instanceof lu?function(i,s,o){const a=i.value.clone(),c=mN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,s,o){if(!t1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=mN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(gN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Th(t,e,n,r){return t instanceof lu?function(s,o,a,c){if(!t1(s.precondition,o))return a;const l=s.value.clone(),u=_N(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(s,o,a,c){if(!t1(s.precondition,o))return a;const l=_N(s.fieldTransforms,c,o),u=o.data;return u.setAll(gN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,t1(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Gce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=cN(r.transform,i||null);null!=s&&(null===n&&(n=Jn.empty()),n.set(r.field,s))}return n||null}function pN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Jl(r,i,(s,o)=>function Uce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof tc&&i instanceof tc||r instanceof nc&&i instanceof nc?Jl(r.elements,i.elements,Es):r instanceof cu&&i instanceof cu?Es(r.Ie,i.Ie):r instanceof au&&i instanceof au);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class lu extends n1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends n1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mN(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zce(o,a,n[i]))}return r}function _N(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hce(s,o,e))}return r}class uu extends n1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i8 extends n1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class s8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$ce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=hN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(n,r)=>pN(n,r))&&Jl(this.baseMutations,e.baseMutations,(n,r)=>pN(n,r))}}class o8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=Vce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new o8(e,n,r,i)}}class a8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wce{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cn,ut;function yN(t){if(void 0===t)return hn("GRPC error has no .code"),B.UNKNOWN;switch(t){case Cn.OK:return B.OK;case Cn.CANCELLED:return B.CANCELLED;case Cn.UNKNOWN:return B.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return B.INTERNAL;case Cn.UNAVAILABLE:return B.UNAVAILABLE;case Cn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Cn.NOT_FOUND:return B.NOT_FOUND;case Cn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Cn.ABORTED:return B.ABORTED;case Cn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Cn.DATA_LOSS:return B.DATA_LOSS;default:return Ae()}}(ut=Cn||(Cn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";const Kce=new Yl([4294967295,4294967295],0);function xN(t){const e=function EN(){return new TextEncoder}().encode(t),n=new jae;return n.update(e),new Uint8Array(n.digest())}function CN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yl([n,r],0),new Yl([i,s],0)]}class c8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dh(`Invalid padding: ${n}`);if(r<0)throw new Dh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Dh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Dh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Yl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Yl.fromNumber(r)));return 1===i.compare(Kce)&&(i=new Yl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=xN(e),[r,i]=CN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new c8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=xN(e),[r,i]=CN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sh(Me.min(),i,new Vt(Ue),jr(),Qe())}}class Rh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rh(r,n,Qe(),Qe(),Qe())}}class i1{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class IN{constructor(e,n){this.targetId=e,this.fe=n}}class bN{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wN{constructor(){this.ge=0,this.pe=TN(),this.ye=Rn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new Rh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=TN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Yce{constructor(e){this.Le=e,this.ke=new Map,this.qe=jr(),this.Qe=AN(),this.Ke=new Vt(Ue)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Xm(s))if(0===r){const o=new ge(s.path);this.We(n,o,Ht.newNoDocument(o,Me.min()))}else Re(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=so(r).toUint8Array()}catch(c){if(c instanceof Pk)return ri("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new c8(o,i,s)}catch(c){return ri(c instanceof Dh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Xm(a.target)){const c=new ge(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Ht.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Qe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Sh(e,n,this.Ke,this.qe,r);return this.qe=jr(),this.Qe=AN(),this.Ke=new Vt(Ue),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new wN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new At(Ue),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new wN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function AN(){return new Vt(ge.comparator)}function TN(){return new Vt(ge.comparator)}const Qce={asc:"ASCENDING",desc:"DESCENDING"},Xce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jce={and:"AND",or:"OR"};class Zce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l8(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ele(t,e){return du(t,e.toTimestamp())}function pn(t){return Re(!!t),Me.fromTimestamp(function(n){const r=Wo(n);return new Xt(r.seconds,r.nanos)}(t))}function u8(t,e){return(r=t,new lt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function SN(t){const e=lt.fromString(t);return Re(LN(e)),e}function Ph(t,e){return u8(t.databaseId,e.path)}function Cs(t,e){const n=SN(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(PN(n))}function d8(t,e){return u8(t.databaseId,e)}function Mh(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PN(t){return Re(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function MN(t,e,n){return{name:Ph(t,e),fields:n.value.mapValue.fields}}function NN(t,e){return{documents:[d8(t,e.path)]}}function h8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=d8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=d8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return VN(bt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Jo((d=l).field),direction:sle(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=l8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function ON(t){let e=function RN(t){const e=SN(t);return 4===e.length?lt.emptyPath():PN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=FN(d);return f instanceof bt&&JE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new Eh(fu((p=f).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,ph(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new Xo((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new Xo(d.values||[],!d.before)}(n.endAt)),function Qk(t,e,n,r,i,s,o,a){return new oo(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function FN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fu(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fu(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fu(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fu(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):void 0!==t.fieldFilter?rt.create(fu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return bt.create(n.compositeFilter.filters.map(r=>FN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae();var n}function sle(t){return Qce[t]}function ole(t){return Xce[t]}function ale(t){return Jce[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function fu(t){return qt.fromServerFormat(t.fieldPath)}function VN(t){return t instanceof rt?function(n){if("=="===n.op){if(Nk(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(kk(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Nk(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(kk(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:ole(n.op),value:n.value}}}(t):t instanceof bt?function(n){const r=n.getFilters().map(i=>VN(i));return 1===r.length?r[0]:{compositeFilter:{op:ale(n.op),filters:r}}}(t):Ae()}function cle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class lo{constructor(e,n,r,i,s=Me.min(),o=Me.min(),a=Rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BN{constructor(e){this.ut=e}}function p8(t){const e=ON({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Zm(e,e.limit,"L"):e}class oc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(on(e.integerValue));else if("doubleValue"in e){const r=on(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),gh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(so(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Ok(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Ae()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ge.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}oc.St=new oc;class mle{constructor(){this.on=new E8}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ii.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class E8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(lt.comparator)).toArray()}}new Uint8Array(0);class fr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(41943040,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class cc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new cc(0)}static Nn(){return new cc(-1)}}class Cle{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Th(r.mutation,i,Ur.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jr();const o=wh(),a=wh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof co)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),Th(u.mutation,l,u.mutation.getFieldMask(),Xt.now())):o.set(l.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new wle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wh();let i=new Vt((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Ur.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Qe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=iN();u.forEach(f=>{if(!s.has(f)){const h=hN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ge.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):t8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(xs());let a=-1,c=s;return o.next(l=>M.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:rN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=bh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bh();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,c=>{const l=(d=n,f=c.child(s),new oo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Ht.newInvalidDocument(u)))});let a=bh();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&Th(u.mutation,l,Ur.empty(),Xt.now()),Ih(n,l)&&(a=a.insert(c,l))}),a})}}class Ale{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:pn(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:p8(i.bundledQuery),readTime:pn(i.readTime)}),M.resolve();var i}}class Tle{constructor(){this.overlays=new Vt(ge.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xs();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=xs(),s=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=xs(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=xs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return M.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new a8(n,r));let s=this.lr.get(n);void 0===s&&(s=Qe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class x8{constructor(){this.hr=new At(Ln.Pr),this.Ir=new At(Ln.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ln(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ln(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ge(new lt([])),r=new Ln(n,e),i=new Ln(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ge(new lt([])),r=new Ln(n,e),i=new Ln(n,e+1);let s=Qe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ln(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ln{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ge.comparator(e.key,n.key)||Ue(e.gr,n.gr)}static Tr(e,n){return Ue(e.gr,n.gr)||ge.comparator(e.key,n.key)}}class Dle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new At(Ln.Pr)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new s8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Ln(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ln(n,0),i=new Ln(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ue);return n.forEach(i=>{const s=new Ln(i,0),o=new Ln(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new Ln(new ge(s),0);let a=new At(Ue);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Re(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{const s=new Ln(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ln(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sle{constructor(e){this.Cr=e,this.docs=new Vt(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jr();const o=n.path,a=new ge(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||GE(vk(u),r)<=0||(i.has(u.key)||Ih(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ae()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rle(this)}getSize(e){return M.resolve(this.size)}}class Rle extends Cle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Ple{constructor(e){this.persistence=e,this.Fr=new ao(n=>ec(n),xh),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new x8,this.targetCount=0,this.Nr=cc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new cc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}class C8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new si(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ple(this),this.indexManager=new mle,this.remoteDocumentCache=new Sle(r=>this.referenceDelegate.Qr(r)),this.serializer=new BN(n),this.Kr=new Ale(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Dle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new Mle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Mle extends ece{constructor(e){super(),this.currentSequenceNumber=e}}class f1{constructor(e){this.persistence=e,this.Gr=new x8,this.zr=null}static jr(e){return new f1(e)}get Hr(){if(this.zr)return this.zr;throw Ae()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const i=ge.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Me.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class A8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A8(e,n.fromCache,r,i)}}class Nle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Nle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Xl()<=ot.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(Xl()<=ot.DEBUG&&te("QueryEngine","Query:",ou(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Xl()<=ot.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):M.resolve())}zi(e,n){if(Xk(n))return M.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Zm(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,Zm(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return Xk(n)||i.isEqual(Me.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?M.resolve(null):(Xl()<=ot.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ou(n)),this.Xi(e,o,n,function _k(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(1e9===r?new Xt(n+1,0):new Xt(n,r));return new ii(i,ge.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new At(tN(e));return n.forEach((i,s)=>{Ih(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Xl()<=ot.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ou(n)),this.Gi.getDocumentsMatchingQuery(e,n,ii.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ole{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Vt(Ue),this.ns=new ao(s=>ec(s),xh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function mO(t,e){return T8.apply(this,arguments)}function T8(){return T8=v(function*(t,e){const n=pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Qe();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),T8.apply(this,arguments)}function _O(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Lle(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vu(t,e,n){return D8.apply(this,arguments)}function D8(){return D8=v(function*(t,e,n){const r=pe(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Go(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),D8.apply(this,arguments)}function g1(t,e,n){const r=pe(t);let i=Me.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=pe(c),f=d.ns.get(u);return void 0!==f?M.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Me.min(),n?s:Qe())).next(a=>(function xO(t,e,n){let r=t.rs.get(e)||Me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function eN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class k8{constructor(){this.activeTargetIds=function r8(){return Bce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bO{constructor(){this.eo=new k8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new k8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zle{ro(e){}shutdown(){}}class wO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let v1=null;function O8(){return null===v1?v1=268435456+Math.round(2147483648*Math.random()):v1++,"0x"+v1.toString(16)}const Ule={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jle{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const hr="WebChannelConnection";class $le extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=O8(),c=this.So(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(te("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ri("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ql,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Ule[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=O8();return new Promise((o,a)=>{const c=new Uae;c.setWithCredentials(!0),c.listenOnce(Bae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case UE.NO_ERROR:const u=c.getResponseJson();te(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case UE.TIMEOUT:te(hr,`RPC '${e}' ${s} timed out`),a(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case UE.HTTP_ERROR:const d=c.getStatus();if(te(hr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(S)>=0?S:B.UNKNOWN}(h.status);a(new ne(p,h.message))}else a(new ne(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ne(B.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{te(hr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);te(hr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=O8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vae(),a=Lae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new zae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");te(hr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new jle({co:E=>{h?te(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(te(hr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(hr,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},lo:()=>d.close()}),g=(E,S,I)=>{E.listen(S,H=>{try{I(H)}catch(G){setTimeout(()=>{throw G},0)}})};return g(d,Um.EventType.OPEN,()=>{h||te(hr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Um.EventType.CLOSE,()=>{h||(h=!0,te(hr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,Um.EventType.ERROR,E=>{h||(h=!0,ri(hr,`RPC '${e}' stream ${i} transport errored:`,E),p.Ro(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,Um.EventType.MESSAGE,E=>{var S;if(!h){const I=E.data[0];Re(!!I);const G=I.error||(null===(S=I[0])||void 0===S?void 0:S.error);if(G){te(hr,`RPC '${e}' stream ${i} received error:`,G);const ue=G.status;let De=function(Jt){const Ai=Cn[Jt];if(void 0!==Ai)return yN(Ai)}(ue),Fe=G.message;void 0===De&&(De=B.INTERNAL,Fe="Unknown error status: "+ue+" with message "+G.message),h=!0,p.Ro(new ne(De,Fe)),d.close()}else te(hr,`RPC '${e}' stream ${i} received:`,I),p.Vo(I)}}),g(a,Hae.STAT_EVENT,E=>{E.stat===dk.PROXY?te(hr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===dk.NOPROXY&&te(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function y1(){return typeof document<"u"?document:null}function zh(t){return new Zce(t,!0)}class F8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class TO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new F8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return v(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return v(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return v(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new ne(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(v(function*(){e.state=0,e.start()}))}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gle extends TO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function nle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ae(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Re(void 0===u||"string"==typeof u),Rn.fromBase64String(u||"")):(Re(void 0===u||u instanceof Uint8Array),Rn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?B.UNKNOWN:yN(l.code);return new ne(u,l.message||"")}(o);n=new bN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Cs(t,r.document.name),s=pn(r.document.updateTime),o=r.document.createTime?pn(r.document.createTime):Me.min(),a=new Jn({mapValue:{fields:r.document.fields}}),c=Ht.newFoundDocument(i,s,o,a);n=new i1(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Cs(t,r.document),s=r.readTime?pn(r.readTime):Me.min(),o=Ht.newNoDocument(i,s);n=new i1([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Cs(t,r.document);n=new i1([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ae();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Wce(i,s);n=new IN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?pn(o.readTime):Me.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Mh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Xm(c)?{documents:NN(s,c)}:{query:h8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DN(s,o.resumeToken);const l=l8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=du(s,o.snapshotVersion.toTimestamp());const l=l8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function ile(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Mh(this.serializer),n.removeTarget=e,this.e_(n)}}class qle extends TO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function rle(t,e){return t&&t.length>0?(Re(void 0!==e),t.map(n=>function(i,s){let o=pn(i.updateTime?i.updateTime:s);return o.isEqual(Me.min())&&(o=pn(s)),new jce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.I_(r,n)}return Re(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Mh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function kh(t,e){let n;if(e instanceof lu)n={update:MN(t,e.key,e.value)};else if(e instanceof uu)n={delete:Ph(t,e.key)};else if(e instanceof co)n={update:MN(t,e.key,e.data),updateMask:cle(e.fieldMask)};else{if(!(e instanceof i8))return Ae();n={verify:Ph(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof au)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:ele(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ae()),n;var s}(this.serializer,r))};this.e_(n)}}class Wle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(B.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Yle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(hn(n),this.f_=!1):te("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Qle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(v(function*(){var c;na(o)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(c=v(function*(u){const d=pe(u);d.C_.add(4),yield yu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Uh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new Yle(r,i)}}function Uh(t){return L8.apply(this,arguments)}function L8(){return L8=v(function*(t){if(na(t))for(const e of t.v_)yield e(!0)}),L8.apply(this,arguments)}function yu(t){return B8.apply(this,arguments)}function B8(){return B8=v(function*(t){for(const e of t.v_)yield e(!1)}),B8.apply(this,arguments)}function E1(t,e){const n=pe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),U8(n)?z8(n):xu(n).Ho()&&H8(n,e))}function jh(t,e){const n=pe(t),r=xu(n);n.D_.delete(e),r.Ho()&&DO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():na(n)&&n.M_.set("Unknown"))}function H8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xu(t).u_(e)}function DO(t,e){t.x_.Oe(e),xu(t).c_(e)}function z8(t){t.x_=new Yce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),xu(t).start(),t.M_.g_()}function U8(t){return na(t)&&!xu(t).jo()&&t.D_.size>0}function na(t){return 0===pe(t).C_.size}function SO(t){t.x_=void 0}function Xle(t){return j8.apply(this,arguments)}function j8(){return j8=v(function*(t){t.D_.forEach((e,n)=>{H8(t,e)})}),j8.apply(this,arguments)}function Jle(t,e){return $8.apply(this,arguments)}function $8(){return $8=v(function*(t,e){SO(t),U8(t)?(t.M_.w_(e),z8(t)):t.M_.set("Unknown")}),$8.apply(this,arguments)}function Zle(t,e,n){return G8.apply(this,arguments)}function G8(){return G8=v(function*(t,e,n){if(t.M_.set("Online"),e instanceof bN&&2===e.state&&e.cause)try{yield(r=v(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield x1(t,r)}else if(e instanceof i1?t.x_.$e(e):e instanceof IN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Me.min()))try{const r=yield _O(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Rn.EMPTY_BYTE_STRING,u.snapshotVersion)),DO(s,c);const d=new lo(u.target,c,l,u.sequenceNumber);H8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield x1(t,r)}var r}),G8.apply(this,arguments)}function x1(t,e,n){return q8.apply(this,arguments)}function q8(){return q8=v(function*(t,e,n){if(!Go(e))throw e;t.C_.add(1),yield yu(t),t.M_.set("Offline"),n||(n=()=>_O(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){te("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Uh(t)}))}),q8.apply(this,arguments)}function RO(t,e){return e().catch(n=>x1(t,n,e))}function Eu(t){return W8.apply(this,arguments)}function W8(){return W8=v(function*(t){const e=pe(t),n=ra(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;eue(e);)try{const i=yield Lle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,tue(e,i)}catch(i){yield x1(e,i)}PO(e)&&MO(e)}),W8.apply(this,arguments)}function eue(t){return na(t)&&t.b_.length<10}function tue(t,e){t.b_.push(e);const n=ra(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function PO(t){return na(t)&&!ra(t).jo()&&t.b_.length>0}function MO(t){ra(t).start()}function nue(t){return K8.apply(this,arguments)}function K8(){return K8=v(function*(t){ra(t).E_()}),K8.apply(this,arguments)}function rue(t){return Y8.apply(this,arguments)}function Y8(){return Y8=v(function*(t){const e=ra(t);for(const n of t.b_)e.P_(n.mutations)}),Y8.apply(this,arguments)}function iue(t,e,n){return Q8.apply(this,arguments)}function Q8(){return Q8=v(function*(t,e,n){const r=t.b_.shift(),i=o8.from(r,e,n);yield RO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Eu(t)}),Q8.apply(this,arguments)}function sue(t,e){return X8.apply(this,arguments)}function X8(){return X8=v(function*(t,e){var n;e&&ra(t).h_&&(yield(n=v(function*(i,s){if(function vN(t){switch(t){default:return Ae();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=s.code)&&a!==B.ABORTED){const o=i.b_.shift();ra(i).Yo(),yield RO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Eu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),PO(t)&&MO(t)}),X8.apply(this,arguments)}function kO(t,e){return J8.apply(this,arguments)}function J8(){return J8=v(function*(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=na(n);n.C_.add(3),yield yu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Uh(n)}),J8.apply(this,arguments)}function ex(){return ex=v(function*(t,e){const n=pe(t);e?(n.C_.delete(2),yield Uh(n)):e||(n.C_.add(2),yield yu(n),n.M_.set("Unknown"))}),ex.apply(this,arguments)}function xu(t){return t.O_||(t.O_=function(n,r,i){const s=pe(n);return s.A_(),new Gle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Xle.bind(null,t),Io:Jle.bind(null,t),a_:Zle.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.O_.Yo(),U8(t)?z8(t):t.M_.set("Unknown")):(yield t.O_.stop(),SO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function ra(t){return t.N_||(t.N_=function(n,r,i){const s=pe(n);return s.A_(),new qle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:nue.bind(null,t),Io:sue.bind(null,t),T_:rue.bind(null,t),I_:iue.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.N_.Yo(),yield Eu(t)):(yield t.N_.stop(),t.b_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class tx{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new tx(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cu(t,e){if(hn("AsyncQueue",`${e}: ${t}`),Go(t))return new ne(B.UNAVAILABLE,`${e}: ${t}`);throw t}class Iu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=bh(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new Iu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class NO{constructor(){this.B_=new Vt(ge.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bu(e,n,Iu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class oue{constructor(){this.k_=void 0,this.listeners=[]}}class aue{constructor(){this.queries=new ao(e=>Zk(e),Ch),this.onlineState="Unknown",this.q_=new Set}}function rx(){return rx=v(function*(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new oue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Cu(o,`Initialization of query '${ou(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&ox(n)}),rx.apply(this,arguments)}function sx(){return sx=v(function*(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),sx.apply(this,arguments)}function cue(t,e){const n=pe(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&ox(n)}function lue(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ox(t){t.q_.forEach(e=>{e.next()})}class ax{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class VO{constructor(e){this.key=e}}class LO{constructor(e){this.key=e}}class BO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=tN(e),this.aa=new Iu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new NO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=Ih(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let E=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),E=!0):this.ha(f,h)||(r.track({type:2,doc:h}),E=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),E=!0):f&&!h&&(r.track({type:1,doc:f}),E=!0,(c||l)&&(a=!0)),E&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new bu(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new NO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new LO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new VO(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return bu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class fue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hue{constructor(e){this.key=e,this.Ra=!1}}class pue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ao(a=>Zk(a),Ch),this.fa=new Map,this.ga=new Set,this.pa=new Vt(ge.comparator),this.ya=new Map,this.wa=new x8,this.Sa={},this.ba=new Map,this.Da=cc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function gue(t,e){return cx.apply(this,arguments)}function cx(){return cx=v(function*(t,e){const n=function Px(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vue.bind(null,e),e.Va.a_=cue.bind(null,e.eventManager),e.Va.Fa=lue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function _u(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new lo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Tr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function lx(t,e,n,r,i){return ux.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&E1(n.remoteStore,o)}return i}),cx.apply(this,arguments)}function ux(){return ux=v(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=v(function*(E,S,I,H){let G=S.view.ca(I);G.Zi&&(G=yield g1(E.localStore,S.query,!1).then(({documents:Fe})=>S.view.ca(Fe,G)));const ue=H&&H.targetChanges.get(S.targetId),De=S.view.applyChanges(G,E.isPrimaryClient,ue);return Ex(E,S.targetId,De.Ta),De.snapshot}),function g(E,S,I,H){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield g1(t.localStore,e,!0),o=new BO(e,s.ls),a=o.ca(s.documents),c=Rh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);Ex(t,n,l.Ta);const u=new fue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),ux.apply(this,arguments)}function mue(t,e){return dx.apply(this,arguments)}function dx(){return dx=v(function*(t,e){const n=pe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Ch(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jh(n.remoteStore,r.targetId),wu(n,r.targetId)}).catch($o))):(wu(n,r.targetId),yield vu(n.localStore,r.targetId,!0))}),dx.apply(this,arguments)}function fx(){return fx=v(function*(t,e,n){const r=function Mx(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Eue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=pe(o),l=Xt.now(),u=a.reduce((h,p)=>h.add(p.key),Qe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=jr(),g=Qe();return c.ss.getEntries(h,u).next(E=>{p=E,p.forEach((S,I)=>{I.isValidDocument()||(g=g.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(E=>{d=E;const S=[];for(const I of a){const H=Gce(I,d.get(I.key).overlayedDocument);null!=H&&S.push(new co(I.key,H,Lk(H.value.mapValue),Wt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,S,a)}).next(E=>{f=E;const S=E.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,E.batchId,S)})}).then(()=>({batchId:f.batchId,changes:rN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Vt(Ue)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield uo(r,i.changes),yield Eu(r.remoteStore)}catch(i){const s=Cu(i,"Failed to persist write");n.reject(s)}}),fx.apply(this,arguments)}function HO(t,e){return hx.apply(this,arguments)}function hx(){return hx=v(function*(t,e){const n=pe(t);try{const r=yield function Vle(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,E,S;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Rn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),E=h,S=u,(0===(g=f).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=jr(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function vO(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jr();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Me.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Re(o.Ra):i.removedDocuments.size>0&&(Re(o.Ra),o.Ra=!1))}),yield uo(n,r,e)}catch(r){yield $o(r)}}),hx.apply(this,arguments)}function zO(t,e,n){const r=pe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=pe(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&ox(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vue(t,e,n){return px.apply(this,arguments)}function px(){return px=v(function*(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Vt(ge.comparator);o=o.insert(s,Ht.newNoDocument(s,Me.min()));const a=Qe().add(s),c=new Sh(Me.min(),new Map,new Vt(Ue),o,a);yield HO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),xx(r)}else yield vu(r.localStore,e,!1).then(()=>wu(r,e,n)).catch($o)}),px.apply(this,arguments)}function yue(t,e){return gx.apply(this,arguments)}function gx(){return gx=v(function*(t,e){const n=pe(t),r=e.batch.batchId;try{const i=yield function Fle(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=M.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const E=l.docVersions.get(p);Re(null!==E),g.version.compareTo(E)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);yx(n,r,null),vx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield uo(n,i)}catch(i){yield $o(i)}}),gx.apply(this,arguments)}function Eue(t,e,n){return mx.apply(this,arguments)}function mx(){return mx=v(function*(t,e,n){const r=pe(t);try{const i=yield function(o,a){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Re(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);yx(r,e,n),vx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield uo(r,i)}catch(i){yield $o(i)}}),mx.apply(this,arguments)}function vx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function yx(t,e,n){const r=pe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function wu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||UO(t,r)})}function UO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(jh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),xx(t))}function Ex(t,e,n){for(const r of n)r instanceof VO?(t.wa.addReference(r.key,e),Cue(t,r)):r instanceof LO?(te("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||UO(t,r.key)):Ae()}function Cue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ga.add(r),xx(t))}function xx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ge(lt.fromString(e)),r=t.Da.next();t.ya.set(r,new hue(n)),t.pa=t.pa.insert(n,r),E1(t.remoteStore,new lo(Tr(iu(n.path)),r,"TargetPurposeLimboResolution",si._e))}}function uo(t,e,n){return Cx.apply(this,arguments)}function Cx(){return Cx=v(function*(t,e,n){const r=pe(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=A8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=v(function*(l,u){const d=pe(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,h=>M.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>M.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Go(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),E=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,E)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),Cx.apply(this,arguments)}function Iue(t,e){return Ix.apply(this,arguments)}function Ix(){return Ix=v(function*(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=yield mO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new ne(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uo(n,r._s)}var s}),Ix.apply(this,arguments)}function bue(t,e){const n=pe(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class C1{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=zh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function gO(t,e,n,r){return new Ole(t,e,n,r)}(this.persistence,new pO,e.initialUser,this.serializer)}createPersistence(e){return new C8(f1.jr,this.serializer)}createSharedClientState(e){return new bO}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Au{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Iue.bind(null,r.syncEngine),yield function Z8(t,e){return ex.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aue}createDatastore(e){const n=zh(e.databaseInfo.databaseId),r=new $le(e.databaseInfo);return new Wle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>zO(this.syncEngine,n,0),a=wO.D()?new wO:new zle,new Qle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new pue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=v(function*(r){const i=pe(r);te("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield yu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class I1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):hn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Vue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=gk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){te("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Cu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function b1(t,e){return kx.apply(this,arguments)}function kx(){return kx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield mO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),kx.apply(this,arguments)}function Nx(t,e){return Ox.apply(this,arguments)}function Ox(){return Ox=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Fx(t){return Vx.apply(this,arguments)}(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>kO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kO(e.remoteStore,s)),t._onlineComponents=e}),Ox.apply(this,arguments)}function Vx(){return Vx=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield b1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function KO(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ri("Error using user provided cache. Falling back to memory cache: "+n),yield b1(t,new C1)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield b1(t,new C1);return t._offlineComponents}),Vx.apply(this,arguments)}function w1(t){return Lx.apply(this,arguments)}function Lx(){return Lx=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield Nx(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield Nx(t,new Au))),t._onlineComponents}),Lx.apply(this,arguments)}function Du(t){return Hx.apply(this,arguments)}function Hx(){return Hx=v(function*(t){const e=yield w1(t),n=e.eventManager;return n.onListen=gue.bind(null,e.syncEngine),n.onUnlisten=mue.bind(null,e.syncEngine),n}),Hx.apply(this,arguments)}function eF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const tF=new Map;function zx(t,e,n){if(!n)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nF(t){if(!ge.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rF(t){if(ge.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function A1(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Ae()}function it(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A1(t);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class sF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Kue(t,e,n,r){if(!0===e&&!0===r)throw new ne(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=eF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $ae;switch(r.type){case"firstParty":return new Kae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tF.get(n);r&&(te("ComponentProvider","Removing Datastore"),tF.delete(n),r.terminate())}(this),Promise.resolve()}}class Zn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zn(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Is extends Zn{constructor(e,n,r){super(e,n,iu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ge(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Que(t,e,...n){if(t=nn(t),zx("collection","path",e),t instanceof $h){const r=lt.fromString(e,...n);return rF(r),new Is(t,null,r)}{if(!(t instanceof gn||t instanceof Is))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return rF(r),new Is(t.firestore,null,r)}}function oF(t,e,...n){if(t=nn(t),1===arguments.length&&(e=gk.newId()),zx("doc","path",e),t instanceof $h){const r=lt.fromString(e,...n);return nF(r),new gn(t,null,new ge(r))}{if(!(t instanceof gn||t instanceof Is))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return nF(r),new gn(t.firestore,t instanceof Is?t.converter:null,new ge(r))}}class Xue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new F8(this,"async_queue_retry"),this.iu=()=>{const n=y1();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=y1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=y1();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Sn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return v(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Go(n))throw n;te("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,hn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=tx.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ae()}verifyOperationInProgress(){}uu(){var e=this;return v(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Ux(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Lt extends $h{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cF(this),this._firestoreClient.terminate()}}function Zue(t,e){const r="string"==typeof t?t:e||"(default)",i=ps("object"==typeof t?t:Ol(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=p9("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Yue(t,e,n,r={}){var i;const s=(t=it(t,$h))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Fn.MOCK_USER;else{a=function qte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jg(JSON.stringify({alg:"none",type:"JWT"})),jg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fn(l)}t._authCredentials=new Gae(new hk(a,c))}}(i,...s)}return i}function mn(t){return t._firestoreClient||cF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new bce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,eF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Vue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(Rn.fromBase64String(e))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uc(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Su{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jx{constructor(e){this._methodName=e}}class $x{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}const tde=/^__.*__$/;class nde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class dF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class T1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new T1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return S1(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(fF(this.Iu)&&tde.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class rde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zh(e)}pu(e,n,r,i=!1){return new T1({Iu:e,methodName:n,gu:r,path:qt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ru(t){const e=t._freezeSettings(),n=zh(t._databaseId);return new rde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gx(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Wx("Data must be an object, but it was:",o,r);const a=_F(r,o);let c,l;if(s.merge)c=new Ur(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Wh(e,d,n);if(!o.contains(f))throw new ne(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);yF(u,f)||u.push(f)}c=new Ur(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new nde(new Jn(a),c,l)}class qh extends jx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function dc(t,e){if(vF(t=nn(t)))return Wx("Unsupported field value:",e,t),_F(t,e);if(t instanceof jx)return function(r,i){if(!fF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=dc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=nn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return aN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:du(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:du(i.serializer,s)}}if(r instanceof $x)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uc)return{bytesValue:DN(i.serializer,r._byteString)};if(r instanceof gn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:u8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${A1(r)}`)}(t,e)}function _F(t,e){const n={};return Sk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,i)=>{const s=dc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function vF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof $x||t instanceof uc||t instanceof gn||t instanceof jx)}function Wx(t,e,n){if(!vF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=A1(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Wh(t,e,n){if((e=nn(e))instanceof Su)return e._internalPath;if("string"==typeof e)return D1(t,e);throw S1("Field path arguments must be of type string or ",t,!1,void 0,n)}const ade=new RegExp("[~\\*/\\[\\]]");function D1(t,e,n){if(e.search(ade)>=0)throw S1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Su(...e.split("."))._internalPath}catch{throw S1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function S1(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ne(B.INVALID_ARGUMENT,a+t+c)}function yF(t,e){return t.some(n=>n.isEqual(e))}class Kx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R1("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class cde extends Kx{data(){return super.data()}}function R1(t,e){return"string"==typeof e?D1(t,e):e instanceof Su?e._internalPath:e._delegate._internalPath}class Yx{}class xF extends Yx{}function lde(t,e,...n){let r=[];e instanceof Yx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Pu).length,a=s.filter(c=>c instanceof Kh).length;if(o>1||o>0&&a>0)throw new ne(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kh extends xF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kh(e,n,r)}_apply(e){const n=this._parse(e);return wF(e._query,n),new Zn(e.firestore,e.converter,n8(e._query,n))}_parse(e){const n=Ru(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){bF(d,u);const h=[];for(const p of d)h.push(IF(c,s,p));f={arrayValue:{values:h}}}else f=IF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||bF(d,u),f=function mF(t,e,n,r=!1){return dc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return rt.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function ude(t,e,n){const r=e,i=R1("where",t);return Kh._create(i,r,n)}class Pu extends Yx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:bt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)wF(o,c),o=n8(o,c)}(e._query,n),new Zn(e.firestore,e.converter,n8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class P1 extends xF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new P1(e,n,r)}_apply(e){return new Zn(e.firestore,e.converter,Zm(e._query,this._limit,this._limitType))}}function dde(t){return function iF(t,e){if(e<=0)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),P1._create("limit",t,"F")}function IF(t,e,n){if("string"==typeof(n=nn(n))){if(""===n)throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t8(e)&&-1!==n.indexOf("/"))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ge.isDocumentKey(r))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Za(t,new ge(r))}if(n instanceof gn)return Za(t,n._key);throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${A1(n)}.`)}function bF(t,e){if(!Array.isArray(t)||0===t.length)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ne(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fde{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $x(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Re(LN(r));const i=new Ja(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||hn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends Kx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new N1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(R1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class N1 extends Mu{data(e={}){return super.data(e)}}class ku{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new N1(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new N1(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new N1(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:pde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class ia extends fde{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function gde(t,e,n){t=it(t,gn);const r=it(t.firestore,Lt),i=function Xx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Yh(r,[Gx(Ru(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Wt.none())])}function mde(t,e,n,...r){t=it(t,gn);const i=it(t.firestore,Lt),s=Ru(i);let o;return o="string"==typeof(e=nn(e))||e instanceof Su?function gF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Wh(e,r,n)],c=[i];if(s.length%2!=0)throw new ne(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Wh(e,s[f])),c.push(s[f+1]);const l=[],u=Jn.empty();for(let f=a.length-1;f>=0;--f)if(!yF(l,a[f])){const h=a[f];let p=c[f];p=nn(p);const g=o.Ru(h);if(p instanceof qh)l.push(h);else{const E=dc(p,g);null!=E&&(l.push(h),u.set(h,E))}}const d=new Ur(l);return new dF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function pF(t,e,n,r){const i=t.pu(1,e,n);Wx("Data must be an object, but it was:",i,r);const s=[],o=Jn.empty();qo(r,(c,l)=>{const u=D1(e,c,n);l=nn(l);const d=i.Ru(u);if(l instanceof qh)s.push(u);else{const f=dc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new Ur(s);return new dF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Yh(i,[o.toMutation(t._key,Wt.exists(!0))])}function Yh(t,e){return function(r,i){const s=new Sn;return r.asyncQueue.enqueueAndForget(v(function*(){return function _ue(t,e,n){return fx.apply(this,arguments)}(yield function Bx(t){return w1(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(mn(t),e)}!function(e,n=!0){Ql=Nl,xi(new ei("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Lt(new qae(r.getProvider("auth-internal")),new Yae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),rn(fk,"4.3.2",e),rn(fk,"4.3.2","esm2017")}();var V1=function(){return V1=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},V1.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Rde={includeMetadataChanges:!1};function tC(t,e){return void 0===e&&(e=Rde),new de(function(n){var r=function _de(t,...e){var n,r,i;t=nn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Ux(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Ux(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof gn)l=it(t.firestore,Lt),u=iu(t._key.path),c={next:d=>{e[o]&&e[o](function Jx(t,e,n){const r=n.docs.get(e._key),i=new ia(t);return new Mu(t,i,e._key,r,new fc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=it(t,Zn);l=it(d.firestore,Lt),u=d._query;const f=new ia(l);c={next:h=>{e[o]&&e[o](new ku(l,f,d,h))},error:e[o+1],complete:e[o+2]},function EF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const E=new I1(g),S=new ax(h,E,p);return f.asyncQueue.enqueueAndForget(v(function*(){return function nx(t,e){return rx.apply(this,arguments)}(yield Du(f),S)})),()=>{E.Na(),f.asyncQueue.enqueueAndForget(v(function*(){return function ix(t,e){return sx.apply(this,arguments)}(yield Du(f),S)}))}}(mn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Mde(t,e){return void 0===e&&(e={}),function Pde(t){return tC(t,{includeMetadataChanges:!0})}(t).pipe(Ye(function(n){return RF(n,e)}))}function RF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?V1(V1({},r),((n={})[e.idField]=t.id,n)):r}function Lde(t,e){return void 0===e&&(e={}),function Vde(t){return tC(t,{includeMetadataChanges:!0}).pipe(Ye(function(e){return e.docs}))}(t).pipe(Ye(function(n){return n.map(function(r){return RF(r,e)})}))}class bs{constructor(e){return e}}const NF="firestore",iC=new ye("angularfire2.firestore-instances");function Ude(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new bs(r)}}const jde={provide:class Hde{constructor(){return Xg(NF)}},deps:[[new dn,iC]]},$de={provide:bs,useFactory:function zde(t,e){const n=Qg(NF,t,e);return n&&new bs(n)},deps:[[new dn,iC],za]};let Gde=(()=>{var t;class e{constructor(){rn("angularfire",Oo.full,"fst")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Mt({type:t})),gt(e,"\u0275inj",Dt({providers:[$de,jde]})),e})();function hc(t,...e){return{ngModule:Gde,providers:[{provide:iC,useFactory:Ude(t),multi:!0,deps:[dt,An,Sf,Rf,[new dn,KP],[new dn,G4],...e]}]}}const pc=yn(Lde,!0),sa=yn(Mde,!0),Dr=yn(Que,!0),$r=yn(oF,!0),gc=yn(Zue,!0),sC=yn(dde,!0),mc=yn(lde,!0),oC=yn(gde,!0),aC=yn(mde,!0),Qh=yn(ude,!0);class L1{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Nu,cC=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(cC||{}),lC=V(874);class _c{constructor(){this.localStorageService=W(Ei),this._authState=new yt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(Ct.USER))return!1;let n=this.localStorageService.get(Ct.USER).session.timeToken,r=this.localStorageService.get(Ct.USER).session.refreshToken,i=Date.parse(lC.AES.decrypt(n,r).toString(lC.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new L1(s,this.localStorageService.get(Ct.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(Ct.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=YP(e).subscribe(r=>{null!=r?pc(mc(Dr(n,"valid-users"),Qh("email","==",r.email),sC(1))).subscribe(i=>{if(i.length>0){let s=Object.assign({email:"",enabled:!1,role:cC.USER},i[0]);s.enabled?(this.localStorageService.cache(Ct.USER,{session:{timeToken:lC.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:s.role}}),this._authState.emit(new L1(!0,s.role)),location.reload()):this.signOut(e)}else this.signOut(e)}):(this.localStorageService.remove(Ct.USER),this._authState.emit(new L1(!1,null)))})}}signInWithEmailAndPassword(e,n,r){Ooe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Foe(e,new Mie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(Ct.USER),this._refreshInProgress=!0,this._authState.emit(new L1(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function ws(t,e){return Ve((n,r)=>{let i=0;n.subscribe(et(r,s=>t.call(e,s,i++)&&r.next(s)))})}function uC(...t){return function Wde(){return ep(1)}()(zn(t,ud(t)))}function OF(...t){const e=ud(t);return Ve((n,r)=>{(e?uC(t,n,e):uC(t,n)).subscribe(r)})}(Nu=_c).\u0275fac=function(e){return new(e||Nu)},Nu.\u0275prov=Ce({token:Nu,factory:Nu.\u0275fac,providedIn:"platform"}),_n([Ti(0,dn())],_c.prototype,"checkLoginValidity",null);const Yde=(t,e)=>e.some(n=>t instanceof n);let FF,VF;const LF=new WeakMap,dC=new WeakMap,BF=new WeakMap,fC=new WeakMap,hC=new WeakMap;let pC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||BF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nfe(t){return"function"==typeof t?function tfe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xde(){return VF||(VF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(gC(this),e),oa(LF.get(this))}:function(...e){return oa(t.apply(gC(this),e))}:function(e,...n){const r=t.call(gC(this),e,...n);return BF.set(r,e.sort?e.sort():[e]),oa(r)}}(t):(t instanceof IDBTransaction&&function Zde(t){if(dC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dC.set(t,e)}(t),Yde(t,function Qde(){return FF||(FF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,pC):t)}function oa(t){if(t instanceof IDBRequest)return function Jde(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LF.set(n,t)}).catch(()=>{}),hC.set(e,t),e}(t);if(fC.has(t))return fC.get(t);const e=nfe(t);return e!==t&&(fC.set(t,e),hC.set(e,t)),e}const gC=t=>hC.get(t),ife=["get","getKey","getAll","getAllKeys","count"],sfe=["put","add","delete","clear"],mC=new Map;function HF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(mC.get(e))return mC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ife.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return mC.set(e,s),s}!function efe(t){pC=t(pC)}(t=>({...t,get:(e,n,r)=>HF(e,n)||t.get(e,n,r),has:(e,n)=>!!HF(e,n)||t.has(e,n)}));const zF="@firebase/installations",_C="0.6.4",UF=1e4,jF=`w:${_C}`,$F="FIS_v2",ofe="https://firebaseinstallations.googleapis.com/v1",afe=36e5,fo=new ko("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function GF(t){return t instanceof Ui&&t.code.includes("request-failed")}function vC({projectId:t}){return`${ofe}/projects/${t}/installations`}function qF(t){return{token:t.token,requestStatus:2,expiresIn:dfe(t.expiresIn),creationTime:Date.now()}}function yC(t,e){return EC.apply(this,arguments)}function EC(){return EC=v(function*(t,e){const r=(yield e.json()).error;return fo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),EC.apply(this,arguments)}function WF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xC(t){return CC.apply(this,arguments)}function CC(){return CC=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),CC.apply(this,arguments)}function dfe(t){return Number(t.replace("s","000"))}function IC(){return IC=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=vC(t),i=WF(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:$F,appId:t.appId,sdkVersion:jF})},c=yield xC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:qF(l.authToken)}}throw yield yC("Create Installation",c)}),IC.apply(this,arguments)}function YF(t){return new Promise(e=>{setTimeout(e,t)})}const gfe=/^[cdef][\w-]{21}$/,bC="";function mfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function _fe(t){return function pfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return gfe.test(n)?n:bC}catch{return bC}}function Ou(t){return`${t.appName}!${t.appId}`}const Fu=new Map;function QF(t,e){const n=Ou(t);XF(n,e),function Efe(t,e){const n=function JF(){return!vc&&"BroadcastChannel"in self&&(vc=new BroadcastChannel("[Firebase] FID Change"),vc.onmessage=t=>{XF(t.data.key,t.data.fid)}),vc}();n&&n.postMessage({key:t,fid:e}),function ZF(){0===Fu.size&&vc&&(vc.close(),vc=null)}()}(n,e)}function XF(t,e){const n=Fu.get(t);if(n)for(const r of n)r(e)}let vc=null;const xfe="firebase-installations-database",Cfe=1,yc="firebase-installations-store";let wC=null;function AC(){return wC||(wC=function rfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(oa(o.result),c.oldVersion,c.newVersion,oa(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(xfe,Cfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(yc)}})),wC}function B1(t,e){return TC.apply(this,arguments)}function TC(){return TC=v(function*(t,e){const n=Ou(t),i=(yield AC()).transaction(yc,"readwrite"),s=i.objectStore(yc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&QF(t,e.fid),e}),TC.apply(this,arguments)}function DC(t){return SC.apply(this,arguments)}function SC(){return SC=v(function*(t){const e=Ou(t),r=(yield AC()).transaction(yc,"readwrite");yield r.objectStore(yc).delete(e),yield r.done}),SC.apply(this,arguments)}function Xh(t,e){return RC.apply(this,arguments)}function RC(){return RC=v(function*(t,e){const n=Ou(t),i=(yield AC()).transaction(yc,"readwrite"),s=i.objectStore(yc),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&QF(t,a.fid),a}),RC.apply(this,arguments)}function PC(t){return MC.apply(this,arguments)}function MC(){return MC=v(function*(t){let e;const n=yield Xh(t.appConfig,r=>{const i=function Ife(t){return tV(t||{fid:mfe(),registrationStatus:0})}(r),s=function bfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(fo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function wfe(t,e){return kC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Afe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),MC.apply(this,arguments)}function kC(){return kC=v(function*(t,e){try{const n=yield function hfe(t,e){return IC.apply(this,arguments)}(t,e);return B1(t.appConfig,n)}catch(n){throw GF(n)&&409===n.customData.serverCode?yield DC(t.appConfig):yield B1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),kC.apply(this,arguments)}function Afe(t){return NC.apply(this,arguments)}function NC(){return NC=v(function*(t){let e=yield eV(t.appConfig);for(;1===e.registrationStatus;)yield YF(100),e=yield eV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield PC(t);return r||n}return e}),NC.apply(this,arguments)}function eV(t){return Xh(t,e=>{if(!e)throw fo.create("installation-not-found");return tV(e)})}function tV(t){return function Tfe(t){return 1===t.registrationStatus&&t.registrationTime+UF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function OC(){return OC=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Sfe(t,{fid:e}){return`${vC(t)}/${e}/authTokens:generate`}(t,n),i=function KF(t,{refreshToken:e}){const n=WF(t);return n.append("Authorization",function ffe(t){return`${$F} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:jF,appId:t.appId}})},c=yield xC(()=>fetch(r,a));if(c.ok)return qF(yield c.json());throw yield yC("Generate Auth Token",c)}),OC.apply(this,arguments)}function FC(t){return VC.apply(this,arguments)}function VC(){return VC=v(function*(t,e=!1){let n;const r=yield Xh(t.appConfig,s=>{if(!rV(s))throw fo.create("not-registered");const o=s.authToken;if(!e&&function Mfe(t){return 2===t.requestStatus&&!function kfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+afe}(t)}(o))return s;if(1===o.requestStatus)return n=function Rfe(t,e){return LC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw fo.create("app-offline");const a=function Nfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Pfe(t,e){return BC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),VC.apply(this,arguments)}function LC(){return LC=v(function*(t,e){let n=yield nV(t.appConfig);for(;1===n.authToken.requestStatus;)yield YF(100),n=yield nV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?FC(t,e):r}),LC.apply(this,arguments)}function nV(t){return Xh(t,e=>{if(!rV(e))throw fo.create("not-registered");return function Ofe(t){return 1===t.requestStatus&&t.requestTime+UF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function BC(){return BC=v(function*(t,e){try{const n=yield function Dfe(t,e){return OC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield B1(t.appConfig,r),n}catch(n){if(!GF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield B1(t.appConfig,r)}else yield DC(t.appConfig);throw n}}),BC.apply(this,arguments)}function rV(t){return void 0!==t&&2===t.registrationStatus}function HC(){return HC=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield PC(e);return r?r.catch(console.error):FC(e).catch(console.error),n.fid}),HC.apply(this,arguments)}function zC(){return zC=v(function*(t,e=!1){const n=t;return yield function Lfe(t){return UC.apply(this,arguments)}(n),(yield FC(n,e)).token}),zC.apply(this,arguments)}function UC(){return UC=v(function*(t){const{registrationPromise:e}=yield PC(t);e&&(yield e)}),UC.apply(this,arguments)}function GC(t){return fo.create("missing-app-config-values",{valueName:t})}const iV="installations",jfe=t=>{const e=t.getProvider("app").getImmediate(),n=function zfe(t){if(!t||!t.options)throw GC("App Configuration");if(!t.name)throw GC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw GC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ps(e,"heartbeat"),_delete:()=>Promise.resolve()}},$fe=t=>{const n=ps(t.getProvider("app").getImmediate(),iV).getImmediate();return{getId:()=>function Ffe(t){return HC.apply(this,arguments)}(n),getToken:i=>function Vfe(t){return zC.apply(this,arguments)}(n,i)}};(function Gfe(){xi(new ei(iV,jfe,"PUBLIC")),xi(new ei("installations-internal",$fe,"PRIVATE"))})(),rn(zF,_C),rn(zF,_C,"esm2017");const H1="analytics",qfe="firebase_id",Wfe="origin",Kfe=6e4,Yfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qC="https://www.googletagmanager.com/gtag/js",Bn=new Af("@firebase/analytics"),Sr=new ko("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Xfe(t){if(!t.startsWith(qC)){const e=Sr.create("invalid-gtag-resource",{gtagURL:t});return Bn.warn(e.message),""}return t}function sV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function WC(){return WC=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield sV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Bn.error(a)}t("config",i,s)}),WC.apply(this,arguments)}function KC(){return KC=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield sV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Bn.error(s)}}),KC.apply(this,arguments)}const ohe=30,oV=new class che{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function lhe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function YC(){return YC=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:lhe(r)},s=Yfe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),YC.apply(this,arguments)}function QC(){return QC=v(function*(t,e=oV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Sr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Sr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new phe;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:Kfe),aV({appId:r,apiKey:i,measurementId:s},o,a,e)}),QC.apply(this,arguments)}function aV(t,e,n){return XC.apply(this,arguments)}function XC(){return XC=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=oV){var s;const{appId:o,measurementId:a}=t;try{yield function fhe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function uhe(t){return YC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function hhe(t){if(!(t instanceof Ui&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?M4(n,i.intervalMillis,ohe):M4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Bn.debug(`Calling attemptFetch again in ${u} millis`),aV(t,d,r,i)}}),XC.apply(this,arguments)}class phe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let JC,sI;function ZC(){return ZC=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),ZC.apply(this,arguments)}function tI(){return tI=v(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),tI.apply(this,arguments)}function oI(){return oI=v(function*(){if(!xf())return Bn.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield S4()}catch(t){return Bn.warn(Sr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),oI.apply(this,arguments)}function aI(){return aI=v(function*(t,e,n,r,i,s,o){var a;const c=function dhe(t){return QC.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Bn.error(h)),e.push(c);const l=function xhe(){return oI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function she(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qC)&&n.src.includes(t))return n;return null})(s)||function Zfe(t,e){const n=function Jfe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Xfe}),r=document.createElement("script"),i=`${qC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),sI&&(i("consent","default",sI),function cV(t){sI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[Wfe]="firebase",f.update=!0,null!=d&&(f[qfe]=d),i("config",u.measurementId,f),JC&&(i("set",JC),function lV(t){JC=t}(void 0)),u.measurementId}),aI.apply(this,arguments)}class Ihe{constructor(e){this.app=e}_delete(){return delete As[this.app.options.appId],Promise.resolve()}}let As={},uV=[];const dV={};let hV,Ts,z1="dataLayer",cI=!1;function whe(t,e,n){!function bhe(){const t=[];if(D4()&&t.push("This is a browser extension environment."),_9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Sr.create("invalid-analytics-context",{errorInfo:e});Bn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Sr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Sr.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=As[r])throw Sr.create("already-exists",{id:r});if(!cI){!function ehe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(z1);const{wrappedGtag:s,gtagCore:o}=function ihe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function rhe(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function nhe(t,e,n,r,i){return KC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function the(t,e,n,r,i,s){return WC.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Bn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(As,uV,dV,z1,"gtag");Ts=s,hV=o,cI=!0}return As[r]=function Che(t,e,n,r,i,s,o){return aI.apply(this,arguments)}(t,uV,dV,e,hV,z1,n),new Ihe(t)}function Ahe(t=Ol()){const e=ps(t=nn(t),H1);return e.isInitialized()?e.getImmediate():function The(t,e={}){const n=ps(t,H1);if(n.isInitialized()){const i=n.getImmediate();if(Cf(e,n.getOptions()))return i;throw Sr.create("already-initialized")}return n.initialize({options:e})}(t)}function Dhe(){return lI.apply(this,arguments)}function lI(){return(lI=v(function*(){if(D4()||!_9()||!xf())return!1;try{return yield S4()}catch{return!1}})).apply(this,arguments)}function She(t,e,n){t=nn(t),function _he(t,e,n,r){return tI.apply(this,arguments)}(Ts,As[t.app.options.appId],e,n).catch(r=>Bn.error(r))}function pV(t,e,n,r){t=nn(t),function ghe(t,e,n,r,i){return ZC.apply(this,arguments)}(Ts,As[t.app.options.appId],e,n,r).catch(i=>Bn.error(i))}const gV="@firebase/analytics";!function Rhe(){xi(new ei(H1,(e,{options:n})=>whe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),xi(new ei("analytics-internal",function t(e){try{const n=e.getProvider(H1).getImmediate();return{logEvent:(r,i,s)=>pV(n,r,i,s)}}catch(n){throw Sr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),rn(gV,"0.10.0"),rn(gV,"0.10.0","esm2017")}();const Jh=b(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Mhe}=Array,{getPrototypeOf:khe,prototype:Nhe,keys:Ohe}=Object;function _V(t){if(1===t.length){const e=t[0];if(Mhe(e))return{args:e,keys:null};if(function Fhe(t){return t&&"object"==typeof t&&khe(t)===Nhe}(e)){const n=Ohe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Vhe}=Array;function vV(t){return Ye(e=>function Lhe(t,e){return Vhe(e)?t(...e):t(e)}(t,e))}function yV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function EV(...t){const e=ud(t),n=_w(t),{args:r,keys:i}=_V(t);if(0===r.length)return zn([],e);const s=new de(function Bhe(t,e,n=me){return r=>{xV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)xV(e,()=>{const l=zn(t[c],e);let u=!1;l.subscribe(et(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>yV(i,o):me));return n?s.pipe(vV(n)):s}function xV(t,e,n){t?Vs(n,t,e):e()}function CV(t){return new de(e=>{rr(t()).subscribe(e)})}function Zh(t,e){const n=R(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function dI(){return Ve((t,e)=>{let n=null;t._refCount++;const r=et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class IV extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Y;const n=this.getSubject();e.add(this.source.subscribe(et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Y.EMPTY)}return e}refCount(){return dI()(this)}}function Vu(t){return t<=0?()=>Qi:Ve((e,n)=>{let r=0;e.subscribe(et(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function U1(t){return Ve((e,n)=>{let r=!1;e.subscribe(et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bV(t=Hhe){return Ve((e,n)=>{let r=!1;e.subscribe(et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Hhe(){return new Jh}function Ec(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ws((i,s)=>t(i,s,r)):me,Vu(1),n?U1(e):bV(()=>new Jh))}function e0(t,e){return R(e)?Hn(t,e,1):Hn(t,1)}function xc(t){return Ve((e,n)=>{let s,r=null,i=!1;r=e.subscribe(et(n,void 0,void 0,o=>{s=rr(t(o,xc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function fI(t){return t<=0?()=>Qi:Ve((e,n)=>{let r=[];e.subscribe(et(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function t0(t){return Ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Xe="primary",n0=Symbol("RouteTitle");class qhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Lu(t){return new qhe(t)}function Whe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ds(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!wV(t[i],e[i]))return!1;return!0}function wV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function AV(t){return t.length>0?t[t.length-1]:null}function aa(t){return function Phe(t){return!!t&&(t instanceof de||R(t.lift)&&R(t.subscribe))}(t)?t:Zd(t)?zn(Promise.resolve(t)):Le(t)}const Yhe={exact:function SV(t,e,n){if(!Cc(t.segments,e.segments)||!j1(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!SV(t.children[r],e.children[r],n))return!1;return!0},subset:RV},TV={exact:function Qhe(t,e){return Ds(t,e)},subset:function Xhe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wV(t[n],e[n]))},ignored:()=>!0};function DV(t,e,n){return Yhe[n.paths](t.root,e.root,n.matrixParams)&&TV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function RV(t,e,n){return PV(t,e,e.segments,n)}function PV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Cc(i,n)||e.hasChildren()||!j1(i,n,r))}if(t.segments.length===n.length){if(!Cc(t.segments,n)||!j1(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!RV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Cc(t.segments,i)&&j1(t.segments,i,r)&&t.children[Xe])&&PV(t.children[Xe],e,s,r)}}function j1(t,e,n){return e.every((r,i)=>TV[n](t[i].parameters,r.parameters))}class Bu{constructor(e=new wt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return e0e.serialize(this)}}class wt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $1(this)}}class r0{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Lu(this.parameters)),this._parameterMap}toString(){return NV(this)}}function Cc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let s0=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return new hI},providedIn:"root"}),e})();class hI{parse(e){const n=new d0e(e);return new Bu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${o0(e.root,!0)}`,r=function r0e(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${G1(n)}=${G1(i)}`).join("&"):`${G1(n)}=${G1(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function t0e(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const e0e=new hI;function $1(t){return t.segments.map(e=>NV(e)).join("/")}function o0(t,e){if(!t.hasChildren())return $1(t);if(e){const n=t.children[Xe]?o0(t.children[Xe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Xe&&r.push(`${i}:${o0(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Zhe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Xe?[o0(t.children[Xe],!1)]:[`${i}:${o0(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Xe]?`${$1(t)}/${n[0]}`:`${$1(t)}/(${n.join("//")})`}}function MV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function G1(t){return MV(t).replace(/%3B/gi,";")}function pI(t){return MV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q1(t){return decodeURIComponent(t)}function kV(t){return q1(t.replace(/\+/g,"%20"))}function NV(t){return`${pI(t.path)}${function n0e(t){return Object.keys(t).map(e=>`;${pI(e)}=${pI(t[e])}`).join("")}(t.parameters)}`}const i0e=/^[^\/()?;#]+/;function gI(t){const e=t.match(i0e);return e?e[0]:""}const s0e=/^[^\/()?;=#]+/,a0e=/^[^=?&#]+/,l0e=/^[^&#]+/;class d0e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Xe]=new wt(e,n)),r}parseSegment(){const e=gI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new r0(q1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function o0e(t){const e=t.match(s0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gI(this.remaining);i&&(r=i,this.capture(r))}e[q1(n)]=q1(r)}parseQueryParam(e){const n=function c0e(t){const e=t.match(a0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function u0e(t){const e=t.match(l0e);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=kV(n),s=kV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Xe]:new wt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}}function OV(t){return t.segments.length>0?new wt([],{[Xe]:t}):t}function FV(t){const e={};for(const r of Object.keys(t.children)){const s=FV(t.children[r]);if(r===Xe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function f0e(t){if(1===t.numberOfChildren&&t.children[Xe]){const e=t.children[Xe];return new wt(t.segments.concat(e.segments),e.children)}return t}(new wt(t.segments,e))}function Ic(t){return t instanceof Bu}function VV(t){let e;const i=OV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new wt(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function LV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mI(i,i,i,n,r);const s=function p0e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new HV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new HV(n,e,r)}(e);if(s.toRoot())return mI(i,i,new wt([],{}),n,r);const o=function g0e(t,e,n){if(t.isAbsolute)return new K1(e,!0,0);if(!n)return new K1(e,!1,NaN);if(null===n.parent)return new K1(n,!0,0);const r=W1(t.commands[0])?0:1;return function m0e(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new K1(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?c0(o.segmentGroup,o.index,s.commands):zV(o.segmentGroup,o.index,s.commands);return mI(i,o.segmentGroup,a,n,r)}function W1(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function a0(t){return"object"==typeof t&&null!=t&&t.outlets}function mI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:BV(t,e,n);const a=OV(FV(o));return new Bu(a,s,i)}function BV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:BV(s,e,n)}),new wt(t.segments,r)}class HV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&W1(r[0]))throw new ee(4003,!1);const i=r.find(a0);if(i&&i!==AV(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class K1{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function zV(t,e,n){if(t||(t=new wt([],{})),0===t.segments.length&&t.hasChildren())return c0(t,e,n);const r=function v0e(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(a0(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!jV(c,l,o))return s;r+=2}else{if(!jV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new wt(t.segments.slice(0,r.pathIndex),{});return s.children[Xe]=new wt(t.segments.slice(r.pathIndex),t.children),c0(s,0,i)}return r.match&&0===i.length?new wt(t.segments,{}):r.match&&!t.hasChildren()?_I(t,e,n):r.match?c0(t,0,i):_I(t,e,n)}function c0(t,e,n){if(0===n.length)return new wt(t.segments,{});{const r=function _0e(t){return a0(t[0])?t[0].outlets:{[Xe]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Xe)&&t.children[Xe]&&1===t.numberOfChildren&&0===t.children[Xe].segments.length){const s=c0(t.children[Xe],e,n);return new wt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=zV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new wt(t.segments,i)}}function _I(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(a0(s)){const c=y0e(s.outlets);return new wt(r,c)}if(0===i&&W1(n[0])){r.push(new r0(t.segments[e].path,UV(n[0]))),i++;continue}const o=a0(s)?s.outlets[Xe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&W1(a)?(r.push(new r0(o,UV(a))),i+=2):(r.push(new r0(o,{})),i++)}return new wt(r,{})}function y0e(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=_I(new wt([],{}),0,r))}),e}function UV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function jV(t,e,n){return t==n.path&&Ds(e,n.parameters)}const l0="imperative";class Ss{constructor(e,n){this.id=e,this.url=n}}class vI extends Ss{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hu extends Ss{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class u0 extends Ss{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class d0 extends Ss{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Y1 extends Ss{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $V extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E0e extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x0e extends Ss{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C0e extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I0e extends Ss{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b0e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class w0e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class A0e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T0e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D0e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yI{}class EI{constructor(e){this.url=e}}class S0e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new f0,this.attachRef=null}}let f0=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new S0e,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class qV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=xI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=xI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=CI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return CI(e,this._root).map(n=>n.value)}}function xI(t,e){if(t===e.value)return e;for(const n of e.children){const r=xI(t,n);if(r)return r}return null}function CI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=CI(t,n);if(r.length)return r.unshift(e),r}return[]}class ho{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function zu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class WV extends qV{constructor(e,n){super(e),this.snapshot=n,II(this,e)}toString(){return this.snapshot.toString()}}function KV(t,e){const n=function R0e(t,e){const o=new Q1([],{},{},"",{},Xe,e,null,{});return new QV("",new ho(o,[]))}(0,e),r=new ci([new r0("",{})]),i=new ci({}),s=new ci({}),o=new ci({}),a=new ci(""),c=new Uu(r,i,o,a,s,Xe,e,n.root);return c.snapshot=n.root,new WV(new ho(c,[]),n)}class Uu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ye(l=>l[n0]))??Le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(e=>Lu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(e=>Lu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function P0e(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Q1{get title(){return this.data?.[n0]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QV extends qV{constructor(e,n){super(n),this.url=e,II(this,n)}toString(){return XV(this._root)}}function II(t,e){e.value._routerState=t,e.children.forEach(n=>II(t,n))}function XV(t){const e=t.children.length>0?` { ${t.children.map(XV).join(", ")} } `:"";return`${t.value}${e}`}function bI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ds(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ds(e.params,n.params)||t.paramsSubject.next(n.params),function Khe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ds(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ds(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wI(t,e){const n=Ds(t.params,e.params)&&function Jhe(t,e){return Cc(t,e)&&t.every((n,r)=>Ds(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||wI(t.parent,e.parent))}let JV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=W(f0),this.location=W(Vi),this.changeDetector=W(So),this.environmentInjector=W(pi),this.inputBinder=W(X1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new M0e(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]}),e})();class M0e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Uu?this.route:e===f0?this.childContexts:this.parent.get(e,n)}}const X1=new ye("");function h0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function N0e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return h0(t,r,i);return h0(t,r)})}(t,e,n);return new ho(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>h0(t,a)),o}}const r=function O0e(t){return new Uu(new ci(t.url),new ci(t.params),new ci(t.queryParams),new ci(t.fragment),new ci(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>h0(t,s));return new ho(r,i)}}const AI="ngNavigationCancelingError";function eL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ic(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function tL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[AI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function nL(t){return t&&t[AI]}let TI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["ng-component"]],standalone:!0,features:[jS],decls:1,vars:0,template:function(r,i){1&r&&xt(0,"router-outlet")},dependencies:[JV],encapsulation:2}),e})();function DI(t){const e=t.children&&t.children.map(DI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=TI),n}function qi(t){return t.outlet||Xe}function p0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class j0e{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),bI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=zu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=zu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new GV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new T0e(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(bI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),bI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=p0(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class rL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class J1{constructor(e,n){this.component=e,this.route=n}}function $0e(t,e,n){const r=t._root;return g0(r,e?e._root:null,n,[r.value])}function ju(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Ej(t){return null!==sp(t)}(t)?e.get(t):t:r}function g0(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=zu(e);return t.children.forEach(o=>{(function q0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function W0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Cc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cc(t.url,e.url)||!Ds(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wI(t,e)||!Ds(t.queryParams,e.queryParams);default:return!wI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new rL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),g0(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new J1(a.outlet.component,o))}else o&&m0(e,a,i),i.canActivateChecks.push(new rL(r)),g0(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>m0(a,n.getContext(o),i)),i}function m0(t,e,n){const r=zu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{m0(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new J1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function _0(t){return"function"==typeof t}function iL(t){return t instanceof Jh||"EmptyError"===t?.name}const Z1=Symbol("INITIAL_VALUE");function $u(){return li(t=>EV(t.map(e=>e.pipe(Vu(1),OF(Z1)))).pipe(Ye(e=>{for(const n of e)if(!0!==n){if(n===Z1)return Z1;if(!1===n||n instanceof Bu)return n}return!0}),ws(e=>e!==Z1),Vu(1)))}function sL(t){return function se(...t){return Ne(t)}(Kn(e=>{if(Ic(e))throw eL(0,e)}),Ye(e=>!0===e))}class e2{constructor(e){this.segmentGroup=e||null}}class oL{constructor(e){this.urlTree=e}}function Gu(t){return Zh(new e2(t))}function aL(t){return Zh(new oL(t))}class hpe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ee(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Le(r);if(i.numberOfChildren>1||!i.children[Xe])return Zh(new ee(4e3,!1));i=i.children[Xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Bu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new wt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const SI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ppe(t,e,n,r,i){const s=RI(t,e,n);return s.matched?(r=function V0e(t,e){return t.providers&&!t._injector&&(t._injector=US(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function upe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Le(i.map(o=>{const a=ju(o,t);return aa(function Z0e(t){return t&&_0(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe($u(),sL()):Le(!0)}(r,e,n).pipe(Ye(o=>!0===o?s:{...SI}))):Le(s)}function RI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...SI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Whe)(n,t,e);if(!i)return{...SI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function cL(t,e,n,r){return n.length>0&&function _pe(t,e,n){return n.some(r=>t2(t,e,r)&&qi(r)!==Xe)}(t,n,r)?{segmentGroup:new wt(e,mpe(r,new wt(n,t.children))),slicedSegments:[]}:0===n.length&&function vpe(t,e,n){return n.some(r=>t2(t,e,r))}(t,n,r)?{segmentGroup:new wt(t.segments,gpe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new wt(t.segments,t.children),slicedSegments:n}}function gpe(t,e,n,r,i){const s={};for(const o of r)if(t2(t,n,o)&&!i[qi(o)]){const a=new wt([],{});s[qi(o)]=a}return{...i,...s}}function mpe(t,e){const n={};n[Xe]=e;for(const r of t)if(""===r.path&&qi(r)!==Xe){const i=new wt([],{});n[qi(r)]=i}return n}function t2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Cpe{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new hpe(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,!1)}recognize(){const e=cL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(xc(n=>{if(n instanceof oL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof e2?this.noMatchError(n):n}),Ye(n=>{const r=new Q1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new ho(r,n),s=new QV("",i),o=function h0e(t,e,n=null,r=null){return LV(VV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Xe).pipe(xc(r=>{throw r instanceof e2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=YV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return zn(i).pipe(e0(s=>{const o=r.children[s],a=function z0e(t,e){const n=t.filter(r=>qi(r)===e);return n.push(...t.filter(r=>qi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Uhe(t,e){return Ve(function zhe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(et(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),U1(null),function jhe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ws((i,s)=>t(i,s,r)):me,fI(1),n?U1(e):bV(()=>new Jh))}(),Hn(s=>{if(null===s)return Gu(r);const o=lL(s);return function Ipe(t){t.sort((e,n)=>e.value.outlet===Xe?-1:n.value.outlet===Xe?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Le(o)}))}processSegment(e,n,r,i,s,o){return zn(n).pipe(e0(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(xc(c=>{if(c instanceof e2)return Le(null);throw c}))),Ec(a=>!!a),xc(a=>{if(iL(a))return function Epe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Le([]):Gu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function ype(t,e,n,r){return!!(qi(t)===r||r!==Xe&&t2(e,n,t))&&("**"===t.path||RI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Gu(i):Gu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?aL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Hn(o=>{const a=new wt(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=RI(n,i,s);if(!a)return Gu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?aL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Hn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?AV(i).parameters:{};a=Le({snapshot:new Q1(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uL(r),qi(r),r.component??r._loadedComponent??null,r,dL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=ppe(n,r,i,e).pipe(Ye(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Q1(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uL(r),qi(r),r.component??r._loadedComponent??null,r,dL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(li(c=>null===c?Gu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(li(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=cL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Ye(S=>null===S?null:[new ho(d,S)]));if(0===l.length&&0===g.length)return Le([new ho(d,[])]);const E=qi(r)===s;return this.processSegment(u,l,p,g,E?Xe:s,!0).pipe(Ye(S=>[new ho(d,S)]))}))))}getChildConfig(e,n,r){return n.children?Le({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Le({routes:n._loadedRoutes,injector:n._loadedInjector}):function lpe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Le(!0):Le(i.map(o=>{const a=ju(o,t);return aa(function Y0e(t){return t&&_0(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe($u(),sL())}(e,n,r).pipe(Hn(i=>i?this.configLoader.loadChildren(e,n).pipe(Kn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function fpe(t){return Zh(tL(!1,3))}())):Le({routes:[],injector:e})}}function bpe(t){const e=t.value.routeConfig;return e&&""===e.path}function lL(t){const e=[],n=new Set;for(const r of t){if(!bpe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=lL(r.children);e.push(new ho(r.value,i))}return e.filter(r=>!n.has(r))}function uL(t){return t.data||{}}function dL(t){return t.resolve||{}}function fL(t){return"string"==typeof t.title||null===t.title}function PI(t){return li(e=>{const n=t(e);return n?zn(n).pipe(Ye(()=>e)):Le(e)})}const n2=new ye("ROUTES");let hL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(sJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Le(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=aa(r.loadComponent()).pipe(Ye(pL),Kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),t0(()=>{this.componentLoaders.delete(r)})),s=new IV(i,()=>new Z).pipe(dI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Le({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Ppe(t,e,n,r){return aa(t.loadChildren()).pipe(Ye(pL),Hn(i=>i instanceof HS||Array.isArray(i)?Le(i):zn(e.compileModuleAsync(i))),Ye(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(n2,[],{optional:!0,self:!0}).flat()),{routes:o.map(DI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(t0(()=>{this.childrenLoaders.delete(i)})),a=new IV(o,()=>new Z).pipe(dI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function pL(t){return function Mpe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let r2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.transitionAbortSubject=new Z,this.configLoader=W(hL),this.environmentInjector=W(pi),this.urlSerializer=W(s0),this.rootContexts=W(f0),this.inputBindingEnabled=null!==W(X1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new w0e(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new b0e(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new ci({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:l0,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ws(o=>0!==o.id),Ye(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),li(o=>{this.currentTransition=o;let a=!1,c=!1;return Le(o).pipe(Kn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),li(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new d0(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Qi}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Le(l).pipe(li(h=>{const p=this.transitions?.getValue();return this.events.next(new vI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Qi:Promise.resolve(h)}),function wpe(t,e,n,r,i,s){return Hn(o=>function xpe(t,e,n,r,i,s,o="emptyOnly"){return new Cpe(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ye(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Kn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new $V(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:E,extras:S}=l,I=new vI(h,this.urlSerializer.serialize(p),g,E);this.events.next(I);const H=KV(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:H,urlAfterRedirects:p,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},Le(o)}{const h="";return this.events.next(new d0(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Qi}}),Kn(l=>{const u=new E0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ye(l=>(this.currentTransition=o={...l,guards:$0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function tpe(t,e){return Hn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Le({...n,guardsResult:!0}):function npe(t,e,n,r){return zn(t).pipe(Hn(i=>function cpe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Le(s.map(a=>{const c=p0(e)??i,l=ju(a,c);return aa(function J0e(t){return t&&_0(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Ec())})).pipe($u()):Le(!0)}(i.component,i.route,n,e,r)),Ec(i=>!0!==i,!0))}(o,r,i,t).pipe(Hn(a=>a&&function K0e(t){return"boolean"==typeof t}(a)?function rpe(t,e,n,r){return zn(e).pipe(e0(i=>uC(function spe(t,e){return null!==t&&e&&e(new A0e(t)),Le(!0)}(i.route.parent,r),function ipe(t,e){return null!==t&&e&&e(new D0e(t)),Le(!0)}(i.route,r),function ape(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function G0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>CV(()=>Le(o.guards.map(c=>{const l=p0(o.node)??n,u=ju(c,l);return aa(function X0e(t){return t&&_0(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(Ec())})).pipe($u())));return Le(s).pipe($u())}(t,i.path,n),function ope(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Le(!0);const i=r.map(s=>CV(()=>{const o=p0(e)??n,a=ju(s,o);return aa(function Q0e(t){return t&&_0(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ec())}));return Le(i).pipe($u())}(t,i.route,n))),Ec(i=>!0!==i,!0))}(r,s,t,e):Le(a)),Ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Kn(l=>{if(o.guardsResult=l.guardsResult,Ic(l.guardsResult))throw eL(0,l.guardsResult);const u=new x0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ws(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),PI(l=>{if(l.guards.canActivateChecks.length)return Le(l).pipe(Kn(u=>{const d=new C0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),li(u=>{let d=!1;return Le(u).pipe(function Ape(t,e){return Hn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Le(n);let s=0;return zn(i).pipe(e0(o=>function Tpe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!fL(i)&&(s[n0]=i.title),function Dpe(t,e,n,r){const i=function Spe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Le({});const s={};return zn(i).pipe(Hn(o=>function Rpe(t,e,n,r){const i=p0(e)??r,s=ju(t,i);return aa(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ec(),Kn(a=>{s[o]=a}))),fI(1),function $he(t){return Ye(()=>t)}(s),xc(o=>iL(o)?Qi:Zh(o)))}(s,t,e,r).pipe(Ye(o=>(t._resolvedData=o,t.data=YV(t,n).resolve,i&&fL(i)&&(t.data[n0]=i.title),null)))}(o.route,r,t,e)),Kn(()=>s++),fI(1),Hn(o=>s===i.length?Le(n):Qi))})}(r.paramsInheritanceStrategy,this.environmentInjector),Kn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Kn(u=>{const d=new I0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),PI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Kn(h=>{d.component=h}),Ye(()=>{})));for(const h of d.children)f.push(...u(h));return f};return EV(u(l.targetSnapshot.root)).pipe(U1(),Vu(1))}),PI(()=>this.afterPreactivation()),Ye(l=>{const u=function k0e(t,e,n){const r=h0(t,e._root,n?n._root:void 0);return new WV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Kn(()=>{this.events.next(new yI)}),((t,e,n,r)=>Ye(i=>(new j0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Vu(1),Kn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Ghe(t){return Ve((e,n)=>{rr(t).subscribe(et(n,()=>n.complete(),T)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Kn(l=>{throw l}))),t0(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),xc(l=>{if(c=!0,nL(l))this.events.next(new u0(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function F0e(t){return nL(t)&&Ic(t.url)}(l)?this.events.next(new EI(l.url)):o.resolve(!1);else{this.events.next(new Y1(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return Qi}))}))}cancelNavigationTransition(r,i,s){const o=new u0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function gL(t){return t!==l0}let mL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(r){return r.data[n0]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(kpe)},providedIn:"root"}),e})(),kpe=(()=>{var t;class e extends mL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(x4))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Npe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(Fpe)},providedIn:"root"}),e})();class Ope{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Fpe=(()=>{var t;class e extends Ope{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Wn(t)))(i||t)}}(),t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const MI=new ye("",{providedIn:"root",factory:()=>({})});let Vpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(Lpe)},providedIn:"root"}),e})(),Lpe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var v0=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(v0||{});function Bpe(t){throw t}function Hpe(t,e,n){return e.parse("/")}const zpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Upe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=W(N7),this.isNgZoneEnabled=!1,this._events=new Z,this.options=W(MI,{optional:!0})||{},this.pendingTasks=W(xg),this.errorHandler=this.options.errorHandler||Bpe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Hpe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=W(Vpe),this.routeReuseStrategy=W(Npe),this.titleStrategy=W(mL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=W(n2,{optional:!0})?.flat()??[],this.navigationTransitions=W(r2),this.urlSerializer=W(s0),this.location=W(Yy),this.componentInputBindingEnabled=!!W(X1,{optional:!0}),this.eventsSubscription=new Y,this.isNgZoneEnabled=W(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=KV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(vL(i)&&this._events.next(i));if(i instanceof vI)gL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof d0)this.rawUrlTree=s.rawUrl;else if(i instanceof $V){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof yI)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof u0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof EI){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gL(s.source)};this.scheduleNavigation(o,l0,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Y1&&this.restoreHistory(s,!0),i instanceof Hu&&(this.navigated=!0),vL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),l0,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(DI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=VV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return LV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Ic(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,l0,null,i)}navigate(r,i={skipLocationChange:!1}){return function jpe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ee(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...zpe}:!1===i?{...Upe}:i,Ic(r))return DV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return DV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function _L(t,e){t.events.pipe(ws(n=>n instanceof Hu||n instanceof u0||n instanceof Y1||n instanceof d0),Ye(n=>n instanceof Hu||n instanceof d0?v0.COMPLETE:n instanceof u0&&(0===n.code||1===n.code)?v0.REDIRECTING:v0.FAILED),ws(n=>n!==v0.REDIRECTING),Vu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function vL(t){return!(t instanceof yI||t instanceof EI)}class qu{constructor(e){return e}}const wL="analytics",FI="__angularfire_symbol__analyticsIsSupportedValue",AL="__angularfire_symbol__analyticsIsSupported";globalThis[AL]||=Dhe().then(t=>globalThis[FI]=t).catch(()=>globalThis[FI]=!1);const s2={async:()=>globalThis[AL],sync:()=>{const t=globalThis[FI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},TL=s2.async,Jpe=yn(Ahe,!0),y0=yn(pV,!0),Zpe=yn(She,!0);let DL=(()=>{var t;class e{constructor(r,i,s){let o;gt(this,"initialized",void 0),gt(this,"disposables",[]),rn("angularfire",Oo.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),TL().then(()=>{const a=s.get(qu);a?this.disposables=[YP(r).subscribe(c=>{Zpe(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(jf),Se(dt),Se(An))}),gt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac})),e})();const SL="firebase_screen_id",VI="outlet",E0="screen_class",RL="screen_name";let dge=Math.floor(Math.random()*(2**32-1))-2**31;const LI={},fge=t=>{const e=[t[E0],t[VI]].join("#");if(LI.hasOwnProperty(e))return LI[e];{const n=dge++;return LI[e]=n,n}},hge=(t,e,n)=>t.events.pipe(ws(i=>i instanceof GV)).pipe(li(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Le(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[RL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[VI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===TI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Le({...u,[E0]:d});if(d){const f=n.resolveComponentFactory(d);return Le({...u,[E0]:f.selector})}return Le(null)}),ws(i=>!!i),Ye(i=>({firebase_screen_class:i[E0],[SL]:fge(i),...i})),function qde(t,e,n,r){return Ve((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Je(s,p=>{try{const g=t(p);let E=a.get(g);if(!E){a.set(g,E=r?r():new Z);const S=function h(p,g){const E=new de(S=>{u++;const I=g.subscribe(S);return()=>{I.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return E.key=p,E}(g,E);if(s.next(S),n){const I=et(E,()=>{E.complete(),I?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(rr(n(S)).subscribe(I))}}E.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[VI]),Hn(i=>i.pipe(Ew((s,o)=>JSON.stringify(s)===JSON.stringify(o)),OF(void 0),function Kde(){return Ve((t,e)=>{let n,r=!1;t.subscribe(et(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Ye(([s,o])=>s?{firebase_previous_class:s[E0],firebase_previous_screen:s[RL],firebase_previous_id:s[SL],...o}:o))));let pge=(()=>{var t;class e{constructor(r,i,s,o,a,c){gt(this,"disposable",void 0),rn("angularfire",Oo.full,"screen-tracking"),TL().then(()=>{const l=c.get(qu);!r||!l||o.runOutsideAngular(()=>{this.disposable=hge(r,i,s).pipe(li(function(){var u=v(function*(d){return a&&(yield a.initialized),y0(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(Wi,8),Se(x4,8),Se(Hd),Se(dt),Se(DL,8),Se(An))}),gt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac})),e})();const BI=new ye("angularfire2.analytics-instances");function mge(t){return(e,n)=>{if(!s2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new qu(r)}}const _ge={provide:class Xpe{constructor(){return Xg(wL)}},deps:[[new dn,BI]]},vge={provide:qu,useFactory:function gge(t,e){if(!s2.sync())return null;const n=Qg(wL,t,e);return n&&new qu(n)},deps:[[new dn,BI],za]};let yge=(()=>{var t;class e{constructor(r,i){rn("angularfire",Oo.full,"analytics")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(pge,8),Se(DL,8))}),gt(e,"\u0275mod",Mt({type:t})),gt(e,"\u0275inj",Dt({providers:[vge,_ge,{provide:k7,useValue:s2.async,multi:!0}]})),e})();function Ege(t,...e){return{ngModule:yge,providers:[{provide:BI,useFactory:mge(t),multi:!0,deps:[dt,An,Sf,Rf,...e]}]}}class PL{get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance}}}let xge=(()=>{var t;class e{constructor(){this.firestore=W(bs),this.localStorageService=W(Ei)}checkAndCachePlayersRankings(){let r=sa($r(Dr(this.firestore,"config"),"last-players-rankings-update-turn")).subscribe(s=>{if(this.localStorageService.get(Ct.LAST_PLAYERS_RANKINGS_UPDATE_TURN)&&this.localStorageService.get(Ct.LAST_PLAYERS_RANKINGS_UPDATE_TURN)==Object.assign({value:0},s).value)r.unsubscribe();else{let o=pc(mc(Dr(this.firestore,"players"))).subscribe(a=>{let c=Object.assign([],a),l=[];c.forEach(u=>{let d=new PL;d.playerId=u.playerId,d.rank=u.rank,d.planets=u.planets.length,d.name=u.name,d.alliance=u.alliance,d.combatScore=u.combatScore,d.combinedScore=u.combinedScore,d.score=u.score,l.push(d)}),this.localStorageService.cache(Ct.PLAYERS_STATS,l),this.localStorageService.cache(Ct.LAST_PLAYERS_RANKINGS_UPDATE_TURN,Object.assign({value:0},s).value),o.unsubscribe(),r.unsubscribe()})}}),i=sa($r(Dr(this.firestore,"config"),"last-planets-update-turn")).subscribe(s=>{this.localStorageService.cache(Ct.LAST_PLANETS_UPDATE_TURN,Object.assign({value:0},s).value),i.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ML=(()=>{var t;class e{constructor(){this.localStorageService=W(Ei),this._installUpdateEmitter=new yt}checkForUpdate(r,i){let s=this.localStorageService.get(Ct.REMOTE_VERSION,!1),o=this.localStorageService.get(Ct.LOCAL_VERSION);i.next(null!==s&&s!==o&&""!==s),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}get installUpdateEmitter(){return this._installUpdateEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Cge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&ef("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const Ige=["updateNotification"];function bge(t,e){1&t&&(ae(0,"span",25,26),we(2,"1"),_e())}let wge=(()=>{var t;class e{constructor(){this.dgAPI=W(hs),this.changeDetector=W(So),this.authService=W(_c),this.globalConfigService=W(xge),this.changelogService=W(ML),this.analytics=W(qu),this.initialized=!1;let r=window.location.pathname.split("/");y0(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),y0(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new de(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.changelogService.installUpdateEmitter.subscribe(i=>{i&&(this.updateNotification.nativeElement.remove(),this.changeDetector.detectChanges())}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.globalConfigService.checkAndCachePlayersRankings(),this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&fs(Ige,5),2&r){let s;Li(s=Bi())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"ul",1)(2,"li",2),Jr(3,bge,3,0,"span",3),Dn(4,"async"),ae(5,"a",4),xt(6,"img",5),ae(7,"span",6),we(8,"home"),_e()()(),ae(9,"li",7)(10,"a",8),xt(11,"img",9),ae(12,"span",6),we(13,"planets"),_e()()(),ae(14,"li",10)(15,"a",11),xt(16,"img",12),ae(17,"span",6),we(18,"radar"),_e()()(),ae(19,"li",13)(20,"a",14),xt(21,"img",15),ae(22,"span",6),we(23,"fleets"),_e()()(),ae(24,"li",16)(25,"a",17),xt(26,"img",18),ae(27,"span",6),we(28,"navigation"),_e()()(),ae(29,"li",19)(30,"a",20),xt(31,"img",21),ae(32,"span",6),we(33,"research"),_e()()(),ae(34,"li",22)(35,"a",23),xt(36,"img",24),ae(37,"span",6),we(38,"alliances"),_e()()()()()),2&r&&(ke(2),nt("tabName","home"),ke(1),nt("ngIf",mi(4,8,i.updateAvailableNotification)),ke(6),nt("tabName","planets"),ke(5),nt("tabName","radar"),ke(5),nt("tabName","fleets"),ke(5),nt("tabName","navigation"),ke(5),nt("tabName","research"),ke(5),nt("tabName","alliances"))},dependencies:[Po,Cge,_f],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const pr_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},HI=new Map,kL={activated:!1,tokenObservers:[]},Age={initialized:!1,enabled:!1};function an(t){return HI.get(t)||Object.assign({},kL)}function o2(){return Age}const zI="https://content-firebaseappcheck.googleapis.com/v1",Rge="exchangeDebugToken",NL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Mge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new kl,yield function kge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new kl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const er=new ko("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function a2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function UI(t){if(!an(t).activated)throw er.create("use-before-activation",{appName:t.name})}function jI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=c2(n)+"d:"),r&&(o+=c2(r)+"h:"),o+=c2(i)+"m:"+c2(s)+"s",o}function c2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function l2(t,e){return $I.apply(this,arguments)}function $I(){return $I=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw er.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw er.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw er.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),$I.apply(this,arguments)}function OL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${zI}/projects/${n}/apps/${r}:${Rge}?key=${i}`,body:{debug_token:e}}}const Vge="firebase-app-check-database",Lge=1,x0="firebase-app-check-store",FL="debug-token";let u2=null;function VL(){return u2||(u2=new Promise((t,e)=>{try{const n=indexedDB.open(Vge,Lge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(er.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(x0,{keyPath:"compositeKey"})}}catch(n){e(er.create("storage-open",{originalErrorMessage:n?.message}))}}),u2)}function LL(t,e){return GI.apply(this,arguments)}function GI(){return GI=v(function*(t,e){const r=(yield VL()).transaction(x0,"readwrite"),s=r.objectStore(x0).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(er.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),GI.apply(this,arguments)}function BL(t){return qI.apply(this,arguments)}function qI(){return qI=v(function*(t){const n=(yield VL()).transaction(x0,"readonly"),i=n.objectStore(x0).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(er.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),qI.apply(this,arguments)}function HL(t){return`${t.options.appId}-${t.name}`}const C0=new Af("@firebase/app-check");function WI(){return WI=v(function*(t){if(xf()){let e;try{e=yield function Bge(t){return BL(HL(t))}(t)}catch(n){C0.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),WI.apply(this,arguments)}function KI(t,e){return xf()?function Hge(t,e){return LL(HL(t),e)}(t,e).catch(n=>{C0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function YI(){return YI=v(function*(){let t;try{t=yield function Uge(){return BL(FL)}()}catch{}if(t)return t;{const e=ine();return function zge(t){return LL(FL,t)}(e).catch(n=>C0.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),YI.apply(this,arguments)}function QI(){return o2().enabled}function XI(){return JI.apply(this,arguments)}function JI(){return JI=v(function*(){const t=o2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),JI.apply(this,arguments)}const qge={error:"UNKNOWN_ERROR"};function Wge(t){return T4.encodeString(JSON.stringify(t),!1)}function d2(t){return ZI.apply(this,arguments)}function ZI(){return ZI=v(function*(t,e=!1){const n=t.app;UI(n);const r=an(n);let s,i=r.token;if(i&&!Wu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Wu(c)?i=c:yield KI(n,void 0))}if(!e&&i&&Wu(i))return{token:i.token};let a,o=!1;if(QI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=l2(OL(n,yield XI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield KI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield an(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?C0.warn(c.message):C0.error(c),s=c}return i?s?a=Wu(i)?{token:i.token,internalError:s}:$L(s):(a={token:i.token},r.token=i,yield KI(n,i)):a=$L(s),o&&jL(n,a),a}),ZI.apply(this,arguments)}function eb(){return eb=v(function*(t){const e=t.app;UI(e);const{provider:n}=an(e);if(QI()){const r=yield XI(),{token:i}=yield l2(OL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),eb.apply(this,arguments)}function tb(t,e,n,r){const{app:i}=t,s=an(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Wu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),UL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UL(t))}function nb(t,e){const n=an(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function UL(t){const{app:e}=t,n=an(e);let r=n.tokenRefresher;r||(r=function Kge(t){const{app:e}=t;return new Mge(v(function*(){let r;if(r=an(e).token?yield d2(t,!0):yield d2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=an(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},NL.RETRIAL_MIN_WAIT,NL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function jL(t,e){const n=an(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Wu(t){return t.expireTimeMillis-Date.now()>0}function $L(t){return{token:Wge(qge),error:t}}class Yge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=an(this.app);for(const n of e)nb(this.app,n.next);return Promise.resolve()}}function nme(t,e){const n=new kl;an(t).reCAPTCHAState={initialized:n};const i=function GL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=a2(!1);return s?f2(t,e,s,i,n):function sme(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=a2(!1);if(!o)throw new Error("no recaptcha");f2(t,e,o,i,n)}),n.promise}function f2(t,e,n,r,i){n.ready(()=>{(function ime(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{an(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{an(t).reCAPTCHAState.succeeded=!1}}),s=an(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function rb(){return rb=v(function*(t){UI(t);const n=yield an(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=an(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),rb.apply(this,arguments)}class Rs{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return v(function*(){var n,r,i;!function QL(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw er.create("throttled",{time:jI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function qL(t){return rb.apply(this,arguments)}(e._app).catch(a=>{throw er.create("recaptcha-error")});if(null===(n=an(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw er.create("recaptcha-error");let o;try{o=yield l2(function Oge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${zI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function YL(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=M4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),er.create("throttled",{time:jI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=ps(e,"heartbeat"),nme(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Rs&&this._siteKey===e._siteKey}}function ame(t=Ol(),e){const n=ps(t=nn(t),"app-check");if(o2().initialized||function Gge(){const t=h9(),e=o2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new kl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function $ge(){return YI.apply(this,arguments)}())}(),QI()&&XI().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw er.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function cme(t,e,n){const r=function Tge(t,e){return HI.set(t,e),HI.get(t)}(t,Object.assign({},kL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function jge(t){return WI.apply(this,arguments)}(t).then(i=>(i&&Wu(i)&&(r.token=i,jL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),an(t).isTokenAutoRefreshEnabled&&tb(r,"INTERNAL",()=>{}),r}const XL="app-check-internal";!function ume(){xi(new ei("app-check",t=>function Qge(t,e){return new Yge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(XL).initialize()})),xi(new ei(XL,t=>function Xge(t){return{getToken:e=>d2(t,e),getLimitedUseToken:()=>function zL(t){return eb.apply(this,arguments)}(t),addTokenListener:e=>tb(t,"INTERNAL",e),removeTokenListener:e=>nb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),rn("@firebase/app-check","0.8.0")}();class sb{constructor(e){return e}}const ob=new ye("angularfire2.app-check-instances"),fme=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function hme(t){return(e,n,r)=>{!d4(r)&&fme&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new sb(i)}}const pme={provide:G4,deps:[[new dn,ob]]},gme={provide:sb,useFactory:function dme(t,e){const n=Qg(V9,t,e);return n&&new sb(n)},deps:[[new dn,ob],za,os]};let mme=(()=>{var t;class e{constructor(){rn("angularfire",Oo.full,"app-check")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Mt({type:t})),gt(e,"\u0275inj",Dt({providers:[gme,pme]})),e})();function ca(t,...e){return{ngModule:mme,providers:[{provide:ob,useFactory:hme(t),multi:!0,deps:[dt,An,os,Sf,Rf,...e]}]}}const la=yn(ame,!0);let _me=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[wge]}),t.\u0275inj=Dt({imports:[yi,Fo(()=>Lo(pr_firebase)),zl(()=>Ul()),hc(()=>gc()),ca(()=>la(Vo(),{provider:new Rs(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),Ege(()=>Jpe())]}),e})();class vme{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class yme{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class JL{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class ZL{constructor(){this._resources=new yme,this._workers=new JL,this._soldiers=new JL,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var In=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(In||{});let eB=(()=>{var t;class e{constructor(){this.dgAPI=W(hs)}extractStats(){let r=new vme;return r.stats.set(In.ALL,new ZL),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new ZL),r.stats.get(In.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(In.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(In.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(In.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(In.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(In.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case In.METAL:r.stats.get(In.ALL).resources.metalStored+=s.stored,r.stats.get(In.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case In.MINERAL:r.stats.get(In.ALL).resources.mineralStored+=s.stored,r.stats.get(In.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case In.FOOD:r.stats.get(In.ALL).resources.foodStored+=s.stored,r.stats.get(In.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case In.ENERGY:r.stats.get(In.ALL).resources.energyStored+=s.stored,r.stats.get(In.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Eme=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Un({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),ab=(()=>{var t;class e{constructor(){this.decimalPipe=W(Rl)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Un({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const xme=function(t){return{"dgt-stats-totals-last-row":t}},bi=function(t){return{"dgt-padding-bottom-xs":t}};function Cme(t,e){if(1&t&&(ae(0,"tr",4)(1,"th",5)(2,"span",6),we(3),Dn(4,"galaxyNameFormatter"),_e(),ae(5,"span",7),we(6),_e()(),ae(7,"td",8)(8,"div",9),xt(9,"img",10),ae(10,"span",11),we(11),Dn(12,"number"),_e()()(),ae(13,"td",12)(14,"div",9)(15,"span",11),we(16),Dn(17,"resourceProductionFormatter"),_e()()(),ae(18,"td",13)(19,"div",14),xt(20,"img",15),ae(21,"span",11),we(22),Dn(23,"number"),_e()()(),ae(24,"td",12)(25,"div",14)(26,"span",11),we(27),Dn(28,"resourceProductionFormatter"),_e()()(),ae(29,"td",13)(30,"div",16),xt(31,"img",17),ae(32,"span",11),we(33),Dn(34,"number"),_e()()(),ae(35,"td",12)(36,"div",16)(37,"span",11),we(38),Dn(39,"resourceProductionFormatter"),_e()()(),ae(40,"td",13)(41,"div",18),xt(42,"img",19),ae(43,"span",11),we(44),Dn(45,"number"),_e()()(),ae(46,"td",20)(47,"div",18)(48,"span",11),we(49),Dn(50,"resourceProductionFormatter"),_e()()(),ae(51,"td",21)(52,"div",22),xt(53,"img",23),ae(54,"span",11),we(55),Dn(56,"number"),_e()()(),ae(57,"td",24)(58,"div",25),xt(59,"img",26),ae(60,"span",11),we(61),Dn(62,"number"),_e()()(),ae(63,"td",27)(64,"div",28),xt(65,"img",29),ae(66,"span",11),we(67),Dn(68,"number"),_e()()()()),2&t){const n=e.$implicit,r=e.index,i=Mn();nt("ngClass",Lr(64,xme,r==i.panel.stats.size-1)),ke(1),nt("ngClass",Lr(66,bi,r==i.panel.stats.size-2)),ke(2),Yt(mi(4,26,n.key)),ke(3),Ma("[",n.value.count,"]"),ke(1),nt("ngClass",Lr(68,bi,r==i.panel.stats.size-2)),ke(4),Yt(To(12,28,n.value.resources.metalStored,"1.0","en-US")),ke(2),nt("ngClass",Lr(70,bi,r==i.panel.stats.size-2)),ke(3),Yt(mi(17,32,n.value.resources.metalProduction)),ke(2),nt("ngClass",Lr(72,bi,r==i.panel.stats.size-2)),ke(4),Yt(To(23,34,n.value.resources.mineralStored,"1.0","en-US")),ke(2),nt("ngClass",Lr(74,bi,r==i.panel.stats.size-2)),ke(3),Yt(mi(28,38,n.value.resources.mineralProduction)),ke(2),nt("ngClass",Lr(76,bi,r==i.panel.stats.size-2)),ke(4),Yt(To(34,40,n.value.resources.foodStored,"1.0","en-US")),ke(2),nt("ngClass",Lr(78,bi,r==i.panel.stats.size-2)),ke(3),Yt(mi(39,44,n.value.resources.foodProduction)),ke(2),nt("ngClass",Lr(80,bi,r==i.panel.stats.size-2)),ke(4),Yt(To(45,46,n.value.resources.energyStored,"1.0","en-US")),ke(2),nt("ngClass",Lr(82,bi,r==i.panel.stats.size-2)),ke(3),Yt(mi(50,50,n.value.resources.energyProduction)),ke(2),nt("ngClass",Lr(84,bi,r==i.panel.stats.size-2)),ke(4),Yt(To(56,52,n.value.resources.ground,"1.0","en-US")),ke(2),nt("ngClass",Lr(86,bi,r==i.panel.stats.size-2)),ke(4),Yt(To(62,56,n.value.resources.orbit,"1.0","en-US")),ke(2),nt("ngClass",Lr(88,bi,r==i.panel.stats.size-2)),ke(4),Yt(To(68,60,n.value.soldiers.total,"1.0","en-US"))}}let Ime=(()=>{var t;class e{constructor(){this.statsPanelService=W(eB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"div",1)(2,"table",2),Jr(3,Cme,69,90,"tr",3),Dn(4,"keyvalue"),_e()()()),2&r&&(ke(3),nt("ngForOf",mi(4,1,i.panel.stats)))},dependencies:[SR,o4,Rl,NR,Eme,ab],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function tB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tB(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h2(t){return(h2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cb(t,e){return function Dme(t){if(Array.isArray(t))return t}(t)||function Rme(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||rB(t,e)||function Mme(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b0(t){return function Tme(t){if(Array.isArray(t))return lb(t)}(t)||function Sme(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rB(t)||function Pme(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rB(t,e){if(t){if("string"==typeof t)return lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(t,e)}}function lb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iB=function(){},ub={},sB={},oB=null,aB={mark:iB,measure:iB};try{typeof window<"u"&&(ub=window),typeof document<"u"&&(sB=document),typeof MutationObserver<"u"&&(oB=MutationObserver),typeof performance<"u"&&(aB=performance)}catch{}var m2,_2,v2,y2,E2,cB=(ub.navigator||{}).userAgent,lB=void 0===cB?"":cB,ua=ub,zt=sB,uB=oB,g2=aB,go=!!zt.documentElement&&!!zt.head&&"function"==typeof zt.addEventListener&&"function"==typeof zt.createElement,dB=~lB.indexOf("MSIE")||~lB.indexOf("Trident/"),mo="___FONT_AWESOME___",fB="fa",hB="svg-inline--fa",bc="data-fa-i2svg",fb="data-fa-pseudo-element",Nme="data-fa-pseudo-element-pending",hb="data-prefix",pb="data-icon",pB="fontawesome-i2svg",Ome="async",Fme=["HTML","HEAD","STYLE","SCRIPT"],gB=function(){try{return!0}catch{return!1}}(),Ut="classic",cn="sharp",gb=[Ut,cn];function w0(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ut]}})}var A0=w0((Pn(m2={},Ut,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Pn(m2,cn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),m2)),T0=w0((Pn(_2={},Ut,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Pn(_2,cn,{solid:"fass",regular:"fasr",light:"fasl"}),_2)),D0=w0((Pn(v2={},Ut,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Pn(v2,cn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),v2)),Vme=w0((Pn(y2={},Ut,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Pn(y2,cn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),y2)),Lme=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,mB="fa-layers-text",Bme=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Hme=w0((Pn(E2={},Ut,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Pn(E2,cn,{900:"fass",400:"fasr",300:"fasl"}),E2)),_B=[1,2,3,4,5,6,7,8,9,10],zme=_B.concat([11,12,13,14,15,16,17,18,19,20]),Ume=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],wc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},S0=new Set;Object.keys(T0[Ut]).map(S0.add.bind(S0)),Object.keys(T0[cn]).map(S0.add.bind(S0));var jme=[].concat(gb,b0(S0),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",wc.GROUP,wc.SWAP_OPACITY,wc.PRIMARY,wc.SECONDARY]).concat(_B.map(function(t){return"".concat(t,"x")})).concat(zme.map(function(t){return"w-".concat(t)})),R0=ua.FontAwesomeConfig||{};zt&&"function"==typeof zt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=cb(t,2),r=e[1],i=function Gme(t){return""===t||"false"!==t&&("true"===t||t)}(function $me(t){var e=zt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(R0[r]=i)});var vB={styleDefault:"solid",familyDefault:"classic",cssPrefix:fB,replacementClass:hB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};R0.familyPrefix&&(R0.cssPrefix=R0.familyPrefix);var Ku=Te(Te({},vB),R0);Ku.autoReplaceSvg||(Ku.observeMutations=!1);var Pe={};Object.keys(vB).forEach(function(t){Object.defineProperty(Pe,t,{enumerable:!0,set:function(n){Ku[t]=n,P0.forEach(function(r){return r(Pe)})},get:function(){return Ku[t]}})}),Object.defineProperty(Pe,"familyPrefix",{enumerable:!0,set:function(e){Ku.cssPrefix=e,P0.forEach(function(n){return n(Pe)})},get:function(){return Ku.cssPrefix}}),ua.FontAwesomeConfig=Pe;var P0=[],Ps={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Yme="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function M0(){for(var t=12,e="";t-- >0;)e+=Yme[62*Math.random()|0];return e}function Yu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function mb(t){return t.classList?Yu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function yB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function x2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function _b(t){return t.size!==Ps.size||t.x!==Ps.x||t.y!==Ps.y||t.rotate!==Ps.rotate||t.flipX||t.flipY}var Zme=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function EB(){var t=fB,e=hB,n=Pe.cssPrefix,r=Pe.replacementClass,i=Zme;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var xB=!1;function vb(){Pe.autoAddCss&&!xB&&(function Kme(t){if(t&&go){var e=zt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=zt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}zt.head.insertBefore(e,r)}}(EB()),xB=!0)}var e1e={mixout:function(){return{dom:{css:EB,insertCss:vb}}},hooks:function(){return{beforeDOMElementCreation:function(){vb()},beforeI2svg:function(){vb()}}}},_o=ua||{};_o[mo]||(_o[mo]={}),_o[mo].styles||(_o[mo].styles={}),_o[mo].hooks||(_o[mo].hooks={}),_o[mo].shims||(_o[mo].shims=[]);var Ki=_o[mo],CB=[],C2=!1;function k0(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?yB(t):"<".concat(e," ").concat(function Qme(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(yB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(k0).join(""),"</").concat(e,">")}function IB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}go&&((C2=(zt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(zt.readyState))||zt.addEventListener("DOMContentLoaded",function t(){zt.removeEventListener("DOMContentLoaded",t),C2=1,CB.map(function(e){return e()})}));var yb=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function Eb(t){var e=function i1e(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function bB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function xb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=bB(e);"function"!=typeof Ki.hooks.addPack||i?Ki.styles[t]=Te(Te({},Ki.styles[t]||{}),s):Ki.hooks.addPack(t,bB(e)),"fas"===t&&xb("fa",e)}var I2,b2,w2,Qu=Ki.styles,o1e=Ki.shims,a1e=(Pn(I2={},Ut,Object.values(D0[Ut])),Pn(I2,cn,Object.values(D0[cn])),I2),Cb=null,wB={},AB={},TB={},DB={},SB={},c1e=(Pn(b2={},Ut,Object.keys(A0[Ut])),Pn(b2,cn,Object.keys(A0[cn])),b2);var RB=function(){var e=function(s){return yb(Qu,function(o,a,c){return o[c]=yb(a,s,{}),o},{})};wB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),AB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),SB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Qu||Pe.autoFetchSvg,r=yb(o1e,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});TB=r.names,DB=r.unicodes,Cb=A2(Pe.styleDefault,{family:Pe.familyDefault})};function Ib(t,e){return(wB[t]||{})[e]}function Ac(t,e){return(SB[t]||{})[e]}function PB(t){return TB[t]||{prefix:null,iconName:null}}function fa(){return Cb}(function Wme(t){P0.push(t)})(function(t){Cb=A2(t.styleDefault,{family:Pe.familyDefault})}),RB();var bb=function(){return{prefix:null,iconName:null,rest:[]}};function A2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Ut:n;return T0[r][t]||T0[r][A0[r][t]]||(t in Ki.styles?t:null)||null}var MB=(Pn(w2={},Ut,Object.keys(D0[Ut])),Pn(w2,cn,Object.keys(D0[cn])),w2);function T2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Pn(e={},Ut,"".concat(Pe.cssPrefix,"-").concat(Ut)),Pn(e,cn,"".concat(Pe.cssPrefix,"-").concat(cn)),e),o=null,a=Ut;(t.includes(s[Ut])||t.some(function(l){return MB[Ut].includes(l)}))&&(a=Ut),(t.includes(s[cn])||t.some(function(l){return MB[cn].includes(l)}))&&(a=cn);var c=t.reduce(function(l,u){var d=function u1e(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function l1e(t){return~jme.indexOf(t)}(i)?null:i}(Pe.cssPrefix,u);if(Qu[u]?(u=a1e[a].includes(u)?Vme[a][u]:u,o=u,l.prefix=u):c1e[a].indexOf(u)>-1?(o=u,l.prefix=A2(u,{family:a})):d?l.iconName=d:u!==Pe.replacementClass&&u!==s[Ut]&&u!==s[cn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?PB(l.iconName):{},h=Ac(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Qu.far&&Qu.fas&&!Pe.autoFetchSvg&&(l.prefix="fas")}return l},bb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===cn&&(Qu.fass||Pe.autoFetchSvg)&&(c.prefix="fass",c.iconName=Ac(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=fa()||"fas"),c}var h1e=function(){function t(){(function bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function wme(t,e,n){e&&nB(t.prototype,e),n&&nB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Te(Te({},n.definitions[a]||{}),o[a]),xb(a,o[a]);var c=D0[Ut][a];c&&xb(c,o[a]),RB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),kB=[],Xu={},Ju={},p1e=Object.keys(Ju);function wb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Xu[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Tc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Xu[t]||[]).forEach(function(s){s.apply(null,n)})}function vo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ju[t]?Ju[t].apply(null,e):void 0}function Ab(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||fa();if(e)return e=Ac(n,e)||e,IB(NB.definitions,n,e)||IB(Ki.styles,n,e)}var NB=new h1e,_1e={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return go?(Tc("beforeI2svg",e),vo("pseudoElements2svg",e),vo("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Pe.autoReplaceSvg&&(Pe.autoReplaceSvg=!0),Pe.observeMutations=!0,function n1e(t){go&&(C2?setTimeout(t,0):CB.push(t))}(function(){y1e({autoReplaceSvgRoot:n}),Tc("watch",e)})}},oi={noAuto:function(){Pe.autoReplaceSvg=!1,Pe.observeMutations=!1,Tc("noAuto")},config:Pe,dom:_1e,parse:{icon:function(e){if(null===e)return null;if("object"===h2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ac(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=A2(e[0]);return{prefix:r,iconName:Ac(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Pe.cssPrefix,"-"))>-1||e.match(Lme))){var i=T2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||fa(),iconName:Ac(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=fa();return{prefix:s,iconName:Ac(s,e)||e}}}},library:NB,findIconDefinition:Ab,toHtml:k0},y1e=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?zt:n;(Object.keys(Ki.styles).length>0||Pe.autoFetchSvg)&&go&&Pe.autoReplaceSvg&&oi.dom.i2svg({node:r})};function D2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return k0(r)})}}),Object.defineProperty(t,"node",{get:function(){if(go){var r=zt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Tb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,E=p.height,S="fak"===i,I=[Pe.replacementClass,s?"".concat(Pe.cssPrefix,"-").concat(s):""].filter(function(Jt){return-1===d.classes.indexOf(Jt)}).filter(function(Jt){return""!==Jt||!!Jt}).concat(d.classes).join(" "),H={children:[],attributes:Te(Te({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:I,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(E)})},G=S&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/E*16*.0625,"em")}:{};h&&(H.attributes[bc]=""),c&&(H.children.push({tag:"title",attributes:{id:H.attributes["aria-labelledby"]||"title-".concat(u||M0())},children:[c]}),delete H.attributes.title);var ue=Te(Te({},H),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:Te(Te({},G),d.styles)}),De=r.found&&n.found?vo("generateAbstractMask",ue)||{children:[],attributes:{}}:vo("generateAbstractIcon",ue)||{children:[],attributes:{}},_t=De.attributes;return ue.children=De.children,ue.attributes=_t,a?function x1e(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Pe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Te(Te({},i),{},{id:o}),children:r}]}]}(ue):function E1e(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(_b(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=x2(Te(Te({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(ue)}function OB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=Te(Te(Te({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[bc]="");var u=Te({},o.styles);_b(i)&&(u.transform=function Jme(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&dB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=x2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Db=Ki.styles;function Sb(t){var e=t[0],n=t[1],s=cb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(wc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(wc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(wc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var I1e={found:!1,width:512,height:512};function Rb(t,e){var n=e;return"fa"===e&&null!==Pe.styleDefault&&(e=fa()),new Promise(function(r,i){if(vo("missingIconAbstract"),"fa"===n){var o=PB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Db[e]&&Db[e][t])return r(Sb(Db[e][t]));(function b1e(t,e){!gB&&!Pe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Te(Te({},I1e),{},{icon:Pe.showMissingIcons&&t&&vo("missingIconAbstract")||{}}))})}var FB=function(){},Pb=Pe.measurePerformance&&g2&&g2.mark&&g2.measure?g2:{mark:FB,measure:FB},N0='FA "6.4.2"',VB=function(e){Pb.mark("".concat(N0," ").concat(e," ends")),Pb.measure("".concat(N0," ").concat(e),"".concat(N0," ").concat(e," begins"),"".concat(N0," ").concat(e," ends"))},Mb={begin:function(e){return Pb.mark("".concat(N0," ").concat(e," begins")),function(){return VB(e)}},end:VB},S2=function(){};function LB(t){return"string"==typeof(t.getAttribute?t.getAttribute(bc):null)}function S1e(t){return zt.createElementNS("http://www.w3.org/2000/svg",t)}function R1e(t){return zt.createElement(t)}function BB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?S1e:R1e:n;if("string"==typeof t)return zt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(BB(o,{ceFn:r}))}),i}var R2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(BB(i),n)}),null===n.getAttribute(bc)&&Pe.keepOriginalSource){var r=zt.createComment(function P1e(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~mb(n).indexOf(Pe.replacementClass))return R2.replace(e);var i=new RegExp("".concat(Pe.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Pe.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return k0(a)}).join("\n");n.setAttribute(bc,""),n.innerHTML=o}};function HB(t){t()}function zB(t,e){var n="function"==typeof e?e:S2;if(0===t.length)n();else{var r=HB;Pe.mutateApproach===Ome&&(r=ua.requestAnimationFrame||HB),r(function(){var i=function D1e(){return!0===Pe.autoReplaceSvg?R2.replace:R2[Pe.autoReplaceSvg]||R2.replace}(),s=Mb.begin("mutate");t.map(i),s(),n()})}}var kb=!1;function UB(){kb=!0}function Nb(){kb=!1}var P2=null;function jB(t){if(uB&&Pe.observeMutations){var e=t.treeCallback,n=void 0===e?S2:e,r=t.nodeCallback,i=void 0===r?S2:r,s=t.pseudoElementsCallback,o=void 0===s?S2:s,a=t.observeMutationsRoot,c=void 0===a?zt:a;P2=new uB(function(l){if(!kb){var u=fa();Yu(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!LB(d.addedNodes[0])&&(Pe.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Pe.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&LB(d.target)&&~Ume.indexOf(d.attributeName))if("class"===d.attributeName&&function A1e(t){var e=t.getAttribute?t.getAttribute(hb):null,n=t.getAttribute?t.getAttribute(pb):null;return e&&n}(d.target)){var f=T2(mb(d.target)),p=f.iconName;d.target.setAttribute(hb,f.prefix||u),p&&d.target.setAttribute(pb,p)}else(function T1e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Pe.replacementClass)})(d.target)&&i(d.target)})}}),go&&P2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function $B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function N1e(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=T2(mb(t));return i.prefix||(i.prefix=fa()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function d1e(t,e){return(AB[t]||{})[e]}(i.prefix,t.innerText)||Ib(i.prefix,Eb(t.innerText))),!i.iconName&&Pe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function O1e(t){var e=Yu(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Pe.autoA11y&&(n?e["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(r||M0()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=wb("parseNodeAttributes",{},t),c=e.styleParser?function k1e(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return Te({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Ps,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var V1e=Ki.styles;function GB(t){var e="nest"===Pe.autoReplaceSvg?$B(t,{styleParser:!1}):$B(t);return~e.extra.classes.indexOf(mB)?vo("generateLayersText",t,e):vo("generateSvgReplacementMutation",t,e)}var ha=new Set;function qB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!go)return Promise.resolve();var n=zt.documentElement.classList,r=function(d){return n.add("".concat(pB,"-").concat(d))},i=function(d){return n.remove("".concat(pB,"-").concat(d))},s=Pe.autoFetchSvg?ha:gb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(V1e));s.includes("fa")||s.push("fa");var o=[".".concat(mB,":not([").concat(bc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(bc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Yu(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Mb.begin("onTree"),l=a.reduce(function(u,d){try{var f=GB(d);f&&u.push(f)}catch(h){gB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){zB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function L1e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;GB(t).then(function(n){n&&zB([n],e)})}function B1e(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Ab(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Ab(i||{})),t(r,Te(Te({},n),{},{mask:i}))}}gb.map(function(t){ha.add("fa-".concat(t))}),Object.keys(A0[Ut]).map(ha.add.bind(ha)),Object.keys(A0[cn]).map(ha.add.bind(ha)),ha=b0(ha);var H1e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Ps:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,E=void 0===g?[]:g,S=n.attributes,I=void 0===S?{}:S,H=n.styles,G=void 0===H?{}:H;if(e){var ue=e.prefix,De=e.iconName,Fe=e.icon;return D2(Te({type:"icon"},e),function(){return Tc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Pe.autoA11y&&(f?I["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(p||M0()):(I["aria-hidden"]="true",I.focusable="false")),Tb({icons:{main:Sb(Fe),mask:c?Sb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ue,iconName:De,transform:Te(Te({},Ps),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:I,styles:G,classes:E}})})}},z1e={mixout:function(){return{icon:B1e(H1e)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=qB,n.nodeCallback=L1e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return qB(void 0===r?zt:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Rb(i,a),u.iconName?Rb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var E=cb(g,2);h([n,Tb({icons:{main:E[0],mask:E[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=x2(n.styles);return c.length>0&&(i.style=c),_b(o)&&(l=vo("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},U1e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return D2({type:"layer"},function(){Tc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Pe.cssPrefix,"-layers")].concat(b0(s)).join(" ")},children:o}]})}}}},j1e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return D2({type:"counter",content:n},function(){return Tc("beforeDOMElementCreation",{content:n,params:r}),function C1e(t){var e=t.content,n=t.title,r=t.extra,i=Te(Te(Te({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=x2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Pe.cssPrefix,"-layers-counter")].concat(b0(a))}})})}}}},$1e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Ps:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return D2({type:"text",content:n},function(){return Tc("beforeDOMElementCreation",{content:n,params:r}),OB({content:n,transform:Te(Te({},Ps),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Pe.cssPrefix,"-layers-text")].concat(b0(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(dB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Pe.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,OB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},G1e=new RegExp('"',"ug"),WB=[1105920,1112319];function KB(t,e){var n="".concat(Nme).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Yu(t.children).filter(function(Fe){return Fe.getAttribute(fb)===e})[0],a=ua.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(Bme),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?cn:Ut,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?T0[f][c[2].toLowerCase()]:Hme[f][l],p=function q1e(t){var e=t.replace(G1e,""),n=function s1e(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=WB[0]&&n<=WB[1],i=2===e.length&&e[0]===e[1];return{value:Eb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,E=p.isSecondary,S=c[0].startsWith("FontAwesome"),I=Ib(h,g),H=I;if(S){var G=function f1e(t){var e=DB[t],n=Ib("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);G.iconName&&G.prefix&&(I=G.iconName,h=G.prefix)}if(!I||E||o&&o.getAttribute(hb)===h&&o.getAttribute(pb)===H)r();else{t.setAttribute(n,H),o&&t.removeChild(o);var ue=function F1e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ps,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),De=ue.extra;De.attributes[fb]=e,Rb(I,h).then(function(Fe){var _t=Tb(Te(Te({},ue),{},{icons:{main:Fe,mask:bb()},prefix:h,iconName:H,extra:De,watchable:!0})),Jt=zt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Jt,t.firstChild):t.appendChild(Jt),Jt.outerHTML=_t.map(function(Ai){return k0(Ai)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function W1e(t){return Promise.all([KB(t,"::before"),KB(t,"::after")])}function K1e(t){return!(t.parentNode===document.head||~Fme.indexOf(t.tagName.toUpperCase())||t.getAttribute(fb)||t.parentNode&&"svg"===t.parentNode.tagName)}function YB(t){if(go)return new Promise(function(e,n){var r=Yu(t.querySelectorAll("*")).filter(K1e).map(W1e),i=Mb.begin("searchPseudoElements");UB(),Promise.all(r).then(function(){i(),Nb(),e()}).catch(function(){i(),Nb(),n()})})}var QB=!1,XB=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Ob={x:0,y:0,width:"100%",height:"100%"};function JB(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function J1e(t){return"g"===t.tag?t.children:[t]}var Z1e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?T2(i.split(" ").map(function(o){return o.trim()})):bb();return s.prefix||(s.prefix=fa()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function Xme(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:Te(Te({},Ob),{},{fill:"white"})},g=u.children?{children:u.children.map(JB)}:{},E={tag:"g",attributes:Te({},h.inner),children:[JB(Te({tag:u.tag,attributes:Te(Te({},u.attributes),h.path)},g))]},S={tag:"g",attributes:Te({},h.outer),children:[E]},I="mask-".concat(a||M0()),H="clip-".concat(a||M0()),G={tag:"mask",attributes:Te(Te({},Ob),{},{id:I,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,S]},ue={tag:"defs",children:[{tag:"clipPath",attributes:{id:H},children:J1e(f)},G]};return r.push(ue,{tag:"rect",attributes:Te({fill:"currentColor","clip-path":"url(#".concat(H,")"),mask:"url(#".concat(I,")")},Ob)}),{children:r,attributes:i}}}};!function g1e(t,e){var n=e.mixoutsTo;kB=t,Xu={},Object.keys(Ju).forEach(function(r){-1===p1e.indexOf(r)&&delete Ju[r]}),kB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===h2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Xu[o]||(Xu[o]=[]),Xu[o].push(s[o])})}r.provides&&r.provides(Ju)})}([e1e,z1e,U1e,j1e,$1e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=YB,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Pe.searchPseudoElements&&YB(void 0===r?zt:r)}}},{mixout:function(){return{dom:{unwatch:function(){UB(),QB=!0}}}},hooks:function(){return{bootstrap:function(){jB(wb("mutationObserverCallbacks",{}))},noAuto:function(){!function M1e(){P2&&P2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;QB?Nb():jB(wb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return XB(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=XB(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Te({},h.outer),children:[{tag:"g",attributes:Te({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Te(Te({},r.icon.attributes),h.path)}]}]}}}},Z1e,{provides:function(e){var n=!1;ua.matchMedia&&(n=ua.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Te(Te({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Te(Te({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Te(Te({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Te(Te({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Te(Te({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Te(Te({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Te(Te({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Te(Te({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Te(Te({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:oi});var r2e=oi.parse,i2e=oi.icon;const s2e=["*"],c2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let d2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ZB=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),f2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[vr]}),e})(),h2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(as),J(Cr))},t.\u0275cmp=ir({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[vr],ngContentSelectors:s2e,decls:1,vars:0,template:function(r,i){1&r&&(function ID(t){const e=X()[un][sr];if(!e.projection){const r=e.projection=Sd(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?ZK(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function bD(t,e=0,n){const r=X(),i=ct(),s=hl(i,tt+t,16,null,n||null);null===s.projection&&(s.projection=e),M_(),(!r[Hs]||$c())&&32!=(32&s.flags)&&function XG(t,e,n){w5(e[$e],0,e,n,ov(t,n,e),y5(n.parent||e[sr],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),p2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?r2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...c2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=i2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(r9),J(d2e),J(ZB),J(f2e,8),J(h2e,8))},t.\u0275cmp=ir({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(hy("innerHTML",i.renderedIconHTML,L5),Ni("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[vr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),eH=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Dt({}),e})(),g2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[Ime]}),t.\u0275inj=Dt({providers:[Rl,eB],imports:[yi,eH]}),e})(),tH=(()=>{var t;class e{constructor(){this.firestore=W(bs),this.dgAPI=W(hs)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;const i=Dr(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);this.planetScanSubscription=pc(mc(i,Qh("location","==",r.planetScan.location),sC(1))).subscribe(s=>{let o=Object.assign(new a9,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==cr.RESOURCE||r.type==cr.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==cr.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==cr.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==cr.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?oC($r(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):aC($r(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function m2e(t,e){1&t&&(ae(0,"p",3),we(1,"Each scan will be cached and shared with your alliance members "),xt(2,"img",4),_e())}let _2e=(()=>{var t;class e{constructor(){this.scanService=W(tH),this.authService=W(_c),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(ae(0,"div",0),xt(1,"span",1),_e(),Jr(2,m2e,3,0,"p",2)),2&r&&(ke(2),nt("ngIf",i.active))},dependencies:[Po],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),v2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[_2e]}),t.\u0275inj=Dt({providers:[tH],imports:[yi,Fo(()=>Lo(pr_firebase)),zl(()=>Ul()),hc(()=>gc()),ca(()=>la(Vo(),{provider:new Rs(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),nH=(()=>{var t;class e{constructor(){this.firestore=W(bs),this.dgAPI=W(hs),this.resourceProductionFormatterPipe=W(ab),this.decimalPipe=W(Rl)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=pc(mc(Dr(this.firestore,"scans-g"+i[0].split(/\./)[0]),Qh("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Ft.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Ft.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Ft.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Ft.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Ft.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Ft.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Ft.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Ft.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Ft.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Ft.MEDICAL_CENTRE)&&(f+=.3),d.includes(Ft.LEISURE_CENTRE)&&(f+=.4),d.includes(Ft.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function y2e(t,e){1&t&&(ae(0,"p",3),we(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),_e())}let E2e=(()=>{var t;class e{constructor(){this.scanService=W(nH),this.authService=W(_c),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(ae(0,"div",0),xt(1,"span",1),_e(),Jr(2,y2e,2,0,"p",2)),2&r&&(ke(2),nt("ngIf",i.active))},dependencies:[Po],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),x2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[E2e]}),t.\u0275inj=Dt({providers:[Rl,ab,nH],imports:[yi,Fo(()=>Lo(pr_firebase)),zl(()=>Ul()),hc(()=>gc()),ca(()=>la(Vo(),{provider:new Rs(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function C2e(t,e){if(1&t){const n=Jd();ae(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),we(6,"DGT Login"),_e()()(),ae(7,"tr",3)(8,"td"),xt(9,"input",4,5),_e(),ae(11,"td"),xt(12,"input",6,7),_e()(),ae(14,"tr",8)(15,"td",2)(16,"button",9),en("click",function(){ts(n);const i=sy(10),s=sy(13);return ns(Mn().signInWithEmailAndPassword(i.value,s.value))}),we(17,"Login"),_e(),ae(18,"button",10),en("click",function(){return ts(n),ns(Mn().signInWithGoogle())}),xt(19,"img",11),_e()()()()()()}}let I2e=(()=>{var t;class e{constructor(){this.authService=W(_c),this.auth=W(jf),this.firestore=W(bs),this.localStorageService=W(Ei),this.changeDetection=W(So),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new de(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(Ct.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(Jr(0,C2e,20,0,"div",0),Dn(1,"async")),2&r&&nt("ngIf",mi(1,1,i.displayLogin))},dependencies:[Po,_f],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),b2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[I2e]}),t.\u0275inj=Dt({imports:[yi,Fo(()=>Lo(pr_firebase)),zl(()=>Ul()),hc(()=>gc()),ca(()=>la(Vo(),{provider:new Rs(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var k2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Nye=(()=>{var t;class e{constructor(){this.localStorageService=W(Ei),this._statsEventEmitter=new yt}loadStats(r){let i=r.map(s=>s.name.toLowerCase());this.localStorageService.get(Ct.PLAYERS_STATS).forEach(s=>{let o=new l9;o.name=s.name,o.score=s.score,o.combatScore=s.combatScore,o.rank=s.rank,o.planets=s.planets+1,i.indexOf(o.name.toLowerCase())>=0&&this._statsEventEmitter.emit(o)})}get statsEventEmitter(){return this._statsEventEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Oye=(()=>{var t;class e{sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){let o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}setStats(r,i){r.forEach(s=>{s.name.toLowerCase()===i.name&&(s.stats.score=i.score,s.stats.combatScore=i.combatScore,s.stats.planets=i.planets,s.stats.rank=i.rank)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Dz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(as),J(Cr))},t.\u0275dir=Oe({type:t}),e})(),Dc=(()=>{var t;class e extends Dz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Wn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[Et]}),e})();const Ms=new ye("NgValueAccessor"),Lye={provide:Ms,useExisting:Rt(()=>N2),multi:!0},Hye=new ye("CompositionEventMode");let N2=(()=>{var t;class e extends Dz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bye(){const t=Ro()?Ro().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(as),J(Cr),J(Hye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&en("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[$t([Lye]),Et]}),e})();const gr=new ye("NgValidators"),ga=new ye("NgAsyncValidators");function Bz(t){return null!=t}function Hz(t){return Zd(t)?zn(t):t}function zz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Uz(t,e){return e.map(n=>n(t))}function jz(t){return t.map(e=>function Uye(t){return!t.validate}(e)?e:n=>e.validate(n))}function zb(t){return null!=t?function $z(t){if(!t)return null;const e=t.filter(Bz);return 0==e.length?null:function(n){return zz(Uz(n,e))}}(jz(t)):null}function Ub(t){return null!=t?function Gz(t){if(!t)return null;const e=t.filter(Bz);return 0==e.length?null:function(n){return function Fye(...t){const e=_w(t),{args:n,keys:r}=_V(t),i=new de(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;rr(n[u]).subscribe(et(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?yV(r,a):a),s.complete())}))}});return e?i.pipe(vV(e)):i}(Uz(n,e).map(Hz)).pipe(Ye(zz))}}(jz(t)):null}function qz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jb(t){return t?Array.isArray(t)?t:[t]:[]}function F2(t,e){return Array.isArray(t)?t.includes(e):t===e}function Yz(t,e){const n=jb(e);return jb(t).forEach(i=>{F2(n,i)||n.push(i)}),n}function Qz(t,e){return jb(e).filter(n=>!F2(t,n))}class Xz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ub(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Rr extends Xz{get formDirective(){return null}get path(){return null}}class ma extends Xz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zz=(()=>{var t;class e extends Jz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ma,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ef("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Et]}),e})(),$b=(()=>{var t;class e extends Jz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Rr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ef("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Et]}),e})();const O0="VALID",L2="INVALID",Zu="PENDING",F0="DISABLED";function Wb(t){return(B2(t)?t.validators:t)||null}function Kb(t,e){return(B2(e)?e.asyncValidators:t)||null}function B2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===O0}get invalid(){return this.status===L2}get pending(){return this.status==Zu}get disabled(){return this.status===F0}get enabled(){return this.status!==F0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Yz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qz(e,this._rawAsyncValidators))}hasValidator(e){return F2(this._rawValidators,e)}hasAsyncValidator(e){return F2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=F0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=O0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O0||this.status===Zu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?F0:O0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zu,this._hasOwnPendingAsyncValidator=!0;const n=Hz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?F0:this.errors?L2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zu)?Zu:this._anyControlsHaveStatus(L2)?L2:O0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function qye(t){return Array.isArray(t)?zb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Wye(t){return Array.isArray(t)?Ub(t):t||null}(this._rawAsyncValidators)}}class Yb extends rU{constructor(e,n,r){super(Wb(n),Kb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function nU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ee(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function tU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[n])throw new ee(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ed=new ye("CallSetDisabledState",{providedIn:"root",factory:()=>H2}),H2="always";function V0(t,e,n=H2){Qb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Qye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&iU(t,e)})}(t,e),function Jye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Xye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&iU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Yye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function j2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Qb(t,e){const n=function Wz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(qz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Kz(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(qz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();j2(e._rawValidators,i),j2(e._rawAsyncValidators,i)}function iU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const r4e={provide:Rr,useExisting:Rt(()=>B0)},L0=(()=>Promise.resolve())();let B0=(()=>{var t;class e extends Rr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new yt,this.form=new Yb({},zb(r),Ub(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){L0.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),V0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){L0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){L0.then(()=>{const i=this._findContainer(r.path),s=new Yb({});(function sU(t,e){Qb(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){L0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){L0.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function oU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(J(gr,10),J(ga,10),J(ed,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&en("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([r4e]),Et]}),e})();function aU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function cU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const lU=class extends rU{constructor(e=null,n,r){super(Wb(n),Kb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=cU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},o4e={provide:ma,useExisting:Rt(()=>ew)},fU=(()=>Promise.resolve())();let ew=(()=>{var t;class e extends ma{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new lU,this._registered=!1,this.name="",this.update=new yt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function Zb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===N2?n=s:function t4e(t){return Object.getPrototypeOf(t.constructor)===Dc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Jb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){V0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){fU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Dl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);fU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function z2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Rr,9),J(gr,10),J(ga,10),J(Ms,10),J(So,8),J(ed,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([o4e]),Et,vr]}),e})(),tw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),pU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Dt({}),e})(),R4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Dt({imports:[pU]}),e})(),MU=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:ed,useValue:r.callSetDisabledState??H2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Dt({imports:[R4e]}),e})(),M4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Un({name:"kickMemberFormatter",type:t,pure:!0}),e})();const k4e=["dgtSpinner"],N4e=["dgtMainContainer"];function O4e(t,e){if(1&t&&(ae(0,"span",18),we(1),_e()),2&t){const n=Mn().$implicit;ke(1),Ma("[",n.kickEta,"]")}}const F4e=function(){return["far","circle-xmark"]};function V4e(t,e){if(1&t){const n=Jd();ae(0,"div",19)(1,"form",20,21),en("ngSubmit",function(i){return ts(n),ns(Mn(4).onSubmitKickMember(i))}),xt(3,"input",22),Dn(4,"kickMemberFormatter"),ae(5,"button",23),xt(6,"fa-icon",24),_e()()()}if(2&t){const n=Mn().$implicit;ke(3),ay("name",mi(4,2,n.dgId)),ke(3),nt("icon",function QS(t,e,n){const r=yr()+t,i=X();return i[r]===qe?ls(i,r,n?e.call(n):e()):function qd(t,e){return t[e]}(i,r)}(4,F4e))}}function L4e(t,e){if(1&t&&(ae(0,"div",8)(1,"div",9)(2,"span",10),we(3),_e(),ae(4,"span",11),we(5,"Rank: "),ae(6,"span",12),we(7),_e()(),Jr(8,O4e,2,1,"span",13),ae(9,"span",14),we(10,"Score: "),ae(11,"span",12),we(12),_e()(),ae(13,"span",15),we(14,"Combat: "),ae(15,"span",12),we(16),_e()(),ae(17,"span",16),we(18,"Planets: "),ae(19,"span",12),we(20),_e()(),Jr(21,V4e,7,5,"div",17),_e()()),2&t){const n=e.$implicit,r=Mn(2).ngIf,i=Mn();ke(3),Yt(n.name),ke(4),Yt(n.stats.rank),ke(1),nt("ngIf",null!=n.kickEta),ke(4),Yt(n.stats.score),ke(4),Yt(n.stats.combatScore),ke(4),Yt(n.stats.planets),ke(1),nt("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function B4e(t,e){if(1&t&&(ae(0,"div",5,6),Jr(2,L4e,22,7,"div",7),_e()),2&t){const n=Mn(2);ke(2),nt("ngForOf",n.allianceMembers)}}function H4e(t,e){if(1&t&&(Qd(0),Jr(1,B4e,3,1,"div",4),Xd()),2&t){const n=Mn();ke(1),nt("ngIf",n.active)}}let z4e=(()=>{var t;class e{constructor(r){this.dgAPI=W(hs),this.authService=W(_c),this.localStorageService=W(Ei),this.statsService=W(Nye),this.membersPanelService=W(Oye),this.active=!1,this.initialized=!1,this.UserRole=cC,r.addIcons(k2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.active=i.status,this.role=new de(s=>{s.next(i.role),s.complete()}),this.statsService.statsEventEmitter.subscribe(s=>{this.membersPanelService.setStats(this.allianceMembers,s),this.membersPanelService.sortMembersByScore(this.allianceMembers)}),this.statsService.loadStats(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(Ct.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ZB))},t.\u0275cmp=ir({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(fs(k4e,5),fs(N4e,5)),2&r){let s;Li(s=Bi())&&(i.loadSpinner=s.first),Li(s=Bi())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(ae(0,"div",0,1),xt(2,"span",2),_e(),Jr(3,H4e,2,1,"ng-container",3),Dn(4,"async")),2&r&&(ke(3),nt("ngIf",mi(4,1,i.role)))},dependencies:[o4,Po,tw,$b,B0,p2e,_f,M4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),U4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[z4e]}),t.\u0275inj=Dt({imports:[yi,MU,eH,Fo(()=>Lo(pr_firebase)),zl(()=>Ul()),hc(()=>gc()),ca(()=>la(Vo(),{provider:new Rs(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),j4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),$4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[j4e]}),t.\u0275inj=Dt({imports:[yi]}),e})(),G4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),q4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[G4e]}),t.\u0275inj=Dt({imports:[yi]}),e})();const W4e=["dgtSpinner"];function K4e(t,e){if(1&t){const n=Jd();ae(0,"div",7)(1,"span"),we(2,"There is a new update for DarkGalaxy Toolbox. "),ae(3,"a",8),en("click",function(){return ts(n),ns(Mn().installUpdate())}),we(4,"Click here"),_e(),we(5," to install it."),_e()()}}let Y4e=(()=>{var t;class e{constructor(){this.changeLogService=W(ML),this.changeDetector=W(So),this.localStorageService=W(Ei),this.updateAvailable=new de(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),this.version=this.localStorageService.get(Ct.LOCAL_VERSION)}installUpdate(){this.changeLogService.installUpdateEmitter.emit(!0)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&fs(W4e,5),2&r){let s;Li(s=Bi())&&(i.loadSpinner=s.first)}},decls:30,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js",3,"click"]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"h2"),we(2,"DarkGalaxy Tools "),ae(3,"span"),we(4),_e()(),ae(5,"div",1,2),xt(7,"span",3),_e(),Jr(8,K4e,6,0,"div",4),Dn(9,"async"),ae(10,"div",5)(11,"div")(12,"span"),we(13,"Changelog:"),_e()(),ae(14,"ul")(15,"li"),we(16,"Technical updates"),_e(),ae(17,"li"),we(18,"Added images for all ships"),_e()()(),ae(19,"div",6)(20,"div")(21,"span"),we(22,"Important:"),_e()(),ae(23,"ul")(24,"li"),we(25,"please report any bug to Whatsapp channel"),_e(),ae(26,"li")(27,"b"),we(28,"disable browser ads-blocking plugins on game domain"),_e(),we(29," - some of them are interfering with Firebase communication"),_e()()()()),2&r&&(ke(4),Yt(i.version),ke(4),nt("ngIf",mi(9,2,i.updateAvailable)))},dependencies:[Po,_f],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),Q4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[Y4e]}),t.\u0275inj=Dt({imports:[yi,Fo(()=>Lo(pr_firebase)),ca(()=>la(Vo(),{provider:new Rs(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function G2(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new le({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Jh)}});t.subscribe(s)})}class q2{}class W2{}class ks{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ks?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ks;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ks?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class X4e{encodeKey(e){return kU(e)}encodeValue(e){return kU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Z4e=/%(\d[a-f0-9])/gi,e6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kU(t){return encodeURIComponent(t).replace(Z4e,(e,n)=>e6e[n]??e)}function K2(t){return`${t}`}class _a{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new X4e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function J4e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(K2):[K2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new _a({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(K2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(K2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class t6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function NU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function OU(t){return typeof Blob<"u"&&t instanceof Blob}function FU(t){return typeof FormData<"u"&&t instanceof FormData}class H0{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function n6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ks),this.context||(this.context=new t6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new _a,this.urlWithParams=n}serializeBody(){return null===this.body?null:NU(this.body)||OU(this.body)||FU(this.body)||function r6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _a?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||FU(this.body)?null:OU(this.body)?this.body.type||null:NU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _a?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new H0(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var td=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(td||{});class cw{constructor(e,n=200,r="OK"){this.headers=e.headers||new ks,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lw extends cw{constructor(e={}){super(e),this.type=td.ResponseHeader}clone(e={}){return new lw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nd extends cw{constructor(e={}){super(e),this.type=td.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class VU extends cw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function uw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let dw=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof H0)o=r;else{let l,u;l=s.headers instanceof ks?s.headers:new ks(s.headers),s.params&&(u=s.params instanceof _a?s.params:new _a({fromObject:s.params})),o=new H0(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Le(o).pipe(e0(l=>this.handler.handle(l)));if(r instanceof H0||"events"===s.observe)return a;const c=a.pipe(ws(l=>l instanceof nd));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Ye(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new _a).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,uw(s,i))}post(r,i,s={}){return this.request("POST",r,uw(s,i))}put(r,i,s={}){return this.request("PUT",r,uw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(q2))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();function HU(t,e){return e(t)}function s6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const a6e=new ye(""),z0=new ye(""),zU=new ye("");function c6e(){let t=null;return(e,n)=>{null===t&&(t=(W(a6e,{optional:!0})??[]).reduceRight(s6e,HU));const r=W(xg),i=r.add();return t(e,n).pipe(t0(()=>r.remove(i)))}}let UU=(()=>{var t;class e extends q2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=W(xg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(z0),...this.injector.get(zU,[])]));this.chain=s.reduceRight((o,a)=>function o6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),HU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(t0(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(W2),Se(pi))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const f6e=/^\)\]\}',?\n/;let $U=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new ee(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?zn(i.\u0275loadImpl()):Le(null)).pipe(li(()=>new de(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((E,S)=>a.setRequestHeader(E,S.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const E=r.detectContentTypeHeader();null!==E&&a.setRequestHeader("Content-Type",E)}if(r.responseType){const E=r.responseType.toLowerCase();a.responseType="json"!==E?E:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const E=a.statusText||"OK",S=new ks(a.getAllResponseHeaders()),I=function h6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new lw({headers:S,status:a.status,statusText:E,url:I}),l},d=()=>{let{headers:E,status:S,statusText:I,url:H}=u(),G=null;204!==S&&(G=typeof a.response>"u"?a.responseText:a.response),0===S&&(S=G?200:0);let ue=S>=200&&S<300;if("json"===r.responseType&&"string"==typeof G){const De=G;G=G.replace(f6e,"");try{G=""!==G?JSON.parse(G):null}catch(Fe){G=De,ue&&(ue=!1,G={error:Fe,text:G})}}ue?(o.next(new nd({body:G,headers:E,status:S,statusText:I,url:H||void 0})),o.complete()):o.error(new VU({error:G,headers:E,status:S,statusText:I,url:H||void 0}))},f=E=>{const{url:S}=u(),I=new VU({error:E,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});o.error(I)};let h=!1;const p=E=>{h||(o.next(u()),h=!0);let S={type:td.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(S.total=E.total),"text"===r.responseType&&a.responseText&&(S.partialText=a.responseText),o.next(S)},g=E=>{let S={type:td.UploadProgress,loaded:E.loaded};E.lengthComputable&&(S.total=E.total),o.next(S)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:td.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(VR))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const fw=new ye("XSRF_ENABLED"),GU=new ye("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qU=new ye("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class WU{}let m6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=TR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Hr),Se(os),Se(GU))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();function _6e(t,e){const n=t.url.toLowerCase();if(!W(fw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=W(WU).getToken(),i=W(qU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var va=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(va||{});function Rc(t,e){return{\u0275kind:t,\u0275providers:e}}function v6e(...t){const e=[dw,$U,UU,{provide:q2,useExisting:UU},{provide:W2,useExisting:$U},{provide:z0,useValue:_6e,multi:!0},{provide:fw,useValue:!0},{provide:WU,useClass:m6e}];for(const n of t)e.push(...n.\u0275providers);return function _v(t){return{\u0275providers:t}}(e)}const KU=new ye("LEGACY_INTERCEPTOR_FN");let E6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Dt({providers:[v6e(Rc(va.LegacyInterceptors,[{provide:KU,useFactory:c6e},{provide:z0,useExisting:KU,multi:!0}]))]}),e})();class A6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class YU{constructor(){this._planets=new Map}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name}}}var rd;class hw{constructor(){this.NAVIGATION_BASE_URL="https://andromeda.darkgalaxy.com/navigation/",this.GALAXIES=49,this.G1_SECTORS=25,this.INNER_SECTORS=6,this.OUTER_SECTORS=2,this.SYSTEMS=4,this.httpClient=W(dw),this.firestore=W(bs),this.dgAPI=W(hs),this._systemScanEmitter=new yt,this._planetScanEmitter=new yt,this.delay=function(){var e=v(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanNavigationScreen(e,n=[]){var r=this;return v(function*(){const i=500+Math.floor(1e3*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){const d=Dr(r.firestore,"planets-g"+s[u]);let f=new Map;if(1===s[u])for(let h=1;h<=r.G1_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,f,d),r._systemScanEmitter.emit({system:++o,total:l}),yield r.delay(i));if(s[u]>1&&s[u]<14)for(let h=1;h<=r.INNER_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,f,d),r._systemScanEmitter.emit({system:++o,total:l}),yield r.delay(i));if(s[u]>=14)for(let h=1;h<=r.OUTER_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,f,d),r._systemScanEmitter.emit({system:++o,total:l}),yield r.delay(i));r.savePlayerPlanets(f)}c.unsubscribe()})()}savePlayerPlanets(e){const n=Dr(this.firestore,"players-planets");e.forEach((r,i)=>{console.log(i+" : "+JSON.stringify(r));let s=sa($r(n,r.playerId.toString())).subscribe(o=>{o&&Object.assign(new YU,o).planets.forEach((c,l)=>{r.planets.has(l)||r.planets.set(l,c)}),s.unsubscribe()})})}totalSystemsNr(e){let n=0;const r=this.filterValidGalaxies(e);for(let i=0;i<r.length;i++)1===r[i]&&(n+=this.G1_SECTORS*this.SYSTEMS),r[i]>1&&r[i]<14&&(n+=this.INNER_SECTORS*this.SYSTEMS),r[i]>=14&&(n+=this.OUTER_SECTORS*this.SYSTEMS);return n}allGalaxies(){let e=[];for(let n=1;n<=this.GALAXIES;n++)e.push(n);return e}parseAndSave(e,n,r,i,s){var o=this;return v(function*(){const a=yield G2(o.httpClient.get(o.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(a,"text/html").querySelectorAll(".navigation .planets").forEach((l,u)=>{setTimeout(()=>{let d=new A6e;const f=l.querySelector(".coords span").textContent.trim(),h=f.split(/\./);o.planetScanEmitter.emit(f),d.location=f,d.galaxy=parseInt(h[0]),d.sector=parseInt(h[1]),d.system=parseInt(h[2]),d.planet=parseInt(h[3]),l.classList.contains("neutral")?(d.owner="none",d.playerId=-1,d.alliance="-"):(d.alliance=l.querySelector(".allianceName")?l.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",d.owner=l.querySelector(".playerName").textContent.trim().toLowerCase(),d.playerId=parseInt(l.querySelector(".playerName").attributes.playerId.value.trim())),d.turn=o.dgAPI.gameTurn(),d.playerId>0&&(i.has(d.playerId)||i.set(d.playerId,new YU),i.get(d.playerId).planets.has(e)||(i.get(d.playerId).planets.set(e,[]),console.log(e+" - "+d.location),console.log(JSON.stringify(i))),i.get(d.playerId).planets.get(e).push(d.location),i.get(d.playerId).name=d.owner,i.get(d.playerId).playerId=d.playerId),oC($r(s,d.location),JSON.parse(JSON.stringify(d))).catch(p=>{console.log(p)})},50*u)})})()}filterValidGalaxies(e){let n=[];if(1===e.length&&149===e[0])n.push(...this.allGalaxies());else if(1===e.length&&213===e[0])for(let r=2;r<=13;r++)n.push(r);else if(1===e.length&&1449===e[0])for(let r=14;r<=49;r++)n.push(r);else for(let r=0;r<e.length;r++)e[r]>0&&e[r]<=this.GALAXIES&&n.push(e[r]);return n}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(rd=hw).\u0275fac=function(e){return new(e||rd)},rd.\u0275prov=Ce({token:rd,factory:rd.\u0275fac,providedIn:"root"}),_n([Ti(1,dn())],hw.prototype,"scanNavigationScreen",null);class pw{constructor(){this._planets=[]}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get planets(){return this._planets}set planets(e){this._planets=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance}}}let T6e=(()=>{var t;class e{constructor(){this.PLAYER_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/players/",this.ALLIANCE_RANKINGS_URL="https://andromeda.darkgalaxy.com/navigation/",this.ALLIANCE_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/alliances/",this.httpClient=W(dw),this.firestore=W(bs),this.dgAPI=W(hs),this._playersRankingsEmitter=new yt,this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayerRankingsScreens(r){var i=this;return v(function*(){const s=1500+Math.floor(1500*Math.random()),o=Dr(i.firestore,"players"),a=Dr(i.firestore,"planets"),c=Dr(i.firestore,"config");let l=!0,u=r.subscribe(S=>{l=!S}),d=0,f=new Map,h=yield G2(i.httpClient.get(i.PLAYER_RANKINGS_URL,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html");const g=parseInt(p.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[p.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim());for(let S=1;S<=g;S++)l&&(h=yield G2(i.httpClient.get(i.PLAYER_RANKINGS_URL+S,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html"),p.querySelectorAll(".rankingsList .entry").forEach(I=>{const H=parseInt(I.querySelector(".playerName").attributes.playerId.value.trim());f.has(H)||f.set(H,new pw);let G=f.get(H);G.playerId=H,G.name=I.querySelector(".playerName").textContent.trim().toLowerCase(),G.rank=parseInt(I.querySelector(".rank").textContent.trim().replace(/,/g,"")),G.score=parseInt(I.querySelector(".score").textContent.trim().replace(/,/g,"")),G.combinedScore=G.combatScore+G.score,G.alliance=I.querySelector(".allianceName")?I.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-"}),i._playersRankingsEmitter.emit({action:"load",page:++d,total:2*g}),yield i.delay(s),h=yield G2(i.httpClient.get(i.PLAYER_COMBAT_RANKINGS_URL+S,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html"),p.querySelectorAll(".rankingsList .entry").forEach(I=>{const H=parseInt(I.querySelector(".playerName").attributes.playerId.value.trim());f.has(H)||f.set(H,new pw);let G=f.get(H);G.combatScore=parseInt(I.querySelector(".score").textContent.trim().replace(/,/g,"")),G.combinedScore=G.combatScore+G.score}),i._playersRankingsEmitter.emit({action:"load",page:++d,total:2*g}),yield i.delay(s)),u.unsubscribe();let E=sa($r(c,"last-planets-update-turn")).subscribe(S=>{let I=Object.assign({value:0},S).value,H=sa($r(c,"last-players-rankings-update-turn")).subscribe(G=>{let ue=Object.assign({value:0},G).value;if(I>ue||I==ue&&I==i.dgAPI.gameTurn()){let De=0;f.forEach((Fe,_t)=>{l&&setTimeout(()=>{let Jt=pc(mc(a,Qh("playerId","==",_t))).subscribe(Ai=>{Object.assign([],Ai).forEach(U0=>{Fe.planets.push(U0.location)}),oC($r(o,_t.toString()),JSON.parse(JSON.stringify(Fe))).then(()=>{i._playersRankingsEmitter.emit({action:"save",page:++De,total:f.size})}).catch(U0=>console.log(U0)),Jt.unsubscribe()})},50*De)})}else{let De=0;f.forEach((Fe,_t)=>{l&&setTimeout(()=>{let Jt=pc(mc(o,Qh("playerId","==",_t),sC(1))).subscribe(Ai=>{let Q2=Object.assign(new pw,Ai[0]);Fe.planets=Q2.planets,aC($r(o,_t.toString()),JSON.parse(JSON.stringify(Fe))).then(()=>{i._playersRankingsEmitter.emit({action:"save",page:++De,total:f.size})}).catch(U0=>{console.log(U0)}),Jt.unsubscribe()})},50*De)})}H.unsubscribe()});E.unsubscribe()});yield i.delay(75*f.size),aC($r(c,"last-players-rankings-update-turn"),JSON.parse(JSON.stringify({value:i.dgAPI.gameTurn()}))).catch(S=>{console.log(S)})})()}scanAllianceRankingsScreens(){return v(function*(){})()}get playersRankingsEmitter(){return this._playersRankingsEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),D6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Cr))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&en("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const S6e=["planetsLoadModal"],R6e=["rankingsLoadModal"],P6e=["planetProgressBar"],M6e=["playersProgressBar"],k6e=["planetCounter"];function N6e(t,e){if(1&t){const n=Jd();Qd(0),ae(1,"div",1)(2,"div",2)(3,"b"),we(4,"DGT Admin Panel"),_e()(),ae(5,"div",3)(6,"div",4)(7,"form")(8,"input",5),en("ngModelChange",function(i){return ts(n),ns(Mn().controls.galaxies=i)}),_e(),ae(9,"button",6),en("click",function(){return ts(n),ns(Mn().scanNavigationScreen())}),we(10,"Scan"),_e()(),ae(11,"div",7)(12,"span",8),we(13,"Use this with caution. Universe scan it's a very expensive operation for both DG server and DGT database!"),_e(),ae(14,"span",8),we(15,"Usage examples:"),_e(),ae(16,"ul")(17,"li"),we(18,"1,2 - G01 and G02"),_e(),ae(19,"li"),we(20,"34 - G34"),_e(),ae(21,"li"),we(22,"special: 213 - first ring (G02-G13)"),_e(),ae(23,"li"),we(24,"special: 1449 - second ring (G14-G49)"),_e(),ae(25,"li"),we(26,"special: 149 - everything (G01-G49)"),_e()()()(),ae(27,"div",9)(28,"form")(29,"button",6),en("click",function(){return ts(n),ns(Mn().scanRankingsScreens())}),we(30,"Load Rankings"),_e()()()()(),ae(31,"div",10,11)(33,"div",12)(34,"div",13)(35,"span",14),we(36),_e(),ae(37,"span",15,16),we(39),_e()(),ae(40,"div",17)(41,"span",18),we(42),_e(),xt(43,"span",19,20),_e(),ae(45,"div",21)(46,"button",22),en("click",function(){return ts(n),ns(Mn().cancelScan())}),we(47,"Cancel"),_e()()()(),ae(48,"div",23,24)(50,"div",12)(51,"div",13)(52,"span",25),we(53),_e()(),ae(54,"div",17)(55,"span",18),we(56),_e(),xt(57,"span",19,26),_e(),ae(59,"div",21)(60,"button",22),en("click",function(){return ts(n),ns(Mn().cancelScan())}),we(61,"Cancel"),_e()()()(),Xd()}if(2&t){const n=Mn();ke(8),nt("ngModel",n.controls.galaxies),ke(28),Yt(n.loadedSystem),ke(3),Yt(n.loadedPlanet),ke(3),Ma("",n.planetPercentage,"%"),ke(11),Yt(n.loadedRankings),ke(3),Ma("",n.playersPercentage,"%")}}let O6e=(()=>{var t;class e{constructor(){this.navigationLoaderService=W(hw),this.rankingsLoaderService=W(T6e),this.changeDetection=W(So),this.cancelScanEmitter=new yt,this.controls={galaxies:""},this.loadedPlanet="x.x.x.x",this.planetPercentage=0,this.playersPercentage=0}scanNavigationScreen(){var r=this;return v(function*(){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.navigationLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.system+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.system/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.navigationLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.navigationLoaderService.scanNavigationScreen(r.cancelScanEmitter,i),r.cancelScan()})()}scanRankingsScreens(){var r=this;return v(function*(){r.playersProgressBar.nativeElement.style.width="0%",r.loadedRankings="Loading ranking pages",r.rankingsLoadModal.nativeElement.classList.add("show"),r.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.rankingsCountSubscription=r.rankingsLoaderService.playersRankingsEmitter.subscribe(i=>{switch(i.action){case"load":r.loadedRankings="Loading "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%";break;case"save":r.loadedRankings="Saving "+i.page+"/"+i.total+" players",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%"}}),yield r.rankingsLoaderService.scanPlayerRankingsScreens(r.cancelScanEmitter),r.cancelScan()})()}cancelScan(){this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe(),this.rankingsCountSubscription&&this.rankingsCountSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(fs(S6e,5),fs(R6e,5),fs(P6e,5),fs(M6e,5),fs(k6e,5)),2&r){let s;Li(s=Bi())&&(i.planetsLoadModal=s.first),Li(s=Bi())&&(i.rankingsLoadModal=s.first),Li(s=Bi())&&(i.planetProgressBar=s.first),Li(s=Bi())&&(i.playersProgressBar=s.first),Li(s=Bi())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"opacBackground","lightBorder","noPadding","seperatorLarge"],[1,"opacDarkBackground","padding"],[1,"noPadding","ofHidden"],["id","admin-load-planets"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","load-planets-example"],[1,"usage-warning"],["id","admin-load-rankings",2,"padding","3px","font-weight","bold"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"rankings-counter"],["playersProgressBar",""]],template:function(r,i){1&r&&Jr(0,N6e,62,6,"ng-container",0),2&r&&nt("ngIf",!0)},dependencies:[Po,tw,N2,Zz,$b,ew,B0,D6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%], #dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #676767;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#ffffff;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;border-radius:5px;max-width:200px;width:100%;margin:10px auto;height:20px;background:rgb(75,75,75);overflow:hidden}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #767676;border-radius:3px;background:rgb(75,75,75);cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(45,45,45);border:1px solid #545454}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#598b0f}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#fff;font-size:15px}.counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-size:14px}span.planet-counter[_ngcontent-%COMP%]{transition:all .1s}#load-planets-example[_ngcontent-%COMP%]{display:table}#load-planets-example[_ngcontent-%COMP%]{font-weight:400!important;background:#576740!important;color:#ffffffad!important;font-size:11px;text-align:left;padding:5px;border-radius:3px}#load-planets-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], #load-planets-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{padding:5px;font-weight:700}"]}),e})(),F6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[O6e]}),t.\u0275inj=Dt({imports:[yi,MU,E6e,Fo(()=>Lo(pr_firebase)),zl(()=>Ul()),hc(()=>gc()),ca(()=>la(Vo(),{provider:new Rs(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),V6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-alliance-rankings"]],decls:2,vars:0,template:function(r,i){1&r&&(ae(0,"p"),we(1,"rankings-panel works!"),_e())}}),e})(),L6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[V6e]}),t.\u0275inj=Dt({imports:[yi]}),e})(),B6e=(()=>{var t;class e{constructor(){this.firestore=W(bs),this.localStorageService=W(Ei)}loadTurnBasedUpdates(r){}loadLiveUpdates(){this.loadVersion()}loadVersion(){const r=Dr(this.firestore,"config");if(this.localStorageService.isExpired(Ct.REMOTE_VERSION)){let s=sa($r(r,"version")).subscribe(o=>{let a=Object.assign({value:""},o).value;this.localStorageService.cache(Ct.REMOTE_VERSION,a,3e5),s.unsubscribe()})}}loadPlayersRankings(){const r=Dr(this.firestore,"config");let s=sa($r(r,"last-players-rankings-update-turn")).subscribe(a=>{if(this.localStorageService.get(Ct.LAST_PLAYERS_RANKINGS_UPDATE_TURN)&&this.localStorageService.get(Ct.LAST_PLAYERS_RANKINGS_UPDATE_TURN)==Object.assign({value:0},a).value)s.unsubscribe();else{let c=pc(mc(Dr(this.firestore,"players"))).subscribe(l=>{let u=Object.assign([],l),d=[];u.forEach(f=>{let h=new PL;h.playerId=f.playerId,h.rank=f.rank,h.planets=f.planets.length,h.name=f.name,h.alliance=f.alliance,h.combatScore=f.combatScore,h.combinedScore=f.combinedScore,h.score=f.score,d.push(h)}),this.localStorageService.cache(Ct.PLAYERS_STATS,d),this.localStorageService.cache(Ct.LAST_PLAYERS_RANKINGS_UPDATE_TURN,Object.assign({value:0},a).value),c.unsubscribe(),s.unsubscribe()})}}),o=sa($r(Dr(this.firestore,"config"),"last-planets-update-turn")).subscribe(a=>{this.localStorageService.cache(Ct.LAST_PLANETS_UPDATE_TURN,Object.assign({value:0},a).value),o.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),H6e=(()=>{var t;class e{constructor(){this.synchronizerService=W(B6e),this.dgAPI=W(hs),this.synchronizerService.loadLiveUpdates(),this.synchronizerService.loadTurnBasedUpdates(this.dgAPI.gameTurn())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-local-storage-synchronizer"]],decls:2,vars:0,template:function(r,i){1&r&&(ae(0,"p"),we(1,"local-storage-synchronizer works!"),_e())}}),e})(),z6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[H6e]}),t.\u0275inj=Dt({imports:[yi,Fo(()=>Lo(pr_firebase)),hc(()=>gc()),ca(()=>la(Vo(),{provider:new Rs(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const wi=yte();let Gr=window.location.pathname.split(/\//g);wi.bootstrapModule(q4e).catch(t=>console.error(t)),wi.bootstrapModule($4e).catch(t=>console.error(t)),wi.bootstrapModule(b2e).catch(t=>console.error(t)),wi.bootstrapModule(z6e).catch(t=>console.log(t)),wi.bootstrapModule(_me).catch(t=>console.error(t)),2===Gr.length&&0===Gr[1].trim().length&&(wi.bootstrapModule(Q4e).catch(t=>console.error(t)),wi.bootstrapModule(F6e).catch(t=>console.error(t))),"planets"===Gr[1]&&wi.bootstrapModule(g2e).catch(t=>console.error(t)),"planet"===Gr[1]&&"comms"===(5===Gr.length&&Gr[3])&&wi.bootstrapModule(v2e).catch(t=>console.error(t)),"navigation"===Gr[1]&&6===Gr.length&&!isNaN(+Gr[2])&&!isNaN(+Gr[3])&&!isNaN(+Gr[4])&&wi.bootstrapModule(x2e).catch(t=>console.error(t)),"alliances"===Gr[1]&&wi.bootstrapModule(U4e).catch(t=>console.error(t)),"rankings"===Gr[1]&&"alliances"===Gr[2]&&wi.bootstrapModule(L6e).catch(t=>console.error(t))},42:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.BlockCipher,Y=b.algo,N=[],q=[],_=[],w=[],P=[],y=[],T=[],x=[],D=[],A=[];!function(){for(var m=[],C=0;C<256;C++)m[C]=C<128?C<<1:C<<1^283;var L=0,O=0;for(C=0;C<256;C++){var z=O^O<<1^O<<2^O<<3^O<<4;N[L]=z=z>>>8^255&z^99,q[z]=L;var fe,j=m[L],le=m[j],oe=m[le];_[L]=(fe=257*m[z]^16843008*z)<<24|fe>>>8,w[L]=fe<<16|fe>>>16,P[L]=fe<<8|fe>>>24,y[L]=fe,T[z]=(fe=16843009*oe^65537*le^257*j^16843008*L)<<24|fe>>>8,x[z]=fe<<16|fe>>>16,D[z]=fe<<8|fe>>>24,A[z]=fe,L?(L=j^m[m[m[oe^j]]],O^=m[m[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=Y.AES=U.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var C=this._keyPriorReset=this._key,L=C.words,O=C.sigBytes/4,j=4*((this._nRounds=O+6)+1),le=this._keySchedule=[],oe=0;oe<j;oe++)oe<O?le[oe]=L[oe]:(m=le[oe-1],oe%O?O>6&&oe%O==4&&(m=N[m>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m]):(m=N[(m=m<<8|m>>>24)>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m],m^=F[oe/O|0]<<24),le[oe]=le[oe-O]^m);for(var fe=this._invKeySchedule=[],be=0;be<j;be++){if(oe=j-be,be%4)var m=le[oe];else m=le[oe-4];fe[be]=be<4||oe<=4?m:T[N[m>>>24]]^x[N[m>>>16&255]]^D[N[m>>>8&255]]^A[N[255&m]]}}},encryptBlock:function(m,C){this._doCryptBlock(m,C,this._keySchedule,_,w,P,y,N)},decryptBlock:function(m,C){var L=m[C+1];m[C+1]=m[C+3],m[C+3]=L,this._doCryptBlock(m,C,this._invKeySchedule,T,x,D,A,q),L=m[C+1],m[C+1]=m[C+3],m[C+3]=L},_doCryptBlock:function(m,C,L,O,z,j,le,oe){for(var fe=this._nRounds,be=m[C]^L[0],K=m[C+1]^L[1],ce=m[C+2]^L[2],me=m[C+3]^L[3],se=4,Ne=1;Ne<fe;Ne++){var de=O[be>>>24]^z[K>>>16&255]^j[ce>>>8&255]^le[255&me]^L[se++],We=O[K>>>24]^z[ce>>>16&255]^j[me>>>8&255]^le[255&be]^L[se++],Ze=O[ce>>>24]^z[me>>>16&255]^j[be>>>8&255]^le[255&K]^L[se++],Q=O[me>>>24]^z[be>>>16&255]^j[K>>>8&255]^le[255&ce]^L[se++];be=de,K=We,ce=Ze,me=Q}de=(oe[be>>>24]<<24|oe[K>>>16&255]<<16|oe[ce>>>8&255]<<8|oe[255&me])^L[se++],We=(oe[K>>>24]<<24|oe[ce>>>16&255]<<16|oe[me>>>8&255]<<8|oe[255&be])^L[se++],Ze=(oe[ce>>>24]<<24|oe[me>>>16&255]<<16|oe[be>>>8&255]<<8|oe[255&K])^L[se++],Q=(oe[me>>>24]<<24|oe[be>>>16&255]<<16|oe[K>>>8&255]<<8|oe[255&ce])^L[se++],m[C]=de,m[C+1]=We,m[C+2]=Ze,m[C+3]=Q},keySize:8});b.AES=U._createHelper(k)}(),R.AES)},172:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.BlockCipher;const N=16,q=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function P(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function y(A,F,k){let L,m=F,C=k;for(let O=0;O<N;++O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[N],m^=A.pbox[N+1],{left:m,right:C}}var D=b.algo.Blowfish=U.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function x(A,F,k){for(let z=0;z<4;z++){A.sbox[z]=[];for(let j=0;j<256;j++)A.sbox[z][j]=_[z][j]}let m=0;for(let z=0;z<N+2;z++)A.pbox[z]=q[z]^F[m],m++,m>=k&&(m=0);let C=0,L=0,O=0;for(let z=0;z<N+2;z+=2)O=y(A,C,L),C=O.left,L=O.right,A.pbox[z]=C,A.pbox[z+1]=L;for(let z=0;z<4;z++)for(let j=0;j<256;j+=2)O=y(A,C,L),C=O.left,L=O.right,A.sbox[z][j]=C,A.sbox[z][j+1]=L;return!0}(w,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=y(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function T(A,F,k){let L,m=F,C=k;for(let O=N+1;O>1;--O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[1],m^=A.pbox[0],{left:m,right:C}}(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});b.Blowfish=U._createHelper(D)}(),R.Blowfish)},270:function(ve,xe,V){var $,U,Y,N,q,_,P,T,x,A,F,k,C,O,j,le,fe,be,R;ve.exports=(R=V(12),V(66),void(R.lib.Cipher||($=R,U=$.lib,Y=U.Base,N=U.WordArray,q=U.BufferedBlockAlgorithm,_=$.enc,P=_.Base64,T=$.algo.EvpKDF,x=U.Cipher=q.extend({cfg:Y.extend(),createEncryptor:function(K,ce){return this.create(this._ENC_XFORM_MODE,K,ce)},createDecryptor:function(K,ce){return this.create(this._DEC_XFORM_MODE,K,ce)},init:function(K,ce,me){this.cfg=this.cfg.extend(me),this._xformMode=K,this._key=ce,this.reset()},reset:function(){q.reset.call(this),this._doReset()},process:function(K){return this._append(K),this._process()},finalize:function(K){return K&&this._append(K),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function K(ce){return"string"==typeof ce?be:le}return function(ce){return{encrypt:function(me,se,Ne){return K(se).encrypt(ce,me,se,Ne)},decrypt:function(me,se,Ne){return K(se).decrypt(ce,me,se,Ne)}}}}()}),U.StreamCipher=x.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=$.mode={},F=U.BlockCipherMode=Y.extend({createEncryptor:function(K,ce){return this.Encryptor.create(K,ce)},createDecryptor:function(K,ce){return this.Decryptor.create(K,ce)},init:function(K,ce){this._cipher=K,this._iv=ce}}),k=A.CBC=function(){var K=F.extend();function ce(me,se,Ne){var de,We=this._iv;We?(de=We,this._iv=undefined):de=this._prevBlock;for(var Ze=0;Ze<Ne;Ze++)me[se+Ze]^=de[Ze]}return K.Encryptor=K.extend({processBlock:function(me,se){var Ne=this._cipher,de=Ne.blockSize;ce.call(this,me,se,de),Ne.encryptBlock(me,se),this._prevBlock=me.slice(se,se+de)}}),K.Decryptor=K.extend({processBlock:function(me,se){var Ne=this._cipher,de=Ne.blockSize,We=me.slice(se,se+de);Ne.decryptBlock(me,se),ce.call(this,me,se,de),this._prevBlock=We}}),K}(),C=($.pad={}).Pkcs7={pad:function(K,ce){for(var me=4*ce,se=me-K.sigBytes%me,Ne=se<<24|se<<16|se<<8|se,de=[],We=0;We<se;We+=4)de.push(Ne);var Ze=N.create(de,se);K.concat(Ze)},unpad:function(K){K.sigBytes-=255&K.words[K.sigBytes-1>>>2]}},U.BlockCipher=x.extend({cfg:x.cfg.extend({mode:k,padding:C}),reset:function(){var K;x.reset.call(this);var ce=this.cfg,me=ce.iv,se=ce.mode;this._xformMode==this._ENC_XFORM_MODE?K=se.createEncryptor:(K=se.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==K?this._mode.init(this,me&&me.words):(this._mode=K.call(se,this,me&&me.words),this._mode.__creator=K)},_doProcessBlock:function(K,ce){this._mode.processBlock(K,ce)},_doFinalize:function(){var K,ce=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ce.pad(this._data,this.blockSize),K=this._process(!0)):(K=this._process(!0),ce.unpad(K)),K},blockSize:4}),O=U.CipherParams=Y.extend({init:function(K){this.mixIn(K)},toString:function(K){return(K||this.formatter).stringify(this)}}),j=($.format={}).OpenSSL={stringify:function(K){var me=K.ciphertext,se=K.salt;return(se?N.create([1398893684,1701076831]).concat(se).concat(me):me).toString(P)},parse:function(K){var ce,me=P.parse(K),se=me.words;return 1398893684==se[0]&&1701076831==se[1]&&(ce=N.create(se.slice(2,4)),se.splice(0,4),me.sigBytes-=16),O.create({ciphertext:me,salt:ce})}},le=U.SerializableCipher=Y.extend({cfg:Y.extend({format:j}),encrypt:function(K,ce,me,se){se=this.cfg.extend(se);var Ne=K.createEncryptor(me,se),de=Ne.finalize(ce),We=Ne.cfg;return O.create({ciphertext:de,key:me,iv:We.iv,algorithm:K,mode:We.mode,padding:We.padding,blockSize:K.blockSize,formatter:se.format})},decrypt:function(K,ce,me,se){return se=this.cfg.extend(se),ce=this._parse(ce,se.format),K.createDecryptor(me,se).finalize(ce.ciphertext)},_parse:function(K,ce){return"string"==typeof K?ce.parse(K,this):K}}),fe=($.kdf={}).OpenSSL={execute:function(K,ce,me,se,Ne){if(se||(se=N.random(8)),Ne)var de=T.create({keySize:ce+me,hasher:Ne}).compute(K,se);else de=T.create({keySize:ce+me}).compute(K,se);var We=N.create(de.words.slice(ce),4*me);return de.sigBytes=4*ce,O.create({key:de,iv:We,salt:se})}},be=U.PasswordBasedCipher=le.extend({cfg:le.cfg.extend({kdf:fe}),encrypt:function(K,ce,me,se){var Ne=(se=this.cfg.extend(se)).kdf.execute(me,K.keySize,K.ivSize,se.salt,se.hasher);se.iv=Ne.iv;var de=le.encrypt.call(this,K,ce,Ne.key,se);return de.mixIn(Ne),de},decrypt:function(K,ce,me,se){se=this.cfg.extend(se),ce=this._parse(ce,se.format);var Ne=se.kdf.execute(me,K.keySize,K.ivSize,ce.salt,se.hasher);return se.iv=Ne.iv,le.decrypt.call(this,K,ce,Ne.key,se)}}))))},12:function(ve,xe,V){var R;ve.exports=(R=R||function(b,$){var U;if(typeof window<"u"&&window.crypto&&(U=window.crypto),typeof self<"u"&&self.crypto&&(U=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(U=globalThis.crypto),!U&&typeof window<"u"&&window.msCrypto&&(U=window.msCrypto),!U&&typeof global<"u"&&global.crypto&&(U=global.crypto),!U)try{U=V(480)}catch{}var Y=function(){if(U){if("function"==typeof U.getRandomValues)try{return U.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof U.randomBytes)try{return U.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function m(){}return function(C){var L;return m.prototype=C,L=new m,m.prototype=null,L}}(),q={},_=q.lib={},w=_.Base={extend:function(m){var C=N(this);return m&&C.mixIn(m),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var C in m)m.hasOwnProperty(C)&&(this[C]=m[C]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},P=_.WordArray=w.extend({init:function(m,C){m=this.words=m||[],this.sigBytes=null!=C?C:4*m.length},toString:function(m){return(m||T).stringify(this)},concat:function(m){var C=this.words,L=m.words,O=this.sigBytes,z=m.sigBytes;if(this.clamp(),O%4)for(var j=0;j<z;j++)C[O+j>>>2]|=(L[j>>>2]>>>24-j%4*8&255)<<24-(O+j)%4*8;else for(var oe=0;oe<z;oe+=4)C[O+oe>>>2]=L[oe>>>2];return this.sigBytes+=z,this},clamp:function(){var m=this.words,C=this.sigBytes;m[C>>>2]&=4294967295<<32-C%4*8,m.length=b.ceil(C/4)},clone:function(){var m=w.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var C=[],L=0;L<m;L+=4)C.push(Y());return new P.init(C,m)}}),y=q.enc={},T=y.Hex={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],z=0;z<L;z++){var j=C[z>>>2]>>>24-z%4*8&255;O.push((j>>>4).toString(16)),O.push((15&j).toString(16))}return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O+=2)L[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new P.init(L,C/2)}},x=y.Latin1={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],z=0;z<L;z++)O.push(String.fromCharCode(C[z>>>2]>>>24-z%4*8&255));return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O++)L[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new P.init(L,C)}},D=y.Utf8={stringify:function(m){try{return decodeURIComponent(escape(x.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return x.parse(unescape(encodeURIComponent(m)))}},A=_.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new P.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=D.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var C,L=this._data,O=L.words,z=L.sigBytes,j=this.blockSize,oe=z/(4*j),fe=(oe=m?b.ceil(oe):b.max((0|oe)-this._minBufferSize,0))*j,be=b.min(4*fe,z);if(fe){for(var K=0;K<fe;K+=j)this._doProcessBlock(O,K);C=O.splice(0,fe),L.sigBytes-=be}return new P.init(C,be)},clone:function(){var m=w.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),k=(_.Hasher=A.extend({cfg:w.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(C,L){return new m.init(L).finalize(C)}},_createHmacHelper:function(m){return function(C,L){return new k.HMAC.init(m,L).finalize(C)}}}),q.algo={});return q}(Math),R)},506:function(ve,xe,V){var R,U;ve.exports=(R=V(12),U=R.lib.WordArray,R.enc.Base64={stringify:function(_){var w=_.words,P=_.sigBytes,y=this._map;_.clamp();for(var T=[],x=0;x<P;x+=3)for(var k=(w[x>>>2]>>>24-x%4*8&255)<<16|(w[x+1>>>2]>>>24-(x+1)%4*8&255)<<8|w[x+2>>>2]>>>24-(x+2)%4*8&255,m=0;m<4&&x+.75*m<P;m++)T.push(y.charAt(k>>>6*(3-m)&63));var C=y.charAt(64);if(C)for(;T.length%4;)T.push(C);return T.join("")},parse:function(_){var w=_.length,P=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var T=0;T<P.length;T++)y[P.charCodeAt(T)]=T}var x=P.charAt(64);if(x){var D=_.indexOf(x);-1!==D&&(w=D)}return function q(_,w,P){for(var y=[],T=0,x=0;x<w;x++)if(x%4){var D=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;y[T>>>2]|=(D|A)<<24-T%4*8,T++}return U.create(y,T)}(_,w,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},R.enc.Base64)},523:function(ve,xe,V){var R,U;ve.exports=(R=V(12),U=R.lib.WordArray,R.enc.Base64url={stringify:function(_,w){void 0===w&&(w=!0);var P=_.words,y=_.sigBytes,T=w?this._safe_map:this._map;_.clamp();for(var x=[],D=0;D<y;D+=3)for(var m=(P[D>>>2]>>>24-D%4*8&255)<<16|(P[D+1>>>2]>>>24-(D+1)%4*8&255)<<8|P[D+2>>>2]>>>24-(D+2)%4*8&255,C=0;C<4&&D+.75*C<y;C++)x.push(T.charAt(m>>>6*(3-C)&63));var L=T.charAt(64);if(L)for(;x.length%4;)x.push(L);return x.join("")},parse:function(_,w){void 0===w&&(w=!0);var P=_.length,y=w?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var x=0;x<y.length;x++)T[y.charCodeAt(x)]=x}var D=y.charAt(64);if(D){var A=_.indexOf(D);-1!==A&&(P=A)}return function q(_,w,P){for(var y=[],T=0,x=0;x<w;x++)if(x%4){var D=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;y[T>>>2]|=(D|A)<<24-T%4*8,T++}return U.create(y,T)}(_,P,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},R.enc.Base64url)},454:function(ve,xe,V){var R;ve.exports=(R=V(12),function(){var U=R.lib.WordArray,Y=R.enc;function q(_){return _<<8&4278255360|_>>>8&16711935}Y.Utf16=Y.Utf16BE={stringify:function(_){for(var w=_.words,P=_.sigBytes,y=[],T=0;T<P;T+=2)y.push(String.fromCharCode(w[T>>>2]>>>16-T%4*8&65535));return y.join("")},parse:function(_){for(var w=_.length,P=[],y=0;y<w;y++)P[y>>>1]|=_.charCodeAt(y)<<16-y%2*16;return U.create(P,2*w)}},Y.Utf16LE={stringify:function(_){for(var w=_.words,P=_.sigBytes,y=[],T=0;T<P;T+=2){var x=q(w[T>>>2]>>>16-T%4*8&65535);y.push(String.fromCharCode(x))}return y.join("")},parse:function(_){for(var w=_.length,P=[],y=0;y<w;y++)P[y>>>1]|=q(_.charCodeAt(y)<<16-y%2*16);return U.create(P,2*w)}}}(),R.enc.Utf16)},66:function(ve,xe,V){var b,$,U,Y,N,_,R;ve.exports=(R=V(12),V(446),V(990),Y=($=(b=R).lib).WordArray,_=(N=b.algo).EvpKDF=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,P){for(var y,T=this.cfg,x=T.hasher.create(),D=Y.create(),A=D.words,F=T.keySize,k=T.iterations;A.length<F;){y&&x.update(y),y=x.update(w).finalize(P),x.reset();for(var m=1;m<k;m++)y=x.finalize(y),x.reset();D.concat(y)}return D.sigBytes=4*F,D}}),b.EvpKDF=function(w,P,y){return _.create(y).compute(w,P)},R.EvpKDF)},826:function(ve,xe,V){var R,Y,q;ve.exports=(R=V(12),V(270),Y=R.lib.CipherParams,q=R.enc.Hex,R.format.Hex={stringify:function(P){return P.ciphertext.toString(q)},parse:function(P){var y=q.parse(P);return Y.create({ciphertext:y})}},R.format.Hex)},990:function(ve,xe,V){var R,N;ve.exports=(R=V(12),N=R.enc.Utf8,void(R.algo.HMAC=R.lib.Base.extend({init:function(w,P){w=this._hasher=new w.init,"string"==typeof P&&(P=N.parse(P));var y=w.blockSize,T=4*y;P.sigBytes>T&&(P=w.finalize(P)),P.clamp();for(var x=this._oKey=P.clone(),D=this._iKey=P.clone(),A=x.words,F=D.words,k=0;k<y;k++)A[k]^=1549556828,F[k]^=909522486;x.sigBytes=D.sigBytes=T,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var P=this._hasher,y=P.finalize(w);return P.reset(),P.finalize(this._oKey.clone().concat(y))}})))},874:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),R)},37:function(ve,xe,V){var R;ve.exports=(R=V(12),function(){if("function"==typeof ArrayBuffer){var U=R.lib.WordArray,Y=U.init,N=U.init=function(q){if(q instanceof ArrayBuffer&&(q=new Uint8Array(q)),(q instanceof Int8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)&&(q=new Uint8Array(q.buffer,q.byteOffset,q.byteLength)),q instanceof Uint8Array){for(var _=q.byteLength,w=[],P=0;P<_;P++)w[P>>>2]|=q[P]<<24-P%4*8;Y.call(this,w,_)}else Y.apply(this,arguments)};N.prototype=U}}(),R.lib.WordArray)},873:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=[];!function(){for(var D=0;D<64;D++)_[D]=4294967296*b.abs(b.sin(D+1))|0}();var w=q.MD5=N.extend({_doReset:function(){this._hash=new Y.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(D,A){for(var F=0;F<16;F++){var k=A+F,m=D[k];D[k]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var C=this._hash.words,L=D[A+0],O=D[A+1],z=D[A+2],j=D[A+3],le=D[A+4],oe=D[A+5],fe=D[A+6],be=D[A+7],K=D[A+8],ce=D[A+9],me=D[A+10],se=D[A+11],Ne=D[A+12],de=D[A+13],We=D[A+14],Ze=D[A+15],Q=C[0],ie=C[1],Z=C[2],re=C[3];Q=P(Q,ie,Z,re,L,7,_[0]),re=P(re,Q,ie,Z,O,12,_[1]),Z=P(Z,re,Q,ie,z,17,_[2]),ie=P(ie,Z,re,Q,j,22,_[3]),Q=P(Q,ie,Z,re,le,7,_[4]),re=P(re,Q,ie,Z,oe,12,_[5]),Z=P(Z,re,Q,ie,fe,17,_[6]),ie=P(ie,Z,re,Q,be,22,_[7]),Q=P(Q,ie,Z,re,K,7,_[8]),re=P(re,Q,ie,Z,ce,12,_[9]),Z=P(Z,re,Q,ie,me,17,_[10]),ie=P(ie,Z,re,Q,se,22,_[11]),Q=P(Q,ie,Z,re,Ne,7,_[12]),re=P(re,Q,ie,Z,de,12,_[13]),Z=P(Z,re,Q,ie,We,17,_[14]),Q=y(Q,ie=P(ie,Z,re,Q,Ze,22,_[15]),Z,re,O,5,_[16]),re=y(re,Q,ie,Z,fe,9,_[17]),Z=y(Z,re,Q,ie,se,14,_[18]),ie=y(ie,Z,re,Q,L,20,_[19]),Q=y(Q,ie,Z,re,oe,5,_[20]),re=y(re,Q,ie,Z,me,9,_[21]),Z=y(Z,re,Q,ie,Ze,14,_[22]),ie=y(ie,Z,re,Q,le,20,_[23]),Q=y(Q,ie,Z,re,ce,5,_[24]),re=y(re,Q,ie,Z,We,9,_[25]),Z=y(Z,re,Q,ie,j,14,_[26]),ie=y(ie,Z,re,Q,K,20,_[27]),Q=y(Q,ie,Z,re,de,5,_[28]),re=y(re,Q,ie,Z,z,9,_[29]),Z=y(Z,re,Q,ie,be,14,_[30]),Q=T(Q,ie=y(ie,Z,re,Q,Ne,20,_[31]),Z,re,oe,4,_[32]),re=T(re,Q,ie,Z,K,11,_[33]),Z=T(Z,re,Q,ie,se,16,_[34]),ie=T(ie,Z,re,Q,We,23,_[35]),Q=T(Q,ie,Z,re,O,4,_[36]),re=T(re,Q,ie,Z,le,11,_[37]),Z=T(Z,re,Q,ie,be,16,_[38]),ie=T(ie,Z,re,Q,me,23,_[39]),Q=T(Q,ie,Z,re,de,4,_[40]),re=T(re,Q,ie,Z,L,11,_[41]),Z=T(Z,re,Q,ie,j,16,_[42]),ie=T(ie,Z,re,Q,fe,23,_[43]),Q=T(Q,ie,Z,re,ce,4,_[44]),re=T(re,Q,ie,Z,Ne,11,_[45]),Z=T(Z,re,Q,ie,Ze,16,_[46]),Q=x(Q,ie=T(ie,Z,re,Q,z,23,_[47]),Z,re,L,6,_[48]),re=x(re,Q,ie,Z,be,10,_[49]),Z=x(Z,re,Q,ie,We,15,_[50]),ie=x(ie,Z,re,Q,oe,21,_[51]),Q=x(Q,ie,Z,re,Ne,6,_[52]),re=x(re,Q,ie,Z,j,10,_[53]),Z=x(Z,re,Q,ie,me,15,_[54]),ie=x(ie,Z,re,Q,O,21,_[55]),Q=x(Q,ie,Z,re,K,6,_[56]),re=x(re,Q,ie,Z,Ze,10,_[57]),Z=x(Z,re,Q,ie,fe,15,_[58]),ie=x(ie,Z,re,Q,de,21,_[59]),Q=x(Q,ie,Z,re,le,6,_[60]),re=x(re,Q,ie,Z,se,10,_[61]),Z=x(Z,re,Q,ie,z,15,_[62]),ie=x(ie,Z,re,Q,ce,21,_[63]),C[0]=C[0]+Q|0,C[1]=C[1]+ie|0,C[2]=C[2]+Z|0,C[3]=C[3]+re|0},_doFinalize:function(){var D=this._data,A=D.words,F=8*this._nDataBytes,k=8*D.sigBytes;A[k>>>5]|=128<<24-k%32;var m=b.floor(F/4294967296),C=F;A[15+(k+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(k+64>>>9<<4)]=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),D.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,z=0;z<4;z++){var j=O[z];O[z]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8)}return L},clone:function(){var D=N.clone.call(this);return D._hash=this._hash.clone(),D}});function P(D,A,F,k,m,C,L){var O=D+(A&F|~A&k)+m+L;return(O<<C|O>>>32-C)+A}function y(D,A,F,k,m,C,L){var O=D+(A&k|F&~k)+m+L;return(O<<C|O>>>32-C)+A}function T(D,A,F,k,m,C,L){var O=D+(A^F^k)+m+L;return(O<<C|O>>>32-C)+A}function x(D,A,F,k,m,C,L){var O=D+(F^(A|~k))+m+L;return(O<<C|O>>>32-C)+A}$.MD5=N._createHelper(w),$.HmacMD5=N._createHmacHelper(w)}(Math),R.MD5)},228:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.mode.CFB=function(){var b=R.lib.BlockCipherMode.extend();function $(U,Y,N,q){var _,w=this._iv;w?(_=w.slice(0),this._iv=void 0):_=this._prevBlock,q.encryptBlock(_,0);for(var P=0;P<N;P++)U[Y+P]^=_[P]}return b.Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize;$.call(this,U,Y,q,N),this._prevBlock=U.slice(Y,Y+q)}}),b.Decryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=U.slice(Y,Y+q);$.call(this,U,Y,q,N),this._prevBlock=_}}),b}(),R.mode.CFB)},584:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.mode.CTRGladman=function(){var b=R.lib.BlockCipherMode.extend();function $(N){if(255==(N>>24&255)){var q=N>>16&255,_=N>>8&255,w=255&N;255===q?(q=0,255===_?(_=0,255===w?w=0:++w):++_):++q,N=0,N+=q<<16,N+=_<<8,N+=w}else N+=1<<24;return N}var Y=b.Encryptor=b.extend({processBlock:function(N,q){var _=this._cipher,w=_.blockSize,P=this._iv,y=this._counter;P&&(y=this._counter=P.slice(0),this._iv=void 0),function U(N){return 0===(N[0]=$(N[0]))&&(N[1]=$(N[1])),N}(y);var T=y.slice(0);_.encryptBlock(T,0);for(var x=0;x<w;x++)N[q+x]^=T[x]}});return b.Decryptor=Y,b}(),R.mode.CTRGladman)},392:function(ve,xe,V){var b,$,R;ve.exports=(R=V(12),V(270),R.mode.CTR=($=(b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=this._iv,w=this._counter;_&&(w=this._counter=_.slice(0),this._iv=void 0);var P=w.slice(0);N.encryptBlock(P,0),w[q-1]=w[q-1]+1|0;for(var y=0;y<q;y++)U[Y+y]^=P[y]}}),b.Decryptor=$,b),R.mode.CTR)},594:function(ve,xe,V){var b,R;ve.exports=(R=V(12),V(270),R.mode.ECB=((b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function($,U){this._cipher.encryptBlock($,U)}}),b.Decryptor=b.extend({processBlock:function($,U){this._cipher.decryptBlock($,U)}}),b),R.mode.ECB)},15:function(ve,xe,V){var b,$,R;ve.exports=(R=V(12),V(270),R.mode.OFB=($=(b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=this._iv,w=this._keystream;_&&(w=this._keystream=_.slice(0),this._iv=void 0),N.encryptBlock(w,0);for(var P=0;P<q;P++)U[Y+P]^=w[P]}}),b.Decryptor=$,b),R.mode.OFB)},237:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.AnsiX923={pad:function(b,$){var U=b.sigBytes,Y=4*$,N=Y-U%Y,q=U+N-1;b.clamp(),b.words[q>>>2]|=N<<24-q%4*8,b.sigBytes+=N},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},R.pad.Ansix923)},501:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.Iso10126={pad:function(b,$){var U=4*$,Y=U-b.sigBytes%U;b.concat(R.lib.WordArray.random(Y-1)).concat(R.lib.WordArray.create([Y<<24],1))},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},R.pad.Iso10126)},4:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.Iso97971={pad:function(b,$){b.concat(R.lib.WordArray.create([2147483648],1)),R.pad.ZeroPadding.pad(b,$)},unpad:function(b){R.pad.ZeroPadding.unpad(b),b.sigBytes--}},R.pad.Iso97971)},738:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.NoPadding={pad:function(){},unpad:function(){}},R.pad.NoPadding)},297:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.ZeroPadding={pad:function(b,$){var U=4*$;b.clamp(),b.sigBytes+=U-(b.sigBytes%U||U)},unpad:function(b){var $=b.words,U=b.sigBytes-1;for(U=b.sigBytes-1;U>=0;U--)if($[U>>>2]>>>24-U%4*8&255){b.sigBytes=U+1;break}}},R.pad.ZeroPadding)},538:function(ve,xe,V){var b,$,U,Y,N,_,w,R;ve.exports=(R=V(12),V(78),V(990),Y=($=(b=R).lib).WordArray,_=(N=b.algo).HMAC,w=N.PBKDF2=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(P){this.cfg=this.cfg.extend(P)},compute:function(P,y){for(var T=this.cfg,x=_.create(T.hasher,P),D=Y.create(),A=Y.create([1]),F=D.words,k=A.words,m=T.keySize,C=T.iterations;F.length<m;){var L=x.update(y).finalize(A);x.reset();for(var O=L.words,z=O.length,j=L,le=1;le<C;le++){j=x.finalize(j),x.reset();for(var oe=j.words,fe=0;fe<z;fe++)O[fe]^=oe[fe]}D.concat(L),k[0]++}return D.sigBytes=4*m,D}}),b.PBKDF2=function(P,y,T){return w.create(T).compute(P,y)},R.PBKDF2)},848:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,N=[],q=[],_=[],w=b.algo.RabbitLegacy=U.extend({_doReset:function(){var y=this._key.words,T=this.cfg.iv,x=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],D=this._C=[y[2]<<16|y[2]>>>16,4294901760&y[0]|65535&y[1],y[3]<<16|y[3]>>>16,4294901760&y[1]|65535&y[2],y[0]<<16|y[0]>>>16,4294901760&y[2]|65535&y[3],y[1]<<16|y[1]>>>16,4294901760&y[3]|65535&y[0]];this._b=0;for(var A=0;A<4;A++)P.call(this);for(A=0;A<8;A++)D[A]^=x[A+4&7];if(T){var F=T.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(D[0]^=C,D[1]^=O,D[2]^=L,D[3]^=z,D[4]^=C,D[5]^=O,D[6]^=L,D[7]^=z,A=0;A<4;A++)P.call(this)}},_doProcessBlock:function(y,T){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var D=0;D<4;D++)N[D]=16711935&(N[D]<<8|N[D]>>>24)|4278255360&(N[D]<<24|N[D]>>>8),y[T+D]^=N[D]},blockSize:4,ivSize:2});function P(){for(var y=this._X,T=this._C,x=0;x<8;x++)q[x]=T[x];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<q[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<q[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<q[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<q[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<q[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<q[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<q[6]>>>0?1:0)|0,this._b=T[7]>>>0<q[7]>>>0?1:0,x=0;x<8;x++){var D=y[x]+T[x],A=65535&D,F=D>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&D)*D|0)+((65535&D)*D|0)}y[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,y[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,y[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,y[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,y[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,y[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,y[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,y[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}b.RabbitLegacy=U._createHelper(w)}(),R.RabbitLegacy)},969:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,N=[],q=[],_=[],w=b.algo.Rabbit=U.extend({_doReset:function(){for(var y=this._key.words,T=this.cfg.iv,x=0;x<4;x++)y[x]=16711935&(y[x]<<8|y[x]>>>24)|4278255360&(y[x]<<24|y[x]>>>8);var D=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],A=this._C=[y[2]<<16|y[2]>>>16,4294901760&y[0]|65535&y[1],y[3]<<16|y[3]>>>16,4294901760&y[1]|65535&y[2],y[0]<<16|y[0]>>>16,4294901760&y[2]|65535&y[3],y[1]<<16|y[1]>>>16,4294901760&y[3]|65535&y[0]];for(this._b=0,x=0;x<4;x++)P.call(this);for(x=0;x<8;x++)A[x]^=D[x+4&7];if(T){var F=T.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(A[0]^=C,A[1]^=O,A[2]^=L,A[3]^=z,A[4]^=C,A[5]^=O,A[6]^=L,A[7]^=z,x=0;x<4;x++)P.call(this)}},_doProcessBlock:function(y,T){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var D=0;D<4;D++)N[D]=16711935&(N[D]<<8|N[D]>>>24)|4278255360&(N[D]<<24|N[D]>>>8),y[T+D]^=N[D]},blockSize:4,ivSize:2});function P(){for(var y=this._X,T=this._C,x=0;x<8;x++)q[x]=T[x];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<q[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<q[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<q[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<q[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<q[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<q[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<q[6]>>>0?1:0)|0,this._b=T[7]>>>0<q[7]>>>0?1:0,x=0;x<8;x++){var D=y[x]+T[x],A=65535&D,F=D>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&D)*D|0)+((65535&D)*D|0)}y[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,y[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,y[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,y[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,y[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,y[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,y[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,y[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}b.Rabbit=U._createHelper(w)}(),R.Rabbit)},195:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,Y=b.algo,N=Y.RC4=U.extend({_doReset:function(){for(var w=this._key,P=w.words,y=w.sigBytes,T=this._S=[],x=0;x<256;x++)T[x]=x;x=0;for(var D=0;x<256;x++){var A=x%y,k=T[x];T[x]=T[D=(D+T[x]+(P[A>>>2]>>>24-A%4*8&255))%256],T[D]=k}this._i=this._j=0},_doProcessBlock:function(w,P){w[P]^=q.call(this)},keySize:8,ivSize:0});function q(){for(var w=this._S,P=this._i,y=this._j,T=0,x=0;x<4;x++){var D=w[P=(P+1)%256];w[P]=w[y=(y+w[P])%256],w[y]=D,T|=w[(w[P]+w[y])%256]<<24-8*x}return this._i=P,this._j=y,T}b.RC4=U._createHelper(N);var _=Y.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)q.call(this)}});b.RC4Drop=U._createHelper(_)}(),R.RC4)},558:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=Y.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=Y.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),P=Y.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=Y.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=Y.create([0,1518500249,1859775393,2400959708,2840853838]),x=Y.create([1352829926,1548603684,1836072691,2053994217,0]),D=q.RIPEMD160=N.extend({_doReset:function(){this._hash=Y.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,z){for(var j=0;j<16;j++){var le=z+j,oe=O[le];O[le]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8)}var de,We,Ze,Q,ie,Z,re,Tt,Ve,et,Je,fe=this._hash.words,be=T.words,K=x.words,ce=_.words,me=w.words,se=P.words,Ne=y.words;for(Z=de=fe[0],re=We=fe[1],Tt=Ze=fe[2],Ve=Q=fe[3],et=ie=fe[4],j=0;j<80;j+=1)Je=de+O[z+ce[j]]|0,Je+=j<16?A(We,Ze,Q)+be[0]:j<32?F(We,Ze,Q)+be[1]:j<48?k(We,Ze,Q)+be[2]:j<64?m(We,Ze,Q)+be[3]:C(We,Ze,Q)+be[4],Je=(Je=L(Je|=0,se[j]))+ie|0,de=ie,ie=Q,Q=L(Ze,10),Ze=We,We=Je,Je=Z+O[z+me[j]]|0,Je+=j<16?C(re,Tt,Ve)+K[0]:j<32?m(re,Tt,Ve)+K[1]:j<48?k(re,Tt,Ve)+K[2]:j<64?F(re,Tt,Ve)+K[3]:A(re,Tt,Ve)+K[4],Je=(Je=L(Je|=0,Ne[j]))+et|0,Z=et,et=Ve,Ve=L(Tt,10),Tt=re,re=Je;Je=fe[1]+Ze+Ve|0,fe[1]=fe[2]+Q+et|0,fe[2]=fe[3]+ie+Z|0,fe[3]=fe[4]+de+re|0,fe[4]=fe[0]+We+Tt|0,fe[0]=Je},_doFinalize:function(){var O=this._data,z=O.words,j=8*this._nDataBytes,le=8*O.sigBytes;z[le>>>5]|=128<<24-le%32,z[14+(le+64>>>9<<4)]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8),O.sigBytes=4*(z.length+1),this._process();for(var oe=this._hash,fe=oe.words,be=0;be<5;be++){var K=fe[be];fe[be]=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8)}return oe},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,z,j){return O^z^j}function F(O,z,j){return O&z|~O&j}function k(O,z,j){return(O|~z)^j}function m(O,z,j){return O&j|z&~j}function C(O,z,j){return O^(z|~j)}function L(O,z){return O<<z|O>>>32-z}$.RIPEMD160=N._createHelper(D),$.HmacRIPEMD160=N._createHmacHelper(D)}(Math),R.RIPEMD160)},446:function(ve,xe,V){var b,$,U,Y,q,_,R;ve.exports=(R=V(12),U=($=(b=R).lib).WordArray,q=[],_=b.algo.SHA1=(Y=$.Hasher).extend({_doReset:function(){this._hash=new U.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,P){for(var y=this._hash.words,T=y[0],x=y[1],D=y[2],A=y[3],F=y[4],k=0;k<80;k++){if(k<16)q[k]=0|w[P+k];else{var m=q[k-3]^q[k-8]^q[k-14]^q[k-16];q[k]=m<<1|m>>>31}var C=(T<<5|T>>>27)+F+q[k];C+=k<20?1518500249+(x&D|~x&A):k<40?1859775393+(x^D^A):k<60?(x&D|x&A|D&A)-1894007588:(x^D^A)-899497514,F=A,A=D,D=x<<30|x>>>2,x=T,T=C}y[0]=y[0]+T|0,y[1]=y[1]+x|0,y[2]=y[2]+D|0,y[3]=y[3]+A|0,y[4]=y[4]+F|0},_doFinalize:function(){var w=this._data,P=w.words,y=8*this._nDataBytes,T=8*w.sigBytes;return P[T>>>5]|=128<<24-T%32,P[14+(T+64>>>9<<4)]=Math.floor(y/4294967296),P[15+(T+64>>>9<<4)]=y,w.sigBytes=4*P.length,this._process(),this._hash},clone:function(){var w=Y.clone.call(this);return w._hash=this._hash.clone(),w}}),b.SHA1=Y._createHelper(_),b.HmacSHA1=Y._createHmacHelper(_),R.SHA1)},811:function(ve,xe,V){var b,U,Y,N,q,R;ve.exports=(R=V(12),V(78),U=(b=R).lib.WordArray,q=(Y=b.algo).SHA224=(N=Y.SHA256).extend({_doReset:function(){this._hash=new U.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _=N._doFinalize.call(this);return _.sigBytes-=4,_}}),b.SHA224=N._createHelper(q),b.HmacSHA224=N._createHmacHelper(q),R.SHA224)},78:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=[],w=[];!function(){function T(F){for(var k=b.sqrt(F),m=2;m<=k;m++)if(!(F%m))return!1;return!0}function x(F){return 4294967296*(F-(0|F))|0}for(var D=2,A=0;A<64;)T(D)&&(A<8&&(_[A]=x(b.pow(D,.5))),w[A]=x(b.pow(D,1/3)),A++),D++}();var P=[],y=q.SHA256=N.extend({_doReset:function(){this._hash=new Y.init(_.slice(0))},_doProcessBlock:function(T,x){for(var D=this._hash.words,A=D[0],F=D[1],k=D[2],m=D[3],C=D[4],L=D[5],O=D[6],z=D[7],j=0;j<64;j++){if(j<16)P[j]=0|T[x+j];else{var le=P[j-15],fe=P[j-2];P[j]=((le<<25|le>>>7)^(le<<14|le>>>18)^le>>>3)+P[j-7]+((fe<<15|fe>>>17)^(fe<<13|fe>>>19)^fe>>>10)+P[j-16]}var ce=A&F^A&k^F&k,Ne=z+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&L^~C&O)+w[j]+P[j];z=O,O=L,L=C,C=m+Ne|0,m=k,k=F,F=A,A=Ne+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ce)|0}D[0]=D[0]+A|0,D[1]=D[1]+F|0,D[2]=D[2]+k|0,D[3]=D[3]+m|0,D[4]=D[4]+C|0,D[5]=D[5]+L|0,D[6]=D[6]+O|0,D[7]=D[7]+z|0},_doFinalize:function(){var T=this._data,x=T.words,D=8*this._nDataBytes,A=8*T.sigBytes;return x[A>>>5]|=128<<24-A%32,x[14+(A+64>>>9<<4)]=b.floor(D/4294967296),x[15+(A+64>>>9<<4)]=D,T.sigBytes=4*x.length,this._process(),this._hash},clone:function(){var T=N.clone.call(this);return T._hash=this._hash.clone(),T}});$.SHA256=N._createHelper(y),$.HmacSHA256=N._createHmacHelper(y)}(Math),R.SHA256)},545:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,_=$.x64.Word,w=$.algo,P=[],y=[],T=[];!function(){for(var A=1,F=0,k=0;k<24;k++){P[A+5*F]=(k+1)*(k+2)/2%64;var C=(2*A+3*F)%5;A=F%5,F=C}for(A=0;A<5;A++)for(F=0;F<5;F++)y[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var z=0,j=0,le=0;le<7;le++){if(1&L){var oe=(1<<le)-1;oe<32?j^=1<<oe:z^=1<<oe-32}128&L?L=L<<1^113:L<<=1}T[O]=_.create(z,j)}}();var x=[];!function(){for(var A=0;A<25;A++)x[A]=_.create()}();var D=w.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new _.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,m=this.blockSize/2,C=0;C<m;C++){var L=A[F+2*C],O=A[F+2*C+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(z=k[C]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),z.low^=L}for(var j=0;j<24;j++){for(var le=0;le<5;le++){for(var oe=0,fe=0,be=0;be<5;be++)oe^=(z=k[le+5*be]).high,fe^=z.low;var K=x[le];K.high=oe,K.low=fe}for(le=0;le<5;le++){var ce=x[(le+4)%5],me=x[(le+1)%5],se=me.high,Ne=me.low;for(oe=ce.high^(se<<1|Ne>>>31),fe=ce.low^(Ne<<1|se>>>31),be=0;be<5;be++)(z=k[le+5*be]).high^=oe,z.low^=fe}for(var de=1;de<25;de++){var We=(z=k[de]).high,Ze=z.low,Q=P[de];Q<32?(oe=We<<Q|Ze>>>32-Q,fe=Ze<<Q|We>>>32-Q):(oe=Ze<<Q-32|We>>>64-Q,fe=We<<Q-32|Ze>>>64-Q);var ie=x[y[de]];ie.high=oe,ie.low=fe}var Z=x[0],re=k[0];for(Z.high=re.high,Z.low=re.low,le=0;le<5;le++)for(be=0;be<5;be++){var Tt=x[de=le+5*be],Ve=x[(le+1)%5+5*be],et=x[(le+2)%5+5*be];(z=k[de]).high=Tt.high^~Ve.high&et.high,z.low=Tt.low^~Ve.low&et.low}var z,Je=T[j];(z=k[0]).high^=Je.high,z.low^=Je.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,C=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(b.ceil((m+1)/C)*C>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,z=O/8,j=[],le=0;le<z;le++){var oe=L[le],fe=oe.high,be=oe.low;fe=16711935&(fe<<8|fe>>>24)|4278255360&(fe<<24|fe>>>8),j.push(be=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8)),j.push(fe)}return new Y.init(j,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});$.SHA3=N._createHelper(D),$.HmacSHA3=N._createHmacHelper(D)}(Math),R.SHA3)},913:function(ve,xe,V){var b,$,U,Y,N,q,_,R;ve.exports=(R=V(12),V(802),V(870),U=($=(b=R).x64).Word,Y=$.WordArray,_=(N=b.algo).SHA384=(q=N.SHA512).extend({_doReset:function(){this._hash=new Y.init([new U.init(3418070365,3238371032),new U.init(1654270250,914150663),new U.init(2438529370,812702999),new U.init(355462360,4144912697),new U.init(1731405415,4290775857),new U.init(2394180231,1750603025),new U.init(3675008525,1694076839),new U.init(1203062813,3204075428)])},_doFinalize:function(){var w=q._doFinalize.call(this);return w.sigBytes-=16,w}}),b.SHA384=q._createHelper(_),b.HmacSHA384=q._createHmacHelper(_),R.SHA384)},870:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),function(){var b=R,U=b.lib.Hasher,Y=b.x64,N=Y.Word,q=Y.WordArray,_=b.algo;function w(){return N.create.apply(N,arguments)}var P=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],y=[];!function(){for(var x=0;x<80;x++)y[x]=w()}();var T=_.SHA512=U.extend({_doReset:function(){this._hash=new q.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(x,D){for(var A=this._hash.words,F=A[0],k=A[1],m=A[2],C=A[3],L=A[4],O=A[5],z=A[6],j=A[7],le=F.high,oe=F.low,fe=k.high,be=k.low,K=m.high,ce=m.low,me=C.high,se=C.low,Ne=L.high,de=L.low,We=O.high,Ze=O.low,Q=z.high,ie=z.low,Z=j.high,re=j.low,Tt=le,Ve=oe,et=fe,Je=be,Ye=K,Yi=ce,id=me,Ns=se,tr=Ne,_n=de,Ti=We,Pc=Ze,sd=Q,Mc=ie,j0=Z,ya=re,Pr=0;Pr<80;Pr++){var Mr,ai,kc=y[Pr];if(Pr<16)ai=kc.high=0|x[D+2*Pr],Mr=kc.low=0|x[D+2*Pr+1];else{var Nc=y[Pr-15],Os=Nc.high,Ea=Nc.low,$0=(Ea>>>1|Os<<31)^(Ea>>>8|Os<<24)^(Ea>>>7|Os<<25),Di=y[Pr-2],Fs=Di.high,xa=Di.low,q0=(xa>>>19|Fs<<13)^(xa<<3|Fs>>>29)^(xa>>>6|Fs<<26),W0=y[Pr-7],K0=y[Pr-16],Y0=K0.low;kc.high=ai=(ai=(ai=((Os>>>1|Ea<<31)^(Os>>>8|Ea<<24)^Os>>>7)+W0.high+((Mr=$0+W0.low)>>>0<$0>>>0?1:0))+((Fs>>>19|xa<<13)^(Fs<<3|xa>>>29)^Fs>>>6)+((Mr+=q0)>>>0<q0>>>0?1:0))+K0.high+((Mr+=Y0)>>>0<Y0>>>0?1:0),kc.low=Mr}var nr,t_=tr&Ti^~tr&sd,Q0=_n&Pc^~_n&Mc,n_=Tt&et^Tt&Ye^et&Ye,od=(Ve>>>28|Tt<<4)^(Ve<<30|Tt>>>2)^(Ve<<25|Tt>>>7),ad=P[Pr],cd=ad.low,Si=j0+((tr>>>14|_n<<18)^(tr>>>18|_n<<14)^(tr<<23|_n>>>9))+((nr=ya+((_n>>>14|tr<<18)^(_n>>>18|tr<<14)^(_n<<23|tr>>>9)))>>>0<ya>>>0?1:0),ld=od+(Ve&Je^Ve&Yi^Je&Yi);j0=sd,ya=Mc,sd=Ti,Mc=Pc,Ti=tr,Pc=_n,tr=id+(Si=(Si=(Si=Si+t_+((nr+=Q0)>>>0<Q0>>>0?1:0))+ad.high+((nr+=cd)>>>0<cd>>>0?1:0))+ai+((nr+=Mr)>>>0<Mr>>>0?1:0))+((_n=Ns+nr|0)>>>0<Ns>>>0?1:0)|0,id=Ye,Ns=Yi,Ye=et,Yi=Je,et=Tt,Je=Ve,Tt=Si+(((Tt>>>28|Ve<<4)^(Tt<<30|Ve>>>2)^(Tt<<25|Ve>>>7))+n_+(ld>>>0<od>>>0?1:0))+((Ve=nr+ld|0)>>>0<nr>>>0?1:0)|0}oe=F.low=oe+Ve,F.high=le+Tt+(oe>>>0<Ve>>>0?1:0),be=k.low=be+Je,k.high=fe+et+(be>>>0<Je>>>0?1:0),ce=m.low=ce+Yi,m.high=K+Ye+(ce>>>0<Yi>>>0?1:0),se=C.low=se+Ns,C.high=me+id+(se>>>0<Ns>>>0?1:0),de=L.low=de+_n,L.high=Ne+tr+(de>>>0<_n>>>0?1:0),Ze=O.low=Ze+Pc,O.high=We+Ti+(Ze>>>0<Pc>>>0?1:0),ie=z.low=ie+Mc,z.high=Q+sd+(ie>>>0<Mc>>>0?1:0),re=j.low=re+ya,j.high=Z+j0+(re>>>0<ya>>>0?1:0)},_doFinalize:function(){var x=this._data,D=x.words,A=8*this._nDataBytes,F=8*x.sigBytes;return D[F>>>5]|=128<<24-F%32,D[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),D[31+(F+128>>>10<<5)]=A,x.sigBytes=4*D.length,this._process(),this._hash.toX32()},clone:function(){var x=U.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:32});b.SHA512=U._createHelper(T),b.HmacSHA512=U._createHmacHelper(T)}(),R.SHA512)},769:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,$=b.lib,U=$.WordArray,Y=$.BlockCipher,N=b.algo,q=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=N.DES=Y.extend({_doReset:function(){for(var k=this._key.words,m=[],C=0;C<56;C++){var L=q[C]-1;m[C]=k[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],z=0;z<16;z++){var j=O[z]=[],le=w[z];for(C=0;C<24;C++)j[C/6|0]|=m[(_[C]-1+le)%28]<<31-C%6,j[4+(C/6|0)]|=m[28+(_[C+24]-1+le)%28]<<31-C%6;for(j[0]=j[0]<<1|j[0]>>>31,C=1;C<7;C++)j[C]=j[C]>>>4*(C-1)+3;j[7]=j[7]<<5|j[7]>>>27}var oe=this._invSubKeys=[];for(C=0;C<16;C++)oe[C]=O[15-C]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,m){this._lBlock=F[k],this._rBlock=F[k+1],x.call(this,4,252645135),x.call(this,16,65535),D.call(this,2,858993459),D.call(this,8,16711935),x.call(this,1,1431655765);for(var C=0;C<16;C++){for(var L=m[C],O=this._lBlock,z=this._rBlock,j=0,le=0;le<8;le++)j|=P[le][((z^L[le])&y[le])>>>0];this._lBlock=z,this._rBlock=O^j}var oe=this._lBlock;this._lBlock=this._rBlock,this._rBlock=oe,x.call(this,1,1431655765),D.call(this,8,16711935),D.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function x(F,k){var m=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=m,this._lBlock^=m<<F}function D(F,k){var m=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=m,this._rBlock^=m<<F}b.DES=Y._createHelper(T);var A=N.TripleDES=Y.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=k.slice(0,2),C=k.length<4?k.slice(0,2):k.slice(2,4),L=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=T.createEncryptor(U.create(m)),this._des2=T.createEncryptor(U.create(C)),this._des3=T.createEncryptor(U.create(L))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});b.TripleDES=Y._createHelper(A)}(),R.TripleDES)},802:function(ve,xe,V){var U,Y,N,q,R;ve.exports=(R=V(12),Y=(U=R.lib).Base,N=U.WordArray,(q=R.x64={}).Word=Y.extend({init:function(P,y){this.high=P,this.low=y}}),q.WordArray=Y.extend({init:function(P,y){P=this.words=P||[],this.sigBytes=null!=y?y:8*P.length},toX32:function(){for(var P=this.words,y=P.length,T=[],x=0;x<y;x++){var D=P[x];T.push(D.high),T.push(D.low)}return N.create(T,this.sigBytes)},clone:function(){for(var P=Y.clone.call(this),y=P.words=this.words.slice(0),T=y.length,x=0;x<T;x++)y[x]=y[x].clone();return P}}),R)},480:()=>{}},ve=>{ve(ve.s=242)}]);