"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{612:()=>{function ke(t){return"function"==typeof t}function $u(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const lh=$u(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ma(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Zn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ke(r))try{r()}catch(s){e=s instanceof lh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ME(s)}catch(o){e=e??[],o instanceof lh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new lh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ME(e);else{if(e instanceof Zn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ma(n,e)}remove(e){const{_finalizers:n}=this;n&&Ma(n,e),e instanceof Zn&&e._removeParent(this)}}Zn.EMPTY=(()=>{const t=new Zn;return t.closed=!0,t})();const TE=Zn.EMPTY;function AE(t){return t instanceof Zn||t&&"closed"in t&&ke(t.remove)&&ke(t.add)&&ke(t.unsubscribe)}function ME(t){ke(t)?t():t.unsubscribe()}const fo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dh={setTimeout(t,e,...n){const{delegate:r}=dh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=dh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xE(t){dh.setTimeout(()=>{const{onUnhandledError:e}=fo;if(!e)throw t;e(t)})}function NE(){}const CB=I2("C",void 0,void 0);function I2(t,e,n){return{kind:t,value:e,error:n}}let ho=null;function fh(t){if(fo.useDeprecatedSynchronousErrorHandling){const e=!ho;if(e&&(ho={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ho;if(ho=null,n)throw r}}else t()}class E2 extends Zn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,AE(e)&&e.add(this)):this.destination=MB}static create(e,n,r){return new Gu(e,n,r)}next(e){this.isStopped?D2(function EB(t){return I2("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?D2(function IB(t){return I2("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?D2(CB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const DB=Function.prototype.bind;function S2(t,e){return DB.call(t,e)}class TB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hh(r)}else hh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hh(n)}}}class Gu extends E2{constructor(e,n,r){let i;if(super(),ke(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&fo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&S2(e.next,s),error:e.error&&S2(e.error,s),complete:e.complete&&S2(e.complete,s)}):i=e}this.destination=new TB(i)}}function hh(t){fo.useDeprecatedSynchronousErrorHandling?function SB(t){fo.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=t)}(t):xE(t)}function D2(t,e){const{onStoppedNotification:n}=fo;n&&dh.setTimeout(()=>n(t,e))}const MB={closed:!0,next:NE,error:function AB(t){throw t},complete:NE},T2="function"==typeof Symbol&&Symbol.observable||"@@observable";function ms(t){return t}function kE(t){return 0===t.length?ms:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function kB(t){return t&&t instanceof E2||function NB(t){return t&&ke(t.next)&&ke(t.error)&&ke(t.complete)}(t)&&AE(t)}(n)?n:new Gu(n,r,i);return fh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=PE(r))((i,s)=>{const o=new Gu({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[T2](){return this}pipe(...n){return kE(n)(this)}toPromise(n){return new(n=PE(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function PE(t){var e;return null!==(e=t??fo.Promise)&&void 0!==e?e:Promise}const PB=$u(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Wr=(()=>{class t extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new OE(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new PB}next(n){fh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){fh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?TE:(this.currentObservers=null,s.push(n),new Zn(()=>{this.currentObservers=null,Ma(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new be;return n.source=this,n}}return t.create=(e,n)=>new OE(e,n),t})();class OE extends Wr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:TE}}class gr extends Wr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function RE(t){return ke(t?.lift)}function Dt(t){return e=>{if(RE(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gt(t,e,n,r,i){return new FE(t,e,n,r,i)}class FE extends E2{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return Dt((n,r)=>{let i=0;n.subscribe(gt(r,s=>{r.next(t.call(e,s,i++))}))})}function ph(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function x2(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function N2(t,e){return function(n,r){e(n,r,t)}}function k2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function ys(t){return this instanceof ys?(this.v=t,this):new ys(t)}function HE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function O2(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zE=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function UE(t){return ke(t?.then)}function BE(t){return ke(t[T2])}function jE(t){return Symbol.asyncIterator&&ke(t?.[Symbol.asyncIterator])}function $E(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const GE=function JB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qE(t){return ke(t?.[GE])}function WE(t){return function VE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){s.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof ys?Promise.resolve(f.value.v).then(u,l):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ys(n.read());if(i)return yield ys(void 0);yield yield ys(r)}}finally{n.releaseLock()}})}function KE(t){return ke(t?.getReader)}function er(t){if(t instanceof be)return t;if(null!=t){if(BE(t))return function ZB(t){return new be(e=>{const n=t[T2]();if(ke(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(zE(t))return function ej(t){return new be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(UE(t))return function tj(t){return new be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xE)})}(t);if(jE(t))return YE(t);if(qE(t))return function nj(t){return new be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(KE(t))return function rj(t){return YE(WE(t))}(t)}throw $E(t)}function YE(t){return new be(e=>{(function ij(t,e){var n,r,i,s;return k2(this,void 0,void 0,function*(){try{for(n=HE(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Mi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Jt(t,e,n=1/0){return ke(e)?Jt((r,i)=>_e((s,o)=>e(r,s,i,o))(er(t(r,i))),n):("number"==typeof e&&(n=e),Dt((r,i)=>function sj(t,e,n,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const f=()=>{d&&!c.length&&!u&&e.complete()},h=m=>u<r?p(m):c.push(m),p=m=>{s&&e.next(m),u++;let y=!1;er(n(m,l++)).subscribe(gt(e,_=>{i?.(_),s?h(_):e.next(_)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){const _=c.shift();o?Mi(e,o,()=>p(_)):p(_)}f()}catch(_){e.error(_)}}))};return t.subscribe(gt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function gh(t=1/0){return Jt(ms,t)}const Kr=new be(t=>t.complete());function R2(t){return t[t.length-1]}function QE(t){return ke(R2(t))?t.pop():void 0}function qu(t){return function aj(t){return t&&ke(t.schedule)}(R2(t))?t.pop():void 0}function mh(t,e=0){return Dt((n,r)=>{n.subscribe(gt(r,i=>Mi(r,t,()=>r.next(i),e),()=>Mi(r,t,()=>r.complete(),e),i=>Mi(r,t,()=>r.error(i),e)))})}function yh(t,e=0){return Dt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function XE(t,e){if(!t)throw new Error("Iterable cannot be null");return new be(n=>{Mi(n,e,()=>{const r=t[Symbol.asyncIterator]();Mi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dn(t,e){return e?function pj(t,e){if(null!=t){if(BE(t))return function uj(t,e){return er(t).pipe(yh(e),mh(e))}(t,e);if(zE(t))return function dj(t,e){return new be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(UE(t))return function lj(t,e){return er(t).pipe(yh(e),mh(e))}(t,e);if(jE(t))return XE(t,e);if(qE(t))return function fj(t,e){return new be(n=>{let r;return Mi(n,e,()=>{r=t[GE](),Mi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ke(r?.return)&&r.return()})}(t,e);if(KE(t))return function hj(t,e){return XE(WE(t),e)}(t,e)}throw $E(t)}(t,e):er(t)}function ee(...t){return dn(t,qu(t))}function JE(t={}){const{connector:e=(()=>new Wr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,l=d=!1},p=()=>{const m=o;h(),m?.unsubscribe()};return Dt((m,y)=>{u++,!d&&!l&&f();const _=c=c??e();y.add(()=>{u--,0===u&&!d&&!l&&(a=F2(p,i))}),_.subscribe(y),!o&&u>0&&(o=new Gu({next:v=>_.next(v),error:v=>{d=!0,f(),a=F2(h,n,v),_.error(v)},complete:()=>{l=!0,f(),a=F2(h,r),_.complete()}}),er(m).subscribe(o))})(s)}}function F2(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Gu({next:()=>{r.unsubscribe(),t()}});return er(e(...n)).subscribe(r)}function Dr(t,e){return Dt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(gt(r,c=>{i?.unsubscribe();let u=0;const l=s++;er(t(c,l)).subscribe(i=gt(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ZE(t,e=ms){return t=t??mj,Dt((n,r)=>{let i,s=!0;n.subscribe(gt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function mj(t,e){return t===e}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function vh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(kt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function L2(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const yj=Te({__forward_ref__:Te});function Fe(t){return t.__forward_ref__=Fe,t.toString=function(){return kt(this())},t}function Z(t){return V2(t)?t():t}function V2(t){return"function"==typeof t&&t.hasOwnProperty(yj)&&t.__forward_ref__===Fe}function H2(t){return t&&!!t.\u0275providers}const e5="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function _h(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function z2(t,e){throw new T(-201,!1)}function mr(t,e){null==t&&function X(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function wh(t){return t5(t,Ch)||t5(t,n5)}function t5(t,e){return t.hasOwnProperty(e)?t[e]:null}function bh(t){return t&&(t.hasOwnProperty(U2)||t.hasOwnProperty(Sj))?t[U2]:null}const Ch=Te({\u0275prov:Te}),U2=Te({\u0275inj:Te}),n5=Te({ngInjectableDef:Te}),Sj=Te({ngInjectorDef:Te});var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{});let B2;function Vn(t){const e=B2;return B2=t,e}function i5(t,e,n){const r=wh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ue.Optional?null:void 0!==e?e:void z2(kt(t))}const Oe=globalThis,Wu={},W2="__NG_DI_FLAG__",Ih="ngTempTokenPath",Aj=/\n/gm,o5="__source";let xa;function vs(t){const e=xa;return xa=t,e}function Nj(t,e=ue.Default){if(void 0===xa)throw new T(-203,!1);return null===xa?i5(t,void 0,e):xa.get(t,e&ue.Optional?null:void 0,e)}function W(t,e=ue.Default){return(function r5(){return B2}()||Nj)(Z(t),e)}function D(t,e=ue.Default){return W(t,Eh(e))}function Eh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function K2(t){const e=[];for(let n=0;n<t.length;n++){const r=Z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=ue.Default;for(let o=0;o<r.length;o++){const a=r[o],c=kj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function Ku(t,e){return t[W2]=e,t.prototype[W2]=e,t}function kj(t){return t[W2]}function xi(t){return{toString:t}.toString()}var Sh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sh||{}),Tr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tr||{});const Yr={},we=[],Dh=Te({\u0275cmp:Te}),Y2=Te({\u0275dir:Te}),Q2=Te({\u0275pipe:Te}),c5=Te({\u0275mod:Te}),Ni=Te({\u0275fac:Te}),Yu=Te({__NG_ELEMENT_ID__:Te}),u5=Te({__NG_ENV_ID__:Te});function l5(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function X2(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];f5(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function d5(t){return 3===t||4===t||6===t}function f5(t){return 64===t.charCodeAt(0)}function Qu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||h5(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function h5(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const p5="ng-template";function Rj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==l5(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function g5(t){return 4===t.type&&t.value!==p5}function Fj(t,e,n){return e===(4!==t.type||n?t.value:p5)}function Lj(t,e,n){let r=4;const i=t.attrs||[],s=function zj(t){for(let e=0;e<t.length;e++)if(d5(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Fj(t,c,n)||""===c&&1===e.length){if(Ar(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Rj(t.attrs,u,n)){if(Ar(r))return!1;o=!0}continue}const d=Vj(8&r?"class":c,i,g5(t),n);if(-1===d){if(Ar(r))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==l5(h,u,0)||2&r&&u!==f){if(Ar(r))return!1;o=!0}}}}else{if(!o&&!Ar(r)&&!Ar(c))return!1;if(o&&Ar(c))continue;o=!1,r=c|1&r}}return Ar(r)||o}function Ar(t){return 0==(1&t)}function Vj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Uj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function m5(t,e,n=!1){for(let r=0;r<e.length;r++)if(Lj(t,e[r],n))return!0;return!1}function Bj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function y5(t,e){return t?":not("+e.trim()+")":e}function jj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ar(o)&&(e+=y5(s,i),i=""),r=o,s=s||!Ar(r);n++}return""!==i&&(e+=y5(s,i)),e}function Hn(t){return xi(()=>{const e=_5(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tr.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""};w5(n);const r=t.dependencies;return n.directiveDefs=Th(r,!1),n.pipeDefs=Th(r,!0),n.id=function Xj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Wj(t){return pe(t)||Zt(t)}function Kj(t){return null!==t}function tt(t){return xi(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function v5(t,e){if(null==t)return Yr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Y(t){return xi(()=>{const e=_5(t);return w5(e),e})}function Ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function pe(t){return t[Dh]||null}function Zt(t){return t[Y2]||null}function Sn(t){return t[Q2]||null}function nr(t,e){const n=t[c5]||null;if(!n&&!0===e)throw new Error(`Type ${kt(t)} does not have '\u0275mod' property.`);return n}function _5(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:v5(t.inputs,e),outputs:v5(t.outputs)}}function w5(t){t.features?.forEach(e=>e(t))}function Th(t,e){if(!t)return null;const n=e?Sn:Wj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Kj)}const mt=0,V=1,se=2,Xe=3,Mr=4,Xu=5,fn=6,ka=7,yt=8,_s=9,Pa=10,re=11,Ju=12,b5=13,Oa=14,vt=15,Zu=16,Ra=17,Qr=18,el=19,C5=20,ws=21,ki=22,Ah=23,Mh=24,le=25,J2=1,I5=2,Xr=7,Fa=9,en=11;function zn(t){return Array.isArray(t)&&"object"==typeof t[J2]}function Un(t){return Array.isArray(t)&&!0===t[J2]}function Z2(t){return 0!=(4&t.flags)}function go(t){return t.componentOffset>-1}function Nh(t){return 1==(1&t.flags)}function xr(t){return!!t.template}function e0(t){return 0!=(512&t[se])}function mo(t,e){return t.hasOwnProperty(Ni)?t[Ni]:null}let r$=Oe.WeakRef??class n${constructor(e){this.ref=e}deref(){return this.ref}},s$=0,Jr=null,kh=!1;function Bt(t){const e=Jr;return Jr=t,e}class A5{constructor(){this.id=s$++,this.ref=function i$(t){return new r$(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=kh;kh=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{kh=e}}producerAccessed(){if(kh)throw new Error("");if(null===Jr)return;let e=Jr.producers.get(this.id);void 0===e?(e={consumerNode:Jr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Jr.trackingVersion},Jr.producers.set(this.id,e),this.consumers.set(Jr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Jr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Jr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let M5=null;function x5(t){const e=Bt(null);try{return t()}finally{Bt(e)}}const N5=()=>{};class u$ extends A5{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=N5,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Bt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=N5,this.watch(this.registerOnCleanup)}finally{Bt(e)}}cleanup(){this.cleanupFn()}}class l${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dn(){return k5}function k5(t){return t.type.prototype.ngOnChanges&&(t.setInput=f$),d$}function d$(){const t=O5(this),e=t?.current;if(e){const n=t.previous;if(n===Yr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function f$(t,e,n,r){const i=this.declaredInputs[n],s=O5(t)||function h$(t,e){return t[P5]=e}(t,{previous:Yr,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new l$(c&&c.currentValue,e,a===Yr),t[r]=e}Dn.ngInherit=!0;const P5="__ngSimpleChanges__";function O5(t){return t[P5]||null}const Zr=function(t,e,n){};function Le(t){for(;Array.isArray(t);)t=t[mt];return t}function Rh(t,e){return Le(e[t])}function Bn(t,e){return Le(e[t.index])}function L5(t,e){return t.data[e]}function La(t,e){return t[e]}function rr(t,e){const n=e[t];return zn(n)?n:n[mt]}function bs(t,e){return null==e?null:t[e]}function V5(t){t[Ra]=0}function w$(t){1024&t[se]||(t[se]|=1024,z5(t,1))}function H5(t){1024&t[se]&&(t[se]&=-1025,z5(t,-1))}function z5(t,e){let n=t[Xe];if(null===n)return;n[Xu]+=e;let r=n;for(n=n[Xe];null!==n&&(1===e&&1===r[Xu]||-1===e&&0===r[Xu]);)n[Xu]+=e,r=n,n=n[Xe]}const J={lFrame:X5(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function j5(){return J.bindingsEnabled}function Va(){return null!==J.skipHydrationRootTNode}function I(){return J.lFrame.lView}function ge(){return J.lFrame.tView}function Nr(t){return J.lFrame.contextLView=t,t[yt]}function kr(t){return J.lFrame.contextLView=null,t}function tn(){let t=$5();for(;null!==t&&64===t.type;)t=t.parent;return t}function $5(){return J.lFrame.currentTNode}function ei(t,e){const n=J.lFrame;n.currentTNode=t,n.isParent=e}function a0(){return J.lFrame.isParent}function c0(){J.lFrame.isParent=!1}function Tn(){const t=J.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ha(){return J.lFrame.bindingIndex++}function k$(t,e){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,u0(e)}function u0(t){J.lFrame.currentDirectiveIndex=t}function d0(t){J.lFrame.currentQueryIndex=t}function O$(t){const e=t[V];return 2===e.type?e.declTNode:1===e.type?t[fn]:null}function Y5(t,e,n){if(n&ue.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ue.Host||(i=O$(s),null===i||(s=s[Oa],10&i.type))););if(null===i)return!1;e=i,t=s}const r=J.lFrame=Q5();return r.currentTNode=e,r.lView=t,!0}function f0(t){const e=Q5(),n=t[V];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Q5(){const t=J.lFrame,e=null===t?null:t.child;return null===e?X5(t):e}function X5(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function J5(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Z5=J5;function h0(){const t=J5();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function An(){return J.lFrame.selectedIndex}function yo(t){J.lFrame.selectedIndex=t}function nt(){const t=J.lFrame;return L5(t.tView,t.selectedIndex)}let tS=!0;function Fh(){return tS}function Cs(t){tS=t}function Lh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Vh(t,e,n){nS(t,e,3,n)}function Hh(t,e,n,r){(3&t[se])===n&&nS(t,e,n,r)}function p0(t,e){let n=t[se];(3&n)===e&&(n&=8191,n+=1,t[se]=n)}function nS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Ra]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Ra]+=65536),(a<s||-1==s)&&(B$(t,n,e,c),t[Ra]=(4294901760&t[Ra])+c+2),c++}function rS(t,e){Zr(4,t,e);const n=Bt(null);try{e.call(t)}finally{Bt(n),Zr(5,t,e)}}function B$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[se]>>13<t[Ra]>>16&&(3&t[se])===e&&(t[se]+=8192,rS(a,s)):rS(a,s)}const za=-1;class rl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function m0(t){return t!==za}function il(t){return 32767&t}function sl(t,e){let n=function q$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Oa],n--;return r}let y0=!0;function zh(t){const e=y0;return y0=t,e}const iS=255,sS=5;let W$=0;const ti={};function Uh(t,e){const n=oS(t,e);if(-1!==n)return n;const r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,v0(r.data,t),v0(e,null),v0(r.blueprint,null));const i=Bh(t,e),s=t.injectorIndex;if(m0(i)){const o=il(i),a=sl(i,e),c=a[V].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function v0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Bh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=hS(i),null===r)return za;if(n++,i=i[Oa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return za}function _0(t,e,n){!function K$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yu)&&(r=n[Yu]),null==r&&(r=n[Yu]=W$++);const i=r&iS;e.data[t+(i>>sS)]|=1<<i}(t,e,n)}function aS(t,e,n){if(n&ue.Optional||void 0!==t)return t;z2()}function cS(t,e,n,r){if(n&ue.Optional&&void 0===r&&(r=null),!(n&(ue.Self|ue.Host))){const i=t[_s],s=Vn(void 0);try{return i?i.get(e,r,n&ue.Optional):i5(e,r,n&ue.Optional)}finally{Vn(s)}}return aS(r,0,n)}function uS(t,e,n,r=ue.Default,i){if(null!==t){if(2048&e[se]&&!(r&ue.Self)){const o=function eG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[se]&&!(512&o[se]);){const a=lS(s,o,n,r|ue.Self,ti);if(a!==ti)return a;let c=s.parent;if(!c){const u=o[C5];if(u){const l=u.get(n,ti,r);if(l!==ti)return l}c=hS(o),o=o[Oa]}s=c}return i}(t,e,n,r,ti);if(o!==ti)return o}const s=lS(t,e,n,r,ti);if(s!==ti)return s}return cS(e,n,r,i)}function lS(t,e,n,r,i){const s=function X$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Yu)?t[Yu]:void 0;return"number"==typeof e?e>=0?e&iS:Z$:e}(n);if("function"==typeof s){if(!Y5(e,t,r))return r&ue.Host?aS(i,0,r):cS(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ue.Optional)return o;z2()}finally{Z5()}}else if("number"==typeof s){let o=null,a=oS(t,e),c=za,u=r&ue.Host?e[vt][fn]:null;for((-1===a||r&ue.SkipSelf)&&(c=-1===a?Bh(t,e):e[a+8],c!==za&&fS(r,!1)?(o=e[V],a=il(c),e=sl(c,e)):a=-1);-1!==a;){const l=e[V];if(dS(s,a,l.data)){const d=Q$(a,e,n,o,r,u);if(d!==ti)return d}c=e[a+8],c!==za&&fS(r,e[V].data[a+8]===u)&&dS(s,a,e)?(o=l,a=il(c),e=sl(c,e)):a=-1}}return i}function Q$(t,e,n,r,i,s){const o=e[V],a=o.data[t+8],l=function jh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,f=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&xr(h)&&h.type===n)return c}return null}(a,o,n,null==r?go(a)&&y0:r!=o&&0!=(3&a.type),i&ue.Host&&s===a);return null!==l?vo(e,o,l,a):ti}function vo(t,e,n,r){let i=t[n];const s=e.data;if(function j$(t){return t instanceof rl}(i)){const o=i;o.resolving&&function vj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(s[n]));const a=zh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Vn(o.injectImpl):null;Y5(t,r,ue.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function U$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=k5(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Vn(u),zh(a),o.resolving=!1,Z5()}}return i}function dS(t,e,n){return!!(n[e+(t>>sS)]&1<<t)}function fS(t,e){return!(t&ue.Self||t&ue.Host&&e)}class Mn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uS(this._tNode,this._lView,e,Eh(r),n)}}function Z$(){return new Mn(tn(),I())}function nn(t){return xi(()=>{const e=t.prototype.constructor,n=e[Ni]||w0(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ni]||w0(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function w0(t){return V2(t)?()=>{const e=w0(Z(t));return e&&e()}:mo(t)}function hS(t){const e=t[V],n=e.type;return 2===n?e.declTNode:1===n?t[fn]:null}const Ba="__parameters__";function $a(t,e,n){return xi(()=>{const r=function b0(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(Ba)?c[Ba]:Object.defineProperty(c,Ba,{value:[]})[Ba];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function qa(t,e){t.forEach(n=>Array.isArray(n)?qa(n,e):e(n))}function gS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ir(t,e,n){let r=Wa(t,e);return r>=0?t[1|r]=n:(r=~r,function aG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function C0(t,e){const n=Wa(t,e);if(n>=0)return t[1|n]}function Wa(t,e){return function mS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const jt=Ku($a("Optional"),8),E0=Ku($a("SkipSelf"),4);function Xh(t){return 128==(128&t.flags)}var Is=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Is||{});const AG=/^>|^->|<!--|-->|--!>|<!-$/g,MG=/(<|>)/,xG="\u200b$1\u200b";const A0=new Map;let NG=0;const x0="__ngContext__";function hn(t,e){zn(e)?(t[x0]=e[el],function PG(t){A0.set(t[el],t)}(e)):t[x0]=e}let N0;function k0(t,e){return N0(t,e)}function dl(t){const e=t[Xe];return Un(e)?e[Xe]:e}function FS(t){return VS(t[Ju])}function LS(t){return VS(t[Mr])}function VS(t){for(;null!==t&&!Un(t);)t=t[Mr];return t}function Qa(t,e,n,r,i){if(null!=r){let s,o=!1;Un(r)?s=r:zn(r)&&(o=!0,r=r[mt]);const a=Le(r);0===t&&null!==n?null==i?BS(e,n,a):_o(e,n,a,i||null,!0):1===t&&null!==n?_o(e,n,a,i||null,!0):2===t?function ip(t,e,n){const r=np(t,e);r&&function JG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function tq(t,e,n,r,i){const s=n[Xr];s!==Le(n)&&Qa(e,t,r,s,i);for(let a=en;a<n.length;a++){const c=n[a];hl(c[V],c,t,e,r,s)}}(e,t,s,n,i)}}function P0(t,e){return t.createComment(function AS(t){return t.replace(AG,e=>e.replace(MG,xG))}(e))}function ep(t,e,n){return t.createElement(e,n)}function zS(t,e){const n=t[Fa],r=n.indexOf(e);H5(e),n.splice(r,1)}function tp(t,e){if(t.length<=en)return;const n=en+e,r=t[n];if(r){const i=r[Zu];null!==i&&i!==t&&zS(i,r),e>0&&(t[n-1][Mr]=r[Mr]);const s=Gh(t,en+e);!function $G(t,e){hl(t,e,e[re],2,null,null),e[mt]=null,e[fn]=null}(r[V],r);const o=s[Qr];null!==o&&o.detachView(s[V]),r[Xe]=null,r[Mr]=null,r[se]&=-129}return r}function O0(t,e){if(!(256&e[se])){const n=e[re];e[Ah]?.destroy(),e[Mh]?.destroy(),n.destroyNode&&hl(t,e,n,3,null,null),function WG(t){let e=t[Ju];if(!e)return R0(t[V],t);for(;e;){let n=null;if(zn(e))n=e[Ju];else{const r=e[en];r&&(n=r)}if(!n){for(;e&&!e[Mr]&&e!==t;)zn(e)&&R0(e[V],e),e=e[Xe];null===e&&(e=t),zn(e)&&R0(e[V],e),n=e&&e[Mr]}e=n}}(e)}}function R0(t,e){if(!(256&e[se])){e[se]&=-129,e[se]|=256,function XG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof rl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Zr(4,a,c);try{c.call(a)}finally{Zr(5,a,c)}}else{Zr(4,i,s);try{s.call(i)}finally{Zr(5,i,s)}}}}}(t,e),function QG(t,e){const n=t.cleanup,r=e[ka];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ka]=null);const i=e[ws];if(null!==i){e[ws]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[V].type&&e[re].destroy();const n=e[Zu];if(null!==n&&Un(e[Xe])){n!==e[Xe]&&zS(n,e);const r=e[Qr];null!==r&&r.detachView(t)}!function OG(t){A0.delete(t[el])}(e)}}function F0(t,e,n){return function US(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[mt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Tr.None||s===Tr.Emulated)return null}return Bn(r,n)}}(t,e.parent,n)}function _o(t,e,n,r,i){t.insertBefore(e,n,r,i)}function BS(t,e,n){t.appendChild(e,n)}function jS(t,e,n,r,i){null!==r?_o(t,e,n,r,i):BS(t,e,n)}function np(t,e){return t.parentNode(e)}function $S(t,e,n){return qS(t,e,n)}let L0,sp,U0,op,qS=function GS(t,e,n){return 40&t.type?Bn(t,n):null};function rp(t,e,n,r){const i=F0(t,r,e),s=e[re],a=$S(r.parent||e[fn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)jS(s,i,n[c],a,!1);else jS(s,i,n,a,!1);void 0!==L0&&L0(s,r,e,n,i)}function fl(t,e){if(null!==e){const n=e.type;if(3&n)return Bn(e,t);if(4&n)return V0(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return fl(t,r);{const i=t[e.index];return Un(i)?V0(-1,i):Le(i)}}if(32&n)return k0(e,t)()||Le(t[e.index]);{const r=KS(t,e);return null!==r?Array.isArray(r)?r[0]:fl(dl(t[vt]),r):fl(t,e.next)}}return null}function KS(t,e){return null!==e?t[vt][fn].projection[e.projection]:null}function V0(t,e){const n=en+t+1;if(n<e.length){const r=e[n],i=r[V].firstChild;if(null!==i)return fl(r,i)}return e[Xr]}function H0(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&hn(Le(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)H0(t,e,n.child,r,i,s,!1),Qa(e,t,i,a,s);else if(32&c){const u=k0(n,r);let l;for(;l=u();)Qa(e,t,i,l,s);Qa(e,t,i,a,s)}else 16&c?QS(t,e,r,n,i,s):Qa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function hl(t,e,n,r,i,s){H0(n,r,t.firstChild,e,i,s,!1)}function QS(t,e,n,r,i,s){const o=n[vt],c=o[fn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Qa(e,t,i,c[u],s);else{let u=c;const l=o[Xe];Xh(r)&&(u.flags|=128),H0(t,e,u,l,i,s,!0)}}function XS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function JS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&X2(t,e,r),null!==i&&XS(t,e,i),null!==s&&function rq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Xa(t){return function z0(){if(void 0===sp&&(sp=null,Oe.trustedTypes))try{sp=Oe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sp}()?.createHTML(t)||t}function Ja(){if(void 0!==U0)return U0;if(typeof document<"u")return document;throw new T(210,!1)}function ZS(t){return function B0(){if(void 0===op&&(op=null,Oe.trustedTypes))try{op=Oe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return op}()?.createHTML(t)||t}class wo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${e5})`}}class cq extends wo{getTypeName(){return"HTML"}}class uq extends wo{getTypeName(){return"Style"}}class lq extends wo{getTypeName(){return"Script"}}class dq extends wo{getTypeName(){return"URL"}}class fq extends wo{getTypeName(){return"ResourceURL"}}function sr(t){return t instanceof wo?t.changingThisBreaksApplicationSecurity:t}function ni(t,e){const n=function hq(t){return t instanceof wo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${e5})`)}return n===e}class _q{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Xa(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class wq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Xa(e),n}}const Cq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ap(t){return(t=String(t)).match(Cq)?t:"unsafe:"+t}function Ri(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function pl(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const rD=Ri("area,br,col,hr,img,wbr"),iD=Ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sD=Ri("rp,rt"),j0=pl(rD,pl(iD,Ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pl(sD,Ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pl(sD,iD)),$0=Ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oD=pl($0,Ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Iq=Ri("script,style,template");class Eq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!j0.hasOwnProperty(n))return this.sanitizedSomething=!0,!Iq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!oD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;$0[a]&&(c=ap(c)),this.buf.push(" ",o,'="',aD(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();j0.hasOwnProperty(n)&&!rD.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(aD(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Sq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dq=/([^\#-~ |!])/g;function aD(t){return t.replace(/&/g,"&amp;").replace(Sq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Dq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cp;function cD(t,e){let n=null;try{cp=cp||function nD(t){const e=new wq(t);return function bq(){try{return!!(new window.DOMParser).parseFromString(Xa(""),"text/html")}catch{return!1}}()?new _q(e):e}(t);let r=e?String(e):"";n=cp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=cp.getInertBodyElement(r)}while(r!==s);return Xa((new Eq).sanitizeChildren(G0(n)||n))}finally{if(n){const r=G0(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function G0(t){return"content"in t&&function Tq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vr||{});function uD(t){const e=gl();return e?ZS(e.sanitize(vr.HTML,t)||""):ni(t,"HTML")?ZS(sr(t)):cD(Ja(),ne(t))}function q0(t){const e=gl();return e?e.sanitize(vr.URL,t)||"":ni(t,"URL")?sr(t):ap(ne(t))}function gl(){const t=I();return t&&t[Pa].sanitizer}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ml=new B("ENVIRONMENT_INITIALIZER"),fD=new B("INJECTOR",-1),hD=new B("INJECTOR_DEF_TYPES");class W0{get(e,n=Wu){if(n===Wu){const r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Pq(...t){return{\u0275providers:gD(0,t),\u0275fromNgModule:!0}}function gD(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return qa(e,o=>{const a=o;up(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&mD(i,s),n}function mD(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];K0(i,s=>{e(s,r)})}}function up(t,e,n,r){if(!(t=Z(t)))return!1;let i=null,s=bh(t);const o=!s&&pe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=bh(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)up(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{qa(s.imports,l=>{up(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&mD(u,e)}if(!a){const u=mo(i)||(()=>new i);e({provide:i,useFactory:u,deps:we},i),e({provide:hD,useValue:i,multi:!0},i),e({provide:ml,useValue:()=>W(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=t;K0(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function K0(t,e){for(let n of t)H2(n)&&(n=n.\u0275providers),Array.isArray(n)?K0(n,e):e(n)}const Oq=Te({provide:String,useValue:Te});function Y0(t){return null!==t&&"object"==typeof t&&Oq in t}function bo(t){return"function"==typeof t}const Q0=new B("Set Injector scope."),lp={},Fq={};let X0;function dp(){return void 0===X0&&(X0=new W0),X0}class Pr{}class fp extends Pr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Z0(e,o=>this.processProvider(o)),this.records.set(fD,Za(void 0,this)),i.has("environment")&&this.records.set(Pr,Za(void 0,this));const s=this.records.get(Q0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(hD.multi,we,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=vs(this),r=Vn(void 0);try{return e()}finally{vs(n),Vn(r)}}get(e,n=Wu,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(u5))return e[u5](this);r=Eh(r);const s=vs(this),o=Vn(void 0);try{if(!(r&ue.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function Uq(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&wh(e);c=u&&this.injectableDefInScope(u)?Za(J0(e),lp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ue.Self?dp():this.parent).get(e,n=r&ue.Optional&&n===Wu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ih]=a[Ih]||[]).unshift(kt(e)),s)throw a;return function Pj(t,e,n,r){const i=t[Ih];throw e[o5]&&i.unshift(e[o5]),t.message=function Oj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):kt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Aj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ih]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Vn(o),vs(s)}}resolveInjectorInitializers(){const e=vs(this),n=Vn(void 0);try{const i=this.get(ml.multi,we,ue.Self);for(const s of i)s()}finally{vs(e),Vn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=bo(e=Z(e))?e:Z(e&&e.provide);const r=function Vq(t){return Y0(t)?Za(void 0,t.useValue):Za(_D(t),lp)}(e);if(bo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Za(void 0,lp,!0),i.factory=()=>K2(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===lp&&(n.value=Fq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function zq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function J0(t){const e=wh(t),n=null!==e?e.factory:mo(t);if(null!==n)return n;if(t instanceof B)throw new T(204,!1);if(t instanceof Function)return function Lq(t){const e=t.length;if(e>0)throw cl(e,"?"),new T(204,!1);const n=function Ej(t){return t&&(t[Ch]||t[n5])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function _D(t,e,n){let r;if(bo(t)){const i=Z(t);return mo(i)||J0(i)}if(Y0(t))r=()=>Z(t.useValue);else if(function vD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...K2(t.deps||[]));else if(function yD(t){return!(!t||!t.useExisting)}(t))r=()=>W(Z(t.useExisting));else{const i=Z(t&&(t.useClass||t.provide));if(!function Hq(t){return!!t.deps}(t))return mo(i)||J0(i);r=()=>new i(...K2(t.deps))}return r}function Za(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Z0(t,e){for(const n of t)Array.isArray(n)?Z0(n,e):n&&H2(n)?Z0(n.\u0275providers,e):e(n)}const hp=new B("AppId",{providedIn:"root",factory:()=>Bq}),Bq="ng",wD=new B("Platform Initializer"),Fi=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bD=new B("CSP nonce",{providedIn:"root",factory:()=>Ja().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ID=(t,e,n)=>null;function oy(t,e,n=!1){return ID(t,e,n)}class Jq{}class DD{}class eW{resolveComponentFactory(e){throw function Zq(t){const e=Error(`No component factory found for ${kt(t)}.`);return e.ngComponent=t,e}(e)}}let wl=(()=>{class e{}return e.NULL=new eW,e})();function tW(){return tc(tn(),I())}function tc(t,e){return new pn(Bn(t,e))}let pn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=tW,e})();class AD{}let ri=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function rW(){const t=I(),n=rr(tn().index,t);return(zn(n)?n:t)[re]}(),e})(),iW=(()=>{var t;class e{}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:()=>null}),e})();class nc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const MD=new nc("16.2.1"),uy={};function PD(t,e=null,n=null,r){const i=OD(t,e,n,r);return i.resolveInjectorInitializers(),i}function OD(t,e=null,n=null,r,i=new Set){const s=[n||we,Pq(t)];return r=r||("object"==typeof t?void 0:kt(t)),new fp(s,e||dp(),r||null,i)}let Ot=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return PD({name:""},i,r,"");{const s=r.name??"";return PD({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Wu,t.NULL=new W0,t.\u0275prov=U({token:t,providedIn:"any",factory:()=>W(fD)}),t.__NG_ELEMENT_ID__=-1,e})();function Li(t){return t instanceof Function?t():t}let fy=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new T(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:()=>new t}),e})();function bl(t){for(;t;){t[se]|=64;const e=dl(t);if(e0(t)&&!e)return t;t=e}return null}function hy(t){return t.ngOriginalError}class Co{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&hy(e);for(;n&&hy(n);)n=hy(n);return n||null}}const HD=new B("",{providedIn:"root",factory:()=>!1});class jD extends A5{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){bl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Bt(this);this.trackingVersion++;try{e(n,r)}finally{Bt(i)}}destroy(){this.trackingVersion++}}let wp=null;function $D(){return wp??=new jD,wp}function GD(t,e){return t[e]??$D()}function qD(t,e){const n=$D();n.hasReadASignal&&(t[e]=wp,n.lView=t,wp=new jD)}const oe={};function R(t){WD(ge(),I(),An()+t,!1)}function WD(t,e,n,r){if(!r)if(3==(3&e[se])){const s=t.preOrderCheckHooks;null!==s&&Vh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Hh(e,s,0,n)}yo(n)}function E(t,e=ue.Default){const n=I();return null===n?W(t,e):uS(tn(),n,Z(t),e)}function bp(t,e,n,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[mt]=i,d[se]=140|r,(null!==u||t&&2048&t[se])&&(d[se]|=2048),V5(d),d[Xe]=d[Oa]=t,d[yt]=n,d[Pa]=o||t&&t[Pa],d[re]=a||t&&t[re],d[_s]=c||t&&t[_s]||null,d[fn]=s,d[el]=function kG(){return NG++}(),d[ki]=l,d[C5]=u,d[vt]=2==e.type?t[vt]:d,d}function sc(t,e,n,r,i){let s=t.data[e];if(null===s)s=function py(t,e,n,r,i){const s=$5(),o=a0(),c=t.data[e]=function AW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Va()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function N$(){return J.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function nl(){const t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ei(s,!0),s}function Cl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KD(t,e,n,r,i){const s=GD(e,Ah),o=An(),a=2&r;try{if(yo(-1),a&&e.length>le&&WD(t,e,le,!1),Zr(a?2:0,i),a)s.runInContext(n,r,i);else{const u=Bt(null);try{n(r,i)}finally{Bt(u)}}}finally{a&&null===e[Ah]&&qD(e,Ah),yo(o),Zr(a?3:1,i)}}function gy(t,e,n){if(Z2(e)){const r=Bt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Bt(r)}}}function my(t,e,n){j5()&&(function RW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;go(n)&&function BW(t,e,n){const r=Bn(e,t),i=YD(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Cp(t,bp(t,i,null,o,r,e,null,t[Pa].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Uh(n,e),hn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],u=vo(e,t,a,n);hn(u,e),null!==o&&jW(0,a-i,u,c,0,o),xr(c)&&(rr(n.index,e)[yt]=vo(e,t,a,n))}}(t,e,n,Bn(n,e)),64==(64&n.flags)&&eT(t,e,n))}function yy(t,e,n=Bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function YD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vy(t,e,n,r,i,s,o,a,c,u,l){const d=le+r,f=d+i,h=function CW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oe);return n}(d,f),p="function"==typeof u?u():u;return h[V]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let QD=t=>null;function XD(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?JD(n,e,i,s):r.hasOwnProperty(i)&&JD(n,e,r[i],s)}return n}function JD(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function or(t,e,n,r,i,s,o,a){const c=Bn(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(Iy(t,n,l,r,i),go(e)&&function NW(t,e){const n=rr(e,t);16&n[se]||(n[se]|=64)}(n,e.index)):3&e.type&&(r=function xW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function _y(t,e,n,r){if(j5()){const i=null===r?null:{"":-1},s=function LW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(m5(e,o.selectors,!1))if(r||(r=[]),xr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),wy(t,e,a.length)}else r.unshift(o),wy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&ZD(t,e,n,o,i,a),i&&function VW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Qu(n.mergedAttrs,n.attrs)}function ZD(t,e,n,r,i,s){for(let u=0;u<r.length;u++)_0(Uh(n,e),t,r[u].type);!function zW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=Cl(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Qu(n.mergedAttrs,l.hostAttrs),UW(t,n,e,c,l),HW(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function MW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],f=n?n.get(d):null,p=f?f.outputs:null;c=XD(d.inputs,l,c,f?f.inputs:null),u=XD(d.outputs,l,u,p);const m=null===c||null===o||g5(e)?null:$W(c,l,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,s)}function eT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function P$(){return J.lFrame.currentDirectiveIndex}();try{yo(s);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];u0(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FW(c,u)}}finally{yo(-1),u0(o)}}function FW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function wy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function HW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xr(e)&&(n[""]=t)}}function UW(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=mo(i.type)),o=new rl(s,xr(i),E);t.blueprint[r]=o,n[r]=o,function PW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function OW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Cl(t,n,i.hostVars,oe),i)}function ii(t,e,n,r,i,s){const o=Bn(t,e);!function by(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ne(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[re],o,s,t.value,n,r,i)}function jW(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)tT(r,n,o[a++],o[a++],o[a++])}function tT(t,e,n,r,i){const s=Bt(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Bt(s)}}function $W(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function rT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];d0(n[r]),o.contentQueries(2,e[s],s)}}}function Cp(t,e){return t[Ju]?t[b5][Mr]=e:t[Ju]=e,t[b5]=e,e}function Cy(t,e,n){d0(0);const r=Bt(null);try{e(t,n)}finally{Bt(r)}}function aT(t,e){const n=t[_s],r=n?n.get(Co,null):null;r&&r.handleError(e)}function Iy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];tT(t.data[o],e[o],r,a,i)}}function GW(t,e){const n=rr(e,t),r=n[V];!function qW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[mt];null!==i&&null===n[ki]&&(n[ki]=oy(i,n[_s])),Ey(r,n,n[yt])}function Ey(t,e,n){f0(e);try{const r=t.viewQuery;null!==r&&Cy(1,r,n);const i=t.template;null!==i&&KD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rT(t,e),t.staticViewQueries&&Cy(2,t.viewQuery,n);const s=t.components;null!==s&&function WW(t,e){for(let n=0;n<e.length;n++)GW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,h0()}}let cT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=new u$(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let c;this.all.add(a),a.notify();const u=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:()=>new t}),e})();function Ip(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=L2(i,a):2==s&&(r=L2(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Il(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Le(s)),Un(s)){for(let a=en;a<s.length;a++){const c=s[a],u=c[V].firstChild;null!==u&&Il(c[V],c,u,r)}s[Xr]!==s[mt]&&r.push(s[Xr])}const o=n.type;if(8&o)Il(t,e,n.child,r);else if(32&o){const a=k0(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=KS(e,n);if(Array.isArray(a))r.push(...a);else{const c=dl(e[vt]);Il(c[V],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ep(t,e,n,r=!0){const i=e[Pa],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{uT(t,e,t.template,n)}catch(c){throw r&&aT(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function uT(t,e,n,r){const i=e[se];if(256!=(256&i)){e[Pa].effectManager?.flush(),f0(e);try{V5(e),function q5(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&KD(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Vh(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Hh(e,u,0,null),p0(e,0)}if(function QW(t){for(let e=FS(t);null!==e;e=LS(e)){if(!e[I5])continue;const n=e[Fa];for(let r=0;r<n.length;r++){w$(n[r])}}}(e),lT(e,2),null!==t.contentQueries&&rT(t,e),o){const u=t.contentCheckHooks;null!==u&&Vh(e,u)}else{const u=t.contentHooks;null!==u&&Hh(e,u,1),p0(e,1)}!function bW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=GD(e,Mh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)yo(~s);else{const o=s,a=n[++i],c=n[++i];k$(a,o),r.runInContext(c,2,e[o])}}}finally{null===e[Mh]&&qD(e,Mh),yo(-1)}}(t,e);const a=t.components;null!==a&&fT(e,a,0);const c=t.viewQuery;if(null!==c&&Cy(2,c,r),o){const u=t.viewCheckHooks;null!==u&&Vh(e,u)}else{const u=t.viewHooks;null!==u&&Hh(e,u,2),p0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[se]&=-73,H5(e)}finally{h0()}}}function lT(t,e){for(let n=FS(t);null!==n;n=LS(n))for(let r=en;r<n.length;r++)dT(n[r],e)}function XW(t,e,n){dT(rr(e,t),n)}function dT(t,e){if(!function v$(t){return 128==(128&t[se])}(t))return;const n=t[V];if(80&t[se]&&0===e||1024&t[se]||2===e)uT(n,t,n.template,t[yt]);else if(t[Xu]>0){lT(t,1);const i=t[V].components;null!==i&&fT(t,i,1)}}function fT(t,e,n){for(let r=0;r<e.length;r++)XW(t,e[r],n)}class El{get rootNodes(){const e=this._lView,n=e[V];return Il(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yt]}set context(e){this._lView[yt]=e}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Xe];if(Un(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(tp(e,r),Gh(n,r))}this._attachedToViewContainer=!1}O0(this._lView[V],this._lView)}onDestroy(e){!function U5(t,e){if(256==(256&t[se]))throw new T(911,!1);null===t[ws]&&(t[ws]=[]),t[ws].push(e)}(this._lView,e)}markForCheck(){bl(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){Ep(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qG(t,e){hl(t,e,e[re],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class JW extends El{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ep(e[V],e,e[yt],!1)}checkNoChanges(){}get context(){return null}}class hT extends wl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pe(e);return new Sl(n,this.ngModule)}}function pT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class eK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Eh(r);const i=this.injector.get(e,uy,r);return i!==uy||n===uy?i:this.parentInjector.get(e,n,r)}}class Sl extends DD{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=pT(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return pT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function $j(t){return t.map(jj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Pr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new eK(e,s):e,a=o.get(AD,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:o.get(iW,null),effectManager:o.get(cT,null),afterRenderEventManager:o.get(fy,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function IW(t,e,n,r){const s=r.get(HD,!1)||n===Tr.ShadowDom,o=t.selectRootElement(e,s);return function EW(t){QD(t)}(o),o}(f,r,this.componentDef.encapsulation,o):ep(f,h,function ZW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=oy(p,o,!0));const C=vy(0,null,null,1,0,null,null,null,null,null,null),N=bp(null,C,null,_,null,null,d,f,o,null,v);let L,K;f0(N);try{const he=this.componentDef;let Nt,zt=null;he.findHostDirectiveDefs?(Nt=[],zt=new Map,he.findHostDirectiveDefs(he,Nt,zt),Nt.push(he)):Nt=[he];const uh=function nK(t,e){const n=t[V],r=le;return t[r]=e,sc(n,r,2,"#host",null)}(N,p),g3e=function rK(t,e,n,r,i,s,o){const a=i[V];!function iK(t,e,n,r){for(const i of t)e.mergedAttrs=Qu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ip(e,e.mergedAttrs,!0),null!==n&&JS(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=oy(e,i[_s]));const u=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=bp(i,YD(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&wy(a,t,r.length-1),Cp(i,d),i[t.index]=d}(uh,p,he,Nt,N,d,f);K=L5(C,le),p&&function oK(t,e,n,r){if(r)X2(t,n,["ng-version",MD.full]);else{const{attrs:i,classes:s}=function Gj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ar(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&X2(t,n,i),s&&s.length>0&&XS(t,n,s.join(" "))}}(f,he,p,r),void 0!==n&&function aK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(K,this.ngContentSelectors,n),L=function sK(t,e,n,r,i,s){const o=tn(),a=i[V],c=Bn(o,i);ZD(a,i,o,n,null,r);for(let l=0;l<n.length;l++)hn(vo(i,a,o.directiveStart+l,o),i);eT(a,i,o),c&&hn(c,i);const u=vo(i,a,o.directiveStart+o.componentOffset,o);if(t[yt]=i[yt]=u,null!==s)for(const l of s)l(u,e);return gy(a,o,t),u}(g3e,he,Nt,zt,N,[cK]),Ey(C,N,null)}finally{h0()}return new tK(this.componentType,L,tc(K,N),N,K)}}class tK extends Jq{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new JW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Iy(s[V],s,i,e,n),this.previousInputValues.set(e,n),bl(rr(this._tNode.index,s))}}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function cK(){const t=tn();Lh(I()[V],t)}function Ae(t){let e=function gT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(xr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Sp(t.inputs),o.inputTransforms=Sp(t.inputTransforms),o.declaredInputs=Sp(t.declaredInputs),o.outputs=Sp(t.outputs);const a=i.hostBindings;a&&fK(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&lK(t,c),u&&dK(t,u),vh(t.inputs,i.inputs),vh(t.declaredInputs,i.declaredInputs),vh(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),vh(o.inputTransforms,i.inputTransforms)),xr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ae&&(n=!1)}}e=Object.getPrototypeOf(e)}!function uK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qu(i.hostAttrs,n=Qu(n,i.hostAttrs))}}(r)}function Sp(t){return t===Yr?{}:t===we?[]:t}function lK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function dK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function fK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Dp(t){return!!Sy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Sy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function si(t,e,n){return t[e]=n}function gn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Io(t,e,n,r){const i=gn(t,e,n);return gn(t,e+1,r)||i}function Or(t,e,n,r){const i=I();return gn(i,Ha(),e)&&(ge(),ii(nt(),i,t,e,n,r)),Or}function ac(t,e,n,r){return gn(t,Ha(),n)?e+ne(n)+r:oe}function _t(t,e,n,r,i,s,o,a){const c=I(),u=ge(),l=t+le,d=u.firstCreatePass?function LK(t,e,n,r,i,s,o,a,c){const u=e.consts,l=sc(e,t,4,o||null,bs(u,a));_y(e,n,l,bs(u,c)),Lh(e,l);const d=l.tView=vy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];ei(d,!1);const f=kT(u,c,d,t);Fh()&&rp(u,c,f,d),hn(f,c),Cp(c,c[l]=nT(f,c,f,d)),Nh(d)&&my(u,c,d),null!=o&&yy(c,d,a)}let kT=function PT(t,e,n,r){return Cs(!0),e[re].createComment("")};function Ny(t){return La(function x$(){return J.lFrame.contextLView}(),le+t)}function Q(t,e,n){const r=I();return gn(r,Ha(),e)&&or(ge(),nt(),r,t,e,r[re],n,!1),Q}function ky(t,e,n,r,i){const o=i?"class":"style";Iy(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=I(),s=ge(),o=le+t,a=i[re],c=s.firstCreatePass?function UK(t,e,n,r,i,s){const o=e.consts,c=sc(e,t,2,r,bs(o,i));return _y(e,n,c,bs(o,s)),null!==c.attrs&&Ip(c,c.attrs,!1),null!==c.mergedAttrs&&Ip(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],u=OT(s,i,c,a,e,t);i[o]=u;const l=Nh(c);return ei(c,!0),JS(a,u,c),32!=(32&c.flags)&&Fh()&&rp(s,i,u,c),0===function C$(){return J.lFrame.elementDepthCount}()&&hn(u,i),function I$(){J.lFrame.elementDepthCount++}(),l&&(my(s,i,c),gy(s,c,i)),null!==r&&yy(i,c),M}function k(){let t=tn();a0()?c0():(t=t.parent,ei(t,!1));const e=t;(function S$(t){return J.skipHydrationRootTNode===t})(e)&&function M$(){J.skipHydrationRootTNode=null}(),function E$(){J.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(Lh(n,t),Z2(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function $$(t){return 0!=(8&t.flags)}(e)&&ky(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function G$(t){return 0!=(16&t.flags)}(e)&&ky(n,e,I(),e.stylesWithoutHost,!1),k}function Ce(t,e,n,r){return M(t,e,n,r),k(),Ce}let OT=(t,e,n,r,i,s)=>(Cs(!0),ep(r,i,function eS(){return J.lFrame.currentNamespace}()));function Np(t,e,n){const r=I(),i=ge(),s=t+le,o=i.firstCreatePass?function $K(t,e,n,r,i){const s=e.consts,o=bs(s,r),a=sc(e,t,8,"ng-container",o);return null!==o&&Ip(a,o,!0),_y(e,n,a,bs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];ei(o,!0);const a=FT(i,r,o,t);return r[s]=a,Fh()&&rp(i,r,a,o),hn(a,r),Nh(o)&&(my(i,r,o),gy(i,o,r)),null!=n&&yy(r,o),Np}function kp(){let t=tn();const e=ge();return a0()?c0():(t=t.parent,ei(t,!1)),e.firstCreatePass&&(Lh(e,t),Z2(t)&&e.queries.elementEnd(t)),kp}let FT=(t,e,n,r)=>(Cs(!0),P0(e[re],""));function Eo(){return I()}function xl(t){return!!t&&"function"==typeof t.then}function LT(t){return!!t&&"function"==typeof t.subscribe}function Je(t,e,n,r){const i=I(),s=ge(),o=tn();return function HT(t,e,n,r,i,s,o){const a=Nh(r),u=t.firstCreatePass&&function sT(t){return t.cleanup||(t.cleanup=[])}(t),l=e[yt],d=function iT(t){return t[ka]||(t[ka]=[])}(e);let f=!0;if(3&r.type||o){const m=Bn(r,e),y=o?o(m):m,_=d.length,v=o?N=>o(Le(N[r.index])):r.index;let C=null;if(!o&&a&&(C=function WK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ka],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=UT(r,e,l,s,!1);const N=n.listen(y,i,s);d.push(s,N),u&&u.push(i,v,_,_+1)}}else s=UT(r,e,l,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const L=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,L),u&&u.push(i,r.index,K,-(K+1))}}}(s,i,i[re],o,t,e,r),Je}function zT(t,e,n,r){try{return Zr(6,e,n),!1!==n(r)}catch(i){return aT(t,i),!1}finally{Zr(7,e,n)}}function UT(t,e,n,r,i){return function s(o){if(o===Function)return r;bl(t.componentOffset>-1?rr(t.index,e):e);let c=zT(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=zT(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function rt(t=1){return function R$(t){return(J.lFrame.contextLView=function F$(t,e){for(;t>0;)e=e[Oa],t--;return e}(t,J.lFrame.contextLView))[yt]}(t)}function KK(t,e){let n=null;const r=function Hj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?m5(t,s,!0):Bj(r,s))return i}else n=i}return n}function Nl(t,e,n){return Py(t,"",e,"",n),Nl}function Py(t,e,n,r,i){const s=I(),o=ac(s,e,n,r);return o!==oe&&or(ge(),nt(),s,t,o,s[re],i,!1),Py}function Pp(t,e){return t<<17|e<<2}function Es(t){return t>>17&32767}function Oy(t){return 2|t}function So(t){return(131068&t)>>2}function Ry(t,e){return-131069&t|e<<2}function Fy(t){return 1|t}function JT(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Es(s):So(s),c=!1;for(;0!==a&&(!1===c||o);){const l=t[a+1];eY(t[a],e)&&(c=!0,t[a+1]=r?Fy(l):Oy(l)),a=r?Es(l):So(l)}c&&(t[n+1]=r?Oy(s):Fy(s))}function eY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Wa(t,e)>=0}function kl(t,e){return function Rr(t,e,n,r){const i=I(),s=ge(),o=function Oi(t){const e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function a7(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[An()],o=function o7(t,e){return e>=t.expandoStartIndex}(t,n);(function d7(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function uY(t,e,n,r){const i=function l0(t){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Pl(n=Ly(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ly(i,t,e,n,r),null===s){let c=function lY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==So(r))return t[Es(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Ly(null,t,e,c[1],r),c=Pl(c,e.attrs,r),function dY(t,e,n,r){t[Es(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function fY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Pl(r,t[s].hostAttrs,n);return Pl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function JK(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Es(o),c=So(o);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||Wa(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const f=Es(t[a+1]);t[r+1]=Pp(f,a),0!==f&&(t[f+1]=Ry(t[f+1],r)),t[a+1]=function QK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Pp(a,0),0!==a&&(t[a+1]=Ry(t[a+1],r)),a=r;else t[r+1]=Pp(c,0),0===a?a=r:t[c+1]=Ry(t[c+1],r),c=r;u&&(t[r+1]=Oy(t[r+1])),JT(t,l,r,!0),JT(t,l,r,!1),function ZK(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Wa(s,e)>=0&&(n[r+1]=Fy(n[r+1]))}(e,l,t,r,s),o=Pp(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==oe&&gn(i,o,e)&&function u7(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function XK(t){return 1==(1&t)}(u)?l7(c,e,n,i,So(u),o):void 0;Op(l)||(Op(s)||function YK(t){return 2==(2&t)}(u)&&(s=l7(c,null,n,i,a,o)),function nq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Is.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Is.Important),t.setStyle(n,r,i,s))}}(r,o,Rh(An(),n),i,s))}(s,s.data[An()],i,i[re],t,i[o+1]=function mY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=kt(sr(t)))),t}(e,n),r,o)}(t,e,null,!0),kl}function Ly(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Pl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Pl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ir(t,o,!!n||e[++s]))}return void 0===t?null:t}function l7(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let f=n[i+1];f===oe&&(f=d?we:void 0);let h=d?C0(f,r):l===r?f:void 0;if(u&&!Op(h)&&(h=C0(c,r)),Op(h)&&(a=h,o))return a;const p=t[i+1];i=o?Es(p):So(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=C0(c,r))}return a}function Op(t){return void 0!==t}function G(t,e=""){const n=I(),r=ge(),i=t+le,s=r.firstCreatePass?sc(r,i,1,e,null):r.data[i],o=f7(r,n,s,e,t);n[i]=o,Fh()&&rp(r,n,o,s),ei(s,!1)}let f7=(t,e,n,r,i)=>(Cs(!0),function Zh(t,e){return t.createText(e)}(e[re],r));function Ve(t){return mc("",t,""),Ve}function mc(t,e,n){const r=I(),i=ac(r,t,e,n);return i!==oe&&function Vi(t,e,n){const r=Rh(e,t);!function HS(t,e,n){t.setValue(e,n)}(t[re],r,n)}(r,An(),i),mc}function Vy(t,e,n){const r=I();return gn(r,Ha(),e)&&or(ge(),nt(),r,t,e,r[re],n,!0),Vy}const Do=void 0;var VY=["en",[["a","p"],["AM","PM"],Do],[["AM","PM"],Do,Do],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Do,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Do,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Do,"{1} 'at' {0}",Do],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let yc={};function xn(t){const e=function HY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=k7(e);if(n)return n;const r=e.split("-")[0];if(n=k7(r),n)return n;if("en"===r)return VY;throw new T(701,!1)}function k7(t){return t in yc||(yc[t]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[t]),yc[t]}var He=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(He||{});const vc="en-US";let P7=vc;function Uy(t,e,n,r,i){if(t=Z(t),Array.isArray(t))for(let s=0;s<t.length;s++)Uy(t[s],e,n,r,i);else{const s=ge(),o=I(),a=tn();let c=bo(t)?t:Z(t.provide);const u=_D(t),l=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(bo(t)||!t.multi){const h=new rl(u,i,E),p=jy(c,e,i?l:l+f,d);-1===p?(_0(Uh(a,o),s,c),By(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=jy(c,e,l+f,d),p=jy(c,e,l,l+f),y=p>=0&&n[p];if(i&&!y||!i&&!(h>=0&&n[h])){_0(Uh(a,o),s,c);const _=function LQ(t,e,n,r,i){const s=new rl(t,n,E);return s.multi=[],s.index=e,s.componentProviders=0,iA(s,i,r&&!n),s}(i?FQ:RQ,n.length,i,r,u);!i&&y&&(n[p].providerFactory=_),By(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else By(s,t,h>-1?h:p,iA(n[i?p:h],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function By(t,e,n,r){const i=bo(e),s=function Rq(t){return!!t.useClass}(e);if(i||s){const c=(s?Z(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function iA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function jy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function RQ(t,e,n,r){return $y(this.multi,[])}function FQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=vo(n,n[V],this.providerFactory.index,r);s=a.slice(0,o),$y(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],$y(i,s);return s}function $y(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ze(t,e=[]){return n=>{n.providersResolver=(r,i)=>function OQ(t,e,n){const r=ge();if(r.firstCreatePass){const i=xr(t);Uy(n,r.data,r.blueprint,i,!0),Uy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class To{}class sA{}class Gy extends To{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hT(this);const i=nr(e);this._bootstrapComponents=Li(i.bootstrap),this._r3Injector=OD(e,n,[{provide:To,useValue:this},{provide:wl,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qy extends sA{constructor(e){super(),this.moduleType=e}create(e){return new Gy(this.moduleType,e,[])}}class oA extends To{constructor(e){super(),this.componentFactoryResolver=new hT(this),this.instance=null;const n=new fp([...e.providers,{provide:To,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],e.parent||dp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function aA(t,e,n=null){return new oA({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let zQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=gD(0,r.type),s=i.length>0?aA([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(W(Pr))}),e})();function cA(t){t.getStandaloneInjector=e=>e.get(zQ).getOrCreateStandaloneInjector(t)}function _c(t,e,n){const r=Tn()+t,i=I();return i[r]===oe?si(i,r,n?e.call(n):e()):function Dl(t,e){return t[e]}(i,r)}function Gn(t,e,n,r){return mA(I(),Tn(),t,e,n,r)}function gA(t,e,n,r,i){return function yA(t,e,n,r,i,s,o){const a=e+n;return Io(t,a,i,s)?si(t,a+2,o?r.call(o,i,s):r(i,s)):Hl(t,a+2)}(I(),Tn(),t,e,n,r,i)}function Hl(t,e){const n=t[e];return n===oe?void 0:n}function mA(t,e,n,r,i,s){const o=e+n;return gn(t,o,i)?si(t,o+1,s?r.call(s,i):r(i)):Hl(t,o+1)}function vA(t,e,n,r,i,s,o,a){const c=e+n;return function Tp(t,e,n,r,i){const s=Io(t,e,n,r);return gn(t,e+2,i)||s}(t,c,i,s,o)?si(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):Hl(t,c+3)}function Pe(t,e){const n=ge();let r;const i=t+le;n.firstCreatePass?(r=function nX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=mo(r.type)),a=Vn(E);try{const c=zh(!1),u=s();return zh(c),function zK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,I(),i,u),u}finally{Vn(a)}}function wt(t,e,n){const r=t+le,i=I(),s=La(i,r);return zl(i,r)?mA(i,Tn(),e,s.transform,n,s):s.transform(n)}function Ss(t,e,n,r,i){const s=t+le,o=I(),a=La(o,s);return zl(o,s)?vA(o,Tn(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function zl(t,e){return t[V].data[e].pure}function Ky(t){return e=>{setTimeout(t,void 0,e)}}const it=class oX extends Wr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Ky(s),i&&(i=Ky(i)),o&&(o=Ky(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Zn&&e.add(a),a}};function uX(t,e,n,r=!0){const i=e[V];if(function KG(t,e,n,r){const i=en+r,s=n.length;r>0&&(n[i-1][Mr]=e),r<s-en?(e[Mr]=n[i],gS(n,en+r,e)):(n.push(e),e[Mr]=null),e[Xe]=n;const o=e[Zu];null!==o&&n!==o&&function YG(t,e){const n=t[Fa];e[vt]!==e[Xe][Xe][vt]&&(t[I5]=!0),null===n?t[Fa]=[e]:n.push(e)}(o,e);const a=e[Qr];null!==a&&a.insertView(t),e[se]|=128}(i,e,t,n),r){const s=V0(n,t),o=e[re],a=np(o,t[Xr]);null!==a&&function GG(t,e,n,r,i,s){r[mt]=i,r[fn]=e,hl(t,r,n,1,i,s)}(i,t[fn],o,e,a,s)}}let Hi=(()=>{class e{}return e.__NG_ELEMENT_ID__=fX,e})();const lX=Hi,dX=class extends lX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function cX(t,e,n,r){const i=e.tView,a=bp(t,i,n,4096&t[se]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Zu]=t[e.index];const u=t[Qr];return null!==u&&(a[Qr]=u.createEmbeddedView(i)),Ey(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new El(i)}};function fX(){return function Hp(t,e){return 4&t.type?new dX(e,t,tc(t,e)):null}(tn(),I())}let Lr=(()=>{class e{}return e.__NG_ELEMENT_ID__=vX,e})();function vX(){return function TA(t,e){let n;const r=e[t.index];return Un(r)?n=r:(n=nT(r,e,null,t),e[t.index]=n,Cp(e,n)),AA(n,e,t,r),new SA(n,t,e)}(tn(),I())}const _X=Lr,SA=class extends _X{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return tc(this._hostTNode,this._hostLView)}get injector(){return new Mn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bh(this._hostTNode,this._hostLView);if(m0(e)){const n=sl(e,this._hostLView),r=il(e);return new Mn(n[V].data[r+8],n)}return new Mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=DA(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-en}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function al(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const c=o?e:new Sl(pe(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const y=(o?u:this.parentInjector).get(Pr,null);y&&(s=y)}pe(c.componentType??{});const h=c.create(u,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function _$(t){return Un(t[Xe])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[Xe],l=new SA(u,u[fn],u[Xe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return uX(a,i,o,!r),e.attachToViewContainerRef(),gS(Qy(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=DA(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=tp(this._lContainer,n);r&&(Gh(Qy(this._lContainer),n),O0(r[V],r))}detach(e){const n=this._adjustIndex(e,-1),r=tp(this._lContainer,n);return r&&null!=Gh(Qy(this._lContainer),n)?new El(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DA(t){return t[8]}function Qy(t){return t[8]||(t[8]=[])}let AA=function MA(t,e,n,r){if(t[Xr])return;let i;i=8&n.type?Le(r):function wX(t,e){const n=t[re],r=n.createComment(""),i=Bn(e,t);return _o(n,np(n,i),r,function ZG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Xr]=i};const eM=new B("Application Initializer");let av=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(eM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(xl(o))r.push(o);else if(LT(o)){const a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),tM=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const zi=new B("LocaleId",{providedIn:"root",factory:()=>D(zi,ue.Optional|ue.SkipSelf)||function XX(){return typeof $localize<"u"&&$localize.locale||vc}()});let nM=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gr(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class eJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let tJ=(()=>{var t;class e{compileModuleSync(r){return new qy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Li(nr(r).declarations).reduce((a,c)=>{const u=pe(c);return u&&a.push(new Sl(u)),a},[]);return new eJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function oM(...t){}class Ie{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function bJ(){const t="function"==typeof Oe.requestAnimationFrame;let e=Oe[t?"requestAnimationFrame":"setTimeout"],n=Oe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function EJ(t){const e=()=>{!function IJ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Oe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dv(t),t.isCheckStableRunning=!0,lv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return aM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),cM(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return aM(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),cM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,dv(t),lv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ie.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Ie.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,CJ,oM,oM);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const CJ={};function lv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function aM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cM(t){t._nesting--,lv(t)}class SJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const uM=new B("",{providedIn:"root",factory:lM});function lM(){const t=D(Ie);let e=!0;return function gj(...t){const e=qu(t),n=function cj(t,e){return"number"==typeof R2(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?er(r[0]):gh(n)(dn(r,e)):Kr}(new be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new be(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(JE()))}const dM=new B(""),jp=new B("");let pv,fv=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pv||(function DJ(t){pv=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Ie),W(hv),W(jp))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})(),hv=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return pv?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ds=null;const fM=new B("AllowMultipleToken"),gv=new B("PlatformDestroyListeners"),hM=new B("appBootstrapListener");function mM(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=mv();if(!o||o.injector.get(fM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function MJ(t){if(Ds&&!Ds.get(fM,!1))throw new T(400,!1);(function pM(){!function a$(t){M5=t}(()=>{throw new T(600,!1)})})(),Ds=t;const e=t.get(vM);(function gM(t){t.get(wD,null)?.forEach(n=>n())})(t)}(function yM(t=[],e){return Ot.create({name:e,providers:[{provide:Q0,useValue:"platform"},{provide:gv,useValue:new Set([()=>Ds=null])},...t]})}(a,r))}return function NJ(t){const e=mv();if(!e)throw new T(401,!1);return e}()}}function mv(){return Ds?.get(vM)??null}let vM=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function kJ(t="zone.js",e){return"noop"===t?new SJ:"zone.js"===t?new Ie(e):t}(i?.ngZone,function _M(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function HQ(t,e,n){return new Gy(t,e,n)}(r.moduleType,this.injector,function EM(t){return[{provide:Ie,useFactory:t},{provide:ml,multi:!0,useFactory:()=>{const e=D(OJ,{optional:!0});return()=>e.initialize()}},{provide:IM,useFactory:PJ},{provide:uM,useFactory:lM}]}(()=>s)),a=o.injector.get(Co,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{$p(this._modules,o),c.unsubscribe()})}),function wM(t,e,n){try{const r=n();return xl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(av);return c.runInitializers(),c.donePromise.then(()=>(function O7(t){mr(t,"Expected localeId to be defined"),"string"==typeof t&&(P7=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(zi,vc)||vc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=bM({},i);return function TJ(t,e,n){const r=new qy(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(jl);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new T(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(gv,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Ot))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function bM(t,e){return Array.isArray(e)?e.reduce(bM,t):{...t,...e}}let jl=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(IM),this.zoneIsStable=D(uM),this.componentTypes=[],this.components=[],this.isStable=D(nM).hasPendingTasks.pipe(Dr(r=>r?ee(!1):this.zoneIsStable),ZE(),JE()),this._injector=D(Pr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof DD;if(!this._injector.get(av).done)throw!s&&function Na(t){const e=pe(t)||Zt(t)||Sn(t);return null!==e&&e.standalone}(r),new T(405,!1);let a;a=s?r:this._injector.get(wl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function AJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(To),l=a.create(Ot.NULL,[],i||a.selector,c),d=l.location.nativeElement,f=l.injector.get(dM,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),$p(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;$p(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(hM,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>$p(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new T(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $p(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const IM=new B("",{providedIn:"root",factory:()=>D(Co).handleError.bind(void 0)});function PJ(){const t=D(Ie),e=D(Co);return n=>t.runOutsideAngular(()=>e.handleError(n))}let OJ=(()=>{var t;class e{constructor(){this.zone=D(Ie),this.applicationRef=D(jl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Ts=(()=>{class e{}return e.__NG_ELEMENT_ID__=LJ,e})();function LJ(t){return function VJ(t,e,n){if(go(t)&&!n){const r=rr(t.index,e);return new El(r,r)}return 47&t.type?new El(e[vt],e):null}(tn(),I(),16==(16&t))}class AM{constructor(){}supports(e){return Dp(e)}create(e){return new $J(e)}}const jJ=(t,e)=>e;class $J{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||jJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<xM(r,i,s)?n:r,a=xM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;l<=p&&p<u&&(s[f]=h+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Dp(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function _K(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new GJ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new MM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class GJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class MM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new qJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class NM{constructor(){}supports(e){return e instanceof Map||Sy(e)}create(){return new WJ}}class WJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Sy(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new KJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class KJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kM(){return new Wp([new AM])}let Wp=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||kM()),deps:[[e,new E0,new jt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new T(901,!1)}}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:kM}),e})();function PM(){return new $l([new NM])}let $l=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||PM()),deps:[[e,new E0,new jt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new T(901,!1)}}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:PM}),e})();const XJ=mM(null,"core",[]);let JJ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(W(jl))},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({}),e})();let Cv=null;function As(){return Cv}class dZ{}const ar=new B("DocumentToken");let UM=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return D(fZ)},providedIn:"platform"}),e})(),fZ=(()=>{var t;class e extends UM{constructor(){super(),this._doc=D(ar),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(r){const i=As().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=As().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function BM(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function jM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Mo(t){return t&&"?"!==t[0]?"?"+t:t}let Yp=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return D(pZ)},providedIn:"root"}),e})();const hZ=new B("appBaseHref");let pZ=(()=>{var t;class e extends Yp{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(ar).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return BM(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Mo(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Mo(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Mo(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(UM),W(hZ,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Iv=(()=>{var t;class e{constructor(r){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function yZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(jM($M(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Mo(i))}normalize(r){return e.stripTrailingSlash(function mZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,$M(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mo(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mo(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Mo,t.joinWithSlash=BM,t.stripTrailingSlash=jM,t.\u0275fac=function(r){return new(r||t)(W(Yp))},t.\u0275prov=U({token:t,factory:function(){return function gZ(){return new Iv(W(Yp))}()},providedIn:"root"}),e})();function $M(t){return t.replace(/\/index.html$/,"")}var Qp=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Qp||{}),bt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(bt||{});function wr(t,e){const n=xn(t),r=n[He.NumberSymbols][e];if(typeof r>"u"){if(e===bt.CurrencyDecimal)return n[He.NumberSymbols][bt.Decimal];if(e===bt.CurrencyGroup)return n[He.NumberSymbols][bt.Group]}return r}const $Z=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Nv(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Pv=/\s+/,ZM=[];let Ov=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=ZM,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Pv):ZM}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Pv):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(Pv).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Wp),E($l),E(pn),E(ri))},t.\u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class ree{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let og=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new ree(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),tx(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{tx(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Lr),E(Hi),E(Wp))},t.\u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function tx(t,e){t.context.$implicit=e.item}let Ms=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new iee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){nx("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){nx("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Lr),E(Hi))},t.\u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class iee{constructor(){this.$implicit=null,this.ngIf=null}}function nx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${kt(e)}'.`)}function Hr(t,e){return new T(2100,!1)}class aee{createSubscription(e,n){return x5(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){x5(()=>e.unsubscribe())}}class cee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const uee=new cee,lee=new aee;let Ec=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(xl(r))return uee;if(LT(r))return lee;throw Hr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Ts,16))},t.\u0275pipe=Ut({name:"async",type:t,pure:!1,standalone:!0}),e})(),ix=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=sx}transform(r,i=sx){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Iee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(E($l,16))},t.\u0275pipe=Ut({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function sx(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Sc=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function Lv(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function QZ(t,e,n){return function Mv(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let u=function JZ(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(u=function XZ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const v=s.match($Z);if(null===v)throw new Error(`${s} is not a valid digit info`);const C=v[1],N=v[3],L=v[5];null!=C&&(l=Nv(C)),null!=N&&(d=Nv(N)),null!=L?f=Nv(L):null!=N&&d>f&&(f=d)}!function ZZ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const u=e+t.integerLen,l=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=u?p.pop():c=!1),f>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(u,d,f);let h=u.digits,p=u.integerLen;const m=u.exponent;let y=[];for(c=h.every(v=>!v);p<l;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);const _=[];for(h.length>=e.lgSize&&_.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)_.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),a=_.join(wr(n,r)),y.length&&(a+=wr(n,i)+y.join("")),m&&(a+=wr(n,bt.Exponential)+"+"+m)}else a=wr(n,bt.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function xv(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const d=c.charAt(l);"0"===d?n.minFrac=n.maxFrac=l+1:"#"===d?n.maxFrac=l+1:n.posSuf+=d}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Ev(t,e){return xn(t)[He.NumberFormats][e]}(e,Qp.Decimal),wr(e,bt.MinusSign)),e,bt.Group,bt.Decimal,n)}(function Vv(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Hr()}}}return(t=e).\u0275fac=function(r){return new(r||t)(E(zi,16))},t.\u0275pipe=Ut({name:"number",type:t,pure:!0,standalone:!0}),e})();let Dee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({}),e})();const Tee="server";function Hv(t){return t===Tee}class ete extends dZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bv extends ete{static makeCurrent(){!function lZ(t){Cv||(Cv=t)}(new Bv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function tte(){return Kl=Kl||document.querySelector("base"),Kl?Kl.getAttribute("href"):null}();return null==n?null:function nte(t){ug=ug||document.createElement("a"),ug.setAttribute("href",t);const e=ug.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Kl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function tee(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ug,Kl=null,ite=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();const jv=new B("EventManagerPlugins");let dx=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(W(jv),W(Ie))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();class fx{constructor(e){this._doc=e}}const $v="ng-app-id";let hx=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hv(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${$v}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute($v),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute($v,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ar),W(hp),W(bD,8),W(Fi))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();const Gv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qv=/%COMP%/g,cte=new B("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gx(t,e){return e.map(n=>n.replace(qv,t))}let mx=(()=>{var t;class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Hv(c),this.defaultRenderer=new Wv(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Tr.ShadowDom&&(i={...i,encapsulation:Tr.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof vx?s.applyToHost(r):s instanceof Kv&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Tr.Emulated:o=new vx(u,l,i,this.appId,d,a,c,f);break;case Tr.ShadowDom:return new fte(u,l,r,i,a,c,this.nonce,f);default:o=new Kv(u,l,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(W(dx),W(hx),W(hp),W(cte),W(ar),W(Fi),W(Ie),W(bD))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();class Wv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Gv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Gv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Gv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Is.DashCase|Is.Important)?e.style.setProperty(n,r,i&Is.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Is.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=As().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function yx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class fte extends Wv{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=gx(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kv extends Wv{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?gx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vx extends Kv{constructor(e,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=function ute(t){return"_ngcontent-%COMP%".replace(qv,t)}(u),this.hostAttr=function lte(t){return"_nghost-%COMP%".replace(qv,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let hte=(()=>{var t;class e extends fx{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ar))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();const _x=["alt","control","meta","shift"],pte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mte=(()=>{var t;class e extends fx{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),_x.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=pte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),_x.forEach(a=>{a!==s&&(0,gte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ar))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();const bx=[{provide:Fi,useValue:"browser"},{provide:wD,useValue:function yte(){Bv.makeCurrent()},multi:!0},{provide:ar,useFactory:function _te(){return function aq(t){U0=t}(document),document},deps:[]}],wte=mM(XJ,"browser",bx),bte=new B(""),Cx=[{provide:jp,useClass:class rte{addToWindow(e){Oe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(r=>{const i=Oe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?As().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:dM,useClass:fv,deps:[Ie,hv,jp]},{provide:fv,useClass:fv,deps:[Ie,hv,jp]}],Ix=[{provide:Q0,useValue:"root"},{provide:Co,useFactory:function vte(){return new Co},deps:[]},{provide:jv,useClass:hte,multi:!0,deps:[ar,Ie,Fi]},{provide:jv,useClass:mte,multi:!0,deps:[ar]},mx,hx,dx,{provide:AD,useExisting:mx},{provide:class Nee{},useClass:ite,deps:[]},[]];let ci=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:hp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(W(bte,12))},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({providers:[...Ix,...Cx],imports:[Dee,JJ]}),e})(),Yv=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ar))},t.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function Ite(){return new Yv(W(ar))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let Dx=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new(r||t):W(Tx),i},providedIn:"root"}),e})(),Tx=(()=>{var t;class e extends Dx{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case vr.NONE:return i;case vr.HTML:return ni(i,"HTML")?sr(i):cD(this._doc,String(i)).toString();case vr.STYLE:return ni(i,"Style")?sr(i):i;case vr.SCRIPT:if(ni(i,"Script"))return sr(i);throw new T(5200,!1);case vr.URL:return ni(i,"URL")?sr(i):ap(String(i));case vr.RESOURCE_URL:if(ni(i,"ResourceURL"))return sr(i);throw new T(5201,!1);default:throw new T(5202,!1)}}bypassSecurityTrustHtml(r){return function pq(t){return new cq(t)}(r)}bypassSecurityTrustStyle(r){return function gq(t){return new uq(t)}(r)}bypassSecurityTrustScript(r){return function mq(t){return new lq(t)}(r)}bypassSecurityTrustUrl(r){return function yq(t){return new dq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function vq(t){return new fq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ar))},t.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function Tte(t){return new Tx(t.get(ar))}(W(Ot)),i},providedIn:"root"}),e})();function Mx(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){Mx(s,r,i,o,a,"next",c)}function a(c){Mx(s,r,i,o,a,"throw",c)}o(void 0)})}}const xx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let f=(15&a)<<2|u>>6,h=63&u;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new Nte;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lg=function(t){return function(t){const e=xx(t);return Jv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},dg=function(t){try{return Jv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fg=()=>{try{return kx().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Px=t=>{var e,n;return null===(n=null===(e=fg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Ox=()=>{var t;return null===(t=fg())||void 0===t?void 0:t.config},Rx=t=>{var e;return null===(e=fg())||void 0===e?void 0:e[`_${t}`]};class Dc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function $t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Zv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ns(){try{return"object"==typeof indexedDB}catch{return!1}}function Yl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function e_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}}class ui{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function $te(t,e){return t.replace(Gte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Cr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Gte=/\{\$([^}]+)}/g;function Ql(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Lx(s)&&Lx(o)){if(!Ql(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lx(t){return null!==t&&"object"==typeof t}function Xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Kte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Yte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=t_),void 0===i.error&&(i.error=t_),void 0===i.complete&&(i.complete=t_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t_(){}const Qte=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},Xte=1e3,Jte=2,Zte=144e5,ene=.5;function pg(t,e=Xte,n=Jte){const r=e*Math.pow(n,t),i=Math.round(ene*r*(Math.random()-.5)*2);return Math.min(Zte,r+i)}function st(t){return t&&t._delegate?t._delegate:t}class mn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xo="[DEFAULT]";class nne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ine(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===xo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class sne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const r_=[];var ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{});const Vx={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},one=ve.INFO,ane={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},cne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=ane[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Tc{constructor(e){this.name=e,this._logLevel=one,this._logHandler=cne,this._userLogHandler=null,r_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const une=(t,e)=>e.some(n=>t instanceof n);let Hx,zx;const Ux=new WeakMap,i_=new WeakMap,Bx=new WeakMap,s_=new WeakMap,o_=new WeakMap;let a_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return i_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Bx.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mne(t){return"function"==typeof t?function gne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dne(){return zx||(zx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(c_(this),e),ks(Ux.get(this))}:function(...e){return ks(t.apply(c_(this),e))}:function(e,...n){const r=t.call(c_(this),e,...n);return Bx.set(r,e.sort?e.sort():[e]),ks(r)}}(t):(t instanceof IDBTransaction&&function hne(t){if(i_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});i_.set(t,e)}(t),une(t,function lne(){return Hx||(Hx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,a_):t)}function ks(t){if(t instanceof IDBRequest)return function fne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ks(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ux.set(n,t)}).catch(()=>{}),o_.set(e,t),e}(t);if(s_.has(t))return s_.get(t);const e=mne(t);return e!==t&&(s_.set(t,e),o_.set(e,t)),e}const c_=t=>o_.get(t),vne=["get","getKey","getAll","getAllKeys","count"],_ne=["put","add","delete","clear"],u_=new Map;function jx(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(u_.get(e))return u_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_ne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vne.includes(n))return;const s=function(){var o=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return u_.set(e,s),s}!function pne(t){a_=t(a_)}(t=>({...t,get:(e,n,r)=>jx(e,n)||t.get(e,n,r),has:(e,n)=>!!jx(e,n)||t.has(e,n)}));class wne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function bne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const l_="@firebase/app",No=new Tc("@firebase/app"),gg="[DEFAULT]",Wne={[l_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ko=new Map,mg=new Map;function Kne(t,e){try{t.container.addComponent(e)}catch(n){No.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pn(t){const e=t.name;if(mg.has(e))return No.debug(`There were multiple attempts to register component ${e}.`),!1;mg.set(e,t);for(const n of ko.values())Kne(n,t);return!0}function li(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ji=new ui("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}const Po="9.23.0";function Gx(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:gg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=Ox()),!n)throw ji.create("no-options");const s=ko.get(i);if(s){if(Ql(n,s.options)&&Ql(r,s.config))return s;throw ji.create("duplicate-app",{appName:i})}const o=new sne(i);for(const c of mg.values())o.addComponent(c);const a=new Qne(n,r,o);return ko.set(i,a),a}function Ac(t=gg){const e=ko.get(t);if(!e&&t===gg&&Ox())return Gx();if(!e)throw ji.create("no-app",{appName:t});return e}function qx(){return Array.from(ko.values())}function Ue(t,e,n){var r;let i=null!==(r=Wne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void No.warn(a.join(" "))}Pn(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Xne="firebase-heartbeat-database",Jne=1,ed="firebase-heartbeat-store";let f_=null;function Wx(){return f_||(f_=function yne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ks(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ks(o.result),c.oldVersion,c.newVersion,ks(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(Xne,Jne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ed)}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),f_}function h_(){return(h_=g(function*(t){try{return yield(yield Wx()).transaction(ed).objectStore(ed).get(Yx(t))}catch(e){if(e instanceof Cr)No.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e?.message});No.warn(n.message)}}})).apply(this,arguments)}function Kx(t,e){return p_.apply(this,arguments)}function p_(){return(p_=g(function*(t,e){try{const r=(yield Wx()).transaction(ed,"readwrite");yield r.objectStore(ed).put(e,Yx(t)),yield r.done}catch(n){if(n instanceof Cr)No.warn(n.message);else{const r=ji.create("idb-set",{originalErrorMessage:n?.message});No.warn(r.message)}}})).apply(this,arguments)}function Yx(t){return`${t.name}!${t.options.appId}`}class nre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ire(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qx();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Qx(),{heartbeatsToSend:r,unsentEntries:i}=function rre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=lg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Qx(){return(new Date).toISOString().substring(0,10)}class ire{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ns()&&Yl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Zne(t){return h_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Kx(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Kx(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Xx(t){return lg(JSON.stringify({version:2,heartbeats:t})).length}!function sre(t){Pn(new mn("platform-logger",e=>new wne(e),"PRIVATE")),Pn(new mn("heartbeat",e=>new nre(e),"PRIVATE")),Ue(l_,"0.9.13",t),Ue(l_,"0.9.13","esm2017"),Ue("fire-js","")}(""),Ue("firebase","9.23.0","app");const cre=(t,e)=>e.some(n=>t instanceof n);let Jx,Zx;const e9=new WeakMap,g_=new WeakMap,t9=new WeakMap,m_=new WeakMap,y_=new WeakMap;let v_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return g_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||t9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gre(t){return"function"==typeof t?function pre(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lre(){return Zx||(Zx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(__(this),e),Ps(e9.get(this))}:function(...e){return Ps(t.apply(__(this),e))}:function(e,...n){const r=t.call(__(this),e,...n);return t9.set(r,e.sort?e.sort():[e]),Ps(r)}}(t):(t instanceof IDBTransaction&&function fre(t){if(g_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});g_.set(t,e)}(t),cre(t,function ure(){return Jx||(Jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,v_):t)}function Ps(t){if(t instanceof IDBRequest)return function dre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ps(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&e9.set(n,t)}).catch(()=>{}),y_.set(e,t),e}(t);if(m_.has(t))return m_.get(t);const e=gre(t);return e!==t&&(m_.set(t,e),y_.set(e,t)),e}const __=t=>y_.get(t),yre=["get","getKey","getAll","getAllKeys","count"],vre=["put","add","delete","clear"],w_=new Map;function n9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(w_.get(e))return w_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yre.includes(n))return;const s=function(){var o=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return w_.set(e,s),s}!function hre(t){v_=t(v_)}(t=>({...t,get:(e,n,r)=>n9(e,n)||t.get(e,n,r),has:(e,n)=>!!n9(e,n)||t.has(e,n)}));const r9="@firebase/installations",b_="0.6.4",i9=1e4,s9=`w:${b_}`,o9="FIS_v2",_re="https://firebaseinstallations.googleapis.com/v1",wre=36e5,$i=new ui("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function a9(t){return t instanceof Cr&&t.code.includes("request-failed")}function C_({projectId:t}){return`${_re}/projects/${t}/installations`}function c9(t){return{token:t.token,requestStatus:2,expiresIn:Ere(t.expiresIn),creationTime:Date.now()}}function I_(t,e){return E_.apply(this,arguments)}function E_(){return(E_=g(function*(t,e){const r=(yield e.json()).error;return $i.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function u9({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function S_(t){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Ere(t){return Number(t.replace("s","000"))}function T_(){return(T_=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=C_(t),i=u9(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:o9,appId:t.appId,sdkVersion:s9})},c=yield S_(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:c9(u.authToken)}}throw yield I_("Create Installation",c)})).apply(this,arguments)}function d9(t){return new Promise(e=>{setTimeout(e,t)})}const Are=/^[cdef][\w-]{21}$/,A_="";function Mre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function xre(t){return function Tre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Are.test(n)?n:A_}catch{return A_}}function Mc(t){return`${t.appName}!${t.appId}`}const xc=new Map;function f9(t,e){const n=Mc(t);h9(n,e),function Pre(t,e){const n=function p9(){return!Oo&&"BroadcastChannel"in self&&(Oo=new BroadcastChannel("[Firebase] FID Change"),Oo.onmessage=t=>{h9(t.data.key,t.data.fid)}),Oo}();n&&n.postMessage({key:t,fid:e}),function g9(){0===xc.size&&Oo&&(Oo.close(),Oo=null)}()}(n,e)}function h9(t,e){const n=xc.get(t);if(n)for(const r of n)r(e)}let Oo=null;const Ore="firebase-installations-database",Rre=1,Ro="firebase-installations-store";let M_=null;function x_(){return M_||(M_=function mre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ps(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ps(o.result),c.oldVersion,c.newVersion,Ps(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ore,Rre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ro)}})),M_}function yg(t,e){return N_.apply(this,arguments)}function N_(){return(N_=g(function*(t,e){const n=Mc(t),i=(yield x_()).transaction(Ro,"readwrite"),s=i.objectStore(Ro),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&f9(t,e.fid),e})).apply(this,arguments)}function k_(t){return P_.apply(this,arguments)}function P_(){return(P_=g(function*(t){const e=Mc(t),r=(yield x_()).transaction(Ro,"readwrite");yield r.objectStore(Ro).delete(e),yield r.done})).apply(this,arguments)}function td(t,e){return O_.apply(this,arguments)}function O_(){return(O_=g(function*(t,e){const n=Mc(t),i=(yield x_()).transaction(Ro,"readwrite"),s=i.objectStore(Ro),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&f9(t,a.fid),a})).apply(this,arguments)}function R_(t){return F_.apply(this,arguments)}function F_(){return F_=g(function*(t){let e;const n=yield td(t.appConfig,r=>{const i=function Fre(t){return y9(t||{fid:Mre(),registrationStatus:0})}(r),s=function Lre(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject($i.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Vre(t,e){return L_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Hre(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===A_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),F_.apply(this,arguments)}function L_(){return L_=g(function*(t,e){try{const n=yield function Dre(t,e){return T_.apply(this,arguments)}(t,e);return yg(t.appConfig,n)}catch(n){throw a9(n)&&409===n.customData.serverCode?yield k_(t.appConfig):yield yg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),L_.apply(this,arguments)}function Hre(t){return V_.apply(this,arguments)}function V_(){return(V_=g(function*(t){let e=yield m9(t.appConfig);for(;1===e.registrationStatus;)yield d9(100),e=yield m9(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield R_(t);return r||n}return e})).apply(this,arguments)}function m9(t){return td(t,e=>{if(!e)throw $i.create("installation-not-found");return y9(e)})}function y9(t){return function zre(t){return 1===t.registrationStatus&&t.registrationTime+i9<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function H_(){return(H_=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Bre(t,{fid:e}){return`${C_(t)}/${e}/authTokens:generate`}(t,n),i=function l9(t,{refreshToken:e}){const n=u9(t);return n.append("Authorization",function Sre(t){return`${o9} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:s9,appId:t.appId}})},c=yield S_(()=>fetch(r,a));if(c.ok)return c9(yield c.json());throw yield I_("Generate Auth Token",c)})).apply(this,arguments)}function z_(t){return U_.apply(this,arguments)}function U_(){return U_=g(function*(t,e=!1){let n;const r=yield td(t.appConfig,s=>{if(!_9(s))throw $i.create("not-registered");const o=s.authToken;if(!e&&function Gre(t){return 2===t.requestStatus&&!function qre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wre}(t)}(o))return s;if(1===o.requestStatus)return n=function jre(t,e){return B_.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw $i.create("app-offline");const a=function Wre(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function $re(t,e){return j_.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),U_.apply(this,arguments)}function B_(){return(B_=g(function*(t,e){let n=yield v9(t.appConfig);for(;1===n.authToken.requestStatus;)yield d9(100),n=yield v9(t.appConfig);const r=n.authToken;return 0===r.requestStatus?z_(t,e):r})).apply(this,arguments)}function v9(t){return td(t,e=>{if(!_9(e))throw $i.create("not-registered");return function Kre(t){return 1===t.requestStatus&&t.requestTime+i9<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function j_(){return j_=g(function*(t,e){try{const n=yield function Ure(t,e){return H_.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield yg(t.appConfig,r),n}catch(n){if(!a9(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield yg(t.appConfig,r)}else yield k_(t.appConfig);throw n}}),j_.apply(this,arguments)}function _9(t){return void 0!==t&&2===t.registrationStatus}function $_(){return($_=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield R_(e);return r?r.catch(console.error):z_(e).catch(console.error),n.fid})).apply(this,arguments)}function G_(){return G_=g(function*(t,e=!1){const n=t;return yield function Xre(t){return q_.apply(this,arguments)}(n),(yield z_(n,e)).token}),G_.apply(this,arguments)}function q_(){return(q_=g(function*(t){const{registrationPromise:e}=yield R_(t);e&&(yield e)})).apply(this,arguments)}function Y_(t){return $i.create("missing-app-config-values",{valueName:t})}const w9="installations",nie=t=>{const e=t.getProvider("app").getImmediate(),n=function eie(t){if(!t||!t.options)throw Y_("App Configuration");if(!t.name)throw Y_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Y_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:li(e,"heartbeat"),_delete:()=>Promise.resolve()}},rie=t=>{const n=li(t.getProvider("app").getImmediate(),w9).getImmediate();return{getId:()=>function Yre(t){return $_.apply(this,arguments)}(n),getToken:i=>function Qre(t){return G_.apply(this,arguments)}(n,i)}};(function iie(){Pn(new mn(w9,nie,"PUBLIC")),Pn(new mn("installations-internal",rie,"PRIVATE"))})(),Ue(r9,b_),Ue(r9,b_,"esm2017");const Q_="@firebase/remote-config",Wn=new ui("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gie{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function mie(t=navigator){return t.languages&&t.languages[0]||t.language}class yie{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:mie()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(o,u),d=new Promise((_,v)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",v(C)})});let f;try{yield Promise.race([l,d]),f=yield l}catch(_){let v="fetch-client-network";throw"AbortError"===_?.name&&(v="fetch-timeout"),Wn.create(v,{originalErrorMessage:_?.message})}let h=f.status;const p=f.headers.get("ETag")||void 0;let m,y;if(200===f.status){let _;try{_=yield f.json()}catch(v){throw Wn.create("fetch-client-parse",{originalErrorMessage:v?.message})}m=_.entries,y=_.state}if("INSTANCE_STATE_UNSPECIFIED"===y?h=500:"NO_CHANGE"===y?h=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==h&&200!==h)throw Wn.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:m}})()}}class wie{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function vie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function _ie(t){if(!(t instanceof Cr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+pg(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Iie{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _g(t,e){const n=t.target.error||void 0;return Wn.create(e,{originalErrorMessage:n&&n?.message})}const Fo="app_namespace_store";class Tie{constructor(e,n,r,i=function Die(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(_g(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fo,{keyPath:"compositeKey"})}}catch(n){e(Wn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Fo],"readonly").objectStore(Fo),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{s(_g(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){s(Wn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([Fo],"readwrite").objectStore(Fo),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{o(_g(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Wn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Fo],"readwrite").objectStore(Fo),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{s(_g(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Wn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Aie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function xie(){return t4.apply(this,arguments)}function t4(){return(t4=g(function*(){if(!Ns())return!1;try{return yield Yl()}catch{return!1}})).apply(this,arguments)}!function Mie(){Pn(new mn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wn.create("registration-window");if(!Ns())throw Wn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Wn.create("registration-project-id");if(!o)throw Wn.create("registration-api-key");if(!a)throw Wn.create("registration-app-id");const c=new Tie(a,r.name,n=n||"firebase"),u=new Aie(c),l=new Tc(Q_);l.logLevel=ve.ERROR;const d=new yie(i,Po,n,s,o,a),f=new wie(d,c),h=new gie(f,c,u,l),p=new Iie(r,h,u,c,l);return function fie(t){const e=st(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ue(Q_,"0.4.4"),Ue(Q_,"0.4.4","esm2017")}();const Nie=(t,e)=>e.some(n=>t instanceof n);let E9,S9;const D9=new WeakMap,n4=new WeakMap,T9=new WeakMap,r4=new WeakMap,i4=new WeakMap;let s4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return n4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||T9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Vie(t){return"function"==typeof t?function Lie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pie(){return S9||(S9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(o4(this),e),Gi(D9.get(this))}:function(...e){return Gi(t.apply(o4(this),e))}:function(e,...n){const r=t.call(o4(this),e,...n);return T9.set(r,e.sort?e.sort():[e]),Gi(r)}}(t):(t instanceof IDBTransaction&&function Rie(t){if(n4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});n4.set(t,e)}(t),Nie(t,function kie(){return E9||(E9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,s4):t)}function Gi(t){if(t instanceof IDBRequest)return function Oie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&D9.set(n,t)}).catch(()=>{}),i4.set(e,t),e}(t);if(r4.has(t))return r4.get(t);const e=Vie(t);return e!==t&&(r4.set(t,e),i4.set(e,t)),e}const o4=t=>i4.get(t);function A9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gi(o.result),c.oldVersion,c.newVersion,Gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function a4(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Gi(n).then(()=>{})}const Hie=["get","getKey","getAll","getAllKeys","count"],zie=["put","add","delete","clear"],c4=new Map;function M9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(c4.get(e))return c4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hie.includes(n))return;const s=function(){var o=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return c4.set(e,s),s}!function Fie(t){s4=t(s4)}(t=>({...t,get:(e,n,r)=>M9(e,n)||t.get(e,n,r),has:(e,n)=>!!M9(e,n)||t.has(e,n)}));const Uie="/firebase-messaging-sw.js",Bie="/firebase-cloud-messaging-push-scope",x9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jie="https://fcmregistrations.googleapis.com/v1",N9="google.c.a.c_id",$ie="google.c.a.c_l",Gie="google.c.a.ts";var wg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(wg||{});function qi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kie(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const u4="fcm_token_details_db",Yie=5,k9="fcm_token_object_Store";function l4(){return l4=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(u4))return null;let e=null;return(yield A9(u4,Yie,{upgrade:(r=g(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(k9))return;const u=a.objectStore(k9),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:qi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qi(d.auth),p256dh:qi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qi(d.auth),p256dh:qi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qi(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield a4(u4),yield a4("fcm_vapid_details_db"),yield a4("undefined"),function Xie(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),l4.apply(this,arguments)}const Jie="firebase-messaging-database",Zie=1,Lo="firebase-messaging-store";let d4=null;function f4(){return d4||(d4=A9(Jie,Zie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Lo)}})),d4}function P9(t){return h4.apply(this,arguments)}function h4(){return h4=g(function*(t){const e=y4(t),r=yield(yield f4()).transaction(Lo).objectStore(Lo).get(e);if(r)return r;{const i=yield function Qie(t){return l4.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield p4(t,i),i}}),h4.apply(this,arguments)}function p4(t,e){return g4.apply(this,arguments)}function g4(){return(g4=g(function*(t,e){const n=y4(t),i=(yield f4()).transaction(Lo,"readwrite");return yield i.objectStore(Lo).put(e,n),yield i.done,e})).apply(this,arguments)}function m4(){return(m4=g(function*(t){const e=y4(t),r=(yield f4()).transaction(Lo,"readwrite");yield r.objectStore(Lo).delete(e),yield r.done})).apply(this,arguments)}function y4({appConfig:t}){return t.appId}const rn=new ui("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nse(t,e){return v4.apply(this,arguments)}function v4(){return(v4=g(function*(t,e){const n=yield C4(t),r=R9(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(b4(t.appConfig),i)).json()}catch(o){throw rn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw rn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw rn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function _4(){return(_4=g(function*(t,e){const n=yield C4(t),r=R9(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${b4(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw rn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw rn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw rn.create("token-update-no-token");return s.token})).apply(this,arguments)}function O9(t,e){return w4.apply(this,arguments)}function w4(){return(w4=g(function*(t,e){const r={method:"DELETE",headers:yield C4(t)};try{const s=yield(yield fetch(`${b4(t.appConfig)}/${e}`,r)).json();if(s.error)throw rn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw rn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function b4({projectId:t}){return`${jie}/projects/${t}/registrations`}function C4(t){return I4.apply(this,arguments)}function I4(){return(I4=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function R9({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==x9&&(i.web.applicationPubKey=r),i}const ise=6048e5;function E4(){return E4=g(function*(t){const e=yield function ase(t,e){return A4.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:qi(e.getKey("auth")),p256dh:qi(e.getKey("p256dh"))},r=yield P9(t.firebaseDependencies);if(r){if(function cse(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+ise?function ose(t,e){return D4.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield O9(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return L9(t.firebaseDependencies,n)}return L9(t.firebaseDependencies,n)}),E4.apply(this,arguments)}function S4(){return S4=g(function*(t){const e=yield P9(t.firebaseDependencies);e&&(yield O9(t.firebaseDependencies,e.token),yield function ese(t){return m4.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),S4.apply(this,arguments)}function D4(){return D4=g(function*(t,e){try{const n=yield function rse(t,e){return _4.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield p4(t.firebaseDependencies,r),n}catch(n){throw yield function F9(t){return S4.apply(this,arguments)}(t),n}}),D4.apply(this,arguments)}function L9(t,e){return T4.apply(this,arguments)}function T4(){return(T4=g(function*(t,e){const r={token:yield nse(t,e),createTime:Date.now(),subscriptionOptions:e};return yield p4(t,r),r.token})).apply(this,arguments)}function A4(){return(A4=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kie(e)})})).apply(this,arguments)}function V9(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function use(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function lse(t,e){e.data&&(t.data=e.data)}(e,t),function dse(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function H9(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function M4(t){return rn.create("missing-app-config-values",{valueName:t})}H9("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),H9("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pse{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function hse(t){if(!t||!t.options)throw M4("App Configuration Object");if(!t.name)throw M4("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw M4(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function x4(){return(x4=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Uie,{scope:Bie}),t.swRegistration.update().catch(()=>{})}catch(e){throw rn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function N4(){return(N4=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function z9(t){return x4.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw rn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function k4(){return(k4=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=x9)})).apply(this,arguments)}function P4(){return P4=g(function*(t,e){if(!navigator)throw rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rn.create("permission-blocked");return yield function mse(t,e){return k4.apply(this,arguments)}(t,e?.vapidKey),yield function gse(t,e){return N4.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function sse(t){return E4.apply(this,arguments)}(t)}),P4.apply(this,arguments)}function O4(){return(O4=g(function*(t,e,n){const r=function vse(t){switch(t){case wg.NOTIFICATION_CLICKED:return"notification_open";case wg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[N9],message_name:n[$ie],message_time:n[Gie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function R4(){return R4=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===wg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(V9(n)):t.onMessageHandler.next(V9(n)));const r=n.data;(function fse(t){return"object"==typeof t&&!!t&&N9 in t})(r)&&"1"===r["google.c.a.e"]&&(yield function yse(t,e,n){return O4.apply(this,arguments)}(t,n.messageType,r))}),R4.apply(this,arguments)}const B9="@firebase/messaging",wse=t=>{const e=new pse(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function _se(t,e){return R4.apply(this,arguments)}(e,n)),e},bse=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function U9(t,e){return P4.apply(this,arguments)}(e,r)}};function $9(){return F4.apply(this,arguments)}function F4(){return(F4=g(function*(){try{yield Yl()}catch{return!1}return typeof window<"u"&&Ns()&&e_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cse(){Pn(new mn("messaging",wse,"PUBLIC")),Pn(new mn("messaging-internal",bse,"PRIVATE")),Ue(B9,"0.12.4"),Ue(B9,"0.12.4","esm2017")}();const bg="analytics",Sse="firebase_id",Dse="origin",Tse=6e4,Ase="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",H4="https://www.googletagmanager.com/gtag/js",Gt=new Tc("@firebase/analytics"),On=new ui("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xse(t){if(!t.startsWith(H4)){const e=On.create("invalid-gtag-resource",{gtagURL:t});return Gt.warn(e.message),""}return t}function G9(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function z4(){return(z4=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield G9(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Gt.error(a)}t("config",i,s)})).apply(this,arguments)}function U4(){return(U4=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield G9(n);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Gt.error(s)}})).apply(this,arguments)}const Hse=30,q9=new class Use{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function B4(){return(B4=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Bse(r)},s=Ase.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function j4(){return(j4=g(function*(t,e=q9,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw On.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw On.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Wse;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:Tse),W9({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function W9(t,e,n){return $4.apply(this,arguments)}function $4(){return $4=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=q9){var s;const{appId:o,measurementId:a}=t;try{yield function Gse(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function jse(t){return B4.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!function qse(t){if(!(t instanceof Cr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw c}const l=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?pg(n,i.intervalMillis,Hse):pg(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Gt.debug(`Calling attemptFetch again in ${l} millis`),W9(t,d,r,i)}}),$4.apply(this,arguments)}class Wse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let G4,J4;function q4(){return(q4=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function K4(){return(K4=g(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})})).apply(this,arguments)}function Z4(){return(Z4=g(function*(){if(!Ns())return Gt.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Yl()}catch(t){return Gt.warn(On.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function e6(){return e6=g(function*(t,e,n,r,i,s,o){var a;const c=function $se(t){return j4.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Gt.error(h)),e.push(c);const u=function eoe(){return Z4.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Vse(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(H4)&&n.src.includes(t))return n;return null})(s)||function kse(t,e){const n=function Nse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:xse}),r=document.createElement("script"),i=`${H4}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),J4&&(i("consent","default",J4),function K9(t){J4=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[Dse]="firebase",f.update=!0,null!=d&&(f[Sse]=d),i("config",l.measurementId,f),G4&&(i("set",G4),function Y9(t){G4=t}(void 0)),l.measurementId}),e6.apply(this,arguments)}class noe{constructor(e){this.app=e}_delete(){return delete di[this.app.options.appId],Promise.resolve()}}let di={},Q9=[];const X9={};let Z9,fi,Cg="dataLayer",t6=!1;function ioe(t,e,n){!function roe(){const t=[];if(Zv()&&t.push("This is a browser extension environment."),e_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}();const r=t.options.appId;if(!r)throw On.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw On.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=di[r])throw On.create("already-exists",{id:r});if(!t6){!function Pse(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Cg);const{wrappedGtag:s,gtagCore:o}=function Lse(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Fse(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[c,u]=a;yield function Rse(t,e,n,r,i){return U4.apply(this,arguments)}(t,e,n,c,u)}else if("config"===o){const[c,u]=a;yield function Ose(t,e,n,r,i,s){return z4.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,u,l]=a;t("get",c,u,l)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Gt.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(di,Q9,X9,Cg,"gtag");fi=s,Z9=o,t6=!0}return di[r]=function toe(t,e,n,r,i,s,o){return e6.apply(this,arguments)}(t,Q9,X9,e,Z9,Cg,n),new noe(t)}function soe(t=Ac()){const e=li(t=st(t),bg);return e.isInitialized()?e.getImmediate():function ooe(t,e={}){const n=li(t,bg);if(n.isInitialized()){const i=n.getImmediate();if(Ql(e,n.getOptions()))return i;throw On.create("already-initialized")}return n.initialize({options:e})}(t)}function aoe(){return n6.apply(this,arguments)}function n6(){return(n6=g(function*(){if(Zv()||!e_()||!Ns())return!1;try{return yield Yl()}catch{return!1}})).apply(this,arguments)}function coe(t,e,n){t=st(t),function Qse(t,e,n,r){return K4.apply(this,arguments)}(fi,di[t.app.options.appId],e,n).catch(r=>Gt.error(r))}function eN(t,e,n,r){t=st(t),function Kse(t,e,n,r,i){return q4.apply(this,arguments)}(fi,di[t.app.options.appId],e,n,r).catch(i=>Gt.error(i))}const tN="@firebase/analytics";!function uoe(){Pn(new mn(bg,(e,{options:n})=>ioe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Pn(new mn("analytics-internal",function t(e){try{const n=e.getProvider(bg).getImmediate();return{logEvent:(r,i,s)=>eN(n,r,i,s)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ue(tN,"0.10.0"),Ue(tN,"0.10.0","esm2017")}();class loe extends Zn{constructor(e,n){super()}schedule(e,n=0){return this}}const Ig={setInterval(t,e,...n){const{delegate:r}=Ig;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Ig;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class rN extends loe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ig.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Ig.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ma(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const iN={now:()=>(iN.delegate||Date).now(),delegate:void 0};class nd{constructor(e,n=nd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}nd.now=iN.now;class sN extends nd{constructor(e,n=nd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const hoe=new class foe extends sN{}(class doe extends rN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),poe=new sN(rN);function yn(t,e,n){const r=ke(t)||e||n?{next:t,error:e,complete:n}:t;return r?Dt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(gt(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ms}const Os=new nc("7.6.1"),i6="__angularfire_symbol__analyticsIsSupportedValue",s6="__angularfire_symbol__analyticsIsSupported",o6="__angularfire_symbol__remoteConfigIsSupportedValue",a6="__angularfire_symbol__remoteConfigIsSupported",c6="__angularfire_symbol__messagingIsSupportedValue",u6="__angularfire_symbol__messagingIsSupported";globalThis[s6]||(globalThis[s6]=aoe().then(t=>globalThis[i6]=t).catch(()=>globalThis[i6]=!1)),globalThis[u6]||(globalThis[u6]=$9().then(t=>globalThis[c6]=t).catch(()=>globalThis[c6]=!1)),globalThis[a6]||(globalThis[a6]=xie().then(t=>globalThis[o6]=t).catch(()=>globalThis[o6]=!1));const Eg={async:()=>globalThis[s6],sync:()=>{const t=globalThis[i6];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}};function Sg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Dg=(t,e)=>{const n=e?[e]:qx(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Nc(){}class oN{constructor(e,n=hoe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class goe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nc,{},Nc,Nc)),n.pipe(yn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rd=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new oN(Zone.current)),this.insideAngular=n.run(()=>new oN(Zone.current,poe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(W(Ie))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Vo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ho(t){return Vo().ngZone.run(()=>t())}function yoe(t){return Vo(),function voe(t){return function(n){return(n=n.lift(new goe(t.ngZone))).pipe(yh(t.outsideAngular),mh(t.insideAngular))}}(Vo())(t)}const _oe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ho(()=>t.apply(void 0,r))},ut=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nc,{},Nc,Nc)))),r[s]=_oe(r[s],n));const i=function moe(t){return Vo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof be){const s=Vo();return i.pipe(yh(s.outsideAngular),mh(s.insideAngular))}return Ho(()=>i)}return i instanceof be?i.pipe(yoe):i instanceof Promise?Ho(()=>new Promise((s,o)=>i.then(a=>Ho(()=>s(a)),a=>Ho(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ho(()=>i)};class zo{constructor(e){return e}}class id{constructor(){return qx()}}const d6=new B("angularfire2._apps"),boe={provide:zo,useFactory:function woe(t){return t&&1===t.length?t[0]:new zo(Ac())},deps:[[new jt,d6]]},Coe={provide:id,deps:[[new jt,d6]]};function Ioe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zo(r)}}let Eoe=(()=>{class t{constructor(n){Ue("angularfire",Os.full,"core"),Ue("angularfire",Os.full,"app"),Ue("angular",MD.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(W(Fi))},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({providers:[boe,Coe]}),t})();function Uo(t,...e){return{ngModule:Eoe,providers:[{provide:d6,useFactory:Ioe(t),multi:!0,deps:[Ie,Ot,rd,...e]}]}}const Bo=ut(Ac,!0),jo=ut(Gx,!0),f6=new Map,aN={activated:!1,tokenObservers:[]},Soe={initialized:!1,enabled:!1};function lt(t){return f6.get(t)||Object.assign({},aN)}function Tg(){return Soe}const h6="https://content-firebaseappcheck.googleapis.com/v1",Moe="exchangeDebugToken",cN={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Noe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Dc,yield function koe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Dc,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const sn=new ui("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ag(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function p6(t){if(!lt(t).activated)throw sn.create("use-before-activation",{appName:t.name})}function g6(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=Mg(n)+"d:"),r&&(o+=Mg(r)+"h:"),o+=Mg(i)+"m:"+Mg(s)+"s",o}function Mg(t){return 0===t?"00":t>=10?t.toString():"0"+t}function xg(t,e){return m6.apply(this,arguments)}function m6(){return(m6=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw sn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw sn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw sn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}})).apply(this,arguments)}function uN(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${h6}/projects/${n}/apps/${r}:${Moe}?key=${i}`,body:{debug_token:e}}}const Foe="firebase-app-check-database",Loe=1,sd="firebase-app-check-store",lN="debug-token";let Ng=null;function dN(){return Ng||(Ng=new Promise((t,e)=>{try{const n=indexedDB.open(Foe,Loe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(sn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(sd,{keyPath:"compositeKey"})}}catch(n){e(sn.create("storage-open",{originalErrorMessage:n?.message}))}}),Ng)}function fN(t,e){return y6.apply(this,arguments)}function y6(){return(y6=g(function*(t,e){const r=(yield dN()).transaction(sd,"readwrite"),s=r.objectStore(sd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(sn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}function hN(t){return v6.apply(this,arguments)}function v6(){return(v6=g(function*(t){const n=(yield dN()).transaction(sd,"readonly"),i=n.objectStore(sd).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(sn.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}function pN(t){return`${t.options.appId}-${t.name}`}const od=new Tc("@firebase/app-check");function _6(){return(_6=g(function*(t){if(Ns()){let e;try{e=yield function Voe(t){return hN(pN(t))}(t)}catch(n){od.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function w6(t,e){return Ns()?function Hoe(t,e){return fN(pN(t),e)}(t,e).catch(n=>{od.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function b6(){return(b6=g(function*(){let t;try{t=yield function Uoe(){return hN(lN)}()}catch{}if(t)return t;{const e=Qte();return function zoe(t){return fN(lN,t)}(e).catch(n=>od.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function C6(){return Tg().enabled}function I6(){return E6.apply(this,arguments)}function E6(){return(E6=g(function*(){const t=Tg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Goe={error:"UNKNOWN_ERROR"};function qoe(t){return Jv.encodeString(JSON.stringify(t),!1)}function kg(t){return S6.apply(this,arguments)}function S6(){return(S6=g(function*(t,e=!1){const n=t.app;p6(n);const r=lt(n);let s,i=r.token;if(i&&!kc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(kc(c)?i=c:yield w6(n,void 0))}if(!e&&i&&kc(i))return{token:i.token};let a,o=!1;if(C6()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xg(uN(n,yield I6()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield w6(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield lt(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?od.warn(c.message):od.error(c),s=c}return i?s?a=kc(i)?{token:i.token,internalError:s}:vN(s):(a={token:i.token},r.token=i,yield w6(n,i)):a=vN(s),o&&yN(n,a),a})).apply(this,arguments)}function gN(t){return D6.apply(this,arguments)}function D6(){return(D6=g(function*(t){const e=t.app;p6(e);const{provider:n}=lt(e);if(C6()){const r=yield I6(),{token:i}=yield xg(uN(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function T6(t,e,n,r){const{app:i}=t,s=lt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&kc(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),mN(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>mN(t))}function A6(t,e){const n=lt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function mN(t){const{app:e}=t,n=lt(e);let r=n.tokenRefresher;r||(r=function Woe(t){const{app:e}=t;return new Noe(g(function*(){let r;if(r=lt(e).token?yield kg(t,!0):yield kg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=lt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},cN.RETRIAL_MIN_WAIT,cN.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function yN(t,e){const n=lt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function kc(t){return t.expireTimeMillis-Date.now()>0}function vN(t){return{token:qoe(Goe),error:t}}class Koe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=lt(this.app);for(const n of e)A6(this.app,n.next);return Promise.resolve()}}function tae(t,e){const n=new Dc;lt(t).reCAPTCHAState={initialized:n};const i=function _N(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=Ag(!1);return s?Pg(t,e,s,i,n):function iae(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=Ag(!1);if(!o)throw new Error("no recaptcha");Pg(t,e,o,i,n)}),n.promise}function Pg(t,e,n,r,i){n.ready(()=>{(function rae(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{lt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{lt(t).reCAPTCHAState.succeeded=!1}}),s=lt(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function wN(t){return M6.apply(this,arguments)}function M6(){return(M6=g(function*(t){p6(t);const n=yield lt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=lt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class Wi{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return g(function*(){var n,r,i;!function EN(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw sn.create("throttled",{time:g6(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield wN(e._app).catch(a=>{throw sn.create("recaptcha-error")});if(null===(n=lt(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw sn.create("recaptcha-error");let o;try{o=yield xg(function Ooe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${h6}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function IN(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=pg(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),sn.create("throttled",{time:g6(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=li(e,"heartbeat"),tae(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Wi&&this._siteKey===e._siteKey}}function oae(t=Ac(),e){const n=li(t=st(t),"app-check");if(Tg().initialized||function $oe(){const t=kx(),e=Tg();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Dc;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function joe(){return b6.apply(this,arguments)}())}(),C6()&&I6().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw sn.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function aae(t,e,n){const r=function Doe(t,e){return f6.set(t,e),f6.get(t)}(t,Object.assign({},aN));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Boe(t){return _6.apply(this,arguments)}(t).then(i=>(i&&kc(i)&&(r.token=i,yN(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),lt(t).isTokenAutoRefreshEnabled&&T6(r,"INTERNAL",()=>{}),r}const SN="app-check-internal";!function uae(){Pn(new mn("app-check",t=>function Yoe(t,e){return new Koe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(SN).initialize()})),Pn(new mn(SN,t=>function Qoe(t){return{getToken:e=>kg(t,e),getLimitedUseToken:()=>gN(t),addTokenListener:e=>T6(t,"INTERNAL",e),removeTokenListener:e=>A6(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ue("@firebase/app-check","0.8.0")}();const DN="app-check";class N6{constructor(e){return e}}class k6{constructor(){return Dg(DN)}}const P6=new B("angularfire2.app-check-instances"),dae=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function fae(t){return(e,n,r)=>{var i;!Hv(r)&&dae&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new N6(s)}}const hae={provide:k6,deps:[[new jt,P6]]},pae={provide:N6,useFactory:function lae(t,e){const n=Sg(DN,t,e);return n&&new N6(n)},deps:[[new jt,P6],zo,Fi]};let gae=(()=>{class t{constructor(){Ue("angularfire",Os.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({providers:[pae,hae]}),t})();function $o(t,...e){return{ngModule:gae,providers:[{provide:P6,useFactory:fae(t),multi:!0,deps:[Ie,Ot,Fi,rd,id,...e]}]}}const Go=ut(oae,!0);const mae=function TN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},AN=new ui("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Og=new Tc("@firebase/auth");function Rg(t,...e){Og.logLevel<=ve.ERROR&&Og.error(`Auth (${Po}): ${t}`,...e)}function Kn(t,...e){throw O6(t,...e)}function ur(t,...e){return O6(t,...e)}function MN(t,e,n){const r=Object.assign(Object.assign({},mae()),{[e]:n});return new ui("auth","Firebase",r).create(e,{appName:t.name})}function O6(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AN.create(t,...e)}function x(t,e,...n){if(!t)throw O6(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rg(e),new Error(e)}function Ki(t,e){t||hi(e)}function ad(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function xN(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=function Hte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}()||function Ute(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function vae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function R6(){return"http:"===xN()||"https:"===xN()}()||Zv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function F6(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class NN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bae=new cd(3e4,6e4);function ot(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function dt(t,e,n,r){return L6.apply(this,arguments)}function L6(){return(L6=g(function*(t,e,n,r,i={}){return kN(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Xl(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),NN.fetch()(PN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function kN(t,e,n){return V6.apply(this,arguments)}function V6(){return(V6=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wae),e);try{const i=new Cae(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ud(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw ud(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw ud(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw ud(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MN(t,l,u);Kn(t,l)}}catch(i){if(i instanceof Cr)throw i;Kn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Yi(t,e,n,r){return H6.apply(this,arguments)}function H6(){return(H6=g(function*(t,e,n,r,i={}){const s=yield dt(t,e,n,r,i);return"mfaPendingCredential"in s&&Kn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function PN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?F6(t.config,i):`${t.config.apiScheme}://${i}`}class Cae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),bae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ur(t,e,r);return i.customData._tokenResponse=n,i}function z6(){return(z6=g(function*(t,e){return dt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function B6(){return(B6=g(function*(t,e){return dt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ld(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function j6(){return(j6=g(function*(t,e=!1){const n=st(t),r=yield n.getIdToken(e),i=Fg(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ld($6(i.auth_time)),issuedAtTime:ld($6(i.iat)),expirationTime:ld($6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function $6(t){return 1e3*Number(t)}function Fg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Rg("JWT malformed, contained fewer than 3 sections"),null;try{const i=dg(n);return i?JSON.parse(i):(Rg("Failed to decode base64 JWT payload"),null)}catch(i){return Rg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qi(t,e){return G6.apply(this,arguments)}function G6(){return(G6=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Cr&&function Aae({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Mae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ON{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ld(this.lastLoginAt),this.creationTime=ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dd(t){return q6.apply(this,arguments)}function q6(){return q6=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Qi(t,function Sae(t,e){return B6.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function kae(t){return t.map(e=>{var{providerId:n}=e,r=ph(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Nae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ON(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),q6.apply(this,arguments)}function W6(){return(W6=g(function*(t){const e=st(t);yield dd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function K6(){return(K6=g(function*(t,e){const n=yield kN(t,{},g(function*(){const r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Tae(t){const e=Fg(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Pae(t,e){return K6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fd;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fd,this.toJSON())}_performRefresh(){return hi("not implemented")}}function Rs(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class qo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ON(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Qi(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Dae(t){return j6.apply(this,arguments)}(this,e)}reload(){return function xae(t){return W6.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield dd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Qi(e,function Iae(t,e){return z6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,_=null!==(u=n.createdAt)&&void 0!==u?u:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:N,isAnonymous:L,providerData:K,stsTokenManager:he}=n;x(C&&he,e,"internal-error");const Nt=fd.fromJSON(this.name,he);x("string"==typeof C,e,"internal-error"),Rs(d,e.name),Rs(f,e.name),x("boolean"==typeof N,e,"internal-error"),x("boolean"==typeof L,e,"internal-error"),Rs(h,e.name),Rs(p,e.name),Rs(m,e.name),Rs(y,e.name),Rs(_,e.name),Rs(v,e.name);const zt=new qo({uid:C,auth:e,email:f,emailVerified:N,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:Nt,createdAt:_,lastLoginAt:v});return K&&Array.isArray(K)&&(zt.providerData=K.map(uh=>Object.assign({},uh))),y&&(zt._redirectEventId=y),zt}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new fd;i.updateFromServerResponse(n);const s=new qo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dd(s),s})()}}const RN=new Map;function Xi(t){Ki(t instanceof Function,"Expected a class definition");let e=RN.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RN.set(t,e),e)}const FN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Lg(t,e,n){return`firebase:${t}:${e}:${n}`}class Oc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?qo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Oc(Xi(FN),e,r);const i=(yield Promise.all(n.map(function(){var u=g(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Xi(FN);const o=Lg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const d=qo._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Oc(s,e,r)):new Oc(s,e,r)})()}}function LN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BN(e))return"Blackberry";if(jN(e))return"Webos";if(Y6(e))return"Safari";if((e.includes("chrome/")||HN(e))&&!e.includes("edge/"))return"Chrome";if(UN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function VN(t=$t()){return/firefox\//i.test(t)}function Y6(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HN(t=$t()){return/crios\//i.test(t)}function zN(t=$t()){return/iemobile/i.test(t)}function UN(t=$t()){return/android/i.test(t)}function BN(t=$t()){return/blackberry/i.test(t)}function jN(t=$t()){return/webos/i.test(t)}function Vg(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $N(t=$t()){return Vg(t)||UN(t)||jN(t)||BN(t)||/windows phone/i.test(t)||zN(t)}function GN(t,e=[]){let n;switch(t){case"Browser":n=LN($t());break;case"Worker":n=`${LN($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}function qN(t,e){return X6.apply(this,arguments)}function X6(){return(X6=g(function*(t,e){return dt(t,"GET","/v2/recaptchaConfig",ot(t,e))})).apply(this,arguments)}function KN(t){return void 0!==t&&void 0!==t.enterprise}class YN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function J6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Vae(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function QN(t){return`__${t}${Math.floor(1e6*Math.random())}`}class XN{constructor(e){this.type="recaptcha-enterprise",this.auth=qt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=g(function*(u,l){qN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new YN(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,u(f.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;KN(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&KN(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));J6("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}function Fs(t,e,n){return Z6.apply(this,arguments)}function Z6(){return(Z6=g(function*(t,e,n,r=!1){const i=new XN(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Bae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class jae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JN(this),this.idTokenSubscription=new JN(this),this.beforeStateQueue=new Bae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Oc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield dd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function _ae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?st(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Xi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield qN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new YN(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new XN(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ui("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Xi(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield Oc.create(n,[Xi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function yae(t,...e){Og.logLevel<=ve.WARN&&Og.warn(`Auth (${Po}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function qt(t){return st(t)}class JN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Wte(t,e){const n=new Kte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ZN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ek(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class e3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}function nk(t,e){return n3.apply(this,arguments)}function n3(){return(n3=g(function*(t,e){return dt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function i3(t,e){return s3.apply(this,arguments)}function s3(){return(s3=g(function*(t,e){return Yi(t,"POST","/v1/accounts:signInWithPassword",ot(t,e))})).apply(this,arguments)}function h3(){return(h3=g(function*(t,e){return Yi(t,"POST","/v1/accounts:signInWithEmailLink",ot(t,e))})).apply(this,arguments)}function p3(){return(p3=g(function*(t,e){return Yi(t,"POST","/v1/accounts:signInWithEmailLink",ot(t,e))})).apply(this,arguments)}class hd extends e3{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Fs(e,i,"signInWithPassword");return i3(e,s)}return i3(e,i).catch(function(){var s=g(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Fs(e,i,"signInWithPassword");return i3(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Jae(t,e){return h3.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Kn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return nk(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Zae(t,e){return p3.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Kn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ji(t,e){return g3.apply(this,arguments)}function g3(){return(g3=g(function*(t,e){return Yi(t,"POST","/v1/accounts:signInWithIdp",ot(t,e))})).apply(this,arguments)}class Rc extends e3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ph(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Rc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ji(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ji(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ji(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xl(n)}return e}}class gd{constructor(e){var n,r,i,s,o,a;const c=Jl(Zl(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function oce(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);x(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function ace(t){const e=Jl(Zl(t)).link,n=e?Jl(Zl(e)).deep_link_id:null,r=Jl(Zl(t)).deep_link_id;return(r?Jl(Zl(r)).link:null)||r||n||e||t}(e);try{return new gd(n)}catch{return null}}}let rk=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return hd._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=gd.parseLink(r);return x(i,"argument-error"),hd._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ik extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let cce=(()=>{class t extends ik{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Rc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield qo._fromIdTokenResponse(e,r,i),o=sk(r);return new Ir({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=sk(r);return new Ir({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function sk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Bg extends Cr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bg(e,n,r,i)}}function ok(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Bg._fromErrorAndOperation(t,s,e,r):s})}function S3(){return(S3=g(function*(t,e,n=!1){const r=yield Qi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ir._forOperation(t,"link",r)})).apply(this,arguments)}function T3(){return(T3=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Qi(t,ok(r,i,e,t),n);x(s.idToken,r,"internal-error");const o=Fg(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),Ir._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Kn(r,"user-mismatch"),s}})).apply(this,arguments)}function uk(t,e){return A3.apply(this,arguments)}function A3(){return(A3=g(function*(t,e,n=!1){const r="signIn",i=yield ok(t,r,e),s=yield Ir._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function x3(){return(x3=g(function*(t,e){return uk(qt(t),e)})).apply(this,arguments)}function gce(t,e,n){return function M3(t,e){return x3.apply(this,arguments)}(st(t),rk.credential(e,n))}const $g="__sak";class dk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($g,"1"),this.storage.removeItem($g),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pce=(()=>{class t extends dk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xce(){const t=$t();return Y6(t)||Vg(t)}()&&function Fae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$N(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Rae(){return function Bte(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),fk=(()=>{class t extends dk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Rce=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(c).map(function(){var d=g(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),l=yield function Oce(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Gg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Fce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const l=Gg("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function At(){return window}function iw(){return typeof At().WorkerGlobalScope<"u"&&"function"==typeof At().importScripts}function sw(){return(sw=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hk="firebaseLocalStorageDb",qg="firebaseLocalStorage",pk="fbase_key";class yd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wg(t,e){return t.transaction([qg],e?"readwrite":"readonly").objectStore(qg)}function ow(){const t=indexedDB.open(hk,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qg,{keyPath:pk})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(qg)?e(r):(r.close(),yield function Bce(){const t=indexedDB.deleteDatabase(hk);return new yd(t).toPromise()}(),e(yield ow()))}))})}function gk(t,e,n){return aw.apply(this,arguments)}function aw(){return(aw=g(function*(t,e,n){const r=Wg(t,!0).put({[pk]:e,value:n});return new yd(r).toPromise()})).apply(this,arguments)}function cw(){return(cw=g(function*(t,e){const n=Wg(t,!1).get(e),r=yield new yd(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function mk(t,e){const n=Wg(t,!0).delete(e);return new yd(n).toPromise()}const qce=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield ow()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return iw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Rce._getInstance(function zce(){return iw()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Vce(){return sw.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Fce(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Hce(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield ow();return yield gk(n,$g,"1"),yield mk(n,$g),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>gk(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function jce(t,e){return cw.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>mk(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Wg(o,!1).getAll();return new yd(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Ko(t,e){return e?Xi(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}QN("rcb"),new cd(3e4,6e4);class yw extends e3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cue(t){return uk(t.auth,new yw(t),t.bypassAuthState)}function uue(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function ck(t,e){return T3.apply(this,arguments)}(n,new yw(t),t.bypassAuthState)}function lue(t){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function E3(t,e){return S3.apply(this,arguments)}(n,new yw(t),t.bypassAuthState)})).apply(this,arguments)}class vk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cue;case"linkViaPopup":case"linkViaRedirect":return lue;case"reauthViaPopup":case"reauthViaRedirect":return uue;default:Kn(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const due=new cd(2e3,1e4);function fue(t,e,n){return _w.apply(this,arguments)}function _w(){return(_w=g(function*(t,e,n){const r=qt(t);!function Pc(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Kn(t,"argument-error"),MN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Ls);const i=Ko(r,n);return new Cw(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let Cw=(()=>{class t extends vk{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return x(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Ki(1===n.filter.length,"Popup operations only handle one event");const r=Gg();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(ur(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,due.get())};n()}}return t.currentPopupAction=null,t})();const hue="pendingRedirect",vd=new Map;class pue extends vk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=vd.get(n.auth._key());if(!r){try{const s=(yield function gue(t,e){return Iw.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}vd.set(n.auth._key(),r)}return n.bypassAuthState||vd.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Iw(){return(Iw=g(function*(t,e){const n=function wk(t){return Lg(hue,t.config.apiKey,t.name)}(e),r=function _k(t){return Xi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function mue(t,e){vd.set(t._key(),e)}function bk(t,e){return xw.apply(this,arguments)}function xw(){return(xw=g(function*(t,e,n=!1){const r=qt(t),i=Ko(r,e),o=yield new pue(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class bue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Cue(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ek(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ek(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ik(e))}saveEventToCache(e){this.cachedEventUids.add(Ik(e)),this.lastProcessedEventTime=Date.now()}}function Ik(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ek({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function kw(){return(kw=g(function*(t,e={}){return dt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Eue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sue=/^https?/;function Pw(){return Pw=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Iue(t){return kw.apply(this,arguments)}(t);for(const n of e)try{if(Tue(n))return}catch{}Kn(t,"unauthorized-domain")}),Pw.apply(this,arguments)}function Tue(t){const e=ad(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Sue.test(n))return!1;if(Eue.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Aue=new cd(3e4,6e4);function Sk(){const t=At().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Yg=null;const Nue=new cd(5e3,15e3),kue="__/auth/iframe",Pue="emulator/auth/iframe",Oue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fue(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?F6(e,Pue):`https://${t.config.authDomain}/${kue}`,r={apiKey:e.apiKey,appName:t.name,v:Po},i=Rue.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xl(r).slice(1)}`}function Ow(){return Ow=g(function*(t){const e=yield function xue(t){return Yg=Yg||function Mue(t){return new Promise((e,n)=>{var r,i,s;function o(){Sk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sk(),n(ur(t,"network-request-failed"))},timeout:Aue.get()})}if(null!==(i=null===(r=At().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=At().gapi)||void 0===s||!s.load){const a=QN("iframefcb");return At()[a]=()=>{gapi.load?o():n(ur(t,"network-request-failed"))},J6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw Yg=null,e})}(t),Yg}(t),n=At().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:Fue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oue,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ur(t,"network-request-failed"),c=At().setTimeout(()=>{o(a)},Nue.get());function u(){At().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Ow.apply(this,arguments)}const Vue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gue="__/auth/handler",que="emulator/auth/handler",Wue=encodeURIComponent("fac");function Tk(t,e,n,r,i,s){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Po,eventId:i};if(e instanceof Ls){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function qte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof ik){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${Wue}=${encodeURIComponent(c)}`:"";return`${function Kue({config:t}){return t.emulator?F6(t,que):`https://${t.authDomain}/${Gue}`}(t)}?${Xl(a).slice(1)}${u}`})).apply(this,arguments)}const Fw="webStorageSupport",Que=class Yue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fk,this._completeRedirectFn=bk,this._overrideRedirectResult=mue}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ki(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield Tk(e,n,r,ad(),i);return function jue(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Vue),{width:r.toString(),height:i.toString(),top:s,left:o}),u=$t().toLowerCase();n&&(a=HN(u)?"_blank":n),VN(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Oae(t=$t()){var e;return Vg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function $ue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new Dk(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new Dk(d)}(e,a,Gg())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Lce(t){At().location.href=t}(yield Tk(e,n,r,ad(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Lue(t){return Ow.apply(this,arguments)}(e),i=new bue(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fw,{type:Fw},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Fw];void 0!==o&&n(!!o),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Due(t){return Pw.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $N()||Y6()||Vg()}};var xk="@firebase/auth";class Xue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const tle=Rx("authIdTokenMaxAge")||300;let kk=null;const nle=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>tle)return;const s=r?.token;kk!==s&&(kk=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function rle(t=Ac()){const e=li(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function $ae(t,e){const n=li(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Ql(n.getOptions(),e??{}))return i;Kn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Que,persistence:[qce,Pce,fk]}),r=Rx("authTokenSyncURL");if(r){const s=nle(r);(function Ece(t,e,n){st(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Ice(t,e,n,r){st(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=Px("auth");return i&&function qae(t,e,n){const r=qt(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=ZN(e),{host:o,port:a}=function Wae(t){const e=ZN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ek(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:ek(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Kae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function ile(t){return new be(function(e){var n=function Sce(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Zue(t){Pn(new mn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GN(t)},u=new jae(r,i,s,c);return function Gae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pn(new mn("auth-internal",e=>{const n=qt(e.getProvider("auth").getImmediate());return new Xue(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(xk,"0.23.2",function Jue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ue(xk,"0.23.2","esm2017")}("Browser");class _d{constructor(e){return e}}class Ok{constructor(){return Dg("auth")}}const Vw=new B("angularfire2.auth-instances");function ale(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new _d(r)}}const cle={provide:Ok,deps:[[new jt,Vw]]},ule={provide:_d,useFactory:function ole(t,e){const n=Sg("auth",t,e);return n&&new _d(n)},deps:[[new jt,Vw],zo]};let lle=(()=>{class t{constructor(){Ue("angularfire",Os.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({providers:[ule,cle]}),t})();function Lc(t,...e){return{ngModule:lle,providers:[{provide:Vw,useFactory:ale(t),multi:!0,deps:[Ie,Ot,rd,id,[new jt,k6],...e]}]}}const Rk=ut(ile,!0),Vc=ut(rle,!0),dle=ut(gce,!0),fle=ut(fue,!0);var F,hle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={},Hw=Hw||{},ie=hle||self;function Xg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function wd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var zw="closure_uid_"+(1e9*Math.random()>>>0),gle=0;function mle(t,e,n){return t.call.apply(t.bind,arguments)}function yle(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vn(t,e,n){return(vn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mle:yle).apply(null,arguments)}function Jg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Wt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Vs(){this.s=this.s,this.o=this.o}Vs.prototype.s=!1,Vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ple(t){Object.prototype.hasOwnProperty.call(t,zw)&&t[zw]||(t[zw]=++gle)}(this)},Vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Uw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Lk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function _n(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_n.prototype.h=function(){this.defaultPrevented=!0};var _le=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return t}();function bd(t){return/^[\s\xa0]*$/.test(t)}function Zg(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function pi(t){return-1!=Zg().indexOf(t)}function Bw(t){return Bw[" "](t),t}Bw[" "]=function(){};var $w,t,ble=pi("Opera"),Hc=pi("Trident")||pi("MSIE"),Vk=pi("Edge"),jw=Vk||Hc,Hk=pi("Gecko")&&!(-1!=Zg().toLowerCase().indexOf("webkit")&&!pi("Edge"))&&!(pi("Trident")||pi("MSIE"))&&!pi("Edge"),Cle=-1!=Zg().toLowerCase().indexOf("webkit")&&!pi("Edge");function zk(){var t=ie.document;return t?t.documentMode:void 0}e:{var Gw="",qw=(t=Zg(),Hk?/rv:([^\);]+)(\)|;)/.exec(t):Vk?/Edge\/([\d\.]+)/.exec(t):Hc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Cle?/WebKit\/(\S+)/.exec(t):ble?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(qw&&(Gw=qw?qw[1]:""),Hc){var Ww=zk();if(null!=Ww&&Ww>parseFloat(Gw)){$w=String(Ww);break e}}$w=Gw}var Ile=ie.document&&Hc&&(zk()||parseInt($w,10))||void 0;function Cd(t,e){if(_n.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Hk){e:{try{Bw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ele[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cd.$.h.call(this)}}Wt(Cd,_n);var Ele={2:"touch",3:"pen",4:"mouse"};Cd.prototype.h=function(){Cd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Id="closure_listenable_"+(1e6*Math.random()|0),Sle=0;function Dle(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Sle,this.fa=this.ia=!1}function em(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Yw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Bk(t){const e={};for(const n in t)e[n]=t[n];return e}const jk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $k(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<jk.length;s++)n=jk[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tm(t){this.src=t,this.g={},this.h=0}function Qw(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=Fk(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(em(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Xw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}tm.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Xw(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Dle(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Jw="closure_lm_"+(1e6*Math.random()|0),Zw={};function Gk(t,e,n,r,i){if(r&&r.once)return Wk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Gk(t,e[s],n,r,i);return null}return n=rb(n),t&&t[Id]?t.O(e,n,wd(r)?!!r.capture:!!r,i):qk(t,e,n,!1,r,i)}function qk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=wd(i)?!!i.capture:!!i,a=tb(t);if(a||(t[Jw]=a=new tm(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Ale(){const e=Mle;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_le||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Yk(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Wk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Wk(t,e[s],n,r,i);return null}return n=rb(n),t&&t[Id]?t.P(e,n,wd(r)?!!r.capture:!!r,i):qk(t,e,n,!0,r,i)}function Kk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Kk(t,e[s],n,r,i);else r=wd(r)?!!r.capture:!!r,n=rb(n),t&&t[Id]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Xw(s=t.g[e],n,r,i))&&(em(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=tb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xw(e,n,r,i)),(n=-1<t?e[t]:null)&&eb(n))}function eb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Id])Qw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Yk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tb(e))?(Qw(n,t),0==n.h&&(n.src=null,e[Jw]=null)):em(t)}}}function Yk(t){return t in Zw?Zw[t]:Zw[t]="on"+t}function Mle(t,e){if(t.fa)t=!0;else{e=new Cd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&eb(t),t=n.call(r,e)}return t}function tb(t){return(t=t[Jw])instanceof tm?t:null}var nb="__closure_events_fn_"+(1e9*Math.random()>>>0);function rb(t){return"function"==typeof t?t:(t[nb]||(t[nb]=function(e){return t.handleEvent(e)}),t[nb])}function Kt(){Vs.call(this),this.i=new tm(this),this.S=this,this.J=null}function on(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new _n(e,t);else if(e instanceof _n)e.target=e.target||t;else{var i=e;$k(e=new _n(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=nm(o,r,!0,e)&&i}if(i=nm(o=e.g=t,r,!0,e)&&i,i=nm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=nm(o=e.g=n[s],r,!1,e)&&i}function nm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Qw(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Wt(Kt,Vs),Kt.prototype[Id]=!0,Kt.prototype.removeEventListener=function(t,e,n,r){Kk(this,t,e,n,r)},Kt.prototype.N=function(){if(Kt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)em(n[r]);delete t.g[e],t.h--}}this.J=null},Kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ib=ie.JSON.stringify;function Nle(){var t=sb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Qk=new class xle{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ple,t=>t.reset());class Ple{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ole(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Rle(t){ie.setTimeout(()=>{throw t},0)}let Ed,Sd=!1,sb=new class kle{constructor(){this.h=this.g=null}add(e,n){const r=Qk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Xk=()=>{const t=ie.Promise.resolve(void 0);Ed=()=>{t.then(Fle)}};var Fle=()=>{for(var t;t=Nle();){try{t.h.call(t.g)}catch(n){Rle(n)}var e=Qk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sd=!1};function rm(t,e){Kt.call(this),this.h=t||1,this.g=e||ie,this.j=vn(this.qb,this),this.l=Date.now()}function ob(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function ab(t,e,n){if("function"==typeof t)n&&(t=vn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function Jk(t){t.g=ab(()=>{t.g=null,t.i&&(t.i=!1,Jk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Wt(rm,Kt),(F=rm.prototype).ga=!1,F.T=null,F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),on(this,"tick"),this.ga&&(ob(this),this.start()))}},F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.N=function(){rm.$.N.call(this),ob(this),delete this.g};class Lle extends Vs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jk(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dd(t){Vs.call(this),this.h=t,this.g={}}Wt(Dd,Vs);var Zk=[];function eP(t,e,n,r){Array.isArray(n)||(n&&(Zk[0]=n.toString()),n=Zk);for(var i=0;i<n.length;i++){var s=Gk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tP(t){Yw(t.g,function(e,n){this.g.hasOwnProperty(n)&&eb(e)},t),t.g={}}function im(){this.g=!0}function zc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ule(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ib(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Dd.prototype.N=function(){Dd.$.N.call(this),tP(this)},Dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},im.prototype.Ea=function(){this.g=!1},im.prototype.info=function(){};var Yo={},nP=null;function sm(){return nP=nP||new Kt}function rP(t){_n.call(this,Yo.Ta,t)}function Td(t){const e=sm();on(e,new rP(e))}function iP(t,e){_n.call(this,Yo.STAT_EVENT,t),this.stat=e}function Rn(t){const e=sm();on(e,new iP(e,t))}function sP(t,e){_n.call(this,Yo.Ua,t),this.size=e}function Ad(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}Yo.Ta="serverreachability",Wt(rP,_n),Yo.STAT_EVENT="statevent",Wt(iP,_n),Yo.Ua="timingevent",Wt(sP,_n);var om={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cb(){}function cP(){}cb.prototype.h=null;var db,Md={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ub(){_n.call(this,"d")}function lb(){_n.call(this,"c")}function am(){}function xd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Dd(this),this.P=Ble,this.V=new rm(t=jw?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uP}function uP(){this.i=null,this.g="",this.h=!1}Wt(ub,_n),Wt(lb,_n),Wt(am,cb),am.prototype.g=function(){return new XMLHttpRequest},am.prototype.i=function(){return{}},db=new am;var Ble=45e3,fb={},cm={};function hb(t,e,n){t.L=1,t.v=fm(Zi(e)),t.s=n,t.S=!0,lP(t,null)}function lP(t,e){t.G=Date.now(),Nd(t),t.A=Zi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),wP(n.i,"t",r),t.C=0,n=t.l.J,t.h=new uP,t.g=$P(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Lle(vn(t.Pa,t,t.g),t.O)),eP(t.U,t.g,"readystatechange",t.nb),e=t.I?Bk(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Td(),function Vle(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function dP(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function fP(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=jle(t,n),i==cm){4==e&&(t.o=4,Rn(14),r=!1),zc(t.j,t.m,null,"[Incomplete Response]");break}if(i==fb){t.o=4,Rn(15),zc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}zc(t.j,t.m,i,null),pb(t,i)}dP(t)&&i!=cm&&i!=fb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bb(e),e.M=!0,Rn(11))):(zc(t.j,t.m,n,"[Invalid Chunked Response]"),Qo(t),kd(t))}function jle(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?cm:(n=Number(e.substring(n,r)),isNaN(n)?fb:(r+=1)+n>e.length?cm:(e=e.slice(r,r+n),t.C=r+n,e))}function Nd(t){t.Y=Date.now()+t.P,hP(t,t.P)}function hP(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ad(vn(t.lb,t),e)}function um(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}function kd(t){0==t.l.H||t.J||zP(t.l,t)}function Qo(t){um(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,ob(t.V),tP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function pb(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||gb(n.i,t)))if(!t.K&&gb(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;vm(n),mm(n)}wb(n),Rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ad(vn(n.ib,n),6e3));if(1>=IP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Jo(n,11)}else if((t.K||n.g==t)&&vm(n),!bd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(mb(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,$e(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=jP(r,r.J?r.pa:null,r.Y),o.K){EP(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(um(a),Nd(a)),r.g=o}else VP(r);0<n.j.length&&ym(n)}else"stop"!=u[0]&&"close"!=u[0]||Jo(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Jo(n,7):_b(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Td()}catch{}}function pP(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Xg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Gle(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function $le(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Xg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(F=xd.prototype).setTimeout=function(t){this.P=t},F.nb=function(t){t=t.target;const e=this.M;e&&3==gi(t)?e.l():this.Pa(t)},F.Pa=function(t){try{if(t==this.g)e:{const l=gi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||jw||this.g&&(this.h.h||this.g.ja()||kP(this.g)))){this.J||4!=l||7==e||Td(),um(this);var n=this.g.da();this.ca=n;t:if(dP(this)){var r=kP(this.g);t="";var i=r.length,s=4==gi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qo(this),kd(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Hle(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bd(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Rn(12),Qo(this),kd(this);break e}zc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pb(this,n)}this.S?(fP(this,l,o),jw&&this.i&&3==l&&(eP(this.U,this.V,"tick",this.mb),this.V.start())):(zc(this.j,this.m,o,null),pb(this,o)),4==l&&Qo(this),this.i&&!this.J&&(4==l?zP(this.l,this):(this.i=!1,Nd(this)))}else(function ude(t){const e={};t=(t.g&&2<=gi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(bd(t[r]))continue;var n=Ole(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Tle(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),Qo(this),kd(this)}}}catch{}},F.mb=function(){if(this.g){var t=gi(this.g),e=this.g.ja();this.C<e.length&&(um(this),fP(this,t,e),this.i&&4!=t&&Nd(this))}},F.cancel=function(){this.J=!0,Qo(this)},F.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function zle(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Td(),Rn(17)),Qo(this),this.o=2,kd(this)):hP(this,this.Y-t)};var gP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xo){this.h=t.h,lm(this,t.j),this.s=t.s,this.g=t.g,dm(this,t.m),this.l=t.l;var e=t.i,n=new Rd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mP(this,n),this.o=t.o}else t&&(e=String(t).match(gP))?(this.h=!1,lm(this,e[1]||"",!0),this.s=Pd(e[2]||""),this.g=Pd(e[3]||"",!0),dm(this,e[4]),this.l=Pd(e[5]||"",!0),mP(this,e[6]||"",!0),this.o=Pd(e[7]||"")):(this.h=!1,this.i=new Rd(null,this.h))}function Zi(t){return new Xo(t)}function lm(t,e,n){t.j=n?Pd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function dm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mP(t,e,n){e instanceof Rd?(t.i=e,function Jle(t,e){e&&!t.j&&(Hs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vP(this,r),wP(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Od(e,Qle)),t.i=new Rd(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function fm(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Od(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wle),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wle(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Od(e,yP,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Od(e,yP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Od(n,"/"==n.charAt(0)?Yle:Kle,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Od(n,Xle)),t.join("")};var yP=/[#\/\?@]/g,Kle=/[#\?:]/g,Yle=/[#\?]/g,Qle=/[#\?@]/g,Xle=/#/g;function Rd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hs(t){t.g||(t.g=new Map,t.h=0,t.i&&function qle(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function vP(t,e){Hs(t),e=Uc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _P(t,e){return Hs(t),e=Uc(t,e),t.g.has(e)}function wP(t,e,n){vP(t,e),0<n.length&&(t.i=null,t.g.set(Uc(t,e),Uw(n)),t.h+=n.length)}function Uc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bP(t){this.l=t||ede,t=ie.PerformanceNavigationTiming?0<(t=ie.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=Rd.prototype).add=function(t,e){Hs(this),this.i=null,t=Uc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){Hs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.ta=function(){Hs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},F.Z=function(t){Hs(this);let e=[];if("string"==typeof t)_P(this,t)&&(e=e.concat(this.g.get(Uc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return Hs(this),this.i=null,_P(this,t=Uc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ede=10;function CP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function IP(t){return t.h?1:t.g?t.g.size:0}function gb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function mb(t,e){t.g?t.g.add(e):t.h=e}function EP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function SP(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Uw(t.i)}bP.prototype.cancel=function(){if(this.i=SP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var tde=class{stringify(t){return ie.JSON.stringify(t,void 0)}parse(t){return ie.JSON.parse(t,void 0)}};function nde(){this.g=new tde}function rde(t,e,n){const r=n||"";try{pP(t,function(i,s){let o=i;wd(i)&&(o=ib(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fd(t){this.l=t.fc||null,this.j=t.ob||!1}function pm(t,e){Kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=yb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wt(Fd,cb),Fd.prototype.g=function(){return new pm(this.l,this.j)},Fd.prototype.i=function(t){return function(){return t}}({}),Wt(pm,Kt);var yb=0;function DP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ld(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vd(t)}function Vd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=pm.prototype).open=function(t,e){if(this.readyState!=yb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vd(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ld(this)),this.readyState=yb},F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vd(this)),this.g&&(this.readyState=3,Vd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ld(this):Vd(this),3==this.readyState&&DP(this)}},F.Za=function(t){this.g&&(this.response=this.responseText=t,Ld(this))},F.Ya=function(t){this.g&&(this.response=t,Ld(this))},F.ka=function(){this.g&&Ld(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var sde=ie.JSON.parse;function ft(t){Kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TP,this.L=this.M=!1}Wt(ft,Kt);var TP="",ode=/^https?$/i,ade=["POST","PUT"];function AP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MP(t),gm(t)}function MP(t){t.F||(t.F=!0,on(t,"complete"),on(t,"error"))}function xP(t){if(t.h&&typeof Hw<"u"&&(!t.C[1]||4!=gi(t)||2!=t.da()))if(t.v&&4==gi(t))ab(t.La,0,t);else if(on(t,"readystatechange"),4==gi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(gP)[1]||null;!i&&ie.self&&ie.self.location&&(i=ie.self.location.protocol.slice(0,-1)),r=!ode.test(i?i.toLowerCase():"")}n=r}if(n)on(t,"complete"),on(t,"success");else{t.m=6;try{var s=2<gi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",MP(t)}}finally{gm(t)}}}function gm(t,e){if(t.g){NP(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||on(t,"ready");try{n.onreadystatechange=r}catch{}}}function NP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function gi(t){return t.g?t.g.readyState:0}function kP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case TP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function PP(t){let e="";return Yw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function vb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PP(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Hd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function OP(t){this.Ga=0,this.j=[],this.l=new im,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hd("baseRetryDelayMs",5e3,t),this.hb=Hd("retryDelaySeedMs",1e4,t),this.eb=Hd("forwardChannelMaxRetries",2,t),this.xa=Hd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new bP(t&&t.concurrentRequestLimit),this.Ja=new nde,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _b(t){if(RP(t),3==t.H){var e=t.W++,n=Zi(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),zd(t,n),(e=new xd(t,t.l,e)).L=2,e.v=fm(Zi(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon)try{n=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ie.Image&&((new Image).src=e.v,n=!0),n||(e.g=$P(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Nd(e)}BP(t)}function mm(t){t.g&&(bb(t),t.g.cancel(),t.g=null)}function RP(t){mm(t),t.u&&(ie.clearTimeout(t.u),t.u=null),vm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ie.clearTimeout(t.m),t.m=null)}function ym(t){if(!CP(t.i)&&!t.m){t.m=!0;var e=t.Na;Ed||Xk(),Sd||(Ed(),Sd=!0),sb.add(e,t),t.C=0}}function FP(t,e){var n;n=e?e.m:t.W++;const r=Zi(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),zd(t,r),t.o&&t.s&&vb(r,t.o,t.s),n=new xd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),mb(t.i,n),hb(n,r,e)}function zd(t,e){t.na&&Yw(t.na,function(n,r){$e(e,r,n)}),t.h&&pP({},function(n,r){$e(e,r,n)})}function LP(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{rde(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ed||Xk(),Sd||(Ed(),Sd=!0),sb.add(e,t),t.A=0}}function wb(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ad(vn(t.Ma,t),UP(t,t.A)),t.A++,0))}function bb(t){null!=t.B&&(ie.clearTimeout(t.B),t.B=null)}function HP(t){t.g=new xd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Zi(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),zd(t,e),t.o&&t.s&&vb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=fm(Zi(e)),n.s=null,n.S=!0,lP(n,t)}function vm(t){null!=t.v&&(ie.clearTimeout(t.v),t.v=null)}function zP(t,e){var n=null;if(t.g==e){vm(t),bb(t),t.g=null;var r=2}else{if(!gb(t.i,e))return;n=e.F,EP(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;on(r=sm(),new sP(r,n)),ym(t)}else VP(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function lde(t,e){return!(IP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ad(vn(t.Na,t,e),UP(t,t.C)),t.C++,0)))}(t,e)||2==r&&wb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Jo(t,5);break;case 4:Jo(t,10);break;case 3:Jo(t,6);break;default:Jo(t,2)}}function UP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Jo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=vn(t.pb,t);n||(n=new Xo("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||lm(n,"https"),fm(n)),function ide(t,e){const n=new im;if(ie.Image){const r=new Image;r.onload=Jg(hm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jg(hm,n,r,"TestLoadImage: error",!1,e),r.onabort=Jg(hm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jg(hm,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Rn(2);t.H=0,t.h&&t.h.za(e),BP(t),RP(t)}function BP(t){if(t.H=0,t.ma=[],t.h){const e=SP(t.i);(0!=e.length||0!=t.j.length)&&(Lk(t.ma,e),Lk(t.ma,t.j),t.i.i.length=0,Uw(t.j),t.j.length=0),t.h.ya()}}function jP(t,e,n){var r=n instanceof Xo?Zi(n):new Xo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),dm(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xo(null);r&&lm(s,r),e&&(s.g=e),i&&dm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&$e(r,n,e),$e(r,"VER",t.ra),zd(t,r),r}function $P(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ft(n&&t.Ha&&!t.va?new Fd({ob:!0}):t.va)).Oa(t.J),e}function GP(){}function _m(){if(Hc&&!(10<=Number(Ile)))throw Error("Environmental error: no available transport.")}function lr(t,e){Kt.call(this),this.g=new OP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!bd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bd(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Bc(this)}function qP(t){ub.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function WP(){lb.call(this),this.status=1}function Bc(t){this.g=t}function Ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cb(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(F=ft.prototype).Oa=function(t){this.M=t},F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():db.g(),this.C=function aP(t){return t.h||(t.h=t.i())}(this.u?this.u:db),this.g.onreadystatechange=vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void AP(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ie.FormData&&t instanceof ie.FormData,!(0<=Fk(ade,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NP(this),0<this.B&&((this.L=function cde(t){return Hc&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.ua,this)):this.A=ab(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){AP(this,s)}},F.ua=function(){typeof Hw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,on(this,"complete"),on(this,"abort"),gm(this))},F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gm(this,!0)),ft.$.N.call(this)},F.La=function(){this.s||(this.G||this.v||this.l?xP(this):this.kb())},F.kb=function(){xP(this)},F.isActive=function(){return!!this.g},F.da=function(){try{return 2<gi(this)?this.g.status:-1}catch{return-1}},F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sde(e)}},F.Ia=function(){return this.m},F.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=OP.prototype).ra=8,F.H=1,F.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new xd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Bk(s),$k(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LP(this,i,e),$e(n=Zi(this.I),"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),zd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(PP(s)))+"&"+e:this.o&&vb(n,this.o,s)),mb(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,hb(i,n,null)):hb(i,n,e),this.H=2}}else 3==this.H&&(t?FP(this,t):0==this.j.length||CP(this.i)||FP(this))},F.Ma=function(){if(this.u=null,HP(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ad(vn(this.jb,this),t)}},F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rn(10),mm(this),HP(this))},F.ib=function(){null!=this.v&&(this.v=null,mm(this),wb(this),Rn(19))},F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rn(2)):(this.l.info("Failed to ping google.com"),Rn(1))},F.isActive=function(){return!!this.h&&this.h.isActive(this)},(F=GP.prototype).Ba=function(){},F.Aa=function(){},F.za=function(){},F.ya=function(){},F.isActive=function(){return!0},F.Va=function(){},_m.prototype.g=function(t,e){return new lr(t,e)},Wt(lr,Kt),lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=jP(t,null,t.Y),ym(t)},lr.prototype.close=function(){_b(this.g)},lr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ib(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&ym(e)},lr.prototype.N=function(){this.g.h=null,delete this.j,_b(this.g),delete this.g,lr.$.N.call(this)},Wt(qP,ub),Wt(WP,lb),Wt(Bc,GP),Bc.prototype.Ba=function(){on(this.g,"a")},Bc.prototype.Aa=function(t){on(this.g,new qP(t))},Bc.prototype.za=function(t){on(this.g,new WP)},Bc.prototype.ya=function(){on(this.g,"b")},Wt(Ur,function dde(){this.blockSize=-1}),Ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ur.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)Cb(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Cb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Cb(this,r),i=0;break}}this.h=i,this.i+=e},Ur.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var fde={};function Ib(t){return-128<=t&&128>t?function wle(t,e){var n=fde;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Me([0|e],0>e?-1:0)}):new Me([0|t],0>t?-1:0)}function mi(t){if(isNaN(t)||!isFinite(t))return jc;if(0>t)return an(mi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Eb;return new Me(e,0)}var Eb=4294967296,jc=Ib(0),Sb=Ib(1),YP=Ib(16777216);function es(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Er(t){return-1==t.h}function an(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(Sb)}function wm(t,e){return t.add(an(e))}function bm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ud(t,e){this.g=t,this.h=e}function Cm(t,e){if(es(e))throw Error("division by zero");if(es(t))return new Ud(jc,jc);if(Er(t))return e=Cm(an(t),e),new Ud(an(e.g),an(e.h));if(Er(e))return e=Cm(t,an(e)),new Ud(an(e.g),e.h);if(30<t.g.length){if(Er(t)||Er(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Sb,r=e;0>=r.X(t);)n=QP(n),r=QP(r);var i=$c(n,1),s=$c(r,1);for(r=$c(r,2),n=$c(n,2);!es(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$c(r,1),n=$c(n,1)}return e=wm(t,i.R(e)),new Ud(i,e)}for(i=jc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=mi(n)).R(e);Er(o)||0<o.X(t);)o=(s=mi(n-=r)).R(e);es(s)&&(s=Sb),i=i.add(s),t=wm(t,o)}return new Ud(i,t)}function QP(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function $c(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Me(i,t.h)}(F=Me.prototype).ea=function(){if(Er(this))return-an(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Eb+r)*e,e*=Eb}return t},F.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(es(this))return"0";if(Er(this))return"-"+an(this).toString(t);for(var e=mi(Math.pow(t,6)),n=this,r="";;){var i=Cm(n,e).g,s=((0<(n=wm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(es(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},F.X=function(t){return Er(t=wm(this,t))?-1:es(t)?0:1},F.abs=function(){return Er(this)?an(this):this},F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Me(n,-2147483648&n[n.length-1]?-1:0)},F.R=function(t){if(es(this)||es(t))return jc;if(Er(this))return Er(t)?an(this).R(an(t)):an(an(this).R(t));if(Er(t))return an(this.R(an(t)));if(0>this.X(YP)&&0>t.X(YP))return mi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,bm(n,2*r+2*i),n[2*r+2*i+1]+=s*c,bm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,bm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,bm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)},F.gb=function(t){return Cm(this,t).h},F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)},F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)},F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)},_m.prototype.createWebChannel=_m.prototype.g,lr.prototype.send=lr.prototype.u,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,om.NO_ERROR=0,om.TIMEOUT=8,om.HTTP_ERROR=6,oP.COMPLETE="complete",cP.EventType=Md,Md.OPEN="a",Md.CLOSE="b",Md.ERROR="c",Md.MESSAGE="d",Kt.prototype.listen=Kt.prototype.O,ft.prototype.listenOnce=ft.prototype.P,ft.prototype.getLastError=ft.prototype.Sa,ft.prototype.getLastErrorCode=ft.prototype.Ia,ft.prototype.getStatus=ft.prototype.da,ft.prototype.getResponseJson=ft.prototype.Wa,ft.prototype.getResponseText=ft.prototype.ja,ft.prototype.send=ft.prototype.ha,ft.prototype.setWithCredentials=ft.prototype.Oa,Ur.prototype.digest=Ur.prototype.l,Ur.prototype.reset=Ur.prototype.reset,Ur.prototype.update=Ur.prototype.j,Me.prototype.add=Me.prototype.add,Me.prototype.multiply=Me.prototype.R,Me.prototype.modulo=Me.prototype.gb,Me.prototype.compare=Me.prototype.X,Me.prototype.toNumber=Me.prototype.ea,Me.prototype.toString=Me.prototype.toString,Me.prototype.getBits=Me.prototype.D,Me.fromNumber=mi,Me.fromString=function KP(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return an(KP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mi(Math.pow(e,8)),r=jc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=mi(Math.pow(e,s)),r=r.R(s).add(mi(o))):r=(r=r.R(n)).add(mi(o))}return r};var hde=zr.createWebChannelTransport=function(){return new _m},pde=zr.getStatEventTarget=function(){return sm()},Db=zr.ErrorCode=om,gde=zr.EventType=oP,mde=zr.Event=Yo,XP=zr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yde=zr.FetchXmlHttpFactory=Fd,Im=zr.WebChannel=cP,vde=zr.XhrIo=ft,_de=zr.Md5=Ur,Gc=zr.Integer=Me;const JP="@firebase/firestore";class Yt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let qc="9.23.0";const zs=new Tc("@firebase/firestore");function Tb(){return zs.logLevel}function A(t,...e){if(zs.logLevel<=ve.DEBUG){const n=e.map(Ab);zs.debug(`Firestore (${qc}): ${t}`,...n)}}function Ct(t,...e){if(zs.logLevel<=ve.ERROR){const n=e.map(Ab);zs.error(`Firestore (${qc}): ${t}`,...n)}}function Br(t,...e){if(zs.logLevel<=ve.WARN){const n=e.map(Ab);zs.warn(`Firestore (${qc}): ${t}`,...n)}}function Ab(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function H(t="Unexpected state"){const e=`FIRESTORE (${qc}) INTERNAL ASSERTION FAILED: `+t;throw Ct(e),new Error(e)}function j(t,e){t||H()}function O(t,e){return t}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends Cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ZP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class bde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cde{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(g(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ft)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new ZP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Yt(e)}}class Ide{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ede{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ide(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sde{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.T=n.token,new eO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class tO{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Dde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function Wc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new at(0,0))}static max(){return new q(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bd{constructor(e,n,r){void 0===n?n=0:n>e.length&&H(),void 0===r?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Bd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends Bd{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const Tde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Bd{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return Tde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new S(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}class P{constructor(e){this.path=e}static fromPath(e){return new P(me.fromString(e))}static fromName(e){return new P(me.fromString(e).popFirst(5))}static empty(){return new P(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new me(e.slice()))}}function iO(t){return new dr(t.readTime,t.key,-1)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(q.min(),P.empty(),-1)}static max(){return new dr(q.max(),P.empty(),-1)}}function xb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=P.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}const sO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Us(t){return Nb.apply(this,arguments)}function Nb(){return Nb=g(function*(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==sO)throw t;A("LocalStore","Unexpectedly lost primary lease")}),Nb.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Bs(t){return"IndexedDbTransactionError"===t.name}let fr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Gd(t){return null==t}function qd(t){return 0===t&&1/t==-1/0}function pO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Be{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Am(this.root,e,this.comparator,!1)}getReverseIterator(){return new Am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Am(this.root,e,this.comparator,!0)}}class Am{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=s??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1,cn.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(t,e,n,r,i){return this}insert(t,e,n){return new cn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mO(this.data.getIterator())}getIteratorFrom(e){return new mO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class mO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Ge(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class yO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yO("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const Zde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(j(!!t),"string"==typeof t){let e=0;const n=Zde.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ts(t){return"string"==typeof t?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function Mm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xm(t){const e=t.mapValue.fields.__previous_value__;return Mm(e)?xm(e):e}function Wd(t){const e=$s(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}class efe{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class ta{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}const Gs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mm(t)?4:bO(t)?9007199254740991:10:H()}function vi(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wd(t).isEqual(Wd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=$s(r.timestampValue),o=$s(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ts(t.bytesValue).isEqual(ts(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ht(r.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ht(r.integerValue)===ht(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ht(r.doubleValue),o=ht(i.doubleValue);return s===o?qd(s)===qd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Wc(t.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pO(s)!==pO(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!vi(s[a],o[a])))return!1;return!0}(t,e);default:return H()}var i}function Kd(t,e){return void 0!==(t.values||[]).find(n=>vi(n,e))}function Ws(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ht(i.integerValue||i.doubleValue),a=ht(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return vO(t.timestampValue,e.timestampValue);case 4:return vO(Wd(t),Wd(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ts(i),a=ts(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=te(o[c],a[c]);if(0!==u)return u}return te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=te(ht(i.latitude),ht(s.latitude));return 0!==o?o:te(ht(i.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Ws(o[c],a[c]);if(u)return u}return te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Gs.mapValue&&s===Gs.mapValue)return 0;if(i===Gs.mapValue)return 1;if(s===Gs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=te(a[l],u[l]);if(0!==d)return d;const f=Ws(o[a[l]],c[u[l]]);if(0!==f)return f}return te(a.length,u.length)}(t.mapValue,e.mapValue);default:throw H()}}function vO(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=$s(t),r=$s(e),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function Yc(t){return Ob(t)}function Ob(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=$s(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ts(t.bytesValue).toBase64():"referenceValue"in t?P.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ob(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ob(r.fields[a])}`;return s+"}"}(t.mapValue):H();var e}function na(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rb(t){return!!t&&"integerValue"in t}function Yd(t){return!!t&&"arrayValue"in t}function _O(t){return!!t&&"nullValue"in t}function wO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pm(t){return!!t&&"mapValue"in t}function Qd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bO(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qd(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){js(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new un(Qd(this.value))}}function EO(t){const e=[];return js(t.fields,(n,r)=>{const i=new It([n]);if(Pm(r)){const s=EO(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yn(e)}class qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,q.min(),q.min(),q.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new qe(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new qe(e,2,n,q.min(),q.min(),un.empty(),0)}static newUnknownDocument(e,n){return new qe(e,3,n,q.min(),q.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ks{constructor(e,n){this.position=e,this.inclusive=n}}function SO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?P.comparator(P.fromName(o.referenceValue),n.key):Ws(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function DO(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vi(t.position[n],e.position[n]))return!1;return!0}class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function rfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class TO{}class de extends TO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new ife(e,n,r):"array-contains"===n?new afe(e,r):"in"===n?new PO(e,r):"not-in"===n?new cfe(e,r):"array-contains-any"===n?new ufe(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new sfe(e,r):new ofe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ws(n,this.value)):null!==n&&qs(this.value)===qs(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xe extends TO{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new xe(e,n)}matches(e){return Xc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Xc(t){return"and"===t.op}function Lb(t){return function AO(t){for(const e of t.filters)if(e instanceof xe)return!1;return!0}(t)&&Xc(t)}function Vb(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+Yc(t.value);if(Lb(t))return t.filters.map(e=>Vb(e)).join(",");{const e=t.filters.map(n=>Vb(n)).join(",");return`${t.op}(${e})`}}function MO(t,e){return t instanceof de?(n=t,(r=e)instanceof de&&n.op===r.op&&n.field.isEqual(r.field)&&vi(n.value,r.value)):t instanceof xe?function(n,r){return r instanceof xe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&MO(s,r.filters[o]),!0)}(t,e):void H();var n,r}function NO(t){return t instanceof de?`${(e=t).field.canonicalString()} ${e.op} ${Yc(e.value)}`:t instanceof xe?function(e){return e.op.toString()+" {"+e.getFilters().map(NO).join(" ,")+"}"}(t):"Filter";var e}class ife extends de{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){const n=P.comparator(e.key,this.key);return this.matchesComparison(n)}}class sfe extends de{constructor(e,n){super(e,"in",n),this.keys=kO(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ofe extends de{constructor(e,n){super(e,"not-in",n),this.keys=kO(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kO(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}class afe extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yd(n)&&Kd(n.arrayValue,this.value)}}class PO extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Kd(this.value.arrayValue,n)}}class cfe extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Kd(this.value.arrayValue,n)}}class ufe extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kd(this.value.arrayValue,r))}}class lfe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Hb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new lfe(t,e,n,r,i,s,o)}function ra(t){const e=O(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yc(r)).join(",")),e.dt=n}return e.dt}function Xd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DO(t.startAt,e.startAt)&&DO(t.endAt,e.endAt)}function Om(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ns{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Jc(t){return new ns(t)}function LO(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function zb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Fm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Ub(t){return null!==t.collectionGroup}function ia(t){const e=O(t);if(null===e.wt){e.wt=[];const n=Fm(e),r=zb(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Qc(n)),e.wt.push(new Qc(It.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Qc(It.keyField(),s))}}}return e.wt}function Fn(t){const e=O(t);if(!e._t)if("F"===e.limitType)e._t=Hb(e.path,e.collectionGroup,ia(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ia(e))n.push(new Qc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ks(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ks(e.startAt.position,e.startAt.inclusive):null;e._t=Hb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Bb(t,e){e.getFirstInequalityField(),Fm(t);const n=t.filters.concat([e]);return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lm(t,e,n){return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return Xd(Fn(t),Fn(e))&&t.limitType===e.limitType}function VO(t){return`${ra(Fn(t))}|lt:${t.limitType}`}function jb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>NO(r)).join(", ")}]`),Gd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yc(r)).join(",")),`Target(${n})`}(Fn(t))}; limitType=${t.limitType})`}function Zd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):P.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ia(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=SO(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ia(n),r)||n.endAt&&!function(i,s,o){const a=SO(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ia(n),r)));var n,r}function zO(t){return(e,n)=>{let r=!1;for(const i of ia(t)){const s=dfe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function dfe(t,e,n){const r=t.field.isKeyField()?P.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?Ws(a,c):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}class rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gO(this.inner)}size(){return this.innerSize}}const ffe=new Be(P.comparator);function Qn(){return ffe}const UO=new Be(P.comparator);function ef(...t){let e=UO;for(const n of t)e=e.insert(n.key,n);return e}function BO(t){let e=UO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return tf()}function jO(){return tf()}function tf(){return new rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const hfe=new Be(P.comparator),pfe=new Ge(P.comparator);function ae(...t){let e=pfe;for(const n of t)e=e.add(n);return e}const gfe=new Ge(te);function $O(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function GO(t){return{integerValue:""+t}}function qO(t,e){return function aO(t){return"number"==typeof t&&Number.isInteger(t)&&!qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?GO(e):$O(t,e)}class Vm{constructor(){this._=void 0}}function mfe(t,e,n){return t instanceof Zc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Mm(i)&&(i=xm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof sa?KO(t,e):t instanceof oa?YO(t,e):function(r,i){const s=WO(r,i),o=QO(s)+QO(r.gt);return Rb(s)&&Rb(r.gt)?GO(o):$O(r.serializer,o)}(t,e)}function yfe(t,e,n){return t instanceof sa?KO(t,e):t instanceof oa?YO(t,e):n}function WO(t,e){return t instanceof eu?Rb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Zc extends Vm{}class sa extends Vm{constructor(e){super(),this.elements=e}}function KO(t,e){const n=XO(e);for(const r of t.elements)n.some(i=>vi(i,r))||n.push(r);return{arrayValue:{values:n}}}class oa extends Vm{constructor(e){super(),this.elements=e}}function YO(t,e){let n=XO(e);for(const r of t.elements)n=n.filter(i=>!vi(i,r));return{arrayValue:{values:n}}}class eu extends Vm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function QO(t){return ht(t.integerValue||t.doubleValue)}function XO(t){return Yd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class _fe{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class zm{}function JO(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new nu(t.key,et.none()):new tu(t.key,t.data,et.none());{const n=t.data,r=un.empty();let i=new Ge(It.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new is(t.key,r,new Yn(i.toArray()),et.none())}}function wfe(t,e,n){t instanceof tu?function(r,i,s){const o=r.value.clone(),a=tR(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof is?function(r,i,s){if(!Hm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=tR(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(eR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function rf(t,e,n,r){return t instanceof tu?function(i,s,o,a){if(!Hm(i.precondition,s))return o;const c=i.value.clone(),u=nR(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof is?function(i,s,o,a){if(!Hm(i.precondition,s))return o;const c=nR(i.fieldTransforms,a,s),u=s.data;return u.setAll(eR(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Hm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function bfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=WO(r.transform,i||null);null!=s&&(null===n&&(n=un.empty()),n.set(r.field,s))}return n||null}function ZO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Wc(n,r,(i,s)=>function vfe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof sa&&r instanceof sa||n instanceof oa&&r instanceof oa?Wc(n.elements,r.elements,vi):n instanceof eu&&r instanceof eu?vi(n.gt,r.gt):n instanceof Zc&&r instanceof Zc);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class tu extends zm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class is extends zm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tR(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yfe(o,a,n[i]))}return r}function nR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mfe(s,o,e))}return r}class nu extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gb extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wfe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=JO(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,(n,r)=>ZO(n,r))&&Wc(this.baseMutations,e.baseMutations,(n,r)=>ZO(n,r))}}class Wb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=hfe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Wb(e,n,r,i)}}class Kb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ife{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,ye;function iR(t){if(void 0===t)return Ct("GRPC error has no .code"),b.UNKNOWN;switch(t){case Mt.OK:return b.OK;case Mt.CANCELLED:return b.CANCELLED;case Mt.UNKNOWN:return b.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return b.INTERNAL;case Mt.UNAVAILABLE:return b.UNAVAILABLE;case Mt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Mt.NOT_FOUND:return b.NOT_FOUND;case Mt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Mt.ABORTED:return b.ABORTED;case Mt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Mt.DATA_LOSS:return b.DATA_LOSS;default:return H()}}(ye=Mt||(Mt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";class Yb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Um}static getOrCreateInstance(){return null===Um&&(Um=new Yb),Um}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Um=null;const Efe=new Gc([4294967295,4294967295],0);function oR(t){const e=function sR(){return new TextEncoder}().encode(t),n=new _de;return n.update(e),new Uint8Array(n.digest())}function aR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gc([n,r],0),new Gc([i,s],0)]}class Qb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sf(`Invalid padding: ${n}`);if(r<0)throw new sf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new sf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new sf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Gc.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Gc.fromNumber(r)));return 1===i.compare(Efe)&&(i=new Gc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=oR(e),[r,i]=aR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Qb(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=oR(e),[r,i]=aR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class af{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new af(q.min(),i,new Be(te),Qn(),ae())}}class cf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cf(r,n,ae(),ae(),ae())}}class Bm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class cR{constructor(e,n){this.targetId=e,this.Vt=n}}class uR{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lR{constructor(){this.St=0,this.Dt=fR(),this.Ct=Lt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ae(),n=ae(),r=ae();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new cf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=fR()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Sfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Qn(),this.zt=dR(),this.Wt=new Be(te)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Om(o))if(0===i){const a=new P(o.path);this.Yt(r,a,qe.newNoDocument(a,q.min()))}else j(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Yb.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var f,h,p,m,y,_;const v={localCacheCount:l,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(v.bloomFilter={applied:0===u,hashCount:null!==(f=C?.hashCount)&&void 0!==f?f:0,bitmapLength:null!==(m=null===(p=null===(h=C?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(_=null===(y=C?.bits)||void 0===y?void 0:y.padding)&&void 0!==_?_:0}),v}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,u;try{c=ts(s).toUint8Array()}catch(l){if(l instanceof yO)return Br("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new Qb(c,o,a)}catch(l){return Br(l instanceof sf?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Om(a.target)){const c=new P(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,qe.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ae();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new af(e,n,this.Wt,this.jt,r);return this.jt=Qn(),this.zt=dR(),this.Wt=new Be(te),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new lR,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ge(te),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new lR),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function dR(){return new Be(P.comparator)}function fR(){return new Be(P.comparator)}const Dfe={asc:"ASCENDING",desc:"DESCENDING"},Tfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Afe={and:"AND",or:"OR"};class Mfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xb(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function ru(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xfe(t,e){return ru(t,e.toTimestamp())}function Et(t){return j(!!t),q.fromTimestamp(function(e){const n=$s(e);return new at(n.seconds,n.nanos)}(t))}function Jb(t,e){return(n=t,new me(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function pR(t){const e=me.fromString(t);return j(IR(e)),e}function uf(t,e){return Jb(t.databaseId,e.path)}function wi(t,e){const n=pR(e);if(n.get(1)!==t.databaseId.projectId)throw new S(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(mR(n))}function Zb(t,e){return Jb(t.databaseId,e)}function lf(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mR(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function yR(t,e,n){return{name:uf(t,e),fields:n.value.mapValue.fields}}function _R(t,e){return{documents:[Zb(t,e.path)]}}function tC(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Zb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return CR(xe.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:Ys((l=u).field),direction:Rfe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Xb(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function wR(t){let e=function gR(t){const e=pR(t);return 4===e.length?me.emptyPath():mR(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=bR(l);return d instanceof xe&&Lb(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Qc(iu((d=l).field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Gd(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new Ks((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new Ks(l.values||[],!l.before)}(n.endAt)),function FO(t,e,n,r,i,s,o,a){return new ns(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function bR(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=iu(e.unaryFilter.field);return de.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=iu(e.unaryFilter.field);return de.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=iu(e.unaryFilter.field);return de.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=iu(e.unaryFilter.field);return de.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):void 0!==t.fieldFilter?de.create(iu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return xe.create(e.compositeFilter.filters.map(n=>bR(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(t):H();var e}function Rfe(t){return Dfe[t]}function Ffe(t){return Tfe[t]}function Lfe(t){return Afe[t]}function Ys(t){return{fieldPath:t.canonicalString()}}function iu(t){return It.fromServerFormat(t.fieldPath)}function CR(t){return t instanceof de?function(e){if("=="===e.op){if(wO(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NAN"}};if(_O(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wO(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NOT_NAN"}};if(_O(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(e.field),op:Ffe(e.op),value:e.value}}}(t):t instanceof xe?function(e){const n=e.getFilters().map(r=>CR(r));return 1===n.length?n[0]:{compositeFilter:{op:Lfe(e.op),filters:n}}}(t):H()}function Vfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IR(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ss{constructor(e,n,r,i,s=q.min(),o=q.min(),a=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ER{constructor(e){this.fe=e}}function nC(t){const e=wR({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Lm(e,e.limit,"L"):e}class la{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ht(e.integerValue));else if("doubleValue"in e){const r=ht(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),qd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ts(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?bO(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):H()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),P.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}la.Ve=new la;class Wfe{constructor(){this.rn=new cC}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(dr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class cC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(me.comparator)).toArray()}}new Uint8Array(0);class bn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class fa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fa(0)}static Mn(){return new fa(-1)}}class Zfe{constructor(){this.changes=new rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class QR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&rf(r.mutation,i,Yn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ef();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qn();const o=tf(),a=tf();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof is)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),rf(l.mutation,u,l.mutation.getFieldMask(),at.now())):o.set(u.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new nhe(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tf();let i=new Be((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Yn.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||ae()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=jO();l.forEach(f=>{if(!s.has(f)){const h=JO(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return P.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Ub(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(_i());let a=-1,c=s;return o.next(u=>w.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ae())).next(l=>({batchId:a,changes:BO(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(r=>{let i=ef();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ef();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const c=(u=n,l=a.child(i),new ns(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,qe.newInvalidDocument(u)))});let o=ef();return s.forEach((a,c)=>{const u=i.get(a);void 0!==u&&rf(u.mutation,c,Yn.empty(),at.now()),Zd(n,c)&&(o=o.insert(a,c))}),o})}}class rhe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Et(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:nC(r.bundledQuery),readTime:Et(r.readTime)}),w.resolve();var r}}class ihe{constructor(){this.overlays=new Be(P.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_i();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=_i(),s=n.length+1,o=new P(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=_i(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=_i(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Kb(n,r));let s=this.ls.get(n);void 0===s&&(s=ae(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class uC{constructor(){this.fs=new Ge(Xt.ds),this.ws=new Ge(Xt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Xt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new P(new me([])),r=new Xt(n,e),i=new Xt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new P(new me([])),r=new Xt(n,e),i=new Xt(n,e+1);let s=ae();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return P.comparator(e.key,n.key)||te(e.As,n.As)}static _s(e,n){return te(e.As,n.As)||P.comparator(e.key,n.key)}}class she{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ge(Xt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new qb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),i=new Xt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(te);return n.forEach(i=>{const s=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;P.isDocumentKey(s)||(s=s.child(""));const o=new Xt(new P(s),0);let a=new Ge(te);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Xt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ohe{constructor(e){this.Ds=e,this.docs=new Be(P.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qe.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qn();const o=n.path,a=new P(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||xb(iO(l),r)<=0||(i.has(l.key)||Zd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ahe(this)}getSize(e){return w.resolve(this.size)}}class ahe extends Zfe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class che{constructor(e){this.persistence=e,this.xs=new rs(n=>ra(n),Xd),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uC,this.targetCount=0,this.Ms=fa.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class lC{constructor(e,n){this.$s={},this.overlays={},this.Os=new fr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new che(this),this.indexManager=new Wfe,this.remoteDocumentCache=new ohe(r=>this.referenceDelegate.Ls(r)),this.serializer=new ER(n),this.qs=new rhe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ihe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new she(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new uhe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class uhe extends xde{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Qs=new uC,this.js=null}static zs(e){return new Xm(e)}get Ws(){if(this.js)return this.js;throw H()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=P.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class pC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pC(e,n.fromCache,r,i)}}class JR{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(LO(n))return w.resolve(null);let r=Fn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Lm(n,null,"F"),r=Fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,Lm(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return LO(n)||i.isEqual(q.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Tb()<=ve.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jb(n)),this.Wi(e,o,n,function rO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new at(n+1,0):new at(n,r));return new dr(i,P.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ge(zO(e));return n.forEach((i,s)=>{Zd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Tb()<=ve.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",jb(n)),this.Ui.getDocumentsMatchingQuery(e,n,dr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class dhe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Be(te),this.Yi=new rs(s=>ra(s),Xd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function eF(t,e){return gC.apply(this,arguments)}function gC(){return gC=g(function*(t,e){const n=O(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ae();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}),gC.apply(this,arguments)}function tF(t){const e=O(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function phe(t,e){const n=O(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cu(t,e,n){return mC.apply(this,arguments)}function mC(){return mC=g(function*(t,e,n){const r=O(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bs(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),mC.apply(this,arguments)}function e1(t,e,n){const r=O(t);let i=q.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=O(a),d=l.Yi.get(u);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,o,Fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:ae())).next(a=>(function sF(t,e,n){let r=t.Xi.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function HO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class bC{constructor(){this.activeTargetIds=function $b(){return gfe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cF{constructor(){this.Hr=new bC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new bC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yhe{Yr(e){}shutdown(){}}class uF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let r1=null;function IC(){return null===r1?r1=268435456+Math.round(2147483648*Math.random()):r1++,"0x"+r1.toString(16)}const vhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _he{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Cn="WebChannelConnection";class whe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=IC(),a=this.To(e,n);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(u=>(A("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Br("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${vhe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=IC();return new Promise((o,a)=>{const c=new vde;c.setWithCredentials(!0),c.listenOnce(gde.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Db.NO_ERROR:const l=c.getResponseJson();A(Cn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Db.TIMEOUT:A(Cn,`RPC '${e}' ${s} timed out`),a(new S(b.DEADLINE_EXCEEDED,"Request time out"));break;case Db.HTTP_ERROR:const d=c.getStatus();if(A(Cn,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(y)>=0?y:b.UNKNOWN}(h.status);a(new S(p,h.message))}else a(new S(b.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(b.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{A(Cn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);A(Cn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=IC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hde(),a=pde(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new yde({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");A(Cn,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let f=!1,h=!1;const p=new _he({ro:y=>{h?A(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(A(Cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),A(Cn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,_,v)=>{y.listen(_,C=>{try{v(C)}catch(N){setTimeout(()=>{throw N},0)}})};return m(d,Im.EventType.OPEN,()=>{h||A(Cn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Im.EventType.CLOSE,()=>{h||(h=!0,A(Cn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Im.EventType.ERROR,y=>{h||(h=!0,Br(Cn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new S(b.UNAVAILABLE,"The operation could not be completed")))}),m(d,Im.EventType.MESSAGE,y=>{var _;if(!h){const v=y.data[0];j(!!v);const N=v.error||(null===(_=v[0])||void 0===_?void 0:_.error);if(N){A(Cn,`RPC '${e}' stream ${i} received error:`,N);const L=N.status;let K=function(Nt){const zt=Mt[Nt];if(void 0!==zt)return iR(zt)}(L),he=N.message;void 0===K&&(K=b.INTERNAL,he="Unknown error status: "+L+" with message "+N.message),h=!0,p.wo(new S(K,he)),d.close()}else A(Cn,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),m(a,mde.STAT_EVENT,y=>{y.stat===XP.PROXY?A(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===XP.NOPROXY&&A(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function i1(){return typeof document<"u"?document:null}function wf(t){return new Mfe(t,!0)}class EC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class dF{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new EC(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Ct(n.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new S(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bhe extends dF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function kfe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:H(),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(j(void 0===u||"string"==typeof u),Lt.fromBase64String(u||"")):(j(void 0===u||u instanceof Uint8Array),Lt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?b.UNKNOWN:iR(c.code);return new S(u,c.message||"")}(o);n=new uR(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=wi(t,r.document.name),s=Et(r.document.updateTime),o=r.document.createTime?Et(r.document.createTime):q.min(),a=new un({mapValue:{fields:r.document.fields}}),c=qe.newFoundDocument(i,s,o,a);n=new Bm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=wi(t,r.document),s=r.readTime?Et(r.readTime):q.min(),o=qe.newNoDocument(i,s);n=new Bm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=wi(t,r.document);n=new Bm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return H();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Ife(i,s);n=new cR(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?Et(s.readTime):q.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=lf(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Om(a)?{documents:_R(i,a)}:{query:tC(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=hR(i,s.resumeToken);const c=Xb(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(q.min())>0){o.readTime=ru(i,s.snapshotVersion.toTimestamp());const c=Xb(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function Ofe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=lf(this.serializer),n.removeTarget=e,this.Wo(n)}}class Che extends dF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Pfe(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=Et(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=Et(i)),new _fe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Et(e.commitTime);return this.listener.cu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=lf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function df(t,e){let n;if(e instanceof tu)n={update:yR(t,e.key,e.value)};else if(e instanceof nu)n={delete:uf(t,e.key)};else if(e instanceof is)n={update:yR(t,e.key,e.data),updateMask:Vfe(e.fieldMask)};else{if(!(e instanceof Gb))return H();n={verify:uf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Zc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof sa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof oa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof eu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:xfe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:H()),n;var i}(this.serializer,r))};this.Wo(n)}}class Ihe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new S(b.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(b.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(b.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class She{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ct(n),this.mu=!1):A("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Dhe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var c;Zs(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(c=g(function*(u){const l=O(u);l.vu.add(4),yield uu(l),l.bu.set("Unknown"),l.vu.delete(4),yield bf(l)}),function(u){return c.apply(this,arguments)})(o))}))}),this.bu=new She(r,i)}}function bf(t){return DC.apply(this,arguments)}function DC(){return DC=g(function*(t){if(Zs(t))for(const e of t.Ru)yield e(!0)}),DC.apply(this,arguments)}function uu(t){return TC.apply(this,arguments)}function TC(){return TC=g(function*(t){for(const e of t.Ru)yield e(!1)}),TC.apply(this,arguments)}function s1(t,e){const n=O(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),xC(n)?MC(n):du(n).Ko()&&AC(n,e))}function Cf(t,e){const n=O(t),r=du(n);n.Au.delete(e),r.Ko()&&fF(n,e),0===n.Au.size&&(r.Ko()?r.jo():Zs(n)&&n.bu.set("Unknown"))}function AC(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).su(e)}function fF(t,e){t.Vu.qt(e),du(t).iu(e)}function MC(t){t.Vu=new Sfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),du(t).start(),t.bu.gu()}function xC(t){return Zs(t)&&!du(t).Uo()&&t.Au.size>0}function Zs(t){return 0===O(t).vu.size}function hF(t){t.Vu=void 0}function The(t){return NC.apply(this,arguments)}function NC(){return NC=g(function*(t){t.Au.forEach((e,n)=>{AC(t,e)})}),NC.apply(this,arguments)}function Ahe(t,e){return kC.apply(this,arguments)}function kC(){return kC=g(function*(t,e){hF(t),xC(t)?(t.bu.Iu(e),MC(t)):t.bu.set("Unknown")}),kC.apply(this,arguments)}function Mhe(t,e,n){return PC.apply(this,arguments)}function PC(){return PC=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof uR&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield o1(t,r)}else if(e instanceof Bm?t.Vu.Ht(e):e instanceof cR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(q.min()))try{const r=yield tF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Lt.EMPTY_BYTE_STRING,u.snapshotVersion)),fF(i,a);const l=new ss(u.target,a,c,u.sequenceNumber);AC(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield o1(t,r)}var r}),PC.apply(this,arguments)}function o1(t,e,n){return OC.apply(this,arguments)}function OC(){return OC=g(function*(t,e,n){if(!Bs(e))throw e;t.vu.add(1),yield uu(t),t.bu.set("Offline"),n||(n=()=>tF(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield bf(t)}))}),OC.apply(this,arguments)}function pF(t,e){return e().catch(n=>o1(t,n,e))}function lu(t){return RC.apply(this,arguments)}function RC(){return RC=g(function*(t){const e=O(t),n=eo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;xhe(e);)try{const i=yield phe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Nhe(e,i)}catch(i){yield o1(e,i)}gF(e)&&mF(e)}),RC.apply(this,arguments)}function xhe(t){return Zs(t)&&t.Eu.length<10}function Nhe(t,e){t.Eu.push(e);const n=eo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function gF(t){return Zs(t)&&!eo(t).Uo()&&t.Eu.length>0}function mF(t){eo(t).start()}function khe(t){return FC.apply(this,arguments)}function FC(){return FC=g(function*(t){eo(t).hu()}),FC.apply(this,arguments)}function Phe(t){return LC.apply(this,arguments)}function LC(){return LC=g(function*(t){const e=eo(t);for(const n of t.Eu)e.uu(n.mutations)}),LC.apply(this,arguments)}function Ohe(t,e,n){return VC.apply(this,arguments)}function VC(){return VC=g(function*(t,e,n){const r=t.Eu.shift(),i=Wb.from(r,e,n);yield pF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield lu(t)}),VC.apply(this,arguments)}function Rhe(t,e){return HC.apply(this,arguments)}function HC(){return HC=g(function*(t,e){var n;e&&eo(t).ou&&(yield(n=g(function*(r,i){if(function rR(t){switch(t){default:return H();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}(s=i.code)&&s!==b.ABORTED){const o=r.Eu.shift();eo(r).Qo(),yield pF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield lu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),gF(t)&&mF(t)}),HC.apply(this,arguments)}function yF(t,e){return zC.apply(this,arguments)}function zC(){return zC=g(function*(t,e){const n=O(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.vu.add(3),yield uu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield bf(n)}),zC.apply(this,arguments)}function BC(){return BC=g(function*(t,e){const n=O(t);e?(n.vu.delete(2),yield bf(n)):e||(n.vu.add(2),yield uu(n),n.bu.set("Unknown"))}),BC.apply(this,arguments)}function du(t){return t.Su||(t.Su=function(e,n,r){const i=O(e);return i.fu(),new bhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:The.bind(null,t),ao:Ahe.bind(null,t),nu:Mhe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),xC(t)?MC(t):t.bu.set("Unknown")):(yield t.Su.stop(),hF(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function eo(t){return t.Du||(t.Du=function(e,n,r){const i=O(e);return i.fu(),new Che(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:khe.bind(null,t),ao:Rhe.bind(null,t),au:Phe.bind(null,t),cu:Ohe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield lu(t)):(yield t.Du.stop(),t.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class jC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new jC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fu(t,e){if(Ct("AsyncQueue",`${e}: ${t}`),Bs(t))return new S(b.UNAVAILABLE,`${e}: ${t}`);throw t}class hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=ef(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new hu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class vF{constructor(){this.Cu=new Be(P.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):H():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class pu{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pu(e,n,hu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Fhe{constructor(){this.Nu=void 0,this.listeners=[]}}class Lhe{constructor(){this.queries=new rs(e=>VO(e),Jd),this.onlineState="Unknown",this.ku=new Set}}function GC(){return GC=g(function*(t,e){const n=O(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Fhe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=fu(o,`Initialization of query '${jb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&KC(n)}),GC.apply(this,arguments)}function WC(){return WC=g(function*(t,e){const n=O(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),WC.apply(this,arguments)}function Vhe(t,e){const n=O(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&KC(n)}function Hhe(t,e,n){const r=O(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function KC(t){t.ku.forEach(e=>{e.next()})}class YC{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class bF{constructor(e){this.key=e}}class CF{constructor(e){this.key=e}}class IF{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ae(),this.mutatedKeys=ae(),this.tc=zO(e),this.ec=new hu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new vF,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const f=i.get(l),h=Zd(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.rc(f,h)||(r.track({type:2,doc:h}),y=!0,(c&&this.tc(h,c)>0||u&&this.tc(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(c||u)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,l)=>function(d,f){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return h(d)-h(f)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new pu(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ae(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new CF(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new bF(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ae();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return pu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Bhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jhe{constructor(e){this.key=e,this.fc=!1}}class $he{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new rs(a=>VO(a),Jd),this._c=new Map,this.mc=new Set,this.gc=new Be(P.comparator),this.yc=new Map,this.Ic=new uC,this.Tc={},this.Ec=new Map,this.Ac=fa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ghe(t,e){return QC.apply(this,arguments)}function QC(){return QC=g(function*(t,e){const n=function _8(t){const e=O(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=epe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Khe.bind(null,e),e.dc.nu=Vhe.bind(null,e.eventManager),e.dc.Pc=Hhe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function au(t,e){const n=O(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Fn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function XC(t,e,n,r,i){return JC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&s1(n.remoteStore,o)}return i}),QC.apply(this,arguments)}function JC(){return JC=g(function*(t,e,n,r,i){t.Rc=(d,f,h)=>{return(p=g(function*(m,y,_,v){let C=y.view.sc(_);C.zi&&(C=yield e1(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,C)));const N=v&&v.targetChanges.get(y.targetId),L=y.view.applyChanges(C,m.isPrimaryClient,N);return c8(m,y.targetId,L.cc),L.snapshot}),function(m,y,_,v){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield e1(t.localStore,e,!0),o=new IF(e,s.ir),a=o.sc(s.documents),c=cf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=o.applyChanges(a,t.isPrimaryClient,c);c8(t,n,u.cc);const l=new Bhe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),JC.apply(this,arguments)}function qhe(t,e){return ZC.apply(this,arguments)}function ZC(){return ZC=g(function*(t,e){const n=O(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Jd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cf(n.remoteStore,r.targetId),gu(n,r.targetId)}).catch(Us))):(gu(n,r.targetId),yield cu(n.localStore,r.targetId,!0))}),ZC.apply(this,arguments)}function e8(){return e8=g(function*(t,e,n){const r=function w8(t){const e=O(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qhe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=O(s),c=at.now(),u=o.reduce((f,h)=>f.add(h.key),ae());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=Qn(),p=ae();return a.Zi.getEntries(f,u).next(m=>{h=m,h.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(m=>{l=m;const y=[];for(const _ of o){const v=bfe(_,l.get(_.key).overlayedDocument);null!=v&&y.push(new is(_.key,v,EO(v.value.mapValue),et.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(f,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:BO(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new Be(te)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield os(r,i.changes),yield lu(r.remoteStore)}catch(i){const s=fu(i,"Failed to persist write");n.reject(s)}}),e8.apply(this,arguments)}function EF(t,e){return t8.apply(this,arguments)}function t8(){return t8=g(function*(t,e){const n=O(t);try{const r=yield function hhe(t,e){const n=O(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Lt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(d,h),m=h,y=l,(0===(p=f).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,h))});let c=Qn(),u=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function nF(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qn();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(q.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?j(o.fc):i.removedDocuments.size>0&&(j(o.fc),o.fc=!1))}),yield os(n,r,e)}catch(r){yield Us(r)}}),t8.apply(this,arguments)}function SF(t,e,n){const r=O(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=O(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(o)&&(c=!0)}),c&&KC(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Khe(t,e,n){return n8.apply(this,arguments)}function n8(){return n8=g(function*(t,e,n){const r=O(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Be(P.comparator);o=o.insert(s,qe.newNoDocument(s,q.min()));const a=ae().add(s),c=new af(q.min(),new Map,new Be(te),o,a);yield EF(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),u8(r)}else yield cu(r.localStore,e,!1).then(()=>gu(r,e,n)).catch(Us)}),n8.apply(this,arguments)}function Yhe(t,e){return r8.apply(this,arguments)}function r8(){return r8=g(function*(t,e){const n=O(t),r=e.batch.batchId;try{const i=yield function fhe(t,e){const n=O(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,d=l.keys();let f=w.resolve();return d.forEach(h=>{f=f.next(()=>u.getEntry(a,h)).next(p=>{const m=c.docVersions.get(h);j(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ae();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);a8(n,r,null),o8(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield os(n,i)}catch(i){yield Us(i)}}),r8.apply(this,arguments)}function Qhe(t,e,n){return i8.apply(this,arguments)}function i8(){return i8=g(function*(t,e,n){const r=O(t);try{const i=yield function(s,o){const a=O(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(j(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);a8(r,e,n),o8(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield os(r,i)}catch(i){yield Us(i)}}),i8.apply(this,arguments)}function o8(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function a8(t,e,n){const r=O(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function gu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||DF(t,r)})}function DF(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Cf(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),u8(t))}function c8(t,e,n){for(const r of n)r instanceof bF?(t.Ic.addReference(r.key,e),Jhe(t,r)):r instanceof CF?(A("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||DF(t,r.key)):H()}function Jhe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.mc.add(r),u8(t))}function u8(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new P(me.fromString(e)),r=t.Ac.next();t.yc.set(r,new jhe(n)),t.gc=t.gc.insert(n,r),s1(t.remoteStore,new ss(Fn(Jc(n.path)),r,"TargetPurposeLimboResolution",fr.ct))}}function os(t,e,n){return l8.apply(this,arguments)}function l8(){return l8=g(function*(t,e,n){const r=O(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=pC.Li(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(c,u){const l=O(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,f=>w.forEach(f.Fi,h=>l.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>w.forEach(f.Bi,h=>l.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Bs(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=l.Ji.get(f),m=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);l.Ji=l.Ji.insert(f,m)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,s))}),l8.apply(this,arguments)}function Zhe(t,e){return d8.apply(this,arguments)}function d8(){return d8=g(function*(t,e){const n=O(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield eF(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new S(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield os(n,r.er)}var i}),d8.apply(this,arguments)}function epe(t,e){const n=O(t),r=n.yc.get(e);if(r&&r.fc)return ae().add(r.key);{let i=ae();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class a1{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=wf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function ZR(t,e,n,r){return new dhe(t,e,n,r)}(this.persistence,new JR,e.initialUser,this.serializer)}createPersistence(e){return new lC(Xm.zs,this.serializer)}createSharedClientState(e){return new cF}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>SF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Zhe.bind(null,r.syncEngine),yield function UC(t,e){return BC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Lhe}createDatastore(e){const n=wf(e.databaseInfo.databaseId),r=new whe(e.databaseInfo);return new Ihe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>SF(this.syncEngine,a,0),o=uF.D()?new uF:new yhe,new Dhe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new $he(r,i,s,o,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=O(n);A("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield uu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class c1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ct("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class hpe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=tO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=fu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function u1(t,e){return b8.apply(this,arguments)}function b8(){return b8=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield eF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),b8.apply(this,arguments)}function C8(t,e){return I8.apply(this,arguments)}function I8(){return I8=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function E8(t){return S8.apply(this,arguments)}(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>yF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>yF(e.remoteStore,s)),t._onlineComponents=e}),I8.apply(this,arguments)}function S8(){return S8=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield u1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function kF(t){return"FirebaseError"===t.name?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Br("Error using user provided cache. Falling back to memory cache: "+n),yield u1(t,new a1)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield u1(t,new a1);return t._offlineComponents}),S8.apply(this,arguments)}function l1(t){return D8.apply(this,arguments)}function D8(){return D8=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield C8(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield C8(t,new mu))),t._onlineComponents}),D8.apply(this,arguments)}function yu(t){return A8.apply(this,arguments)}function A8(){return A8=g(function*(t){const e=yield l1(t),n=e.eventManager;return n.onListen=Ghe.bind(null,e.syncEngine),n.onUnlisten=qhe.bind(null,e.syncEngine),n}),A8.apply(this,arguments)}function VF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const HF=new Map;function M8(t,e,n){if(!n)throw new S(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zF(t){if(!P.isDocumentKey(t))throw new S(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UF(t){if(P.isDocumentKey(t))throw new S(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function f1(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":H()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=f1(t);throw new S(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class jF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new S(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Cpe(t,e,n,r){if(!0===e&&!0===r)throw new S(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=VF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new S(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new S(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new S(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new wde;switch(n.type){case"firstParty":return new Ede(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new S(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=HF.get(e);n&&(A("ComponentProvider","Removing Datastore"),HF.delete(e),n.terminate())}(this),Promise.resolve()}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class ln{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ln(this.firestore,e,this._query)}}class bi extends ln{constructor(e,n,r){super(e,n,Jc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new P(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function Epe(t,e,...n){if(t=st(t),M8("collection","path",e),t instanceof If){const r=me.fromString(e,...n);return UF(r),new bi(t,null,r)}{if(!(t instanceof St||t instanceof bi))throw new S(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return UF(r),new bi(t.firestore,null,r)}}function $F(t,e,...n){if(t=st(t),1===arguments.length&&(e=tO.A()),M8("doc","path",e),t instanceof If){const r=me.fromString(e,...n);return zF(r),new St(t,null,new P(r))}{if(!(t instanceof St||t instanceof bi))throw new S(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return zF(r),new St(t.firestore,t instanceof bi?t.converter:null,new P(r))}}class Spe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new EC(this,"async_queue_retry"),this.Xc=()=>{const n=i1();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=i1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=i1();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ft;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Bs(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ct("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=jC.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&H()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function x8(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class We extends If{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Spe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qF(this),this._firestoreClient.terminate()}}function Tpe(t,e){const r="string"==typeof t?t:e||"(default)",i=li("object"==typeof t?t:Ac(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=Px("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Ipe(t,e,n,r={}){var i;const s=(t=fe(t,If))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Yt.MOCK_USER;else{a=function Vte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lg(JSON.stringify({alg:"none",type:"JWT"})),lg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Yt(u)}t._authCredentials=new bde(new ZP(a,c))}}(i,...s)}return i}function xt(t){return t._firestoreClient||qF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qF(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new efe(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,VF(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new hpe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Lt.fromBase64String(e))}catch(n){throw new S(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pa(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class N8{constructor(e){this._methodName=e}}class k8{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const Mpe=/^__.*__$/;class xpe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class YF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class h1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new h1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return g1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(QF(this.ca)&&Mpe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Npe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wf(e)}ya(e,n,r,i=!1){return new h1({ca:e,methodName:n,ga:r,path:It.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _u(t){const e=t._freezeSettings(),n=wf(t._databaseId);return new Npe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P8(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);R8("Data must be an object, but it was:",o,r);const a=tL(r,o);let c,u;if(s.merge)c=new Yn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const f=Df(e,d,n);if(!o.contains(f))throw new S(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);rL(l,f)||l.push(f)}c=new Yn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new xpe(new un(a),c,u)}class Sf extends N8{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}function ga(t,e){if(nL(t=st(t)))return R8("Unsupported field value:",e,t),tL(t,e);if(t instanceof N8)return function(n,r){if(!QF(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ga(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=st(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return qO(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=at.fromDate(n);return{timestampValue:ru(r.serializer,i)}}if(n instanceof at){const i=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ru(r.serializer,i)}}if(n instanceof k8)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof pa)return{bytesValue:hR(r.serializer,n._byteString)};if(n instanceof St){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Jb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${f1(n)}`)}(t,e)}function tL(t,e){const n={};return gO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(r,i)=>{const s=ga(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function nL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof k8||t instanceof pa||t instanceof St||t instanceof N8)}function R8(t,e,n){if(!nL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=f1(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Df(t,e,n){if((e=st(e))instanceof vu)return e._internalPath;if("string"==typeof e)return p1(t,e);throw g1("Field path arguments must be of type string or ",t,!1,void 0,n)}const Rpe=new RegExp("[~\\*/\\[\\]]");function p1(t,e,n){if(e.search(Rpe)>=0)throw g1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw g1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function g1(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new S(b.INVALID_ARGUMENT,a+t+c)}function rL(t,e){return t.some(n=>n.isEqual(e))}class F8{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m1("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Fpe extends F8{data(){return super.data()}}function m1(t,e){return"string"==typeof e?p1(t,e):e instanceof vu?e._internalPath:e._delegate._internalPath}class L8{}class V8 extends L8{}function Lpe(t,e,...n){let r=[];e instanceof L8&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof wu).length,o=i.filter(a=>a instanceof Tf).length;if(s>1||s>0&&o>0)throw new S(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Tf extends V8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tf(e,n,r)}_apply(e){const n=this._parse(e);return cL(e._query,n),new ln(e.firestore,e.converter,Bb(e._query,n))}_parse(e){const n=_u(e.firestore);return function(i,s,o,a,c,u,l){let d;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new S(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){aL(l,u);const f=[];for(const h of l)f.push(oL(a,i,h));d={arrayValue:{values:f}}}else d=oL(a,i,l)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||aL(l,u),d=function eL(t,e,n,r=!1){return ga(n,t.ya(r?4:3,e))}(o,"where",l,"in"===u||"not-in"===u);return de.create(c,u,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vpe(t,e,n){const r=e,i=m1("where",t);return Tf._create(i,r,n)}class wu extends L8{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)cL(s,a),s=Bb(s,a)}(e._query,n),new ln(e.firestore,e.converter,Bb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class H8 extends V8{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new H8(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new S(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new S(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Qc(i,s);return function(a,c){if(null===zb(a)){const u=Fm(a);null!==u&&uL(0,u,c.field)}}(r,o),o}(e._query,this._field,this._direction);return new ln(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ns(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Hpe(t,e="asc"){const n=e,r=m1("orderBy",t);return H8._create(r,n)}class y1 extends V8{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new y1(e,n,r)}_apply(e){return new ln(e.firestore,e.converter,Lm(e._query,this._limit,this._limitType))}}function zpe(t){return function BF(t,e){if(e<=0)throw new S(b.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),y1._create("limit",t,"F")}function oL(t,e,n){if("string"==typeof(n=st(n))){if(""===n)throw new S(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ub(e)&&-1!==n.indexOf("/"))throw new S(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!P.isDocumentKey(r))throw new S(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return na(t,new P(r))}if(n instanceof St)return na(t,n._key);throw new S(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${f1(n)}.`)}function aL(t,e){if(!Array.isArray(t)||0===t.length)throw new S(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cL(t,e){if(e.isInequality()){const r=Fm(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new S(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=zb(t);null!==s&&uL(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new S(b.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function uL(t,e,n){if(!n.isEqual(e))throw new S(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Upe{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return js(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new k8(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wd(e));default:return null}}convertTimestamp(e){const n=$s(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);j(IR(r));const i=new ta(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(n)||Ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends F8{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new w1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(m1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class w1 extends bu{data(e={}){return super.data(e)}}class Cu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new w1(this._firestore,this._userDataWriter,r.key,r,new ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new w1(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ma(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new w1(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ma(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:jpe(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jpe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class to extends Upe{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function $pe(t,e,n,...r){t=fe(t,St);const i=fe(t.firestore,We),s=_u(i);let o;return o="string"==typeof(e=st(e))||e instanceof vu?function ZF(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Df(e,r,n)],c=[i];if(s.length%2!=0)throw new S(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Df(e,s[f])),c.push(s[f+1]);const u=[],l=un.empty();for(let f=a.length-1;f>=0;--f)if(!rL(u,a[f])){const h=a[f];let p=c[f];p=st(p);const m=o.da(h);if(p instanceof Sf)u.push(h);else{const y=ga(p,m);null!=y&&(u.push(h),l.set(h,y))}}const d=new Yn(u);return new YF(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function JF(t,e,n,r){const i=t.ya(1,e,n);R8("Data must be an object, but it was:",i,r);const s=[],o=un.empty();js(r,(c,u)=>{const l=p1(e,c,n);u=st(u);const d=i.da(l);if(u instanceof Sf)s.push(l);else{const f=ga(u,d);null!=f&&(s.push(l),o.set(l,f))}});const a=new Yn(s);return new YF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Af(i,[o.toMutation(t._key,et.exists(!0))])}function Gpe(t){return Af(fe(t.firestore,We),[new nu(t._key,et.none())])}function qpe(t,e){const n=fe(t.firestore,We),r=$F(t),i=function z8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Af(n,[P8(_u(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}function Af(t,e){return function(n,r){const i=new Ft;return n.asyncQueue.enqueueAndForget(g(function*(){return function Whe(t,e,n){return e8.apply(this,arguments)}(yield function T8(t){return l1(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(xt(t),e)}!function(t,e=!0){qc=Po,Pn(new mn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new We(new Cde(n.getProvider("auth-internal")),new Sde(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ue(JP,"3.13.0",t),Ue(JP,"3.13.0","esm2017")}();var sge={includeMetadataChanges:!1};function B8(t,e){return void 0===e&&(e=sge),new be(function(n){var r=function Wpe(t,...e){var n,r,i;t=st(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||x8(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(x8(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,u,l;if(t instanceof St)u=fe(t.firestore,We),l=Jc(t._key.path),c={next:d=>{e[o]&&e[o](function U8(t,e,n){const r=n.docs.get(e._key),i=new to(t);return new bu(t,i,e._key,r,new ma(n.hasPendingWrites,n.fromCache),e.converter)}(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fe(t,ln);u=fe(d.firestore,We),l=d._query;const f=new to(u);c={next:h=>{e[o]&&e[o](new Cu(u,f,d,h))},error:e[o+1],complete:e[o+2]},function iL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new S(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,f,h,p){const m=new c1(p),y=new YC(f,m,h);return d.asyncQueue.enqueueAndForget(g(function*(){return function $C(t,e){return GC.apply(this,arguments)}(yield yu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function qC(t,e){return WC.apply(this,arguments)}(yield yu(d),y)}))}}(xt(u),l,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function age(t,e){return void 0===e&&(e={}),function oge(t){return B8(t,{includeMetadataChanges:!0})}(t).pipe(_e(function(n){return fL(n,e)}))}function fL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}function hge(t,e){return void 0===e&&(e={}),function fge(t){return B8(t,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}(t).pipe(_e(function(n){return n.map(function(r){return fL(r,e)})}))}class Ci{constructor(e){return e}}const mL="firestore",G8=new B("angularfire2.firestore-instances");function mge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ci(r)}}const yge={provide:class pge{constructor(){return Dg(mL)}},deps:[[new jt,G8]]},vge={provide:Ci,useFactory:function gge(t,e){const n=Sg(mL,t,e);return n&&new Ci(n)},deps:[[new jt,G8],zo]};let _ge=(()=>{class t{constructor(){Ue("angularfire",Os.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({providers:[vge,yge]}),t})();function ya(t,...e){return{ngModule:_ge,providers:[{provide:G8,useFactory:mge(t),multi:!0,deps:[Ie,Ot,rd,id,[new jt,Ok],[new jt,k6],...e]}]}}const Iu=ut(hge,!0),wge=ut(age,!0),yL=ut(qpe,!0),Ii=ut(Epe,!0),bge=ut(Gpe,!0),C1=ut($F,!0),va=ut(Tpe,!0),vL=ut(zpe,!0),I1=ut(Hpe,!0),Eu=ut(Lpe,!0),_L=ut($pe,!0),no=ut(Vpe,!0);class wL{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var Su,Xn=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t.VERSION="version",t.UPDATE_AVAILABLE="update-available",t}(Xn||{});class as{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new wL(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}getVersion(){return localStorage.getItem(Xn.VERSION)}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(wL,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(Su=as).\u0275fac=function(e){return new(e||Su)},Su.\u0275prov=U({token:Su,factory:Su.\u0275fac,providedIn:"platform"}),x2([N2(2,jt())],as.prototype,"cache",null);let bL=(()=>{var t;class e{constructor(){this.firestore=D(Ci),this.localStorageService=D(as)}subscribeToFleetOrders(r,i,s){let o=Ii(this.firestore,"orders");Iu(Eu(o,no("user","==",r),no("executed","==",!1)),{idField:"id"}).forEach(a=>{i.next(a.length),a.length>0?this.localStorageService.cache(Xn.ACTIVE_ORDERS,a.length):this.localStorageService.remove(Xn.ACTIVE_ORDERS),s.detectChanges(),document.querySelector(".local-orders-badge")&&(document.querySelector(".local-orders-badge").style.display="none")}).catch(a=>{console.log(a)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class q8{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class CL{constructor(){this._orbit=0,this._ground=0,this._workers=new q8,this._soldiers=new q8,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class W8{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Cge=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new CL,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(u=>{let l=u.textContent.split(/\s+/),d=new W8;d.name=u.parentElement.className.split(/\s+/)[2],d.stored=parseInt(l[0].replace(/,/g,"")),d.production=parseInt(l[1].substring(1,l[1].length-1).replace(/,/g,"")),d.abundance=parseInt(l[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class IL{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new q8,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var In=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(In||{});class Ige{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Ege{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var je=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(je||{});class Sge{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Dge=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new IL,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=In.SURFACE;break;case 2:s=In.RESOURCE;break;case 0:s=In.FLEET;break;default:s=In.UNKNOWN}let o=new Ige(r,s);if(s!==In.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";o.planetScan.owner=new Sge(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),a.substring(1,a.length-1))}if((s===In.RESOURCE||s===In.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===In.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new W8;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===In.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let u=new W8;u.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(u)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,u)=>{o.planetScan.resources[u].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,u)=>{o.planetScan.resources[u].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.workers.available=parseInt(a.substring(1,a.length).replace(/,/g,"")),o.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Ege(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case je.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case je.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case je.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case je.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case je.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case je.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case je.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case je.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case je.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case je.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case je.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case je.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case je.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Tge=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new CL;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class Age{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,note:this.note,dgId:this.dgId,kickEta:this.kickEta}}}let Mge=(()=>{var t;class e{constructor(){this.localStorageService=D(as)}extract(){let r=this.localStorageService.get(Xn.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let o=new Age;if(null!=s.querySelector("div.note")?o.note=s.querySelector("div.note").childNodes[0].textContent.trim():null!=s.querySelector('input[name="note"]')&&(o.note=s.querySelector('input[name="note"]').value.trim()),null!=s.querySelector('[action^="/alliances/note/"]')){let a=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);o.dgId=a[a.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(o.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(o.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(o))})}),this.localStorageService.cache(Xn.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelector(".dgt-orders-manager-panel.user")&&document.querySelector(".dgt-orders-manager-panel.user").remove(),document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Du;class cs{constructor(){this.planetListExtractor=D(Cge),this.planetScanExtractor=D(Dge),this.navigationSystemPlanetsExtractor=D(Tge),this.allianceMembersExtractor=D(Mge),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(Du=cs).\u0275fac=function(e){return new(e||Du)},Du.\u0275prov=U({token:Du,factory:Du.\u0275fac,providedIn:"platform"}),x2([N2(0,jt())],cs.prototype,"username",null);class K8{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Mf=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(Mf||{});let Tu=(()=>{var t;class e{constructor(){this.localStorageService=D(as),this._authState=new it,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=Rk(r).subscribe(s=>{null!=s?Iu(Eu(Ii(i,"valid-users"),no("email","==",s.email),vL(1))).subscribe(o=>{if(o.length>0){let a=Object.assign({email:"",enabled:!1,role:Mf.USER},o[0]);a.enabled?(this.localStorageService.cache(Xn.USER,{user:s.email}),this._authState.emit(new K8(!0,a.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(this.localStorageService.remove(Xn.USER),this._authState.emit(new K8(!1,null)))})}signInWithEmailAndPassword(r,i,s,o){dle(r,i,s).then(()=>{o&&location.reload()}).catch(a=>{window.alert(a.message)})}signInWithGoogle(r,i){fle(r,new cce).then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}signOut(r,i){this.localStorageService.remove(Xn.USER),this._refreshInProgress=i,this._authState.emit(new K8(!0,null)),r.signOut().then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function us(t,e){return Dt((n,r)=>{let i=0;n.subscribe(gt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Y8(...t){return function Nge(){return gh(1)}()(dn(t,qu(t)))}function EL(...t){const e=qu(t);return Dt((n,r)=>{(e?Y8(t,n,e):Y8(t,n)).subscribe(r)})}const E1=$u(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Oge}=Array,{getPrototypeOf:Rge,prototype:Fge,keys:Lge}=Object;function SL(t){if(1===t.length){const e=t[0];if(Oge(e))return{args:e,keys:null};if(function Vge(t){return t&&"object"==typeof t&&Rge(t)===Fge}(e)){const n=Lge(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Hge}=Array;function DL(t){return _e(e=>function zge(t,e){return Hge(e)?t(...e):t(e)}(t,e))}function TL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function AL(...t){const e=qu(t),n=QE(t),{args:r,keys:i}=SL(t);if(0===r.length)return dn([],e);const s=new be(function Uge(t,e,n=ms){return r=>{ML(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)ML(e,()=>{const u=dn(t[c],e);let l=!1;u.subscribe(gt(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>TL(i,o):ms));return n?s.pipe(DL(n)):s}function ML(t,e,n){t?Mi(n,t,e):e()}function xL(t){return new be(e=>{er(t()).subscribe(e)})}function xf(t,e){const n=ke(t)?t:()=>t,r=i=>i.error(n());return new be(e?i=>e.schedule(r,0,i):r)}function Q8(){return Dt((t,e)=>{let n=null;t._refCount++;const r=gt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class NL extends be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,RE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Zn;const n=this.getSubject();e.add(this.source.subscribe(gt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Zn.EMPTY)}return e}refCount(){return Q8()(this)}}function Au(t){return t<=0?()=>Kr:Dt((e,n)=>{let r=0;e.subscribe(gt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function S1(t){return Dt((e,n)=>{let r=!1;e.subscribe(gt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function kL(t=Bge){return Dt((e,n)=>{let r=!1;e.subscribe(gt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Bge(){return new E1}function _a(t,e){const n=arguments.length>=2;return r=>r.pipe(t?us((i,s)=>t(i,s,r)):ms,Au(1),n?S1(e):kL(()=>new E1))}function D1(t,e){return ke(e)?Jt(t,e,1):Jt(t,1)}function wa(t){return Dt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(gt(n,void 0,void 0,o=>{s=er(t(o,wa(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function X8(t){return t<=0?()=>Kr:Dt((e,n)=>{let r=[];e.subscribe(gt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function J8(t){return Dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ce="primary",Nf=Symbol("RouteTitle");class Wge{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Mu(t){return new Wge(t)}function Kge(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ei(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!PL(t[i],e[i]))return!1;return!0}function PL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function OL(t){return t.length>0?t[t.length-1]:null}function ro(t){return function Pge(t){return!!t&&(t instanceof be||ke(t.lift)&&ke(t.subscribe))}(t)?t:xl(t)?dn(Promise.resolve(t)):ee(t)}const Qge={exact:function LL(t,e,n){if(!ba(t.segments,e.segments)||!T1(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!LL(t.children[r],e.children[r],n))return!1;return!0},subset:VL},RL={exact:function Xge(t,e){return Ei(t,e)},subset:function Jge(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>PL(t[n],e[n]))},ignored:()=>!0};function FL(t,e,n){return Qge[n.paths](t.root,e.root,n.matrixParams)&&RL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function VL(t,e,n){return HL(t,e,e.segments,n)}function HL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ba(i,n)||e.hasChildren()||!T1(i,n,r))}if(t.segments.length===n.length){if(!ba(t.segments,n)||!T1(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!VL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ba(t.segments,i)&&T1(t.segments,i,r)&&t.children[ce])&&HL(t.children[ce],e,s,r)}}function T1(t,e,n){return e.every((r,i)=>RL[n](t[i].parameters,r.parameters))}class xu{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mu(this.queryParams)),this._queryParamMap}toString(){return tme.serialize(this)}}class Ne{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return A1(this)}}class kf{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Mu(this.parameters)),this._parameterMap}toString(){return BL(this)}}function ba(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Pf=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return new Z8},providedIn:"root"}),e})();class Z8{parse(e){const n=new fme(e);return new xu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Of(e.root,!0)}`,r=function ime(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${M1(n)}=${M1(i)}`).join("&"):`${M1(n)}=${M1(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function nme(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const tme=new Z8;function A1(t){return t.segments.map(e=>BL(e)).join("/")}function Of(t,e){if(!t.hasChildren())return A1(t);if(e){const n=t.children[ce]?Of(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${Of(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function eme(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ce?[Of(t.children[ce],!1)]:[`${i}:${Of(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${A1(t)}/${n[0]}`:`${A1(t)}/(${n.join("//")})`}}function zL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function M1(t){return zL(t).replace(/%3B/gi,";")}function eI(t){return zL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x1(t){return decodeURIComponent(t)}function UL(t){return x1(t.replace(/\+/g,"%20"))}function BL(t){return`${eI(t.path)}${function rme(t){return Object.keys(t).map(e=>`;${eI(e)}=${eI(t[e])}`).join("")}(t.parameters)}`}const sme=/^[^\/()?;#]+/;function tI(t){const e=t.match(sme);return e?e[0]:""}const ome=/^[^\/()?;=#]+/,cme=/^[^=?&#]+/,lme=/^[^&#]+/;class fme{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Ne(e,n)),r}parseSegment(){const e=tI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new kf(x1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function ame(t){const e=t.match(ome);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=tI(this.remaining);i&&(r=i,this.capture(r))}e[x1(n)]=x1(r)}parseQueryParam(e){const n=function ume(t){const e=t.match(cme);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function dme(t){const e=t.match(lme);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=UL(n),s=UL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=tI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ce]:new Ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function jL(t){return t.segments.length>0?new Ne([],{[ce]:t}):t}function $L(t){const e={};for(const r of Object.keys(t.children)){const s=$L(t.children[r]);if(r===ce&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function hme(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new Ne(t.segments.concat(e.segments),e.children)}return t}(new Ne(t.segments,e))}function Ca(t){return t instanceof xu}function GL(t){let e;const i=jL(function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Ne(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function qL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return nI(i,i,i,n,r);const s=function gme(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new KL(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new KL(n,e,r)}(e);if(s.toRoot())return nI(i,i,new Ne([],{}),n,r);const o=function mme(t,e,n){if(t.isAbsolute)return new k1(e,!0,0);if(!n)return new k1(e,!1,NaN);if(null===n.parent)return new k1(n,!0,0);const r=N1(t.commands[0])?0:1;return function yme(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new k1(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Ff(o.segmentGroup,o.index,s.commands):YL(o.segmentGroup,o.index,s.commands);return nI(i,o.segmentGroup,a,n,r)}function N1(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Rf(t){return"object"==typeof t&&null!=t&&t.outlets}function nI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:WL(t,e,n);const a=jL($L(o));return new xu(a,s,i)}function WL(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:WL(s,e,n)}),new Ne(t.segments,r)}class KL{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&N1(r[0]))throw new T(4003,!1);const i=r.find(Rf);if(i&&i!==OL(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class k1{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function YL(t,e,n){if(t||(t=new Ne([],{})),0===t.segments.length&&t.hasChildren())return Ff(t,e,n);const r=function _me(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Rf(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!XL(c,u,o))return s;r+=2}else{if(!XL(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ne(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Ne(t.segments.slice(r.pathIndex),t.children),Ff(s,0,i)}return r.match&&0===i.length?new Ne(t.segments,{}):r.match&&!t.hasChildren()?rI(t,e,n):r.match?Ff(t,0,i):rI(t,e,n)}function Ff(t,e,n){if(0===n.length)return new Ne(t.segments,{});{const r=function vme(t){return Rf(t[0])?t[0].outlets:{[ce]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&1===t.numberOfChildren&&0===t.children[ce].segments.length){const s=Ff(t.children[ce],e,n);return new Ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=YL(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ne(t.segments,i)}}function rI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Rf(s)){const c=wme(s.outlets);return new Ne(r,c)}if(0===i&&N1(n[0])){r.push(new kf(t.segments[e].path,QL(n[0]))),i++;continue}const o=Rf(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&N1(a)?(r.push(new kf(o,QL(a))),i+=2):(r.push(new kf(o,{})),i++)}return new Ne(r,{})}function wme(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=rI(new Ne([],{}),0,r))}),e}function QL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function XL(t,e,n){return t==n.path&&Ei(e,n.parameters)}const Lf="imperative";class Si{constructor(e,n){this.id=e,this.url=n}}class JL extends Si{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vf extends Si{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class P1 extends Si{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class O1 extends Si{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class iI extends Si{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bme extends Si{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cme extends Si{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ime extends Si{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eme extends Si{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sme extends Si{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dme{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tme{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ame{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mme{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xme{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nme{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hf,this.attachRef=null}}let Hf=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Nme,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class eV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=sI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=sI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=oI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return oI(e,this._root).map(n=>n.value)}}function sI(t,e){if(t===e.value)return e;for(const n of e.children){const r=sI(t,n);if(r)return r}return null}function oI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=oI(t,n);if(r.length)return r.unshift(e),r}return[]}class ls{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class tV extends eV{constructor(e,n){super(e),this.snapshot=n,aI(this,e)}toString(){return this.snapshot.toString()}}function nV(t,e){const n=function kme(t,e){const o=new R1([],{},{},"",{},ce,e,null,{});return new iV("",new ls(o,[]))}(0,e),r=new gr([new kf("",{})]),i=new gr({}),s=new gr({}),o=new gr({}),a=new gr(""),c=new ku(r,i,o,a,s,ce,e,n.root);return c.snapshot=n.root,new tV(new ls(c,[]),n)}class ku{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(u=>u[Nf]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>Mu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>Mu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Pme(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class R1{get title(){return this.data?.[Nf]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iV extends eV{constructor(e,n){super(n),this.url=e,aI(this,n)}toString(){return sV(this._root)}}function aI(t,e){e.value._routerState=t,e.children.forEach(n=>aI(t,n))}function sV(t){const e=t.children.length>0?` { ${t.children.map(sV).join(", ")} } `:"";return`${t.value}${e}`}function cI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ei(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ei(e.params,n.params)||t.paramsSubject.next(n.params),function Yge(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ei(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ei(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function uI(t,e){const n=Ei(t.params,e.params)&&function Zge(t,e){return ba(t,e)&&t.every((n,r)=>Ei(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||uI(t.parent,e.parent))}let oV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=D(Hf),this.location=D(Lr),this.changeDetector=D(Ts),this.environmentInjector=D(Pr),this.inputBinder=D(F1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ome(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dn]}),e})();class Ome{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ku?this.route:e===Hf?this.childContexts:this.parent.get(e,n)}}const F1=new B("");function zf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Fme(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zf(t,r,i);return zf(t,r)})}(t,e,n);return new ls(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zf(t,a)),o}}const r=function Lme(t){return new ku(new gr(t.url),new gr(t.params),new gr(t.queryParams),new gr(t.fragment),new gr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>zf(t,s));return new ls(r,i)}}const lI="ngNavigationCancelingError";function cV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function uV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[lI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function lV(t){return dV(t)&&Ca(t.url)}function dV(t){return t&&t[lI]}let dI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["ng-component"]],standalone:!0,features:[cA],decls:1,vars:0,template:function(r,i){1&r&&Ce(0,"router-outlet")},dependencies:[oV],encapsulation:2}),e})();function fI(t){const e=t.children&&t.children.map(fI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=dI),n}function $r(t){return t.outlet||ce}function Uf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class $me{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Nu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Nu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ZL(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Mme(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(cI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Uf(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class fV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class L1{constructor(e,n){this.component=e,this.route=n}}function Gme(t,e,n){const r=t._root;return Bf(r,e?e._root:null,n,[r.value])}function Pu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Ij(t){return null!==wh(t)}(t)?e.get(t):t:r}function Bf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nu(e);return t.children.forEach(o=>{(function Wme(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Kme(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ba(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ba(t.url,e.url)||!Ei(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uI(t,e)||!Ei(t.queryParams,e.queryParams);default:return!uI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new fV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Bf(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new L1(a.outlet.component,o))}else o&&jf(e,a,i),i.canActivateChecks.push(new fV(r)),Bf(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>jf(a,n.getContext(o),i)),i}function jf(t,e,n){const r=Nu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{jf(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new L1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $f(t){return"function"==typeof t}function hV(t){return t instanceof E1||"EmptyError"===t?.name}const V1=Symbol("INITIAL_VALUE");function Ou(){return Dr(t=>AL(t.map(e=>e.pipe(Au(1),EL(V1)))).pipe(_e(e=>{for(const n of e)if(!0!==n){if(n===V1)return V1;if(!1===n||n instanceof xu)return n}return!0}),us(e=>e!==V1),Au(1)))}function pV(t){return function xB(...t){return kE(t)}(yn(e=>{if(Ca(e))throw cV(0,e)}),_e(e=>!0===e))}class H1{constructor(e){this.segmentGroup=e||null}}class gV{constructor(e){this.urlTree=e}}function Ru(t){return xf(new H1(t))}function mV(t){return xf(new gV(t))}class p1e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[ce])return xf(new T(4e3,!1));i=i.children[ce]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new xu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const hI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g1e(t,e,n,r,i){const s=pI(t,e,n);return s.matched?(r=function Vme(t,e){return t.providers&&!t._injector&&(t._injector=aA(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function d1e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=Pu(o,t);return ro(function e1e(t){return t&&$f(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ou(),pV()):ee(!0)}(r,e,n).pipe(_e(o=>!0===o?s:{...hI}))):ee(s)}function pI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...hI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Kge)(n,t,e);if(!i)return{...hI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function yV(t,e,n,r){return n.length>0&&function v1e(t,e,n){return n.some(r=>z1(t,e,r)&&$r(r)!==ce)}(t,n,r)?{segmentGroup:new Ne(e,y1e(r,new Ne(n,t.children))),slicedSegments:[]}:0===n.length&&function _1e(t,e,n){return n.some(r=>z1(t,e,r))}(t,n,r)?{segmentGroup:new Ne(t.segments,m1e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function m1e(t,e,n,r,i){const s={};for(const o of r)if(z1(t,n,o)&&!i[$r(o)]){const a=new Ne([],{});s[$r(o)]=a}return{...i,...s}}function y1e(t,e){const n={};n[ce]=e;for(const r of t)if(""===r.path&&$r(r)!==ce){const i=new Ne([],{});n[$r(r)]=i}return n}function z1(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class I1e{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new p1e(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=yV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(wa(n=>{if(n instanceof gV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof H1?this.noMatchError(n):n}),_e(n=>{const r=new R1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new ls(r,n),s=new iV("",i),o=function pme(t,e,n=null,r=null){return qL(GL(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ce).pipe(wa(r=>{throw r instanceof H1?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=rV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dn(i).pipe(D1(s=>{const o=r.children[s],a=function Bme(t,e){const n=t.filter(r=>$r(r)===e);return n.push(...t.filter(r=>$r(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function $ge(t,e){return Dt(function jge(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(gt(o,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),S1(null),function Gge(t,e){const n=arguments.length>=2;return r=>r.pipe(t?us((i,s)=>t(i,s,r)):ms,X8(1),n?S1(e):kL(()=>new E1))}(),Jt(s=>{if(null===s)return Ru(r);const o=vV(s);return function E1e(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return dn(n).pipe(D1(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(wa(c=>{if(c instanceof H1)return ee(null);throw c}))),_a(a=>!!a),wa(a=>{if(hV(a))return function b1e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):Ru(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function w1e(t,e,n,r){return!!($r(t)===r||r!==ce&&z1(e,n,t))&&("**"===t.path||pI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ru(i):Ru(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Jt(o=>{const a=new Ne(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=pI(n,i,s);if(!a)return Ru(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?mV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Jt(f=>this.processSegment(e,r,n,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?OL(i).parameters:{};a=ee({snapshot:new R1(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_V(r),$r(r),r.component??r._loadedComponent??null,r,wV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=g1e(n,r,i,e).pipe(_e(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new R1(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_V(r),$r(r),r.component??r._loadedComponent??null,r,wV(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Dr(c=>null===c?Ru(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Dr(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:m}=yV(n,f,h,u);if(0===m.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(_e(_=>null===_?null:[new ls(d,_)]));if(0===u.length&&0===m.length)return ee([new ls(d,[])]);const y=$r(r)===s;return this.processSegment(l,u,p,m,y?ce:s,!0).pipe(_e(_=>[new ls(d,_)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function l1e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=Pu(o,t);return ro(function Qme(t){return t&&$f(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ou(),pV())}(e,n,r).pipe(Jt(i=>i?this.configLoader.loadChildren(e,n).pipe(yn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function h1e(t){return xf(uV(!1,3))}())):ee({routes:[],injector:e})}}function S1e(t){const e=t.value.routeConfig;return e&&""===e.path}function vV(t){const e=[],n=new Set;for(const r of t){if(!S1e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=vV(r.children);e.push(new ls(r.value,i))}return e.filter(r=>!n.has(r))}function _V(t){return t.data||{}}function wV(t){return t.resolve||{}}function bV(t){return"string"==typeof t.title||null===t.title}function gI(t){return Dr(e=>{const n=t(e);return n?dn(n).pipe(_e(()=>e)):ee(e)})}const U1=new B("ROUTES");let CV=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(tJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ro(r.loadComponent()).pipe(_e(IV),yn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),J8(()=>{this.componentLoaders.delete(r)})),s=new NL(i,()=>new Wr).pipe(Q8());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(_e(c=>{this.onLoadEndListener&&this.onLoadEndListener(i);let u,l;return Array.isArray(c)?l=c:(u=c.create(r).injector,l=u.get(U1,[],ue.Self|ue.Optional).flat()),{routes:l.map(fI),injector:u}}),J8(()=>{this.childrenLoaders.delete(i)})),a=new NL(o,()=>new Wr).pipe(Q8());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return ro(r()).pipe(_e(IV),Jt(i=>i instanceof sA||Array.isArray(i)?ee(i):dn(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function IV(t){return function k1e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let B1=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Wr,this.configLoader=D(CV),this.environmentInjector=D(Pr),this.urlSerializer=D(Pf),this.rootContexts=D(Hf),this.inputBindingEnabled=null!==D(F1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Tme(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Dme(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r){return this.transitions=new gr({id:0,currentUrlTree:r.currentUrlTree,currentRawUrl:r.currentUrlTree,extractedUrl:r.urlHandlingStrategy.extract(r.currentUrlTree),urlAfterRedirects:r.urlHandlingStrategy.extract(r.currentUrlTree),rawUrl:r.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lf,restoredState:null,currentSnapshot:r.routerState.snapshot,targetSnapshot:null,currentRouterState:r.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(us(i=>0!==i.id),_e(i=>({...i,extractedUrl:r.urlHandlingStrategy.extract(i.rawUrl)})),Dr(i=>{let s=!1,o=!1;return ee(i).pipe(yn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Dr(a=>{const c=r.browserUrlTree.toString(),u=!r.navigated||a.extractedUrl.toString()!==c||c!==r.currentUrlTree.toString();if(!u&&"reload"!==(a.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const d="";return this.events.next(new O1(a.id,r.serializeUrl(i.rawUrl),d,0)),r.rawUrlTree=a.rawUrl,a.resolve(null),Kr}if(r.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return EV(a.source)&&(r.browserUrlTree=a.extractedUrl),ee(a).pipe(Dr(d=>{const f=this.transitions?.getValue();return this.events.next(new JL(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Kr:Promise.resolve(d)}),function D1e(t,e,n,r,i,s){return Jt(o=>function C1e(t,e,n,r,i,s,o="emptyOnly"){return new I1e(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(_e(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),yn(d=>{if(i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},"eager"===r.urlUpdateStrategy){if(!d.extras.skipLocationChange){const h=r.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);r.setBrowserUrl(h,d)}r.browserUrlTree=d.urlAfterRedirects}const f=new bme(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&r.urlHandlingStrategy.shouldProcessUrl(r.rawUrlTree)){const{id:d,extractedUrl:f,source:h,restoredState:p,extras:m}=a,y=new JL(d,this.urlSerializer.serialize(f),h,p);this.events.next(y);const _=nV(0,this.rootComponentType).snapshot;return ee(i={...a,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new O1(a.id,r.serializeUrl(i.extractedUrl),d,1)),r.rawUrlTree=a.rawUrl,a.resolve(null),Kr}}),yn(a=>{const c=new Cme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),_e(a=>i={...a,guards:Gme(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function n1e(t,e){return Jt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function r1e(t,e,n,r){return dn(t).pipe(Jt(i=>function u1e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const c=Uf(e)??i,u=Pu(a,c);return ro(function Zme(t){return t&&$f(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(_a())})).pipe(Ou()):ee(!0)}(i.component,i.route,n,e,r)),_a(i=>!0!==i,!0))}(o,r,i,t).pipe(Jt(a=>a&&function Yme(t){return"boolean"==typeof t}(a)?function i1e(t,e,n,r){return dn(e).pipe(D1(i=>Y8(function o1e(t,e){return null!==t&&e&&e(new Ame(t)),ee(!0)}(i.route.parent,r),function s1e(t,e){return null!==t&&e&&e(new xme(t)),ee(!0)}(i.route,r),function c1e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function qme(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>xL(()=>ee(o.guards.map(c=>{const u=Uf(o.node)??n,l=Pu(c,u);return ro(function Jme(t){return t&&$f(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(_a())})).pipe(Ou())));return ee(s).pipe(Ou())}(t,i.path,n),function a1e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>xL(()=>{const o=Uf(e)??n,a=Pu(s,o);return ro(function Xme(t){return t&&$f(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(_a())}));return ee(i).pipe(Ou())}(t,i.route,n))),_a(i=>!0!==i,!0))}(r,s,t,e):ee(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,a=>this.events.next(a)),yn(a=>{if(i.guardsResult=a.guardsResult,Ca(a.guardsResult))throw cV(0,a.guardsResult);const c=new Ime(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),us(a=>!!a.guardsResult||(r.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),gI(a=>{if(a.guards.canActivateChecks.length)return ee(a).pipe(yn(c=>{const u=new Eme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Dr(c=>{let u=!1;return ee(c).pipe(function T1e(t,e){return Jt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return dn(i).pipe(D1(o=>function A1e(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!bV(i)&&(s[Nf]=i.title),function M1e(t,e,n,r){const i=function x1e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return dn(i).pipe(Jt(o=>function N1e(t,e,n,r){const i=Uf(e)??r,s=Pu(t,i);return ro(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(_a(),yn(a=>{s[o]=a}))),X8(1),function qge(t){return _e(()=>t)}(s),wa(o=>hV(o)?Kr:xf(o)))}(s,t,e,r).pipe(_e(o=>(t._resolvedData=o,t.data=rV(t,n).resolve,i&&bV(i)&&(t.data[Nf]=i.title),null)))}(o.route,r,t,e)),yn(()=>s++),X8(1),Jt(o=>s===i.length?ee(n):Kr))})}(r.paramsInheritanceStrategy,this.environmentInjector),yn({next:()=>u=!0,complete:()=>{u||(r.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),yn(c=>{const u=new Sme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),gI(a=>{const c=u=>{const l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(yn(d=>{u.component=d}),_e(()=>{})));for(const d of u.children)l.push(...c(d));return l};return AL(c(a.targetSnapshot.root)).pipe(S1(),Au(1))}),gI(()=>this.afterPreactivation()),_e(a=>{const c=function Rme(t,e,n){const r=zf(t,e._root,n?n._root:void 0);return new tV(r,e)}(r.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:c}}),yn(a=>{r.currentUrlTree=a.urlAfterRedirects,r.rawUrlTree=r.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),r.routerState=a.targetRouterState,"deferred"===r.urlUpdateStrategy&&(a.extras.skipLocationChange||r.setBrowserUrl(r.rawUrlTree,a),r.browserUrlTree=a.urlAfterRedirects)}),((t,e,n,r)=>_e(i=>(new $me(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Au(1),yn({next:a=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,r.navigated=!0,this.events.next(new Vf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(r.currentUrlTree))),r.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{s=!0}}),J8(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),wa(a=>{if(o=!0,dV(a)){lV(a)||(r.navigated=!0,r.restoreHistory(i,!0));const c=new P1(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(c),lV(a)){const u=r.urlHandlingStrategy.merge(a.url,r.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===r.urlUpdateStrategy||EV(i.source)};r.scheduleNavigation(u,Lf,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{r.restoreHistory(i,!0);const c=new iI(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(c);try{i.resolve(r.errorHandler(a))}catch(u){i.reject(u)}}return Kr}))}))}cancelNavigationTransition(r,i,s){const o=new P1(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function EV(t){return t!==Lf}let SV=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[Nf]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return D(P1e)},providedIn:"root"}),e})(),P1e=(()=>{var t;class e extends SV{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Yv))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),O1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return D(F1e)},providedIn:"root"}),e})();class R1e{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let F1e=(()=>{var t;class e extends R1e{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nn(t)))(i||t)}}(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const mI=new B("",{providedIn:"root",factory:()=>({})});let L1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return D(V1e)},providedIn:"root"}),e})(),V1e=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Gf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Gf||{});function H1e(t){throw t}function z1e(t,e,n){return e.parse("/")}const U1e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B1e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gr=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=D(tM),this.isNgZoneEnabled=!1,this.options=D(mI,{optional:!0})||{},this.pendingTasks=D(nM),this.errorHandler=this.options.errorHandler||H1e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||z1e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=D(L1e),this.routeReuseStrategy=D(O1e),this.titleStrategy=D(SV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=D(U1,{optional:!0})?.flat()??[],this.navigationTransitions=D(B1),this.urlSerializer=D(Pf),this.location=D(Iv),this.componentInputBindingEnabled=!!D(F1,{optional:!0}),this.isNgZoneEnabled=D(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nV(0,null),this.navigationTransitions.setupNavigations(this).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId??0},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lf,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const u={...s};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(fI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=GL(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return qL(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Ca(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Lf,null,i)}navigate(r,i={skipLocationChange:!1}){return function j1e(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...U1e}:!1===i?{...B1e}:i,Ca(r))return FL(this.currentUrlTree,r,s);const o=this.parseUrl(r);return FL(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});const d=this.pendingTasks.add();return function DV(t,e){t.events.pipe(us(n=>n instanceof Vf||n instanceof P1||n instanceof iI||n instanceof O1),_e(n=>n instanceof Vf||n instanceof O1?Gf.COMPLETE:n instanceof P1&&(0===n.code||1===n.code)?Gf.REDIRECTING:Gf.FAILED),us(n=>n!==Gf.REDIRECTING),Au(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Fu{constructor(e){return e}}const PV="analytics",OV=Eg.async,J1e=ut(soe,!0),wI=ut(eN,!0),Z1e=ut(coe,!0);let RV=(()=>{class t{constructor(n,r,i){let s;this.disposables=[],Ue("angularfire",Os.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),OV().then(()=>{const o=i.get(Fu);o?this.disposables=[Rk(n).subscribe(a=>{Z1e(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(W(_d),W(Ie),W(Ot))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();const FV="firebase_screen_id",bI="outlet",qf="screen_class",LV="screen_name";let d2e=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const CI={},f2e=t=>{const e=[t[qf],t[bI]].join("#");if(CI.hasOwnProperty(e))return CI[e];{const n=d2e++;return CI[e]=n,n}},h2e=(t,e,n)=>t.events.pipe(us(i=>i instanceof ZL)).pipe(Dr(i=>{var s;const a=(null===(s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",c=t.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!c)return ee(null);let u=c;for(;u.firstChild;)u=u.firstChild;const l=u.pathFromRoot.map(h=>{var p;return null===(p=h.routeConfig)||void 0===p?void 0:p.path}).filter(h=>h).join("/")||"/",d={[LV]:l,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:l,[bI]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let f=c.component;if(f){if(f===dI){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;f=h.component}}else f=i.snapshot.component;if("string"==typeof f)return ee(Object.assign(Object.assign({},d),{[qf]:f}));if(f){const h=n.resolveComponentFactory(f);return ee(Object.assign(Object.assign({},d),{[qf]:h.selector}))}return ee(null)}),us(i=>!!i),_e(i=>Object.assign({firebase_screen_class:i[qf],[FV]:f2e(i)},i)),function xge(t,e,n,r){return Dt((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},u=p=>c(m=>m.error(p));let l=0,d=!1;const f=new FE(s,p=>{try{const m=t(p);let y=a.get(m);if(!y){a.set(m,y=r?r():new Wr);const _=function h(p,m){const y=new be(_=>{l++;const v=m.subscribe(_);return()=>{v.unsubscribe(),0==--l&&d&&f.unsubscribe()}});return y.key=p,y}(m,y);if(s.next(_),n){const v=gt(y,()=>{y.complete(),v?.unsubscribe()},void 0,void 0,()=>a.delete(m));f.add(er(n(_)).subscribe(v))}}y.next(o?o(p):p)}catch(m){u(m)}},()=>c(p=>p.complete()),u,()=>a.clear(),()=>(d=!0,0===l));i.subscribe(f)})}(i=>i[bI]),Jt(i=>i.pipe(ZE((s,o)=>JSON.stringify(s)===JSON.stringify(o)),EL(void 0),function kge(){return Dt((t,e)=>{let n,r=!1;t.subscribe(gt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),_e(([s,o])=>s?Object.assign({firebase_previous_class:s[qf],firebase_previous_screen:s[LV],firebase_previous_id:s[FV]},o):o))));let p2e=(()=>{class t{constructor(n,r,i,s,o,a){Ue("angularfire",Os.full,"screen-tracking"),OV().then(()=>{const c=a.get(Fu);!n||!c||s.runOutsideAngular(()=>{this.disposable=h2e(n,r,i).pipe(Dr(u=>k2(this,void 0,void 0,function*(){return o&&(yield o.initialized),wI(c,"screen_view",u)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(W(Gr,8),W(Yv,8),W(wl),W(Ie),W(RV,8),W(Ot))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();const II=new B("angularfire2.analytics-instances");function m2e(t){return(e,n)=>{if(!Eg.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Fu(r)}}const y2e={provide:class X1e{constructor(){return Dg(PV)}},deps:[[new jt,II]]},v2e={provide:Fu,useFactory:function g2e(t,e){if(!Eg.sync())return null;const n=Sg(PV,t,e);return n&&new Fu(n)},deps:[[new jt,II],zo]};let _2e=(()=>{class t{constructor(n,r){Ue("angularfire",Os.full,"analytics")}}return t.\u0275fac=function(n){return new(n||t)(W(p2e,8),W(RV,8))},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({providers:[v2e,y2e,{provide:eM,useValue:Eg.async,multi:!0}]}),t})();function w2e(t,...e){return{ngModule:_2e,providers:[{provide:II,useFactory:m2e(t),multi:!0,deps:[Ie,Ot,rd,id,...e]}]}}let b2e=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&kl("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function C2e(t,e){1&t&&(M(0,"span",26),G(1,"1"),k())}function I2e(t,e){if(1&t&&(M(0,"span",27),G(1),k()),2&t){const n=rt();R(1),Ve(n.localOrdersBadge)}}function E2e(t,e){if(1&t&&(M(0,"span",26),G(1),Pe(2,"async"),k()),2&t){const n=rt();R(1),Ve(wt(2,1,n.fleetOrdersNotification))}}let S2e=(()=>{var t;class e{constructor(){this.badgeService=D(bL),this.dgAPI=D(cs),this.changeDetection=D(Ts),this.authService=D(Tu),this.localStorageService=D(as),this.analytics=D(Fu),this.localOrdersBadge=0,this.updateAvailable=!1;let r=window.location.pathname.split("/")[1];wI(this.analytics,r.length>0?"/"+r:"/home"),wI(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.localOrdersBadge=this.localStorageService.get(Xn.ACTIVE_ORDERS),this.updateAvailable=this.localStorageService.get(Xn.UPDATE_AVAILABLE).value,this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new be(s=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),s,this.changeDetection)})),this.changeDetection.detectChanges()})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["dgt-navbar"]],decls:41,vars:12,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["style","z-index: 0","class","local-orders-badge notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],[1,"local-orders-badge","notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"ul",1)(2,"li",2),_t(3,C2e,2,0,"span",3),M(4,"a",4),Ce(5,"img",5),M(6,"span",6),G(7,"home"),k()()(),M(8,"li",7)(9,"a",8),Ce(10,"img",9),M(11,"span",6),G(12,"planets"),k()()(),M(13,"li",10)(14,"a",11),Ce(15,"img",12),M(16,"span",6),G(17,"radar"),k()()(),M(18,"li",13),_t(19,I2e,2,1,"span",14),_t(20,E2e,3,3,"span",3),Pe(21,"async"),M(22,"a",15),Ce(23,"img",16),M(24,"span",6),G(25,"fleets"),k()()(),M(26,"li",17)(27,"a",18),Ce(28,"img",19),M(29,"span",6),G(30,"navigation"),k()()(),M(31,"li",20)(32,"a",21),Ce(33,"img",22),M(34,"span",6),G(35,"research"),k()()(),M(36,"li",23)(37,"a",24),Ce(38,"img",25),M(39,"span",6),G(40,"alliances"),k()()()()()),2&r&&(R(2),Q("tabName","home"),R(1),Q("ngIf",i.updateAvailable),R(5),Q("tabName","planets"),R(5),Q("tabName","radar"),R(5),Q("tabName","fleets"),R(1),Q("ngIf",i.localOrdersBadge>0),R(1),Q("ngIf",i.active&&wt(21,10,i.fleetOrdersNotification)),R(6),Q("tabName","navigation"),R(5),Q("tabName","research"),R(5),Q("tabName","alliances"))},dependencies:[Ms,b2e,Ec],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const Jn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let D2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[S2e]}),t.\u0275inj=Qe({providers:[bL],imports:[ci,Uo(()=>jo(Jn_firebase)),Lc(()=>Vc()),ya(()=>va()),$o(()=>Go(Bo(),{provider:new Wi(Jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),w2e(()=>J1e())]}),e})();class T2e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class A2e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class VV{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class HV{constructor(){this._resources=new A2e,this._workers=new VV,this._soldiers=new VV}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Vt=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Vt||{});let zV=(()=>{var t;class e{constructor(){this.dgAPI=D(cs)}extractStats(){let r=new T2e;return r.stats.set(Vt.ALL,new HV),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new HV),r.stats.get(Vt.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Vt.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Vt.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Vt.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Vt.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Vt.METAL:r.stats.get(Vt.ALL).resources.metalStored+=s.stored,r.stats.get(Vt.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Vt.MINERAL:r.stats.get(Vt.ALL).resources.mineralStored+=s.stored,r.stats.get(Vt.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Vt.FOOD:r.stats.get(Vt.ALL).resources.foodStored+=s.stored,r.stats.get(Vt.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Vt.ENERGY:r.stats.get(Vt.ALL).resources.energyStored+=s.stored,r.stats.get(Vt.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),M2e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Ut({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),EI=(()=>{var t;class e{constructor(){this.decimalPipe=D(Sc)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Ut({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const x2e=function(t){return{"dgt-stats-totals-last-row":t}},Sr=function(t){return{"dgt-padding-bottom-xs":t}};function N2e(t,e){if(1&t&&(M(0,"tr",4)(1,"th",5),G(2),Pe(3,"galaxyNameFormatter"),k(),M(4,"td",6)(5,"div",7),Ce(6,"img",8),M(7,"span",9),G(8),Pe(9,"number"),k()()(),M(10,"td",10)(11,"div",7)(12,"span",9),G(13),Pe(14,"resourceProductionFormatter"),k()()(),M(15,"td",11)(16,"div",12),Ce(17,"img",13),M(18,"span",9),G(19),Pe(20,"number"),k()()(),M(21,"td",10)(22,"div",12)(23,"span",9),G(24),Pe(25,"resourceProductionFormatter"),k()()(),M(26,"td",11)(27,"div",14),Ce(28,"img",15),M(29,"span",9),G(30),Pe(31,"number"),k()()(),M(32,"td",10)(33,"div",14)(34,"span",9),G(35),Pe(36,"resourceProductionFormatter"),k()()(),M(37,"td",11)(38,"div",16),Ce(39,"img",17),M(40,"span",9),G(41),Pe(42,"number"),k()()(),M(43,"td",18)(44,"div",16)(45,"span",9),G(46),Pe(47,"resourceProductionFormatter"),k()()(),M(48,"td",19)(49,"div",20),Ce(50,"img",21),M(51,"span",9),G(52),Pe(53,"number"),k()()(),M(54,"td",22)(55,"div",23),Ce(56,"img",24),M(57,"span",9),G(58),Pe(59,"number"),k()()(),M(60,"td",25)(61,"div",26),Ce(62,"img",27),M(63,"span",9),G(64),Pe(65,"number"),k()()()()),2&t){const n=e.$implicit,r=e.index,i=rt();Q("ngClass",Gn(63,x2e,r==i.panel.stats.size-1)),R(1),Q("ngClass",Gn(65,Sr,r==i.panel.stats.size-2)),R(1),Ve(wt(3,25,n.key)),R(2),Q("ngClass",Gn(67,Sr,r==i.panel.stats.size-2)),R(4),Ve(Ss(9,27,n.value.resources.metalStored,"1.0","en-US")),R(2),Q("ngClass",Gn(69,Sr,r==i.panel.stats.size-2)),R(3),Ve(wt(14,31,n.value.resources.metalProduction)),R(2),Q("ngClass",Gn(71,Sr,r==i.panel.stats.size-2)),R(4),Ve(Ss(20,33,n.value.resources.mineralStored,"1.0","en-US")),R(2),Q("ngClass",Gn(73,Sr,r==i.panel.stats.size-2)),R(3),Ve(wt(25,37,n.value.resources.mineralProduction)),R(2),Q("ngClass",Gn(75,Sr,r==i.panel.stats.size-2)),R(4),Ve(Ss(31,39,n.value.resources.foodStored,"1.0","en-US")),R(2),Q("ngClass",Gn(77,Sr,r==i.panel.stats.size-2)),R(3),Ve(wt(36,43,n.value.resources.foodProduction)),R(2),Q("ngClass",Gn(79,Sr,r==i.panel.stats.size-2)),R(4),Ve(Ss(42,45,n.value.resources.energyStored,"1.0","en-US")),R(2),Q("ngClass",Gn(81,Sr,r==i.panel.stats.size-2)),R(3),Ve(wt(47,49,n.value.resources.energyProduction)),R(2),Q("ngClass",Gn(83,Sr,r==i.panel.stats.size-2)),R(4),Ve(Ss(53,51,n.value.resources.ground,"1.0","en-US")),R(2),Q("ngClass",Gn(85,Sr,r==i.panel.stats.size-2)),R(4),Ve(Ss(59,55,n.value.resources.orbit,"1.0","en-US")),R(2),Q("ngClass",Gn(87,Sr,r==i.panel.stats.size-2)),R(4),Ve(Ss(65,59,n.value.soldiers.total,"1.0","en-US"))}}let k2e=(()=>{var t;class e{constructor(){this.statsPanelService=D(zV)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"table",2),_t(3,N2e,66,89,"tr",3),Pe(4,"keyvalue"),k()()()),2&r&&(R(3),Q("ngForOf",wt(4,1,i.panel.stats)))},dependencies:[Ov,og,Sc,ix,M2e,EI],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){Ht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j1(t){return(j1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function BV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SI(t,e){return function L2e(t){if(Array.isArray(t))return t}(t)||function H2e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||jV(t,e)||function U2e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kf(t){return function F2e(t){if(Array.isArray(t))return DI(t)}(t)||function V2e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||jV(t)||function z2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jV(t,e){if(t){if("string"==typeof t)return DI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DI(t,e)}}function DI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $V=function(){},TI={},GV={},qV=null,WV={mark:$V,measure:$V};try{typeof window<"u"&&(TI=window),typeof document<"u"&&(GV=document),typeof MutationObserver<"u"&&(qV=MutationObserver),typeof performance<"u"&&(WV=performance)}catch{}var q1,W1,K1,Y1,Q1,KV=(TI.navigator||{}).userAgent,YV=void 0===KV?"":KV,io=TI,Ke=GV,QV=qV,G1=WV,fs=!!Ke.documentElement&&!!Ke.head&&"function"==typeof Ke.addEventListener&&"function"==typeof Ke.createElement,XV=~YV.indexOf("MSIE")||~YV.indexOf("Trident/"),hs="___FONT_AWESOME___",JV="fa",ZV="svg-inline--fa",Ia="data-fa-i2svg",MI="data-fa-pseudo-element",j2e="data-fa-pseudo-element-pending",xI="data-prefix",NI="data-icon",eH="fontawesome-i2svg",$2e="async",G2e=["HTML","HEAD","STYLE","SCRIPT"],tH=function(){try{return!0}catch{return!1}}(),Ye="classic",pt="sharp",kI=[Ye,pt];function Yf(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ye]}})}var Qf=Yf((Ht(q1={},Ye,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Ht(q1,pt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),q1)),Xf=Yf((Ht(W1={},Ye,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Ht(W1,pt,{solid:"fass",regular:"fasr",light:"fasl"}),W1)),Jf=Yf((Ht(K1={},Ye,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Ht(K1,pt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),K1)),q2e=Yf((Ht(Y1={},Ye,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Ht(Y1,pt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Y1)),W2e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,nH="fa-layers-text",K2e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Y2e=Yf((Ht(Q1={},Ye,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Ht(Q1,pt,{900:"fass",400:"fasr",300:"fasl"}),Q1)),rH=[1,2,3,4,5,6,7,8,9,10],Q2e=rH.concat([11,12,13,14,15,16,17,18,19,20]),X2e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ea={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Zf=new Set;Object.keys(Xf[Ye]).map(Zf.add.bind(Zf)),Object.keys(Xf[pt]).map(Zf.add.bind(Zf));var J2e=[].concat(kI,Kf(Zf),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ea.GROUP,Ea.SWAP_OPACITY,Ea.PRIMARY,Ea.SECONDARY]).concat(rH.map(function(t){return"".concat(t,"x")})).concat(Q2e.map(function(t){return"w-".concat(t)})),eh=io.FontAwesomeConfig||{};Ke&&"function"==typeof Ke.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=SI(t,2),r=e[1],i=function e0e(t){return""===t||"false"!==t&&("true"===t||t)}(function Z2e(t){var e=Ke.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(eh[r]=i)});var iH={styleDefault:"solid",familyDefault:"classic",cssPrefix:JV,replacementClass:ZV,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};eh.familyPrefix&&(eh.cssPrefix=eh.familyPrefix);var Lu=z(z({},iH),eh);Lu.autoReplaceSvg||(Lu.observeMutations=!1);var $={};Object.keys(iH).forEach(function(t){Object.defineProperty($,t,{enumerable:!0,set:function(n){Lu[t]=n,th.forEach(function(r){return r($)})},get:function(){return Lu[t]}})}),Object.defineProperty($,"familyPrefix",{enumerable:!0,set:function(e){Lu.cssPrefix=e,th.forEach(function(n){return n($)})},get:function(){return Lu.cssPrefix}}),io.FontAwesomeConfig=$;var th=[],Di={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},i0e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nh(){for(var t=12,e="";t-- >0;)e+=i0e[62*Math.random()|0];return e}function Vu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function PI(t){return t.classList?Vu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function sH(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function X1(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function OI(t){return t.size!==Di.size||t.x!==Di.x||t.y!==Di.y||t.rotate!==Di.rotate||t.flipX||t.flipY}var c0e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function oH(){var t=JV,e=ZV,n=$.cssPrefix,r=$.replacementClass,i=c0e;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var aH=!1;function RI(){$.autoAddCss&&!aH&&(function r0e(t){if(t&&fs){var e=Ke.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ke.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Ke.head.insertBefore(e,r)}}(oH()),aH=!0)}var u0e={mixout:function(){return{dom:{css:oH,insertCss:RI}}},hooks:function(){return{beforeDOMElementCreation:function(){RI()},beforeI2svg:function(){RI()}}}},ps=io||{};ps[hs]||(ps[hs]={}),ps[hs].styles||(ps[hs].styles={}),ps[hs].hooks||(ps[hs].hooks={}),ps[hs].shims||(ps[hs].shims=[]);var qr=ps[hs],cH=[],J1=!1;function rh(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?sH(t):"<".concat(e," ").concat(function s0e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(sH(t[n]),'" ')},"").trim()}(r),">").concat(s.map(rh).join(""),"</").concat(e,">")}function uH(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}fs&&((J1=(Ke.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ke.readyState))||Ke.addEventListener("DOMContentLoaded",function t(){Ke.removeEventListener("DOMContentLoaded",t),J1=1,cH.map(function(e){return e()})}));var FI=function(e,n,r,i){var c,u,l,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,l=e[s[0]]):(c=0,l=r);c<o;c++)l=a(l,e[u=s[c]],u,e);return l};function LI(t){var e=function h0e(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function lH(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function VI(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=lH(e);"function"!=typeof qr.hooks.addPack||i?qr.styles[t]=z(z({},qr.styles[t]||{}),s):qr.hooks.addPack(t,lH(e)),"fas"===t&&VI("fa",e)}var Z1,e2,t2,Hu=qr.styles,g0e=qr.shims,m0e=(Ht(Z1={},Ye,Object.values(Jf[Ye])),Ht(Z1,pt,Object.values(Jf[pt])),Z1),HI=null,dH={},fH={},hH={},pH={},gH={},y0e=(Ht(e2={},Ye,Object.keys(Qf[Ye])),Ht(e2,pt,Object.keys(Qf[pt])),e2);var mH=function(){var e=function(s){return FI(Hu,function(o,a,c){return o[c]=FI(a,s,{}),o},{})};dH=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),fH=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),gH=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Hu||$.autoFetchSvg,r=FI(g0e,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});hH=r.names,pH=r.unicodes,HI=n2($.styleDefault,{family:$.familyDefault})};function zI(t,e){return(dH[t]||{})[e]}function Sa(t,e){return(gH[t]||{})[e]}function yH(t){return hH[t]||{prefix:null,iconName:null}}function oo(){return HI}(function n0e(t){th.push(t)})(function(t){HI=n2(t.styleDefault,{family:$.familyDefault})}),mH();var UI=function(){return{prefix:null,iconName:null,rest:[]}};function n2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Ye:n;return Xf[r][t]||Xf[r][Qf[r][t]]||(t in qr.styles?t:null)||null}var vH=(Ht(t2={},Ye,Object.keys(Jf[Ye])),Ht(t2,pt,Object.keys(Jf[pt])),t2);function r2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Ht(e={},Ye,"".concat($.cssPrefix,"-").concat(Ye)),Ht(e,pt,"".concat($.cssPrefix,"-").concat(pt)),e),o=null,a=Ye;(t.includes(s[Ye])||t.some(function(u){return vH[Ye].includes(u)}))&&(a=Ye),(t.includes(s[pt])||t.some(function(u){return vH[pt].includes(u)}))&&(a=pt);var c=t.reduce(function(u,l){var d=function _0e(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function v0e(t){return~J2e.indexOf(t)}(i)?null:i}($.cssPrefix,l);if(Hu[l]?(l=m0e[a].includes(l)?q2e[a][l]:l,o=l,u.prefix=l):y0e[a].indexOf(l)>-1?(o=l,u.prefix=n2(l,{family:a})):d?u.iconName=d:l!==$.replacementClass&&l!==s[Ye]&&l!==s[pt]&&u.rest.push(l),!i&&u.prefix&&u.iconName){var f="fa"===o?yH(u.iconName):{},h=Sa(u.prefix,u.iconName);f.prefix&&(o=null),u.iconName=f.iconName||h||u.iconName,u.prefix=f.prefix||u.prefix,"far"===u.prefix&&!Hu.far&&Hu.fas&&!$.autoFetchSvg&&(u.prefix="fas")}return u},UI());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===pt&&(Hu.fass||$.autoFetchSvg)&&(c.prefix="fass",c.iconName=Sa(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=oo()||"fas"),c}var C0e=function(){function t(){(function P2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function O2e(t,e,n){e&&BV(t.prototype,e),n&&BV(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=z(z({},n.definitions[a]||{}),o[a]),VI(a,o[a]);var c=Jf[Ye][a];c&&VI(c,o[a]),mH()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,u=o.icon,l=u[2];n[a]||(n[a]={}),l.length>0&&l.forEach(function(d){"string"==typeof d&&(n[a][d]=u)}),n[a][c]=u}),n}}]),t}(),_H=[],zu={},Uu={},I0e=Object.keys(Uu);function BI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(zu[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Da(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(zu[t]||[]).forEach(function(s){s.apply(null,n)})}function gs(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Uu[t]?Uu[t].apply(null,e):void 0}function jI(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||oo();if(e)return e=Sa(n,e)||e,uH(wH.definitions,n,e)||uH(qr.styles,n,e)}var wH=new C0e,D0e={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fs?(Da("beforeI2svg",e),gs("pseudoElements2svg",e),gs("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===$.autoReplaceSvg&&($.autoReplaceSvg=!0),$.observeMutations=!0,function d0e(t){fs&&(J1?setTimeout(t,0):cH.push(t))}(function(){A0e({autoReplaceSvgRoot:n}),Da("watch",e)})}},hr={noAuto:function(){$.autoReplaceSvg=!1,$.observeMutations=!1,Da("noAuto")},config:$,dom:D0e,parse:{icon:function(e){if(null===e)return null;if("object"===j1(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Sa(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=n2(e[0]);return{prefix:r,iconName:Sa(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat($.cssPrefix,"-"))>-1||e.match(W2e))){var i=r2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||oo(),iconName:Sa(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=oo();return{prefix:s,iconName:Sa(s,e)||e}}}},library:wH,findIconDefinition:jI,toHtml:rh},A0e=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Ke:n;(Object.keys(qr.styles).length>0||$.autoFetchSvg)&&fs&&$.autoReplaceSvg&&hr.dom.i2svg({node:r})};function s2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return rh(r)})}}),Object.defineProperty(t,"node",{get:function(){if(fs){var r=Ke.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function $I(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,u=t.maskId,l=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,m=p.width,y=p.height,_="fak"===i,v=[$.replacementClass,s?"".concat($.cssPrefix,"-").concat(s):""].filter(function(zt){return-1===d.classes.indexOf(zt)}).filter(function(zt){return""!==zt||!!zt}).concat(d.classes).join(" "),C={children:[],attributes:z(z({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:v,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},N=_&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};h&&(C.attributes[Ia]=""),c&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(l||nh())},children:[c]}),delete C.attributes.title);var L=z(z({},C),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:z(z({},N),d.styles)}),K=r.found&&n.found?gs("generateAbstractMask",L)||{children:[],attributes:{}}:gs("generateAbstractIcon",L)||{children:[],attributes:{}},Nt=K.attributes;return L.children=K.children,L.attributes=Nt,a?function x0e(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat($.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:z(z({},i),{},{id:o}),children:r}]}]}(L):function M0e(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(OI(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=X1(z(z({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(L)}function bH(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,u=z(z(z({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(u[Ia]="");var l=z({},o.styles);OI(i)&&(l.transform=function a0e(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&XV?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var d=X1(l);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var GI=qr.styles;function qI(t){var e=t[0],n=t[1],s=SI(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat($.cssPrefix,"-").concat(Ea.GROUP)},children:[{tag:"path",attributes:{class:"".concat($.cssPrefix,"-").concat(Ea.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat($.cssPrefix,"-").concat(Ea.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var k0e={found:!1,width:512,height:512};function WI(t,e){var n=e;return"fa"===e&&null!==$.styleDefault&&(e=oo()),new Promise(function(r,i){if(gs("missingIconAbstract"),"fa"===n){var o=yH(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&GI[e]&&GI[e][t])return r(qI(GI[e][t]));(function P0e(t,e){!tH&&!$.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(z(z({},k0e),{},{icon:$.showMissingIcons&&t&&gs("missingIconAbstract")||{}}))})}var CH=function(){},KI=$.measurePerformance&&G1&&G1.mark&&G1.measure?G1:{mark:CH,measure:CH},ih='FA "6.4.2"',IH=function(e){KI.mark("".concat(ih," ").concat(e," ends")),KI.measure("".concat(ih," ").concat(e),"".concat(ih," ").concat(e," begins"),"".concat(ih," ").concat(e," ends"))},YI={begin:function(e){return KI.mark("".concat(ih," ").concat(e," begins")),function(){return IH(e)}},end:IH},o2=function(){};function EH(t){return"string"==typeof(t.getAttribute?t.getAttribute(Ia):null)}function V0e(t){return Ke.createElementNS("http://www.w3.org/2000/svg",t)}function H0e(t){return Ke.createElement(t)}function SH(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?V0e:H0e:n;if("string"==typeof t)return Ke.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(SH(o,{ceFn:r}))}),i}var a2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(SH(i),n)}),null===n.getAttribute(Ia)&&$.keepOriginalSource){var r=Ke.createComment(function z0e(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~PI(n).indexOf($.replacementClass))return a2.replace(e);var i=new RegExp("".concat($.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===$.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return rh(a)}).join("\n");n.setAttribute(Ia,""),n.innerHTML=o}};function DH(t){t()}function TH(t,e){var n="function"==typeof e?e:o2;if(0===t.length)n();else{var r=DH;$.mutateApproach===$2e&&(r=io.requestAnimationFrame||DH),r(function(){var i=function L0e(){return!0===$.autoReplaceSvg?a2.replace:a2[$.autoReplaceSvg]||a2.replace}(),s=YI.begin("mutate");t.map(i),s(),n()})}}var QI=!1;function AH(){QI=!0}function XI(){QI=!1}var c2=null;function MH(t){if(QV&&$.observeMutations){var e=t.treeCallback,n=void 0===e?o2:e,r=t.nodeCallback,i=void 0===r?o2:r,s=t.pseudoElementsCallback,o=void 0===s?o2:s,a=t.observeMutationsRoot,c=void 0===a?Ke:a;c2=new QV(function(u){if(!QI){var l=oo();Vu(u).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!EH(d.addedNodes[0])&&($.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&$.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&EH(d.target)&&~X2e.indexOf(d.attributeName))if("class"===d.attributeName&&function R0e(t){var e=t.getAttribute?t.getAttribute(xI):null,n=t.getAttribute?t.getAttribute(NI):null;return e&&n}(d.target)){var f=r2(PI(d.target)),p=f.iconName;d.target.setAttribute(xI,f.prefix||l),p&&d.target.setAttribute(NI,p)}else(function F0e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains($.replacementClass)})(d.target)&&i(d.target)})}}),fs&&c2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function xH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function j0e(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=r2(PI(t));return i.prefix||(i.prefix=oo()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function w0e(t,e){return(fH[t]||{})[e]}(i.prefix,t.innerText)||zI(i.prefix,LI(t.innerText))),!i.iconName&&$.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function $0e(t){var e=Vu(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return $.autoA11y&&(n?e["aria-labelledby"]="".concat($.replacementClass,"-title-").concat(r||nh()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=BI("parseNodeAttributes",{},t),c=e.styleParser?function B0e(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return z({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Di,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var q0e=qr.styles;function NH(t){var e="nest"===$.autoReplaceSvg?xH(t,{styleParser:!1}):xH(t);return~e.extra.classes.indexOf(nH)?gs("generateLayersText",t,e):gs("generateSvgReplacementMutation",t,e)}var ao=new Set;function kH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!fs)return Promise.resolve();var n=Ke.documentElement.classList,r=function(d){return n.add("".concat(eH,"-").concat(d))},i=function(d){return n.remove("".concat(eH,"-").concat(d))},s=$.autoFetchSvg?ao:kI.map(function(l){return"fa-".concat(l)}).concat(Object.keys(q0e));s.includes("fa")||s.push("fa");var o=[".".concat(nH,":not([").concat(Ia,"])")].concat(s.map(function(l){return".".concat(l,":not([").concat(Ia,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Vu(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=YI.begin("onTree"),u=a.reduce(function(l,d){try{var f=NH(d);f&&l.push(f)}catch(h){tH||"MissingIcon"===h.name&&console.error(h)}return l},[]);return new Promise(function(l,d){Promise.all(u).then(function(f){TH(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),l()})}).catch(function(f){c(),d(f)})})}function W0e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;NH(t).then(function(n){n&&TH([n],e)})}function K0e(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:jI(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:jI(i||{})),t(r,z(z({},n),{},{mask:i}))}}kI.map(function(t){ao.add("fa-".concat(t))}),Object.keys(Qf[Ye]).map(ao.add.bind(ao)),Object.keys(Qf[pt]).map(ao.add.bind(ao)),ao=Kf(ao);var Y0e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Di:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,u=n.maskId,l=void 0===u?null:u,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,m=n.classes,y=void 0===m?[]:m,_=n.attributes,v=void 0===_?{}:_,C=n.styles,N=void 0===C?{}:C;if(e){var L=e.prefix,K=e.iconName,he=e.icon;return s2(z({type:"icon"},e),function(){return Da("beforeDOMElementCreation",{iconDefinition:e,params:n}),$.autoA11y&&(f?v["aria-labelledby"]="".concat($.replacementClass,"-title-").concat(p||nh()):(v["aria-hidden"]="true",v.focusable="false")),$I({icons:{main:qI(he),mask:c?qI(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:L,iconName:K,transform:z(z({},Di),i),symbol:o,title:f,maskId:l,titleId:p,extra:{attributes:v,styles:N,classes:y}})})}},Q0e={mixout:function(){return{icon:K0e(Y0e)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=kH,n.nodeCallback=W0e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return kH(void 0===r?Ke:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,u=r.symbol,l=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([WI(i,a),l.iconName?WI(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var y=SI(m,2);h([n,$I({icons:{main:y[0],mask:y[1]},prefix:a,iconName:i,transform:c,symbol:u,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var u,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=X1(n.styles);return c.length>0&&(i.style=c),OI(o)&&(u=gs("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},X0e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return s2({type:"layer"},function(){Da("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat($.cssPrefix,"-layers")].concat(Kf(s)).join(" ")},children:o}]})}}}},J0e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,u=void 0===c?{}:c,l=r.styles,d=void 0===l?{}:l;return s2({type:"counter",content:n},function(){return Da("beforeDOMElementCreation",{content:n,params:r}),function N0e(t){var e=t.content,n=t.title,r=t.extra,i=z(z(z({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=X1(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:u,styles:d,classes:["".concat($.cssPrefix,"-layers-counter")].concat(Kf(a))}})})}}}},Z0e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Di:i,o=r.title,a=void 0===o?null:o,c=r.classes,u=void 0===c?[]:c,l=r.attributes,d=void 0===l?{}:l,f=r.styles,h=void 0===f?{}:f;return s2({type:"text",content:n},function(){return Da("beforeDOMElementCreation",{content:n,params:r}),bH({content:n,transform:z(z({},Di),s),title:a,extra:{attributes:d,styles:h,classes:["".concat($.cssPrefix,"-layers-text")].concat(Kf(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(XV){var u=parseInt(getComputedStyle(n).fontSize,10),l=n.getBoundingClientRect();a=l.width/u,c=l.height/u}return $.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,bH({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},eye=new RegExp('"',"ug"),PH=[1105920,1112319];function OH(t,e){var n="".concat(j2e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Vu(t.children).filter(function(he){return he.getAttribute(MI)===e})[0],a=io.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(K2e),u=a.getPropertyValue("font-weight"),l=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==l&&""!==l){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?pt:Ye,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Xf[f][c[2].toLowerCase()]:Y2e[f][u],p=function tye(t){var e=t.replace(eye,""),n=function p0e(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=PH[0]&&n<=PH[1],i=2===e.length&&e[0]===e[1];return{value:LI(i?e[0]:e),isSecondary:r||i}}(d),m=p.value,y=p.isSecondary,_=c[0].startsWith("FontAwesome"),v=zI(h,m),C=v;if(_){var N=function b0e(t){var e=pH[t],n=zI("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(m);N.iconName&&N.prefix&&(v=N.iconName,h=N.prefix)}if(!v||y||o&&o.getAttribute(xI)===h&&o.getAttribute(NI)===C)r();else{t.setAttribute(n,C),o&&t.removeChild(o);var L=function G0e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Di,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),K=L.extra;K.attributes[MI]=e,WI(v,h).then(function(he){var Nt=$I(z(z({},L),{},{icons:{main:he,mask:UI()},prefix:h,iconName:C,extra:K,watchable:!0})),zt=Ke.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(zt,t.firstChild):t.appendChild(zt),zt.outerHTML=Nt.map(function(uh){return rh(uh)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function nye(t){return Promise.all([OH(t,"::before"),OH(t,"::after")])}function rye(t){return!(t.parentNode===document.head||~G2e.indexOf(t.tagName.toUpperCase())||t.getAttribute(MI)||t.parentNode&&"svg"===t.parentNode.tagName)}function RH(t){if(fs)return new Promise(function(e,n){var r=Vu(t.querySelectorAll("*")).filter(rye).map(nye),i=YI.begin("searchPseudoElements");AH(),Promise.all(r).then(function(){i(),XI(),e()}).catch(function(){i(),XI(),n()})})}var FH=!1,LH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},JI={x:0,y:0,width:"100%",height:"100%"};function VH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function aye(t){return"g"===t.tag?t.children:[t]}var cye={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?r2(i.split(" ").map(function(o){return o.trim()})):UI();return s.prefix||(s.prefix=oo()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=s.icon,f=o.icon,h=function o0e(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:z(z({},JI),{},{fill:"white"})},m=l.children?{children:l.children.map(VH)}:{},y={tag:"g",attributes:z({},h.inner),children:[VH(z({tag:l.tag,attributes:z(z({},l.attributes),h.path)},m))]},_={tag:"g",attributes:z({},h.outer),children:[y]},v="mask-".concat(a||nh()),C="clip-".concat(a||nh()),N={tag:"mask",attributes:z(z({},JI),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},L={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:aye(f)},N]};return r.push(L,{tag:"rect",attributes:z({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(v,")")},JI)}),{children:r,attributes:i}}}};!function E0e(t,e){var n=e.mixoutsTo;_H=t,zu={},Object.keys(Uu).forEach(function(r){-1===I0e.indexOf(r)&&delete Uu[r]}),_H.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===j1(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){zu[o]||(zu[o]=[]),zu[o].push(s[o])})}r.provides&&r.provides(Uu)})}([u0e,Q0e,X0e,J0e,Z0e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=RH,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;$.searchPseudoElements&&RH(void 0===r?Ke:r)}}},{mixout:function(){return{dom:{unwatch:function(){AH(),FH=!0}}}},hooks:function(){return{bootstrap:function(){MH(BI("mutationObserverCallbacks",{}))},noAuto:function(){!function U0e(){c2&&c2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;FH?XI():MH(BI("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return LH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=LH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),l="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(u," ").concat(l)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:z({},h.outer),children:[{tag:"g",attributes:z({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:z(z({},r.icon.attributes),h.path)}]}]}}}},cye,{provides:function(e){var n=!1;io.matchMedia&&(n=io.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:z(z({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=z(z({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:z(z({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:z(z({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:z(z({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:z(z({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:z(z({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:z(z({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:z(z({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:hr});var fye=hr.parse,hye=hr.icon;const pye=["*"],yye=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let wye=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ZI=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bye=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Dn]}),e})(),Cye=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ri),E(pn))},t.\u0275cmp=Hn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Dn],ngContentSelectors:pye,decls:1,vars:0,template:function(r,i){1&r&&(function BT(t){const e=I()[vt][fn];if(!e.projection){const r=e.projection=cl(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?KK(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function jT(t,e=0,n){const r=I(),i=ge(),s=sc(i,le+t,16,null,n||null);null===s.projection&&(s.projection=e),c0(),(!r[ki]||Va())&&32!=(32&s.flags)&&function eq(t,e,n){QS(e[re],0,e,n,F0(t,n,e),$S(n.parent||e[fn],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),HH=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?fye.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...yye(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=hye(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Dx),E(wye),E(ZI),E(bye,8),E(Cye,8))},t.\u0275cmp=Hn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Vy("innerHTML",i.renderedIconHTML,uD),Or("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Dn],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),eE=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({}),e})(),Iye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[k2e]}),t.\u0275inj=Qe({providers:[Sc,zV],imports:[ci,eE]}),e})(),zH=(()=>{var t;class e{constructor(){this.firestore=D(Ci),this.dgAPI=D(cs)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=Ii(this.firestore,"scans");Iu(Eu(i,no("location","==",r.planetScan.location),vL(1)),{idField:"id"}).forEach(s=>{let o=Object.assign(new IL,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==In.RESOURCE||r.type==In.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==In.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==In.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==In.FLEET&&(o.fleets=r.planetScan.fleets),0==s.length?yL(i,JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):_L(C1(i,o.id),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Eye(t,e){1&t&&(M(0,"p",1),G(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),k())}let Sye=(()=>{var t;class e{constructor(){this.scanService=D(zH),this.authService=D(Tu),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&_t(0,Eye,2,0,"p",0),2&r&&Q("ngIf",i.active)},dependencies:[Ms]}),e})(),Dye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[Sye]}),t.\u0275inj=Qe({providers:[zH],imports:[ci,Uo(()=>jo(Jn_firebase)),Lc(()=>Vc()),ya(()=>va()),$o(()=>Go(Bo(),{provider:new Wi(Jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),UH=(()=>{var t;class e{constructor(){this.firestore=D(Ci),this.dgAPI=D(cs),this.resourceProductionFormatterPipe=D(EI),this.decimalPipe=D(Sc)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));Iu(Eu(Ii(this.firestore,"scans"),no("location","in",i))).forEach(s=>{let a=Object.assign([],s).reduce((c,u)=>c.set(u.location,u),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let u=c.querySelector("div.coords > span").textContent.trim(),l=a.get(u);if(c.querySelector(".dgt-navigation-scan-turn").style.display="contents",c.querySelector("img:first-child").style.filter="grayscale(100%)",l){c.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(l.turn,"1.0","en_US"),l.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=l.structures.map(h=>h.name);d.includes(je.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(je.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(je.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(je.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(je.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(je.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(je.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),d.includes(je.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(je.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(je.MEDICAL_CENTRE)&&(f+=.3),d.includes(je.LEISURE_CENTRE)&&(f+=.4),d.includes(je.HOSPITAL)&&(f+=.3),l.workers.currentNumber>0||l.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(l.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(l.soldiers,"1.0","en_US");let h=l.workers.currentNumber/15+l.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}}else c.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Tye(t,e){1&t&&(M(0,"p",1),G(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),k())}let Aye=(()=>{var t;class e{constructor(){this.scanService=D(UH),this.authService=D(Tu),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&_t(0,Tye,2,0,"p",0),2&r&&Q("ngIf",i.active)},dependencies:[Ms]}),e})(),Mye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[Aye]}),t.\u0275inj=Qe({providers:[Sc,EI,UH],imports:[ci,Uo(()=>jo(Jn_firebase)),Lc(()=>Vc()),ya(()=>va()),$o(()=>Go(Bo(),{provider:new Wi(Jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function xye(t,e){if(1&t){const n=Eo();M(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),G(6,"DGT Login"),k()()(),M(7,"tr",3)(8,"td"),Ce(9,"input",4,5),k(),M(11,"td"),Ce(12,"input",6,7),k()(),M(14,"tr",8)(15,"td",2)(16,"button",9),Je("click",function(){Nr(n);const i=Ny(10),s=Ny(13);return kr(rt().signInWithEmailAndPassword(i.value,s.value,!0))}),G(17,"Login"),k(),M(18,"button",10),Je("click",function(){return Nr(n),kr(rt().signInWithGoogle(!0))}),Ce(19,"img",11),k()()()()()()}}let Nye=(()=>{var t;class e{constructor(){this.authService=D(Tu),this.auth=D(_d),this.firestore=D(Ci),this.localStorageService=D(as),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new be(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(Xn.USER)&&!this.authService.refreshInProgress)})})}signInWithEmailAndPassword(r,i,s){this.authService.signInWithEmailAndPassword(this.auth,r,i,s)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(_t(0,xye,20,0,"div",0),Pe(1,"async")),2&r&&Q("ngIf",wt(1,1,i.displayLogin))},dependencies:[Ms,Ec],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),kye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[Nye]}),t.\u0275inj=Qe({imports:[ci,Uo(()=>jo(Jn_firebase)),Lc(()=>Vc()),ya(()=>va()),$o(()=>Go(Bo(),{provider:new Wi(Jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),BH=(()=>{var t;class e{constructor(){this.firestore=D(Ci),this.dgApi=D(cs)}updateOrder(r){r.from=this.dgApi.username(!1);let i=Ii(this.firestore,"orders");yL(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){bge(C1(Ii(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,o){document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(c=>{c.classList.add("show"),c.classList.remove("hide")});let a=Ii(this.firestore,"orders");Iu(Eu(a,no("user","==",r),I1("executed","asc"),I1("wait","asc")),{idField:"id"}).forEach(c=>{let u=Object.assign([],c);u.forEach(l=>{l.wait-=i-l.turn}),o.next(u),s.detectChanges(),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(l=>{l.classList.add("hide"),l.classList.remove("show")})}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Pye{get from(){return this._from}set from(e){this._from=e}get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target,from:this.from}}}var rE={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},oE={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},l2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let fU=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ri),E(pn))},t.\u0275dir=Y({type:t}),e})(),Ta=(()=>{var t;class e extends fU{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nn(t)))(i||t)}}(),t.\u0275dir=Y({type:t,features:[Ae]}),e})();const Ti=new B("NgValueAccessor"),G4e={provide:Ti,useExisting:Fe(()=>d2),multi:!0},W4e=new B("CompositionEventMode");let d2=(()=>{var t;class e extends fU{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function q4e(){const t=As()?As().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ri),E(pn),E(W4e,8))},t.\u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Je("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ze([G4e]),Ae]}),e})();const En=new B("NgValidators"),uo=new B("NgAsyncValidators");function IU(t){return null!=t}function EU(t){return xl(t)?dn(t):t}function SU(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function DU(t,e){return e.map(n=>n(t))}function TU(t){return t.map(e=>function Y4e(t){return!t.validate}(e)?e:n=>e.validate(n))}function cE(t){return null!=t?function AU(t){if(!t)return null;const e=t.filter(IU);return 0==e.length?null:function(n){return SU(DU(n,e))}}(TU(t)):null}function uE(t){return null!=t?function MU(t){if(!t)return null;const e=t.filter(IU);return 0==e.length?null:function(n){return function j4e(...t){const e=QE(t),{args:n,keys:r}=SL(t),i=new be(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;er(n[l]).subscribe(gt(s,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?TL(r,a):a),s.complete())}))}});return e?i.pipe(DL(e)):i}(DU(n,e).map(EU)).pipe(_e(SU))}}(TU(t)):null}function xU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lE(t){return t?Array.isArray(t)?t:[t]:[]}function h2(t,e){return Array.isArray(t)?t.includes(e):t===e}function PU(t,e){const n=lE(e);return lE(t).forEach(i=>{h2(n,i)||n.push(i)}),n}function OU(t,e){return lE(e).filter(n=>!h2(t,n))}class RU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ln extends RU{get formDirective(){return null}get path(){return null}}class lo extends RU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let LU=(()=>{var t;class e extends FU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(lo,2))},t.\u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&kl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ae]}),e})(),VU=(()=>{var t;class e extends FU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Ln,10))},t.\u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&kl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ae]}),e})();const sh="VALID",g2="INVALID",Bu="PENDING",oh="DISABLED";function hE(t){return(m2(t)?t.validators:t)||null}function pE(t,e){return(m2(e)?e.asyncValidators:t)||null}function m2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class BU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sh}get invalid(){return this.status===g2}get pending(){return this.status==Bu}get disabled(){return this.status===oh}get enabled(){return this.status!==oh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OU(e,this._rawAsyncValidators))}hasValidator(e){return h2(this._rawValidators,e)}hasAsyncValidator(e){return h2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=oh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sh||this.status===Bu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oh:sh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bu,this._hasOwnPendingAsyncValidator=!0;const n=EU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?oh:this.errors?g2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bu)?Bu:this._anyControlsHaveStatus(g2)?g2:sh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){m2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Z4e(t){return Array.isArray(t)?cE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function e6e(t){return Array.isArray(t)?uE(t):t||null}(this._rawAsyncValidators)}}class gE extends BU{constructor(e,n,r){super(hE(n),pE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function UU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function zU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ju=new B("CallSetDisabledState",{providedIn:"root",factory:()=>y2}),y2="always";function ah(t,e,n=y2){mE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function r6e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&jU(t,e)})}(t,e),function s6e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function i6e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&jU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function n6e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function w2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function mE(t,e){const n=function NU(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(xU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function kU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(xU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();w2(e._rawValidators,i),w2(e._rawAsyncValidators,i)}function jU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const l6e={provide:Ln,useExisting:Fe(()=>C2)},ch=(()=>Promise.resolve())();let C2=(()=>{var t;class e extends Ln{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new it,this.form=new gE({},cE(r),uE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ch.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),ah(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ch.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ch.then(()=>{const i=this._findContainer(r.path),s=new gE({});(function $U(t,e){mE(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ch.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ch.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function GU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(E(En,10),E(uo,10),E(ju,8))},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Je("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([l6e]),Ae]}),e})();function qU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function WU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const KU=class extends BU{constructor(e=null,n,r){super(hE(n),pE(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),m2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=WU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){WU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},h6e={provide:lo,useExisting:Fe(()=>wE)},XU=(()=>Promise.resolve())();let wE=(()=>{var t;class e extends lo{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new KU,this._registered=!1,this.name="",this.update=new it,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function _E(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===d2?n=s:function c6e(t){return Object.getPrototypeOf(t.constructor)===Ta}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function vE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ah(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){XU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Cc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);XU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function v2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Ln,9),E(En,10),E(uo,10),E(Ti,10),E(Ts,8),E(ju,8))},t.\u0275dir=Y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ze([h6e]),Ae,Dn]}),e})(),JU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),eB=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({}),e})(),L6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({imports:[eB]}),e})(),H6e=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:ju,useValue:r.callSetDisabledState??y2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t}),t.\u0275inj=Qe({imports:[L6e]}),e})(),z6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(pn))},t.\u0275dir=Y({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&Je("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})(),U6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(pn))},t.\u0275dir=Y({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&Je("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})(),B6e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Ut({name:"kickMemberFormatter",type:t,pure:!0}),e})(),j6e=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Ut({name:"updateNoteFormatter",type:t,pure:!0}),e})();function $6e(t,e){if(1&t&&(M(0,"span",9),G(1),k()),2&t){const n=rt().$implicit;R(1),mc("Note: ",n.note,"")}}function G6e(t,e){if(1&t&&(M(0,"div",5)(1,"div",6)(2,"span",7),G(3),k(),_t(4,$6e,2,1,"span",8),k()()),2&t){const n=e.$implicit;R(3),Ve(n.name),R(1),Q("ngIf",null!=n.note)}}const vB=function(){return["far","circle-xmark"]};function q6e(t,e){if(1&t){const n=Eo();M(0,"div",27)(1,"form",28,29),Je("ngSubmit",function(i){return Nr(n),kr(rt(3).onSubmitKickMember(i))}),Ce(3,"input",30),Pe(4,"kickMemberFormatter"),M(5,"button",31),Ce(6,"fa-icon",23),k()()()}if(2&t){const n=rt().$implicit;R(3),Nl("name",wt(4,2,n.dgId)),R(3),Q("icon",_c(4,vB))}}function W6e(t,e){if(1&t&&(M(0,"span",32),G(1),k()),2&t){const n=rt().$implicit;R(1),mc("[",n.kickEta,"]")}}function K6e(t,e){if(1&t&&(M(0,"span",9),G(1),k()),2&t){const n=rt().$implicit;R(1),mc("Note: ",n.note,"")}}const _B=function(){return["far","circle-right"]};function Y6e(t,e){if(1&t){const n=Eo();M(0,"div",33)(1,"span",34),G(2,"Note:"),k(),M(3,"form",35,29),Je("ngSubmit",function(i){return Nr(n),kr(rt(3).onSubmitUpdateNote(i))}),Pe(5,"updateNoteFormatter"),Ce(6,"input",36),M(7,"button",31),Ce(8,"fa-icon",23),k()()()}if(2&t){const n=rt().$implicit;R(3),Nl("action",wt(5,3,n.dgId),q0),R(3),Nl("value",n.note),R(2),Q("icon",_c(5,_B))}}const Q6e=function(t,e){return{executed:t,"in-progress":e}};function X6e(t,e){if(1&t){const n=Eo();M(0,"div",37)(1,"div",15)(2,"span",34),G(3,"Target:"),k(),M(4,"span",38),G(5),k()(),M(6,"div",17)(7,"span",34),G(8,"Wait:"),k(),M(9,"span",38),G(10),k()(),M(11,"div",19)(12,"span",34),G(13,"Instructions:"),k(),M(14,"span",38),G(15),k()(),M(16,"div",39)(17,"button",22),Je("click",function(){const s=Nr(n).$implicit;return kr(rt(3).deleteOrder(s.id))}),Ce(18,"fa-icon",23),k()()()}if(2&t){const n=e.$implicit;Q("ngClass",gA(5,Q6e,n.executed,!n.executed)),R(5),Ve(n.target),R(5),Ve(n.wait),R(5),Ve(n.instructions),R(3),Q("icon",_c(8,vB))}}function J6e(t,e){if(1&t){const n=Eo();M(0,"div",5)(1,"div",6)(2,"span",7),G(3),k(),_t(4,q6e,7,5,"div",11),Pe(5,"async"),_t(6,W6e,2,1,"span",12),_t(7,K6e,2,1,"span",8),Pe(8,"async"),_t(9,Y6e,9,6,"div",13),Pe(10,"async"),k(),M(11,"div",14)(12,"div",15)(13,"span",15),G(14,"Target:"),k(),M(15,"input",16),Je("ngModelChange",function(i){const o=Nr(n).index;return kr(rt(2).controls.target[o]=i)}),k()(),M(16,"div",17)(17,"span",17),G(18,"Wait:"),k(),M(19,"input",18),Je("ngModelChange",function(i){const o=Nr(n).index;return kr(rt(2).controls.wait[o]=i)}),k()(),M(20,"div",19)(21,"span",19),G(22,"Instructions:"),k(),M(23,"textarea",20),Je("ngModelChange",function(i){const o=Nr(n).index;return kr(rt(2).controls.instructions[o]=i)}),k()(),M(24,"div",21)(25,"button",22),Je("click",function(){const s=Nr(n).index;return kr(rt(2).createOrder(s))}),Ce(26,"fa-icon",23),k()()(),M(27,"div",24)(28,"div",25),Ce(29,"span",1),k(),_t(30,X6e,19,9,"div",26),Pe(31,"async"),k()()}if(2&t){const n=e.$implicit,r=e.index,i=rt(2);R(3),Ve(n.name),R(1),Q("ngIf",null==n.kickEta&&wt(5,10,i.role)===i.UserRole.ADMIN),R(2),Q("ngIf",null!=n.kickEta),R(1),Q("ngIf",null!=n.note&&n.note.length>0&&wt(8,12,i.role)===i.UserRole.TEAM_LEADER),R(2),Q("ngIf",wt(10,14,i.role)===i.UserRole.ADMIN),R(6),Q("ngModel",i.controls.target[r]),R(4),Q("ngModel",i.controls.wait[r]),R(4),Q("ngModel",i.controls.instructions[r]),R(3),Q("icon",_c(18,_B)),R(4),Q("ngForOf",wt(31,16,i.orders.get(n.name.toLowerCase())))}}function Z6e(t,e){if(1&t&&(M(0,"div",10),_t(1,J6e,32,19,"div",3),k()),2&t){const n=rt();R(1),Q("ngForOf",n.allianceMembers)}}let e3e=(()=>{var t;class e{constructor(r){this.UserRole=Mf,this.orderService=D(BH),this.dgAPI=D(cs),this.authService=D(Tu),this.changeDetection=D(Ts),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(l2,oE),this.allianceMembers=this.dgAPI.allianceMembers(!0),this.authService.authState.subscribe(i=>{document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("show"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("hide")),i.status&&(this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.role=new be(s=>{s.next(i.role),s.complete()}),(i.role===Mf.ADMIN||i.role===Mf.TEAM_LEADER)&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.allianceMembers.forEach(s=>{this.orders.set(s.name.toLowerCase(),new be(o=>{this.orderService.getAllOrders(s.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,o)}))})),this.changeDetection.detectChanges()),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("hide"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("show"))})}createOrder(r){let i=new Pye;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){r.target.submit()}onSubmitUpdateNote(r){r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ZI))},t.\u0275cmp=Hn({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:7,vars:6,consts:[[1,"dgt-spinner-container","main"],[1,"dgt-spinner"],[1,"dgt-orders-manager-panel","user"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],["class","dgt-orders-manager-panel admin",4,"ngIf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","note",4,"ngIf"],[1,"note"],[1,"dgt-orders-manager-panel","admin"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],[1,"dgt-orders-history"],[1,"dgt-spinner-container","member"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(M(0,"div",0),Ce(1,"span",1),k(),M(2,"div",2),_t(3,G6e,5,2,"div",3),k(),_t(4,Z6e,2,1,"div",4),Pe(5,"async"),Pe(6,"async")),2&r&&(R(3),Q("ngForOf",i.allianceMembers),R(1),Q("ngIf",wt(5,2,i.role)===i.UserRole.TEAM_LEADER||wt(6,4,i.role)===i.UserRole.ADMIN))},dependencies:[Ov,og,Ms,JU,d2,LU,VU,wE,C2,HH,z6e,U6e,Ec,B6e,j6e],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:372px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid transparent;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]:nth-child(2){margin-top:10px!important}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#ffffffad;margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{background:#7BBD1A3D}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{background:#FF3B303B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;margin-left:5px;margin-right:5px;position:relative}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:2px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px}span.note[_ngcontent-%COMP%]{line-height:20px}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#ffffffad!important;font-weight:400!important;width:35%!important;font-size:1em!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.note[_ngcontent-%COMP%]{line-height:16px!important;width:65%;text-align:left;font-size:1em!important}.dgt-spinner-container.member[_ngcontent-%COMP%]{position:relative;margin-top:5px}.dgt-spinner-container.member[_ngcontent-%COMP%]   .dgt-spinner[_ngcontent-%COMP%]{top:10px!important}"]}),e})(),t3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[e3e]}),t.\u0275inj=Qe({providers:[BH],imports:[ci,H6e,eE,Uo(()=>jo(Jn_firebase)),Lc(()=>Vc()),ya(()=>va()),$o(()=>Go(Bo(),{provider:new Wi(Jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),wB=(()=>{var t;class e{constructor(){this.firestore=D(Ci)}getActiveOrders(r,i,s,o){let a=Ii(this.firestore,"orders");Iu(Eu(a,no("user","==",r),no("executed","==",!1),I1("executed","asc"),I1("wait","asc")),{idField:"id"}).forEach(c=>{let u=Object.assign([],c);u.forEach(l=>{l.wait-=i-l.turn}),o.next(u),s.detectChanges()}).catch(c=>{console.log(c)})}completeOrder(r){let i=Ii(this.firestore,"orders");_L(C1(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const n3e=function(){return["far","circle-check"]};function r3e(t,e){if(1&t){const n=Eo();M(0,"div",6)(1,"div",7)(2,"span",8),G(3,"From:"),k(),M(4,"span",9),G(5),k()(),M(6,"div",10)(7,"span",8),G(8,"Target:"),k(),M(9,"span",9),G(10),k()(),M(11,"div",11)(12,"span",8),G(13,"Wait:"),k(),M(14,"span",9),G(15),k()(),M(16,"div",12)(17,"span",8),G(18,"Instructions:"),k(),M(19,"span",9),G(20),k()(),M(21,"div",13)(22,"button",14),Je("click",function(){const s=Nr(n).$implicit;return kr(rt(3).onCompleteClick(s.id))}),Ce(23,"fa-icon",15),k()()()}if(2&t){const n=e.$implicit;R(5),Ve(n.from),R(5),Ve(n.target),R(5),Ve(n.wait),R(5),Ve(n.instructions),R(3),Q("icon",_c(5,n3e))}}function i3e(t,e){if(1&t&&(M(0,"div",4),_t(1,r3e,24,6,"div",5),Pe(2,"async"),k()),2&t){const n=rt(2);R(1),Q("ngForOf",wt(2,1,n.orders))}}function s3e(t,e){if(1&t&&(Np(0),_t(1,i3e,3,3,"div",3),Pe(2,"async"),kp()),2&t){const n=rt();let r;R(1),Q("ngIf",(null==(r=wt(2,1,n.orders))?null:r.length)>0)}}let o3e=(()=>{var t;class e{constructor(r){this.orderService=D(wB),this.dgAPI=D(cs),this.changeDetection=D(Ts),this.authService=D(Tu),this.active=!1,r.addIcons(rE),this.authService.authState.subscribe(i=>{document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("show"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("hide")),this.active=i.status,i.status&&(this.orders=new be(s=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,s)})),this.changeDetection.detectChanges(),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("show"))})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ZI))},t.\u0275cmp=Hn({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-fleet-order-container",4,"ngIf"],[1,"dgt-fleet-order-container"],["class","dgt-fleet-order",4,"ngFor","ngForOf"],[1,"dgt-fleet-order"],[1,"from"],[1,"label"],[1,"value"],[1,"target"],[1,"wait"],[1,"instructions"],[1,"complete"],[3,"click"],[3,"icon"]],template:function(r,i){1&r&&(M(0,"div",0),Ce(1,"span",1),k(),_t(2,s3e,3,3,"ng-container",2)),2&r&&(R(2),Q("ngIf",i.active))},dependencies:[og,Ms,HH,Ec],styles:[".dgt-fleet-order-container[_ngcontent-%COMP%]{margin:5px 5px 0!important;background:rgb(75,75,75);padding:7px;border-radius:5px;border:1px solid #5e5e5e}.dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#784946;border:none;width:calc(100% - 10px);border-radius:5px;height:22px;line-height:22px;padding:5px;margin-bottom:5px}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;color:#dcdcdc;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#dcdcdc}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:145px}.dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:85px}.dgt-fleet-order[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{float:right;margin-right:2px}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:2px;min-width:150px}.dgt-spinner-container[_ngcontent-%COMP%]{border:1px solid #5e5e5e;margin:5px 5px 0!important;width:calc(100% - 12px)!important;height:calc(100% - 12px)!important;position:relative}"]}),e})(),a3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[o3e]}),t.\u0275inj=Qe({providers:[wB],imports:[ci,eE,Uo(()=>jo(Jn_firebase)),Lc(()=>Vc()),ya(()=>va()),$o(()=>Go(Bo(),{provider:new Wi(Jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),c3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),u3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[c3e]}),t.\u0275inj=Qe({imports:[ci]}),e})(),l3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),d3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[l3e]}),t.\u0275inj=Qe({imports:[ci]}),e})(),bB=(()=>{var t;class e{constructor(){this.firestore=D(Ci),this.localStorageService=D(as)}checkVersion(r,i){let s=Ii(this.firestore,"config");wge(C1(s,"version")).forEach(o=>{let a=Object.assign({value:""},o).value;this.localStorageService.getVersion()!==a?(this.localStorageService.cache(Xn.UPDATE_AVAILABLE,!0),i.next(!0)):(this.localStorageService.cache(Xn.UPDATE_AVAILABLE,!1),i.next(!1)),i.complete(),r.detectChanges(),document.querySelector("dgt-changelog .dgt-spinner-container")&&(document.querySelector("dgt-changelog .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-changelog .dgt-spinner-container").classList.remove("show"))}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function f3e(t,e){1&t&&(M(0,"div",5)(1,"span"),G(2,"There is a new update for DarkGalaxy Toolbox. "),M(3,"a",6),G(4,"Click here"),k(),G(5," to install it."),k()())}let h3e=(()=>{var t;class e{constructor(){this.changeLogService=D(bB),this.changeDetection=D(Ts),this.localStorageService=D(as),this.changed=new be(r=>{this.changeLogService.checkVersion(this.changeDetection,r)}),this.version=this.localStorageService.getVersion()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hn({type:t,selectors:[["dgt-changelog"]],decls:20,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container"],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),G(2,"DarkGalaxy Tools "),M(3,"span"),G(4),k()(),M(5,"div",1),Ce(6,"span",2),k(),_t(7,f3e,6,0,"div",3),Pe(8,"async"),M(9,"div",4)(10,"div")(11,"span"),G(12,"Changelog:"),k()(),M(13,"ul")(14,"li"),G(15,"change 1"),k(),M(16,"li"),G(17,"change 2"),k(),M(18,"li"),G(19,"change 3"),k()()()()),2&r&&(R(4),Ve(i.version),R(3),Q("ngIf",wt(8,2,i.changed)))},dependencies:[Ms,Ec],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:10px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),p3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=tt({type:t,bootstrap:[h3e]}),t.\u0275inj=Qe({providers:[bB],imports:[ci,Uo(()=>jo(Jn_firebase)),ya(()=>va()),$o(()=>Go(Bo(),{provider:new Wi(Jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Ai=wte();let pr=window.location.pathname.split(/\//g);Ai.bootstrapModule(d3e).catch(t=>console.error(t)),Ai.bootstrapModule(u3e).catch(t=>console.error(t)),Ai.bootstrapModule(kye).catch(t=>console.error(t)),Ai.bootstrapModule(D2e).catch(t=>console.error(t)),2===pr.length&&0===pr[1].trim().length&&Ai.bootstrapModule(p3e).catch(t=>console.error(t)),"planets"===pr[1]&&Ai.bootstrapModule(Iye).catch(t=>console.error(t)),"planet"===pr[1]&&"comms"===(5===pr.length&&pr[3])&&Ai.bootstrapModule(Dye).catch(t=>console.error(t)),"navigation"===pr[1]&&6===pr.length&&!isNaN(+pr[2])&&!isNaN(+pr[3])&&!isNaN(+pr[4])&&Ai.bootstrapModule(Mye).catch(t=>console.error(t)),"alliances"===pr[1]&&Ai.bootstrapModule(t3e).catch(t=>console.error(t)),"fleets"===pr[1]&&Ai.bootstrapModule(a3e).catch(t=>console.error(t))}},ke=>{ke(ke.s=612)}]);