"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{521:()=>{function De(t){return"function"==typeof t}function $4(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const v6=$4(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Vs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class J2{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof v6?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{qw(s)}catch(a){e=e??[],a instanceof v6?e=[...e,...a.errors]:e.push(a)}}if(e)throw new v6(e)}}add(e){var n;if(e&&e!==this)if(this.closed)qw(e);else{if(e instanceof J2){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vs(n,e)}remove(e){const{_finalizers:n}=this;n&&Vs(n,e),e instanceof J2&&e._removeParent(this)}}J2.EMPTY=(()=>{const t=new J2;return t.closed=!0,t})();const jw=J2.EMPTY;function $w(t){return t instanceof J2||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function qw(t){De(t)?t():t.unsubscribe()}const ui={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y6={setTimeout(t,e,...n){const{delegate:r}=y6;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=y6;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Gw(t){y6.setTimeout(()=>{const{onUnhandledError:e}=ui;if(!e)throw t;e(t)})}function Ww(){}const dX=q5("C",void 0,void 0);function q5(t,e,n){return{kind:t,value:e,error:n}}let fi=null;function _6(t){if(ui.useDeprecatedSynchronousErrorHandling){const e=!fi;if(e&&(fi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=fi;if(fi=null,n)throw r}}else t()}class G5 extends J2{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$w(e)&&e.add(this)):this.destination=_X}static create(e,n,r){return new q4(e,n,r)}next(e){this.isStopped?K5(function pX(t){return q5("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?K5(function hX(t){return q5("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?K5(dX,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gX=Function.prototype.bind;function W5(t,e){return gX.call(t,e)}class vX{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){C6(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){C6(r)}else C6(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){C6(n)}}}class q4 extends G5{constructor(e,n,r){let i;if(super(),De(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ui.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&W5(e.next,s),error:e.error&&W5(e.error,s),complete:e.complete&&W5(e.complete,s)}):i=e}this.destination=new vX(i)}}function C6(t){ui.useDeprecatedSynchronousErrorHandling?function mX(t){ui.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=t)}(t):Gw(t)}function K5(t,e){const{onStoppedNotification:n}=ui;n&&y6.setTimeout(()=>n(t,e))}const _X={closed:!0,next:Ww,error:function yX(t){throw t},complete:Ww},Y5="function"==typeof Symbol&&Symbol.observable||"@@observable";function gr(t){return t}function Kw(t){return 0===t.length?gr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function wX(t){return t&&t instanceof G5||function MX(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}(t)&&$w(t)}(n)?n:new q4(n,r,i);return _6(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Yw(r))((i,s)=>{const a=new q4({next:o=>{try{n(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Y5](){return this}pipe(...n){return Kw(n)(this)}toPromise(n){return new(n=Yw(n))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return t.create=e=>new t(e),t})();function Yw(t){var e;return null!==(e=t??ui.Promise)&&void 0!==e?e:Promise}const bX=$4(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let K1=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Qw(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bX}next(n){_6(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_6(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_6(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?jw:(this.currentObservers=null,s.push(n),new J2(()=>{this.currentObservers=null,Vs(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ve;return n.source=this,n}}return t.create=(e,n)=>new Qw(e,n),t})();class Qw extends K1{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:jw}}class p1 extends K1{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Xw(t){return De(t?.lift)}function Vt(t){return e=>{if(Xw(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new Jw(t,e,n,r,i)}class Jw extends G5{constructor(e,n,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=n?function(o){try{n(o)}catch(c){e.error(c)}}:super._next,this._error=i?function(o){try{i(o)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ce(t,e){return Vt((n,r)=>{let i=0;n.subscribe(pt(r,s=>{r.next(t.call(e,s,i++))}))})}function M6(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function J5(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Z5(t,e){return function(n,r){e(n,r,t)}}function e7(t,e,n,r){return new(n||(n=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(f){a(f)}}function c(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(a){a(s)})}(u.value).then(o,c)}l((r=r.apply(t,e||[])).next())})}function vr(t){return this instanceof vr?(this.v=t,this):new vr(t)}function tb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function n7(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){!function i(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}(o,c,(a=t[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const nb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function rb(t){return De(t?.then)}function ib(t){return De(t[Y5])}function sb(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function ab(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ob=function UX(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cb(t){return De(t?.[ob])}function lb(t){return function eb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||o(d,h)})})}function o(d,h){try{!function c(d){d.value instanceof vr?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){o("next",d)}function u(d){o("throw",d)}function f(d,h){d(h),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vr(n.read());if(i)return yield vr(void 0);yield yield vr(r)}}finally{n.releaseLock()}})}function ub(t){return De(t?.getReader)}function Z2(t){if(t instanceof Ve)return t;if(null!=t){if(ib(t))return function jX(t){return new Ve(e=>{const n=t[Y5]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(nb(t))return function $X(t){return new Ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(rb(t))return function qX(t){return new Ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Gw)})}(t);if(sb(t))return fb(t);if(cb(t))return function GX(t){return new Ve(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ub(t))return function WX(t){return fb(lb(t))}(t)}throw ab(t)}function fb(t){return new Ve(e=>{(function KX(t,e){var n,r,i,s;return e7(this,void 0,void 0,function*(){try{for(n=tb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function zn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Zt(t,e,n=1/0){return De(e)?Zt((r,i)=>Ce((s,a)=>e(r,s,i,a))(Z2(t(r,i))),n):("number"==typeof e&&(n=e),Vt((r,i)=>function YX(t,e,n,r,i,s,a,o){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let v=!1;Z2(n(g,u++)).subscribe(pt(e,_=>{i?.(_),s?h(_):e.next(_)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){const _=c.shift();a?zn(e,a,()=>p(_)):p(_)}d()}catch(_){e.error(_)}}))};return t.subscribe(pt(e,h,()=>{f=!0,d()})),()=>{o?.()}}(r,i,t,n)))}function w6(t=1/0){return Zt(gr,t)}const Y1=new Ve(t=>t.complete());function r7(t){return t[t.length-1]}function db(t){return De(r7(t))?t.pop():void 0}function G4(t){return function XX(t){return t&&De(t.schedule)}(r7(t))?t.pop():void 0}function b6(t,e=0){return Vt((n,r)=>{n.subscribe(pt(r,i=>zn(r,t,()=>r.next(i),e),()=>zn(r,t,()=>r.complete(),e),i=>zn(r,t,()=>r.error(i),e)))})}function V6(t,e=0){return Vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hb(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ve(n=>{zn(n,e,()=>{const r=t[Symbol.asyncIterator]();zn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function h2(t,e){return e?function iJ(t,e){if(null!=t){if(ib(t))return function ZX(t,e){return Z2(t).pipe(V6(e),b6(e))}(t,e);if(nb(t))return function tJ(t,e){return new Ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(rb(t))return function eJ(t,e){return Z2(t).pipe(V6(e),b6(e))}(t,e);if(sb(t))return hb(t,e);if(cb(t))return function nJ(t,e){return new Ve(n=>{let r;return zn(n,e,()=>{r=t[ob](),zn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void n.error(a)}s?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(t,e);if(ub(t))return function rJ(t,e){return hb(lb(t),e)}(t,e)}throw ab(t)}(t,e):Z2(t)}function ee(...t){return h2(t,G4(t))}function pb(t={}){const{connector:e=(()=>new K1),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let a,o,c,l=0,u=!1,f=!1;const d=()=>{o?.unsubscribe(),o=void 0},h=()=>{d(),a=c=void 0,u=f=!1},p=()=>{const g=a;h(),g?.unsubscribe()};return Vt((g,v)=>{l++,!f&&!u&&d();const _=c=c??e();v.add(()=>{l--,0===l&&!f&&!u&&(o=i7(p,i))}),_.subscribe(v),!a&&l>0&&(a=new q4({next:y=>_.next(y),error:y=>{f=!0,d(),o=i7(h,n,y),_.error(y)},complete:()=>{u=!0,d(),o=i7(h,r),_.complete()}}),Z2(g).subscribe(a))})(s)}}function i7(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new q4({next:()=>{r.unsubscribe(),t()}});return Z2(e(...n)).subscribe(r)}function S1(t,e){return Vt((n,r)=>{let i=null,s=0,a=!1;const o=()=>a&&!i&&r.complete();n.subscribe(pt(r,c=>{i?.unsubscribe();let l=0;const u=s++;Z2(t(c,u)).subscribe(i=pt(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,o()}))},()=>{a=!0,o()}))})}function mb(t,e=gr){return t=t??aJ,Vt((n,r)=>{let i,s=!0;n.subscribe(pt(r,a=>{const o=e(a);(s||!t(i,o))&&(s=!1,i=o,r.next(a))}))})}function aJ(t,e){return t===e}function ze(t){for(let e in t)if(t[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function H6(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Lt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Lt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function s7(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const oJ=ze({__forward_ref__:ze});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return Lt(this())},t}function Z(t){return a7(t)?t():t}function a7(t){return"function"==typeof t&&t.hasOwnProperty(oJ)&&t.__forward_ref__===Ne}function o7(t){return t&&!!t.\u0275providers}const gb="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function S6(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function c7(t,e){throw new S(-201,!1)}function m1(t,e){null==t&&function X(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function et(t){return{providers:t.providers||[],imports:t.imports||[]}}function z6(t){return vb(t,E6)||vb(t,yb)}function vb(t,e){return t.hasOwnProperty(e)?t[e]:null}function x6(t){return t&&(t.hasOwnProperty(l7)||t.hasOwnProperty(mJ))?t[l7]:null}const E6=ze({\u0275prov:ze}),l7=ze({\u0275inj:ze}),yb=ze({ngInjectableDef:ze}),mJ=ze({ngInjectorDef:ze});var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{});let u7;function F2(t){const e=u7;return u7=t,e}function Cb(t,e,n){const r=z6(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&le.Optional?null:void 0!==e?e:void c7(Lt(t))}const Ae=globalThis,W4={},m7="__NG_DI_FLAG__",I6="ngTempTokenPath",yJ=/\n/gm,wb="__source";let Hs;function yr(t){const e=Hs;return Hs=t,e}function MJ(t,e=le.Default){if(void 0===Hs)throw new S(-203,!1);return null===Hs?Cb(t,void 0,e):Hs.get(t,e&le.Optional?null:void 0,e)}function G(t,e=le.Default){return(function _b(){return u7}()||MJ)(Z(t),e)}function z(t,e=le.Default){return G(t,L6(e))}function L6(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function g7(t){const e=[];for(let n=0;n<t.length;n++){const r=Z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=le.Default;for(let a=0;a<r.length;a++){const o=r[a],c=wJ(o);"number"==typeof c?-1===c?i=o.token:s|=c:i=o}e.push(G(i,s))}else e.push(G(r))}return e}function K4(t,e){return t[m7]=e,t.prototype[m7]=e,t}function wJ(t){return t[m7]}function xn(t){return{toString:t}.toString()}var D6=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(D6||{}),z1=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(z1||{});const Q1={},_e=[],A6=ze({\u0275cmp:ze}),v7=ze({\u0275dir:ze}),y7=ze({\u0275pipe:ze}),Vb=ze({\u0275mod:ze}),En=ze({\u0275fac:ze}),Y4=ze({__NG_ELEMENT_ID__:ze}),Hb=ze({__NG_ENV_ID__:ze});function Sb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function _7(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],a=n[r++],o=n[r++];t.setAttribute(e,a,o,s)}else{const s=i,a=n[++r];xb(s)?t.setProperty(e,s,a):t.setAttribute(e,s,a),r++}}return r}function zb(t){return 3===t||4===t||6===t}function xb(t){return 64===t.charCodeAt(0)}function Q4(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Eb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Eb(t,e,n,r,i){let s=0,a=t.length;if(-1===e)a=-1;else for(;s<t.length;){const o=t[s++];if("number"==typeof o){if(o===e){a=-1;break}if(o>e){a=s-1;break}}}for(;s<t.length;){const o=t[s];if("number"==typeof o)break;if(o===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(t.splice(a,0,e),s=a+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Ib="ng-template";function HJ(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const a=t[r++];if(n&&"class"===s&&-1!==Sb(a.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Lb(t){return 4===t.type&&t.value!==Ib}function SJ(t,e,n){return e===(4!==t.type||n?t.value:Ib)}function zJ(t,e,n){let r=4;const i=t.attrs||[],s=function IJ(t){for(let e=0;e<t.length;e++)if(zb(t[e]))return e;return t.length}(i);let a=!1;for(let o=0;o<e.length;o++){const c=e[o];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!SJ(t,c,n)||""===c&&1===e.length){if(x1(r))return!1;a=!0}}else{const l=8&r?c:e[++o];if(8&r&&null!==t.attrs){if(!HJ(t.attrs,l,n)){if(x1(r))return!1;a=!0}continue}const f=xJ(8&r?"class":c,i,Lb(t),n);if(-1===f){if(x1(r))return!1;a=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==Sb(h,l,0)||2&r&&l!==d){if(x1(r))return!1;a=!0}}}}else{if(!a&&!x1(r)&&!x1(c))return!1;if(a&&x1(c))continue;a=!1,r=c|1&r}}return x1(r)||a}function x1(t){return 0==(1&t)}function xJ(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const a=e[i];if(a===t)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=e[++i];for(;"string"==typeof o;)o=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function LJ(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Db(t,e,n=!1){for(let r=0;r<e.length;r++)if(zJ(t,e[r],n))return!0;return!1}function DJ(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Ab(t,e){return t?":not("+e.trim()+")":e}function AJ(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const o=t[++n];i+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!x1(a)&&(e+=Ab(s,i),i=""),r=a,s=s||!x1(r);n++}return""!==i&&(e+=Ab(s,i)),e}function t1(t){return xn(()=>{const e=Nb(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===D6.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||z1.Emulated,styles:t.styles||_e,_:null,schemas:t.schemas||null,tView:null,id:""};kb(n);const r=t.dependencies;return n.directiveDefs=T6(r,!1),n.pipeDefs=T6(r,!0),n.id=function BJ(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function PJ(t){return pe(t)||e2(t)}function RJ(t){return null!==t}function at(t){return xn(()=>({type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Tb(t,e){if(null==t)return Q1;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Y(t){return xn(()=>{const e=Nb(t);return kb(e),e})}function Bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function pe(t){return t[A6]||null}function e2(t){return t[v7]||null}function z2(t){return t[y7]||null}function n1(t,e){const n=t[Vb]||null;if(!n&&!0===e)throw new Error(`Type ${Lt(t)} does not have '\u0275mod' property.`);return n}function Nb(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Q1,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tb(t.inputs,e),outputs:Tb(t.outputs)}}function kb(t){t.features?.forEach(e=>e(t))}function T6(t,e){if(!t)return null;const n=e?z2:PJ;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(RJ)}const mt=0,P=1,se=2,Qe=3,E1=4,X4=5,p2=6,zs=7,gt=8,_r=9,xs=10,re=11,J4=12,Pb=13,Es=14,vt=15,Z4=16,Is=17,X1=18,eo=19,Rb=20,Cr=21,In=22,N6=23,k6=24,ue=25,C7=1,Ob=2,J1=7,Ls=9,t2=11;function B2(t){return Array.isArray(t)&&"object"==typeof t[C7]}function U2(t){return Array.isArray(t)&&!0===t[C7]}function M7(t){return 0!=(4&t.flags)}function hi(t){return t.componentOffset>-1}function R6(t){return 1==(1&t.flags)}function I1(t){return!!t.template}function w7(t){return 0!=(512&t[se])}function pi(t,e){return t.hasOwnProperty(En)?t[En]:null}let WJ=Ae.WeakRef??class GJ{constructor(e){this.ref=e}deref(){return this.ref}},YJ=0,Z1=null,O6=!1;function Ut(t){const e=Z1;return Z1=t,e}class $b{constructor(){this.id=YJ++,this.ref=function KJ(t){return new WJ(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=O6;O6=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{O6=e}}producerAccessed(){if(O6)throw new Error("");if(null===Z1)return;let e=Z1.producers.get(this.id);void 0===e?(e={consumerNode:Z1.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Z1.trackingVersion},Z1.producers.set(this.id,e),this.consumers.set(Z1.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Z1.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Z1?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let qb=null;function Gb(t){const e=Ut(null);try{return t()}finally{Ut(e)}}const Wb=()=>{};class ZJ extends $b{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=Wb,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Ut(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Wb,this.watch(this.registerOnCleanup)}finally{Ut(e)}}cleanup(){this.cleanupFn()}}class eZ{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function x2(){return Kb}function Kb(t){return t.type.prototype.ngOnChanges&&(t.setInput=nZ),tZ}function tZ(){const t=Qb(this),e=t?.current;if(e){const n=t.previous;if(n===Q1)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nZ(t,e,n,r){const i=this.declaredInputs[n],s=Qb(t)||function rZ(t,e){return t[Yb]=e}(t,{previous:Q1,current:null}),a=s.current||(s.current={}),o=s.previous,c=o[i];a[i]=new eZ(c&&c.currentValue,e,o===Q1),t[r]=e}x2.ngInherit=!0;const Yb="__ngSimpleChanges__";function Qb(t){return t[Yb]||null}const en=function(t,e,n){};function ke(t){for(;Array.isArray(t);)t=t[mt];return t}function U6(t,e){return ke(e[t])}function j2(t,e){return ke(e[t.index])}function Zb(t,e){return t.data[e]}function Ds(t,e){return t[e]}function r1(t,e){const n=e[t];return B2(n)?n:n[mt]}function Mr(t,e){return null==e?null:t[e]}function eV(t){t[Is]=0}function uZ(t){1024&t[se]||(t[se]|=1024,nV(t,1))}function tV(t){1024&t[se]&&(t[se]&=-1025,nV(t,-1))}function nV(t,e){let n=t[Qe];if(null===n)return;n[X4]+=e;let r=n;for(n=n[Qe];null!==n&&(1===e&&1===r[X4]||-1===e&&0===r[X4]);)n[X4]+=e,r=n,n=n[Qe]}const J={lFrame:hV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sV(){return J.bindingsEnabled}function As(){return null!==J.skipHydrationRootTNode}function b(){return J.lFrame.lView}function me(){return J.lFrame.tView}function L1(t){return J.lFrame.contextLView=t,t[gt]}function D1(t){return J.lFrame.contextLView=null,t}function n2(){let t=aV();for(;null!==t&&64===t.type;)t=t.parent;return t}function aV(){return J.lFrame.currentTNode}function tn(t,e){const n=J.lFrame;n.currentTNode=t,n.isParent=e}function x7(){return J.lFrame.isParent}function E7(){J.lFrame.isParent=!1}function E2(){const t=J.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ts(){return J.lFrame.bindingIndex++}function Dn(t){const e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wZ(t,e){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,I7(e)}function I7(t){J.lFrame.currentDirectiveIndex=t}function D7(t){J.lFrame.currentQueryIndex=t}function VZ(t){const e=t[P];return 2===e.type?e.declTNode:1===e.type?t[p2]:null}function fV(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&le.Host||(i=VZ(s),null===i||(s=s[Es],10&i.type))););if(null===i)return!1;e=i,t=s}const r=J.lFrame=dV();return r.currentTNode=e,r.lView=t,!0}function A7(t){const e=dV(),n=t[P];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dV(){const t=J.lFrame,e=null===t?null:t.child;return null===e?hV(t):e}function hV(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pV(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const mV=pV;function T7(){const t=pV();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function I2(){return J.lFrame.selectedIndex}function mi(t){J.lFrame.selectedIndex=t}function tt(){const t=J.lFrame;return Zb(t.tView,t.selectedIndex)}let vV=!0;function j6(){return vV}function wr(t){vV=t}function $6(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(t.contentHooks??=[]).push(-n,a),o&&((t.contentHooks??=[]).push(n,o),(t.contentCheckHooks??=[]).push(n,o)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function q6(t,e,n){yV(t,e,3,n)}function G6(t,e,n,r){(3&t[se])===n&&yV(t,e,n,r)}function N7(t,e){let n=t[se];(3&n)===e&&(n&=8191,n+=1,t[se]=n)}function yV(t,e,n,r){const s=r??-1,a=e.length-1;let o=0;for(let c=void 0!==r?65535&t[Is]:0;c<a;c++)if("number"==typeof e[c+1]){if(o=e[c],null!=r&&o>=r)break}else e[c]<0&&(t[Is]+=65536),(o<s||-1==s)&&(DZ(t,n,e,c),t[Is]=(4294901760&t[Is])+c+2),c++}function _V(t,e){en(4,t,e);const n=Ut(null);try{e.call(t)}finally{Ut(n),en(5,t,e)}}function DZ(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[se]>>13<t[Is]>>16&&(3&t[se])===e&&(t[se]+=8192,_V(o,s)):_V(o,s)}const Ns=-1;class ro{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function P7(t){return t!==Ns}function io(t){return 32767&t}function so(t,e){let n=function kZ(t){return t>>16}(t),r=e;for(;n>0;)r=r[Es],n--;return r}let R7=!0;function W6(t){const e=R7;return R7=t,e}const CV=255,MV=5;let PZ=0;const nn={};function K6(t,e){const n=wV(t,e);if(-1!==n)return n;const r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,O7(r.data,t),O7(e,null),O7(r.blueprint,null));const i=Y6(t,e),s=t.injectorIndex;if(P7(i)){const a=io(i),o=so(i,e),c=o[P].data;for(let l=0;l<8;l++)e[s+l]=o[a+l]|c[a+l]}return e[s+8]=i,s}function O7(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wV(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Y6(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=EV(i),null===r)return Ns;if(n++,i=i[Es],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ns}function F7(t,e,n){!function RZ(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y4)&&(r=n[Y4]),null==r&&(r=n[Y4]=PZ++);const i=r&CV;e.data[t+(i>>MV)]|=1<<i}(t,e,n)}function bV(t,e,n){if(n&le.Optional||void 0!==t)return t;c7()}function VV(t,e,n,r){if(n&le.Optional&&void 0===r&&(r=null),!(n&(le.Self|le.Host))){const i=t[_r],s=F2(void 0);try{return i?i.get(e,r,n&le.Optional):Cb(e,r,n&le.Optional)}finally{F2(s)}}return bV(r,0,n)}function HV(t,e,n,r=le.Default,i){if(null!==t){if(2048&e[se]&&!(r&le.Self)){const a=function $Z(t,e,n,r,i){let s=t,a=e;for(;null!==s&&null!==a&&2048&a[se]&&!(512&a[se]);){const o=SV(s,a,n,r|le.Self,nn);if(o!==nn)return o;let c=s.parent;if(!c){const l=a[Rb];if(l){const u=l.get(n,nn,r);if(u!==nn)return u}c=EV(a),a=a[Es]}s=c}return i}(t,e,n,r,nn);if(a!==nn)return a}const s=SV(t,e,n,r,nn);if(s!==nn)return s}return VV(e,n,r,i)}function SV(t,e,n,r,i){const s=function BZ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y4)?t[Y4]:void 0;return"number"==typeof e?e>=0?e&CV:jZ:e}(n);if("function"==typeof s){if(!fV(e,t,r))return r&le.Host?bV(i,0,r):VV(e,n,r,i);try{let a;if(a=s(r),null!=a||r&le.Optional)return a;c7()}finally{mV()}}else if("number"==typeof s){let a=null,o=wV(t,e),c=Ns,l=r&le.Host?e[vt][p2]:null;for((-1===o||r&le.SkipSelf)&&(c=-1===o?Y6(t,e):e[o+8],c!==Ns&&xV(r,!1)?(a=e[P],o=io(c),e=so(c,e)):o=-1);-1!==o;){const u=e[P];if(zV(s,o,u.data)){const f=FZ(o,e,n,a,r,l);if(f!==nn)return f}c=e[o+8],c!==Ns&&xV(r,e[P].data[o+8]===l)&&zV(s,o,e)?(a=u,o=io(c),e=so(c,e)):o=-1}}return i}function FZ(t,e,n,r,i,s){const a=e[P],o=a.data[t+8],u=function Q6(t,e,n,r,i){const s=t.providerIndexes,a=e.data,o=1048575&s,c=t.directiveStart,u=s>>20,d=i?o+u:t.directiveEnd;for(let h=r?o:o+u;h<d;h++){const p=a[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=a[c];if(h&&I1(h)&&h.type===n)return c}return null}(o,a,n,null==r?hi(o)&&R7:r!=a&&0!=(3&o.type),i&le.Host&&s===o);return null!==u?gi(e,a,u,o):nn}function gi(t,e,n,r){let i=t[n];const s=e.data;if(function AZ(t){return t instanceof ro}(i)){const a=i;a.resolving&&function cJ(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function He(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(s[n]));const o=W6(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?F2(a.injectImpl):null;fV(t,r,le.Default);try{i=t[n]=a.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function LZ(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=Kb(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&F2(l),W6(o),a.resolving=!1,mV()}}return i}function zV(t,e,n){return!!(n[e+(t>>MV)]&1<<t)}function xV(t,e){return!(t&le.Self||t&le.Host&&e)}class L2{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HV(this._tNode,this._lView,e,L6(r),n)}}function jZ(){return new L2(n2(),b())}function r2(t){return xn(()=>{const e=t.prototype.constructor,n=e[En]||B7(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[En]||B7(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function B7(t){return a7(t)?()=>{const e=B7(Z(t));return e&&e()}:pi(t)}function EV(t){const e=t[P],n=e.type;return 2===n?e.declTNode:1===n?t[p2]:null}const Ps="__parameters__";function Os(t,e,n){return xn(()=>{const r=function U7(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return o.annotation=a,o;function o(c,l,u){const f=c.hasOwnProperty(Ps)?c[Ps]:Object.defineProperty(c,Ps,{value:[]})[Ps];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Bs(t,e){t.forEach(n=>Array.isArray(n)?Bs(n,e):e(n))}function LV(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function J6(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function co(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function i1(t,e,n){let r=Us(t,e);return r>=0?t[1|r]=n:(r=~r,function XZ(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function j7(t,e){const n=Us(t,e);if(n>=0)return t[1|n]}function Us(t,e){return function DV(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),a=t[s<<n];if(e===a)return s<<n;a>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const jt=K4(Os("Optional"),8),q7=K4(Os("SkipSelf"),4);function s0(t){return 128==(128&t.flags)}var br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(br||{});const yee=/^>|^->|<!--|-->|--!>|<!-$/g,_ee=/(<|>)/,Cee="\u200b$1\u200b";const Y7=new Map;let Mee=0;const X7="__ngContext__";function m2(t,e){B2(e)?(t[X7]=e[eo],function bee(t){Y7.set(t[eo],t)}(e)):t[X7]=e}let J7;function Z7(t,e){return J7(t,e)}function fo(t){const e=t[Qe];return U2(e)?e[Qe]:e}function JV(t){return eH(t[J4])}function ZV(t){return eH(t[E1])}function eH(t){for(;null!==t&&!U2(t);)t=t[E1];return t}function qs(t,e,n,r,i){if(null!=r){let s,a=!1;U2(r)?s=r:B2(r)&&(a=!0,r=r[mt]);const o=ke(r);0===t&&null!==n?null==i?iH(e,n,o):vi(e,n,o,i||null,!0):1===t&&null!==n?vi(e,n,o,i||null,!0):2===t?function d0(t,e,n){const r=u0(t,e);r&&function Uee(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,o,a):3===t&&e.destroyNode(o),null!=s&&function qee(t,e,n,r,i){const s=n[J1];s!==ke(n)&&qs(e,t,r,s,i);for(let o=t2;o<n.length;o++){const c=n[o];po(c[P],c,t,e,r,s)}}(e,t,s,n,i)}}function ef(t,e){return t.createComment(function $V(t){return t.replace(yee,e=>e.replace(_ee,Cee))}(e))}function c0(t,e,n){return t.createElement(e,n)}function nH(t,e){const n=t[Ls],r=n.indexOf(e);tV(e),n.splice(r,1)}function l0(t,e){if(t.length<=t2)return;const n=t2+e,r=t[n];if(r){const i=r[Z4];null!==i&&i!==t&&nH(i,r),e>0&&(t[n-1][E1]=r[E1]);const s=J6(t,t2+e);!function Tee(t,e){po(t,e,e[re],2,null,null),e[mt]=null,e[p2]=null}(r[P],r);const a=s[X1];null!==a&&a.detachView(s[P]),r[Qe]=null,r[E1]=null,r[se]&=-129}return r}function tf(t,e){if(!(256&e[se])){const n=e[re];e[N6]?.destroy(),e[k6]?.destroy(),n.destroyNode&&po(t,e,n,3,null,null),function Pee(t){let e=t[J4];if(!e)return nf(t[P],t);for(;e;){let n=null;if(B2(e))n=e[J4];else{const r=e[t2];r&&(n=r)}if(!n){for(;e&&!e[E1]&&e!==t;)B2(e)&&nf(e[P],e),e=e[Qe];null===e&&(e=t),B2(e)&&nf(e[P],e),n=e&&e[E1]}e=n}}(e)}}function nf(t,e){if(!(256&e[se])){e[se]&=-129,e[se]|=256,function Bee(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ro)){const s=n[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=i[s[a]],c=s[a+1];en(4,o,c);try{c.call(o)}finally{en(5,o,c)}}else{en(4,i,s);try{s.call(i)}finally{en(5,i,s)}}}}}(t,e),function Fee(t,e){const n=t.cleanup,r=e[zs];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[zs]=null);const i=e[Cr];if(null!==i){e[Cr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[P].type&&e[re].destroy();const n=e[Z4];if(null!==n&&U2(e[Qe])){n!==e[Qe]&&nH(n,e);const r=e[X1];null!==r&&r.detachView(t)}!function Vee(t){Y7.delete(t[eo])}(e)}}function rf(t,e,n){return function rH(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[mt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===z1.None||s===z1.Emulated)return null}return j2(r,n)}}(t,e.parent,n)}function vi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iH(t,e,n){t.appendChild(e,n)}function sH(t,e,n,r,i){null!==r?vi(t,e,n,r,i):iH(t,e,n)}function u0(t,e){return t.parentNode(e)}function aH(t,e,n){return cH(t,e,n)}let sf,h0,uf,p0,cH=function oH(t,e,n){return 40&t.type?j2(t,n):null};function f0(t,e,n,r){const i=rf(t,r,e),s=e[re],o=aH(r.parent||e[p2],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)sH(s,i,n[c],o,!1);else sH(s,i,n,o,!1);void 0!==sf&&sf(s,r,e,n,i)}function ho(t,e){if(null!==e){const n=e.type;if(3&n)return j2(e,t);if(4&n)return af(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ho(t,r);{const i=t[e.index];return U2(i)?af(-1,i):ke(i)}}if(32&n)return Z7(e,t)()||ke(t[e.index]);{const r=uH(t,e);return null!==r?Array.isArray(r)?r[0]:ho(fo(t[vt]),r):ho(t,e.next)}}return null}function uH(t,e){return null!==e?t[vt][p2].projection[e.projection]:null}function af(t,e){const n=t2+t+1;if(n<e.length){const r=e[n],i=r[P].firstChild;if(null!==i)return ho(r,i)}return e[J1]}function cf(t,e,n,r,i,s,a){for(;null!=n;){const o=r[n.index],c=n.type;if(a&&0===e&&(o&&m2(ke(o),r),n.flags|=2),32!=(32&n.flags))if(8&c)cf(t,e,n.child,r,i,s,!1),qs(e,t,i,o,s);else if(32&c){const l=Z7(n,r);let u;for(;u=l();)qs(e,t,i,u,s);qs(e,t,i,o,s)}else 16&c?dH(t,e,r,n,i,s):qs(e,t,i,o,s);n=a?n.projectionNext:n.next}}function po(t,e,n,r,i,s){cf(n,r,t.firstChild,e,i,s,!1)}function dH(t,e,n,r,i,s){const a=n[vt],c=a[p2].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)qs(e,t,i,c[l],s);else{let l=c;const u=a[Qe];s0(r)&&(l.flags|=128),cf(t,e,l,u,i,s,!0)}}function hH(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pH(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&_7(t,e,r),null!==i&&hH(t,e,i),null!==s&&function Wee(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Gs(t){return function lf(){if(void 0===h0&&(h0=null,Ae.trustedTypes))try{h0=Ae.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return h0}()?.createHTML(t)||t}function Ws(){if(void 0!==uf)return uf;if(typeof document<"u")return document;throw new S(210,!1)}function mH(t){return function ff(){if(void 0===p0&&(p0=null,Ae.trustedTypes))try{p0=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return p0}()?.createHTML(t)||t}class yi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gb})`}}class Jee extends yi{getTypeName(){return"HTML"}}class Zee extends yi{getTypeName(){return"Style"}}class ete extends yi{getTypeName(){return"Script"}}class tte extends yi{getTypeName(){return"URL"}}class nte extends yi{getTypeName(){return"ResourceURL"}}function s1(t){return t instanceof yi?t.changingThisBreaksApplicationSecurity:t}function rn(t,e){const n=function rte(t){return t instanceof yi&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${gb})`)}return n===e}class lte{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Gs(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class ute{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Gs(e),n}}const dte=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function m0(t){return(t=String(t)).match(dte)?t:"unsafe:"+t}function An(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function mo(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const _H=An("area,br,col,hr,img,wbr"),CH=An("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MH=An("rp,rt"),df=mo(_H,mo(CH,An("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mo(MH,An("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mo(MH,CH)),hf=An("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wH=mo(hf,An("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),An("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hte=An("script,style,template");class pte{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!df.hasOwnProperty(n))return this.sanitizedSomething=!0,!hte.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,o=a.toLowerCase();if(!wH.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;hf[o]&&(c=m0(c)),this.buf.push(" ",a,'="',bH(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();df.hasOwnProperty(n)&&!_H.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(bH(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const mte=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gte=/([^\#-~ |!])/g;function bH(t){return t.replace(/&/g,"&amp;").replace(mte,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(gte,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let g0;function VH(t,e){let n=null;try{g0=g0||function yH(t){const e=new ute(t);return function fte(){try{return!!(new window.DOMParser).parseFromString(Gs(""),"text/html")}catch{return!1}}()?new lte(e):e}(t);let r=e?String(e):"";n=g0.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=g0.getInertBodyElement(r)}while(r!==s);return Gs((new pte).sanitizeChildren(pf(n)||n))}finally{if(n){const r=pf(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function pf(t){return"content"in t&&function vte(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var v1=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(v1||{});function HH(t){const e=go();return e?mH(e.sanitize(v1.HTML,t)||""):rn(t,"HTML")?mH(s1(t)):VH(Ws(),ne(t))}function mf(t){const e=go();return e?e.sanitize(v1.URL,t)||"":rn(t,"URL")?s1(t):m0(ne(t))}function go(){const t=b();return t&&t[xs].sanitizer}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vo=new U("ENVIRONMENT_INITIALIZER"),xH=new U("INJECTOR",-1),EH=new U("INJECTOR_DEF_TYPES");class gf{get(e,n=W4){if(n===W4){const r=new Error(`NullInjectorError: No provider for ${Lt(e)}!`);throw r.name="NullInjectorError",r}return n}}function bte(...t){return{\u0275providers:LH(0,t),\u0275fromNgModule:!0}}function LH(t,...e){const n=[],r=new Set;let i;const s=a=>{n.push(a)};return Bs(e,a=>{const o=a;v0(o,s,[],r)&&(i||=[],i.push(o))}),void 0!==i&&DH(i,s),n}function DH(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];vf(i,s=>{e(s,r)})}}function v0(t,e,n,r){if(!(t=Z(t)))return!1;let i=null,s=x6(t);const a=!s&&pe(t);if(s||a){if(a&&!a.standalone)return!1;i=t}else{const c=t.ngModule;if(s=x6(c),!s)return!1;i=c}const o=r.has(i);if(a){if(o)return!1;if(r.add(i),a.dependencies){const c="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of c)v0(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let l;r.add(i);try{Bs(s.imports,u=>{v0(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&DH(l,e)}if(!o){const l=pi(i)||(()=>new i);e({provide:i,useFactory:l,deps:_e},i),e({provide:EH,useValue:i,multi:!0},i),e({provide:vo,useValue:()=>G(i),multi:!0},i)}const c=s.providers;if(null!=c&&!o){const l=t;vf(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function vf(t,e){for(let n of t)o7(n)&&(n=n.\u0275providers),Array.isArray(n)?vf(n,e):e(n)}const Vte=ze({provide:String,useValue:ze});function yf(t){return null!==t&&"object"==typeof t&&Vte in t}function _i(t){return"function"==typeof t}const _f=new U("Set Injector scope."),y0={},Ste={};let Cf;function _0(){return void 0===Cf&&(Cf=new gf),Cf}class A1{}class C0 extends A1{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wf(e,a=>this.processProvider(a)),this.records.set(xH,Ks(void 0,this)),i.has("environment")&&this.records.set(A1,Ks(void 0,this));const s=this.records.get(_f);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(EH.multi,_e,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=yr(this),r=F2(void 0);try{return e()}finally{yr(n),F2(r)}}get(e,n=W4,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Hb))return e[Hb](this);r=L6(r);const s=yr(this),a=F2(void 0);try{if(!(r&le.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Lte(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&z6(e);c=l&&this.injectableDefInScope(l)?Ks(Mf(e),y0):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&le.Self?_0():this.parent).get(e,n=r&le.Optional&&n===W4?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[I6]=o[I6]||[]).unshift(Lt(e)),s)throw o;return function bJ(t,e,n,r){const i=t[I6];throw e[wb]&&i.unshift(e[wb]),t.message=function VJ(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Lt(e);if(Array.isArray(e))i=e.map(Lt).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let o=e[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):Lt(o)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yJ,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[I6]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{F2(a),yr(s)}}resolveInjectorInitializers(){const e=yr(this),n=F2(void 0);try{const i=this.get(vo.multi,_e,le.Self);for(const s of i)s()}finally{yr(e),F2(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=_i(e=Z(e))?e:Z(e&&e.provide);const r=function xte(t){return yf(t)?Ks(void 0,t.useValue):Ks(NH(t),y0)}(e);if(_i(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ks(void 0,y0,!0),i.factory=()=>g7(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===y0&&(n.value=Ste,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Ite(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Mf(t){const e=z6(t),n=null!==e?e.factory:pi(t);if(null!==n)return n;if(t instanceof U)throw new S(204,!1);if(t instanceof Function)return function zte(t){const e=t.length;if(e>0)throw co(e,"?"),new S(204,!1);const n=function pJ(t){return t&&(t[E6]||t[yb])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function NH(t,e,n){let r;if(_i(t)){const i=Z(t);return pi(i)||Mf(i)}if(yf(t))r=()=>Z(t.useValue);else if(function TH(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...g7(t.deps||[]));else if(function AH(t){return!(!t||!t.useExisting)}(t))r=()=>G(Z(t.useExisting));else{const i=Z(t&&(t.useClass||t.provide));if(!function Ete(t){return!!t.deps}(t))return pi(i)||Mf(i);r=()=>new i(...g7(t.deps))}return r}function Ks(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wf(t,e){for(const n of t)Array.isArray(n)?wf(n,e):n&&o7(n)?wf(n.\u0275providers,e):e(n)}const M0=new U("AppId",{providedIn:"root",factory:()=>Dte}),Dte="ng",kH=new U("Platform Initializer"),Tn=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PH=new U("CSP nonce",{providedIn:"root",factory:()=>Ws().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let OH=(t,e,n)=>null;function Ef(t,e,n=!1){return OH(t,e,n)}class Ute{}class UH{}class $te{resolveComponentFactory(e){throw function jte(t){const e=Error(`No component factory found for ${Lt(t)}.`);return e.ngComponent=t,e}(e)}}let Mo=(()=>{class e{}return e.NULL=new $te,e})();function qte(){return Qs(n2(),b())}function Qs(t,e){return new g2(j2(t,e))}let g2=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=qte,e})();class $H{}let sn=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Wte(){const t=b(),n=r1(n2().index,t);return(B2(n)?n:t)[re]}(),e})(),Kte=(()=>{var t;class e{}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:()=>null}),e})();class Xs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qH=new Xs("16.2.1"),Df={};function YH(t,e=null,n=null,r){const i=QH(t,e,n,r);return i.resolveInjectorInitializers(),i}function QH(t,e=null,n=null,r,i=new Set){const s=[n||_e,bte(t)];return r=r||("object"==typeof t?void 0:Lt(t)),new C0(s,e||_0(),r||null,i)}let At=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return YH({name:""},i,r,"");{const s=r.name??"";return YH({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=W4,t.NULL=new gf,t.\u0275prov=B({token:t,providedIn:"any",factory:()=>G(xH)}),t.__NG_ELEMENT_ID__=-1,e})();function Nn(t){return t instanceof Function?t():t}let Nf=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new S(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:()=>new t}),e})();function wo(t){for(;t;){t[se]|=64;const e=fo(t);if(w7(t)&&!e)return t;t=e}return null}function kf(t){return t.ngOriginalError}class Ci{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&kf(e);for(;n&&kf(n);)n=kf(n);return n||null}}const tS=new U("",{providedIn:"root",factory:()=>!1});class sS extends $b{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){wo(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Ut(this);this.trackingVersion++;try{e(n,r)}finally{Ut(i)}}destroy(){this.trackingVersion++}}let x0=null;function aS(){return x0??=new sS,x0}function oS(t,e){return t[e]??aS()}function cS(t,e){const n=aS();n.hasReadASignal&&(t[e]=x0,n.lView=t,x0=new sS)}const ae={};function D(t){lS(me(),b(),I2()+t,!1)}function lS(t,e,n,r){if(!r)if(3==(3&e[se])){const s=t.preOrderCheckHooks;null!==s&&q6(e,s,n)}else{const s=t.preOrderHooks;null!==s&&G6(e,s,0,n)}mi(n)}function V(t,e=le.Default){const n=b();return null===n?G(t,e):HV(n2(),n,Z(t),e)}function E0(t,e,n,r,i,s,a,o,c,l,u){const f=e.blueprint.slice();return f[mt]=i,f[se]=140|r,(null!==l||t&&2048&t[se])&&(f[se]|=2048),eV(f),f[Qe]=f[Es]=t,f[gt]=n,f[xs]=a||t&&t[xs],f[re]=o||t&&t[re],f[_r]=c||t&&t[_r]||null,f[p2]=s,f[eo]=function wee(){return Mee++}(),f[In]=u,f[Rb]=l,f[vt]=2==e.type?t[vt]:f,f}function ea(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Pf(t,e,n,r,i){const s=aV(),a=x7(),c=t.data[e]=function y2e(t,e,n,r,i,s){let a=e?e.injectorIndex:-1,o=0;return As()&&(o|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function MZ(){return J.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const a=function no(){const t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return tn(s,!0),s}function bo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uS(t,e,n,r,i){const s=oS(e,N6),a=I2(),o=2&r;try{if(mi(-1),o&&e.length>ue&&lS(t,e,ue,!1),en(o?2:0,i),o)s.runInContext(n,r,i);else{const l=Ut(null);try{n(r,i)}finally{Ut(l)}}}finally{o&&null===e[N6]&&cS(e,N6),mi(a),en(o?3:1,i)}}function Rf(t,e,n){if(M7(e)){const r=Ut(null);try{const s=e.directiveEnd;for(let a=e.directiveStart;a<s;a++){const o=t.data[a];o.contentQueries&&o.contentQueries(1,n[a],a)}}finally{Ut(r)}}}function Of(t,e,n){sV()&&(function H2e(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;hi(n)&&function D2e(t,e,n){const r=j2(e,t),i=fS(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const o=I0(t,E0(t,i,null,a,r,e,null,t[xs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||K6(n,e),m2(r,e);const a=n.initialInputs;for(let o=i;o<s;o++){const c=t.data[o],l=gi(e,t,o,n);m2(l,e),null!==a&&A2e(0,o-i,l,c,0,a),I1(c)&&(r1(n.index,e)[gt]=gi(e,t,o,n))}}(t,e,n,j2(n,e)),64==(64&n.flags)&&gS(t,e,n))}function Ff(t,e,n=j2){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],o=-1===a?n(e,t):t[a];t[i++]=o}}}function fS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Bf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Bf(t,e,n,r,i,s,a,o,c,l,u){const f=ue+r,d=f+i,h=function d2e(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ae);return n}(f,d),p="function"==typeof l?l():l;return h[P]={type:t,blueprint:h,template:n,queries:null,viewQuery:o,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let dS=t=>null;function hS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?pS(n,e,i,s):r.hasOwnProperty(i)&&pS(n,e,r[i],s)}return n}function pS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function a1(t,e,n,r,i,s,a,o){const c=j2(e,n);let u,l=e.inputs;!o&&null!=l&&(u=l[r])?(Gf(t,n,u,r,i),hi(e)&&function M2e(t,e){const n=r1(e,t);16&n[se]||(n[se]|=64)}(n,e.index)):3&e.type&&(r=function C2e(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.value||"",r):i,s.setProperty(c,r,i))}function Uf(t,e,n,r){if(sV()){const i=null===r?null:{"":-1},s=function z2e(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(Db(e,a.selectors,!1))if(r||(r=[]),I1(a))if(null!==a.findHostDirectiveDefs){const o=[];i=i||new Map,a.findHostDirectiveDefs(a,o,i),r.unshift(...o,a),jf(t,e,o.length)}else r.unshift(a),jf(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(t,n);let a,o;null===s?a=o=null:[a,o]=s,null!==a&&mS(t,e,n,a,i,o),i&&function x2e(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Q4(n.mergedAttrs,n.attrs)}function mS(t,e,n,r,i,s){for(let l=0;l<r.length;l++)F7(K6(n,e),t,r[l].type);!function I2e(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let a=!1,o=!1,c=bo(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Q4(n.mergedAttrs,u.hostAttrs),L2e(t,n,e,c,u),E2e(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!o&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),o=!0),c++}!function _2e(t,e,n){const i=e.directiveEnd,s=t.data,a=e.attrs,o=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=n?n.get(f):null,p=d?d.outputs:null;c=hS(f.inputs,u,c,d?d.inputs:null),l=hS(f.outputs,u,l,p);const g=null===c||null===a||Lb(e)?null:T2e(c,u,a);o.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=o,e.inputs=c,e.outputs=l}(t,n,s)}function gS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function bZ(){return J.lFrame.currentDirectiveIndex}();try{mi(s);for(let o=r;o<i;o++){const c=t.data[o],l=e[o];I7(o),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&S2e(c,l)}}finally{mi(-1),I7(a)}}function S2e(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function jf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function E2e(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;I1(e)&&(n[""]=t)}}function L2e(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=pi(i.type)),a=new ro(s,I1(i),V);t.blueprint[r]=a,n[r]=a,function b2e(t,e,n,r,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const o=~e.index;(function V2e(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=o&&a.push(o),a.push(n,r,s)}}(t,e,r,bo(t,n,i.hostVars,ae),i)}function an(t,e,n,r,i,s){const a=j2(t,e);!function $f(t,e,n,r,i,s,a){if(null==s)t.removeAttribute(e,i,n);else{const o=null==a?ne(s):a(s,r||"",i);t.setAttribute(e,i,o,n)}}(e[re],a,s,t.value,n,r,i)}function A2e(t,e,n,r,i,s){const a=s[e];if(null!==a)for(let o=0;o<a.length;)vS(r,n,a[o++],a[o++],a[o++])}function vS(t,e,n,r,i){const s=Ut(null);try{const a=t.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ut(s)}}function T2e(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const a=t[s];for(let o=0;o<a.length;o+=2)if(a[o]===e){r.push(s,a[o+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function yS(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function _S(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const a=t.data[s];D7(n[r]),a.contentQueries(2,e[s],s)}}}function I0(t,e){return t[J4]?t[Pb][E1]=e:t[J4]=e,t[Pb]=e,e}function qf(t,e,n){D7(0);const r=Ut(null);try{e(t,n)}finally{Ut(r)}}function bS(t,e){const n=t[_r],r=n?n.get(Ci,null):null;r&&r.handleError(e)}function Gf(t,e,n,r,i){for(let s=0;s<n.length;){const a=n[s++],o=n[s++];vS(t.data[a],e[a],r,o,i)}}function N2e(t,e){const n=r1(e,t),r=n[P];!function k2e(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[mt];null!==i&&null===n[In]&&(n[In]=Ef(i,n[_r])),Wf(r,n,n[gt])}function Wf(t,e,n){A7(e);try{const r=t.viewQuery;null!==r&&qf(1,r,n);const i=t.template;null!==i&&uS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_S(t,e),t.staticViewQueries&&qf(2,t.viewQuery,n);const s=t.components;null!==s&&function P2e(t,e){for(let n=0;n<e.length;n++)N2e(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,T7()}}let VS=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const a=typeof Zone>"u"?null:Zone.current,o=new ZJ(r,u=>{this.all.has(u)&&this.queue.set(u,a)},s);let c;this.all.add(o),o.notify();const l=()=>{o.cleanup(),c?.(),this.all.delete(o),this.queue.delete(o)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:()=>new t}),e})();function L0(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?s=o:1==s?i=s7(i,o):2==s&&(r=s7(r,o+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Vo(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ke(s)),U2(s)){for(let o=t2;o<s.length;o++){const c=s[o],l=c[P].firstChild;null!==l&&Vo(c[P],c,l,r)}s[J1]!==s[mt]&&r.push(s[J1])}const a=n.type;if(8&a)Vo(t,e,n.child,r);else if(32&a){const o=Z7(n,e);let c;for(;c=o();)r.push(c)}else if(16&a){const o=uH(e,n);if(Array.isArray(o))r.push(...o);else{const c=fo(e[vt]);Vo(c[P],c,o,r,!0)}}n=i?n.projectionNext:n.next}return r}function D0(t,e,n,r=!0){const i=e[xs],s=i.rendererFactory,a=i.afterRenderEventManager;s.begin?.(),a?.begin();try{HS(t,e,t.template,n)}catch(c){throw r&&bS(e,c),c}finally{s.end?.(),i.effectManager?.flush(),a?.end()}}function HS(t,e,n,r){const i=e[se];if(256!=(256&i)){e[xs].effectManager?.flush(),A7(e);try{eV(e),function cV(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&uS(t,e,n,2,r);const a=3==(3&i);if(a){const l=t.preOrderCheckHooks;null!==l&&q6(e,l,null)}else{const l=t.preOrderHooks;null!==l&&G6(e,l,0,null),N7(e,0)}if(function F2e(t){for(let e=JV(t);null!==e;e=ZV(e)){if(!e[Ob])continue;const n=e[Ls];for(let r=0;r<n.length;r++){uZ(n[r])}}}(e),SS(e,2),null!==t.contentQueries&&_S(t,e),a){const l=t.contentCheckHooks;null!==l&&q6(e,l)}else{const l=t.contentHooks;null!==l&&G6(e,l,1),N7(e,1)}!function f2e(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=oS(e,k6);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)mi(~s);else{const a=s,o=n[++i],c=n[++i];wZ(o,a),r.runInContext(c,2,e[a])}}}finally{null===e[k6]&&cS(e,k6),mi(-1)}}(t,e);const o=t.components;null!==o&&xS(e,o,0);const c=t.viewQuery;if(null!==c&&qf(2,c,r),a){const l=t.viewCheckHooks;null!==l&&q6(e,l)}else{const l=t.viewHooks;null!==l&&G6(e,l,2),N7(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[se]&=-73,tV(e)}finally{T7()}}}function SS(t,e){for(let n=JV(t);null!==n;n=ZV(n))for(let r=t2;r<n.length;r++)zS(n[r],e)}function B2e(t,e,n){zS(r1(e,t),n)}function zS(t,e){if(!function cZ(t){return 128==(128&t[se])}(t))return;const n=t[P];if(80&t[se]&&0===e||1024&t[se]||2===e)HS(n,t,n.template,t[gt]);else if(t[X4]>0){SS(t,1);const i=t[P].components;null!==i&&xS(t,i,1)}}function xS(t,e,n){for(let r=0;r<e.length;r++)B2e(t,e[r],n)}class Ho{get rootNodes(){const e=this._lView,n=e[P];return Vo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qe];if(U2(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(l0(e,r),J6(n,r))}this._attachedToViewContainer=!1}tf(this._lView[P],this._lView)}onDestroy(e){!function rV(t,e){if(256==(256&t[se]))throw new S(911,!1);null===t[Cr]&&(t[Cr]=[]),t[Cr].push(e)}(this._lView,e)}markForCheck(){wo(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){D0(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kee(t,e){po(t,e,e[re],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class U2e extends Ho{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;D0(e[P],e,e[gt],!1)}checkNoChanges(){}get context(){return null}}class ES extends Mo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pe(e);return new So(n,this.ngModule)}}function IS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class $2e{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=L6(r);const i=this.injector.get(e,Df,r);return i!==Df||n===Df?i:this.parentInjector.get(e,n,r)}}class So extends UH{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=IS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return IS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function TJ(t){return t.map(AJ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof A1?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new $2e(e,s):e,o=a.get($H,null);if(null===o)throw new S(407,!1);const f={rendererFactory:o,sanitizer:a.get(Kte,null),effectManager:a.get(VS,null),afterRenderEventManager:a.get(Nf,null)},d=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function h2e(t,e,n,r){const s=r.get(tS,!1)||n===z1.ShadowDom,a=t.selectRootElement(e,s);return function p2e(t){dS(t)}(a),a}(d,r,this.componentDef.encapsulation,a):c0(d,h,function j2e(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=Ef(p,a,!0));const w=Bf(0,null,null,1,0,null,null,null,null,null,null),L=E0(null,w,null,_,null,null,f,d,a,null,y);let k,K;A7(L);try{const he=this.componentDef;let It,Ft=null;he.findHostDirectiveDefs?(It=[],Ft=new Map,he.findHostDirectiveDefs(he,It,Ft),It.push(he)):It=[he];const g6=function G2e(t,e){const n=t[P],r=ue;return t[r]=e,ea(n,r,2,"#host",null)}(L,p),HXe=function W2e(t,e,n,r,i,s,a){const o=i[P];!function K2e(t,e,n,r){for(const i of t)e.mergedAttrs=Q4(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(L0(e,e.mergedAttrs,!0),null!==n&&pH(r,n,e))}(r,t,e,a);let c=null;null!==e&&(c=Ef(e,i[_r]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=E0(i,fS(n),null,u,i[t.index],t,s,l,null,null,c);return o.firstCreatePass&&jf(o,t,r.length-1),I0(i,f),i[t.index]=f}(g6,p,he,It,L,f,d);K=Zb(w,ue),p&&function Q2e(t,e,n,r){if(r)_7(t,n,["ng-version",qH.full]);else{const{attrs:i,classes:s}=function NJ(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!x1(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&_7(t,n,i),s&&s.length>0&&hH(t,n,s.join(" "))}}(d,he,p,r),void 0!==n&&function X2e(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(K,this.ngContentSelectors,n),k=function Y2e(t,e,n,r,i,s){const a=n2(),o=i[P],c=j2(a,i);mS(o,i,a,n,null,r);for(let u=0;u<n.length;u++)m2(gi(i,o,a.directiveStart+u,a),i);gS(o,i,a),c&&m2(c,i);const l=gi(i,o,a.directiveStart+a.componentOffset,a);if(t[gt]=i[gt]=l,null!==s)for(const u of s)u(l,e);return Rf(o,a,t),l}(HXe,he,It,Ft,L,[J2e]),Wf(w,L,null)}finally{T7()}return new q2e(this.componentType,k,Qs(K,L),L,K)}}class q2e extends Ute{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new U2e(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Gf(s[P],s,i,e,n),this.previousInputValues.set(e,n),wo(r1(this._tNode.index,s))}}get injector(){return new L2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function J2e(){const t=n2();$6(b()[P],t)}function xe(t){let e=function LS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(I1(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const a=t;a.inputs=A0(t.inputs),a.inputTransforms=A0(t.inputTransforms),a.declaredInputs=A0(t.declaredInputs),a.outputs=A0(t.outputs);const o=i.hostBindings;o&&n1e(t,o);const c=i.viewQuery,l=i.contentQueries;if(c&&e1e(t,c),l&&t1e(t,l),H6(t.inputs,i.inputs),H6(t.declaredInputs,i.declaredInputs),H6(t.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),H6(a.inputTransforms,i.inputTransforms)),I1(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(t),o===xe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Z2e(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Q4(i.hostAttrs,n=Q4(n,i.hostAttrs))}}(r)}function A0(t){return t===Q1?{}:t===_e?[]:t}function e1e(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function t1e(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function n1e(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function T0(t){return!!Kf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Kf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function on(t,e,n){return t[e]=n}function v2(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mi(t,e,n,r){const i=v2(t,e,n);return v2(t,e+1,r)||i}function T1(t,e,n,r){const i=b();return v2(i,Ts(),e)&&(me(),an(tt(),i,t,e,n,r)),T1}function na(t,e,n,r){return v2(t,Ts(),n)?e+ne(n)+r:ae}function $t(t,e,n,r,i,s,a,o){const c=b(),l=me(),u=t+ue,f=l.firstCreatePass?function z1e(t,e,n,r,i,s,a,o,c){const l=e.consts,u=ea(e,t,4,a||null,Mr(l,o));Uf(e,n,u,Mr(l,c)),$6(e,u);const f=u.tView=Bf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,a):l.data[u];tn(f,!1);const d=KS(l,c,f,t);j6()&&f0(l,c,d,f),m2(d,c),I0(c,c[u]=yS(d,c,d,f)),R6(f)&&Of(l,c,f),null!=a&&Ff(c,f,o)}let KS=function YS(t,e,n,r){return wr(!0),e[re].createComment("")};function ed(t){return Ds(function CZ(){return J.lFrame.contextLView}(),ue+t)}function W(t,e,n){const r=b();return v2(r,Ts(),e)&&a1(me(),tt(),r,t,e,r[re],n,!1),W}function td(t,e,n,r,i){const a=i?"class":"style";Gf(t,n,e.inputs[a],a,r)}function E(t,e,n,r){const i=b(),s=me(),a=ue+t,o=i[re],c=s.firstCreatePass?function L1e(t,e,n,r,i,s){const a=e.consts,c=ea(e,t,2,r,Mr(a,i));return Uf(e,n,c,Mr(a,s)),null!==c.attrs&&L0(c,c.attrs,!1),null!==c.mergedAttrs&&L0(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(a,s,i,e,n,r):s.data[a],l=QS(s,i,c,o,e,t);i[a]=l;const u=R6(c);return tn(c,!0),pH(o,l,c),32!=(32&c.flags)&&j6()&&f0(s,i,l,c),0===function dZ(){return J.lFrame.elementDepthCount}()&&m2(l,i),function hZ(){J.lFrame.elementDepthCount++}(),u&&(Of(s,i,c),Rf(s,c,i)),null!==r&&Ff(i,c),E}function R(){let t=n2();x7()?E7():(t=t.parent,tn(t,!1));const e=t;(function mZ(t){return J.skipHydrationRootTNode===t})(e)&&function _Z(){J.skipHydrationRootTNode=null}(),function pZ(){J.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&($6(n,t),M7(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function TZ(t){return 0!=(8&t.flags)}(e)&&td(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function NZ(t){return 0!=(16&t.flags)}(e)&&td(n,e,b(),e.stylesWithoutHost,!1),R}function Se(t,e,n,r){return E(t,e,n,r),R(),Se}let QS=(t,e,n,r,i,s)=>(wr(!0),c0(r,i,function gV(){return J.lFrame.currentNamespace}()));function O0(t,e,n){const r=b(),i=me(),s=t+ue,a=i.firstCreatePass?function T1e(t,e,n,r,i){const s=e.consts,a=Mr(s,r),o=ea(e,t,8,"ng-container",a);return null!==a&&L0(o,a,!0),Uf(e,n,o,Mr(s,i)),null!==e.queries&&e.queries.elementStart(e,o),o}(s,i,r,e,n):i.data[s];tn(a,!0);const o=JS(i,r,a,t);return r[s]=o,j6()&&f0(i,r,o,a),m2(o,r),R6(a)&&(Of(i,r,a),Rf(i,a,r)),null!=n&&Ff(r,a),O0}function F0(){let t=n2();const e=me();return x7()?E7():(t=t.parent,tn(t,!1)),e.firstCreatePass&&($6(e,t),M7(t)&&e.queries.elementEnd(t)),F0}let JS=(t,e,n,r)=>(wr(!0),ef(e[re],""));function wi(){return b()}function Lo(t){return!!t&&"function"==typeof t.then}function ZS(t){return!!t&&"function"==typeof t.subscribe}function Xe(t,e,n,r){const i=b(),s=me(),a=n2();return function tz(t,e,n,r,i,s,a){const o=R6(r),l=t.firstCreatePass&&function MS(t){return t.cleanup||(t.cleanup=[])}(t),u=e[gt],f=function CS(t){return t[zs]||(t[zs]=[])}(e);let d=!0;if(3&r.type||a){const g=j2(r,e),v=a?a(g):g,_=f.length,y=a?L=>a(ke(L[r.index])):r.index;let w=null;if(!a&&o&&(w=function P1e(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===n&&i[s+1]===r){const o=e[zs],c=i[s+2];return o.length>c?o[c]:null}"string"==typeof a&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,d=!1;else{s=rz(r,e,u,s,!1);const L=n.listen(v,i,s);f.push(s,L),l&&l.push(i,y,_,_+1)}}else s=rz(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const k=e[p[v]][p[v+1]].subscribe(s),K=f.length;f.push(s,k),l&&l.push(i,r.index,K,-(K+1))}}}(s,i,i[re],a,t,e,r),Xe}function nz(t,e,n,r){try{return en(6,e,n),!1!==n(r)}catch(i){return bS(t,i),!1}finally{en(7,e,n)}}function rz(t,e,n,r,i){return function s(a){if(a===Function)return r;wo(t.componentOffset>-1?r1(t.index,e):e);let c=nz(e,n,r,a),l=s.__ngNextListenerFn__;for(;l;)c=nz(e,n,l,a)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&a.preventDefault(),c}}function ot(t=1){return function HZ(t){return(J.lFrame.contextLView=function SZ(t,e){for(;t>0;)e=e[Es],t--;return e}(t,J.lFrame.contextLView))[gt]}(t)}function R1e(t,e){let n=null;const r=function EJ(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Db(t,s,!0):DJ(r,s))return i}else n=i}return n}function Do(t,e,n){return nd(t,"",e,"",n),Do}function nd(t,e,n,r,i){const s=b(),a=na(s,e,n,r);return a!==ae&&a1(me(),tt(),s,t,a,s[re],i,!1),nd}function B0(t,e){return t<<17|e<<2}function Vr(t){return t>>17&32767}function rd(t){return 2|t}function bi(t){return(131068&t)>>2}function id(t,e){return-131069&t|e<<2}function sd(t){return 1|t}function pz(t,e,n,r,i){const s=t[n+1],a=null===e;let o=r?Vr(s):bi(s),c=!1;for(;0!==o&&(!1===c||a);){const u=t[o+1];$1e(t[o],e)&&(c=!0,t[o+1]=r?sd(u):rd(u)),o=r?Vr(u):bi(u)}c&&(t[n+1]=r?rd(s):sd(s))}function $1e(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Us(t,e)>=0}const Tt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mz(t){return t.substring(Tt.key,Tt.keyEnd)}function q1e(t){return t.substring(Tt.value,Tt.valueEnd)}function vz(t,e){const n=Tt.textEnd;let r=Tt.key=ua(t,e,n);return n===r?-1:(r=Tt.keyEnd=function Y1e(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=_z(t,r,n),r=Tt.value=ua(t,r,n),r=Tt.valueEnd=function Q1e(t,e,n){let r=-1,i=-1,s=-1,a=e,o=a;for(;a<n;){const c=t.charCodeAt(a++);if(59===c)return o;34===c||39===c?o=a=Cz(t,c,a,n):e===a-4&&85===s&&82===i&&76===r&&40===c?o=a=Cz(t,41,a,n):c>32&&(o=a),s=i,i=r,r=-33&c}return o}(t,r,n),_z(t,r,n))}function ua(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function _z(t,e,n,r){return(e=ua(t,e,n))<n&&e++,e}function Cz(t,e,n,r){let i=-1,s=n;for(;s<r;){const a=t.charCodeAt(s++);if(a==e&&92!==i)return s;i=92==a&&92===i?0:a}throw new Error}function Ao(t,e){return function N1(t,e,n,r){const i=b(),s=me(),a=Dn(2);s.firstUpdatePass&&bz(s,t,a,r),e!==ae&&v2(i,a,e)&&Hz(s,s.data[I2()],i,i[re],t,i[a+1]=function ane(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Lt(s1(t)))),t}(e,n),r,a)}(t,e,null,!0),Ao}function s2(t){!function k1(t,e,n,r){const i=me(),s=Dn(2);i.firstUpdatePass&&bz(i,null,s,r);const a=b();if(n!==ae&&v2(a,s,n)){const o=i.data[I2()];if(zz(o,r)&&!wz(i,s)){let c=r?o.classesWithoutHost:o.stylesWithoutHost;null!==c&&(n=s7(c,n||"")),td(i,o,a,n,r)}else!function sne(t,e,n,r,i,s,a,o){i===ae&&(i=_e);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let g,p=null;u===f?(c+=2,l+=2,d!==h&&(p=f,g=h)):null===f||null!==u&&u<f?(c+=2,p=u):(l+=2,p=f,g=h),null!==p&&Hz(t,e,n,r,p,g,a,o),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}(i,o,a,a[re],a[s+1],a[s+1]=function rne(t,e,n){if(null==n||""===n)return _e;const r=[],i=s1(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(Vz,X1e,t,!1)}function X1e(t,e){for(let n=function W1e(t){return function yz(t){Tt.key=0,Tt.keyEnd=0,Tt.value=0,Tt.valueEnd=0,Tt.textEnd=t.length}(t),vz(t,ua(t,0,Tt.textEnd))}(e);n>=0;n=vz(e,n))Vz(t,mz(e),q1e(e))}function wz(t,e){return e>=t.expandoStartIndex}function bz(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[I2()],a=wz(t,n);zz(s,r)&&null===e&&!a&&(e=!1),e=function Z1e(t,e,n,r){const i=function L7(t){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=To(n=ad(null,t,e,n,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=ad(i,t,e,n,r),null===s){let c=function ene(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==bi(r))return t[Vr(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=ad(null,t,e,c[1],r),c=To(c,e.attrs,r),function tne(t,e,n,r){t[Vr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function nne(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=To(r,t[s].hostAttrs,n);return To(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function U1e(t,e,n,r,i,s){let a=s?e.classBindings:e.styleBindings,o=Vr(a),c=bi(a);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Us(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const d=Vr(t[o+1]);t[r+1]=B0(d,o),0!==d&&(t[d+1]=id(t[d+1],r)),t[o+1]=function F1e(t,e){return 131071&t|e<<17}(t[o+1],r)}else t[r+1]=B0(o,0),0!==o&&(t[o+1]=id(t[o+1],r)),o=r;else t[r+1]=B0(c,0),0===o?o=r:t[c+1]=id(t[c+1],r),c=r;l&&(t[r+1]=rd(t[r+1])),pz(t,u,r,!0),pz(t,u,r,!1),function j1e(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Us(s,e)>=0&&(n[r+1]=sd(n[r+1]))}(e,u,t,r,s),a=B0(o,c),s?e.classBindings=a:e.styleBindings=a}(i,s,e,n,a,r)}}function ad(t,e,n,r,i){let s=null;const a=n.directiveEnd;let o=n.directiveStylingLast;for(-1===o?o=n.directiveStart:o++;o<a&&(s=e[o],r=To(r,s.hostAttrs,i),s!==t);)o++;return null!==t&&(n.directiveStylingLast=o),r}function To(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),i1(t,a,!!n||e[++s]))}return void 0===t?null:t}function Vz(t,e,n){i1(t,e,s1(n))}function Hz(t,e,n,r,i,s,a,o){if(!(3&e.type))return;const c=t.data,l=c[o+1],u=function B1e(t){return 1==(1&t)}(l)?Sz(c,e,n,i,bi(l),a):void 0;U0(u)||(U0(s)||function O1e(t){return 2==(2&t)}(l)&&(s=Sz(c,null,n,i,o,a)),function Gee(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:br.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=br.Important),t.setStyle(n,r,i,s))}}(r,a,U6(I2(),n),i,s))}function Sz(t,e,n,r,i,s){const a=null===e;let o;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=n[i+1];d===ae&&(d=f?_e:void 0);let h=f?j7(d,r):u===r?d:void 0;if(l&&!U0(h)&&(h=j7(c,r)),U0(h)&&(o=h,a))return o;const p=t[i+1];i=a?Vr(p):bi(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(o=j7(c,r))}return o}function U0(t){return void 0!==t}function zz(t,e){return 0!=(t.flags&(e?8:16))}function Q(t,e=""){const n=b(),r=me(),i=t+ue,s=r.firstCreatePass?ea(r,i,1,e,null):r.data[i],a=xz(r,n,s,e,t);n[i]=a,j6()&&f0(r,n,a,s),tn(s,!1)}let xz=(t,e,n,r,i)=>(wr(!0),function o0(t,e){return t.createText(e)}(e[re],r));function je(t){return fa("",t,""),je}function fa(t,e,n){const r=b(),i=na(r,t,e,n);return i!==ae&&function kn(t,e,n){const r=U6(e,t);!function tH(t,e,n){t.setValue(e,n)}(t[re],r,n)}(r,I2(),i),fa}function od(t,e,n){const r=b();return v2(r,Ts(),e)&&a1(me(),tt(),r,t,e,r[re],n,!0),od}const Vi=void 0;var xne=["en",[["a","p"],["AM","PM"],Vi],[["AM","PM"],Vi,Vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vi,"{1} 'at' {0}",Vi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zne(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let da={};function D2(t){const e=function Ene(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Kz(e);if(n)return n;const r=e.split("-")[0];if(n=Kz(r),n)return n;if("en"===r)return xne;throw new S(701,!1)}function Kz(t){return t in da||(da[t]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[t]),da[t]}var Pe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pe||{});const ha="en-US";let Yz=ha;function ud(t,e,n,r,i){if(t=Z(t),Array.isArray(t))for(let s=0;s<t.length;s++)ud(t[s],e,n,r,i);else{const s=me(),a=b(),o=n2();let c=_i(t)?t:Z(t.provide);const l=NH(t),u=1048575&o.providerIndexes,f=o.directiveStart,d=o.providerIndexes>>20;if(_i(t)||!t.multi){const h=new ro(l,i,V),p=dd(c,e,i?u:u+d,f);-1===p?(F7(K6(o,a),s,c),fd(s,t,e.length),e.push(c),o.directiveStart++,o.directiveEnd++,i&&(o.providerIndexes+=1048576),n.push(h),a.push(h)):(n[p]=h,a[p]=h)}else{const h=dd(c,e,u+d,f),p=dd(c,e,u,u+d),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){F7(K6(o,a),s,c);const _=function zre(t,e,n,r,i){const s=new ro(t,n,V);return s.multi=[],s.index=e,s.componentProviders=0,Cx(s,i,r&&!n),s}(i?Sre:Hre,n.length,i,r,l);!i&&v&&(n[p].providerFactory=_),fd(s,t,e.length,0),e.push(c),o.directiveStart++,o.directiveEnd++,i&&(o.providerIndexes+=1048576),n.push(_),a.push(_)}else fd(s,t,h>-1?h:p,Cx(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function fd(t,e,n,r){const i=_i(e),s=function Hte(t){return!!t.useClass}(e);if(i||s){const c=(s?Z(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Cx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function dd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Hre(t,e,n,r){return hd(this.multi,[])}function Sre(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=gi(n,n[P],this.providerFactory.index,r);s=o.slice(0,a),hd(i,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],hd(i,s);return s}function hd(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Je(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Vre(t,e,n){const r=me();if(r.firstCreatePass){const i=I1(t);ud(n,r.data,r.blueprint,i,!0),ud(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Hi{}class Mx{}class pd extends Hi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ES(this);const i=n1(e);this._bootstrapComponents=Nn(i.bootstrap),this._r3Injector=QH(e,n,[{provide:Hi,useValue:this},{provide:Mo,useValue:this.componentFactoryResolver},...r],Lt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class md extends Mx{constructor(e){super(),this.moduleType=e}create(e){return new pd(this.moduleType,e,[])}}class wx extends Hi{constructor(e){super(),this.componentFactoryResolver=new ES(this),this.instance=null;const n=new C0([...e.providers,{provide:Hi,useValue:this},{provide:Mo,useValue:this.componentFactoryResolver}],e.parent||_0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function bx(t,e,n=null){return new wx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Ire=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=LH(0,r.type),s=i.length>0?bx([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(G(A1))}),e})();function Vx(t){t.getStandaloneInjector=e=>e.get(Ire).getOrCreateStandaloneInjector(t)}function Ht(t,e,n){const r=E2()+t,i=b();return i[r]===ae?on(i,r,n?e.call(n):e()):function zo(t,e){return t[e]}(i,r)}function G2(t,e,n,r){return Dx(b(),E2(),t,e,n,r)}function Lx(t,e,n,r,i){return function Ax(t,e,n,r,i,s,a){const o=e+n;return Mi(t,o,i,s)?on(t,o+2,a?r.call(a,i,s):r(i,s)):Fo(t,o+2)}(b(),E2(),t,e,n,r,i)}function Fo(t,e){const n=t[e];return n===ae?void 0:n}function Dx(t,e,n,r,i,s){const a=e+n;return v2(t,a,i)?on(t,a+1,s?r.call(s,i):r(i)):Fo(t,a+1)}function Tx(t,e,n,r,i,s,a,o){const c=e+n;return function N0(t,e,n,r,i){const s=Mi(t,e,n,r);return v2(t,e+2,i)||s}(t,c,i,s,a)?on(t,c+3,o?r.call(o,i,s,a):r(i,s,a)):Fo(t,c+3)}function Re(t,e){const n=me();let r;const i=t+ue;n.firstCreatePass?(r=function Gre(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=pi(r.type)),o=F2(V);try{const c=W6(!1),l=s();return W6(c),function I1e(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),i,l),l}finally{F2(o)}}function Nt(t,e,n){const r=t+ue,i=b(),s=Ds(i,r);return Bo(i,r)?Dx(i,E2(),e,s.transform,n,s):s.transform(n)}function Hr(t,e,n,r,i){const s=t+ue,a=b(),o=Ds(a,s);return Bo(a,s)?Tx(a,E2(),e,o.transform,n,r,i,o):o.transform(n,r,i)}function Bo(t,e){return t[P].data[e].pure}function vd(t){return e=>{setTimeout(t,void 0,e)}}const nt=class Qre extends K1{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),a=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=vd(s),i&&(i=vd(i)),a&&(a=vd(a)));const o=super.subscribe({next:i,error:s,complete:a});return e instanceof J2&&e.add(o),o}};function Zre(t,e,n,r=!0){const i=e[P];if(function Ree(t,e,n,r){const i=t2+r,s=n.length;r>0&&(n[i-1][E1]=e),r<s-t2?(e[E1]=n[i],LV(n,t2+r,e)):(n.push(e),e[E1]=null),e[Qe]=n;const a=e[Z4];null!==a&&n!==a&&function Oee(t,e){const n=t[Ls];e[vt]!==e[Qe][Qe][vt]&&(t[Ob]=!0),null===n?t[Ls]=[e]:n.push(e)}(a,e);const o=e[X1];null!==o&&o.insertView(t),e[se]|=128}(i,e,t,n),r){const s=af(n,t),a=e[re],o=u0(a,t[J1]);null!==o&&function Nee(t,e,n,r,i,s){r[mt]=i,r[p2]=e,po(t,r,n,1,i,s)}(i,t[p2],a,e,o,s)}}let Pn=(()=>{class e{}return e.__NG_ELEMENT_ID__=nie,e})();const eie=Pn,tie=class extends eie{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Jre(t,e,n,r){const i=e.tView,o=E0(t,i,n,4096&t[se]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);o[Z4]=t[e.index];const l=t[X1];return null!==l&&(o[X1]=l.createEmbeddedView(i)),Wf(i,o,n),o}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Ho(i)}};function nie(){return function W0(t,e){return 4&t.type?new tie(e,t,Qs(t,e)):null}(n2(),b())}let P1=(()=>{class e{}return e.__NG_ELEMENT_ID__=cie,e})();function cie(){return function jx(t,e){let n;const r=e[t.index];return U2(r)?n=r:(n=yS(r,e,null,t),e[t.index]=n,I0(e,n)),$x(n,e,t,r),new Bx(n,t,e)}(n2(),b())}const lie=P1,Bx=class extends lie{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new L2(this._hostTNode,this._hostLView)}get parentInjector(){const e=Y6(this._hostTNode,this._hostLView);if(P7(e)){const n=so(e,this._hostLView),r=io(e);return new L2(n[P].data[r+8],n)}return new L2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Ux(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-t2}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(o,i,false),o}createComponent(e,n,r,i,s){const a=e&&!function oo(t){return"function"==typeof t}(e);let o;if(a)o=n;else{const g=n||{};o=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=a?e:new So(pe(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const v=(a?l:this.parentInjector).get(A1,null);v&&(s=v)}pe(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,o,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function lZ(t){return U2(t[Qe])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Qe],u=new Bx(l,l[p2],l[Qe]);u.detach(u.indexOf(e))}}const a=this._adjustIndex(n),o=this._lContainer;return Zre(o,i,a,!r),e.attachToViewContainerRef(),LV(_d(o),a,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Ux(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=l0(this._lContainer,n);r&&(J6(_d(this._lContainer),n),tf(r[P],r))}detach(e){const n=this._adjustIndex(e,-1),r=l0(this._lContainer,n);return r&&null!=J6(_d(this._lContainer),n)?new Ho(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ux(t){return t[8]}function _d(t){return t[8]||(t[8]=[])}let $x=function qx(t,e,n,r){if(t[J1])return;let i;i=8&n.type?ke(r):function uie(t,e){const n=t[re],r=n.createComment(""),i=j2(e,t);return vi(n,u0(n,i),r,function jee(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[J1]=i};const gE=new U("Application Initializer");let Id=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=z(gE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const a=s();if(Lo(a))r.push(a);else if(ZS(a)){const o=new Promise((c,l)=>{a.subscribe({complete:c,error:l})});r.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),vE=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Rn=new U("LocaleId",{providedIn:"root",factory:()=>z(Rn,le.Optional|le.SkipSelf)||function Bie(){return typeof $localize<"u"&&$localize.locale||ha}()});let yE=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new p1(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class $ie{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let qie=(()=>{var t;class e{compileModuleSync(r){return new md(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),a=Nn(n1(r).declarations).reduce((o,c)=>{const l=pe(c);return l&&o.push(new So(l)),o},[]);return new $ie(i,a)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function wE(...t){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function fse(){const t="function"==typeof Ae.requestAnimationFrame;let e=Ae[t?"requestAnimationFrame":"setTimeout"],n=Ae[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function pse(t){const e=()=>{!function hse(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Td(t),t.isCheckStableRunning=!0,Ad(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Td(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,a,o)=>{try{return bE(t),n.invokeTask(i,s,a,o)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),VE(t)}},onInvoke:(n,r,i,s,a,o,c)=>{try{return bE(t),n.invoke(i,s,a,o,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),VE(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Td(t),Ad(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,dse,wE,wE);try{return s.runTask(a,n,r)}finally{s.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const dse={};function Ad(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Td(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function VE(t){t._nesting--,Ad(t)}class mse{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const HE=new U("",{providedIn:"root",factory:SE});function SE(){const t=z(Me);let e=!0;return function sJ(...t){const e=G4(t),n=function JX(t,e){return"number"==typeof r7(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Z2(r[0]):w6(n)(h2(r,e)):Y1}(new Ve(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ve(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const a=t.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(pb()))}const zE=new U(""),X0=new U("");let Pd,Nd=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pd||(function gse(t){Pd=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(G(Me),G(kd),G(X0))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})(),kd=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Pd?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Sr=null;const xE=new U("AllowMultipleToken"),Rd=new U("PlatformDestroyListeners"),EE=new U("appBootstrapListener");function DE(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let a=Od();if(!a||a.injector.get(xE,!1)){const o=[...n,...s,{provide:i,useValue:!0}];t?t(o):function _se(t){if(Sr&&!Sr.get(xE,!1))throw new S(400,!1);(function IE(){!function XJ(t){qb=t}(()=>{throw new S(600,!1)})})(),Sr=t;const e=t.get(TE);(function LE(t){t.get(kH,null)?.forEach(n=>n())})(t)}(function AE(t=[],e){return At.create({name:e,providers:[{provide:_f,useValue:"platform"},{provide:Rd,useValue:new Set([()=>Sr=null])},...t]})}(o,r))}return function Mse(t){const e=Od();if(!e)throw new S(401,!1);return e}()}}function Od(){return Sr?.get(TE)??null}let TE=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function wse(t="zone.js",e){return"noop"===t?new mse:"zone.js"===t?new Me(e):t}(i?.ngZone,function NE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const a=function Ere(t,e,n){return new pd(t,e,n)}(r.moduleType,this.injector,function FE(t){return[{provide:Me,useFactory:t},{provide:vo,multi:!0,useFactory:()=>{const e=z(Vse,{optional:!0});return()=>e.initialize()}},{provide:OE,useFactory:bse},{provide:HE,useFactory:SE}]}(()=>s)),o=a.injector.get(Ci,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{o.handleError(l)}});a.onDestroy(()=>{J0(this._modules,a),c.unsubscribe()})}),function kE(t,e,n){try{const r=n();return Lo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,s,()=>{const c=a.injector.get(Id);return c.runInitializers(),c.donePromise.then(()=>(function Qz(t){m1(t,"Expected localeId to be defined"),"string"==typeof t&&(Yz=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Rn,ha)||ha),this._moduleDoBootstrap(a),a))})})}bootstrapModule(r,i=[]){const s=PE({},i);return function vse(t,e,n){const r=new md(n);return Promise.resolve(r)}(0,0,r).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(r){const i=r.injector.get($o);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Rd,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(G(At))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function PE(t,e){return Array.isArray(e)?e.reduce(PE,t):{...t,...e}}let $o=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(OE),this.zoneIsStable=z(HE),this.componentTypes=[],this.components=[],this.isStable=z(yE).hasPendingTasks.pipe(S1(r=>r?ee(!1):this.zoneIsStable),mb(),pb()),this._injector=z(A1)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof UH;if(!this._injector.get(Id).done)throw!s&&function Ss(t){const e=pe(t)||e2(t)||z2(t);return null!==e&&e.standalone}(r),new S(405,!1);let o;o=s?r:this._injector.get(Mo).resolveComponentFactory(r),this.componentTypes.push(o.componentType);const c=function yse(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Hi),u=o.create(At.NULL,[],i||o.selector,c),f=u.location.nativeElement,d=u.injector.get(zE,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),J0(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;J0(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(EE,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>J0(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function J0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const OE=new U("",{providedIn:"root",factory:()=>z(Ci).handleError.bind(void 0)});function bse(){const t=z(Me),e=z(Ci);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Vse=(()=>{var t;class e{constructor(){this.zone=z(Me),this.applicationRef=z($o)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Si=(()=>{class e{}return e.__NG_ELEMENT_ID__=zse,e})();function zse(t){return function xse(t,e,n){if(hi(t)&&!n){const r=r1(t.index,e);return new Ho(r,r)}return 47&t.type?new Ho(e[vt],e):null}(n2(),b(),16==(16&t))}class $E{constructor(){}supports(e){return T0(e)}create(e){return new Tse(e)}}const Ase=(t,e)=>e;class Tse{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ase}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const a=!r||n&&n.currentIndex<GE(r,i,s)?n:r,o=GE(a,i,s),c=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,null==a.previousIndex)i++;else{s||(s=[]);const l=o-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[a.previousIndex]=u-l}}o!==c&&e(a,o,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!T0(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let o=0;o<this.length;o++)s=e[o],a=this._trackByFn(o,s),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,s,a,o)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,a,o),r=!0),n=n._next}else i=0,function l1e(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,o=>{a=this._trackByFn(i,o),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,o,a,i)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,a,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Nse(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new qE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Nse{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kse{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class qE{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new kse,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GE(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class WE{constructor(){}supports(e){return e instanceof Map||Kf(e)}create(){return new Pse}}class Pse{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Kf(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new Rse(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Rse{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KE(){return new tl([new $E])}let tl=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||KE()),deps:[[e,new q7,new jt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:KE}),e})();function YE(){return new qo([new WE])}let qo=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||YE()),deps:[[e,new q7,new jt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:YE}),e})();const Bse=DE(null,"core",[]);let Use=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(G($o))},t.\u0275mod=at({type:t}),t.\u0275inj=et({}),e})();let qd=null;function zr(){return qd}class tae{}const o1=new U("DocumentToken");let rI=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return z(nae)},providedIn:"platform"}),e})(),nae=(()=>{var t;class e extends rI{constructor(){super(),this._doc=z(o1),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zr().getBaseHref(this._doc)}onPopState(r){const i=zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function iI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function sI(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function xi(t){return t&&"?"!==t[0]?"?"+t:t}let rl=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return z(iae)},providedIn:"root"}),e})();const rae=new U("appBaseHref");let iae=(()=>{var t;class e extends rl{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??z(o1).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return iI(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+xi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,a){const o=this.prepareExternalUrl(s+xi(a));this._platformLocation.pushState(r,i,o)}replaceState(r,i,s,a){const o=this.prepareExternalUrl(s+xi(a));this._platformLocation.replaceState(r,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(G(rI),G(rae,8))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Gd=(()=>{var t;class e{constructor(r){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function oae(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(sI(aI(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+xi(i))}normalize(r){return e.stripTrailingSlash(function aae(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,aI(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=xi,t.joinWithSlash=iI,t.stripTrailingSlash=sI,t.\u0275fac=function(r){return new(r||t)(G(rl))},t.\u0275prov=B({token:t,factory:function(){return function sae(){return new Gd(G(rl))}()},providedIn:"root"}),e})();function aI(t){return t.replace(/\/index.html$/,"")}var il=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(il||{}),yt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(yt||{});function _1(t,e){const n=D2(t),r=n[Pe.NumberSymbols][e];if(typeof r>"u"){if(e===yt.CurrencyDecimal)return n[Pe.NumberSymbols][yt.Decimal];if(e===yt.CurrencyGroup)return n[Pe.NumberSymbols][yt.Group]}return r}const Tae=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function e9(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const n9=/\s+/,mI=[];let r9=(()=>{var t;class e{constructor(r,i,s,a){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this.initialClasses=mI,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(n9):mI}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(n9):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(n9).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(V(tl),V(qo),V(g2),V(sn))},t.\u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Wae{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pl=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,a,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Wae(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===a?void 0:a);else if(null!==a){const c=i.get(a);i.move(c,o),vI(c,s)}});for(let s=0,a=i.length;s<a;s++){const c=i.get(s).context;c.index=s,c.count=a,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{vI(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(V(P1),V(Pn),V(tl))},t.\u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function vI(t,e){t.context.$implicit=e.item}let Ei=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Kae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){yI("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){yI("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(V(P1),V(Pn))},t.\u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Kae{constructor(){this.$implicit=null,this.ngIf=null}}function yI(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Lt(e)}'.`)}function O1(t,e){return new S(2100,!1)}class Xae{createSubscription(e,n){return Gb(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Gb(()=>e.unsubscribe())}}class Jae{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Zae=new Jae,e4e=new Xae;let Ko=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Lo(r))return Zae;if(ZS(r))return e4e;throw O1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(V(Si,16))},t.\u0275pipe=Bt({name:"async",type:t,pure:!1,standalone:!0}),e})(),CI=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=MI}transform(r,i=MI){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),a=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function h4e(t,e){return{key:t,value:e}}(o.key,o.currentValue))})),(s||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(V(qo,16))},t.\u0275pipe=Bt({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function MI(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let ya=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function a9(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function Fae(t,e,n){return function Jd(t,e,n,r,i,s,a=!1){let o="",c=!1;if(isFinite(t)){let l=function Uae(t){let r,i,s,a,o,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(o=e.length))r=[0],i=1;else{for(o--;"0"===e.charAt(o);)o--;for(i-=s,r=[],a=0;s<=o;s++,a++)r[a]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);a&&(l=function Bae(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const y=s.match(Tae);if(null===y)throw new Error(`${s} is not a valid digit info`);const w=y[1],L=y[3],k=y[5];null!=w&&(u=e9(w)),null!=L&&(f=e9(L)),null!=k?d=e9(k):null!=L&&f>d&&(d=f)}!function jae(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let a=s+t.integerLen,o=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let f=a;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let f=1;f<a;f++)r[f]=0}if(o>=5)if(a-1<0){for(let f=0;f>a;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(c=h.every(y=>!y);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const _=[];for(h.length>=e.lgSize&&_.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)_.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),o=_.join(_1(n,r)),v.length&&(o+=_1(n,i)+v.join("")),g&&(o+=_1(n,yt.Exponential)+"+"+g)}else o=_1(n,yt.Infinity);return o=t<0&&!c?e.negPre+o+e.negSuf:e.posPre+o+e.posSuf,o}(t,function Zd(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],o=a[0],c=a[1]||"";n.posPre=o.substring(0,o.indexOf("#"));for(let u=0;u<c.length;u++){const f=c.charAt(u);"0"===f?n.minFrac=n.maxFrac=u+1:"#"===f?n.maxFrac=u+1:n.posSuf+=f}const l=o.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf("#");n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Wd(t,e){return D2(t)[Pe.NumberFormats][e]}(e,il.Decimal),_1(e,yt.MinusSign)),e,yt.Group,yt.Decimal,n)}(function o9(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(a){throw O1()}}}return(t=e).\u0275fac=function(r){return new(r||t)(V(Rn,16))},t.\u0275pipe=Bt({name:"number",type:t,pure:!0,standalone:!0}),e})();let g4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t}),t.\u0275inj=et({}),e})();const v4e="server";function c9(t){return t===v4e}class $4e extends tae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f9 extends $4e{static makeCurrent(){!function eae(t){qd||(qd=t)}(new f9)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function q4e(){return Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null}();return null==n?null:function G4e(t){vl=vl||document.createElement("a"),vl.setAttribute("href",t);const e=vl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function qae(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let vl,Qo=null,K4e=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();const d9=new U("EventManagerPlugins");let zI=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(G(d9),G(Me))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();class xI{constructor(e){this._doc=e}}const h9="ng-app-id";let EI=(()=>{var t;class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=c9(a),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${h9}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(h9),a;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(h9,this.appId),o}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const a=this.styleRef,o=a.get(i)?.elements;o?o.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(G(o1),G(M0),G(PH,8),G(Tn))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();const p9={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},m9=/%COMP%/g,J4e=new U("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function LI(t,e){return e.map(n=>n.replace(m9,t))}let DI=(()=>{var t;class e{constructor(r,i,s,a,o,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=c9(c),this.defaultRenderer=new g9(r,o,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===z1.ShadowDom&&(i={...i,encapsulation:z1.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof TI?s.applyToHost(r):s instanceof v9&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let a=s.get(i.id);if(!a){const o=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case z1.Emulated:a=new TI(l,u,i,this.appId,f,o,c,d);break;case z1.ShadowDom:return new noe(l,u,r,i,o,c,this.nonce,d);default:a=new v9(l,u,i,f,o,c,d)}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(G(zI),G(EI),G(M0),G(J4e),G(o1),G(Tn),G(Me),G(PH))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();class g9{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(p9[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(AI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(AI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=p9[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=p9[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(br.DashCase|br.Important)?e.style.setProperty(n,r,i&br.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&br.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=zr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function AI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class noe extends g9{constructor(e,n,r,i,s,a,o,c){super(e,s,a,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=LI(i.id,i.styles);for(const u of l){const f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class v9 extends g9{constructor(e,n,r,i,s,a,o,c){super(e,s,a,o),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?LI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class TI extends v9{constructor(e,n,r,i,s,a,o,c){const l=i+"-"+r.id;super(e,n,r,s,a,o,c,l),this.contentAttr=function Z4e(t){return"_ngcontent-%COMP%".replace(m9,t)}(l),this.hostAttr=function eoe(t){return"_nghost-%COMP%".replace(m9,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let roe=(()=>{var t;class e extends xI{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(G(o1))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();const NI=["alt","control","meta","shift"],ioe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},soe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let aoe=(()=>{var t;class e extends xI{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const a=e.parseEventName(i),o=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zr().onAndCancel(r,a.domEventName,o))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),NI.forEach(u=>{const f=i.indexOf(u);f>-1&&(i.splice(f,1),o+=u+".")}),o+=a,0!=i.length||0===a.length)return null;const l={};return l.domEventName=s,l.fullKey=o,l}static matchEventFullKeyCode(r,i){let s=ioe[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),NI.forEach(o=>{o!==s&&(0,soe[o])(r)&&(a+=o+".")}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(G(o1))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();const PI=[{provide:Tn,useValue:"browser"},{provide:kH,useValue:function ooe(){f9.makeCurrent()},multi:!0},{provide:o1,useFactory:function loe(){return function Xee(t){uf=t}(document),document},deps:[]}],uoe=DE(Bse,"browser",PI),foe=new U(""),RI=[{provide:X0,useClass:class W4e{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length,a=!1;const o=function(c){a=a||c,s--,0==s&&r(a)};i.forEach(c=>{c.whenStable(o)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?zr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:zE,useClass:Nd,deps:[Me,kd,X0]},{provide:Nd,useClass:Nd,deps:[Me,kd,X0]}],OI=[{provide:_f,useValue:"root"},{provide:Ci,useFactory:function coe(){return new Ci},deps:[]},{provide:d9,useClass:roe,multi:!0,deps:[o1,Me,Tn]},{provide:d9,useClass:aoe,multi:!0,deps:[o1]},DI,EI,zI,{provide:$H,useExisting:DI},{provide:class M4e{},useClass:K4e,deps:[]},[]];let Bn=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:M0,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(G(foe,12))},t.\u0275mod=at({type:t}),t.\u0275inj=et({providers:[...OI,...RI],imports:[g4e,Use]}),e})(),y9=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(G(o1))},t.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new r:function hoe(){return new y9(G(o1))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let UI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new(r||t):G(jI),i},providedIn:"root"}),e})(),jI=(()=>{var t;class e extends UI{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case v1.NONE:return i;case v1.HTML:return rn(i,"HTML")?s1(i):VH(this._doc,String(i)).toString();case v1.STYLE:return rn(i,"Style")?s1(i):i;case v1.SCRIPT:if(rn(i,"Script"))return s1(i);throw new S(5200,!1);case v1.URL:return rn(i,"URL")?s1(i):m0(String(i));case v1.RESOURCE_URL:if(rn(i,"ResourceURL"))return s1(i);throw new S(5201,!1);default:throw new S(5202,!1)}}bypassSecurityTrustHtml(r){return function ite(t){return new Jee(t)}(r)}bypassSecurityTrustStyle(r){return function ste(t){return new Zee(t)}(r)}bypassSecurityTrustScript(r){return function ate(t){return new ete(t)}(r)}bypassSecurityTrustUrl(r){return function ote(t){return new tte(t)}(r)}bypassSecurityTrustResourceUrl(r){return function cte(t){return new nte(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(G(o1))},t.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new r:function voe(t){return new jI(t.get(o1))}(G(At)),i},providedIn:"root"}),e})();var lD={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},aA={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},ST={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},R9={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},Zo={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},jk={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},ah={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function _R(t,e,n,r,i,s,a){try{var o=t[s](a),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(c){_R(s,r,i,a,o,"next",c)}function o(c){_R(s,r,i,a,o,"throw",c)}a(void 0)})}}const CR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},mh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let d=(15&o)<<2|l>>6,h=63&l;c||(h=64,a||(d=64)),r.push(n[s>>2],n[(3&s)<<4|o>>4],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==l||null==f)throw new Uze;r.push(s<<2|o>>4),64!==l&&(r.push(o<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Uze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Al=function(t){return function(t){const e=CR(t);return mh.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Tl=function(t){try{return mh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nl=()=>{try{return wR().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tl(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},bR=t=>{var e,n;return null===(n=null===(e=Nl())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},VR=()=>{var t;return null===(t=Nl())||void 0===t?void 0:t.config},HR=t=>{var e;return null===(e=Nl())||void 0===e?void 0:e[`_${t}`]};class _a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function gh(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Er(){try{return"object"==typeof indexedDB}catch{return!1}}function r3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function vh(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class M1 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,M1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}}class ln{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?function txe(t,e){return t.replace(nxe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new M1(i,`${this.serviceName}: ${a} (${i}).`,r)}}const nxe=/\{\$([^}]+)}/g;function i3(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(zR(s)&&zR(a)){if(!i3(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zR(t){return null!==t&&"object"==typeof t}function s3(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function a3(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function o3(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class sxe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function axe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=yh),void 0===i.error&&(i.error=yh),void 0===i.complete&&(i.complete=yh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yh(){}const oxe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},cxe=1e3,lxe=2,uxe=144e5,fxe=.5;function Pl(t,e=cxe,n=lxe){const r=e*Math.pow(n,t),i=Math.round(fxe*r*(Math.random()-.5)*2);return Math.min(uxe,r+i)}function rt(t){return t&&t._delegate?t._delegate:t}class y2{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ii="[DEFAULT]";class hxe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _a;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function mxe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&a.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ii?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gxe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hxe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Ch=[];var ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{});const xR={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},vxe=ye.INFO,yxe={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},_xe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=yxe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ca{constructor(e){this.name=e,this._logLevel=vxe,this._logHandler=_xe,this._userLogHandler=null,Ch.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?xR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const Cxe=(t,e)=>e.some(n=>t instanceof n);let ER,IR;const LR=new WeakMap,Mh=new WeakMap,DR=new WeakMap,wh=new WeakMap,bh=new WeakMap;let Vh={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Mh.get(t);if("objectStoreNames"===e)return t.objectStoreNames||DR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function zxe(t){return"function"==typeof t?function Sxe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wxe(){return IR||(IR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Hh(this),e),Ir(LR.get(this))}:function(...e){return Ir(t.apply(Hh(this),e))}:function(e,...n){const r=t.call(Hh(this),e,...n);return DR.set(r,e.sort?e.sort():[e]),Ir(r)}}(t):(t instanceof IDBTransaction&&function Vxe(t){if(Mh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Mh.set(t,e)}(t),Cxe(t,function Mxe(){return ER||(ER=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Vh):t)}function Ir(t){if(t instanceof IDBRequest)return function bxe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ir(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&LR.set(n,t)}).catch(()=>{}),bh.set(e,t),e}(t);if(wh.has(t))return wh.get(t);const e=zxe(t);return e!==t&&(wh.set(t,e),bh.set(e,t)),e}const Hh=t=>bh.get(t),Exe=["get","getKey","getAll","getAllKeys","count"],Ixe=["put","add","delete","clear"],Sh=new Map;function AR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Sh.get(e))return Sh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ixe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Exe.includes(n))return;const s=function(){var a=m(function*(o,...c){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return a.apply(this,arguments)}}();return Sh.set(e,s),s}!function Hxe(t){Vh=t(Vh)}(t=>({...t,get:(e,n,r)=>AR(e,n)||t.get(e,n,r),has:(e,n)=>!!AR(e,n)||t.has(e,n)}));class Lxe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Dxe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const zh="@firebase/app",Li=new Ca("@firebase/app"),Rl="[DEFAULT]",iEe={[zh]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Di=new Map,Ol=new Map;function sEe(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function N2(t){const e=t.name;if(Ol.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Ol.set(e,t);for(const n of Di.values())sEe(n,t);return!0}function un(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Un=new ln("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class oEe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new y2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const Ai="9.23.0";function NR(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Rl,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Un.create("bad-app-name",{appName:String(i)});if(n||(n=VR()),!n)throw Un.create("no-options");const s=Di.get(i);if(s){if(i3(n,s.options)&&i3(r,s.config))return s;throw Un.create("duplicate-app",{appName:i})}const a=new gxe(i);for(const c of Ol.values())a.addComponent(c);const o=new oEe(n,r,a);return Di.set(i,o),o}function Ma(t=Rl){const e=Di.get(t);if(!e&&t===Rl&&VR())return NR();if(!e)throw Un.create("no-app",{appName:t});return e}function kR(){return Array.from(Di.values())}function Fe(t,e,n){var r;let i=null!==(r=iEe[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];return s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Li.warn(o.join(" "))}N2(new y2(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const cEe="firebase-heartbeat-database",lEe=1,c3="firebase-heartbeat-store";let Eh=null;function PR(){return Eh||(Eh=function xxe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ir(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ir(a.result),c.oldVersion,c.newVersion,Ir(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}(cEe,lEe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(c3)}}).catch(t=>{throw Un.create("idb-open",{originalErrorMessage:t.message})})),Eh}function Ih(){return(Ih=m(function*(t){try{return yield(yield PR()).transaction(c3).objectStore(c3).get(OR(t))}catch(e){if(e instanceof M1)Li.warn(e.message);else{const n=Un.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}})).apply(this,arguments)}function RR(t,e){return Lh.apply(this,arguments)}function Lh(){return(Lh=m(function*(t,e){try{const r=(yield PR()).transaction(c3,"readwrite");yield r.objectStore(c3).put(e,OR(t)),yield r.done}catch(n){if(n instanceof M1)Li.warn(n.message);else{const r=Un.create("idb-set",{originalErrorMessage:n?.message});Li.warn(r.message)}}})).apply(this,arguments)}function OR(t){return`${t.name}!${t.options.appId}`}class hEe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mEe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=FR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=FR(),{heartbeatsToSend:r,unsentEntries:i}=function pEe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),BR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Al(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function FR(){return(new Date).toISOString().substring(0,10)}class mEe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Er()&&r3().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function uEe(t){return Ih.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return RR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return RR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function BR(t){return Al(JSON.stringify({version:2,heartbeats:t})).length}!function gEe(t){N2(new y2("platform-logger",e=>new Lxe(e),"PRIVATE")),N2(new y2("heartbeat",e=>new hEe(e),"PRIVATE")),Fe(zh,"0.9.13",t),Fe(zh,"0.9.13","esm2017"),Fe("fire-js","")}(""),Fe("firebase","9.23.0","app");const _Ee=(t,e)=>e.some(n=>t instanceof n);let UR,jR;const $R=new WeakMap,Dh=new WeakMap,qR=new WeakMap,Ah=new WeakMap,Th=new WeakMap;let Nh={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Dh.get(t);if("objectStoreNames"===e)return t.objectStoreNames||qR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function SEe(t){return"function"==typeof t?function HEe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function MEe(){return jR||(jR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(kh(this),e),Lr($R.get(this))}:function(...e){return Lr(t.apply(kh(this),e))}:function(e,...n){const r=t.call(kh(this),e,...n);return qR.set(r,e.sort?e.sort():[e]),Lr(r)}}(t):(t instanceof IDBTransaction&&function bEe(t){if(Dh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Dh.set(t,e)}(t),_Ee(t,function CEe(){return UR||(UR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Nh):t)}function Lr(t){if(t instanceof IDBRequest)return function wEe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Lr(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&$R.set(n,t)}).catch(()=>{}),Th.set(e,t),e}(t);if(Ah.has(t))return Ah.get(t);const e=SEe(t);return e!==t&&(Ah.set(t,e),Th.set(e,t)),e}const kh=t=>Th.get(t),xEe=["get","getKey","getAll","getAllKeys","count"],EEe=["put","add","delete","clear"],Ph=new Map;function GR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Ph.get(e))return Ph.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EEe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xEe.includes(n))return;const s=function(){var a=m(function*(o,...c){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return a.apply(this,arguments)}}();return Ph.set(e,s),s}!function VEe(t){Nh=t(Nh)}(t=>({...t,get:(e,n,r)=>GR(e,n)||t.get(e,n,r),has:(e,n)=>!!GR(e,n)||t.has(e,n)}));const WR="@firebase/installations",Rh="0.6.4",KR=1e4,YR=`w:${Rh}`,QR="FIS_v2",IEe="https://firebaseinstallations.googleapis.com/v1",LEe=36e5,jn=new ln("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function XR(t){return t instanceof M1&&t.code.includes("request-failed")}function Oh({projectId:t}){return`${IEe}/projects/${t}/installations`}function JR(t){return{token:t.token,requestStatus:2,expiresIn:NEe(t.expiresIn),creationTime:Date.now()}}function Fh(t,e){return Bh.apply(this,arguments)}function Bh(){return(Bh=m(function*(t,e){const r=(yield e.json()).error;return jn.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function ZR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Uh(t){return jh.apply(this,arguments)}function jh(){return(jh=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function NEe(t){return Number(t.replace("s","000"))}function $h(){return($h=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Oh(t),i=ZR(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:QR,appId:t.appId,sdkVersion:YR})},c=yield Uh(()=>fetch(r,o));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:JR(l.authToken)}}throw yield Fh("Create Installation",c)})).apply(this,arguments)}function tO(t){return new Promise(e=>{setTimeout(e,t)})}const OEe=/^[cdef][\w-]{21}$/,qh="";function FEe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function BEe(t){return function REe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return OEe.test(n)?n:qh}catch{return qh}}function wa(t){return`${t.appName}!${t.appId}`}const ba=new Map;function nO(t,e){const n=wa(t);rO(n,e),function $Ee(t,e){const n=function iO(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=t=>{rO(t.data.key,t.data.fid)}),Ti}();n&&n.postMessage({key:t,fid:e}),function sO(){0===ba.size&&Ti&&(Ti.close(),Ti=null)}()}(n,e)}function rO(t,e){const n=ba.get(t);if(n)for(const r of n)r(e)}let Ti=null;const qEe="firebase-installations-database",GEe=1,Ni="firebase-installations-store";let Gh=null;function Wh(){return Gh||(Gh=function zEe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Lr(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Lr(a.result),c.oldVersion,c.newVersion,Lr(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}(qEe,GEe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ni)}})),Gh}function Fl(t,e){return Kh.apply(this,arguments)}function Kh(){return(Kh=m(function*(t,e){const n=wa(t),i=(yield Wh()).transaction(Ni,"readwrite"),s=i.objectStore(Ni),a=yield s.get(n);return yield s.put(e,n),yield i.done,(!a||a.fid!==e.fid)&&nO(t,e.fid),e})).apply(this,arguments)}function Yh(t){return Qh.apply(this,arguments)}function Qh(){return(Qh=m(function*(t){const e=wa(t),r=(yield Wh()).transaction(Ni,"readwrite");yield r.objectStore(Ni).delete(e),yield r.done})).apply(this,arguments)}function l3(t,e){return Xh.apply(this,arguments)}function Xh(){return(Xh=m(function*(t,e){const n=wa(t),i=(yield Wh()).transaction(Ni,"readwrite"),s=i.objectStore(Ni),a=yield s.get(n),o=e(a);return void 0===o?yield s.delete(n):yield s.put(o,n),yield i.done,o&&(!a||a.fid!==o.fid)&&nO(t,o.fid),o})).apply(this,arguments)}function Jh(t){return Zh.apply(this,arguments)}function Zh(){return Zh=m(function*(t){let e;const n=yield l3(t.appConfig,r=>{const i=function WEe(t){return oO(t||{fid:FEe(),registrationStatus:0})}(r),s=function KEe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(jn.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function YEe(t,e){return ep.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:QEe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===qh?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Zh.apply(this,arguments)}function ep(){return ep=m(function*(t,e){try{const n=yield function PEe(t,e){return $h.apply(this,arguments)}(t,e);return Fl(t.appConfig,n)}catch(n){throw XR(n)&&409===n.customData.serverCode?yield Yh(t.appConfig):yield Fl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),ep.apply(this,arguments)}function QEe(t){return tp.apply(this,arguments)}function tp(){return(tp=m(function*(t){let e=yield aO(t.appConfig);for(;1===e.registrationStatus;)yield tO(100),e=yield aO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Jh(t);return r||n}return e})).apply(this,arguments)}function aO(t){return l3(t,e=>{if(!e)throw jn.create("installation-not-found");return oO(e)})}function oO(t){return function XEe(t){return 1===t.registrationStatus&&t.registrationTime+KR<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function np(){return(np=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function ZEe(t,{fid:e}){return`${Oh(t)}/${e}/authTokens:generate`}(t,n),i=function eO(t,{refreshToken:e}){const n=ZR(t);return n.append("Authorization",function kEe(t){return`${QR} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:YR,appId:t.appId}})},c=yield Uh(()=>fetch(r,o));if(c.ok)return JR(yield c.json());throw yield Fh("Generate Auth Token",c)})).apply(this,arguments)}function rp(t){return ip.apply(this,arguments)}function ip(){return ip=m(function*(t,e=!1){let n;const r=yield l3(t.appConfig,s=>{if(!lO(s))throw jn.create("not-registered");const a=s.authToken;if(!e&&function nIe(t){return 2===t.requestStatus&&!function rIe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+LEe}(t)}(a))return s;if(1===a.requestStatus)return n=function eIe(t,e){return sp.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw jn.create("app-offline");const o=function iIe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function tIe(t,e){return ap.apply(this,arguments)}(t,o),o}});return n?yield n:r.authToken}),ip.apply(this,arguments)}function sp(){return(sp=m(function*(t,e){let n=yield cO(t.appConfig);for(;1===n.authToken.requestStatus;)yield tO(100),n=yield cO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?rp(t,e):r})).apply(this,arguments)}function cO(t){return l3(t,e=>{if(!lO(e))throw jn.create("not-registered");return function sIe(t){return 1===t.requestStatus&&t.requestTime+KR<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ap(){return ap=m(function*(t,e){try{const n=yield function JEe(t,e){return np.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Fl(t.appConfig,r),n}catch(n){if(!XR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Fl(t.appConfig,r)}else yield Yh(t.appConfig);throw n}}),ap.apply(this,arguments)}function lO(t){return void 0!==t&&2===t.registrationStatus}function op(){return(op=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Jh(e);return r?r.catch(console.error):rp(e).catch(console.error),n.fid})).apply(this,arguments)}function cp(){return cp=m(function*(t,e=!1){const n=t;return yield function cIe(t){return lp.apply(this,arguments)}(n),(yield rp(n,e)).token}),cp.apply(this,arguments)}function lp(){return(lp=m(function*(t){const{registrationPromise:e}=yield Jh(t);e&&(yield e)})).apply(this,arguments)}function dp(t){return jn.create("missing-app-config-values",{valueName:t})}const uO="installations",hIe=t=>{const e=t.getProvider("app").getImmediate(),n=function fIe(t){if(!t||!t.options)throw dp("App Configuration");if(!t.name)throw dp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw dp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:un(e,"heartbeat"),_delete:()=>Promise.resolve()}},pIe=t=>{const n=un(t.getProvider("app").getImmediate(),uO).getImmediate();return{getId:()=>function aIe(t){return op.apply(this,arguments)}(n),getToken:i=>function oIe(t){return cp.apply(this,arguments)}(n,i)}};(function mIe(){N2(new y2(uO,hIe,"PUBLIC")),N2(new y2("installations-internal",pIe,"PRIVATE"))})(),Fe(WR,Rh),Fe(WR,Rh,"esm2017");const hp="@firebase/remote-config",K2=new ln("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class SIe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),a=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&a.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(a),s})()}}function zIe(t=navigator){return t.languages&&t.languages[0]||t.language}class xIe{constructor(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:zIe()},l={method:"POST",headers:o,body:JSON.stringify(c)},u=fetch(a,l),f=new Promise((_,y)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",y(w)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(_){let y="fetch-client-network";throw"AbortError"===_?.name&&(y="fetch-timeout"),K2.create(y,{originalErrorMessage:_?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(200===d.status){let _;try{_=yield d.json()}catch(y){throw K2.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=_.entries,v=_.state}if("INSTANCE_STATE_UNSPECIFIED"===v?h=500:"NO_CHANGE"===v?h=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==h&&200!==h)throw K2.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class LIe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function EIe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(K2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function IIe(t){if(!(t instanceof M1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const a={throttleEndTimeMillis:Date.now()+Pl(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(a),i.attemptFetch(e,a)}})()}}class TIe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ul(t,e){const n=t.target.error||void 0;return K2.create(e,{originalErrorMessage:n&&n?.message})}const ki="app_namespace_store";class RIe{constructor(e,n,r,i=function PIe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Ul(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ki,{keyPath:"compositeKey"})}}catch(n){e(K2.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([ki],"readonly").objectStore(ki),c=n.createCompositeKey(e);try{const l=o.get(c);l.onerror=u=>{s(Ul(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(K2.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,a)=>{const c=i.transaction([ki],"readwrite").objectStore(ki),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:n});u.onerror=f=>{a(Ul(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){a(K2.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([ki],"readwrite").objectStore(ki),c=n.createCompositeKey(e);try{const l=o.delete(c);l.onerror=u=>{s(Ul(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(K2.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class OIe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const a=yield r;a&&(e.lastSuccessfulFetchTimestampMillis=a);const o=yield i;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function BIe(){return yp.apply(this,arguments)}function yp(){return(yp=m(function*(){if(!Er())return!1;try{return yield r3()}catch{return!1}})).apply(this,arguments)}!function FIe(){N2(new y2("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw K2.create("registration-window");if(!Er())throw K2.create("indexed-db-unavailable");const{projectId:s,apiKey:a,appId:o}=r.options;if(!s)throw K2.create("registration-project-id");if(!a)throw K2.create("registration-api-key");if(!o)throw K2.create("registration-app-id");const c=new RIe(o,r.name,n=n||"firebase"),l=new OIe(c),u=new Ca(hp);u.logLevel=ye.ERROR;const f=new xIe(i,Ai,n,s,a,o),d=new LIe(f,c),h=new SIe(d,c,l,u),p=new TIe(r,h,l,c,u);return function bIe(t){const e=rt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Fe(hp,"0.4.4"),Fe(hp,"0.4.4","esm2017")}();const UIe=(t,e)=>e.some(n=>t instanceof n);let pO,mO;const gO=new WeakMap,_p=new WeakMap,vO=new WeakMap,Cp=new WeakMap,Mp=new WeakMap;let wp={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return _p.get(t);if("objectStoreNames"===e)return t.objectStoreNames||vO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function YIe(t){return"function"==typeof t?function KIe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $Ie(){return mO||(mO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(bp(this),e),$n(gO.get(this))}:function(...e){return $n(t.apply(bp(this),e))}:function(e,...n){const r=t.call(bp(this),e,...n);return vO.set(r,e.sort?e.sort():[e]),$n(r)}}(t):(t instanceof IDBTransaction&&function GIe(t){if(_p.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});_p.set(t,e)}(t),UIe(t,function jIe(){return pO||(pO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,wp):t)}function $n(t){if(t instanceof IDBRequest)return function qIe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n($n(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&gO.set(n,t)}).catch(()=>{}),Mp.set(e,t),e}(t);if(Cp.has(t))return Cp.get(t);const e=YIe(t);return e!==t&&(Cp.set(t,e),Mp.set(e,t)),e}const bp=t=>Mp.get(t);function yO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=$n(a);return r&&a.addEventListener("upgradeneeded",c=>{r($n(a.result),c.oldVersion,c.newVersion,$n(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}function Vp(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),$n(n).then(()=>{})}const QIe=["get","getKey","getAll","getAllKeys","count"],XIe=["put","add","delete","clear"],Hp=new Map;function _O(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Hp.get(e))return Hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XIe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!QIe.includes(n))return;const s=function(){var a=m(function*(o,...c){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return a.apply(this,arguments)}}();return Hp.set(e,s),s}!function WIe(t){wp=t(wp)}(t=>({...t,get:(e,n,r)=>_O(e,n)||t.get(e,n,r),has:(e,n)=>!!_O(e,n)||t.has(e,n)}));const JIe="/firebase-messaging-sw.js",ZIe="/firebase-cloud-messaging-push-scope",CO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eLe="https://fcmregistrations.googleapis.com/v1",MO="google.c.a.c_id",tLe="google.c.a.c_l",nLe="google.c.a.ts";var jl=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(jl||{});function qn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sLe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Sp="fcm_token_details_db",aLe=5,wO="fcm_token_object_Store";function zp(){return zp=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Sp))return null;let e=null;return(yield yO(Sp,aLe,{upgrade:(r=m(function*(i,s,a,o){var c;if(s<2||!i.objectStoreNames.contains(wO))return;const l=o.objectStore(wO),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(c=f.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:qn(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:qn(f.auth),p256dh:qn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:qn(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:qn(f.auth),p256dh:qn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:qn(f.vapidKey)}}}}),function(s,a,o,c){return r.apply(this,arguments)})})).close(),yield Vp(Sp),yield Vp("fcm_vapid_details_db"),yield Vp("undefined"),function cLe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),zp.apply(this,arguments)}const lLe="firebase-messaging-database",uLe=1,Pi="firebase-messaging-store";let xp=null;function Ep(){return xp||(xp=yO(lLe,uLe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Pi)}})),xp}function bO(t){return Ip.apply(this,arguments)}function Ip(){return Ip=m(function*(t){const e=Tp(t),r=yield(yield Ep()).transaction(Pi).objectStore(Pi).get(e);if(r)return r;{const i=yield function oLe(t){return zp.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield Lp(t,i),i}}),Ip.apply(this,arguments)}function Lp(t,e){return Dp.apply(this,arguments)}function Dp(){return(Dp=m(function*(t,e){const n=Tp(t),i=(yield Ep()).transaction(Pi,"readwrite");return yield i.objectStore(Pi).put(e,n),yield i.done,e})).apply(this,arguments)}function Ap(){return(Ap=m(function*(t){const e=Tp(t),r=(yield Ep()).transaction(Pi,"readwrite");yield r.objectStore(Pi).delete(e),yield r.done})).apply(this,arguments)}function Tp({appConfig:t}){return t.appId}const a2=new ln("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hLe(t,e){return Np.apply(this,arguments)}function Np(){return(Np=m(function*(t,e){const n=yield Op(t),r=HO(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Rp(t.appConfig),i)).json()}catch(a){throw a2.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(s.error)throw a2.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw a2.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function kp(){return(kp=m(function*(t,e){const n=yield Op(t),r=HO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Rp(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw a2.create("token-update-failed",{errorInfo:a?.toString()})}if(s.error)throw a2.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw a2.create("token-update-no-token");return s.token})).apply(this,arguments)}function VO(t,e){return Pp.apply(this,arguments)}function Pp(){return(Pp=m(function*(t,e){const r={method:"DELETE",headers:yield Op(t)};try{const s=yield(yield fetch(`${Rp(t.appConfig)}/${e}`,r)).json();if(s.error)throw a2.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw a2.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Rp({projectId:t}){return`${eLe}/projects/${t}/registrations`}function Op(t){return Fp.apply(this,arguments)}function Fp(){return(Fp=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function HO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==CO&&(i.web.applicationPubKey=r),i}const mLe=6048e5;function Bp(){return Bp=m(function*(t){const e=yield function yLe(t,e){return qp.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:qn(e.getKey("auth")),p256dh:qn(e.getKey("p256dh"))},r=yield bO(t.firebaseDependencies);if(r){if(function _Le(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+mLe?function vLe(t,e){return jp.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield VO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return zO(t.firebaseDependencies,n)}return zO(t.firebaseDependencies,n)}),Bp.apply(this,arguments)}function Up(){return Up=m(function*(t){const e=yield bO(t.firebaseDependencies);e&&(yield VO(t.firebaseDependencies,e.token),yield function fLe(t){return Ap.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Up.apply(this,arguments)}function jp(){return jp=m(function*(t,e){try{const n=yield function pLe(t,e){return kp.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Lp(t.firebaseDependencies,r),n}catch(n){throw yield function SO(t){return Up.apply(this,arguments)}(t),n}}),jp.apply(this,arguments)}function zO(t,e){return $p.apply(this,arguments)}function $p(){return($p=m(function*(t,e){const r={token:yield hLe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Lp(t,r),r.token})).apply(this,arguments)}function qp(){return(qp=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sLe(e)})})).apply(this,arguments)}function xO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function CLe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function MLe(t,e){e.data&&(t.data=e.data)}(e,t),function wLe(t,e){var n,r,i,s,a;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const o=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;o&&(t.fcmOptions.link=o);const c=null===(a=e.fcmOptions)||void 0===a?void 0:a.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function EO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Gp(t){return a2.create("missing-app-config-values",{valueName:t})}EO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),EO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class HLe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function VLe(t){if(!t||!t.options)throw Gp("App Configuration Object");if(!t.name)throw Gp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Gp(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Wp(){return(Wp=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(JIe,{scope:ZIe}),t.swRegistration.update().catch(()=>{})}catch(e){throw a2.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Kp(){return(Kp=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function IO(t){return Wp.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw a2.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Yp(){return(Yp=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=CO)})).apply(this,arguments)}function Qp(){return Qp=m(function*(t,e){if(!navigator)throw a2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw a2.create("permission-blocked");return yield function zLe(t,e){return Yp.apply(this,arguments)}(t,e?.vapidKey),yield function SLe(t,e){return Kp.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function gLe(t){return Bp.apply(this,arguments)}(t)}),Qp.apply(this,arguments)}function Xp(){return(Xp=m(function*(t,e,n){const r=function ELe(t){switch(t){case jl.NOTIFICATION_CLICKED:return"notification_open";case jl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[MO],message_name:n[tLe],message_time:n[nLe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jp(){return Jp=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===jl.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(xO(n)):t.onMessageHandler.next(xO(n)));const r=n.data;(function bLe(t){return"object"==typeof t&&!!t&&MO in t})(r)&&"1"===r["google.c.a.e"]&&(yield function xLe(t,e,n){return Xp.apply(this,arguments)}(t,n.messageType,r))}),Jp.apply(this,arguments)}const DO="@firebase/messaging",LLe=t=>{const e=new HLe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function ILe(t,e){return Jp.apply(this,arguments)}(e,n)),e},DLe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function LO(t,e){return Qp.apply(this,arguments)}(e,r)}};function TO(){return Zp.apply(this,arguments)}function Zp(){return(Zp=m(function*(){try{yield r3()}catch{return!1}return typeof window<"u"&&Er()&&vh()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ALe(){N2(new y2("messaging",LLe,"PUBLIC")),N2(new y2("messaging-internal",DLe,"PRIVATE")),Fe(DO,"0.12.4"),Fe(DO,"0.12.4","esm2017")}();const $l="analytics",kLe="firebase_id",PLe="origin",RLe=6e4,OLe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nm="https://www.googletagmanager.com/gtag/js",Gt=new Ca("@firebase/analytics"),k2=new ln("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function BLe(t){if(!t.startsWith(nm)){const e=k2.create("invalid-gtag-resource",{gtagURL:t});return Gt.warn(e.message),""}return t}function NO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rm(){return(rm=m(function*(t,e,n,r,i,s){const a=r[i];try{if(a)yield e[a];else{const c=(yield NO(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(o){Gt.error(o)}t("config",i,s)})).apply(this,arguments)}function im(){return(im=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=yield NO(n);for(const c of a){const l=o.find(f=>f.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Gt.error(s)}})).apply(this,arguments)}const QLe=30,kO=new class JLe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ZLe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function sm(){return(sm=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:ZLe(r)},s=OLe.replace("{app-id}",n),a=yield fetch(s,i);if(200!==a.status&&304!==a.status){let o="";try{const c=yield a.json();null!==(e=c.error)&&void 0!==e&&e.message&&(o=c.error.message)}catch{}throw k2.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()})).apply(this,arguments)}function am(){return(am=m(function*(t,e=kO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw k2.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw k2.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new iDe;return setTimeout(m(function*(){o.abort()}),void 0!==n?n:RLe),PO({appId:r,apiKey:i,measurementId:s},a,o,e)})).apply(this,arguments)}function PO(t,e,n){return om.apply(this,arguments)}function om(){return om=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=kO){var s;const{appId:a,measurementId:o}=t;try{yield function nDe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(k2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(o)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:o};throw c}try{const c=yield function eDe(t){return sm.apply(this,arguments)}(t);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!function rDe(t){if(!(t instanceof M1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(a),o)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:o};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?Pl(n,i.intervalMillis,QLe):Pl(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,f),Gt.debug(`Calling attemptFetch again in ${u} millis`),PO(t,f,r,i)}}),om.apply(this,arguments)}class iDe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let cm,mm;function lm(){return(lm=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function fm(){return(fm=m(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})})).apply(this,arguments)}function gm(){return(gm=m(function*(){if(!Er())return Gt.warn(k2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield r3()}catch(t){return Gt.warn(k2.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function vm(){return vm=m(function*(t,e,n,r,i,s,a){var o;const c=function tDe(t){return am.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Gt.error(h)),e.push(c);const l=function fDe(){return gm.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([c,l]);(function YLe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(nm)&&n.src.includes(t))return n;return null})(s)||function jLe(t,e){const n=function ULe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:BLe}),r=document.createElement("script"),i=`${nm}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),mm&&(i("consent","default",mm),function RO(t){mm=t}(void 0)),i("js",new Date);const d=null!==(o=a?.config)&&void 0!==o?o:{};return d[PLe]="firebase",d.update=!0,null!=f&&(d[kLe]=f),i("config",u.measurementId,d),cm&&(i("set",cm),function OO(t){cm=t}(void 0)),u.measurementId}),vm.apply(this,arguments)}class hDe{constructor(e){this.app=e}_delete(){return delete fn[this.app.options.appId],Promise.resolve()}}let fn={},FO=[];const BO={};let jO,dn,ql="dataLayer",ym=!1;function mDe(t,e,n){!function pDe(){const t=[];if(gh()&&t.push("This is a browser extension environment."),vh()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=k2.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}();const r=t.options.appId;if(!r)throw k2.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw k2.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fn[r])throw k2.create("already-exists",{id:r});if(!ym){!function $Le(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ql);const{wrappedGtag:s,gtagCore:a}=function KLe(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function WLe(t,e,n,r){function s(){return s=m(function*(a,...o){try{if("event"===a){const[c,l]=o;yield function GLe(t,e,n,r,i){return im.apply(this,arguments)}(t,e,n,c,l)}else if("config"===a){const[c,l]=o;yield function qLe(t,e,n,r,i,s){return rm.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===a){const[c]=o;t("consent","update",c)}else if("get"===a){const[c,l,u]=o;t("get",c,l,u)}else if("set"===a){const[c]=o;t("set",c)}else t(a,...o)}catch(c){Gt.error(c)}}),s.apply(this,arguments)}return function i(a){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(fn,FO,BO,ql,"gtag");dn=s,jO=a,ym=!0}return fn[r]=function dDe(t,e,n,r,i,s,a){return vm.apply(this,arguments)}(t,FO,BO,e,jO,ql,n),new hDe(t)}function gDe(t=Ma()){const e=un(t=rt(t),$l);return e.isInitialized()?e.getImmediate():function vDe(t,e={}){const n=un(t,$l);if(n.isInitialized()){const i=n.getImmediate();if(i3(e,n.getOptions()))return i;throw k2.create("already-initialized")}return n.initialize({options:e})}(t)}function yDe(){return _m.apply(this,arguments)}function _m(){return(_m=m(function*(){if(gh()||!vh()||!Er())return!1;try{return yield r3()}catch{return!1}})).apply(this,arguments)}function _De(t,e,n){t=rt(t),function oDe(t,e,n,r){return fm.apply(this,arguments)}(dn,fn[t.app.options.appId],e,n).catch(r=>Gt.error(r))}function $O(t,e,n,r){t=rt(t),function sDe(t,e,n,r,i){return lm.apply(this,arguments)}(dn,fn[t.app.options.appId],e,n,r).catch(i=>Gt.error(i))}const qO="@firebase/analytics";!function CDe(){N2(new y2($l,(e,{options:n})=>mDe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),N2(new y2("analytics-internal",function t(e){try{const n=e.getProvider($l).getImmediate();return{logEvent:(r,i,s)=>$O(n,r,i,s)}}catch(n){throw k2.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Fe(qO,"0.10.0"),Fe(qO,"0.10.0","esm2017")}();class MDe extends J2{constructor(e,n){super()}schedule(e,n=0){return this}}const Gl={setInterval(t,e,...n){const{delegate:r}=Gl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Gl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class WO extends MDe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Gl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Gl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const KO={now:()=>(KO.delegate||Date).now(),delegate:void 0};class u3{constructor(e,n=u3.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}u3.now=KO.now;class YO extends u3{constructor(e,n=u3.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const VDe=new class bDe extends YO{}(class wDe extends WO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),HDe=new YO(WO);function _2(t,e,n){const r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?Vt((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let o=!0;i.subscribe(pt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;o=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;o=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;o&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):gr}const Dr=new Xs("7.6.1"),Mm="__angularfire_symbol__analyticsIsSupportedValue",wm="__angularfire_symbol__analyticsIsSupported",bm="__angularfire_symbol__remoteConfigIsSupportedValue",Vm="__angularfire_symbol__remoteConfigIsSupported",Hm="__angularfire_symbol__messagingIsSupportedValue",Sm="__angularfire_symbol__messagingIsSupported";globalThis[wm]||(globalThis[wm]=yDe().then(t=>globalThis[Mm]=t).catch(()=>globalThis[Mm]=!1)),globalThis[Sm]||(globalThis[Sm]=TO().then(t=>globalThis[Hm]=t).catch(()=>globalThis[Hm]=!1)),globalThis[Vm]||(globalThis[Vm]=BIe().then(t=>globalThis[bm]=t).catch(()=>globalThis[bm]=!1));const Wl={async:()=>globalThis[wm],sync:()=>{const t=globalThis[Mm];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}};function Kl(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(a=>a.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Yl=(t,e)=>{const n=e?[e]:kR(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r};function Va(){}class QO{constructor(e,n=VDe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(a){i.runGuarded(()=>{e.apply(this,[a])})},n,r)}}class SDe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Va,{},Va,Va)),n.pipe(_2({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let f3=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new QO(Zone.current)),this.insideAngular=n.run(()=>new QO(Zone.current,HDe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(G(Me))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ri(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Oi(t){return Ri().ngZone.run(()=>t())}function xDe(t){return Ri(),function EDe(t){return function(n){return(n=n.lift(new SDe(t.ngZone))).pipe(V6(t.outsideAngular),b6(t.insideAngular))}}(Ri())(t)}const IDe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Oi(()=>t.apply(void 0,r))},_t=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Oi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Va,{},Va,Va)))),r[s]=IDe(r[s],n));const i=function zDe(t){return Ri().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ve){const s=Ri();return i.pipe(V6(s.outsideAngular),b6(s.insideAngular))}return Oi(()=>i)}return i instanceof Ve?i.pipe(xDe):i instanceof Promise?Oi(()=>new Promise((s,a)=>i.then(o=>Oi(()=>s(o)),o=>Oi(()=>a(o))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Oi(()=>i)};class Fi{constructor(e){return e}}class d3{constructor(){return kR()}}const xm=new U("angularfire2._apps"),DDe={provide:Fi,useFactory:function LDe(t){return t&&1===t.length?t[0]:new Fi(Ma())},deps:[[new jt,xm]]},ADe={provide:d3,deps:[[new jt,xm]]};function TDe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fi(r)}}let NDe=(()=>{class t{constructor(n){Fe("angularfire",Dr.full,"core"),Fe("angularfire",Dr.full,"app"),Fe("angular",qH.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(G(Tn))},t.\u0275mod=at({type:t}),t.\u0275inj=et({providers:[DDe,ADe]}),t})();function Ha(t,...e){return{ngModule:NDe,providers:[{provide:xm,useFactory:TDe(t),multi:!0,deps:[Me,At,f3,...e]}]}}const Sa=_t(Ma,!0),za=_t(NR,!0),Em=new Map,XO={activated:!1,tokenObservers:[]},kDe={initialized:!1,enabled:!1};function lt(t){return Em.get(t)||Object.assign({},XO)}function Ql(){return kDe}const Im="https://content-firebaseappcheck.googleapis.com/v1",FDe="exchangeDebugToken",JO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class UDe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new _a,yield function jDe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new _a,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const o2=new ln("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xl(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function Lm(t){if(!lt(t).activated)throw o2.create("use-before-activation",{appName:t.name})}function Dm(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let a="";return n&&(a+=Jl(n)+"d:"),r&&(a+=Jl(r)+"h:"),a+=Jl(i)+"m:"+Jl(s)+"s",a}function Jl(t){return 0===t?"00":t>=10?t.toString():"0"+t}function Zl(t,e){return Am.apply(this,arguments)}function Am(){return(Am=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let a,o;try{a=yield fetch(t,s)}catch(f){throw o2.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==a.status)throw o2.create("fetch-status-error",{httpStatus:a.status});try{o=yield a.json()}catch(f){throw o2.create("fetch-parse-error",{originalErrorMessage:f?.message})}const c=o.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw o2.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${o.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:o.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function ZO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Im}/projects/${n}/apps/${r}:${FDe}?key=${i}`,body:{debug_token:e}}}const WDe="firebase-app-check-database",KDe=1,h3="firebase-app-check-store",eF="debug-token";let e8=null;function tF(){return e8||(e8=new Promise((t,e)=>{try{const n=indexedDB.open(WDe,KDe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(o2.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(h3,{keyPath:"compositeKey"})}}catch(n){e(o2.create("storage-open",{originalErrorMessage:n?.message}))}}),e8)}function nF(t,e){return Tm.apply(this,arguments)}function Tm(){return(Tm=m(function*(t,e){const r=(yield tF()).transaction(h3,"readwrite"),s=r.objectStore(h3).put({compositeKey:t,value:e});return new Promise((a,o)=>{s.onsuccess=c=>{a()},r.onerror=c=>{var l;o(o2.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}function rF(t){return Nm.apply(this,arguments)}function Nm(){return(Nm=m(function*(t){const n=(yield tF()).transaction(h3,"readonly"),i=n.objectStore(h3).get(t);return new Promise((s,a)=>{i.onsuccess=o=>{const c=o.target.result;s(c?c.value:void 0)},n.onerror=o=>{var c;a(o2.create("storage-get",{originalErrorMessage:null===(c=o.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}function iF(t){return`${t.options.appId}-${t.name}`}const p3=new Ca("@firebase/app-check");function km(){return(km=m(function*(t){if(Er()){let e;try{e=yield function YDe(t){return rF(iF(t))}(t)}catch(n){p3.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function Pm(t,e){return Er()?function QDe(t,e){return nF(iF(t),e)}(t,e).catch(n=>{p3.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Rm(){return(Rm=m(function*(){let t;try{t=yield function JDe(){return rF(eF)}()}catch{}if(t)return t;{const e=oxe();return function XDe(t){return nF(eF,t)}(e).catch(n=>p3.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function Om(){return Ql().enabled}function Fm(){return Bm.apply(this,arguments)}function Bm(){return(Bm=m(function*(){const t=Ql();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nAe={error:"UNKNOWN_ERROR"};function rAe(t){return mh.encodeString(JSON.stringify(t),!1)}function t8(t){return Um.apply(this,arguments)}function Um(){return(Um=m(function*(t,e=!1){const n=t.app;Lm(n);const r=lt(n);let s,i=r.token;if(i&&!xa(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(xa(c)?i=c:yield Pm(n,void 0))}if(!e&&i&&xa(i))return{token:i.token};let o,a=!1;if(Om()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zl(ZO(n,yield Fm()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);const c=yield r.exchangeTokenPromise;return yield Pm(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),i=yield lt(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?p3.warn(c.message):p3.error(c),s=c}return i?s?o=xa(i)?{token:i.token,internalError:s}:cF(s):(o={token:i.token},r.token=i,yield Pm(n,i)):o=cF(s),a&&oF(n,o),o})).apply(this,arguments)}function sF(t){return jm.apply(this,arguments)}function jm(){return(jm=m(function*(t){const e=t.app;Lm(e);const{provider:n}=lt(e);if(Om()){const r=yield Fm(),{token:i}=yield Zl(ZO(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function $m(t,e,n,r){const{app:i}=t,s=lt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&xa(s.token)){const o=s.token;Promise.resolve().then(()=>{n({token:o.token}),aF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>aF(t))}function qm(t,e){const n=lt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function aF(t){const{app:e}=t,n=lt(e);let r=n.tokenRefresher;r||(r=function iAe(t){const{app:e}=t;return new UDe(m(function*(){let r;if(r=lt(e).token?yield t8(t,!0):yield t8(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=lt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},JO.RETRIAL_MIN_WAIT,JO.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function oF(t,e){const n=lt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function xa(t){return t.expireTimeMillis-Date.now()>0}function cF(t){return{token:rAe(nAe),error:t}}class sAe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=lt(this.app);for(const n of e)qm(this.app,n.next);return Promise.resolve()}}function dAe(t,e){const n=new _a;lt(t).reCAPTCHAState={initialized:n};const i=function lF(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=Xl(!1);return s?n8(t,e,s,i,n):function mAe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const a=Xl(!1);if(!a)throw new Error("no recaptcha");n8(t,e,a,i,n)}),n.promise}function n8(t,e,n,r,i){n.ready(()=>{(function pAe(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{lt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{lt(t).reCAPTCHAState.succeeded=!1}}),s=lt(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function uF(t){return Gm.apply(this,arguments)}function Gm(){return(Gm=m(function*(t){Lm(t);const n=yield lt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=lt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class Ar{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function pF(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw o2.create("throttled",{time:Dm(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield uF(e._app).catch(o=>{throw o2.create("recaptcha-error")});if(null===(n=lt(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw o2.create("recaptcha-error");let a;try{a=yield Zl(function qDe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Im}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(o){throw null!==(r=o.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function hF(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=Pl(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=o.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),o2.create("throttled",{time:Dm(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):o}return e._throttleData=null,a})()}initialize(e){this._app=e,this._heartbeatServiceProvider=un(e,"heartbeat"),dAe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Ar&&this._siteKey===e._siteKey}}function vAe(t=Ma(),e){const n=un(t=rt(t),"app-check");if(Ql().initialized||function tAe(){const t=wR(),e=Ql();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new _a;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function eAe(){return Rm.apply(this,arguments)}())}(),Om()&&Fm().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw o2.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function yAe(t,e,n){const r=function PDe(t,e){return Em.set(t,e),Em.get(t)}(t,Object.assign({},XO));r.activated=!0,r.provider=e,r.cachedTokenPromise=function ZDe(t){return km.apply(this,arguments)}(t).then(i=>(i&&xa(i)&&(r.token=i,oF(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),lt(t).isTokenAutoRefreshEnabled&&$m(r,"INTERNAL",()=>{}),r}const mF="app-check-internal";!function CAe(){N2(new y2("app-check",t=>function aAe(t,e){return new sAe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(mF).initialize()})),N2(new y2(mF,t=>function oAe(t){return{getToken:e=>t8(t,e),getLimitedUseToken:()=>sF(t),addTokenListener:e=>$m(t,"INTERNAL",e),removeTokenListener:e=>qm(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Fe("@firebase/app-check","0.8.0")}();const gF="app-check";class Km{constructor(e){return e}}class Ym{constructor(){return Yl(gF)}}const Qm=new U("angularfire2.app-check-instances"),wAe=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function bAe(t){return(e,n,r)=>{var i;!c9(r)&&wAe&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new Km(s)}}const VAe={provide:Ym,deps:[[new jt,Qm]]},HAe={provide:Km,useFactory:function MAe(t,e){const n=Kl(gF,t,e);return n&&new Km(n)},deps:[[new jt,Qm],Fi,Tn]};let SAe=(()=>{class t{constructor(){Fe("angularfire",Dr.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=at({type:t}),t.\u0275inj=et({providers:[HAe,VAe]}),t})();function Ea(t,...e){return{ngModule:SAe,providers:[{provide:Qm,useFactory:bAe(t),multi:!0,deps:[Me,At,Tn,f3,d3,...e]}]}}const Ia=_t(vAe,!0);const zAe=function vF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yF=new ln("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),r8=new Ca("@firebase/auth");function i8(t,...e){r8.logLevel<=ye.ERROR&&r8.error(`Auth (${Ai}): ${t}`,...e)}function Y2(t,...e){throw Xm(t,...e)}function l1(t,...e){return Xm(t,...e)}function _F(t,e,n){const r=Object.assign(Object.assign({},zAe()),{[e]:n});return new ln("auth","Firebase",r).create(e,{appName:t.name})}function Xm(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yF.create(t,...e)}function I(t,e,...n){if(!t)throw Xm(e,...n)}function hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw i8(e),new Error(e)}function Gn(t,e){t||hn(e)}function m3(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function CF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class g3{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gn(n>e,"Short delay should be less than long delay!"),this.isMobile=function Qze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}()||function Jze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function EAe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Jm(){return"http:"===CF()||"https:"===CF()}()||gh()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zm(t,e){Gn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class MF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},DAe=new g3(3e4,6e4);function it(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ut(t,e,n,r){return eg.apply(this,arguments)}function eg(){return(eg=m(function*(t,e,n,r,i={}){return wF(t,i,m(function*(){let s={},a={};r&&("GET"===e?a=r:s={body:JSON.stringify(r)});const o=s3(Object.assign({key:t.config.apiKey},a)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),MF.fetch()(bF(t,t.config.apiHost,n,o),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function wF(t,e,n){return tg.apply(this,arguments)}function tg(){return(tg=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},LAe),e);try{const i=new AAe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=yield s.json();if("needConfirmation"in a)throw v3(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,l]=o.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw v3(t,"credential-already-in-use",a);if("EMAIL_EXISTS"===c)throw v3(t,"email-already-in-use",a);if("USER_DISABLED"===c)throw v3(t,"user-disabled",a);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _F(t,u,l);Y2(t,u)}}catch(i){if(i instanceof M1)throw i;Y2(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Wn(t,e,n,r){return ng.apply(this,arguments)}function ng(){return(ng=m(function*(t,e,n,r,i={}){const s=yield ut(t,e,n,r,i);return"mfaPendingCredential"in s&&Y2(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function bF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zm(t.config,i):`${t.config.apiScheme}://${i}`}class AAe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(l1(this.auth,"network-request-failed")),DAe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function v3(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=l1(t,e,r);return i.customData._tokenResponse=n,i}function rg(){return(rg=m(function*(t,e){return ut(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function sg(){return(sg=m(function*(t,e){return ut(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function y3(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ag(){return(ag=m(function*(t,e=!1){const n=rt(t),r=yield n.getIdToken(e),i=s8(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:y3(og(i.auth_time)),issuedAtTime:y3(og(i.iat)),expirationTime:y3(og(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function og(t){return 1e3*Number(t)}function s8(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return i8("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tl(n);return i?JSON.parse(i):(i8("Failed to decode base64 JWT payload"),null)}catch(i){return i8("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Kn(t,e){return cg.apply(this,arguments)}function cg(){return(cg=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof M1&&function OAe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class FAe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class VF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=y3(this.lastLoginAt),this.creationTime=y3(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _3(t){return lg.apply(this,arguments)}function lg(){return lg=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Kn(t,function kAe(t,e){return sg.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function jAe(t){return t.map(e=>{var{providerId:n}=e,r=M6(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],o=function UAe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,a),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||o?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new VF(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}),lg.apply(this,arguments)}function ug(){return(ug=m(function*(t){const e=rt(t);yield _3(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function fg(){return(fg=m(function*(t,e){const n=yield wF(t,{},m(function*(){const r=s3({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=bF(t,i,"/v1/token",`key=${s}`),o=yield t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",MF.fetch()(a,{method:"POST",headers:o,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class C3{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function RAe(t){const e=s8(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:a}=yield function $Ae(t,e){return fg.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(a))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new C3;return r&&(I("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),s&&(I("number"==typeof s,"internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new C3,this.toJSON())}_performRefresh(){return hn("not implemented")}}function Tr(t,e){I("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=M6(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FAe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Kn(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function PAe(t){return ag.apply(this,arguments)}(this,e)}reload(){return function BAe(t){return ug.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield _3(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Kn(e,function TAe(t,e){return rg.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,c,l,u;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,g=null!==(o=n.tenantId)&&void 0!==o?o:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,_=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:L,isAnonymous:k,providerData:K,stsTokenManager:he}=n;I(w&&he,e,"internal-error");const It=C3.fromJSON(this.name,he);I("string"==typeof w,e,"internal-error"),Tr(f,e.name),Tr(d,e.name),I("boolean"==typeof L,e,"internal-error"),I("boolean"==typeof k,e,"internal-error"),Tr(h,e.name),Tr(p,e.name),Tr(g,e.name),Tr(v,e.name),Tr(_,e.name),Tr(y,e.name);const Ft=new Bi({uid:w,auth:e,email:d,emailVerified:L,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:It,createdAt:_,lastLoginAt:y});return K&&Array.isArray(K)&&(Ft.providerData=K.map(g6=>Object.assign({},g6))),v&&(Ft._redirectEventId=v),Ft}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new C3;i.updateFromServerResponse(n);const s=new Bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _3(s),s})()}}const HF=new Map;function Yn(t){Gn(t instanceof Function,"Expected a class definition");let e=HF.get(t);return e?(Gn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HF.set(t,e),e)}const SF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function a8(t,e,n){return`firebase:${t}:${e}:${n}`}class Da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=a8(this.userKey,i.apiKey,s),this.fullPersistenceKey=a8("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Bi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Da(Yn(SF),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Yn(SF);const a=a8(r,e.config.apiKey,e.name);let o=null;for(const l of n)try{const u=yield l._get(a);if(u){const f=Bi._fromJSON(e,u);l!==s&&(o=f),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],o&&(yield s._set(a,o.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(a)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Da(s,e,r)):new Da(s,e,r)})()}}function zF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DF(e))return"Blackberry";if(AF(e))return"Webos";if(dg(e))return"Safari";if((e.includes("chrome/")||EF(e))&&!e.includes("edge/"))return"Chrome";if(LF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function xF(t=qt()){return/firefox\//i.test(t)}function dg(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EF(t=qt()){return/crios\//i.test(t)}function IF(t=qt()){return/iemobile/i.test(t)}function LF(t=qt()){return/android/i.test(t)}function DF(t=qt()){return/blackberry/i.test(t)}function AF(t=qt()){return/webos/i.test(t)}function o8(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TF(t=qt()){return o8(t)||LF(t)||AF(t)||DF(t)||/windows phone/i.test(t)||IF(t)}function NF(t,e=[]){let n;switch(t){case"Browser":n=zF(qt());break;case"Worker":n=`${zF(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ai}/${r}`}function kF(t,e){return pg.apply(this,arguments)}function pg(){return(pg=m(function*(t,e){return ut(t,"GET","/v2/recaptchaConfig",it(t,e))})).apply(this,arguments)}function RF(t){return void 0!==t&&void 0!==t.enterprise}class OF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function mg(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=l1("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function YAe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function FF(t){return`__${t}${Math.floor(1e6*Math.random())}`}class BF{constructor(e){this.type="recaptcha-enterprise",this.auth=Wt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(o){if(!n){if(null==o.tenantId&&null!=o._agentRecaptchaConfig)return o._agentRecaptchaConfig.siteKey;if(null!=o.tenantId&&void 0!==o._tenantRecaptchaConfigs[o.tenantId])return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){kF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new OF(f);return null==o.tenantId?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function a(o,c,l){const u=window.grecaptcha;RF(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,c)=>{(function i(o){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&RF(window.grecaptcha))a(l,o,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));mg("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{a(l,o,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Nr(t,e,n){return gg.apply(this,arguments)}function gg(){return(gg=m(function*(t,e,n,r=!1){const i=new BF(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const a=Object.assign({},e);return Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})).apply(this,arguments)}class ZAe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{a(e(s))}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class eTe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UF(this),this.idTokenSubscription=new UF(this),this.beforeStateQueue=new ZAe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Da.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const o=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(s=l.user,a=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{yield n.beforeStateQueue.runMiddleware(s)}catch(o){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(o))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield _3(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function IAe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?rt(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Yn(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield kF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new OF(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new BF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Yn(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield Da.create(n,[Yn(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return I(a,this,"internal-error"),a.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function xAe(t,...e){r8.logLevel<=ye.WARN&&r8.warn(`Auth (${Ai}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Wt(t){return rt(t)}class UF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function ixe(t,e){const n=new sxe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $F(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hn("not implemented")}_getIdTokenResponse(e){return hn("not implemented")}_linkToIdToken(e,n){return hn("not implemented")}_getReauthenticationResolver(e){return hn("not implemented")}}function GF(t,e){return _g.apply(this,arguments)}function _g(){return(_g=m(function*(t,e){return ut(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Mg(t,e){return wg.apply(this,arguments)}function wg(){return(wg=m(function*(t,e){return Wn(t,"POST","/v1/accounts:signInWithPassword",it(t,e))})).apply(this,arguments)}function Ig(){return(Ig=m(function*(t,e){return Wn(t,"POST","/v1/accounts:signInWithEmailLink",it(t,e))})).apply(this,arguments)}function Lg(){return(Lg=m(function*(t,e){return Wn(t,"POST","/v1/accounts:signInWithEmailLink",it(t,e))})).apply(this,arguments)}class M3 extends vg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new M3(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new M3(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Nr(e,i,"signInWithPassword");return Mg(e,s)}return Mg(e,i).catch(function(){var s=m(function*(a){if("auth/missing-recaptcha-token"===a.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=yield Nr(e,i,"signInWithPassword");return Mg(e,o)}return Promise.reject(a)});return function(a){return s.apply(this,arguments)}}());case"emailLink":return function lTe(t,e){return Ig.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Y2(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return GF(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function uTe(t,e){return Lg.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Y2(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Qn(t,e){return Dg.apply(this,arguments)}function Dg(){return(Dg=m(function*(t,e){return Wn(t,"POST","/v1/accounts:signInWithIdp",it(t,e))})).apply(this,arguments)}class Aa extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Y2("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=M6(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Aa(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return Qn(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qn(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qn(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=s3(n)}return e}}class b3{constructor(e){var n,r,i,s,a,o;const c=a3(o3(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,f=function vTe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);I(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=c.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=c.tenantId)&&void 0!==o?o:null}static parseLink(e){const n=function yTe(t){const e=a3(o3(t)).link,n=e?a3(o3(e)).deep_link_id:null,r=a3(o3(t)).deep_link_id;return(r?a3(o3(r)).link:null)||r||n||e||t}(e);try{return new b3(n)}catch{return null}}}let WF=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return M3._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=b3.parseLink(r);return I(i,"argument-error"),M3._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class kr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class KF extends kr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let _Te=(()=>{class t extends KF{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Aa._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class w1{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield Bi._fromIdTokenResponse(e,r,i),a=YF(r);return new w1({user:s,providerId:a,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=YF(r);return new w1({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function YF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class f8 extends M1{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,f8.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new f8(e,n,r,i)}}function QF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?f8._fromErrorAndOperation(t,s,e,r):s})}function Ug(){return(Ug=m(function*(t,e,n=!1){const r=yield Kn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return w1._forOperation(t,"link",r)})).apply(this,arguments)}function $g(){return($g=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Kn(t,QF(r,i,e,t),n);I(s.idToken,r,"internal-error");const a=s8(s.idToken);I(a,r,"internal-error");const{sub:o}=a;return I(t.uid===o,r,"user-mismatch"),w1._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Y2(r,"user-mismatch"),s}})).apply(this,arguments)}function ZF(t,e){return qg.apply(this,arguments)}function qg(){return(qg=m(function*(t,e,n=!1){const r="signIn",i=yield QF(t,r,e),s=yield w1._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Wg(){return(Wg=m(function*(t,e){return ZF(Wt(t),e)})).apply(this,arguments)}function STe(t,e,n){return function Gg(t,e){return Wg.apply(this,arguments)}(rt(t),WF.credential(e,n))}const h8="__sak";class tB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(h8,"1"),this.storage.removeItem(h8),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $Te=(()=>{class t extends tB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function BTe(){const t=qt();return dg(t)||o8(t)}()&&function WAe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=TF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(n.newValue!==o)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const o=this.storage.getItem(i);!r&&this.localCache[i]===o||this.notifyListeners(i,o)},a=this.storage.getItem(i);!function GAe(){return function Zze(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||a===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),nB=(()=>{class t extends tB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let GTe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:a,data:o}=i.data,c=r.handlersMap[a];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(c).map(function(){var f=m(function*(d){return d(i.origin,o)});return function(d){return f.apply(this,arguments)}}()),u=yield function qTe(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function p8(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class WTe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((c,l)=>{const u=p8("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(h.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"))}}},i.handlers.add(o),s.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function zt(){return window}function Mv(){return typeof zt().WorkerGlobalScope<"u"&&"function"==typeof zt().importScripts}function wv(){return(wv=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rB="firebaseLocalStorageDb",m8="firebaseLocalStorage",iB="fbase_key";class H3{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function g8(t,e){return t.transaction([m8],e?"readwrite":"readonly").objectStore(m8)}function bv(){const t=indexedDB.open(rB,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(m8,{keyPath:iB})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(m8)?e(r):(r.close(),yield function ZTe(){const t=indexedDB.deleteDatabase(rB);return new H3(t).toPromise()}(),e(yield bv()))}))})}function sB(t,e,n){return Vv.apply(this,arguments)}function Vv(){return(Vv=m(function*(t,e,n){const r=g8(t,!0).put({[iB]:e,value:n});return new H3(r).toPromise()})).apply(this,arguments)}function Hv(){return(Hv=m(function*(t,e){const n=g8(t,!1).get(e),r=yield new H3(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function aB(t,e){const n=g8(t,!0).delete(e);return new H3(n).toPromise()}const rNe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield bv()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return Mv()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=GTe._getInstance(function XTe(){return Mv()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function YTe(){return wv.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new WTe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function QTe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield bv();return yield sB(n,h8,"1"),yield aB(n,h8),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>sB(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function eNe(t,e){return Hv.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>aB(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(a=>{const o=g8(a,!1).getAll();return new H3(o).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:a,value:o}of r)s.add(a),JSON.stringify(n.localCache[a])!==JSON.stringify(o)&&(n.notifyListeners(a,o),i.push(a));for(const a of Object.keys(n.localCache))n.localCache[a]&&!s.has(a)&&(n.notifyListeners(a,null),i.push(a));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function ji(t,e){return e?Yn(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}FF("rcb"),new g3(3e4,6e4);class Tv extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qn(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qn(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qn(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _Ne(t){return ZF(t.auth,new Tv(t),t.bypassAuthState)}function CNe(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function JF(t,e){return $g.apply(this,arguments)}(n,new Tv(t),t.bypassAuthState)}function MNe(t){return Nv.apply(this,arguments)}function Nv(){return(Nv=m(function*(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function Bg(t,e){return Ug.apply(this,arguments)}(n,new Tv(t),t.bypassAuthState)})).apply(this,arguments)}class cB{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:a,error:o,type:c}=e;if(o)return void n.reject(o);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _Ne;case"linkViaPopup":case"linkViaRedirect":return MNe;case"reauthViaPopup":case"reauthViaRedirect":return CNe;default:Y2(this.auth,"internal-error")}}resolve(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wNe=new g3(2e3,1e4);function bNe(t,e,n){return kv.apply(this,arguments)}function kv(){return(kv=m(function*(t,e,n){const r=Wt(t);!function La(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Y2(t,"argument-error"),_F(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,kr);const i=ji(r,n);return new Ov(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let Ov=(()=>{class t extends cB{constructor(n,r,i,s,a){super(n,r,s,a),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return I(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){Gn(1===n.filter.length,"Popup operations only handle one event");const r=p8();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(l1(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(l1(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(l1(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,wNe.get())};n()}}return t.currentPopupAction=null,t})();const VNe="pendingRedirect",S3=new Map;class HNe extends cB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=S3.get(n.auth._key());if(!r){try{const s=(yield function SNe(t,e){return Fv.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}S3.set(n.auth._key(),r)}return n.bypassAuthState||S3.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function Fv(){return(Fv=m(function*(t,e){const n=function uB(t){return a8(VNe,t.config.apiKey,t.name)}(e),r=function lB(t){return Yn(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function zNe(t,e){S3.set(t._key(),e)}function fB(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=m(function*(t,e,n=!1){const r=Wt(t),i=ji(r,e),a=yield new HNe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})).apply(this,arguments)}class DNe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ANe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pB(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pB(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(l1(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hB(e))}saveEventToCache(e){this.cachedEventUids.add(hB(e)),this.lastProcessedEventTime=Date.now()}}function hB(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pB({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Yv(){return(Yv=m(function*(t,e={}){return ut(t,"GET","/v1/projects",e)})).apply(this,arguments)}const NNe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kNe=/^https?/;function Qv(){return Qv=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function TNe(t){return Yv.apply(this,arguments)}(t);for(const n of e)try{if(RNe(n))return}catch{}Y2(t,"unauthorized-domain")}),Qv.apply(this,arguments)}function RNe(t){const e=m3(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return""===a.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!kNe.test(n))return!1;if(NNe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ONe=new g3(3e4,6e4);function mB(){const t=zt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let y8=null;const UNe=new g3(5e3,15e3),jNe="__/auth/iframe",$Ne="emulator/auth/iframe",qNe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GNe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WNe(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zm(e,$Ne):`https://${t.config.authDomain}/${jNe}`,r={apiKey:e.apiKey,appName:t.name,v:Ai},i=GNe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${s3(r).slice(1)}`}function Xv(){return Xv=m(function*(t){const e=yield function BNe(t){return y8=y8||function FNe(t){return new Promise((e,n)=>{var r,i,s;function a(){mB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mB(),n(l1(t,"network-request-failed"))},timeout:ONe.get()})}if(null!==(i=null===(r=zt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=zt().gapi)||void 0===s||!s.load){const o=FF("iframefcb");return zt()[o]=()=>{gapi.load?a():n(l1(t,"network-request-failed"))},mg(`https://apis.google.com/js/api.js?onload=${o}`).catch(c=>n(c))}a()}}).catch(e=>{throw y8=null,e})}(t),y8}(t),n=zt().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:WNe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qNe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,a){yield r.restyle({setHideOnLeave:!1});const o=l1(t,"network-request-failed"),c=zt().setTimeout(()=>{a(o)},UNe.get());function l(){zt().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{a(o)})});return function(s,a){return i.apply(this,arguments)}}()))}),Xv.apply(this,arguments)}const YNe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const nke="__/auth/handler",rke="emulator/auth/handler",ike=encodeURIComponent("fac");function vB(t,e,n,r,i,s){return Jv.apply(this,arguments)}function Jv(){return(Jv=m(function*(t,e,n,r,i,s){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ai,eventId:i};if(e instanceof kr){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function rxe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof KF){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const c=yield t._getAppCheckToken(),l=c?`#${ike}=${encodeURIComponent(c)}`:"";return`${function ske({config:t}){return t.emulator?Zm(t,rke):`https://${t.authDomain}/${nke}`}(t)}?${s3(o).slice(1)}${l}`})).apply(this,arguments)}const Zv="webStorageSupport",oke=class ake{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nB,this._completeRedirectFn=fB,this._overrideRedirectResult=zNe}_openPopup(e,n,r,i){var s=this;return m(function*(){var a;Gn(null===(a=s.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const o=yield vB(e,n,r,m3(),i);return function eke(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c=Object.assign(Object.assign({},YNe),{width:r.toString(),height:i.toString(),top:s,left:a}),l=qt().toLowerCase();n&&(o=EF(l)?"_blank":n),xF(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function qAe(t=qt()){var e;return o8(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==o)return function tke(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",o),new gB(null);const f=window.open(e||"",o,u);I(f,t,"popup-blocked");try{f.focus()}catch{}return new gB(f)}(e,o,p8())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function KTe(t){zt().location.href=t}(yield vB(e,n,r,m3(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function KNe(t){return Xv.apply(this,arguments)}(e),i=new DNe(e);return r.register("authEvent",s=>(I(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zv,{type:Zv},i=>{var s;const a=null===(s=i?.[0])||void 0===s?void 0:s[Zv];void 0!==a&&n(!!a),Y2(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function PNe(t){return Qv.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TF()||dg()||o8()}};var CB="@firebase/auth";class cke{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const dke=HR("authIdTokenMaxAge")||300;let wB=null;const hke=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>dke)return;const s=r?.token;wB!==s&&(wB=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function pke(t=Ma()){const e=un(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function tTe(t,e){const n=un(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(i3(n.getOptions(),e??{}))return i;Y2(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:oke,persistence:[rNe,$Te,nB]}),r=HR("authTokenSyncURL");if(r){const s=hke(r);(function NTe(t,e,n){rt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function TTe(t,e,n,r){rt(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}const i=bR("auth");return i&&function rTe(t,e,n){const r=Wt(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=jF(e),{host:a,port:o}=function iTe(t){const e=jF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$F(r.substr(s.length+1))}}{const[s,a]=r.split(":");return{host:s,port:$F(a)}}}(e);r.config.emulator={url:`${s}//${a}${null===o?"":`:${o}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function sTe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function mke(t){return new Ve(function(e){var n=function kTe(t,e,n,r){return rt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function uke(t){N2(new y2("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;I(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NF(t)},l=new eTe(r,i,s,c);return function nTe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),N2(new y2("auth-internal",e=>{const n=Wt(e.getProvider("auth").getImmediate());return new cke(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(CB,"0.23.2",function lke(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Fe(CB,"0.23.2","esm2017")}("Browser");class z3{constructor(e){return e}}class VB{constructor(){return Yl("auth")}}const ty=new U("angularfire2.auth-instances");function yke(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new z3(r)}}const _ke={provide:VB,deps:[[new jt,ty]]},Cke={provide:z3,useFactory:function vke(t,e){const n=Kl("auth",t,e);return n&&new z3(n)},deps:[[new jt,ty],Fi]};let Mke=(()=>{class t{constructor(){Fe("angularfire",Dr.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=at({type:t}),t.\u0275inj=et({providers:[Cke,_ke]}),t})();function Na(t,...e){return{ngModule:Mke,providers:[{provide:ty,useFactory:yke(t),multi:!0,deps:[Me,At,f3,d3,[new jt,Ym],...e]}]}}const HB=_t(mke,!0),ka=_t(pke,!0),wke=_t(STe,!0),bke=_t(bNe,!0);var N,Vke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F1={},ny=ny||{},ie=Vke||self;function C8(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function x3(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ry="closure_uid_"+(1e9*Math.random()>>>0),Ske=0;function zke(t,e,n){return t.call.apply(t.bind,arguments)}function xke(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function C2(t,e,n){return(C2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zke:xke).apply(null,arguments)}function M8(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return e.prototype[i].apply(r,a)}}function Pr(){this.s=this.s,this.o=this.o}Pr.prototype.s=!1,Pr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Hke(t){Object.prototype.hasOwnProperty.call(t,ry)&&t[ry]||(t[ry]=++Ske)}(this)},Pr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function iy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zB(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(C8(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function M2(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}M2.prototype.h=function(){this.defaultPrevented=!0};var Ike=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return t}();function E3(t){return/^[\s\xa0]*$/.test(t)}function w8(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function pn(t){return-1!=w8().indexOf(t)}function sy(t){return sy[" "](t),t}sy[" "]=function(){};var oy,t,Dke=pn("Opera"),Pa=pn("Trident")||pn("MSIE"),xB=pn("Edge"),ay=xB||Pa,EB=pn("Gecko")&&!(-1!=w8().toLowerCase().indexOf("webkit")&&!pn("Edge"))&&!(pn("Trident")||pn("MSIE"))&&!pn("Edge"),Ake=-1!=w8().toLowerCase().indexOf("webkit")&&!pn("Edge");function IB(){var t=ie.document;return t?t.documentMode:void 0}e:{var cy="",ly=(t=w8(),EB?/rv:([^\);]+)(\)|;)/.exec(t):xB?/Edge\/([\d\.]+)/.exec(t):Pa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Ake?/WebKit\/(\S+)/.exec(t):Dke?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(ly&&(cy=ly?ly[1]:""),Pa){var uy=IB();if(null!=uy&&uy>parseFloat(cy)){oy=String(uy);break e}}oy=cy}var Tke=ie.document&&Pa&&(IB()||parseInt(oy,10))||void 0;function I3(t,e){if(M2.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(EB){e:{try{sy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Nke[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&I3.$.h.call(this)}}Kt(I3,M2);var Nke={2:"touch",3:"pen",4:"mouse"};I3.prototype.h=function(){I3.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var L3="closure_listenable_"+(1e6*Math.random()|0),kke=0;function Pke(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++kke,this.fa=this.ia=!1}function b8(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function DB(t){const e={};for(const n in t)e[n]=t[n];return e}const AB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TB(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<AB.length;s++)n=AB[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V8(t){this.src=t,this.g={},this.h=0}function hy(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=SB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(b8(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function py(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}V8.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var a=py(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new Pke(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var my="closure_lm_"+(1e6*Math.random()|0),gy={};function NB(t,e,n,r,i){if(r&&r.once)return PB(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NB(t,e[s],n,r,i);return null}return n=Cy(n),t&&t[L3]?t.O(e,n,x3(r)?!!r.capture:!!r,i):kB(t,e,n,!1,r,i)}function kB(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=x3(i)?!!i.capture:!!i,o=yy(t);if(o||(t[my]=o=new V8(t)),(n=o.add(e,n,r,a,s)).proxy)return n;if(r=function Oke(){const e=Fke;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ike||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(OB(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function PB(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)PB(t,e[s],n,r,i);return null}return n=Cy(n),t&&t[L3]?t.P(e,n,x3(r)?!!r.capture:!!r,i):kB(t,e,n,!0,r,i)}function RB(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)RB(t,e[s],n,r,i);else r=x3(r)?!!r.capture:!!r,n=Cy(n),t&&t[L3]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=py(s=t.g[e],n,r,i))&&(b8(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=yy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=py(e,n,r,i)),(n=-1<t?e[t]:null)&&vy(n))}function vy(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[L3])hy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(OB(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yy(e))?(hy(n,t),0==n.h&&(n.src=null,e[my]=null)):b8(t)}}}function OB(t){return t in gy?gy[t]:gy[t]="on"+t}function Fke(t,e){if(t.fa)t=!0;else{e=new I3(e,this);var n=t.listener,r=t.la||t.src;t.ia&&vy(t),t=n.call(r,e)}return t}function yy(t){return(t=t[my])instanceof V8?t:null}var _y="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cy(t){return"function"==typeof t?t:(t[_y]||(t[_y]=function(e){return t.handleEvent(e)}),t[_y])}function Yt(){Pr.call(this),this.i=new V8(this),this.S=this,this.J=null}function c2(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new M2(e,t);else if(e instanceof M2)e.target=e.target||t;else{var i=e;TB(e=new M2(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=H8(a,r,!0,e)&&i}if(i=H8(a=e.g=t,r,!0,e)&&i,i=H8(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=H8(a=e.g=n[s],r,!1,e)&&i}function H8(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,c=a.la||a.src;a.ia&&hy(t.i,a),i=!1!==o.call(c,r)&&i}}return i&&!r.defaultPrevented}Kt(Yt,Pr),Yt.prototype[L3]=!0,Yt.prototype.removeEventListener=function(t,e,n,r){RB(this,t,e,n,r)},Yt.prototype.N=function(){if(Yt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)b8(n[r]);delete t.g[e],t.h--}}this.J=null},Yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Yt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var My=ie.JSON.stringify;function Uke(){var t=wy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var FB=new class Bke{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new $ke,t=>t.reset());class $ke{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qke(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Gke(t){ie.setTimeout(()=>{throw t},0)}let D3,A3=!1,wy=new class jke{constructor(){this.h=this.g=null}add(e,n){const r=FB.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},BB=()=>{const t=ie.Promise.resolve(void 0);D3=()=>{t.then(Wke)}};var Wke=()=>{for(var t;t=Uke();){try{t.h.call(t.g)}catch(n){Gke(n)}var e=FB;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}A3=!1};function S8(t,e){Yt.call(this),this.h=t||1,this.g=e||ie,this.j=C2(this.qb,this),this.l=Date.now()}function by(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Vy(t,e,n){if("function"==typeof t)n&&(t=C2(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C2(t.handleEvent,t)}return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function UB(t){t.g=Vy(()=>{t.g=null,t.i&&(t.i=!1,UB(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Kt(S8,Yt),(N=S8.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),c2(this,"tick"),this.ga&&(by(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){S8.$.N.call(this),by(this),delete this.g};class Kke extends Pr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UB(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function T3(t){Pr.call(this),this.h=t,this.g={}}Kt(T3,Pr);var jB=[];function $B(t,e,n,r){Array.isArray(n)||(n&&(jB[0]=n.toString()),n=jB);for(var i=0;i<n.length;i++){var s=NB(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function qB(t){dy(t.g,function(e,n){this.g.hasOwnProperty(n)&&vy(e)},t),t.g={}}function z8(){this.g=!0}function Ra(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Jke(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return My(n)}catch{return e}}(t,n)+(r?" "+r:"")})}T3.prototype.N=function(){T3.$.N.call(this),qB(this)},T3.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},z8.prototype.Ea=function(){this.g=!1},z8.prototype.info=function(){};var $i={},GB=null;function x8(){return GB=GB||new Yt}function WB(t){M2.call(this,$i.Ta,t)}function N3(t){const e=x8();c2(e,new WB(e))}function KB(t,e){M2.call(this,$i.STAT_EVENT,t),this.stat=e}function P2(t){const e=x8();c2(e,new KB(e,t))}function YB(t,e){M2.call(this,$i.Ua,t),this.size=e}function k3(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}$i.Ta="serverreachability",Kt(WB,M2),$i.STAT_EVENT="statevent",Kt(KB,M2),$i.Ua="timingevent",Kt(YB,M2);var E8={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hy(){}function JB(){}Hy.prototype.h=null;var xy,P3={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sy(){M2.call(this,"d")}function zy(){M2.call(this,"c")}function I8(){}function R3(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new T3(this),this.P=Zke,this.V=new S8(t=ay?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZB}function ZB(){this.i=null,this.g="",this.h=!1}Kt(Sy,M2),Kt(zy,M2),Kt(I8,Hy),I8.prototype.g=function(){return new XMLHttpRequest},I8.prototype.i=function(){return{}},xy=new I8;var Zke=45e3,Ey={},L8={};function Iy(t,e,n){t.L=1,t.v=N8(Xn(e)),t.s=n,t.S=!0,eU(t,null)}function eU(t,e){t.G=Date.now(),O3(t),t.A=Xn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),uU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new ZB,t.g=TU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Kke(C2(t.Pa,t,t.g),t.O)),$B(t.U,t.g,"readystatechange",t.nb),e=t.I?DB(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),N3(),function Yke(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",o=s.split("&"),c=0;c<o.length;c++){var l=o[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");a=2<=f.length&&"type"==f[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.W,t.s)}function tU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function nU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=ePe(t,n),i==L8){4==e&&(t.o=4,P2(14),r=!1),Ra(t.j,t.m,null,"[Incomplete Response]");break}if(i==Ey){t.o=4,P2(15),Ra(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ra(t.j,t.m,i,null),Ly(t,i)}tU(t)&&i!=L8&&i!=Ey&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,P2(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ry(e),e.M=!0,P2(11))):(Ra(t.j,t.m,n,"[Invalid Chunked Response]"),qi(t),F3(t))}function ePe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?L8:(n=Number(e.substring(n,r)),isNaN(n)?Ey:(r+=1)+n>e.length?L8:(e=e.slice(r,r+n),t.C=r+n,e))}function O3(t){t.Y=Date.now()+t.P,rU(t,t.P)}function rU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=k3(C2(t.lb,t),e)}function D8(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}function F3(t){0==t.l.H||t.J||IU(t.l,t)}function qi(t){D8(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,by(t.V),qB(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ly(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Dy(n.i,t)))if(!t.K&&Dy(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;B8(n),O8(n)}Py(n),P2(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=k3(C2(n.ib,n),6e3));if(1>=hU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wi(n,11)}else if((t.K||n.g==t)&&B8(n),!E3(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(n.L=r=1.5*d,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ay(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,$e(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=t;if((r=n).wa=AU(r,r.J?r.pa:null,r.Y),a.K){pU(r.i,a);var o=a,c=r.L;c&&o.setTimeout(c),o.B&&(D8(o),O3(o)),r.g=a}else xU(r);0<n.j.length&&F8(n)}else"stop"!=l[0]&&"close"!=l[0]||Wi(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Wi(n,7):ky(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}N3()}catch{}}function iU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(C8(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function nPe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(C8(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function tPe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(C8(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=R3.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==mn(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const u=mn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||ay||this.g&&(this.h.h||this.g.ja()||wU(this.g)))){this.J||4!=u||7==e||N3(),D8(this);var n=this.g.da();this.ca=n;t:if(tU(this)){var r=wU(this.g);t="";var i=r.length,s=4==mn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),F3(this);var a="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function Qke(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,c=this.g;if((o=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E3(o)){var l=o;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,P2(12),qi(this),F3(this);break e}Ra(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ly(this,n)}this.S?(nU(this,u,a),ay&&this.i&&3==u&&($B(this.U,this.V,"tick",this.mb),this.V.start())):(Ra(this.j,this.m,a,null),Ly(this,a)),4==u&&qi(this),this.i&&!this.J&&(4==u?IU(this.l,this):(this.i=!1,O3(this)))}else(function CPe(t){const e={};t=(t.g&&2<=mn(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(E3(t[r]))continue;var n=qke(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Rke(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,P2(12)):(this.o=0,P2(13)),qi(this),F3(this)}}}catch{}},N.mb=function(){if(this.g){var t=mn(this.g),e=this.g.ja();this.C<e.length&&(D8(this),nU(this,t,e),this.i&&4!=t&&O3(this))}},N.cancel=function(){this.J=!0,qi(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Xke(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(N3(),P2(17)),qi(this),this.o=2,F3(this)):rU(this,this.Y-t)};var sU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gi){this.h=t.h,A8(this,t.j),this.s=t.s,this.g=t.g,T8(this,t.m),this.l=t.l;var e=t.i,n=new j3;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),aU(this,n),this.o=t.o}else t&&(e=String(t).match(sU))?(this.h=!1,A8(this,e[1]||"",!0),this.s=B3(e[2]||""),this.g=B3(e[3]||"",!0),T8(this,e[4]),this.l=B3(e[5]||"",!0),aU(this,e[6]||"",!0),this.o=B3(e[7]||"")):(this.h=!1,this.i=new j3(null,this.h))}function Xn(t){return new Gi(t)}function A8(t,e,n){t.j=n?B3(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function T8(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aU(t,e,n){e instanceof j3?(t.i=e,function lPe(t,e){e&&!t.j&&(Rr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cU(this,r),uU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=U3(e,oPe)),t.i=new j3(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function N8(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function B3(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function U3(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,iPe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iPe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Gi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(U3(e,oU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(U3(e,oU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(U3(n,"/"==n.charAt(0)?aPe:sPe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",U3(n,cPe)),t.join("")};var oU=/[#\/\?@]/g,sPe=/[#\?:]/g,aPe=/[#\?]/g,oPe=/[#\?@]/g,cPe=/#/g;function j3(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Rr(t){t.g||(t.g=new Map,t.h=0,t.i&&function rPe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function cU(t,e){Rr(t),e=Oa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lU(t,e){return Rr(t),e=Oa(t,e),t.g.has(e)}function uU(t,e,n){cU(t,e),0<n.length&&(t.i=null,t.g.set(Oa(t,e),iy(n)),t.h+=n.length)}function Oa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fU(t){this.l=t||fPe,t=ie.PerformanceNavigationTiming?0<(t=ie.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=j3.prototype).add=function(t,e){Rr(this),this.i=null,t=Oa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Rr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){Rr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){Rr(this);let e=[];if("string"==typeof t)lU(this,t)&&(e=e.concat(this.g.get(Oa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return Rr(this),this.i=null,lU(this,t=Oa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var fPe=10;function dU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function hU(t){return t.h?1:t.g?t.g.size:0}function Dy(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ay(t,e){t.g?t.g.add(e):t.h=e}function pU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function mU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return iy(t.i)}fU.prototype.cancel=function(){if(this.i=mU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var dPe=class{stringify(t){return ie.JSON.stringify(t,void 0)}parse(t){return ie.JSON.parse(t,void 0)}};function hPe(){this.g=new dPe}function pPe(t,e,n){const r=n||"";try{iU(t,function(i,s){let a=i;x3(i)&&(a=My(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function k8(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $3(t){this.l=t.fc||null,this.j=t.ob||!1}function P8(t,e){Yt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ty,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt($3,Hy),$3.prototype.g=function(){return new P8(this.l,this.j)},$3.prototype.i=function(t){return function(){return t}}({}),Kt(P8,Yt);var Ty=0;function gU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function q3(t){t.readyState=4,t.l=null,t.j=null,t.A=null,G3(t)}function G3(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=P8.prototype).open=function(t,e){if(this.readyState!=Ty)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,G3(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,q3(this)),this.readyState=Ty},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,G3(this)),this.g&&(this.readyState=3,G3(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?q3(this):G3(this),3==this.readyState&&gU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,q3(this))},N.Ya=function(t){this.g&&(this.response=t,q3(this))},N.ka=function(){this.g&&q3(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(P8.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var gPe=ie.JSON.parse;function ft(t){Yt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vU,this.L=this.M=!1}Kt(ft,Yt);var vU="",vPe=/^https?$/i,yPe=["POST","PUT"];function yU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_U(t),R8(t)}function _U(t){t.F||(t.F=!0,c2(t,"complete"),c2(t,"error"))}function CU(t){if(t.h&&typeof ny<"u"&&(!t.C[1]||4!=mn(t)||2!=t.da()))if(t.v&&4==mn(t))Vy(t.La,0,t);else if(c2(t,"readystatechange"),4==mn(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(sU)[1]||null;!i&&ie.self&&ie.self.location&&(i=ie.self.location.protocol.slice(0,-1)),r=!vPe.test(i?i.toLowerCase():"")}n=r}if(n)c2(t,"complete"),c2(t,"success");else{t.m=6;try{var s=2<mn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",_U(t)}}finally{R8(t)}}}function R8(t,e){if(t.g){MU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||c2(t,"ready");try{n.onreadystatechange=r}catch{}}}function MU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function mn(t){return t.g?t.g.readyState:0}function wU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function bU(t){let e="";return dy(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Ny(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function W3(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VU(t){this.Ga=0,this.j=[],this.l=new z8,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=W3("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=W3("baseRetryDelayMs",5e3,t),this.hb=W3("retryDelaySeedMs",1e4,t),this.eb=W3("forwardChannelMaxRetries",2,t),this.xa=W3("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fU(t&&t.concurrentRequestLimit),this.Ja=new hPe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ky(t){if(HU(t),3==t.H){var e=t.W++,n=Xn(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),K3(t,n),(e=new R3(t,t.l,e)).L=2,e.v=N8(Xn(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon)try{n=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ie.Image&&((new Image).src=e.v,n=!0),n||(e.g=TU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),O3(e)}DU(t)}function O8(t){t.g&&(Ry(t),t.g.cancel(),t.g=null)}function HU(t){O8(t),t.u&&(ie.clearTimeout(t.u),t.u=null),B8(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ie.clearTimeout(t.m),t.m=null)}function F8(t){if(!dU(t.i)&&!t.m){t.m=!0;var e=t.Na;D3||BB(),A3||(D3(),A3=!0),wy.add(e,t),t.C=0}}function SU(t,e){var n;n=e?e.m:t.W++;const r=Xn(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),K3(t,r),t.o&&t.s&&Ny(r,t.o,t.s),n=new R3(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=zU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ay(t.i,n),Iy(n,r,e)}function K3(t,e){t.na&&dy(t.na,function(n,r){$e(e,r,n)}),t.h&&iU({},function(n,r){$e(e,r,n)})}function zU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?C2(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];-1==s?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let o=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),o=!1;else try{pPe(u,a,"req"+l+"_")}catch{r&&r(u)}}if(o){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;D3||BB(),A3||(D3(),A3=!0),wy.add(e,t),t.A=0}}function Py(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=k3(C2(t.Ma,t),LU(t,t.A)),t.A++,0))}function Ry(t){null!=t.B&&(ie.clearTimeout(t.B),t.B=null)}function EU(t){t.g=new R3(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Xn(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),K3(t,e),t.o&&t.s&&Ny(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=N8(Xn(e)),n.s=null,n.S=!0,eU(n,t)}function B8(t){null!=t.v&&(ie.clearTimeout(t.v),t.v=null)}function IU(t,e){var n=null;if(t.g==e){B8(t),Ry(t),t.g=null;var r=2}else{if(!Dy(t.i,e))return;n=e.F,pU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;c2(r=x8(),new YB(r,n)),F8(t)}else xU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function MPe(t,e){return!(hU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=k3(C2(t.Na,t,e),LU(t,t.C)),t.C++,0)))}(t,e)||2==r&&Py(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wi(t,5);break;case 4:Wi(t,10);break;case 3:Wi(t,6);break;default:Wi(t,2)}}function LU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wi(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=C2(t.pb,t);n||(n=new Gi("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||A8(n,"https"),N8(n)),function mPe(t,e){const n=new z8;if(ie.Image){const r=new Image;r.onload=M8(k8,n,r,"TestLoadImage: loaded",!0,e),r.onerror=M8(k8,n,r,"TestLoadImage: error",!1,e),r.onabort=M8(k8,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=M8(k8,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else P2(2);t.H=0,t.h&&t.h.za(e),DU(t),HU(t)}function DU(t){if(t.H=0,t.ma=[],t.h){const e=mU(t.i);(0!=e.length||0!=t.j.length)&&(zB(t.ma,e),zB(t.ma,t.j),t.i.i.length=0,iy(t.j),t.j.length=0),t.h.ya()}}function AU(t,e,n){var r=n instanceof Gi?Xn(n):new Gi(n);if(""!=r.g)e&&(r.g=e+"."+r.g),T8(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Gi(null);r&&A8(s,r),e&&(s.g=e),i&&T8(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&$e(r,n,e),$e(r,"VER",t.ra),K3(t,r),r}function TU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ft(n&&t.Ha&&!t.va?new $3({ob:!0}):t.va)).Oa(t.J),e}function NU(){}function U8(){if(Pa&&!(10<=Number(Tke)))throw Error("Environmental error: no available transport.")}function u1(t,e){Yt.call(this),this.g=new VU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!E3(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!E3(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Fa(this)}function kU(t){Sy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function PU(){zy.call(this),this.status=1}function Fa(t){this.g=t}function B1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Oy(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],a=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=n+((a=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=ft.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xy.g(),this.C=function XB(t){return t.h||(t.h=t.i())}(this.u?this.u:xy),this.g.onreadystatechange=C2(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void yU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ie.FormData&&t instanceof ie.FormData,!(0<=SB(yPe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MU(this),0<this.B&&((this.L=function _Pe(t){return Pa&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=C2(this.ua,this)):this.A=Vy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){yU(this,s)}},N.ua=function(){typeof ny<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,c2(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,c2(this,"complete"),c2(this,"abort"),R8(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R8(this,!0)),ft.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?CU(this):this.kb())},N.kb=function(){CU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gPe(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=VU.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new R3(this,this.l,t);let s=this.s;if(this.U&&(s?(s=DB(s),TB(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zU(this,i,e),$e(n=Xn(this.I),"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),K3(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(bU(s)))+"&"+e:this.o&&Ny(n,this.o,s)),Ay(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,Iy(i,n,null)):Iy(i,n,e),this.H=2}}else 3==this.H&&(t?SU(this,t):0==this.j.length||dU(this.i)||SU(this))},N.Ma=function(){if(this.u=null,EU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=k3(C2(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,P2(10),O8(this),EU(this))},N.ib=function(){null!=this.v&&(this.v=null,O8(this),Py(this),P2(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),P2(2)):(this.l.info("Failed to ping google.com"),P2(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=NU.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},U8.prototype.g=function(t,e){return new u1(t,e)},Kt(u1,Yt),u1.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;P2(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AU(t,null,t.Y),F8(t)},u1.prototype.close=function(){ky(this.g)},u1.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=My(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&F8(e)},u1.prototype.N=function(){this.g.h=null,delete this.j,ky(this.g),delete this.g,u1.$.N.call(this)},Kt(kU,Sy),Kt(PU,zy),Kt(Fa,NU),Fa.prototype.Ba=function(){c2(this.g,"a")},Fa.prototype.Aa=function(t){c2(this.g,new kU(t))},Fa.prototype.za=function(t){c2(this.g,new PU)},Fa.prototype.ya=function(){c2(this.g,"b")},Kt(B1,function wPe(){this.blockSize=-1}),B1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},B1.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)Oy(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Oy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Oy(this,r),i=0;break}}this.h=i,this.i+=e},B1.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var bPe={};function Fy(t){return-128<=t&&128>t?function Lke(t,e){var n=bPe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ee([0|e],0>e?-1:0)}):new Ee([0|t],0>t?-1:0)}function gn(t){if(isNaN(t)||!isFinite(t))return Ba;if(0>t)return l2(gn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=By;return new Ee(e,0)}var By=4294967296,Ba=Fy(0),Uy=Fy(1),OU=Fy(16777216);function Jn(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function b1(t){return-1==t.h}function l2(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(Uy)}function j8(t,e){return t.add(l2(e))}function $8(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Y3(t,e){this.g=t,this.h=e}function q8(t,e){if(Jn(e))throw Error("division by zero");if(Jn(t))return new Y3(Ba,Ba);if(b1(t))return e=q8(l2(t),e),new Y3(l2(e.g),l2(e.h));if(b1(e))return e=q8(t,l2(e)),new Y3(l2(e.g),e.h);if(30<t.g.length){if(b1(t)||b1(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Uy,r=e;0>=r.X(t);)n=FU(n),r=FU(r);var i=Ua(n,1),s=Ua(r,1);for(r=Ua(r,2),n=Ua(n,2);!Jn(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=Ua(r,1),n=Ua(n,1)}return e=j8(t,i.R(e)),new Y3(i,e)}for(i=Ba;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=gn(n)).R(e);b1(a)||0<a.X(t);)a=(s=gn(n-=r)).R(e);Jn(s)&&(s=Uy),i=i.add(s),t=j8(t,a)}return new Y3(i,t)}function FU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Ua(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(i,t.h)}(N=Ee.prototype).ea=function(){if(b1(this))return-l2(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:By+r)*e,e*=By}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Jn(this))return"0";if(b1(this))return"-"+l2(this).toString(t);for(var e=gn(Math.pow(t,6)),n=this,r="";;){var i=q8(n,e).g,s=((0<(n=j8(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Jn(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return b1(t=j8(this,t))?-1:Jn(t)?0:1},N.abs=function(){return b1(this)?l2(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,n[i]=(a&=65535)<<16|(s&=65535)}return new Ee(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Jn(this)||Jn(t))return Ba;if(b1(this))return b1(t)?l2(this).R(l2(t)):l2(l2(this).R(t));if(b1(t))return l2(this.R(l2(t)));if(0>this.X(OU)&&0>t.X(OU))return gn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=a*c,$8(n,2*r+2*i),n[2*r+2*i+1]+=s*c,$8(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,$8(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,$8(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)},N.gb=function(t){return q8(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)},U8.prototype.createWebChannel=U8.prototype.g,u1.prototype.send=u1.prototype.u,u1.prototype.open=u1.prototype.m,u1.prototype.close=u1.prototype.close,E8.NO_ERROR=0,E8.TIMEOUT=8,E8.HTTP_ERROR=6,QB.COMPLETE="complete",JB.EventType=P3,P3.OPEN="a",P3.CLOSE="b",P3.ERROR="c",P3.MESSAGE="d",Yt.prototype.listen=Yt.prototype.O,ft.prototype.listenOnce=ft.prototype.P,ft.prototype.getLastError=ft.prototype.Sa,ft.prototype.getLastErrorCode=ft.prototype.Ia,ft.prototype.getStatus=ft.prototype.da,ft.prototype.getResponseJson=ft.prototype.Wa,ft.prototype.getResponseText=ft.prototype.ja,ft.prototype.send=ft.prototype.ha,ft.prototype.setWithCredentials=ft.prototype.Oa,B1.prototype.digest=B1.prototype.l,B1.prototype.reset=B1.prototype.reset,B1.prototype.update=B1.prototype.j,Ee.prototype.add=Ee.prototype.add,Ee.prototype.multiply=Ee.prototype.R,Ee.prototype.modulo=Ee.prototype.gb,Ee.prototype.compare=Ee.prototype.X,Ee.prototype.toNumber=Ee.prototype.ea,Ee.prototype.toString=Ee.prototype.toString,Ee.prototype.getBits=Ee.prototype.D,Ee.fromNumber=gn,Ee.fromString=function RU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return l2(RU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gn(Math.pow(e,8)),r=Ba,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=gn(Math.pow(e,s)),r=r.R(s).add(gn(a))):r=(r=r.R(n)).add(gn(a))}return r};var VPe=F1.createWebChannelTransport=function(){return new U8},HPe=F1.getStatEventTarget=function(){return x8()},jy=F1.ErrorCode=E8,SPe=F1.EventType=QB,zPe=F1.Event=$i,BU=F1.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xPe=F1.FetchXmlHttpFactory=$3,G8=F1.WebChannel=JB,EPe=F1.XhrIo=ft,IPe=F1.Md5=B1,ja=F1.Integer=Ee;const UU="@firebase/firestore";class Qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");let $a="9.23.0";const Or=new Ca("@firebase/firestore");function $y(){return Or.logLevel}function x(t,...e){if(Or.logLevel<=ye.DEBUG){const n=e.map(qy);Or.debug(`Firestore (${$a}): ${t}`,...n)}}function Ct(t,...e){if(Or.logLevel<=ye.ERROR){const n=e.map(qy);Or.error(`Firestore (${$a}): ${t}`,...n)}}function U1(t,...e){if(Or.logLevel<=ye.WARN){const n=e.map(qy);Or.warn(`Firestore (${$a}): ${t}`,...n)}}function qy(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+t;throw Ct(e),new Error(e)}function j(t,e){t||O()}function T(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends M1{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class jU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LPe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class DPe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class APe{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let a=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new kt,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new kt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new jU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Qt(e)}}class TPe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class NPe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new TPe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $U{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kPe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,x("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.T=n.token,new $U(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PPe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class qU{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=PPe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function qa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new st(0,0))}static max(){return new q(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Q3{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Q3.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Q3?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends Q3{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const RPe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Q3{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return RPe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new H(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if("\\"===o){if(i+1===e.length)throw new H(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new H(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===o?(a=!a,i++):"."!==o||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new H(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}class A{constructor(e){this.path=e}static fromPath(e){return new A(ge.fromString(e))}static fromName(e){return new A(ge.fromString(e).popFirst(5))}static empty(){return new A(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new A(new ge(e.slice()))}}function KU(t){return new f1(t.readTime,t.key,-1)}class f1{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new f1(q.min(),A.empty(),-1)}static max(){return new f1(q.max(),A.empty(),-1)}}function Wy(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=A.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}const YU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BPe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fr(t){return Ky.apply(this,arguments)}function Ky(){return Ky=m(function*(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==YU)throw t;x("LocalStore","Unexpectedly lost primary lease")}),Ky.apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new C((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{a[l]=u,++o,o===s&&r(a)},u=>i(u))}})}static doWhile(e,n){return new C((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Br(t){return"IndexedDbTransactionError"===t.name}let d1=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Z3(t){return null==t}function ec(t){return 0===t&&1/t==-1/0}function ij(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ur(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Be{constructor(e,n){this.comparator=e,this.root=n||u2.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,u2.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,u2.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new X8(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new X8(this.root,e,this.comparator,!1)}getReverseIterator(){return new X8(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new X8(this.root,e,this.comparator,!0)}}class X8{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class u2{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??u2.RED,this.left=i??u2.EMPTY,this.right=s??u2.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new u2(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return u2.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return u2.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,u2.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,u2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}u2.EMPTY=null,u2.RED=!0,u2.BLACK=!1,u2.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new u2(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aj(this.data.getIterator())}getIteratorFrom(e){return new aj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class aj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Q2{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Q2([])}unionWith(e){let n=new qe(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Q2(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class oj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oj("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const uRe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(j(!!t),"string"==typeof t){let e=0;const n=uRe.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zn(t){return"string"==typeof t?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function J8(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Z8(t){const e=t.mapValue.fields.__previous_value__;return J8(e)?Z8(e):e}function tc(t){const e=jr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}class fRe{constructor(e,n,r,i,s,a,o,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=l}}class Qi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qi&&e.projectId===this.projectId&&e.database===this.database}}const $r={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J8(t)?4:fj(t)?9007199254740991:10:O()}function yn(t,e){if(t===e)return!0;const n=qr(t);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=jr(r.timestampValue),a=jr(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Zn(t.bytesValue).isEqual(Zn(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=dt(r.doubleValue),a=dt(i.doubleValue);return s===a?ec(s)===ec(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return qa(t.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(ij(s)!==ij(a))return!1;for(const o in s)if(s.hasOwnProperty(o)&&(void 0===a[o]||!yn(s[o],a[o])))return!1;return!0}(t,e);default:return O()}var i}function nc(t,e){return void 0!==(t.values||[]).find(n=>yn(n,e))}function Gr(t,e){if(t===e)return 0;const n=qr(t),r=qr(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=dt(i.integerValue||i.doubleValue),o=dt(s.integerValue||s.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return cj(t.timestampValue,e.timestampValue);case 4:return cj(tc(t),tc(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(i,s){const a=Zn(i),o=Zn(s);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),o=s.split("/");for(let c=0;c<a.length&&c<o.length;c++){const l=te(a[c],o[c]);if(0!==l)return l}return te(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=te(dt(i.latitude),dt(s.latitude));return 0!==a?a:te(dt(i.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],o=s.values||[];for(let c=0;c<a.length&&c<o.length;++c){const l=Gr(a[c],o[c]);if(l)return l}return te(a.length,o.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===$r.mapValue&&s===$r.mapValue)return 0;if(i===$r.mapValue)return 1;if(s===$r.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),c=s.fields||{},l=Object.keys(c);o.sort(),l.sort();for(let u=0;u<o.length&&u<l.length;++u){const f=te(o[u],l[u]);if(0!==f)return f;const d=Gr(a[o[u]],c[l[u]]);if(0!==d)return d}return te(o.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function cj(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=jr(t),r=jr(e),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function Wa(t){return Xy(t)}function Xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=jr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zn(t.bytesValue).toBase64():"referenceValue"in t?A.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const a of r.values||[])s?s=!1:i+=",",i+=Xy(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of i)a?a=!1:s+=",",s+=`${o}:${Xy(r.fields[o])}`;return s+"}"}(t.mapValue):O();var e}function Xi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jy(t){return!!t&&"integerValue"in t}function rc(t){return!!t&&"arrayValue"in t}function lj(t){return!!t&&"nullValue"in t}function uj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nu(t){return!!t&&"mapValue"in t}function ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ur(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fj(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class f2{constructor(e){this.value=e}static empty(){return new f2({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=ic(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ur(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new f2(ic(this.value))}}function pj(t){const e=[];return Ur(t.fields,(n,r)=>{const i=new Mt([n]);if(nu(r)){const s=pj(r.mapValue).fields;if(0===s.length)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Q2(e)}class Ge{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ge(e,0,q.min(),q.min(),q.min(),f2.empty(),0)}static newFoundDocument(e,n,r,i){return new Ge(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new Ge(e,2,n,q.min(),q.min(),f2.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,q.min(),q.min(),f2.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=f2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=f2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wr{constructor(e,n){this.position=e,this.inclusive=n}}function mj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(r=s.field.isKeyField()?A.comparator(A.fromName(a.referenceValue),n.key):Gr(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function gj(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yn(t.position[n],e.position[n]))return!1;return!0}class Ka{constructor(e,n="asc"){this.field=e,this.dir=n}}function pRe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vj{}class fe extends vj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new mRe(e,n,r):"array-contains"===n?new yRe(e,r):"in"===n?new bj(e,r):"not-in"===n?new _Re(e,r):"array-contains-any"===n?new CRe(e,r):new fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new gRe(e,r):new vRe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Gr(n,this.value)):null!==n&&qr(this.value)===qr(n)&&this.matchesComparison(Gr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ie extends vj{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ie(e,n)}matches(e){return Ya(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ya(t){return"and"===t.op}function e_(t){return function yj(t){for(const e of t.filters)if(e instanceof Ie)return!1;return!0}(t)&&Ya(t)}function t_(t){if(t instanceof fe)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(e_(t))return t.filters.map(e=>t_(e)).join(",");{const e=t.filters.map(n=>t_(n)).join(",");return`${t.op}(${e})`}}function _j(t,e){return t instanceof fe?(n=t,(r=e)instanceof fe&&n.op===r.op&&n.field.isEqual(r.field)&&yn(n.value,r.value)):t instanceof Ie?function(n,r){return r instanceof Ie&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,a)=>i&&_j(s,r.filters[a]),!0)}(t,e):void O();var n,r}function Mj(t){return t instanceof fe?`${(e=t).field.canonicalString()} ${e.op} ${Wa(e.value)}`:t instanceof Ie?function(e){return e.op.toString()+" {"+e.getFilters().map(Mj).join(" ,")+"}"}(t):"Filter";var e}class mRe extends fe{constructor(e,n,r){super(e,n,r),this.key=A.fromName(r.referenceValue)}matches(e){const n=A.comparator(e.key,this.key);return this.matchesComparison(n)}}class gRe extends fe{constructor(e,n){super(e,"in",n),this.keys=wj(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vRe extends fe{constructor(e,n){super(e,"not-in",n),this.keys=wj(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wj(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>A.fromName(r.referenceValue))}class yRe extends fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rc(n)&&nc(n.arrayValue,this.value)}}class bj extends fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&nc(this.value.arrayValue,n)}}class _Re extends fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!nc(this.value.arrayValue,n)}}class CRe extends fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}class MRe{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.dt=null}}function n_(t,e=null,n=[],r=[],i=null,s=null,a=null){return new MRe(t,e,n,r,i,s,a)}function Ji(t){const e=T(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>t_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Z3(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wa(r)).join(",")),e.dt=n}return e.dt}function sc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pRe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_j(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gj(t.startAt,e.startAt)&&gj(t.endAt,e.endAt)}function ru(t){return A.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class er{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.wt=null,this._t=null}}function Qa(t){return new er(t)}function zj(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function r_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function su(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function i_(t){return null!==t.collectionGroup}function Zi(t){const e=T(t);if(null===e.wt){e.wt=[];const n=su(e),r=r_(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ka(n)),e.wt.push(new Ka(Mt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ka(Mt.keyField(),s))}}}return e.wt}function R2(t){const e=T(t);if(!e._t)if("F"===e.limitType)e._t=n_(e.path,e.collectionGroup,Zi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Zi(e))n.push(new Ka(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Wr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Wr(e.startAt.position,e.startAt.inclusive):null;e._t=n_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function s_(t,e){e.getFirstInequalityField(),su(t);const n=t.filters.concat([e]);return new er(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function au(t,e,n){return new er(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ac(t,e){return sc(R2(t),R2(e))&&t.limitType===e.limitType}function xj(t){return`${Ji(R2(t))}|lt:${t.limitType}`}function a_(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Mj(r)).join(", ")}]`),Z3(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wa(r)).join(",")),`Target(${n})`}(R2(t))}; limitType=${t.limitType})`}function oc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):A.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Zi(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,a){const o=mj(i,s,a);return i.inclusive?o<=0:o<0}(n.startAt,Zi(n),r)||n.endAt&&!function(i,s,a){const o=mj(i,s,a);return i.inclusive?o>=0:o>0}(n.endAt,Zi(n),r)));var n,r}function Ij(t){return(e,n)=>{let r=!1;for(const i of Zi(t)){const s=wRe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function wRe(t,e,n){const r=t.field.isKeyField()?A.comparator(e.key,n.key):function(i,s,a){const o=s.data.field(i),c=a.data.field(i);return null!==o&&null!==c?Gr(o,c):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class tr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sj(this.inner)}size(){return this.innerSize}}const bRe=new Be(A.comparator);function X2(){return bRe}const Lj=new Be(A.comparator);function cc(...t){let e=Lj;for(const n of t)e=e.insert(n.key,n);return e}function Dj(t){let e=Lj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _n(){return lc()}function Aj(){return lc()}function lc(){return new tr(t=>t.toString(),(t,e)=>t.isEqual(e))}const VRe=new Be(A.comparator),HRe=new qe(A.comparator);function oe(...t){let e=HRe;for(const n of t)e=e.add(n);return e}const SRe=new qe(te);function Tj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function Nj(t){return{integerValue:""+t}}function kj(t,e){return function XU(t){return"number"==typeof t&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Nj(e):Tj(t,e)}class ou{constructor(){this._=void 0}}function zRe(t,e,n){return t instanceof Xa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&J8(i)&&(i=Z8(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof es?Rj(t,e):t instanceof ts?Oj(t,e):function(r,i){const s=Pj(r,i),a=Fj(s)+Fj(r.gt);return Jy(s)&&Jy(r.gt)?Nj(a):Tj(r.serializer,a)}(t,e)}function xRe(t,e,n){return t instanceof es?Rj(t,e):t instanceof ts?Oj(t,e):n}function Pj(t,e){return t instanceof Ja?Jy(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Xa extends ou{}class es extends ou{constructor(e){super(),this.elements=e}}function Rj(t,e){const n=Bj(e);for(const r of t.elements)n.some(i=>yn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ts extends ou{constructor(e){super(),this.elements=e}}function Oj(t,e){let n=Bj(e);for(const r of t.elements)n=n.filter(i=>!yn(i,r));return{arrayValue:{values:n}}}class Ja extends ou{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Fj(t){return dt(t.integerValue||t.doubleValue)}function Bj(t){return rc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class IRe{constructor(e,n){this.version=e,this.transformResults=n}}class Ze{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class lu{}function Uj(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new e4(t.key,Ze.none()):new Za(t.key,t.data,Ze.none());{const n=t.data,r=f2.empty();let i=new qe(Mt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);null===a&&s.length>1&&(s=s.popLast(),a=n.field(s)),null===a?r.delete(s):r.set(s,a),i=i.add(s)}return new nr(t.key,r,new Q2(i.toArray()),Ze.none())}}function LRe(t,e,n){t instanceof Za?function(r,i,s){const a=r.value.clone(),o=qj(r.fieldTransforms,i,s.transformResults);a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof nr?function(r,i,s){if(!cu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=qj(r.fieldTransforms,i,s.transformResults),o=i.data;o.setAll($j(r)),o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function fc(t,e,n,r){return t instanceof Za?function(i,s,a,o){if(!cu(i.precondition,s))return a;const c=i.value.clone(),l=Gj(i.fieldTransforms,o,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof nr?function(i,s,a,o){if(!cu(i.precondition,s))return a;const c=Gj(i.fieldTransforms,o,s),l=s.data;return l.setAll($j(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(a=n,cu(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function DRe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Pj(r.transform,i||null);null!=s&&(null===n&&(n=f2.empty()),n.set(r.field,s))}return n||null}function jj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&qa(n,r,(i,s)=>function ERe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof es&&r instanceof es||n instanceof ts&&r instanceof ts?qa(n.elements,r.elements,yn):n instanceof Ja&&r instanceof Ja?yn(n.gt,r.gt):n instanceof Xa&&r instanceof Xa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Za extends lu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nr extends lu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $j(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qj(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,xRe(a,o,n[i]))}return r}function Gj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,zRe(s,a,e))}return r}class e4 extends lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c_ extends lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class l_{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LRe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Aj();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const c=Uj(a,o);null!==c&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(n,r)=>jj(n,r))&&qa(this.baseMutations,e.baseMutations,(n,r)=>jj(n,r))}}class u_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=VRe;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new u_(e,n,r,i)}}class f_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class TRe{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,ve;function Kj(t){if(void 0===t)return Ct("GRPC error has no .code"),M.UNKNOWN;switch(t){case xt.OK:return M.OK;case xt.CANCELLED:return M.CANCELLED;case xt.UNKNOWN:return M.UNKNOWN;case xt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case xt.INTERNAL:return M.INTERNAL;case xt.UNAVAILABLE:return M.UNAVAILABLE;case xt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case xt.NOT_FOUND:return M.NOT_FOUND;case xt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case xt.ABORTED:return M.ABORTED;case xt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case xt.DATA_LOSS:return M.DATA_LOSS;default:return O()}}(ve=xt||(xt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";class d_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return uu}static getOrCreateInstance(){return null===uu&&(uu=new d_),uu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let uu=null;const NRe=new ja([4294967295,4294967295],0);function Qj(t){const e=function Yj(){return new TextEncoder}().encode(t),n=new IPe;return n.update(e),new Uint8Array(n.digest())}function Xj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ja([n,r],0),new ja([i,s],0)]}class h_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dc(`Invalid padding: ${n}`);if(r<0)throw new dc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new dc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new dc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ja.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ja.fromNumber(r)));return 1===i.compare(NRe)&&(i=new ja([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Qj(e),[r,i]=Xj(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);if(!this.At(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new h_(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(0===this.It)return;const n=Qj(e),[r,i]=Xj(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);this.Rt(a)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hc(q.min(),i,new Be(te),X2(),oe())}}class pc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pc(r,n,oe(),oe(),oe())}}class fu{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class Jj{constructor(e,n){this.targetId=e,this.Vt=n}}class Zj{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class e${constructor(){this.St=0,this.Dt=n$(),this.Ct=Pt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new pc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=n$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kRe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=X2(),this.zt=t$(),this.Wt=new Be(te)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const a=s.target;if(ru(a))if(0===i){const o=new A(a.path);this.Yt(r,o,Ge.newNoDocument(o,q.min()))}else j(1===i);else{const o=this.ie(r);if(o!==i){const c=this.re(e,o);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=d_.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,g,v,_;const y={localCacheCount:u,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(y.bloomFilter={applied:0===l,hashCount:null!==(d=w?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(g=null===(p=null===(h=w?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(_=null===(v=w?.bits)||void 0===v?void 0:v.padding)&&void 0!==_?_:0}),y}(c,o,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=r;let c,l;try{c=Zn(s).toUint8Array()}catch(u){if(u instanceof oj)return U1("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new h_(c,a,o)}catch(u){return U1(u instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const a=this.Gt.ue(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(o)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,a)=>{const o=this.se(a);if(o){if(s.current&&ru(o.target)){const c=new A(o.target.path);null!==this.jt.get(c)||this.ae(a,c)||this.Yt(a,c,Ge.newNoDocument(c,e))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let r=oe();this.zt.forEach((s,a)=>{let o=!0;a.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(o=!1,!1)}),o&&(r=r.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const i=new hc(e,n,this.Wt,this.jt,r);return this.jt=X2(),this.zt=t$(),this.Wt=new Be(te),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new e$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new qe(te),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||x("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new e$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function t$(){return new Be(A.comparator)}function n$(){return new Be(A.comparator)}const PRe={asc:"ASCENDING",desc:"DESCENDING"},RRe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ORe={and:"AND",or:"OR"};class FRe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p_(t,e){return t.useProto3Json||Z3(e)?e:{value:e}}function t4(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BRe(t,e){return t4(t,e.toTimestamp())}function wt(t){return j(!!t),q.fromTimestamp(function(e){const n=jr(e);return new st(n.seconds,n.nanos)}(t))}function m_(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function i$(t){const e=ge.fromString(t);return j(h$(e)),e}function mc(t,e){return m_(t.databaseId,e.path)}function Cn(t,e){const n=i$(e);if(n.get(1)!==t.databaseId.projectId)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new A(a$(n))}function g_(t,e){return m_(t.databaseId,e)}function gc(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a$(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function o$(t,e,n){return{name:mc(t,e),fields:n.value.mapValue.fields}}function l$(t,e){return{documents:[g_(t,e.path)]}}function y_(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=g_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=g_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return d$(Ie.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Kr((u=l).field),direction:GRe(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=p_(t,e.limit);var o,c;return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(o=e.startAt).inclusive,values:o.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function u$(t){let e=function s$(t){const e=i$(t);return 4===e.length?ge.emptyPath():a$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const f=f$(u);return f instanceof Ie&&e_(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(u=>{return new Ka(n4((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let o=null;n.limit&&(o=function(u){let f;return f="object"==typeof u?u.value:u,Z3(f)?null:f}(n.limit));let c=null;var u;n.startAt&&(c=new Wr((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new Wr(u.values||[],!u.before)}(n.endAt)),function Sj(t,e,n,r,i,s,a,o){return new er(t,e,n,r,i,s,a,o)}(e,i,a,s,o,"F",c,l)}function f$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=n4(e.unaryFilter.field);return fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=n4(e.unaryFilter.field);return fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=n4(e.unaryFilter.field);return fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=n4(e.unaryFilter.field);return fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?fe.create(n4((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ie.create(e.compositeFilter.filters.map(n=>f$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O();var e}function GRe(t){return PRe[t]}function WRe(t){return RRe[t]}function KRe(t){return ORe[t]}function Kr(t){return{fieldPath:t.canonicalString()}}function n4(t){return Mt.fromServerFormat(t.fieldPath)}function d$(t){return t instanceof fe?function(e){if("=="===e.op){if(uj(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NAN"}};if(lj(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uj(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NOT_NAN"}};if(lj(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(e.field),op:WRe(e.op),value:e.value}}}(t):t instanceof Ie?function(e){const n=e.getFilters().map(r=>d$(r));return 1===n.length?n[0]:{compositeFilter:{op:KRe(e.op),filters:n}}}(t):O()}function YRe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class rr{constructor(e,n,r,i,s=q.min(),a=q.min(),o=Pt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class p${constructor(e){this.fe=e}}function __(t){const e=u$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?au(e,e.limit,"L"):e}class ss{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(dt(e.integerValue));else if("doubleValue"in e){const r=dt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ec(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Zn(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?fj(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),A.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ss.Ve=new ss;class iOe{constructor(){this.rn=new H_}addToCollectionParentIndex(e,n){return this.rn.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(f1.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(f1.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class H_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(ge.comparator)).toArray()}}new Uint8Array(0);class b2{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new b2(e,b2.DEFAULT_COLLECTION_PERCENTILE,b2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}b2.DEFAULT_COLLECTION_PERCENTILE=10,b2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,b2.DEFAULT=new b2(41943040,b2.DEFAULT_COLLECTION_PERCENTILE,b2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),b2.DISABLED=new b2(-1,0,0);class os{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new os(0)}static Mn(){return new os(-1)}}class uOe{constructor(){this.changes=new tr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hOe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class F${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&fc(r.mutation,i,Q2.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=_n();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=cc();return s.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=_n();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=X2();const a=lc(),o=lc();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof nr)?s=s.insert(l.key,l):void 0!==u?(a.set(l.key,u.mutation.getFieldMask()),fc(u.mutation,l,u.mutation.getFieldMask(),st.now())):a.set(l.key,Q2.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>a.set(l,u)),n.forEach((l,u)=>{var f;return o.set(l,new hOe(u,null!==(f=a.get(l))&&void 0!==f?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=lc();let i=new Be((a,o)=>a-o),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Q2.empty();u=o.applyToLocalView(l,u),r.set(c,u);const f=(i.get(o.batchId)||oe()).add(c);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),l=c.key,u=c.value,f=Aj();u.forEach(d=>{if(!s.has(d)){const h=Uj(n.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,f))}return C.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return A.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):i_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):C.resolve(_n());let o=-1,c=s;return a.next(l=>C.forEach(l,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,oe())).next(u=>({batchId:o,changes:Dj(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new A(n)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=cc();return this.indexManager.getCollectionParents(e,i).next(a=>C.forEach(a,o=>{const c=(l=n,u=o.child(i),new er(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((o,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Ge.newInvalidDocument(l)))});let a=cc();return s.forEach((o,c)=>{const l=i.get(o);void 0!==l&&fc(l.mutation,c,Q2.empty(),st.now()),oc(n,c)&&(a=a.insert(o,c))}),a})}}class pOe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return C.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:wt(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:__(r.bundledQuery),readTime:wt(r.readTime)}),C.resolve();var r}}class mOe{constructor(){this.overlays=new Be(A.comparator),this.ls=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_n();return C.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const i=_n(),s=n.length+1,a=new A(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return C.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=_n(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=_n(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return C.resolve(o)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new f_(n,r));let s=this.ls.get(n);void 0===s&&(s=oe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class S_{constructor(){this.fs=new qe(Jt.ds),this.ws=new qe(Jt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Jt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new A(new ge([])),r=new Jt(n,e),i=new Jt(n,e+1),s=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new A(new ge([])),r=new Jt(n,e),i=new Jt(n,e+1);let s=oe();return this.ws.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Jt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return A.comparator(e.key,n.key)||te(e.As,n.As)}static _s(e,n){return te(e.As,n.As)||A.comparator(e.key,n.key)}}class gOe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new qe(Jt.ds)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const a=new l_(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Rs=this.Rs.add(new Jt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return C.resolve(a)}lookupMutationBatch(e,n){return C.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),i=new Jt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],a=>{const o=this.Ps(a.As);s.push(o)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(te);return n.forEach(i=>{const s=new Jt(i,0),a=new Jt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],o=>{r=r.add(o.As)})}),C.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;A.isDocumentKey(s)||(s=s.child(""));const a=new Jt(new A(s),0);let o=new qe(te);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(o=o.add(c.As)),!0)},a),C.resolve(this.Vs(o))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return C.forEach(n.mutations,i=>{const s=new Jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Jt(n,0),i=this.Rs.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vOe{constructor(e){this.Ds=e,this.docs=new Be(A.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let r=X2();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ge.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=X2();const a=n.path,o=new A(a.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||Wy(KU(u),r)<=0||(i.has(u.key)||oc(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yOe(this)}getSize(e){return C.resolve(this.size)}}class yOe extends uOe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class _Oe{constructor(e){this.persistence=e,this.xs=new tr(n=>Ji(n),sc),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new S_,this.targetCount=0,this.Ms=os.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),C.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new os(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.Fn(n),C.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((a,o)=>{o.sequenceNumber<=n&&null===r.get(o.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.ks.containsKey(n))}}class z_{constructor(e,n){this.$s={},this.overlays={},this.Os=new d1(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new _Oe(this),this.indexManager=new iOe,this.remoteDocumentCache=new vOe(r=>this.referenceDelegate.Ls(r)),this.serializer=new p$(n),this.qs=new pOe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mOe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new gOe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const i=new COe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return C.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class COe extends BPe{constructor(e){super(),this.currentSequenceNumber=e}}class Cu{constructor(e){this.persistence=e,this.Qs=new S_,this.js=null}static zs(e){return new Cu(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),C.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ws,r=>{const i=A.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return C.or([()=>C.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class L_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new L_(e,n.fromCache,r,i)}}class U${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(zj(n))return C.resolve(null);let r=R2(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=au(n,null,"F"),r=R2(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=oe(...s);return this.Ui.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(n,o);return this.zi(n,l,a,c.readTime)?this.Ki(e,au(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,r,i){return zj(n)||i.isEqual(q.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const a=this.ji(n,s);return this.zi(n,a,r,i)?this.Qi(e,n):($y()<=ye.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),a_(n)),this.Wi(e,a,n,function WU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new st(n+1,0):new st(n,r));return new f1(i,A.empty(),e)}(i,-1)))})}ji(e,n){let r=new qe(Ij(e));return n.forEach((i,s)=>{oc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return $y()<=ye.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",a_(n)),this.Ui.getDocumentsMatchingQuery(e,n,f1.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}class wOe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Be(te),this.Yi=new tr(s=>Ji(s),sc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function $$(t,e){return D_.apply(this,arguments)}function D_(){return D_=m(function*(t,e){const n=T(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let c=oe();for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:a,addedBatchIds:o}))})})}),D_.apply(this,arguments)}function q$(t){const e=T(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function HOe(t,e){const n=T(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a4(t,e,n){return A_.apply(this,arguments)}function A_(){return A_=m(function*(t,e,n){const r=T(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Br(a))throw a;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),A_.apply(this,arguments)}function bu(t,e,n){const r=T(t);let i=q.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",a=>function(o,c,l){const u=T(o),f=u.Yi.get(l);return void 0!==f?C.resolve(u.Ji.get(f)):u.Bs.getTargetData(c,l)}(r,a,R2(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,o.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,e,n?i:q.min(),n?s:oe())).next(o=>(function Y$(t,e,n){let r=t.Xi.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function Ej(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),o),{documents:o,ir:s})))}class R_{constructor(){this.activeTargetIds=function o_(){return SRe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J${constructor(){this.Hr=new R_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new R_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xOe{Yr(e){}shutdown(){}}class Z${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Su=null;function F_(){return null===Su?Su=268435456+Math.round(2147483648*Math.random()):Su++,"0x"+Su.toString(16)}const EOe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IOe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const V2="WebChannelConnection";class LOe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const a=F_(),o=this.To(e,n);x("RestConnection",`Sending RPC '${e}' ${a}:`,o,r);const c={};return this.Eo(c,i,s),this.Ao(e,o,c,r).then(l=>(x("RestConnection",`Received RPC '${e}' ${a}: `,l),l),l=>{throw U1("RestConnection",`RPC '${e}' ${a} failed with error: `,l,"url: ",o,"request:",r),l})}vo(e,n,r,i,s,a){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$a,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${EOe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=F_();return new Promise((a,o)=>{const c=new EPe;c.setWithCredentials(!0),c.listenOnce(SPe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case jy.NO_ERROR:const u=c.getResponseJson();x(V2,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case jy.TIMEOUT:x(V2,`RPC '${e}' ${s} timed out`),o(new H(M.DEADLINE_EXCEEDED,"Request time out"));break;case jy.HTTP_ERROR:const f=c.getStatus();if(x(V2,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(h.status);o(new H(p,h.message))}else o(new H(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new H(M.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{x(V2,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);x(V2,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=F_(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VPe(),o=HPe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new xPe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");x(V2,`Creating RPC '${e}' stream ${i}: ${u}`,c);const f=a.createWebChannel(u,c);let d=!1,h=!1;const p=new IOe({ro:v=>{h?x(V2,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(x(V2,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),x(V2,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},oo:()=>f.close()}),g=(v,_,y)=>{v.listen(_,w=>{try{y(w)}catch(L){setTimeout(()=>{throw L},0)}})};return g(f,G8.EventType.OPEN,()=>{h||x(V2,`RPC '${e}' stream ${i} transport opened.`)}),g(f,G8.EventType.CLOSE,()=>{h||(h=!0,x(V2,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(f,G8.EventType.ERROR,v=>{h||(h=!0,U1(V2,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new H(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,G8.EventType.MESSAGE,v=>{var _;if(!h){const y=v.data[0];j(!!y);const L=y.error||(null===(_=y[0])||void 0===_?void 0:_.error);if(L){x(V2,`RPC '${e}' stream ${i} received error:`,L);const k=L.status;let K=function(It){const Ft=xt[It];if(void 0!==Ft)return Kj(Ft)}(k),he=L.message;void 0===K&&(K=M.INTERNAL,he="Unknown error status: "+k+" with message "+L.message),h=!0,p.wo(new H(K,he)),f.close()}else x(V2,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(o,zPe.STAT_EVENT,v=>{v.stat===BU.PROXY?x(V2,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===BU.NOPROXY&&x(V2,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function zu(){return typeof document<"u"?document:null}function Sc(t){return new FRe(t,!0)}class B_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class tq{constructor(e,n,r,i,s,a,o,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new B_(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Ct(n.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new H(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DOe extends tq{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function jRe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:O(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(j(void 0===l||"string"==typeof l),Pt.fromBase64String(l||"")):(j(void 0===l||l instanceof Uint8Array),Pt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const l=void 0===c.code?M.UNKNOWN:Kj(c.code);return new H(l,c.message||"")}(a);n=new Zj(r,i,s,o||null)}else if("documentChange"in e){const r=e.documentChange,i=Cn(t,r.document.name),s=wt(r.document.updateTime),a=r.document.createTime?wt(r.document.createTime):q.min(),o=new f2({mapValue:{fields:r.document.fields}}),c=Ge.newFoundDocument(i,s,a,o);n=new fu(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Cn(t,r.document),s=r.readTime?wt(r.readTime):q.min(),a=Ge.newNoDocument(i,s);n=new fu([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const r=e.documentRemove,i=Cn(t,r.document);n=new fu([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,a=new TRe(i,s);n=new Jj(r.targetId,a)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?wt(s.readTime):q.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=gc(this.serializer),n.addTarget=function(i,s){let a;const o=s.target;if(a=ru(o)?{documents:l$(i,o)}:{query:y_(i,o)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=r$(i,s.resumeToken);const c=p_(i,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(q.min())>0){a.readTime=t4(i,s.snapshotVersion.toTimestamp());const c=p_(i,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function qRe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=gc(this.serializer),n.removeTarget=e,this.Wo(n)}}class AOe extends tq{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function $Re(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=wt(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=wt(i)),new IRe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=wt(e.commitTime);return this.listener.cu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function vc(t,e){let n;if(e instanceof Za)n={update:o$(t,e.key,e.value)};else if(e instanceof e4)n={delete:mc(t,e.key)};else if(e instanceof nr)n={update:o$(t,e.key,e.data),updateMask:YRe(e.fieldMask)};else{if(!(e instanceof c_))return O();n={verify:mc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof Xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof es)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ts)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ja)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:BRe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.serializer,r))};this.Wo(n)}}class TOe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,n,r,s,a,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class kOe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ct(n),this.mu=!1):x("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class POe{constructor(e,n,r,i,s){var a=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(m(function*(){var c;Jr(a)&&(x("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=T(l);u.vu.add(4),yield o4(u),u.bu.set("Unknown"),u.vu.delete(4),yield zc(u)}),function(l){return c.apply(this,arguments)})(a))}))}),this.bu=new kOe(r,i)}}function zc(t){return j_.apply(this,arguments)}function j_(){return j_=m(function*(t){if(Jr(t))for(const e of t.Ru)yield e(!0)}),j_.apply(this,arguments)}function o4(t){return $_.apply(this,arguments)}function $_(){return $_=m(function*(t){for(const e of t.Ru)yield e(!1)}),$_.apply(this,arguments)}function xu(t,e){const n=T(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),W_(n)?G_(n):l4(n).Ko()&&q_(n,e))}function xc(t,e){const n=T(t),r=l4(n);n.Au.delete(e),r.Ko()&&nq(n,e),0===n.Au.size&&(r.Ko()?r.jo():Jr(n)&&n.bu.set("Unknown"))}function q_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}l4(t).su(e)}function nq(t,e){t.Vu.qt(e),l4(t).iu(e)}function G_(t){t.Vu=new kRe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),l4(t).start(),t.bu.gu()}function W_(t){return Jr(t)&&!l4(t).Uo()&&t.Au.size>0}function Jr(t){return 0===T(t).vu.size}function rq(t){t.Vu=void 0}function ROe(t){return K_.apply(this,arguments)}function K_(){return K_=m(function*(t){t.Au.forEach((e,n)=>{q_(t,e)})}),K_.apply(this,arguments)}function OOe(t,e){return Y_.apply(this,arguments)}function Y_(){return Y_=m(function*(t,e){rq(t),W_(t)?(t.bu.Iu(e),G_(t)):t.bu.set("Unknown")}),Y_.apply(this,arguments)}function FOe(t,e,n){return Q_.apply(this,arguments)}function Q_(){return Q_=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof Zj&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const a=s.cause;for(const o of s.targetIds)i.Au.has(o)&&(yield i.remoteSyncer.rejectListen(o,a),i.Au.delete(o),i.Vu.removeTarget(o))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Eu(t,r)}else if(e instanceof fu?t.Vu.Ht(e):e instanceof Jj?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(q.min()))try{const r=yield q$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const a=i.Vu.ce(s);return a.targetChanges.forEach((o,c)=>{if(o.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(o.resumeToken,s))}}),a.targetMismatches.forEach((o,c)=>{const l=i.Au.get(o);if(!l)return;i.Au.set(o,l.withResumeToken(Pt.EMPTY_BYTE_STRING,l.snapshotVersion)),nq(i,o);const u=new rr(l.target,o,c,l.sequenceNumber);q_(i,u)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){x("RemoteStore","Failed to raise snapshot:",r),yield Eu(t,r)}var r}),Q_.apply(this,arguments)}function Eu(t,e,n){return X_.apply(this,arguments)}function X_(){return X_=m(function*(t,e,n){if(!Br(e))throw e;t.vu.add(1),yield o4(t),t.bu.set("Offline"),n||(n=()=>q$(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){x("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield zc(t)}))}),X_.apply(this,arguments)}function iq(t,e){return e().catch(n=>Eu(t,n,e))}function c4(t){return J_.apply(this,arguments)}function J_(){return J_=m(function*(t){const e=T(t),n=Zr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;BOe(e);)try{const i=yield HOe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,UOe(e,i)}catch(i){yield Eu(e,i)}sq(e)&&aq(e)}),J_.apply(this,arguments)}function BOe(t){return Jr(t)&&t.Eu.length<10}function UOe(t,e){t.Eu.push(e);const n=Zr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function sq(t){return Jr(t)&&!Zr(t).Uo()&&t.Eu.length>0}function aq(t){Zr(t).start()}function jOe(t){return Z_.apply(this,arguments)}function Z_(){return Z_=m(function*(t){Zr(t).hu()}),Z_.apply(this,arguments)}function $Oe(t){return eC.apply(this,arguments)}function eC(){return eC=m(function*(t){const e=Zr(t);for(const n of t.Eu)e.uu(n.mutations)}),eC.apply(this,arguments)}function qOe(t,e,n){return tC.apply(this,arguments)}function tC(){return tC=m(function*(t,e,n){const r=t.Eu.shift(),i=u_.from(r,e,n);yield iq(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield c4(t)}),tC.apply(this,arguments)}function GOe(t,e){return nC.apply(this,arguments)}function nC(){return nC=m(function*(t,e){var n;e&&Zr(t).ou&&(yield(n=m(function*(r,i){if(function Wj(t){switch(t){default:return O();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(s=i.code)&&s!==M.ABORTED){const a=r.Eu.shift();Zr(r).Qo(),yield iq(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),yield c4(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),sq(t)&&aq(t)}),nC.apply(this,arguments)}function oq(t,e){return rC.apply(this,arguments)}function rC(){return rC=m(function*(t,e){const n=T(t);n.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=Jr(n);n.vu.add(3),yield o4(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield zc(n)}),rC.apply(this,arguments)}function sC(){return sC=m(function*(t,e){const n=T(t);e?(n.vu.delete(2),yield zc(n)):e||(n.vu.add(2),yield o4(n),n.bu.set("Unknown"))}),sC.apply(this,arguments)}function l4(t){return t.Su||(t.Su=function(e,n,r){const i=T(e);return i.fu(),new DOe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ROe.bind(null,t),ao:OOe.bind(null,t),nu:FOe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),W_(t)?G_(t):t.bu.set("Unknown")):(yield t.Su.stop(),rq(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Zr(t){return t.Du||(t.Du=function(e,n,r){const i=T(e);return i.fu(),new AOe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:jOe.bind(null,t),ao:GOe.bind(null,t),au:$Oe.bind(null,t),cu:qOe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield c4(t)):(yield t.Du.stop(),t.Eu.length>0&&(x("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class aC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new aC(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u4(t,e){if(Ct("AsyncQueue",`${e}: ${t}`),Br(t))return new H(M.UNAVAILABLE,`${e}: ${t}`);throw t}class f4{constructor(e){this.comparator=e?(n,r)=>e(n,r)||A.comparator(n.key,r.key):(n,r)=>A.comparator(n.key,r.key),this.keyedMap=cc(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new f4(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof f4)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new f4;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cq{constructor(){this.Cu=new Be(A.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class d4{constructor(e,n,r,i,s,a,o,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new d4(e,n,f4.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class WOe{constructor(){this.Nu=void 0,this.listeners=[]}}class KOe{constructor(){this.queries=new tr(e=>xj(e),ac),this.onlineState="Unknown",this.ku=new Set}}function cC(){return cC=m(function*(t,e){const n=T(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new WOe),i)try{s.Nu=yield n.onListen(r)}catch(a){const o=u4(a,`Initialization of query '${a_(e.query)}' failed`);return void e.onError(o)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&fC(n)}),cC.apply(this,arguments)}function uC(){return uC=m(function*(t,e){const n=T(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),uC.apply(this,arguments)}function YOe(t,e){const n=T(t);let r=!1;for(const i of e){const a=n.queries.get(i.query);if(a){for(const o of a.listeners)o.$u(i)&&(r=!0);a.Nu=i}}r&&fC(n)}function QOe(t,e,n){const r=T(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function fC(t){t.ku.forEach(e=>{e.next()})}class dC{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new d4(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=d4.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fq{constructor(e){this.key=e}}class dq{constructor(e){this.key=e}}class hq{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=Ij(e),this.ec=new f4(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new cq,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=oc(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.rc(d,h)||(r.track({type:2,doc:h}),v=!0,(c&&this.tc(h,c)>0||l&&this.tc(h,l)<0)&&(o=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(c||l)&&(o=!0)),v&&(h?(a=a.add(h),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const u="F"===this.query.limitType?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:a,ic:r,zi:o,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return h(f)-h(d)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const a=n?this.uc():[],o=0===this.Zu.size&&this.current?1:0,c=o!==this.Xu;return this.Xu=o,0!==s.length||c?{snapshot:new d4(this.query,e.ec,i,s,e.mutatedKeys,0===o,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cq,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new dq(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new fq(r))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return d4.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ZOe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eFe{constructor(e){this.key=e,this.fc=!1}}class tFe{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new tr(o=>xj(o),ac),this._c=new Map,this.mc=new Set,this.gc=new Be(A.comparator),this.yc=new Map,this.Ic=new S_,this.Tc={},this.Ec=new Map,this.Ac=os.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function nFe(t,e){return hC.apply(this,arguments)}function hC(){return hC=m(function*(t,e){const n=function kC(t){const e=T(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fFe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sFe.bind(null,e),e.dc.nu=YOe.bind(null,e.eventManager),e.dc.Pc=QOe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const a=yield function s4(t,e){const n=T(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.Bs.allocateTargetId(r).next(a=>(i=new rr(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,R2(e)),o=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=yield function pC(t,e,n,r,i){return mC.apply(this,arguments)}(n,e,r,"current"===o,a.resumeToken),n.isPrimaryClient&&xu(n.remoteStore,a)}return i}),hC.apply(this,arguments)}function mC(){return mC=m(function*(t,e,n,r,i){t.Rc=(f,d,h)=>{return(p=m(function*(g,v,_,y){let w=v.view.sc(_);w.zi&&(w=yield bu(g.localStore,v.query,!1).then(({documents:K})=>v.view.sc(K,w)));const L=y&&y.targetChanges.get(v.targetId),k=v.view.applyChanges(w,g.isPrimaryClient,L);return HC(g,v.targetId,k.cc),k.snapshot}),function(g,v,_,y){return p.apply(this,arguments)})(t,f,d,h);var p};const s=yield bu(t.localStore,e,!0),a=new hq(e,s.ir),o=a.sc(s.documents),c=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=a.applyChanges(o,t.isPrimaryClient,c);HC(t,n,l.cc);const u=new ZOe(e,n,a);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),mC.apply(this,arguments)}function rFe(t,e){return gC.apply(this,arguments)}function gC(){return gC=m(function*(t,e){const n=T(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ac(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield a4(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xc(n.remoteStore,r.targetId),h4(n,r.targetId)}).catch(Fr))):(h4(n,r.targetId),yield a4(n.localStore,r.targetId,!0))}),gC.apply(this,arguments)}function vC(){return vC=m(function*(t,e,n){const r=function PC(t){const e=T(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aFe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oFe.bind(null,e),e}(t);try{const i=yield function(s,a){const o=T(s),c=st.now(),l=a.reduce((d,h)=>d.add(h.key),oe());let u,f;return o.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=X2(),p=oe();return o.Zi.getEntries(d,l).next(g=>{h=g,h.forEach((v,_)=>{_.isValidDocument()||(p=p.add(v))})}).next(()=>o.localDocuments.getOverlayedDocuments(d,h)).next(g=>{u=g;const v=[];for(const _ of a){const y=DRe(_,u.get(_.key).overlayedDocument);null!=y&&v.push(new nr(_.key,y,pj(y.value.mapValue),Ze.exists(!0)))}return o.mutationQueue.addMutationBatch(d,c,v,a)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(u,p);return o.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:Dj(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,o){let c=s.Tc[s.currentUser.toKey()];c||(c=new Be(te)),c=c.insert(a,o),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield ir(r,i.changes),yield c4(r.remoteStore)}catch(i){const s=u4(i,"Failed to persist write");n.reject(s)}}),vC.apply(this,arguments)}function pq(t,e){return yC.apply(this,arguments)}function yC(){return yC=m(function*(t,e){const n=T(t);try{const r=yield function VOe(t,e){const n=T(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;o.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,g,v;null!==e.targetMismatches.get(f)?h=h.withResumeToken(Pt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),g=h,v=u,(0===(p=d).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&o.push(n.Bs.updateTargetData(s,h))});let c=X2(),l=oe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(function G$(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=X2();return n.forEach((o,c)=>{const l=s.get(o);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):x("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",c.version)}),{nr:a,sr:i}})}(s,a,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(q.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return C.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.yc.get(s);a&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?j(a.fc):i.removedDocuments.size>0&&(j(a.fc),a.fc=!1))}),yield ir(n,r,e)}catch(r){yield Fr(r)}}),yC.apply(this,arguments)}function mq(t,e,n){const r=T(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,a)=>{const o=a.view.Mu(e);o.snapshot&&i.push(o.snapshot)}),function(s,a){const o=T(s);o.onlineState=a;let c=!1;o.queries.forEach((l,u)=>{for(const f of u.listeners)f.Mu(a)&&(c=!0)}),c&&fC(o)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sFe(t,e,n){return _C.apply(this,arguments)}function _C(){return _C=m(function*(t,e,n){const r=T(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let a=new Be(A.comparator);a=a.insert(s,Ge.newNoDocument(s,q.min()));const o=oe().add(s),c=new hc(q.min(),new Map,new Be(te),a,o);yield pq(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),SC(r)}else yield a4(r.localStore,e,!1).then(()=>h4(r,e,n)).catch(Fr)}),_C.apply(this,arguments)}function aFe(t,e){return CC.apply(this,arguments)}function CC(){return CC=m(function*(t,e){const n=T(t),r=e.batch.batchId;try{const i=yield function bOe(t,e){const n=T(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,o,c,l){const u=c.batch,f=u.keys();let d=C.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(o,h)).next(p=>{const g=c.docVersions.get(h);j(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(o,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(o=o.add(a.batch.mutations[c].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);VC(n,r,null),bC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ir(n,i)}catch(i){yield Fr(i)}}),CC.apply(this,arguments)}function oFe(t,e,n){return MC.apply(this,arguments)}function MC(){return MC=m(function*(t,e,n){const r=T(t);try{const i=yield function(s,a){const o=T(s);return o.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return o.mutationQueue.lookupMutationBatch(c,a).next(u=>(j(null!==u),l=u.keys(),o.mutationQueue.removeMutationBatch(c,u))).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>o.localDocuments.getDocuments(c,l))})}(r.localStore,e);VC(r,e,n),bC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ir(r,i)}catch(i){yield Fr(i)}}),MC.apply(this,arguments)}function bC(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function VC(t,e,n){const r=T(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function h4(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||gq(t,r)})}function gq(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(xc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),SC(t))}function HC(t,e,n){for(const r of n)r instanceof fq?(t.Ic.addReference(r.key,e),lFe(t,r)):r instanceof dq?(x("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||gq(t,r.key)):O()}function lFe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(x("SyncEngine","New document in limbo: "+n),t.mc.add(r),SC(t))}function SC(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new A(ge.fromString(e)),r=t.Ac.next();t.yc.set(r,new eFe(n)),t.gc=t.gc.insert(n,r),xu(t.remoteStore,new rr(R2(Qa(n.path)),r,"TargetPurposeLimboResolution",d1.ct))}}function ir(t,e,n){return zC.apply(this,arguments)}function zC(){return zC=m(function*(t,e,n){const r=T(t),i=[],s=[],a=[];var o;r.wc.isEmpty()||(r.wc.forEach((o,c)=>{a.push(r.Rc(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=L_.Li(c.targetId,l);s.push(u)}}))}),yield Promise.all(a),r.dc.nu(i),yield(o=m(function*(c,l){const u=T(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>C.forEach(l,d=>C.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>C.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Br(f))throw f;x("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Ji.get(d),g=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Ji=u.Ji.insert(d,g)}}}),function(c,l){return o.apply(this,arguments)})(r.localStore,s))}),zC.apply(this,arguments)}function uFe(t,e){return xC.apply(this,arguments)}function xC(){return xC=m(function*(t,e){const n=T(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=yield $$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(a=>{a.forEach(o=>{o.reject(new H(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ir(n,r.er)}var i}),xC.apply(this,arguments)}function fFe(t,e){const n=T(t),r=n.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let i=oe();const s=n._c.get(e);if(!s)return i;for(const a of s){const o=n.wc.get(a);i=i.unionWith(o.view.nc)}return i}}class Iu{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=Sc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function j$(t,e,n,r){return new wOe(t,e,n,r)}(this.persistence,new U$,e.initialUser,this.serializer)}createPersistence(e){return new z_(Cu.zs,this.serializer)}createSharedClientState(e){return new J$}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class p4{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mq(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=uFe.bind(null,r.syncEngine),yield function iC(t,e){return sC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KOe}createDatastore(e){const n=Sc(e.databaseInfo.databaseId),r=new LOe(e.databaseInfo);return new TOe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=o=>mq(this.syncEngine,o,0),a=Z$.D()?new Z$:new xOe,new POe(n,r,i,s,a);var n,r,i,s,a}createSyncEngine(e,n){return function(r,i,s,a,o,c,l){const u=new tFe(r,i,s,a,o,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=T(n);x("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield o4(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Lu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ct("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class VFe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=qU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var a=m(function*(o){x("FirestoreClient","Received user=",o.uid),yield s.authCredentialListener(o),s.user=o});return function(o){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(x("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=u4(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Du(t,e){return RC.apply(this,arguments)}function RC(){return RC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield $$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),RC.apply(this,arguments)}function OC(t,e){return FC.apply(this,arguments)}function FC(){return FC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function BC(t){return UC.apply(this,arguments)}(t);x("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>oq(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>oq(e.remoteStore,s)),t._onlineComponents=e}),FC.apply(this,arguments)}function UC(){return UC=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Du(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function wq(t){return"FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;U1("Error using user provided cache. Falling back to memory cache: "+n),yield Du(t,new Iu)}}else x("FirestoreClient","Using default OfflineComponentProvider"),yield Du(t,new Iu);return t._offlineComponents}),UC.apply(this,arguments)}function Au(t){return jC.apply(this,arguments)}function jC(){return jC=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),yield OC(t,t._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),yield OC(t,new p4))),t._onlineComponents}),jC.apply(this,arguments)}function m4(t){return qC.apply(this,arguments)}function qC(){return qC=m(function*(t){const e=yield Au(t),n=e.eventManager;return n.onListen=nFe.bind(null,e.syncEngine),n.onUnlisten=rFe.bind(null,e.syncEngine),n}),qC.apply(this,arguments)}function xq(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Eq=new Map;function GC(t,e,n){if(!n)throw new H(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Iq(t){if(!A.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lq(t){if(A.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nu(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nu(t);throw new H(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Aq{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new H(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new H(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function AFe(t,e,n,r){if(!0===e&&!0===r)throw new H(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xq(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ec{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aq({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new H(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aq(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new LPe;switch(n.type){case"firstParty":return new NPe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Eq.get(e);n&&(x("ComponentProvider","Removing Datastore"),Eq.delete(e),n.terminate())}(this),Promise.resolve()}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class d2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new d2(this.firestore,e,this._query)}}class Mn extends d2{constructor(e,n,r){super(e,n,Qa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new A(e))}withConverter(e){return new Mn(this.firestore,e,this._path)}}function NFe(t,e,...n){if(t=rt(t),GC("collection","path",e),t instanceof Ec){const r=ge.fromString(e,...n);return Lq(r),new Mn(t,null,r)}{if(!(t instanceof bt||t instanceof Mn))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Lq(r),new Mn(t.firestore,null,r)}}function Tq(t,e,...n){if(t=rt(t),1===arguments.length&&(e=qU.A()),GC("doc","path",e),t instanceof Ec){const r=ge.fromString(e,...n);return Iq(r),new bt(t,null,new A(r))}{if(!(t instanceof bt||t instanceof Mn))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Iq(r),new bt(t.firestore,t instanceof Mn?t.converter:null,new A(r))}}class kFe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new B_(this,"async_queue_retry"),this.Xc=()=>{const n=zu();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=zu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=zu();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new kt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Br(n))throw n;x("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ct("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=aC.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function WC(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class We extends Ec{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kFe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kq(this),this._firestoreClient.terminate()}}function RFe(t,e){const r="string"==typeof t?t:e||"(default)",i=un("object"==typeof t?t:Ma(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=bR("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function TFe(t,e,n,r={}){var i;const s=(t=de(t,Ec))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&U1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,c;if("string"==typeof r.mockUserToken)o=r.mockUserToken,c=Qt.MOCK_USER;else{o=function Yze(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Al(JSON.stringify({alg:"none",type:"JWT"})),Al(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qt(l)}t._authCredentials=new DPe(new jU(o,c))}}(i,...s)}return i}function Et(t){return t._firestoreClient||kq(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kq(t){var e,n,r;const i=t._freezeSettings(),s=(o=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new fRe(t._databaseId,o,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,xq(l.experimentalLongPollingOptions),l.useFetchStreams));var o,l;t._firestoreClient=new VFe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(Pt.fromBase64String(e))}catch(n){throw new H(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ls(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class g4{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new H(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class KC{constructor(e){this._methodName=e}}class YC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const FFe=/^__.*__$/;class BFe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Za(e,this.data,n,this.fieldTransforms)}}class Oq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new nr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class ku{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ku(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ru(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Fq(this.ca)&&FFe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class UFe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sc(e)}ya(e,n,r,i=!1){return new ku({ca:e,methodName:n,ga:r,path:Mt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v4(t){const e=t._freezeSettings(),n=Sc(t._databaseId);return new UFe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QC(t,e,n,r,i,s={}){const a=t.ya(s.merge||s.mergeFields?2:0,e,n,i);JC("Data must be an object, but it was:",a,r);const o=qq(r,a);let c,l;if(s.merge)c=new Q2(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=Dc(e,f,n);if(!a.contains(d))throw new H(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Wq(u,d)||u.push(d)}c=new Q2(u),l=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=a.fieldTransforms;return new BFe(new f2(o),c,l)}class Lc extends KC{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lc}}function us(t,e){if(Gq(t=rt(t)))return JC("Unsupported field value:",e,t),qq(t,e);if(t instanceof KC)return function(n,r){if(!Fq(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let o=us(a,r.wa(s));null==o&&(o={nullValue:"NULL_VALUE"}),i.push(o),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=rt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return kj(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=st.fromDate(n);return{timestampValue:t4(r.serializer,i)}}if(n instanceof st){const i=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:t4(r.serializer,i)}}if(n instanceof YC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ls)return{bytesValue:r$(r.serializer,n._byteString)};if(n instanceof bt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:m_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Nu(n)}`)}(t,e)}function qq(t,e){const n={};return sj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(t,(r,i)=>{const s=us(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Gq(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof YC||t instanceof ls||t instanceof bt||t instanceof KC)}function JC(t,e,n){if(!Gq(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Nu(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Dc(t,e,n){if((e=rt(e))instanceof g4)return e._internalPath;if("string"==typeof e)return Pu(t,e);throw Ru("Field path arguments must be of type string or ",t,!1,void 0,n)}const GFe=new RegExp("[~\\*/\\[\\]]");function Pu(t,e,n){if(e.search(GFe)>=0)throw Ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new g4(...e.split("."))._internalPath}catch{throw Ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ru(t,e,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new H(M.INVALID_ARGUMENT,o+t+c)}function Wq(t,e){return t.some(n=>n.isEqual(e))}class ZC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new WFe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ou("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class WFe extends ZC{data(){return super.data()}}function Ou(t,e){return"string"==typeof e?Pu(t,e):e instanceof g4?e._internalPath:e._delegate._internalPath}class eM{}class tM extends eM{}function KFe(t,e,...n){let r=[];e instanceof eM&&r.push(e),r=r.concat(n),function(i){const s=i.filter(o=>o instanceof y4).length,a=i.filter(o=>o instanceof Ac).length;if(s>1||s>0&&a>0)throw new H(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ac extends tM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ac(e,n,r)}_apply(e){const n=this._parse(e);return Jq(e._query,n),new d2(e.firestore,e.converter,s_(e._query,n))}_parse(e){const n=v4(e.firestore);return function(i,s,a,o,c,l,u){let f;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new H(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){Xq(u,l);const d=[];for(const h of u)d.push(Qq(o,i,h));f={arrayValue:{values:d}}}else f=Qq(o,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||Xq(u,l),f=function $q(t,e,n,r=!1){return us(n,t.ya(r?4:3,e))}(a,"where",u,"in"===l||"not-in"===l);return fe.create(c,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function YFe(t,e,n){const r=e,i=Ou("where",t);return Ac._create(i,r,n)}class y4 extends eM{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new y4(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ie.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const o of a)Jq(s,o),s=s_(s,o)}(e._query,n),new d2(e.firestore,e.converter,s_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nM extends tM{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nM(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new H(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new H(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ka(i,s);return function(o,c){if(null===r_(o)){const l=su(o);null!==l&&Zq(0,l,c.field)}}(r,a),a}(e._query,this._field,this._direction);return new d2(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new er(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function QFe(t,e="asc"){const n=e,r=Ou("orderBy",t);return nM._create(r,n)}class Fu extends tM{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Fu(e,n,r)}_apply(e){return new d2(e.firestore,e.converter,au(e._query,this._limit,this._limitType))}}function XFe(t){return function Dq(t,e){if(e<=0)throw new H(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Fu._create("limit",t,"F")}function Qq(t,e,n){if("string"==typeof(n=rt(n))){if(""===n)throw new H(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i_(e)&&-1!==n.indexOf("/"))throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!A.isDocumentKey(r))throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xi(t,new A(r))}if(n instanceof bt)return Xi(t,n._key);throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nu(n)}.`)}function Xq(t,e){if(!Array.isArray(t)||0===t.length)throw new H(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jq(t,e){if(e.isInequality()){const r=su(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new H(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=r_(t);null!==s&&Zq(0,i,s)}const n=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new H(M.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Zq(t,e,n){if(!n.isEqual(e))throw new H(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class JFe{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ur(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new YC(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Z8(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=jr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);j(h$(r));const i=new Qi(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(n)||Ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class fs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _4 extends ZC{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ou("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ju extends _4{data(e={}){return super.data(e)}}class C4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ju(this._firestore,this._userDataWriter,r.key,r,new fs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new ju(r._firestore,r._userDataWriter,a.doc.key,a.doc,new fs(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||3!==a.type).map(a=>{const o=new ju(r._firestore,r._userDataWriter,a.doc.key,a.doc,new fs(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:eBe(a.type),doc:o,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eBe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class ei extends JFe{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function tBe(t,e,n,...r){t=de(t,bt);const i=de(t.firestore,We),s=v4(i);let a;return a="string"==typeof(e=rt(e))||e instanceof g4?function jq(t,e,n,r,i,s){const a=t.ya(1,e,n),o=[Dc(e,r,n)],c=[i];if(s.length%2!=0)throw new H(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Dc(e,s[d])),c.push(s[d+1]);const l=[],u=f2.empty();for(let d=o.length-1;d>=0;--d)if(!Wq(l,o[d])){const h=o[d];let p=c[d];p=rt(p);const g=a.da(h);if(p instanceof Lc)l.push(h);else{const v=us(p,g);null!=v&&(l.push(h),u.set(h,v))}}const f=new Q2(l);return new Oq(u,f,a.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Uq(t,e,n,r){const i=t.ya(1,e,n);JC("Data must be an object, but it was:",i,r);const s=[],a=f2.empty();Ur(r,(c,l)=>{const u=Pu(e,c,n);l=rt(l);const f=i.da(u);if(l instanceof Lc)s.push(u);else{const d=us(l,f);null!=d&&(s.push(u),a.set(u,d))}});const o=new Q2(s);return new Oq(a,o,i.fieldTransforms)}(s,"updateDoc",t._key,e),Tc(i,[a.toMutation(t._key,Ze.exists(!0))])}function nBe(t){return Tc(de(t.firestore,We),[new e4(t._key,Ze.none())])}function rBe(t,e){const n=de(t.firestore,We),r=Tq(t),i=function rM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Tc(n,[QC(v4(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ze.exists(!1))]).then(()=>r)}function Tc(t,e){return function(n,r){const i=new kt;return n.asyncQueue.enqueueAndForget(m(function*(){return function iFe(t,e,n){return vC.apply(this,arguments)}(yield function $C(t){return Au(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Et(t),e)}!function(t,e=!0){$a=Ai,N2(new y2("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new We(new APe(n.getProvider("auth-internal")),new kPe(n.getProvider("app-check-internal")),function(o,c){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new H(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qi(o.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fe(UU,"3.13.0",t),Fe(UU,"3.13.0","esm2017")}();var gBe={includeMetadataChanges:!1};function sM(t,e){return void 0===e&&(e=gBe),new Ve(function(n){var r=function iBe(t,...e){var n,r,i;t=rt(t);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||WC(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges};if(WC(e[a])){const f=e[a];e[a]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[a+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[a+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,u;if(t instanceof bt)l=de(t.firestore,We),u=Qa(t._key.path),c={next:f=>{e[a]&&e[a](function iM(t,e,n){const r=n.docs.get(e._key),i=new ei(t);return new _4(t,i,e._key,r,new fs(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,f))},error:e[a+1],complete:e[a+2]};else{const f=de(t,d2);l=de(f.firestore,We),u=f._query;const d=new ei(l);c={next:h=>{e[a]&&e[a](new C4(l,d,f,h))},error:e[a+1],complete:e[a+2]},function Kq(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new H(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,d,h,p){const g=new Lu(p),v=new dC(d,g,h);return f.asyncQueue.enqueueAndForget(m(function*(){return function oC(t,e){return cC.apply(this,arguments)}(yield m4(f),v)})),()=>{g.Dc(),f.asyncQueue.enqueueAndForget(m(function*(){return function lC(t,e){return uC.apply(this,arguments)}(yield m4(f),v)}))}}(Et(l),u,o,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function bBe(t,e){return void 0===e&&(e={}),function wBe(t){return sM(t,{includeMetadataChanges:!0}).pipe(Ce(function(e){return e.docs}))}(t).pipe(Ce(function(n){return n.map(function(r){return function nG(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class sr{constructor(e){return e}}const aG="firestore",cM=new U("angularfire2.firestore-instances");function SBe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sr(r)}}const zBe={provide:class VBe{constructor(){return Yl(aG)}},deps:[[new jt,cM]]},xBe={provide:sr,useFactory:function HBe(t,e){const n=Kl(aG,t,e);return n&&new sr(n)},deps:[[new jt,cM],Fi]};let EBe=(()=>{class t{constructor(){Fe("angularfire",Dr.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=at({type:t}),t.\u0275inj=et({providers:[xBe,zBe]}),t})();function M4(t,...e){return{ngModule:EBe,providers:[{provide:cM,useFactory:SBe(t),multi:!0,deps:[Me,At,f3,d3,[new jt,VB],[new jt,Ym],...e]}]}}const w4=_t(bBe,!0),oG=_t(rBe,!0),ar=_t(NFe,!0),IBe=_t(nBe,!0),lM=_t(Tq,!0),b4=_t(RFe,!0),cG=_t(XFe,!0),qu=_t(QFe,!0),V4=_t(KFe,!0),lG=_t(tBe,!0),ti=_t(YFe,!0);class uG{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var H4;class ds{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new uG(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(uG,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(H4=ds).\u0275fac=function(e){return new(e||H4)},H4.\u0275prov=B({token:H4,factory:H4.\u0275fac,providedIn:"platform"}),J5([Z5(2,jt())],ds.prototype,"cache",null);var wn=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t}(wn||{});let fG=(()=>{var t;class e{constructor(){this.firestore=z(sr),this.localStorageService=z(ds)}subscribeToFleetOrders(r,i,s){let a=ar(this.firestore,"orders");w4(V4(a,ti("user","==",r),ti("executed","==",!1)),{idField:"id"}).forEach(o=>{i.next(o.length),o.length>0?this.localStorageService.cache(wn.ACTIVE_ORDERS,o.length):this.localStorageService.remove(wn.ACTIVE_ORDERS),s.detectChanges(),document.querySelector(".local-orders-badge")&&(document.querySelector(".local-orders-badge").style.display="none")}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class uM{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class dG{constructor(){this._orbit=0,this._ground=0,this._workers=new uM,this._soldiers=new uM,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class fM{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let LBe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new dG,a=i.querySelectorAll(".resourceLine .left > span"),o=[];a.forEach(l=>{let u=l.textContent.split(/\s+/),f=new fM;f.name=l.parentElement.className.split(/\s+/)[2],f.stored=parseInt(u[0].replace(/,/g,"")),f.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),f.abundance=parseInt(u[2].replace(/,/g,"")),o.push(f)}),s.resources=o;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class hG{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new uM,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var H2=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(H2||{});class DBe{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class ABe{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ue=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ue||{});class TBe{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let NBe=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new hG,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=H2.SURFACE;break;case 2:s=H2.RESOURCE;break;case 0:s=H2.FLEET;break;default:s=H2.UNKNOWN}let a=new DBe(r,s);if(s!==H2.UNKNOWN){a.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let o=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";a.planetScan.owner=new TBe(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),o.substring(1,o.length-1))}if((s===H2.RESOURCE||s===H2.SURFACE)&&(a.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),a.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),a.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===H2.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(o=>{let c=new fM;c.name=o.textContent.trim().toLowerCase(),a.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((o,c)=>{a.planetScan.resources[c].abundance=parseInt(o.textContent.trim())})),s===H2.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new fM;l.name=c.textContent.trim().toLowerCase(),a.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{a.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{a.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let o=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];a.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),a.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),a.planetScan.workers.available=parseInt(o.substring(1,o.length).replace(/,/g,"")),a.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{a.planetScan.structures.push(new ABe(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),a.planetScan.structures.forEach(c=>{switch(c.name){case Ue.OUTPOST:a.planetScan.resources[0].production+=300,a.planetScan.resources[1].production+=200,a.planetScan.resources[2].production+=100;break;case Ue.METAL_MINE:a.planetScan.resources[0].production+=300*c.quantity;break;case Ue.MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=200*c.quantity;break;case Ue.FARM:a.planetScan.resources[2].production+=300*c.quantity;break;case Ue.SOLAR_GENERATOR:a.planetScan.resources[3].production+=100*c.quantity;break;case Ue.CORE_METAL_MINE:a.planetScan.resources[0].production+=900*c.quantity;break;case Ue.CORE_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=600*c.quantity;break;case Ue.HYDROPONICS_LAB:a.planetScan.resources[2].production+=900*c.quantity;break;case Ue.SOLAR_ARRAY:a.planetScan.resources[3].production+=300*c.quantity;break;case Ue.STRIP_METAL_MINE:a.planetScan.resources[0].production+=9e3*c.quantity;break;case Ue.STRIP_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=6e3*c.quantity;break;case Ue.HYDROPONICS_DOME:a.planetScan.resources[2].production+=9e3*c.quantity;break;case Ue.SOLAR_STATION:a.planetScan.resources[3].production+=3e3*c.quantity}})}return a.planetScan.resources.forEach(o=>{o.production=Math.ceil(o.production*o.abundance/100)}),a}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),kBe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new dG;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class PBe{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,note:this.note,dgId:this.dgId,kickEta:this.kickEta}}}let RBe=(()=>{var t;class e{constructor(){this.localStorageService=z(ds)}extract(){let r=this.localStorageService.get(wn.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let a=new PBe;if(null!=s.querySelector("div.note")?a.note=s.querySelector("div.note").childNodes[0].textContent.trim():null!=s.querySelector('input[name="note"]')&&(a.note=s.querySelector('input[name="note"]').value.trim()),null!=s.querySelector('[action^="/alliances/note/"]')){let o=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);a.dgId=o[o.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(a.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(a.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(a))})}),this.localStorageService.cache(wn.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelector(".dgt-orders-manager-panel.user")&&document.querySelector(".dgt-orders-manager-panel.user").remove(),document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var S4;class or{constructor(){this.planetListExtractor=z(LBe),this.planetScanExtractor=z(NBe),this.navigationSystemPlanetsExtractor=z(kBe),this.allianceMembersExtractor=z(RBe),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(S4=or).\u0275fac=function(e){return new(e||S4)},S4.\u0275prov=B({token:S4,factory:S4.\u0275fac,providedIn:"platform"}),J5([Z5(0,jt())],or.prototype,"username",null);class dM{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Nc=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(Nc||{});let z4=(()=>{var t;class e{constructor(){this.localStorageService=z(ds),this._authState=new nt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=HB(r).subscribe(s=>{null!=s?w4(V4(ar(i,"valid-users"),ti("email","==",s.email),cG(1))).subscribe(a=>{if(a.length>0){let o=Object.assign({email:"",enabled:!1,role:Nc.USER},a[0]);o.enabled?(this.localStorageService.cache(wn.USER,{user:s.email}),this._authState.emit(new dM(!0,o.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(this.localStorageService.remove(wn.USER),this._authState.emit(new dM(!1,null)))})}signInWithEmailAndPassword(r,i,s,a){wke(r,i,s).then(()=>{a&&location.reload()}).catch(o=>{window.alert(o.message)})}signInWithGoogle(r,i){bke(r,new _Te).then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}signOut(r,i){this.localStorageService.remove(wn.USER),this._refreshInProgress=i,this._authState.emit(new dM(!0,null)),r.signOut().then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function cr(t,e){return Vt((n,r)=>{let i=0;n.subscribe(pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function hM(...t){return function FBe(){return w6(1)}()(h2(t,G4(t)))}function pG(...t){const e=G4(t);return Vt((n,r)=>{(e?hM(t,n,e):hM(t,n)).subscribe(r)})}const Gu=$4(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:jBe}=Array,{getPrototypeOf:$Be,prototype:qBe,keys:GBe}=Object;function mG(t){if(1===t.length){const e=t[0];if(jBe(e))return{args:e,keys:null};if(function WBe(t){return t&&"object"==typeof t&&$Be(t)===qBe}(e)){const n=GBe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:KBe}=Array;function gG(t){return Ce(e=>function YBe(t,e){return KBe(e)?t(...e):t(e)}(t,e))}function vG(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yG(...t){const e=G4(t),n=db(t),{args:r,keys:i}=mG(t);if(0===r.length)return h2([],e);const s=new Ve(function QBe(t,e,n=gr){return r=>{_G(e,()=>{const{length:i}=t,s=new Array(i);let a=i,o=i;for(let c=0;c<i;c++)_G(e,()=>{const l=h2(t[c],e);let u=!1;l.subscribe(pt(r,f=>{s[c]=f,u||(u=!0,o--),o||r.next(n(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>vG(i,a):gr));return n?s.pipe(gG(n)):s}function _G(t,e,n){t?zn(n,t,e):e()}function CG(t){return new Ve(e=>{Z2(t()).subscribe(e)})}function kc(t,e){const n=De(t)?t:()=>t,r=i=>i.error(n());return new Ve(e?i=>e.schedule(r,0,i):r)}function pM(){return Vt((t,e)=>{let n=null;t._refCount++;const r=pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class MG extends Ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J2;const n=this.getSubject();e.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J2.EMPTY)}return e}refCount(){return pM()(this)}}function x4(t){return t<=0?()=>Y1:Vt((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wu(t){return Vt((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wG(t=XBe){return Vt((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function XBe(){return new Gu}function hs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?cr((i,s)=>t(i,s,r)):gr,x4(1),n?Wu(e):wG(()=>new Gu))}function Ku(t,e){return De(e)?Zt(t,e,1):Zt(t,1)}function ps(t){return Vt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(pt(n,void 0,void 0,a=>{s=Z2(t(a,ps(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mM(t){return t<=0?()=>Y1:Vt((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gM(t){return Vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ce="primary",Pc=Symbol("RouteTitle");class nUe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function E4(t){return new nUe(t)}function rUe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const a=r[s],o=t[s];if(a.startsWith(":"))i[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bG(t[i],e[i]))return!1;return!0}function bG(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function VG(t){return t.length>0?t[t.length-1]:null}function ni(t){return function UBe(t){return!!t&&(t instanceof Ve||De(t.lift)&&De(t.subscribe))}(t)?t:Lo(t)?h2(Promise.resolve(t)):ee(t)}const sUe={exact:function zG(t,e,n){if(!ms(t.segments,e.segments)||!Yu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!zG(t.children[r],e.children[r],n))return!1;return!0},subset:xG},HG={exact:function aUe(t,e){return bn(t,e)},subset:function oUe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bG(t[n],e[n]))},ignored:()=>!0};function SG(t,e,n){return sUe[n.paths](t.root,e.root,n.matrixParams)&&HG[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xG(t,e,n){return EG(t,e,e.segments,n)}function EG(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ms(i,n)||e.hasChildren()||!Yu(i,n,r))}if(t.segments.length===n.length){if(!ms(t.segments,n)||!Yu(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!xG(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ms(t.segments,i)&&Yu(t.segments,i,r)&&t.children[ce])&&EG(t.children[ce],e,s,r)}}function Yu(t,e,n){return e.every((r,i)=>HG[n](t[i].parameters,r.parameters))}class I4{constructor(e=new Le([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=E4(this.queryParams)),this._queryParamMap}toString(){return uUe.serialize(this)}}class Le{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qu(this)}}class Rc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=E4(this.parameters)),this._parameterMap}toString(){return DG(this)}}function ms(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Oc=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return new vM},providedIn:"root"}),e})();class vM{parse(e){const n=new MUe(e);return new I4(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Fc(e.root,!0)}`,r=function hUe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Xu(n)}=${Xu(i)}`).join("&"):`${Xu(n)}=${Xu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function fUe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const uUe=new vM;function Qu(t){return t.segments.map(e=>DG(e)).join("/")}function Fc(t,e){if(!t.hasChildren())return Qu(t);if(e){const n=t.children[ce]?Fc(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${Fc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function lUe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ce?[Fc(t.children[ce],!1)]:[`${i}:${Fc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${Qu(t)}/${n[0]}`:`${Qu(t)}/(${n.join("//")})`}}function IG(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xu(t){return IG(t).replace(/%3B/gi,";")}function yM(t){return IG(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(t){return decodeURIComponent(t)}function LG(t){return Ju(t.replace(/\+/g,"%20"))}function DG(t){return`${yM(t.path)}${function dUe(t){return Object.keys(t).map(e=>`;${yM(e)}=${yM(t[e])}`).join("")}(t.parameters)}`}const pUe=/^[^\/()?;#]+/;function _M(t){const e=t.match(pUe);return e?e[0]:""}const mUe=/^[^\/()?;=#]+/,vUe=/^[^=?&#]+/,_Ue=/^[^&#]+/;class MUe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Le(e,n)),r}parseSegment(){const e=_M(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Rc(Ju(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function gUe(t){const e=t.match(mUe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=_M(this.remaining);i&&(r=i,this.capture(r))}e[Ju(n)]=Ju(r)}parseQueryParam(e){const n=function yUe(t){const e=t.match(vUe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const a=function CUe(t){const e=t.match(_Ue);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=LG(n),s=LG(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_M(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const a=this.parseChildren();n[s]=1===Object.keys(a).length?a[ce]:new Le([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function AG(t){return t.segments.length>0?new Le([],{[ce]:t}):t}function TG(t){const e={};for(const r of Object.keys(t.children)){const s=TG(t.children[r]);if(r===ce&&0===s.segments.length&&s.hasChildren())for(const[a,o]of Object.entries(s.children))e[a]=o;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function wUe(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new Le(t.segments.concat(e.segments),e.children)}return t}(new Le(t.segments,e))}function gs(t){return t instanceof I4}function NG(t){let e;const i=AG(function n(s){const a={};for(const c of s.children){const l=n(c);a[c.outlet]=l}const o=new Le(s.url,a);return s===t&&(e=o),o}(t.root));return e??i}function kG(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return CM(i,i,i,n,r);const s=function VUe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new RG(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const o={};return Object.entries(s.outlets).forEach(([c,l])=>{o[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:o}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((o,c)=>{0==c&&"."===o||(0==c&&""===o?n=!0:".."===o?e++:""!=o&&i.push(o))}),i):[...i,s]},[]);return new RG(n,e,r)}(e);if(s.toRoot())return CM(i,i,new Le([],{}),n,r);const a=function HUe(t,e,n){if(t.isAbsolute)return new e5(e,!0,0);if(!n)return new e5(e,!1,NaN);if(null===n.parent)return new e5(n,!0,0);const r=Zu(t.commands[0])?0:1;return function SUe(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new e5(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),o=a.processChildren?Uc(a.segmentGroup,a.index,s.commands):OG(a.segmentGroup,a.index,s.commands);return CM(i,a.segmentGroup,o,n,r)}function Zu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bc(t){return"object"==typeof t&&null!=t&&t.outlets}function CM(t,e,n,r,i){let a,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),a=t===e?n:PG(t,e,n);const o=AG(TG(a));return new I4(o,s,i)}function PG(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:PG(s,e,n)}),new Le(t.segments,r)}class RG{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Zu(r[0]))throw new S(4003,!1);const i=r.find(Bc);if(i&&i!==VG(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class e5{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function OG(t,e,n){if(t||(t=new Le([],{})),0===t.segments.length&&t.hasChildren())return Uc(t,e,n);const r=function xUe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const a=t.segments[i],o=n[r];if(Bc(o))break;const c=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!BG(c,l,a))return s;r+=2}else{if(!BG(c,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Le(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Le(t.segments.slice(r.pathIndex),t.children),Uc(s,0,i)}return r.match&&0===i.length?new Le(t.segments,{}):r.match&&!t.hasChildren()?MM(t,e,n):r.match?Uc(t,0,i):MM(t,e,n)}function Uc(t,e,n){if(0===n.length)return new Le(t.segments,{});{const r=function zUe(t){return Bc(t[0])?t[0].outlets:{[ce]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&1===t.numberOfChildren&&0===t.children[ce].segments.length){const s=Uc(t.children[ce],e,n);return new Le(t.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[s]=OG(t.children[s],e,a))}),Object.entries(t.children).forEach(([s,a])=>{void 0===r[s]&&(i[s]=a)}),new Le(t.segments,i)}}function MM(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Bc(s)){const c=EUe(s.outlets);return new Le(r,c)}if(0===i&&Zu(n[0])){r.push(new Rc(t.segments[e].path,FG(n[0]))),i++;continue}const a=Bc(s)?s.outlets[ce]:`${s}`,o=i<n.length-1?n[i+1]:null;a&&o&&Zu(o)?(r.push(new Rc(a,FG(o))),i+=2):(r.push(new Rc(a,{})),i++)}return new Le(r,{})}function EUe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=MM(new Le([],{}),0,r))}),e}function FG(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function BG(t,e,n){return t==n.path&&bn(e,n.parameters)}const jc="imperative";class Vn{constructor(e,n){this.id=e,this.url=n}}class UG extends Vn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $c extends Vn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class t5 extends Vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class n5 extends Vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class wM extends Vn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IUe extends Vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LUe extends Vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DUe extends Vn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class AUe extends Vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TUe extends Vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NUe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kUe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class PUe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RUe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OUe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jG{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FUe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qc,this.attachRef=null}}let qc=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new FUe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class $G{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=bM(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=bM(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=VM(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return VM(e,this._root).map(n=>n.value)}}function bM(t,e){if(t===e.value)return e;for(const n of e.children){const r=bM(t,n);if(r)return r}return null}function VM(t,e){if(t===e.value)return[e];for(const n of e.children){const r=VM(t,n);if(r.length)return r.unshift(e),r}return[]}class lr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function L4(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class qG extends $G{constructor(e,n){super(e),this.snapshot=n,HM(this,e)}toString(){return this.snapshot.toString()}}function GG(t,e){const n=function BUe(t,e){const a=new r5([],{},{},"",{},ce,e,null,{});return new KG("",new lr(a,[]))}(0,e),r=new p1([new Rc("",{})]),i=new p1({}),s=new p1({}),a=new p1({}),o=new p1(""),c=new D4(r,i,a,o,s,ce,e,n.root);return c.snapshot=n.root,new qG(new lr(c,[]),n)}class D4{constructor(e,n,r,i,s,a,o,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=o,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ce(l=>l[Pc]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(e=>E4(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(e=>E4(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WG(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function UUe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class r5{get title(){return this.data?.[Pc]}constructor(e,n,r,i,s,a,o,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=o,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=E4(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=E4(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KG extends $G{constructor(e,n){super(n),this.url=e,HM(this,n)}toString(){return YG(this._root)}}function HM(t,e){e.value._routerState=t,e.children.forEach(n=>HM(t,n))}function YG(t){const e=t.children.length>0?` { ${t.children.map(YG).join(", ")} } `:"";return`${t.value}${e}`}function SM(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),bn(e.params,n.params)||t.paramsSubject.next(n.params),function iUe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zM(t,e){const n=bn(t.params,e.params)&&function cUe(t,e){return ms(t,e)&&t.every((n,r)=>bn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||zM(t.parent,e.parent))}let QG=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=z(qc),this.location=z(P1),this.changeDetector=z(Si),this.environmentInjector=z(A1),this.inputBinder=z(i5,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;const s=this.location,o=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new jUe(r,c,s.injector);this.activated=s.createComponent(o,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[x2]}),e})();class jUe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===D4?this.route:e===qc?this.childContexts:this.parent.get(e,n)}}const i5=new U("");function Gc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function qUe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Gc(t,r,i);return Gc(t,r)})}(t,e,n);return new lr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(o=>Gc(t,o)),a}}const r=function GUe(t){return new D4(new p1(t.url),new p1(t.params),new p1(t.queryParams),new p1(t.fragment),new p1(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Gc(t,s));return new lr(r,i)}}const xM="ngNavigationCancelingError";function JG(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZG(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function ZG(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[xM]=!0,r.cancellationCode=e,n&&(r.url=n),r}function eW(t){return tW(t)&&gs(t.url)}function tW(t){return t&&t[xM]}let EM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["ng-component"]],standalone:!0,features:[Vx],decls:1,vars:0,template:function(r,i){1&r&&Se(0,"router-outlet")},dependencies:[QG],encapsulation:2}),e})();function IM(t){const e=t.children&&t.children.map(IM),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=EM),n}function $1(t){return t.outlet||ce}function Wc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ZUe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),SM(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=L4(n);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=L4(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){const a=r.outlet.detach(),o=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:o})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=L4(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=L4(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new jG(s.value.snapshot))}),e.children.length&&this.forwardEvent(new RUe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(SM(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const o=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),SM(o.route.value),this.activateChildRoutes(e,null,a.children)}else{const o=Wc(i.snapshot);a.attachRef=null,a.route=i,a.injector=o,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class nW{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class s5{constructor(e,n){this.component=e,this.route=n}}function eje(t,e,n){const r=t._root;return Kc(r,e?e._root:null,n,[r.value])}function A4(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function hJ(t){return null!==z6(t)}(t)?e.get(t):t:r}function Kc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=L4(e);return t.children.forEach(a=>{(function nje(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=e?e.value:null,o=n?n.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function rje(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ms(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ms(t.url,e.url)||!bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zM(t,e)||!bn(t.queryParams,e.queryParams);default:return!zM(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new nW(r)):(s.data=a.data,s._resolvedData=a._resolvedData),Kc(t,e,s.component?o?o.children:null:n,r,i),c&&o&&o.outlet&&o.outlet.isActivated&&i.canDeactivateChecks.push(new s5(o.outlet.component,a))}else a&&Yc(e,o,i),i.canActivateChecks.push(new nW(r)),Kc(t,null,s.component?o?o.children:null:n,r,i)})(a,s[a.value.outlet],n,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,o])=>Yc(o,n.getContext(a),i)),i}function Yc(t,e,n){const r=L4(t),i=t.value;Object.entries(r).forEach(([s,a])=>{Yc(a,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new s5(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Qc(t){return"function"==typeof t}function rW(t){return t instanceof Gu||"EmptyError"===t?.name}const a5=Symbol("INITIAL_VALUE");function T4(){return S1(t=>yG(t.map(e=>e.pipe(x4(1),pG(a5)))).pipe(Ce(e=>{for(const n of e)if(!0!==n){if(n===a5)return a5;if(!1===n||n instanceof I4)return n}return!0}),cr(e=>e!==a5),x4(1)))}function iW(t){return function CX(...t){return Kw(t)}(_2(e=>{if(gs(e))throw JG(0,e)}),Ce(e=>!0===e))}class o5{constructor(e){this.segmentGroup=e||null}}class sW{constructor(e){this.urlTree=e}}function N4(t){return kc(new o5(t))}function aW(t){return kc(new sW(t))}class bje{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[ce])return kc(new S(4e3,!1));i=i.children[ce]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new I4(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const o=s.substring(1);r[i]=n[o]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let a={};return Object.entries(n.children).forEach(([o,c])=>{a[o]=this.createSegmentGroup(e,c,r,i)}),new Le(s,a)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const LM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vje(t,e,n,r,i){const s=DM(t,e,n);return s.matched?(r=function WUe(t,e){return t.providers&&!t._injector&&(t._injector=bx(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Cje(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(a=>{const o=A4(a,t);return ni(function lje(t){return t&&Qc(t.canMatch)}(o)?o.canMatch(e,n):t.runInContext(()=>o(e,n)))})).pipe(T4(),iW()):ee(!0)}(r,e,n).pipe(Ce(a=>!0===a?s:{...LM}))):ee(s)}function DM(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...LM}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rUe)(n,t,e);if(!i)return{...LM};const s={};Object.entries(i.posParams??{}).forEach(([o,c])=>{s[o]=c.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function oW(t,e,n,r){return n.length>0&&function zje(t,e,n){return n.some(r=>c5(t,e,r)&&$1(r)!==ce)}(t,n,r)?{segmentGroup:new Le(e,Sje(r,new Le(n,t.children))),slicedSegments:[]}:0===n.length&&function xje(t,e,n){return n.some(r=>c5(t,e,r))}(t,n,r)?{segmentGroup:new Le(t.segments,Hje(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Le(t.segments,t.children),slicedSegments:n}}function Hje(t,e,n,r,i){const s={};for(const a of r)if(c5(t,n,a)&&!i[$1(a)]){const o=new Le([],{});s[$1(a)]=o}return{...i,...s}}function Sje(t,e){const n={};n[ce]=e;for(const r of t)if(""===r.path&&$1(r)!==ce){const i=new Le([],{});n[$1(r)]=i}return n}function c5(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Dje{constructor(e,n,r,i,s,a,o){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=o,this.allowRedirects=!0,this.applyRedirects=new bje(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=oW(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(ps(n=>{if(n instanceof sW)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof o5?this.noMatchError(n):n}),Ce(n=>{const r=new r5([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new lr(r,n),s=new KG("",i),a=function bUe(t,e,n=null,r=null){return kG(NG(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root),{state:s,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ce).pipe(ps(r=>{throw r instanceof o5?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=WG(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return h2(i).pipe(Ku(s=>{const a=r.children[s],o=function XUe(t,e){const n=t.filter(r=>$1(r)===e);return n.push(...t.filter(r=>$1(r)!==e)),n}(n,s);return this.processSegmentGroup(e,o,a,s)}),function ZBe(t,e){return Vt(function JBe(t,e,n,r,i){return(s,a)=>{let o=n,c=e,l=0;s.subscribe(pt(a,u=>{const f=l++;c=o?t(c,u,f):(o=!0,u),r&&a.next(c)},i&&(()=>{o&&a.next(c),a.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Wu(null),function eUe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?cr((i,s)=>t(i,s,r)):gr,mM(1),n?Wu(e):wG(()=>new Gu))}(),Zt(s=>{if(null===s)return N4(r);const a=cW(s);return function Aje(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(a),ee(a)}))}processSegment(e,n,r,i,s,a){return h2(n).pipe(Ku(o=>this.processSegmentAgainstRoute(o._injector??e,n,o,r,i,s,a).pipe(ps(c=>{if(c instanceof o5)return ee(null);throw c}))),hs(o=>!!o),ps(o=>{if(rW(o))return function Ije(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):N4(r);throw o}))}processSegmentAgainstRoute(e,n,r,i,s,a,o){return function Eje(t,e,n,r){return!!($1(t)===r||r!==ce&&c5(e,n,t))&&("**"===t.path||DM(e,t,n).matched)}(r,i,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,a,o):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,a):N4(i):N4(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?aW(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Zt(a=>{const o=new Le(a,{});return this.processSegment(e,n,o,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,a){const{matched:o,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=DM(n,i,s);if(!o)return N4(n);const f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?aW(f):this.applyRedirects.lineralizeSegments(i,f).pipe(Zt(d=>this.processSegment(e,r,n,d.concat(l),a,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,a){let o;if("**"===r.path){const c=i.length>0?VG(i).parameters:{};o=ee({snapshot:new r5(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lW(r),$1(r),r.component??r._loadedComponent??null,r,uW(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else o=Vje(n,r,i,e).pipe(Ce(({matched:c,consumedSegments:l,remainingSegments:u,parameters:f})=>c?{snapshot:new r5(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lW(r),$1(r),r.component??r._loadedComponent??null,r,uW(r)),consumedSegments:l,remainingSegments:u}:null));return o.pipe(S1(c=>null===c?N4(n):this.getChildConfig(e=r._injector??e,r,i).pipe(S1(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:f,consumedSegments:d,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=oW(n,d,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Ce(_=>null===_?null:[new lr(f,_)]));if(0===l.length&&0===g.length)return ee([new lr(f,[])]);const v=$1(r)===s;return this.processSegment(u,l,p,g,v?ce:s,!0).pipe(Ce(_=>[new lr(f,_)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function _je(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(a=>{const o=A4(a,t);return ni(function sje(t){return t&&Qc(t.canLoad)}(o)?o.canLoad(e,n):t.runInContext(()=>o(e,n)))})).pipe(T4(),iW())}(e,n,r).pipe(Zt(i=>i?this.configLoader.loadChildren(e,n).pipe(_2(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function wje(t){return kc(ZG(!1,3))}())):ee({routes:[],injector:e})}}function Tje(t){const e=t.value.routeConfig;return e&&""===e.path}function cW(t){const e=[],n=new Set;for(const r of t){if(!Tje(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=cW(r.children);e.push(new lr(r.value,i))}return e.filter(r=>!n.has(r))}function lW(t){return t.data||{}}function uW(t){return t.resolve||{}}function fW(t){return"string"==typeof t.title||null===t.title}function AM(t){return S1(e=>{const n=t(e);return n?h2(n).pipe(Ce(()=>e)):ee(e)})}const l5=new U("ROUTES");let dW=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(qie)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ni(r.loadComponent()).pipe(Ce(hW),_2(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),gM(()=>{this.componentLoaders.delete(r)})),s=new MG(i,()=>new K1).pipe(pM());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ce(c=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,u;return Array.isArray(c)?u=c:(l=c.create(r).injector,u=l.get(l5,[],le.Self|le.Optional).flat()),{routes:u.map(IM),injector:l}}),gM(()=>{this.childrenLoaders.delete(i)})),o=new MG(a,()=>new K1).pipe(pM());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(r){return ni(r()).pipe(Ce(hW),Zt(i=>i instanceof Mx||Array.isArray(i)?ee(i):h2(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hW(t){return function Bje(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let u5=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new K1,this.configLoader=z(dW),this.environmentInjector=z(A1),this.urlSerializer=z(Oc),this.rootContexts=z(qc),this.inputBindingEnabled=null!==z(i5,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new kUe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new NUe(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r){return this.transitions=new p1({id:0,currentUrlTree:r.currentUrlTree,currentRawUrl:r.currentUrlTree,extractedUrl:r.urlHandlingStrategy.extract(r.currentUrlTree),urlAfterRedirects:r.urlHandlingStrategy.extract(r.currentUrlTree),rawUrl:r.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jc,restoredState:null,currentSnapshot:r.routerState.snapshot,targetSnapshot:null,currentRouterState:r.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cr(i=>0!==i.id),Ce(i=>({...i,extractedUrl:r.urlHandlingStrategy.extract(i.rawUrl)})),S1(i=>{let s=!1,a=!1;return ee(i).pipe(_2(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),S1(o=>{const c=r.browserUrlTree.toString(),l=!r.navigated||o.extractedUrl.toString()!==c||c!==r.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new n5(o.id,r.serializeUrl(i.rawUrl),f,0)),r.rawUrlTree=o.rawUrl,o.resolve(null),Y1}if(r.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return pW(o.source)&&(r.browserUrlTree=o.extractedUrl),ee(o).pipe(S1(f=>{const d=this.transitions?.getValue();return this.events.next(new UG(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),d!==this.transitions?.getValue()?Y1:Promise.resolve(f)}),function Nje(t,e,n,r,i,s){return Zt(a=>function Lje(t,e,n,r,i,s,a="emptyOnly"){return new Dje(t,e,n,r,i,a,s).recognize()}(t,e,n,r,a.extractedUrl,i,s).pipe(Ce(({state:o,tree:c})=>({...a,targetSnapshot:o,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),_2(f=>{if(i.targetSnapshot=f.targetSnapshot,i.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects},"eager"===r.urlUpdateStrategy){if(!f.extras.skipLocationChange){const h=r.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);r.setBrowserUrl(h,f)}r.browserUrlTree=f.urlAfterRedirects}const d=new IUe(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(d)}));if(l&&r.urlHandlingStrategy.shouldProcessUrl(r.rawUrlTree)){const{id:f,extractedUrl:d,source:h,restoredState:p,extras:g}=o,v=new UG(f,this.urlSerializer.serialize(d),h,p);this.events.next(v);const _=GG(0,this.rootComponentType).snapshot;return ee(i={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const f="";return this.events.next(new n5(o.id,r.serializeUrl(i.extractedUrl),f,1)),r.rawUrlTree=o.rawUrl,o.resolve(null),Y1}}),_2(o=>{const c=new LUe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),Ce(o=>i={...o,guards:eje(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function fje(t,e){return Zt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=n;return 0===a.length&&0===s.length?ee({...n,guardsResult:!0}):function dje(t,e,n,r){return h2(t).pipe(Zt(i=>function yje(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(o=>{const c=Wc(e)??i,l=A4(o,c);return ni(function cje(t){return t&&Qc(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(hs())})).pipe(T4()):ee(!0)}(i.component,i.route,n,e,r)),hs(i=>!0!==i,!0))}(a,r,i,t).pipe(Zt(o=>o&&function ije(t){return"boolean"==typeof t}(o)?function hje(t,e,n,r){return h2(e).pipe(Ku(i=>hM(function mje(t,e){return null!==t&&e&&e(new PUe(t)),ee(!0)}(i.route.parent,r),function pje(t,e){return null!==t&&e&&e(new OUe(t)),ee(!0)}(i.route,r),function vje(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function tje(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(a)).filter(a=>null!==a).map(a=>CG(()=>ee(a.guards.map(c=>{const l=Wc(a.node)??n,u=A4(c,l);return ni(function oje(t){return t&&Qc(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(hs())})).pipe(T4())));return ee(s).pipe(T4())}(t,i.path,n),function gje(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>CG(()=>{const a=Wc(e)??n,o=A4(s,a);return ni(function aje(t){return t&&Qc(t.canActivate)}(o)?o.canActivate(e,t):a.runInContext(()=>o(e,t))).pipe(hs())}));return ee(i).pipe(T4())}(t,i.route,n))),hs(i=>!0!==i,!0))}(r,s,t,e):ee(o)),Ce(o=>({...n,guardsResult:o})))})}(this.environmentInjector,o=>this.events.next(o)),_2(o=>{if(i.guardsResult=o.guardsResult,gs(o.guardsResult))throw JG(0,o.guardsResult);const c=new DUe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),cr(o=>!!o.guardsResult||(r.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),AM(o=>{if(o.guards.canActivateChecks.length)return ee(o).pipe(_2(c=>{const l=new AUe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),S1(c=>{let l=!1;return ee(c).pipe(function kje(t,e){return Zt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return h2(i).pipe(Ku(a=>function Pje(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!fW(i)&&(s[Pc]=i.title),function Rje(t,e,n,r){const i=function Oje(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return h2(i).pipe(Zt(a=>function Fje(t,e,n,r){const i=Wc(e)??r,s=A4(t,i);return ni(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[a],e,n,r).pipe(hs(),_2(o=>{s[a]=o}))),mM(1),function tUe(t){return Ce(()=>t)}(s),ps(a=>rW(a)?Y1:kc(a)))}(s,t,e,r).pipe(Ce(a=>(t._resolvedData=a,t.data=WG(t,n).resolve,i&&fW(i)&&(t.data[Pc]=i.title),null)))}(a.route,r,t,e)),_2(()=>s++),mM(1),Zt(a=>s===i.length?ee(n):Y1))})}(r.paramsInheritanceStrategy,this.environmentInjector),_2({next:()=>l=!0,complete:()=>{l||(r.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),_2(c=>{const l=new TUe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),AM(o=>{const c=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(_2(f=>{l.component=f}),Ce(()=>{})));for(const f of l.children)u.push(...c(f));return u};return yG(c(o.targetSnapshot.root)).pipe(Wu(),x4(1))}),AM(()=>this.afterPreactivation()),Ce(o=>{const c=function $Ue(t,e,n){const r=Gc(t,e._root,n?n._root:void 0);return new qG(r,e)}(r.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:c}}),_2(o=>{r.currentUrlTree=o.urlAfterRedirects,r.rawUrlTree=r.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),r.routerState=o.targetRouterState,"deferred"===r.urlUpdateStrategy&&(o.extras.skipLocationChange||r.setBrowserUrl(r.rawUrlTree,o),r.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>Ce(i=>(new ZUe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),x4(1),_2({next:o=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,r.navigated=!0,this.events.next(new $c(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(r.currentUrlTree))),r.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{s=!0}}),gM(()=>{s||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ps(o=>{if(a=!0,tW(o)){eW(o)||(r.navigated=!0,r.restoreHistory(i,!0));const c=new t5(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(c),eW(o)){const l=r.urlHandlingStrategy.merge(o.url,r.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===r.urlUpdateStrategy||pW(i.source)};r.scheduleNavigation(l,jc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{r.restoreHistory(i,!0);const c=new wM(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(c);try{i.resolve(r.errorHandler(o))}catch(l){i.reject(l)}}return Y1}))}))}cancelNavigationTransition(r,i,s){const a=new t5(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(a),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function pW(t){return t!==jc}let mW=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[Pc]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return z(Uje)},providedIn:"root"}),e})(),Uje=(()=>{var t;class e extends mW{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(G(y9))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),jje=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return z(qje)},providedIn:"root"}),e})();class $je{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let qje=(()=>{var t;class e extends $je{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=r2(t)))(i||t)}}(),t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const TM=new U("",{providedIn:"root",factory:()=>({})});let Gje=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return z(Wje)},providedIn:"root"}),e})(),Wje=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Xc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xc||{});function Kje(t){throw t}function Yje(t,e,n){return e.parse("/")}const Qje={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xje={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let q1=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=z(vE),this.isNgZoneEnabled=!1,this.options=z(TM,{optional:!0})||{},this.pendingTasks=z(yE),this.errorHandler=this.options.errorHandler||Kje,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yje,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=z(Gje),this.routeReuseStrategy=z(jje),this.titleStrategy=z(mW),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=z(l5,{optional:!0})?.flat()??[],this.navigationTransitions=z(u5),this.urlSerializer=z(Oc),this.location=z(Gd),this.componentInputBindingEnabled=!!z(i5,{optional:!0}),this.isNgZoneEnabled=z(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new I4,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GG(0,null),this.navigationTransitions.setupNavigations(this).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId??0},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jc,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const a={replaceUrl:!0},o=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,o,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(IM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,i={}){const{relativeTo:s,queryParams:a,fragment:o,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:o;let d,f=null;switch(c){case"merge":f={...this.currentUrlTree.queryParams,...a};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=a||null}null!==f&&(f=this.removeEmptyProps(f));try{d=NG(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),d=this.currentUrlTree.root}return kG(d,r,f,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=gs(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,jc,null,i)}navigate(r,i={skipLocationChange:!1}){return function Jje(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...Qje}:!1===i?{...Xje}:i,gs(r))return SG(this.currentUrlTree,r,s);const a=this.parseUrl(r);return SG(this.currentUrlTree,a,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const a=r[s];return null!=a&&(i[s]=a),i},{})}scheduleNavigation(r,i,s,a,o){if(this.disposed)return Promise.resolve(!1);let c,l,u;o?(c=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,h)=>{c=d,l=h});const f=this.pendingTasks.add();return function gW(t,e){t.events.pipe(cr(n=>n instanceof $c||n instanceof t5||n instanceof wM||n instanceof n5),Ce(n=>n instanceof $c||n instanceof n5?Xc.COMPLETE:n instanceof t5&&(0===n.code||1===n.code)?Xc.REDIRECTING:Xc.FAILED),cr(n=>n!==Xc.REDIRECTING),x4(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",o)}else{const a={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(s,"",a)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class k4{constructor(e){return e}}const bW="analytics",VW=Wl.async,o$e=_t(gDe,!0),HW=_t($O,!0),SW=_t(_De,!0);let zW=(()=>{class t{constructor(n,r,i){let s;this.disposables=[],Fe("angularfire",Dr.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(a=>{s=a})),VW().then(()=>{const a=i.get(k4);a?this.disposables=[HB(n).subscribe(o=>{SW(a,o?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(G(z3),G(Me),G(At))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})();const xW="firebase_screen_id",RM="outlet",Jc="screen_class",EW="screen_name";let _$e=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const OM={},C$e=t=>{const e=[t[Jc],t[RM]].join("#");if(OM.hasOwnProperty(e))return OM[e];{const n=_$e++;return OM[e]=n,n}},M$e=(t,e,n)=>t.events.pipe(cr(i=>i instanceof jG)).pipe(S1(i=>{var s;const o=(null===(s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",c=t.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!c)return ee(null);let l=c;for(;l.firstChild;)l=l.firstChild;const u=l.pathFromRoot.map(h=>{var p;return null===(p=h.routeConfig)||void 0===p?void 0:p.path}).filter(h=>h).join("/")||"/",f={[EW]:u,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:u,[RM]:i.snapshot.outlet};e&&(f.page_title=e.getTitle());let d=c.component;if(d){if(d===EM){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;d=h.component}}else d=i.snapshot.component;if("string"==typeof d)return ee(Object.assign(Object.assign({},f),{[Jc]:d}));if(d){const h=n.resolveComponentFactory(d);return ee(Object.assign(Object.assign({},f),{[Jc]:h.selector}))}return ee(null)}),cr(i=>!!i),Ce(i=>Object.assign({firebase_screen_class:i[Jc],[xW]:C$e(i)},i)),function OBe(t,e,n,r){return Vt((i,s)=>{let a;e&&"function"!=typeof e?({duration:n,element:a,connector:r}=e):a=e;const o=new Map,c=p=>{o.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,f=!1;const d=new Jw(s,p=>{try{const g=t(p);let v=o.get(g);if(!v){o.set(g,v=r?r():new K1);const _=function h(p,g){const v=new Ve(_=>{u++;const y=g.subscribe(_);return()=>{y.unsubscribe(),0==--u&&f&&d.unsubscribe()}});return v.key=p,v}(g,v);if(s.next(_),n){const y=pt(v,()=>{v.complete(),y?.unsubscribe()},void 0,void 0,()=>o.delete(g));d.add(Z2(n(_)).subscribe(y))}}v.next(a?a(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>o.clear(),()=>(f=!0,0===u));i.subscribe(d)})}(i=>i[RM]),Zt(i=>i.pipe(mb((s,a)=>JSON.stringify(s)===JSON.stringify(a)),pG(void 0),function BBe(){return Vt((t,e)=>{let n,r=!1;t.subscribe(pt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Ce(([s,a])=>s?Object.assign({firebase_previous_class:s[Jc],firebase_previous_screen:s[EW],firebase_previous_id:s[xW]},a):a))));let w$e=(()=>{class t{constructor(n,r,i,s,a,o){Fe("angularfire",Dr.full,"screen-tracking"),VW().then(()=>{const c=o.get(k4);!n||!c||s.runOutsideAngular(()=>{this.disposable=M$e(n,r,i).pipe(S1(l=>e7(this,void 0,void 0,function*(){return a&&(yield a.initialized),HW(c,"screen_view",l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(G(q1,8),G(y9,8),G(Mo),G(Me),G(zW,8),G(At))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})();const FM=new U("angularfire2.analytics-instances");function V$e(t){return(e,n)=>{if(!Wl.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new k4(r)}}const H$e={provide:class a$e{constructor(){return Yl(bW)}},deps:[[new jt,FM]]},S$e={provide:k4,useFactory:function b$e(t,e){if(!Wl.sync())return null;const n=Kl(bW,t,e);return n&&new k4(n)},deps:[[new jt,FM],Fi]};let z$e=(()=>{class t{constructor(n,r){Fe("angularfire",Dr.full,"analytics")}}return t.\u0275fac=function(n){return new(n||t)(G(w$e,8),G(zW,8))},t.\u0275mod=at({type:t}),t.\u0275inj=et({providers:[S$e,H$e,{provide:gE,useValue:Wl.async,multi:!0}]}),t})();function x$e(t,...e){return{ngModule:z$e,providers:[{provide:FM,useFactory:V$e(t),multi:!0,deps:[Me,At,f3,d3,...e]}]}}function IW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IW(Object(n),!0).forEach(function(r){Rt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f5(t){return(f5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function LW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BM(t,e){return function A$e(t){if(Array.isArray(t))return t}(t)||function N$e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,o,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(c){s=!0,o=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw o}}return r}}(t,e)||DW(t,e)||function P$e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e6(t){return function D$e(t){if(Array.isArray(t))return UM(t)}(t)||function T$e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||DW(t)||function k$e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DW(t,e){if(t){if("string"==typeof t)return UM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UM(t,e)}}function UM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var AW=function(){},jM={},TW={},NW=null,kW={mark:AW,measure:AW};try{typeof window<"u"&&(jM=window),typeof document<"u"&&(TW=document),typeof MutationObserver<"u"&&(NW=MutationObserver),typeof performance<"u"&&(kW=performance)}catch{}var p5,m5,g5,v5,y5,PW=(jM.navigator||{}).userAgent,RW=void 0===PW?"":PW,ri=jM,Ke=TW,OW=NW,h5=kW,fr=!!Ke.documentElement&&!!Ke.head&&"function"==typeof Ke.addEventListener&&"function"==typeof Ke.createElement,FW=~RW.indexOf("MSIE")||~RW.indexOf("Trident/"),dr="___FONT_AWESOME___",BW="fa",UW="svg-inline--fa",vs="data-fa-i2svg",qM="data-fa-pseudo-element",O$e="data-fa-pseudo-element-pending",GM="data-prefix",WM="data-icon",jW="fontawesome-i2svg",F$e="async",B$e=["HTML","HEAD","STYLE","SCRIPT"],$W=function(){try{return!0}catch{return!1}}(),Ye="classic",ht="sharp",KM=[Ye,ht];function t6(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ye]}})}var n6=t6((Rt(p5={},Ye,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Rt(p5,ht,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),p5)),r6=t6((Rt(m5={},Ye,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Rt(m5,ht,{solid:"fass",regular:"fasr",light:"fasl"}),m5)),i6=t6((Rt(g5={},Ye,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Rt(g5,ht,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),g5)),U$e=t6((Rt(v5={},Ye,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Rt(v5,ht,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),v5)),j$e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,qW="fa-layers-text",$$e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,q$e=t6((Rt(y5={},Ye,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Rt(y5,ht,{900:"fass",400:"fasr",300:"fasl"}),y5)),GW=[1,2,3,4,5,6,7,8,9,10],G$e=GW.concat([11,12,13,14,15,16,17,18,19,20]),W$e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ys={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},s6=new Set;Object.keys(r6[Ye]).map(s6.add.bind(s6)),Object.keys(r6[ht]).map(s6.add.bind(s6));var K$e=[].concat(KM,e6(s6),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ys.GROUP,ys.SWAP_OPACITY,ys.PRIMARY,ys.SECONDARY]).concat(GW.map(function(t){return"".concat(t,"x")})).concat(G$e.map(function(t){return"w-".concat(t)})),a6=ri.FontAwesomeConfig||{};Ke&&"function"==typeof Ke.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=BM(t,2),r=e[1],i=function Q$e(t){return""===t||"false"!==t&&("true"===t||t)}(function Y$e(t){var e=Ke.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(a6[r]=i)});var WW={styleDefault:"solid",familyDefault:"classic",cssPrefix:BW,replacementClass:UW,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};a6.familyPrefix&&(a6.cssPrefix=a6.familyPrefix);var P4=F(F({},WW),a6);P4.autoReplaceSvg||(P4.observeMutations=!1);var $={};Object.keys(WW).forEach(function(t){Object.defineProperty($,t,{enumerable:!0,set:function(n){P4[t]=n,o6.forEach(function(r){return r($)})},get:function(){return P4[t]}})}),Object.defineProperty($,"familyPrefix",{enumerable:!0,set:function(e){P4.cssPrefix=e,o6.forEach(function(n){return n($)})},get:function(){return P4.cssPrefix}}),ri.FontAwesomeConfig=$;var o6=[],Hn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},eqe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function c6(){for(var t=12,e="";t-- >0;)e+=eqe[62*Math.random()|0];return e}function R4(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function YM(t){return t.classList?R4(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function KW(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _5(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function QM(t){return t.size!==Hn.size||t.x!==Hn.x||t.y!==Hn.y||t.rotate!==Hn.rotate||t.flipX||t.flipY}var iqe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function YW(){var t=BW,e=UW,n=$.cssPrefix,r=$.replacementClass,i=iqe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}var QW=!1;function XM(){$.autoAddCss&&!QW&&(function Z$e(t){if(t&&fr){var e=Ke.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ke.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}Ke.head.insertBefore(e,r)}}(YW()),QW=!0)}var sqe={mixout:function(){return{dom:{css:YW,insertCss:XM}}},hooks:function(){return{beforeDOMElementCreation:function(){XM()},beforeI2svg:function(){XM()}}}},hr=ri||{};hr[dr]||(hr[dr]={}),hr[dr].styles||(hr[dr].styles={}),hr[dr].hooks||(hr[dr].hooks={}),hr[dr].shims||(hr[dr].shims=[]);var G1=hr[dr],XW=[],C5=!1;function l6(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?KW(t):"<".concat(e," ").concat(function tqe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(KW(t[n]),'" ')},"").trim()}(r),">").concat(s.map(l6).join(""),"</").concat(e,">")}function JW(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}fr&&((C5=(Ke.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ke.readyState))||Ke.addEventListener("DOMContentLoaded",function t(){Ke.removeEventListener("DOMContentLoaded",t),C5=1,XW.map(function(e){return e()})}));var JM=function(e,n,r,i){var c,l,u,s=Object.keys(e),a=s.length,o=void 0!==i?function(e,n){return function(r,i,s,a){return e.call(n,r,i,s,a)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<a;c++)u=o(u,e[l=s[c]],l,e);return u};function ZM(t){var e=function lqe(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function ZW(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function ew(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=ZW(e);"function"!=typeof G1.hooks.addPack||i?G1.styles[t]=F(F({},G1.styles[t]||{}),s):G1.hooks.addPack(t,ZW(e)),"fas"===t&&ew("fa",e)}var M5,w5,b5,O4=G1.styles,fqe=G1.shims,dqe=(Rt(M5={},Ye,Object.values(i6[Ye])),Rt(M5,ht,Object.values(i6[ht])),M5),tw=null,eK={},tK={},nK={},rK={},iK={},hqe=(Rt(w5={},Ye,Object.keys(n6[Ye])),Rt(w5,ht,Object.keys(n6[ht])),w5);var sK=function(){var e=function(s){return JM(O4,function(a,o,c){return a[c]=JM(o,s,{}),a},{})};eK=e(function(i,s,a){return s[3]&&(i[s[3]]=a),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=a}),i}),tK=e(function(i,s,a){return i[a]=a,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=a}),i}),iK=e(function(i,s,a){var o=s[2];return i[a]=a,o.forEach(function(c){i[c]=a}),i});var n="far"in O4||$.autoFetchSvg,r=JM(fqe,function(i,s){var a=s[0],o=s[1],c=s[2];return"far"===o&&!n&&(o="fas"),"string"==typeof a&&(i.names[a]={prefix:o,iconName:c}),"number"==typeof a&&(i.unicodes[a.toString(16)]={prefix:o,iconName:c}),i},{names:{},unicodes:{}});nK=r.names,rK=r.unicodes,tw=V5($.styleDefault,{family:$.familyDefault})};function nw(t,e){return(eK[t]||{})[e]}function _s(t,e){return(iK[t]||{})[e]}function aK(t){return nK[t]||{prefix:null,iconName:null}}function si(){return tw}(function J$e(t){o6.push(t)})(function(t){tw=V5(t.styleDefault,{family:$.familyDefault})}),sK();var rw=function(){return{prefix:null,iconName:null,rest:[]}};function V5(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Ye:n;return r6[r][t]||r6[r][n6[r][t]]||(t in G1.styles?t:null)||null}var oK=(Rt(b5={},Ye,Object.keys(i6[Ye])),Rt(b5,ht,Object.keys(i6[ht])),b5);function H5(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Rt(e={},Ye,"".concat($.cssPrefix,"-").concat(Ye)),Rt(e,ht,"".concat($.cssPrefix,"-").concat(ht)),e),a=null,o=Ye;(t.includes(s[Ye])||t.some(function(l){return oK[Ye].includes(l)}))&&(o=Ye),(t.includes(s[ht])||t.some(function(l){return oK[ht].includes(l)}))&&(o=ht);var c=t.reduce(function(l,u){var f=function mqe(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function pqe(t){return~K$e.indexOf(t)}(i)?null:i}($.cssPrefix,u);if(O4[u]?(u=dqe[o].includes(u)?U$e[o][u]:u,a=u,l.prefix=u):hqe[o].indexOf(u)>-1?(a=u,l.prefix=V5(u,{family:o})):f?l.iconName=f:u!==$.replacementClass&&u!==s[Ye]&&u!==s[ht]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===a?aK(l.iconName):{},h=_s(l.prefix,l.iconName);d.prefix&&(a=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!O4.far&&O4.fas&&!$.autoFetchSvg&&(l.prefix="fas")}return l},rw());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&o===ht&&(O4.fass||$.autoFetchSvg)&&(c.prefix="fass",c.iconName=_s(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===a)&&(c.prefix=si()||"fas"),c}var yqe=function(){function t(){(function E$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function I$e(t,e,n){e&&LW(t.prototype,e),n&&LW(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){n.definitions[o]=F(F({},n.definitions[o]||{}),a[o]),ew(o,a[o]);var c=i6[Ye][o];c&&ew(c,a[o]),sK()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var a=i[s],o=a.prefix,c=a.iconName,l=a.icon,u=l[2];n[o]||(n[o]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[o][f]=l)}),n[o][c]=l}),n}}]),t}(),cK=[],F4={},B4={},_qe=Object.keys(B4);function iw(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(F4[t]||[]).forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function Cs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(F4[t]||[]).forEach(function(s){s.apply(null,n)})}function pr(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return B4[t]?B4[t].apply(null,e):void 0}function sw(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||si();if(e)return e=_s(n,e)||e,JW(lK.definitions,n,e)||JW(G1.styles,n,e)}var lK=new yqe,wqe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fr?(Cs("beforeI2svg",e),pr("pseudoElements2svg",e),pr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===$.autoReplaceSvg&&($.autoReplaceSvg=!0),$.observeMutations=!0,function oqe(t){fr&&(C5?setTimeout(t,0):XW.push(t))}(function(){Vqe({autoReplaceSvgRoot:n}),Cs("watch",e)})}},h1={noAuto:function(){$.autoReplaceSvg=!1,$.observeMutations=!1,Cs("noAuto")},config:$,dom:wqe,parse:{icon:function(e){if(null===e)return null;if("object"===f5(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:_s(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=V5(e[0]);return{prefix:r,iconName:_s(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat($.cssPrefix,"-"))>-1||e.match(j$e))){var i=H5(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||si(),iconName:_s(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=si();return{prefix:s,iconName:_s(s,e)||e}}}},library:lK,findIconDefinition:sw,toHtml:l6},Vqe=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Ke:n;(Object.keys(G1.styles).length>0||$.autoFetchSvg)&&fr&&$.autoReplaceSvg&&h1.dom.i2svg({node:r})};function S5(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return l6(r)})}}),Object.defineProperty(t,"node",{get:function(){if(fr){var r=Ke.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function aw(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,o=t.symbol,c=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=void 0!==d&&d,p=r.found?r:n,g=p.width,v=p.height,_="fak"===i,y=[$.replacementClass,s?"".concat($.cssPrefix,"-").concat(s):""].filter(function(Ft){return-1===f.classes.indexOf(Ft)}).filter(function(Ft){return""!==Ft||!!Ft}).concat(f.classes).join(" "),w={children:[],attributes:F(F({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},L=_&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(w.attributes[vs]=""),c&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||c6())},children:[c]}),delete w.attributes.title);var k=F(F({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:a,symbol:o,styles:F(F({},L),f.styles)}),K=r.found&&n.found?pr("generateAbstractMask",k)||{children:[],attributes:{}}:pr("generateAbstractIcon",k)||{children:[],attributes:{}},It=K.attributes;return k.children=K.children,k.attributes=It,o?function Sqe(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,a=!0===s?"".concat(t.prefix,"-").concat($.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:F(F({},i),{},{id:a}),children:r}]}]}(k):function Hqe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(QM(a)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=_5(F(F({},s),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(k)}function uK(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,a=t.extra,o=t.watchable,c=void 0!==o&&o,l=F(F(F({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});c&&(l[vs]="");var u=F({},a.styles);QM(i)&&(u.transform=function rqe(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,a=t.startCentered,o=void 0!==a&&a,c="";return c+=o&&FW?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):o?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=_5(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var ow=G1.styles;function cw(t){var e=t[0],n=t[1],s=BM(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat($.cssPrefix,"-").concat(ys.GROUP)},children:[{tag:"path",attributes:{class:"".concat($.cssPrefix,"-").concat(ys.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat($.cssPrefix,"-").concat(ys.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var xqe={found:!1,width:512,height:512};function lw(t,e){var n=e;return"fa"===e&&null!==$.styleDefault&&(e=si()),new Promise(function(r,i){if(pr("missingIconAbstract"),"fa"===n){var a=aK(t)||{};t=a.iconName||t,e=a.prefix||e}if(t&&e&&ow[e]&&ow[e][t])return r(cw(ow[e][t]));(function Eqe(t,e){!$W&&!$.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(F(F({},xqe),{},{icon:$.showMissingIcons&&t&&pr("missingIconAbstract")||{}}))})}var fK=function(){},uw=$.measurePerformance&&h5&&h5.mark&&h5.measure?h5:{mark:fK,measure:fK},u6='FA "6.4.2"',dK=function(e){uw.mark("".concat(u6," ").concat(e," ends")),uw.measure("".concat(u6," ").concat(e),"".concat(u6," ").concat(e," begins"),"".concat(u6," ").concat(e," ends"))},fw={begin:function(e){return uw.mark("".concat(u6," ").concat(e," begins")),function(){return dK(e)}},end:dK},z5=function(){};function hK(t){return"string"==typeof(t.getAttribute?t.getAttribute(vs):null)}function Tqe(t){return Ke.createElementNS("http://www.w3.org/2000/svg",t)}function Nqe(t){return Ke.createElement(t)}function pK(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Tqe:Nqe:n;if("string"==typeof t)return Ke.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])}),(t.children||[]).forEach(function(a){i.appendChild(pK(a,{ceFn:r}))}),i}var x5={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(pK(i),n)}),null===n.getAttribute(vs)&&$.keepOriginalSource){var r=Ke.createComment(function kqe(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~YM(n).indexOf($.replacementClass))return x5.replace(e);var i=new RegExp("".concat($.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(o,c){return c===$.replacementClass||c.match(i)?o.toSvg.push(c):o.toNode.push(c),o},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var a=r.map(function(o){return l6(o)}).join("\n");n.setAttribute(vs,""),n.innerHTML=a}};function mK(t){t()}function gK(t,e){var n="function"==typeof e?e:z5;if(0===t.length)n();else{var r=mK;$.mutateApproach===F$e&&(r=ri.requestAnimationFrame||mK),r(function(){var i=function Aqe(){return!0===$.autoReplaceSvg?x5.replace:x5[$.autoReplaceSvg]||x5.replace}(),s=fw.begin("mutate");t.map(i),s(),n()})}}var dw=!1;function vK(){dw=!0}function hw(){dw=!1}var E5=null;function yK(t){if(OW&&$.observeMutations){var e=t.treeCallback,n=void 0===e?z5:e,r=t.nodeCallback,i=void 0===r?z5:r,s=t.pseudoElementsCallback,a=void 0===s?z5:s,o=t.observeMutationsRoot,c=void 0===o?Ke:o;E5=new OW(function(l){if(!dw){var u=si();R4(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!hK(f.addedNodes[0])&&($.searchPseudoElements&&a(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&$.searchPseudoElements&&a(f.target.parentNode),"attributes"===f.type&&hK(f.target)&&~W$e.indexOf(f.attributeName))if("class"===f.attributeName&&function Lqe(t){var e=t.getAttribute?t.getAttribute(GM):null,n=t.getAttribute?t.getAttribute(WM):null;return e&&n}(f.target)){var d=H5(YM(f.target)),p=d.iconName;f.target.setAttribute(GM,d.prefix||u),p&&f.target.setAttribute(WM,p)}else(function Dqe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains($.replacementClass)})(f.target)&&i(f.target)})}}),fr&&E5.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function _K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Oqe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=H5(YM(t));return i.prefix||(i.prefix=si()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function gqe(t,e){return(tK[t]||{})[e]}(i.prefix,t.innerText)||nw(i.prefix,ZM(t.innerText))),!i.iconName&&$.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,a=function Fqe(t){var e=R4(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return $.autoA11y&&(n?e["aria-labelledby"]="".concat($.replacementClass,"-title-").concat(r||c6()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),o=iw("parseNodeAttributes",{},t),c=e.styleParser?function Rqe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}(t):[];return F({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Hn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:a}},o)}var Uqe=G1.styles;function CK(t){var e="nest"===$.autoReplaceSvg?_K(t,{styleParser:!1}):_K(t);return~e.extra.classes.indexOf(qW)?pr("generateLayersText",t,e):pr("generateSvgReplacementMutation",t,e)}var ai=new Set;function MK(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!fr)return Promise.resolve();var n=Ke.documentElement.classList,r=function(f){return n.add("".concat(jW,"-").concat(f))},i=function(f){return n.remove("".concat(jW,"-").concat(f))},s=$.autoFetchSvg?ai:KM.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Uqe));s.includes("fa")||s.push("fa");var a=[".".concat(qW,":not([").concat(vs,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(vs,"])")})).join(", ");if(0===a.length)return Promise.resolve();var o=[];try{o=R4(t.querySelectorAll(a))}catch{}if(!(o.length>0))return Promise.resolve();r("pending"),i("complete");var c=fw.begin("onTree"),l=o.reduce(function(u,f){try{var d=CK(f);d&&u.push(d)}catch(h){$W||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){gK(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(d){c(),f(d)})})}function jqe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;CK(t).then(function(n){n&&gK([n],e)})}function $qe(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:sw(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:sw(i||{})),t(r,F(F({},n),{},{mask:i}))}}KM.map(function(t){ai.add("fa-".concat(t))}),Object.keys(n6[Ye]).map(ai.add.bind(ai)),Object.keys(n6[ht]).map(ai.add.bind(ai)),ai=e6(ai);var qqe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Hn:r,s=n.symbol,a=void 0!==s&&s,o=n.mask,c=void 0===o?null:o,l=n.maskId,u=void 0===l?null:l,f=n.title,d=void 0===f?null:f,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,_=n.attributes,y=void 0===_?{}:_,w=n.styles,L=void 0===w?{}:w;if(e){var k=e.prefix,K=e.iconName,he=e.icon;return S5(F({type:"icon"},e),function(){return Cs("beforeDOMElementCreation",{iconDefinition:e,params:n}),$.autoA11y&&(d?y["aria-labelledby"]="".concat($.replacementClass,"-title-").concat(p||c6()):(y["aria-hidden"]="true",y.focusable="false")),aw({icons:{main:cw(he),mask:c?cw(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:K,transform:F(F({},Hn),i),symbol:a,title:d,maskId:u,titleId:p,extra:{attributes:y,styles:L,classes:v}})})}},Gqe={mixout:function(){return{icon:$qe(qqe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=MK,n.nodeCallback=jqe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return MK(void 0===r?Ke:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,a=r.titleId,o=r.prefix,c=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([lw(i,o),u.iconName?lw(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=BM(g,2);h([n,aw({icons:{main:v[0],mask:v[1]},prefix:o,iconName:i,transform:c,symbol:l,maskId:f,title:s,titleId:a,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,a=n.transform,c=_5(n.styles);return c.length>0&&(i.style=c),QM(a)&&(l=pr("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},Wqe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return S5({type:"layer"},function(){Cs("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(o){Array.isArray(o)?o.map(function(c){a=a.concat(c.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat($.cssPrefix,"-layers")].concat(e6(s)).join(" ")},children:a}]})}}}},Kqe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,a=r.classes,o=void 0===a?[]:a,c=r.attributes,l=void 0===c?{}:c,u=r.styles,f=void 0===u?{}:u;return S5({type:"counter",content:n},function(){return Cs("beforeDOMElementCreation",{content:n,params:r}),function zqe(t){var e=t.content,n=t.title,r=t.extra,i=F(F(F({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=_5(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat($.cssPrefix,"-layers-counter")].concat(e6(o))}})})}}}},Yqe={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Hn:i,a=r.title,o=void 0===a?null:a,c=r.classes,l=void 0===c?[]:c,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return S5({type:"text",content:n},function(){return Cs("beforeDOMElementCreation",{content:n,params:r}),uK({content:n,transform:F(F({},Hn),s),title:o,extra:{attributes:f,styles:h,classes:["".concat($.cssPrefix,"-layers-text")].concat(e6(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,a=r.extra,o=null,c=null;if(FW){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();o=u.width/l,c=u.height/l}return $.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,uK({content:n.innerHTML,width:o,height:c,transform:s,title:i,extra:a,watchable:!0})])}}},Qqe=new RegExp('"',"ug"),wK=[1105920,1112319];function bK(t,e){var n="".concat(O$e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var a=R4(t.children).filter(function(he){return he.getAttribute(qM)===e})[0],o=ri.getComputedStyle(t,e),c=o.getPropertyValue("font-family").match($$e),l=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!c)return t.removeChild(a),r();if(c&&"none"!==u&&""!==u){var f=o.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?ht:Ye,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?r6[d][c[2].toLowerCase()]:q$e[d][l],p=function Xqe(t){var e=t.replace(Qqe,""),n=function uqe(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=wK[0]&&n<=wK[1],i=2===e.length&&e[0]===e[1];return{value:ZM(i?e[0]:e),isSecondary:r||i}}(f),g=p.value,v=p.isSecondary,_=c[0].startsWith("FontAwesome"),y=nw(h,g),w=y;if(_){var L=function vqe(t){var e=rK[t],n=nw("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);L.iconName&&L.prefix&&(y=L.iconName,h=L.prefix)}if(!y||v||a&&a.getAttribute(GM)===h&&a.getAttribute(WM)===w)r();else{t.setAttribute(n,w),a&&t.removeChild(a);var k=function Bqe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Hn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),K=k.extra;K.attributes[qM]=e,lw(y,h).then(function(he){var It=aw(F(F({},k),{},{icons:{main:he,mask:rw()},prefix:h,iconName:w,extra:K,watchable:!0})),Ft=Ke.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Ft,t.firstChild):t.appendChild(Ft),Ft.outerHTML=It.map(function(g6){return l6(g6)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Jqe(t){return Promise.all([bK(t,"::before"),bK(t,"::after")])}function Zqe(t){return!(t.parentNode===document.head||~B$e.indexOf(t.tagName.toUpperCase())||t.getAttribute(qM)||t.parentNode&&"svg"===t.parentNode.tagName)}function VK(t){if(fr)return new Promise(function(e,n){var r=R4(t.querySelectorAll("*")).filter(Zqe).map(Jqe),i=fw.begin("searchPseudoElements");vK(),Promise.all(r).then(function(){i(),hw(),e()}).catch(function(){i(),hw(),n()})})}var HK=!1,SK=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&"h"===o)return r.flipX=!0,r;if(a&&"v"===o)return r.flipY=!0,r;if(o=parseFloat(o),isNaN(o))return r;switch(a){case"grow":r.size=r.size+o;break;case"shrink":r.size=r.size-o;break;case"left":r.x=r.x-o;break;case"right":r.x=r.x+o;break;case"up":r.y=r.y-o;break;case"down":r.y=r.y+o;break;case"rotate":r.rotate=r.rotate+o}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},pw={x:0,y:0,width:"100%",height:"100%"};function zK(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function rGe(t){return"g"===t.tag?t.children:[t]}var iGe={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?H5(i.split(" ").map(function(a){return a.trim()})):rw();return s.prefix||(s.prefix=si()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.mask,o=n.maskId,u=s.icon,d=a.icon,h=function nqe(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:a.width,iconWidth:s.width}),p={tag:"rect",attributes:F(F({},pw),{},{fill:"white"})},g=u.children?{children:u.children.map(zK)}:{},v={tag:"g",attributes:F({},h.inner),children:[zK(F({tag:u.tag,attributes:F(F({},u.attributes),h.path)},g))]},_={tag:"g",attributes:F({},h.outer),children:[v]},y="mask-".concat(o||c6()),w="clip-".concat(o||c6()),L={tag:"mask",attributes:F(F({},pw),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:rGe(d)},L]};return r.push(k,{tag:"rect",attributes:F({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},pw)}),{children:r,attributes:i}}}};!function Cqe(t,e){var n=e.mixoutsTo;cK=t,F4={},Object.keys(B4).forEach(function(r){-1===_qe.indexOf(r)&&delete B4[r]}),cK.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){"function"==typeof i[a]&&(n[a]=i[a]),"object"===f5(i[a])&&Object.keys(i[a]).forEach(function(o){n[a]||(n[a]={}),n[a][o]=i[a][o]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(a){F4[a]||(F4[a]=[]),F4[a].push(s[a])})}r.provides&&r.provides(B4)})}([sqe,Gqe,Wqe,Kqe,Yqe,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=VK,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;$.searchPseudoElements&&VK(void 0===r?Ke:r)}}},{mixout:function(){return{dom:{unwatch:function(){vK(),HK=!0}}}},hooks:function(){return{bootstrap:function(){yK(iw("mutationObserverCallbacks",{}))},noAuto:function(){!function Pqe(){E5&&E5.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;HK?hw():yK(iw("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return SK(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=SK(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,a=n.iconWidth,o={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:o,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:F({},h.outer),children:[{tag:"g",attributes:F({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:F(F({},r.icon.attributes),h.path)}]}]}}}},iGe,{provides:function(e){var n=!1;ri.matchMedia&&(n=ri.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:F(F({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=F(F({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:F(F({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||o.children.push({tag:"animate",attributes:F(F({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:F(F({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(o),r.push({tag:"path",attributes:F(F({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:F(F({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:F(F({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:F(F({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:h1});var cGe=h1.parse,lGe=h1.icon;const uGe=["*"],hGe=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let gGe=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),I5=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(a=>i[a]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),vGe=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[x2]}),e})(),yGe=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(V(sn),V(g2))},t.\u0275cmp=t1({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[x2],ngContentSelectors:uGe,decls:1,vars:0,template:function(r,i){1&r&&(function iz(t){const e=b()[vt][p2];if(!e.projection){const r=e.projection=co(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const a=t?R1e(s,t):0;null!==a&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}(),function sz(t,e=0,n){const r=b(),i=me(),s=ea(i,ue+t,16,null,n||null);null===s.projection&&(s.projection=e),E7(),(!r[In]||As())&&32!=(32&s.flags)&&function $ee(t,e,n){dH(e[re],0,e,n,rf(t,n,e),aH(n.parent||e[p2],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),mw=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,a,o){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=a,this.classes=[],null!=o&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const a=this.buildParams();this.renderIcon(s,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?cGe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...hGe(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=lGe(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(V(UI),V(gGe),V(I5),V(vGe,8),V(yGe,8))},t.\u0275cmp=t1({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(od("innerHTML",i.renderedIconHTML,HH),T1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[x2],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),f6=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t}),t.\u0275inj=et({}),e})(),_Ge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Ao("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function CGe(t,e){if(1&t&&(E(0,"span",14),Q(1),R()),2&t){const n=ot();D(1),je(n.localOrdersBadge)}}function MGe(t,e){if(1&t&&(E(0,"span",15),Q(1),Re(2,"async"),R()),2&t){const n=ot();D(1),je(Nt(2,1,n.fleetOrdersNotification))}}const Ms=function(){return{color:"#eee"}},wGe=function(){return["fas","house-chimney"]},bGe=function(){return["fas","earth-americas"]},VGe=function(){return["fas","satellite-dish"]},HGe=function(){return["fas","jet-fighter-up"]},SGe=function(){return["fas","chess-board"]},zGe=function(){return["fas","flask-vial"]},xGe=function(){return["fas","hand-fist"]};let EGe=(()=>{var t;class e{constructor(r){this.badgeService=z(fG),this.dgAPI=z(or),this.changeDetection=z(Si),this.authService=z(z4),this.localStorageService=z(ds),this.localOrdersBadge=0,this.analytics=z(k4);let i=window.location.pathname.split("/")[1];SW(this.analytics,this.dgAPI.username()),HW(this.analytics,i.length>0?"/"+i:"/home"),r.addIcons(R9,Zo,ST,jk,aA,lD,ah),this.localOrdersBadge=this.localStorageService.get(wn.ACTIVE_ORDERS),this.authService.authState.subscribe(s=>{this.active=s.status,s.status&&(this.fleetOrdersNotification=new Ve(a=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),a,this.changeDetection)})),this.changeDetection.detectChanges()})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(V(I5))},t.\u0275cmp=t1({type:t,selectors:[["dgt-navbar"]],decls:40,vars:46,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["style","z-index: 0","class","local-orders-badge notification-badge",4,"ngIf"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"],[1,"local-orders-badge","notification-badge",2,"z-index","0"],[1,"notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),Se(4,"fa-icon",4),E(5,"span",5),Q(6,"home"),R()()(),E(7,"li",2)(8,"a",6),Se(9,"fa-icon",4),E(10,"span",5),Q(11,"planets"),R()()(),E(12,"li",2)(13,"a",7),Se(14,"fa-icon",4),E(15,"span",5),Q(16,"radar"),R()()(),E(17,"li",2),$t(18,CGe,2,1,"span",8),$t(19,MGe,3,3,"span",9),Re(20,"async"),E(21,"a",10),Se(22,"fa-icon",4),E(23,"span",5),Q(24,"fleets"),R()()(),E(25,"li",2)(26,"a",11),Se(27,"fa-icon",4),E(28,"span",5),Q(29,"navigation"),R()()(),E(30,"li",2)(31,"a",12),Se(32,"fa-icon",4),E(33,"span",5),Q(34,"research"),R()()(),E(35,"li",2)(36,"a",13),Se(37,"fa-icon",4),E(38,"span",5),Q(39,"alliances"),R()()()()()),2&r&&(D(2),W("tabName","home"),D(2),s2(Ht(32,Ms)),W("icon",Ht(33,wGe)),D(3),W("tabName","planets"),D(2),s2(Ht(34,Ms)),W("icon",Ht(35,bGe)),D(3),W("tabName","radar"),D(2),s2(Ht(36,Ms)),W("icon",Ht(37,VGe)),D(3),W("tabName","fleets"),D(1),W("ngIf",i.localOrdersBadge>0),D(1),W("ngIf",i.active&&Nt(20,30,i.fleetOrdersNotification)),D(3),s2(Ht(38,Ms)),W("icon",Ht(39,HGe)),D(3),W("tabName","navigation"),D(2),s2(Ht(40,Ms)),W("icon",Ht(41,SGe)),D(3),W("tabName","research"),D(2),s2(Ht(42,Ms)),W("icon",Ht(43,zGe)),D(3),W("tabName","alliances"),D(2),s2(Ht(44,Ms)),W("icon",Ht(45,xGe)))},dependencies:[Ei,mw,_Ge,Ko],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const V1_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let IGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[EGe]}),t.\u0275inj=et({providers:[fG],imports:[Bn,f6,Ha(()=>za(V1_firebase)),Na(()=>ka()),M4(()=>b4()),Ea(()=>Ia(Sa(),{provider:new Ar(V1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),x$e(()=>o$e())]}),e})();class LGe{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class DGe{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class xK{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class EK{constructor(){this._resources=new DGe,this._workers=new xK,this._soldiers=new xK}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Ot=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Ot||{});let IK=(()=>{var t;class e{constructor(){this.dgAPI=z(or)}extractStats(){let r=new LGe;return r.stats.set(Ot.ALL,new EK),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new EK),r.stats.get(Ot.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Ot.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Ot.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Ot.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Ot.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Ot.METAL:r.stats.get(Ot.ALL).resources.metalStored+=s.stored,r.stats.get(Ot.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Ot.MINERAL:r.stats.get(Ot.ALL).resources.mineralStored+=s.stored,r.stats.get(Ot.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Ot.FOOD:r.stats.get(Ot.ALL).resources.foodStored+=s.stored,r.stats.get(Ot.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Ot.ENERGY:r.stats.get(Ot.ALL).resources.energyStored+=s.stored,r.stats.get(Ot.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),AGe=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),gw=(()=>{var t;class e{constructor(){this.decimalPipe=z(ya)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const TGe=function(t){return{"dgt-stats-totals-last-row":t}},H1=function(t){return{"dgt-padding-bottom-xs":t}};function NGe(t,e){if(1&t&&(E(0,"tr",4)(1,"th",5),Q(2),Re(3,"galaxyNameFormatter"),R(),E(4,"td",6)(5,"div",7),Se(6,"img",8),E(7,"span",9),Q(8),Re(9,"number"),R()()(),E(10,"td",10)(11,"div",7)(12,"span",9),Q(13),Re(14,"resourceProductionFormatter"),R()()(),E(15,"td",11)(16,"div",12),Se(17,"img",13),E(18,"span",9),Q(19),Re(20,"number"),R()()(),E(21,"td",10)(22,"div",12)(23,"span",9),Q(24),Re(25,"resourceProductionFormatter"),R()()(),E(26,"td",11)(27,"div",14),Se(28,"img",15),E(29,"span",9),Q(30),Re(31,"number"),R()()(),E(32,"td",10)(33,"div",14)(34,"span",9),Q(35),Re(36,"resourceProductionFormatter"),R()()(),E(37,"td",11)(38,"div",16),Se(39,"img",17),E(40,"span",9),Q(41),Re(42,"number"),R()()(),E(43,"td",18)(44,"div",16)(45,"span",9),Q(46),Re(47,"resourceProductionFormatter"),R()()(),E(48,"td",19)(49,"div",20),Se(50,"img",21),E(51,"span",9),Q(52),Re(53,"number"),R()()(),E(54,"td",22)(55,"div",23),Se(56,"img",24),E(57,"span",9),Q(58),Re(59,"number"),R()()(),E(60,"td",25)(61,"div",26),Se(62,"img",27),E(63,"span",9),Q(64),Re(65,"number"),R()()()()),2&t){const n=e.$implicit,r=e.index,i=ot();W("ngClass",G2(63,TGe,r==i.panel.stats.size-1)),D(1),W("ngClass",G2(65,H1,r==i.panel.stats.size-2)),D(1),je(Nt(3,25,n.key)),D(2),W("ngClass",G2(67,H1,r==i.panel.stats.size-2)),D(4),je(Hr(9,27,n.value.resources.metalStored,"1.0","en-US")),D(2),W("ngClass",G2(69,H1,r==i.panel.stats.size-2)),D(3),je(Nt(14,31,n.value.resources.metalProduction)),D(2),W("ngClass",G2(71,H1,r==i.panel.stats.size-2)),D(4),je(Hr(20,33,n.value.resources.mineralStored,"1.0","en-US")),D(2),W("ngClass",G2(73,H1,r==i.panel.stats.size-2)),D(3),je(Nt(25,37,n.value.resources.mineralProduction)),D(2),W("ngClass",G2(75,H1,r==i.panel.stats.size-2)),D(4),je(Hr(31,39,n.value.resources.foodStored,"1.0","en-US")),D(2),W("ngClass",G2(77,H1,r==i.panel.stats.size-2)),D(3),je(Nt(36,43,n.value.resources.foodProduction)),D(2),W("ngClass",G2(79,H1,r==i.panel.stats.size-2)),D(4),je(Hr(42,45,n.value.resources.energyStored,"1.0","en-US")),D(2),W("ngClass",G2(81,H1,r==i.panel.stats.size-2)),D(3),je(Nt(47,49,n.value.resources.energyProduction)),D(2),W("ngClass",G2(83,H1,r==i.panel.stats.size-2)),D(4),je(Hr(53,51,n.value.resources.ground,"1.0","en-US")),D(2),W("ngClass",G2(85,H1,r==i.panel.stats.size-2)),D(4),je(Hr(59,55,n.value.resources.orbit,"1.0","en-US")),D(2),W("ngClass",G2(87,H1,r==i.panel.stats.size-2)),D(4),je(Hr(65,59,n.value.soldiers.total,"1.0","en-US"))}}let kGe=(()=>{var t;class e{constructor(){this.statsPanelService=z(IK)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"table",2),$t(3,NGe,66,89,"tr",3),Re(4,"keyvalue"),R()()()),2&r&&(D(3),W("ngForOf",Nt(4,1,i.panel.stats)))},dependencies:[r9,pl,ya,CI,AGe,gw],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #626262;height:15px;width:15px;vertical-align:middle}"]}),e})(),PGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[kGe]}),t.\u0275inj=et({providers:[ya,IK],imports:[Bn,f6]}),e})(),LK=(()=>{var t;class e{constructor(){this.firestore=z(sr),this.dgAPI=z(or)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=ar(this.firestore,"scans");w4(V4(i,ti("location","==",r.planetScan.location),cG(1)),{idField:"id"}).forEach(s=>{let a=Object.assign(new hG,s[0]);a.location=r.planetScan.location,a.turn=r.planetScan.turn,a.owner=r.planetScan.owner,(r.type==H2.RESOURCE||r.type==H2.SURFACE)&&(a.orbit=r.planetScan.orbit,a.ground=r.planetScan.ground),r.type==H2.RESOURCE&&(a.resources.length>0?a.resources.forEach((o,c)=>{o.abundance=r.planetScan.resources[c].abundance,o.name=r.planetScan.resources[c].name}):a.resources=r.planetScan.resources),r.type==H2.SURFACE&&(a.resources=r.planetScan.resources,a.workers=r.planetScan.workers,a.soldiers=r.planetScan.soldiers,a.structures=r.planetScan.structures),r.type==H2.FLEET&&(a.fleets=r.planetScan.fleets),0==s.length?oG(i,JSON.parse(JSON.stringify(a))).catch(o=>{console.log(o)}):lG(lM(i,a.id),JSON.parse(JSON.stringify(a))).catch(o=>{console.log(o)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function RGe(t,e){1&t&&(E(0,"p",1),Q(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),R())}let OGe=(()=>{var t;class e{constructor(){this.scanService=z(LK),this.authService=z(z4),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&$t(0,RGe,2,0,"p",0),2&r&&W("ngIf",i.active)},dependencies:[Ei]}),e})(),FGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[OGe]}),t.\u0275inj=et({providers:[LK],imports:[Bn,Ha(()=>za(V1_firebase)),Na(()=>ka()),M4(()=>b4()),Ea(()=>Ia(Sa(),{provider:new Ar(V1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),DK=(()=>{var t;class e{constructor(){this.firestore=z(sr),this.dgAPI=z(or),this.resourceProductionFormatterPipe=z(gw),this.decimalPipe=z(ya)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));w4(V4(ar(this.firestore,"scans"),ti("location","in",i))).forEach(s=>{let o=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=o.get(l);if(c.querySelector(".dgt-navigation-scan-turn").style.display="contents",c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(u.turn,"1.0","en_US"),u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let f=u.structures.map(h=>h.name);f.includes(Ue.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),f.includes(Ue.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),f.includes(Ue.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),f.includes(Ue.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),f.includes(Ue.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),f.includes(Ue.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),f.includes(Ue.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),f.includes(Ue.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),f.includes(Ue.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let d=1;if(f.includes(Ue.MEDICAL_CENTRE)&&(d+=.3),f.includes(Ue.LEISURE_CENTRE)&&(d+=.4),f.includes(Ue.HOSPITAL)&&(d+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(d,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}}else c.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function BGe(t,e){1&t&&(E(0,"p",1),Q(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),R())}let UGe=(()=>{var t;class e{constructor(){this.scanService=z(DK),this.authService=z(z4),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&$t(0,BGe,2,0,"p",0),2&r&&W("ngIf",i.active)},dependencies:[Ei]}),e})(),jGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[UGe]}),t.\u0275inj=et({providers:[ya,gw,DK],imports:[Bn,Ha(()=>za(V1_firebase)),Na(()=>ka()),M4(()=>b4()),Ea(()=>Ia(Sa(),{provider:new Ar(V1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function $Ge(t,e){if(1&t){const n=wi();E(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),Q(6,"DGT Login"),R()()(),E(7,"tr",3)(8,"td"),Se(9,"input",4,5),R(),E(11,"td"),Se(12,"input",6,7),R()(),E(14,"tr",8)(15,"td",2)(16,"button",9),Xe("click",function(){L1(n);const i=ed(10),s=ed(13);return D1(ot().signInWithEmailAndPassword(i.value,s.value,!0))}),Q(17,"Login"),R(),E(18,"button",10),Xe("click",function(){return L1(n),D1(ot().signInWithGoogle(!0))}),Se(19,"img",11),R()()()()()()}}let qGe=(()=>{var t;class e{constructor(){this.authService=z(z4),this.auth=z(z3),this.firestore=z(sr),this.localStorageService=z(ds),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new Ve(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(wn.USER)&&!this.authService.refreshInProgress)})})}signInWithEmailAndPassword(r,i,s){this.authService.signInWithEmailAndPassword(this.auth,r,i,s)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&($t(0,$Ge,20,0,"div",0),Re(1,"async")),2&r&&W("ngIf",Nt(1,1,i.displayLogin))},dependencies:[Ei,Ko],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),GGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[qGe]}),t.\u0275inj=et({imports:[Bn,Ha(()=>za(V1_firebase)),Na(()=>ka()),M4(()=>b4()),Ea(()=>Ia(Sa(),{provider:new Ar(V1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),AK=(()=>{var t;class e{constructor(){this.firestore=z(sr),this.dgApi=z(or)}updateOrder(r){r.from=this.dgApi.username(!1);let i=ar(this.firestore,"orders");oG(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){IBe(lM(ar(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,a){document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(c=>{c.classList.add("show"),c.classList.remove("hide")});let o=ar(this.firestore,"orders");w4(V4(o,ti("user","==",r),qu("executed","asc"),qu("wait","asc")),{idField:"id"}).forEach(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges(),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(u=>{u.classList.add("hide"),u.classList.remove("show")})}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class WGe{get from(){return this._from}set from(e){this._from=e}get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target,from:this.from}}}var _w={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},ww={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},D5={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let rQ=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(V(sn),V(g2))},t.\u0275dir=Y({type:t}),e})(),ws=(()=>{var t;class e extends rQ{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=r2(t)))(i||t)}}(),t.\u0275dir=Y({type:t,features:[xe]}),e})();const Sn=new U("NgValueAccessor"),sQe={provide:Sn,useExisting:Ne(()=>A5),multi:!0},oQe=new U("CompositionEventMode");let A5=(()=>{var t;class e extends rQ{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aQe(){const t=zr()?zr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(V(sn),V(g2),V(oQe,8))},t.\u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Xe("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[Je([sQe]),xe]}),e})();const S2=new U("NgValidators"),ci=new U("NgAsyncValidators");function pQ(t){return null!=t}function mQ(t){return Lo(t)?h2(t):t}function gQ(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function vQ(t,e){return e.map(n=>n(t))}function yQ(t){return t.map(e=>function lQe(t){return!t.validate}(e)?e:n=>e.validate(n))}function Vw(t){return null!=t?function _Q(t){if(!t)return null;const e=t.filter(pQ);return 0==e.length?null:function(n){return gQ(vQ(n,e))}}(yQ(t)):null}function Hw(t){return null!=t?function CQ(t){if(!t)return null;const e=t.filter(pQ);return 0==e.length?null:function(n){return function rQe(...t){const e=db(t),{args:n,keys:r}=mG(t),i=new Ve(s=>{const{length:a}=n;if(!a)return void s.complete();const o=new Array(a);let c=a,l=a;for(let u=0;u<a;u++){let f=!1;Z2(n[u]).subscribe(pt(s,d=>{f||(f=!0,l--),o[u]=d},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?vG(r,o):o),s.complete())}))}});return e?i.pipe(gG(e)):i}(vQ(n,e).map(mQ)).pipe(Ce(gQ))}}(yQ(t)):null}function MQ(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Sw(t){return t?Array.isArray(t)?t:[t]:[]}function N5(t,e){return Array.isArray(t)?t.includes(e):t===e}function VQ(t,e){const n=Sw(e);return Sw(t).forEach(i=>{N5(n,i)||n.push(i)}),n}function HQ(t,e){return Sw(e).filter(n=>!N5(t,n))}class SQ{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class O2 extends SQ{get formDirective(){return null}get path(){return null}}class li extends SQ{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zQ{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xQ=(()=>{var t;class e extends zQ{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(V(li,2))},t.\u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ao("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xe]}),e})(),EQ=(()=>{var t;class e extends zQ{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(V(O2,10))},t.\u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ao("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[xe]}),e})();const d6="VALID",P5="INVALID",U4="PENDING",h6="DISABLED";function Ew(t){return(R5(t)?t.validators:t)||null}function Iw(t,e){return(R5(e)?e.asyncValidators:t)||null}function R5(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class AQ{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===d6}get invalid(){return this.status===P5}get pending(){return this.status==U4}get disabled(){return this.status===h6}get enabled(){return this.status!==h6}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(VQ(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(VQ(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HQ(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HQ(e,this._rawAsyncValidators))}hasValidator(e){return N5(this._rawValidators,e)}hasAsyncValidator(e){return N5(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=U4,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=h6,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=d6,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===d6||this.status===U4)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?h6:d6}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=U4,this._hasOwnPendingAsyncValidator=!0;const n=mQ(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?h6:this.errors?P5:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(U4)?U4:this._anyControlsHaveStatus(P5)?P5:d6}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){R5(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function hQe(t){return Array.isArray(t)?Vw(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pQe(t){return Array.isArray(t)?Hw(t):t||null}(this._rawAsyncValidators)}}class Lw extends AQ{constructor(e,n,r){super(Ew(n),Iw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function DQ(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function LQ(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const j4=new U("CallSetDisabledState",{providedIn:"root",factory:()=>O5}),O5="always";function p6(t,e,n=O5){Dw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function vQe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&TQ(t,e)})}(t,e),function _Qe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function yQe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&TQ(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function gQe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function U5(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Dw(t,e){const n=function wQ(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(MQ(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function bQ(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(MQ(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();U5(e._rawValidators,i),U5(e._rawAsyncValidators,i)}function TQ(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const VQe={provide:O2,useExisting:Ne(()=>$5)},m6=(()=>Promise.resolve())();let $5=(()=>{var t;class e extends O2{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new nt,this.form=new Lw({},Vw(r),Hw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){m6.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),p6(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){m6.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){m6.then(()=>{const i=this._findContainer(r.path),s=new Lw({});(function NQ(t,e){Dw(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){m6.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){m6.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function kQ(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(V(S2,10),V(ci,10),V(j4,8))},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Xe("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Je([VQe]),xe]}),e})();function PQ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function RQ(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const OQ=class extends AQ{constructor(e=null,n,r){super(Ew(n),Iw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),R5(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=RQ(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PQ(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PQ(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RQ(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},zQe={provide:li,useExisting:Ne(()=>kw)},UQ=(()=>Promise.resolve())();let kw=(()=>{var t;class e extends li{constructor(r,i,s,a,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new OQ,this._registered=!1,this.name="",this.update=new nt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function Nw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===A5?n=s:function wQe(t){return Object.getPrototypeOf(t.constructor)===ws}(s)?r=s:i=s}),i||r||n||null}(0,a)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Tw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){p6(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){UQ.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function ga(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);UQ.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function F5(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(V(O2,9),V(S2,10),V(ci,10),V(Sn,10),V(Si,8),V(j4,8))},t.\u0275dir=Y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Je([zQe]),xe,x2]}),e})(),jQ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),qQ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t}),t.\u0275inj=et({}),e})(),XQe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t}),t.\u0275inj=et({imports:[qQ]}),e})(),ZQe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:j4,useValue:r.callSetDisabledState??O5}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t}),t.\u0275inj=et({imports:[XQe]}),e})(),eXe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(V(g2))},t.\u0275dir=Y({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&Xe("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),tXe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(V(g2))},t.\u0275dir=Y({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&Xe("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),nXe=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"kickMemberFormatter",type:t,pure:!0}),e})(),rXe=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"updateNoteFormatter",type:t,pure:!0}),e})();function iXe(t,e){if(1&t&&(E(0,"span",9),Q(1),R()),2&t){const n=ot().$implicit;D(1),fa("Note: ",n.note,"")}}function sXe(t,e){if(1&t&&(E(0,"div",5)(1,"div",6)(2,"span",7),Q(3),R(),$t(4,iXe,2,1,"span",8),R()()),2&t){const n=e.$implicit;D(3),je(n.name),D(1),W("ngIf",null!=n.note)}}const lX=function(){return["far","circle-xmark"]};function aXe(t,e){if(1&t){const n=wi();E(0,"div",27)(1,"form",28,29),Xe("ngSubmit",function(i){return L1(n),D1(ot(3).onSubmitKickMember(i))}),Se(3,"input",30),Re(4,"kickMemberFormatter"),E(5,"button",31),Se(6,"fa-icon",23),R()()()}if(2&t){const n=ot().$implicit;D(3),Do("name",Nt(4,2,n.dgId)),D(3),W("icon",Ht(4,lX))}}function oXe(t,e){if(1&t&&(E(0,"span",32),Q(1),R()),2&t){const n=ot().$implicit;D(1),fa("[",n.kickEta,"]")}}function cXe(t,e){if(1&t&&(E(0,"span",9),Q(1),R()),2&t){const n=ot().$implicit;D(1),fa("Note: ",n.note,"")}}const uX=function(){return["far","circle-right"]};function lXe(t,e){if(1&t){const n=wi();E(0,"div",33)(1,"span",34),Q(2,"Note:"),R(),E(3,"form",35,29),Xe("ngSubmit",function(i){return L1(n),D1(ot(3).onSubmitUpdateNote(i))}),Re(5,"updateNoteFormatter"),Se(6,"input",36),E(7,"button",31),Se(8,"fa-icon",23),R()()()}if(2&t){const n=ot().$implicit;D(3),Do("action",Nt(5,3,n.dgId),mf),D(3),Do("value",n.note),D(2),W("icon",Ht(5,uX))}}const uXe=function(t,e){return{executed:t,"in-progress":e}};function fXe(t,e){if(1&t){const n=wi();E(0,"div",37)(1,"div",15)(2,"span",34),Q(3,"Target:"),R(),E(4,"span",38),Q(5),R()(),E(6,"div",17)(7,"span",34),Q(8,"Wait:"),R(),E(9,"span",38),Q(10),R()(),E(11,"div",19)(12,"span",34),Q(13,"Instructions:"),R(),E(14,"span",38),Q(15),R()(),E(16,"div",39)(17,"button",22),Xe("click",function(){const s=L1(n).$implicit;return D1(ot(3).deleteOrder(s.id))}),Se(18,"fa-icon",23),R()()()}if(2&t){const n=e.$implicit;W("ngClass",Lx(5,uXe,n.executed,!n.executed)),D(5),je(n.target),D(5),je(n.wait),D(5),je(n.instructions),D(3),W("icon",Ht(8,lX))}}function dXe(t,e){if(1&t){const n=wi();E(0,"div",5)(1,"div",6)(2,"span",7),Q(3),R(),$t(4,aXe,7,5,"div",11),Re(5,"async"),$t(6,oXe,2,1,"span",12),$t(7,cXe,2,1,"span",8),Re(8,"async"),$t(9,lXe,9,6,"div",13),Re(10,"async"),R(),E(11,"div",14)(12,"div",15)(13,"span",15),Q(14,"Target:"),R(),E(15,"input",16),Xe("ngModelChange",function(i){const a=L1(n).index;return D1(ot(2).controls.target[a]=i)}),R()(),E(16,"div",17)(17,"span",17),Q(18,"Wait:"),R(),E(19,"input",18),Xe("ngModelChange",function(i){const a=L1(n).index;return D1(ot(2).controls.wait[a]=i)}),R()(),E(20,"div",19)(21,"span",19),Q(22,"Instructions:"),R(),E(23,"textarea",20),Xe("ngModelChange",function(i){const a=L1(n).index;return D1(ot(2).controls.instructions[a]=i)}),R()(),E(24,"div",21)(25,"button",22),Xe("click",function(){const s=L1(n).index;return D1(ot(2).createOrder(s))}),Se(26,"fa-icon",23),R()()(),E(27,"div",24)(28,"div",25),Se(29,"span",1),R(),$t(30,fXe,19,9,"div",26),Re(31,"async"),R()()}if(2&t){const n=e.$implicit,r=e.index,i=ot(2);D(3),je(n.name),D(1),W("ngIf",null==n.kickEta&&Nt(5,10,i.role)===i.UserRole.ADMIN),D(2),W("ngIf",null!=n.kickEta),D(1),W("ngIf",null!=n.note&&n.note.length>0&&Nt(8,12,i.role)===i.UserRole.TEAM_LEADER),D(2),W("ngIf",Nt(10,14,i.role)===i.UserRole.ADMIN),D(6),W("ngModel",i.controls.target[r]),D(4),W("ngModel",i.controls.wait[r]),D(4),W("ngModel",i.controls.instructions[r]),D(3),W("icon",Ht(18,uX)),D(4),W("ngForOf",Nt(31,16,i.orders.get(n.name.toLowerCase())))}}function hXe(t,e){if(1&t&&(E(0,"div",10),$t(1,dXe,32,19,"div",3),R()),2&t){const n=ot();D(1),W("ngForOf",n.allianceMembers)}}let pXe=(()=>{var t;class e{constructor(r){this.UserRole=Nc,this.orderService=z(AK),this.dgAPI=z(or),this.authService=z(z4),this.changeDetection=z(Si),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(D5,ww),this.allianceMembers=this.dgAPI.allianceMembers(!0),this.authService.authState.subscribe(i=>{document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("show"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("hide")),i.status&&(this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.role=new Ve(s=>{s.next(i.role),s.complete()}),(i.role===Nc.ADMIN||i.role===Nc.TEAM_LEADER)&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.allianceMembers.forEach(s=>{this.orders.set(s.name.toLowerCase(),new Ve(a=>{this.orderService.getAllOrders(s.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,a)}))})),this.changeDetection.detectChanges(),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("hide"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("show")))})}createOrder(r){let i=new WGe;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){r.target.submit()}onSubmitUpdateNote(r){r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(V(I5))},t.\u0275cmp=t1({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:7,vars:6,consts:[[1,"dgt-spinner-container","main"],[1,"dgt-spinner"],[1,"dgt-orders-manager-panel","user"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],["class","dgt-orders-manager-panel admin",4,"ngIf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","note",4,"ngIf"],[1,"note"],[1,"dgt-orders-manager-panel","admin"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],[1,"dgt-orders-history"],[1,"dgt-spinner-container","member"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(E(0,"div",0),Se(1,"span",1),R(),E(2,"div",2),$t(3,sXe,5,2,"div",3),R(),$t(4,hXe,2,1,"div",4),Re(5,"async"),Re(6,"async")),2&r&&(D(3),W("ngForOf",i.allianceMembers),D(1),W("ngIf",Nt(5,2,i.role)===i.UserRole.TEAM_LEADER||Nt(6,4,i.role)===i.UserRole.ADMIN))},dependencies:[r9,pl,Ei,jQ,A5,xQ,EQ,kw,$5,mw,eXe,tXe,Ko,nXe,rXe],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:372px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:10px;padding:5px 5px 10px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid transparent;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]:nth-child(2){margin-top:10px!important}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#ffffffad;margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{background:#7BBD1A3D}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{background:#FF3B303B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;margin-left:5px;margin-right:5px;position:relative}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:2px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px}span.note[_ngcontent-%COMP%]{line-height:20px}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#ffffffad!important;font-weight:400!important;width:35%!important;font-size:1em!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.note[_ngcontent-%COMP%]{line-height:16px!important;width:65%;text-align:left;font-size:1em!important}.dgt-spinner-container.member[_ngcontent-%COMP%]{position:relative;margin-top:5px}.dgt-spinner-container.member[_ngcontent-%COMP%]   .dgt-spinner[_ngcontent-%COMP%]{top:10px!important}"]}),e})(),mXe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[pXe]}),t.\u0275inj=et({providers:[AK],imports:[Bn,ZQe,f6,Ha(()=>za(V1_firebase)),Na(()=>ka()),M4(()=>b4()),Ea(()=>Ia(Sa(),{provider:new Ar(V1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),f6]}),e})(),fX=(()=>{var t;class e{constructor(){this.firestore=z(sr)}getActiveOrders(r,i,s,a){let o=ar(this.firestore,"orders");w4(V4(o,ti("user","==",r),ti("executed","==",!1),qu("executed","asc"),qu("wait","asc")),{idField:"id"}).forEach(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges()}).catch(c=>{console.log(c)})}completeOrder(r){let i=ar(this.firestore,"orders");lG(lM(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const gXe=function(){return["far","circle-check"]};function vXe(t,e){if(1&t){const n=wi();E(0,"div",4)(1,"div",5)(2,"span",6),Q(3,"From:"),R(),E(4,"span",7),Q(5),R()(),E(6,"div",8)(7,"span",6),Q(8,"Target:"),R(),E(9,"span",7),Q(10),R()(),E(11,"div",9)(12,"span",6),Q(13,"Wait:"),R(),E(14,"span",7),Q(15),R()(),E(16,"div",10)(17,"span",6),Q(18,"Instructions:"),R(),E(19,"span",7),Q(20),R()(),E(21,"div",11)(22,"button",12),Xe("click",function(){const s=L1(n).$implicit;return D1(ot(2).onCompleteClick(s.id))}),Se(23,"fa-icon",13),R()()()}if(2&t){const n=e.$implicit;D(5),je(n.from),D(5),je(n.target),D(5),je(n.wait),D(5),je(n.instructions),D(3),W("icon",Ht(5,gXe))}}function yXe(t,e){if(1&t&&(O0(0),$t(1,vXe,24,6,"div",3),Re(2,"async"),F0()),2&t){const n=ot();D(1),W("ngForOf",Nt(2,1,n.orders))}}let _Xe=(()=>{var t;class e{constructor(r){this.orderService=z(fX),this.dgAPI=z(or),this.changeDetection=z(Si),this.authService=z(z4),this.active=!1,r.addIcons(_w),this.authService.authState.subscribe(i=>{document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("show"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("hide")),this.active=i.status,i.status&&(this.orders=new Ve(s=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,s)})),this.changeDetection.detectChanges(),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("show"))})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(V(I5))},t.\u0275cmp=t1({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-fleet-order",4,"ngFor","ngForOf"],[1,"dgt-fleet-order"],[1,"from"],[1,"label"],[1,"value"],[1,"target"],[1,"wait"],[1,"instructions"],[1,"complete"],[3,"click"],[3,"icon"]],template:function(r,i){1&r&&(E(0,"div",0),Se(1,"span",1),R(),$t(2,yXe,3,3,"ng-container",2)),2&r&&(D(2),W("ngIf",i.active))},dependencies:[pl,Ei,mw,Ko],styles:[".dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#FF3B303B;border:none;width:calc(100% - 20px);border-radius:5px;height:22px;line-height:22px;padding:5px;margin-right:5px;margin-left:5px;margin-bottom:5px}.dgt-fleet-order[_ngcontent-%COMP%]:nth-child(2){margin-top:5px!important}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:5px!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;color:#dcdcdc;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#dcdcdc}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:145px}.dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:85px}.dgt-fleet-order[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{float:right;margin-right:2px}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:2px;min-width:150px}.dgt-spinner-container[_ngcontent-%COMP%]{margin:5px!important;width:calc(100% - 10px)!important;height:calc(100% - 10px)!important;position:relative}"]}),e})(),CXe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[_Xe]}),t.\u0275inj=et({providers:[fX],imports:[Bn,f6,Ha(()=>za(V1_firebase)),Na(()=>ka()),M4(()=>b4()),Ea(()=>Ia(Sa(),{provider:new Ar(V1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),MXe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),wXe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[MXe]}),t.\u0275inj=et({imports:[Bn]}),e})(),bXe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),VXe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=at({type:t,bootstrap:[bXe]}),t.\u0275inj=et({imports:[Bn]}),e})();const mr=uoe();let W1=window.location.pathname.split(/\//g);mr.bootstrapModule(VXe).catch(t=>console.error(t)),mr.bootstrapModule(wXe).catch(t=>console.error(t)),mr.bootstrapModule(GGe).catch(t=>console.error(t)),mr.bootstrapModule(IGe).catch(t=>console.error(t)),"planets"===W1[1]&&mr.bootstrapModule(PGe).catch(t=>console.error(t)),"planet"===W1[1]&&"comms"===(5===W1.length&&W1[3])&&mr.bootstrapModule(FGe).catch(t=>console.error(t)),"navigation"===W1[1]&&6===W1.length&&!isNaN(+W1[2])&&!isNaN(+W1[3])&&!isNaN(+W1[4])&&mr.bootstrapModule(jGe).catch(t=>console.error(t)),"alliances"===W1[1]&&mr.bootstrapModule(mXe).catch(t=>console.error(t)),"fleets"===W1[1]&&mr.bootstrapModule(CXe).catch(t=>console.error(t))}},De=>{De(De.s=521)}]);