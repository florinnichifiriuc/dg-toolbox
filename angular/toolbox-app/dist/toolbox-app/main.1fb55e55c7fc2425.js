"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{61:()=>{function Ae(t){return"function"==typeof t}function uc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fc=uc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ji(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class f1{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(s){e=s instanceof fc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{cM(s)}catch(a){e=e??[],a instanceof fc?e=[...e,...a.errors]:e.push(a)}}if(e)throw new fc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cM(e);else{if(e instanceof f1){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ji(n,e)}remove(e){const{_finalizers:n}=this;n&&Ji(n,e),e instanceof f1&&e._removeParent(this)}}f1.EMPTY=(()=>{const t=new f1;return t.closed=!0,t})();const aM=f1.EMPTY;function oM(t){return t instanceof f1||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function cM(t){Ae(t)?t():t.unsubscribe()}const jr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dc={setTimeout(t,e,...n){const{delegate:r}=dc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=dc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lM(t){dc.setTimeout(()=>{const{onUnhandledError:e}=jr;if(!e)throw t;e(t)})}function uM(){}const CK=A5("C",void 0,void 0);function A5(t,e,n){return{kind:t,value:e,error:n}}let $r=null;function hc(t){if(jr.useDeprecatedSynchronousErrorHandling){const e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}class T5 extends f1{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oM(e)&&e.add(this)):this.destination=SK}static create(e,n,r){return new a3(e,n,r)}next(e){this.isStopped?k5(function wK(t){return A5("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?k5(function MK(t){return A5("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?k5(CK,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const VK=Function.prototype.bind;function N5(t,e){return VK.call(t,e)}class HK{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pc(r)}else pc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pc(n)}}}class a3 extends T5{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&jr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&N5(e.next,s),error:e.error&&N5(e.error,s),complete:e.complete&&N5(e.complete,s)}):i=e}this.destination=new HK(i)}}function pc(t){jr.useDeprecatedSynchronousErrorHandling?function bK(t){jr.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}(t):lM(t)}function k5(t,e){const{onStoppedNotification:n}=jr;n&&dc.setTimeout(()=>n(t,e))}const SK={closed:!0,next:uM,error:function zK(t){throw t},complete:uM},P5="function"==typeof Symbol&&Symbol.observable||"@@observable";function mc(t){return t}let $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function EK(t){return t&&t instanceof T5||function xK(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&oM(t)}(n)?n:new a3(n,r,i);return hc(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=dM(r))((i,s)=>{const a=new a3({next:o=>{try{n(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[P5](){return this}pipe(...n){return function fM(t){return 0===t.length?mc:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=dM(n))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return t.create=e=>new t(e),t})();function dM(t){var e;return null!==(e=t??jr.Promise)&&void 0!==e?e:Promise}const IK=uc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let gc=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new hM(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new IK}next(n){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?aM:(this.currentObservers=null,s.push(n),new f1(()=>{this.currentObservers=null,Ji(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new $e;return n.source=this,n}}return t.create=(e,n)=>new hM(e,n),t})();class hM extends gc{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:aM}}class LK extends gc{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function I1(t){return e=>{if(function DK(t){return Ae(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function L1(t,e,n,r,i){return new AK(t,e,n,r,i)}class AK extends T5{constructor(e,n,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=n?function(o){try{n(o)}catch(c){e.error(c)}}:super._next,this._error=i?function(o){try{i(o)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function dn(t,e){return I1((n,r)=>{let i=0;n.subscribe(L1(r,s=>{r.next(t.call(e,s,i++))}))})}function vc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Yn(t){return this instanceof Yn?(this.v=t,this):new Yn(t)}function vM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function B5(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){!function i(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}(o,c,(a=t[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const yM=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function _M(t){return Ae(t?.then)}function CM(t){return Ae(t[P5])}function MM(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function wM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bM=function eY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function VM(t){return Ae(t?.[bM])}function HM(t){return function gM(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||o(d,h)})})}function o(d,h){try{!function c(d){d.value instanceof Yn?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){o("next",d)}function u(d){o("throw",d)}function f(d,h){d(h),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Yn(n.read());if(i)return yield Yn(void 0);yield yield Yn(r)}}finally{n.releaseLock()}})}function zM(t){return Ae(t?.getReader)}function D1(t){if(t instanceof $e)return t;if(null!=t){if(CM(t))return function tY(t){return new $e(e=>{const n=t[P5]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(yM(t))return function nY(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(_M(t))return function rY(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lM)})}(t);if(MM(t))return SM(t);if(VM(t))return function iY(t){return new $e(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(zM(t))return function sY(t){return SM(HM(t))}(t)}throw wM(t)}function SM(t){return new $e(e=>{(function aY(t,e){var n,r,i,s;return function pM(t,e,n,r){return new(n||(n=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(f){a(f)}}function c(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(a){a(s)})}(u.value).then(o,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=vM(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Qn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function yc(t,e,n=1/0){return Ae(e)?yc((r,i)=>dn((s,a)=>e(r,s,i,a))(D1(t(r,i))),n):("number"==typeof e&&(n=e),I1((r,i)=>function oY(t,e,n,r,i,s,a,o){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let v=!1;D1(n(g,u++)).subscribe(L1(e,_=>{i?.(_),s?h(_):e.next(_)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){const _=c.shift();a?Qn(e,a,()=>p(_)):p(_)}d()}catch(_){e.error(_)}}))};return t.subscribe(L1(e,h,()=>{f=!0,d()})),()=>{o?.()}}(r,i,t,n)))}const xM=new $e(t=>t.complete());function U5(t){return t[t.length-1]}function EM(t){return function uY(t){return t&&Ae(t.schedule)}(U5(t))?t.pop():void 0}function _c(t,e=0){return I1((n,r)=>{n.subscribe(L1(r,i=>Qn(r,t,()=>r.next(i),e),()=>Qn(r,t,()=>r.complete(),e),i=>Qn(r,t,()=>r.error(i),e)))})}function Cc(t,e=0){return I1((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function IM(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{Qn(n,e,()=>{const r=t[Symbol.asyncIterator]();Qn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Mc(t,e){return e?function yY(t,e){if(null!=t){if(CM(t))return function hY(t,e){return D1(t).pipe(Cc(e),_c(e))}(t,e);if(yM(t))return function mY(t,e){return new $e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(_M(t))return function pY(t,e){return D1(t).pipe(Cc(e),_c(e))}(t,e);if(MM(t))return IM(t,e);if(VM(t))return function gY(t,e){return new $e(n=>{let r;return Qn(n,e,()=>{r=t[bM](),Qn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void n.error(a)}s?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(zM(t))return function vY(t,e){return IM(HM(t),e)}(t,e)}throw wM(t)}(t,e):D1(t)}function j5(...t){return Mc(t,EM(t))}function LM(t={}){const{connector:e=(()=>new gc),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let a,o,c,l=0,u=!1,f=!1;const d=()=>{o?.unsubscribe(),o=void 0},h=()=>{d(),a=c=void 0,u=f=!1},p=()=>{const g=a;h(),g?.unsubscribe()};return I1((g,v)=>{l++,!f&&!u&&d();const _=c=c??e();v.add(()=>{l--,0===l&&!f&&!u&&(o=$5(p,i))}),_.subscribe(v),!a&&l>0&&(a=new a3({next:y=>_.next(y),error:y=>{f=!0,d(),o=$5(h,n,y),_.error(y)},complete:()=>{u=!0,d(),o=$5(h,r),_.complete()}}),D1(g).subscribe(a))})(s)}}function $5(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new a3({next:()=>{r.unsubscribe(),t()}});return D1(e(...n)).subscribe(r)}function DM(t,e){return I1((n,r)=>{let i=null,s=0,a=!1;const o=()=>a&&!i&&r.complete();n.subscribe(L1(r,c=>{i?.unsubscribe();let l=0;const u=s++;D1(t(c,u)).subscribe(i=L1(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,o()}))},()=>{a=!0,o()}))})}function MY(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function wc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function q5(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const wY=Me({__forward_ref__:Me});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return Mt(this())},t}function Q(t){return G5(t)?t():t}function G5(t){return"function"==typeof t&&t.hasOwnProperty(wY)&&t.__forward_ref__===Se}function W5(t){return t&&!!t.\u0275providers}const AM="https://g.co/ng/security#xss";class x extends Error{constructor(e,n){super(function bc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function K5(t,e){throw new x(-201,!1)}function Z2(t,e){null==t&&function W(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function it(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vc(t){return TM(t,zc)||TM(t,NM)}function TM(t,e){return t.hasOwnProperty(e)?t[e]:null}function Hc(t){return t&&(t.hasOwnProperty(Y5)||t.hasOwnProperty(EY))?t[Y5]:null}const zc=Me({\u0275prov:Me}),Y5=Me({\u0275inj:Me}),NM=Me({ngInjectableDef:Me}),EY=Me({ngInjectorDef:Me});var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{});let Q5;function z2(t){const e=Q5;return Q5=t,e}function PM(t,e,n){const r=Vc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ue.Optional?null:void 0!==e?e:void K5(Mt(t))}const He=globalThis,o3={},tu="__NG_DI_FLAG__",Sc="ngTempTokenPath",DY=/\n/gm,OM="__source";let Zi;function Xn(t){const e=Zi;return Zi=t,e}function NY(t,e=ue.Default){if(void 0===Zi)throw new x(-203,!1);return null===Zi?PM(t,void 0,e):Zi.get(t,e&ue.Optional?null:void 0,e)}function J(t,e=ue.Default){return(function kM(){return Q5}()||NY)(Q(t),e)}function k(t,e=ue.Default){return J(t,xc(e))}function xc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nu(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=ue.Default;for(let a=0;a<r.length;a++){const o=r[a],c=kY(o);"number"==typeof c?-1===c?i=o.token:s|=c:i=o}e.push(J(i,s))}else e.push(J(r))}return e}function c3(t,e){return t[tu]=e,t.prototype[tu]=e,t}function kY(t){return t[tu]}function hn(t){return{toString:t}.toString()}var Ec=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ec||{}),d1=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(d1||{});const A1={},ve=[],Ic=Me({\u0275cmp:Me}),ru=Me({\u0275dir:Me}),iu=Me({\u0275pipe:Me}),BM=Me({\u0275mod:Me}),pn=Me({\u0275fac:Me}),l3=Me({__NG_ELEMENT_ID__:Me}),UM=Me({__NG_ENV_ID__:Me});function jM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function su(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],a=n[r++],o=n[r++];t.setAttribute(e,a,o,s)}else{const s=i,a=n[++r];qM(s)?t.setProperty(e,s,a):t.setAttribute(e,s,a),r++}}return r}function $M(t){return 3===t||4===t||6===t}function qM(t){return 64===t.charCodeAt(0)}function u3(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||GM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function GM(t,e,n,r,i){let s=0,a=t.length;if(-1===e)a=-1;else for(;s<t.length;){const o=t[s++];if("number"==typeof o){if(o===e){a=-1;break}if(o>e){a=s-1;break}}}for(;s<t.length;){const o=t[s];if("number"==typeof o)break;if(o===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(t.splice(a,0,e),s=a+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const WM="ng-template";function OY(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const a=t[r++];if(n&&"class"===s&&-1!==jM(a.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function KM(t){return 4===t.type&&t.value!==WM}function FY(t,e,n){return e===(4!==t.type||n?t.value:WM)}function BY(t,e,n){let r=4;const i=t.attrs||[],s=function $Y(t){for(let e=0;e<t.length;e++)if($M(t[e]))return e;return t.length}(i);let a=!1;for(let o=0;o<e.length;o++){const c=e[o];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!FY(t,c,n)||""===c&&1===e.length){if(h1(r))return!1;a=!0}}else{const l=8&r?c:e[++o];if(8&r&&null!==t.attrs){if(!OY(t.attrs,l,n)){if(h1(r))return!1;a=!0}continue}const f=UY(8&r?"class":c,i,KM(t),n);if(-1===f){if(h1(r))return!1;a=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==jM(h,l,0)||2&r&&l!==d){if(h1(r))return!1;a=!0}}}}else{if(!a&&!h1(r)&&!h1(c))return!1;if(a&&h1(c))continue;a=!1,r=c|1&r}}return h1(r)||a}function h1(t){return 0==(1&t)}function UY(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const a=e[i];if(a===t)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=e[++i];for(;"string"==typeof o;)o=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function qY(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function YM(t,e,n=!1){for(let r=0;r<e.length;r++)if(BY(t,e[r],n))return!0;return!1}function GY(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function QM(t,e){return t?":not("+e.trim()+")":e}function WY(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const o=t[++n];i+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!h1(a)&&(e+=QM(s,i),i=""),r=a,s=s||!h1(r);n++}return""!==i&&(e+=QM(s,i)),e}function T1(t){return hn(()=>{const e=JM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ec.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||d1.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};ZM(n);const r=t.dependencies;return n.directiveDefs=Lc(r,!1),n.pipeDefs=Lc(r,!0),n.id=function tQ(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function XY(t){return de(t)||Ut(t)}function JY(t){return null!==t}function mt(t){return hn(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XM(t,e){if(null==t)return A1;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return hn(()=>{const e=JM(t);return ZM(e),e})}function Bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function de(t){return t[Ic]||null}function Ut(t){return t[ru]||null}function p2(t){return t[iu]||null}function JM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||A1,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XM(t.inputs,e),outputs:XM(t.outputs)}}function ZM(t){t.features?.forEach(e=>e(t))}function Lc(t,e){if(!t)return null;const n=e?p2:XY;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(JY)}const st=0,N=1,re=2,Be=3,p1=4,d3=5,e2=6,es=7,at=8,Jn=9,ts=10,te=11,h3=12,ew=13,ns=14,ot=15,p3=16,rs=17,N1=18,m3=19,tw=20,Zn=21,mn=22,Dc=23,Ac=24,ce=25,au=1,nw=2,k1=7,is=9,jt=11;function S2(t){return Array.isArray(t)&&"object"==typeof t[au]}function x2(t){return Array.isArray(t)&&!0===t[au]}function ou(t){return 0!=(4&t.flags)}function Gr(t){return t.componentOffset>-1}function Nc(t){return 1==(1&t.flags)}function m1(t){return!!t.template}function cu(t){return 0!=(512&t[re])}function Wr(t,e){return t.hasOwnProperty(pn)?t[pn]:null}let oQ=He.WeakRef??class aQ{constructor(e){this.ref=e}deref(){return this.ref}},lQ=0,P1=null,kc=!1;function It(t){const e=P1;return P1=t,e}class ow{constructor(){this.id=lQ++,this.ref=function cQ(t){return new oQ(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=kc;kc=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{kc=e}}producerAccessed(){if(kc)throw new Error("");if(null===P1)return;let e=P1.producers.get(this.id);void 0===e?(e={consumerNode:P1.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:P1.trackingVersion},P1.producers.set(this.id,e),this.consumers.set(P1.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=P1.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==P1?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let cw=null;function lw(t){const e=It(null);try{return t()}finally{It(e)}}const uw=()=>{};class hQ extends ow{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=uw,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=It(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=uw,this.watch(this.registerOnCleanup)}finally{It(e)}}cleanup(){this.cleanupFn()}}class pQ{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function e1(){return fw}function fw(t){return t.type.prototype.ngOnChanges&&(t.setInput=gQ),mQ}function mQ(){const t=hw(this),e=t?.current;if(e){const n=t.previous;if(n===A1)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function gQ(t,e,n,r){const i=this.declaredInputs[n],s=hw(t)||function vQ(t,e){return t[dw]=e}(t,{previous:A1,current:null}),a=s.current||(s.current={}),o=s.previous,c=o[i];a[i]=new pQ(c&&c.currentValue,e,o===A1),t[r]=e}e1.ngInherit=!0;const dw="__ngSimpleChanges__";function hw(t){return t[dw]||null}const R1=function(t,e,n){},pw="svg";function xe(t){for(;Array.isArray(t);)t=t[st];return t}function Oc(t,e){return xe(e[t])}function E2(t,e){return xe(e[t.index])}function gw(t,e){return t.data[e]}function ss(t,e){return t[e]}function U2(t,e){const n=e[t];return S2(n)?n:n[st]}function er(t,e){return null==e?null:t[e]}function vw(t){t[rs]=0}function VQ(t){1024&t[re]||(t[re]|=1024,_w(t,1))}function yw(t){1024&t[re]&&(t[re]&=-1025,_w(t,-1))}function _w(t,e){let n=t[Be];if(null===n)return;n[d3]+=e;let r=n;for(n=n[Be];null!==n&&(1===e&&1===r[d3]||-1===e&&0===r[d3]);)n[d3]+=e,r=n,n=n[Be]}const Y={lFrame:Iw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ww(){return Y.bindingsEnabled}function as(){return null!==Y.skipHydrationRootTNode}function b(){return Y.lFrame.lView}function he(){return Y.lFrame.tView}function g1(t){return Y.lFrame.contextLView=t,t[at]}function v1(t){return Y.lFrame.contextLView=null,t}function $t(){let t=bw();for(;null!==t&&64===t.type;)t=t.parent;return t}function bw(){return Y.lFrame.currentTNode}function O1(t,e){const n=Y.lFrame;n.currentTNode=t,n.isParent=e}function pu(){return Y.lFrame.isParent}function mu(){Y.lFrame.isParent=!1}function m2(){const t=Y.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function os(){return Y.lFrame.bindingIndex++}function vn(t){const e=Y.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function kQ(t,e){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,gu(e)}function gu(t){Y.lFrame.currentDirectiveIndex=t}function yu(t){Y.lFrame.currentQueryIndex=t}function RQ(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[e2]:null}function xw(t,e,n){if(n&ue.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ue.Host||(i=RQ(s),null===i||(s=s[ns],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Y.lFrame=Ew();return r.currentTNode=e,r.lView=t,!0}function _u(t){const e=Ew(),n=t[N];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ew(){const t=Y.lFrame,e=null===t?null:t.child;return null===e?Iw(t):e}function Iw(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Lw(){const t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Dw=Lw;function Cu(){const t=Lw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function g2(){return Y.lFrame.selectedIndex}function Kr(t){Y.lFrame.selectedIndex=t}function qe(){const t=Y.lFrame;return gw(t.tView,t.selectedIndex)}let kw=!0;function Fc(){return kw}function tr(t){kw=t}function Bc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(t.contentHooks??=[]).push(-n,a),o&&((t.contentHooks??=[]).push(n,o),(t.contentCheckHooks??=[]).push(n,o)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Uc(t,e,n){Pw(t,e,3,n)}function jc(t,e,n,r){(3&t[re])===n&&Pw(t,e,n,r)}function Mu(t,e){let n=t[re];(3&n)===e&&(n&=8191,n+=1,t[re]=n)}function Pw(t,e,n,r){const s=r??-1,a=e.length-1;let o=0;for(let c=void 0!==r?65535&t[rs]:0;c<a;c++)if("number"==typeof e[c+1]){if(o=e[c],null!=r&&o>=r)break}else e[c]<0&&(t[rs]+=65536),(o<s||-1==s)&&($Q(t,n,e,c),t[rs]=(4294901760&t[rs])+c+2),c++}function Rw(t,e){R1(4,t,e);const n=It(null);try{e.call(t)}finally{It(n),R1(5,t,e)}}function $Q(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[re]>>13<t[rs]>>16&&(3&t[re])===e&&(t[re]+=8192,Rw(o,s)):Rw(o,s)}const cs=-1;class y3{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function bu(t){return t!==cs}function _3(t){return 32767&t}function C3(t,e){let n=function KQ(t){return t>>16}(t),r=e;for(;n>0;)r=r[ns],n--;return r}let Vu=!0;function $c(t){const e=Vu;return Vu=t,e}const Ow=255,Fw=5;let YQ=0;const F1={};function qc(t,e){const n=Bw(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Hu(r.data,t),Hu(e,null),Hu(r.blueprint,null));const i=Gc(t,e),s=t.injectorIndex;if(bu(i)){const a=_3(i),o=C3(i,e),c=o[N].data;for(let l=0;l<8;l++)e[s+l]=o[a+l]|c[a+l]}return e[s+8]=i,s}function Hu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Bw(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Kw(i),null===r)return cs;if(n++,i=i[ns],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return cs}function zu(t,e,n){!function QQ(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(l3)&&(r=n[l3]),null==r&&(r=n[l3]=YQ++);const i=r&Ow;e.data[t+(i>>Fw)]|=1<<i}(t,e,n)}function Uw(t,e,n){if(n&ue.Optional||void 0!==t)return t;K5()}function jw(t,e,n,r){if(n&ue.Optional&&void 0===r&&(r=null),!(n&(ue.Self|ue.Host))){const i=t[Jn],s=z2(void 0);try{return i?i.get(e,r,n&ue.Optional):PM(e,r,n&ue.Optional)}finally{z2(s)}}return Uw(r,0,n)}function $w(t,e,n,r=ue.Default,i){if(null!==t){if(2048&e[re]&&!(r&ue.Self)){const a=function nX(t,e,n,r,i){let s=t,a=e;for(;null!==s&&null!==a&&2048&a[re]&&!(512&a[re]);){const o=qw(s,a,n,r|ue.Self,F1);if(o!==F1)return o;let c=s.parent;if(!c){const l=a[tw];if(l){const u=l.get(n,F1,r);if(u!==F1)return u}c=Kw(a),a=a[ns]}s=c}return i}(t,e,n,r,F1);if(a!==F1)return a}const s=qw(t,e,n,r,F1);if(s!==F1)return s}return jw(e,n,r,i)}function qw(t,e,n,r,i){const s=function ZQ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(l3)?t[l3]:void 0;return"number"==typeof e?e>=0?e&Ow:tX:e}(n);if("function"==typeof s){if(!xw(e,t,r))return r&ue.Host?Uw(i,0,r):jw(e,n,r,i);try{let a;if(a=s(r),null!=a||r&ue.Optional)return a;K5()}finally{Dw()}}else if("number"==typeof s){let a=null,o=Bw(t,e),c=cs,l=r&ue.Host?e[ot][e2]:null;for((-1===o||r&ue.SkipSelf)&&(c=-1===o?Gc(t,e):e[o+8],c!==cs&&Ww(r,!1)?(a=e[N],o=_3(c),e=C3(c,e)):o=-1);-1!==o;){const u=e[N];if(Gw(s,o,u.data)){const f=JQ(o,e,n,a,r,l);if(f!==F1)return f}c=e[o+8],c!==cs&&Ww(r,e[N].data[o+8]===l)&&Gw(s,o,e)?(a=u,o=_3(c),e=C3(c,e)):o=-1}}return i}function JQ(t,e,n,r,i,s){const a=e[N],o=a.data[t+8],u=function Wc(t,e,n,r,i){const s=t.providerIndexes,a=e.data,o=1048575&s,c=t.directiveStart,u=s>>20,d=i?o+u:t.directiveEnd;for(let h=r?o:o+u;h<d;h++){const p=a[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=a[c];if(h&&m1(h)&&h.type===n)return c}return null}(o,a,n,null==r?Gr(o)&&Vu:r!=a&&0!=(3&o.type),i&ue.Host&&s===o);return null!==u?Yr(e,a,u,o):F1}function Yr(t,e,n,r){let i=t[n];const s=e.data;if(function qQ(t){return t instanceof y3}(i)){const a=i;a.resolving&&function bY(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(s[n]));const o=$c(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?z2(a.injectImpl):null;xw(t,r,ue.Default);try{i=t[n]=a.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function jQ(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=fw(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&z2(l),$c(o),a.resolving=!1,Dw()}}return i}function Gw(t,e,n){return!!(n[e+(t>>Fw)]&1<<t)}function Ww(t,e){return!(t&ue.Self||t&ue.Host&&e)}class v2{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return $w(this._tNode,this._lView,e,xc(r),n)}}function tX(){return new v2($t(),b())}function Su(t){return G5(t)?()=>{const e=Su(Q(t));return e&&e()}:Wr(t)}function Kw(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[e2]:null}const us="__parameters__";function ds(t,e,n){return hn(()=>{const r=function Eu(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return o.annotation=a,o;function o(c,l,u){const f=c.hasOwnProperty(us)?c[us]:Object.defineProperty(c,us,{value:[]})[us];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ps(t,e){t.forEach(n=>Array.isArray(n)?ps(n,e):e(n))}function Qw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function b3(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function j2(t,e,n){let r=ms(t,e);return r>=0?t[1|r]=n:(r=~r,function lX(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Iu(t,e){const n=ms(t,e);if(n>=0)return t[1|n]}function ms(t,e){return function Xw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),a=t[s<<n];if(e===a)return s<<n;a>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const I2=c3(ds("Optional"),8),Du=c3(ds("SkipSelf"),4);function e6(t){return 128==(128&t.flags)}var nr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(nr||{});const IX=/^>|^->|<!--|-->|--!>|<!-$/g,LX=/(<|>)/,DX="\u200b$1\u200b";const ku=new Map;let AX=0;const Ru="__ngContext__";function n2(t,e){S2(e)?(t[Ru]=e[m3],function NX(t){ku.set(t[m3],t)}(e)):t[Ru]=e}let Ou;function Fu(t,e){return Ou(t,e)}function z3(t){const e=t[Be];return x2(e)?e[Be]:e}function vb(t){return _b(t[h3])}function yb(t){return _b(t[p1])}function _b(t){for(;null!==t&&!x2(t);)t=t[p1];return t}function ys(t,e,n,r,i){if(null!=r){let s,a=!1;x2(r)?s=r:S2(r)&&(a=!0,r=r[st]);const o=xe(r);0===t&&null!==n?null==i?bb(e,n,o):Qr(e,n,o,i||null,!0):1===t&&null!==n?Qr(e,n,o,i||null,!0):2===t?function o6(t,e,n){const r=s6(t,e);r&&function eJ(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,o,a):3===t&&e.destroyNode(o),null!=s&&function rJ(t,e,n,r,i){const s=n[k1];s!==xe(n)&&ys(e,t,r,s,i);for(let o=jt;o<n.length;o++){const c=n[o];x3(c[N],c,t,e,r,s)}}(e,t,s,n,i)}}function Bu(t,e){return t.createComment(function lb(t){return t.replace(IX,e=>e.replace(LX,DX))}(e))}function r6(t,e,n){return t.createElement(e,n)}function Mb(t,e){const n=t[is],r=n.indexOf(e);yw(e),n.splice(r,1)}function i6(t,e){if(t.length<=jt)return;const n=jt+e,r=t[n];if(r){const i=r[p3];null!==i&&i!==t&&Mb(i,r),e>0&&(t[n-1][p1]=r[p1]);const s=Kc(t,jt+e);!function GX(t,e){x3(t,e,e[te],2,null,null),e[st]=null,e[e2]=null}(r[N],r);const a=s[N1];null!==a&&a.detachView(s[N]),r[Be]=null,r[p1]=null,r[re]&=-129}return r}function Uu(t,e){if(!(256&e[re])){const n=e[te];e[Dc]?.destroy(),e[Ac]?.destroy(),n.destroyNode&&x3(t,e,n,3,null,null),function YX(t){let e=t[h3];if(!e)return ju(t[N],t);for(;e;){let n=null;if(S2(e))n=e[h3];else{const r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[p1]&&e!==t;)S2(e)&&ju(e[N],e),e=e[Be];null===e&&(e=t),S2(e)&&ju(e[N],e),n=e&&e[p1]}e=n}}(e)}}function ju(t,e){if(!(256&e[re])){e[re]&=-129,e[re]|=256,function ZX(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof y3)){const s=n[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=i[s[a]],c=s[a+1];R1(4,o,c);try{c.call(o)}finally{R1(5,o,c)}}else{R1(4,i,s);try{s.call(i)}finally{R1(5,i,s)}}}}}(t,e),function JX(t,e){const n=t.cleanup,r=e[es];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[es]=null);const i=e[Zn];if(null!==i){e[Zn]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[N].type&&e[te].destroy();const n=e[p3];if(null!==n&&x2(e[Be])){n!==e[Be]&&Mb(n,e);const r=e[N1];null!==r&&r.detachView(t)}!function kX(t){ku.delete(t[m3])}(e)}}function $u(t,e,n){return function wb(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[st];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===d1.None||s===d1.Emulated)return null}return E2(r,n)}}(t,e.parent,n)}function Qr(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bb(t,e,n){t.appendChild(e,n)}function Vb(t,e,n,r,i){null!==r?Qr(t,e,n,r,i):bb(t,e,n)}function s6(t,e){return t.parentNode(e)}function Hb(t,e,n){return Sb(t,e,n)}let qu,c6,Yu,l6,Sb=function zb(t,e,n){return 40&t.type?E2(t,n):null};function a6(t,e,n,r){const i=$u(t,r,e),s=e[te],o=Hb(r.parent||e[e2],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Vb(s,i,n[c],o,!1);else Vb(s,i,n,o,!1);void 0!==qu&&qu(s,r,e,n,i)}function S3(t,e){if(null!==e){const n=e.type;if(3&n)return E2(e,t);if(4&n)return Gu(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return S3(t,r);{const i=t[e.index];return x2(i)?Gu(-1,i):xe(i)}}if(32&n)return Fu(e,t)()||xe(t[e.index]);{const r=Eb(t,e);return null!==r?Array.isArray(r)?r[0]:S3(z3(t[ot]),r):S3(t,e.next)}}return null}function Eb(t,e){return null!==e?t[ot][e2].projection[e.projection]:null}function Gu(t,e){const n=jt+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return S3(r,i)}return e[k1]}function Wu(t,e,n,r,i,s,a){for(;null!=n;){const o=r[n.index],c=n.type;if(a&&0===e&&(o&&n2(xe(o),r),n.flags|=2),32!=(32&n.flags))if(8&c)Wu(t,e,n.child,r,i,s,!1),ys(e,t,i,o,s);else if(32&c){const l=Fu(n,r);let u;for(;u=l();)ys(e,t,i,u,s);ys(e,t,i,o,s)}else 16&c?Lb(t,e,r,n,i,s):ys(e,t,i,o,s);n=a?n.projectionNext:n.next}}function x3(t,e,n,r,i,s){Wu(n,r,t.firstChild,e,i,s,!1)}function Lb(t,e,n,r,i,s){const a=n[ot],c=a[e2].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ys(e,t,i,c[l],s);else{let l=c;const u=a[Be];e6(r)&&(l.flags|=128),Wu(t,e,l,u,i,s,!0)}}function Db(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ab(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&su(t,e,r),null!==i&&Db(t,e,i),null!==s&&function sJ(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function _s(t){return function Ku(){if(void 0===c6&&(c6=null,He.trustedTypes))try{c6=He.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return c6}()?.createHTML(t)||t}function Cs(){if(void 0!==Yu)return Yu;if(typeof document<"u")return document;throw new x(210,!1)}function Tb(t){return function Qu(){if(void 0===l6&&(l6=null,He.trustedTypes))try{l6=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return l6}()?.createHTML(t)||t}class Xr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AM})`}}class uJ extends Xr{getTypeName(){return"HTML"}}class fJ extends Xr{getTypeName(){return"Style"}}class dJ extends Xr{getTypeName(){return"Script"}}class hJ extends Xr{getTypeName(){return"URL"}}class pJ extends Xr{getTypeName(){return"ResourceURL"}}function $2(t){return t instanceof Xr?t.changingThisBreaksApplicationSecurity:t}function B1(t,e){const n=function mJ(t){return t instanceof Xr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${AM})`)}return n===e}class MJ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(_s(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class wJ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=_s(e),n}}const VJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function u6(t){return(t=String(t)).match(VJ)?t:"unsafe:"+t}function yn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function E3(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Rb=yn("area,br,col,hr,img,wbr"),Ob=yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fb=yn("rp,rt"),Xu=E3(Rb,E3(Ob,yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),E3(Fb,yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),E3(Fb,Ob)),Ju=yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bb=E3(Ju,yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),HJ=yn("script,style,template");class zJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Xu.hasOwnProperty(n))return this.sanitizedSomething=!0,!HJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,o=a.toLowerCase();if(!Bb.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;Ju[o]&&(c=u6(c)),this.buf.push(" ",a,'="',Ub(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Xu.hasOwnProperty(n)&&!Rb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Ub(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const SJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xJ=/([^\#-~ |!])/g;function Ub(t){return t.replace(/&/g,"&amp;").replace(SJ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(xJ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let f6;function jb(t,e){let n=null;try{f6=f6||function Pb(t){const e=new wJ(t);return function bJ(){try{return!!(new window.DOMParser).parseFromString(_s(""),"text/html")}catch{return!1}}()?new MJ(e):e}(t);let r=e?String(e):"";n=f6.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=f6.getInertBodyElement(r)}while(r!==s);return _s((new zJ).sanitizeChildren(Zu(n)||n))}finally{if(n){const r=Zu(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Zu(t){return"content"in t&&function EJ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var n1=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(n1||{});function $b(t){const e=function I3(){const t=b();return t&&t[ts].sanitizer}();return e?Tb(e.sanitize(n1.HTML,t)||""):B1(t,"HTML")?Tb($2(t)):jb(Cs(),ee(t))}class O{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const d6=new O("ENVIRONMENT_INITIALIZER"),Wb=new O("INJECTOR",-1),Kb=new O("INJECTOR_DEF_TYPES");class e7{get(e,n=o3){if(n===o3){const r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}}function kJ(...t){return{\u0275providers:Yb(0,t),\u0275fromNgModule:!0}}function Yb(t,...e){const n=[],r=new Set;let i;const s=a=>{n.push(a)};return ps(e,a=>{const o=a;h6(o,s,[],r)&&(i||=[],i.push(o))}),void 0!==i&&Qb(i,s),n}function Qb(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];n7(i,s=>{e(s,r)})}}function h6(t,e,n,r){if(!(t=Q(t)))return!1;let i=null,s=Hc(t);const a=!s&&de(t);if(s||a){if(a&&!a.standalone)return!1;i=t}else{const c=t.ngModule;if(s=Hc(c),!s)return!1;i=c}const o=r.has(i);if(a){if(o)return!1;if(r.add(i),a.dependencies){const c="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of c)h6(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let l;r.add(i);try{ps(s.imports,u=>{h6(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&Qb(l,e)}if(!o){const l=Wr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:Kb,useValue:i,multi:!0},i),e({provide:d6,useValue:()=>J(i),multi:!0},i)}const c=s.providers;if(null!=c&&!o){const l=t;n7(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function n7(t,e){for(let n of t)W5(n)&&(n=n.\u0275providers),Array.isArray(n)?n7(n,e):e(n)}const PJ=Me({provide:String,useValue:Me});function r7(t){return null!==t&&"object"==typeof t&&PJ in t}function Jr(t){return"function"==typeof t}const i7=new O("Set Injector scope."),p6={},OJ={};let s7;function m6(){return void 0===s7&&(s7=new e7),s7}class U1{}class g6 extends U1{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,o7(e,a=>this.processProvider(a)),this.records.set(Wb,Ms(void 0,this)),i.has("environment")&&this.records.set(U1,Ms(void 0,this));const s=this.records.get(i7);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Kb.multi,ve,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Xn(this),r=z2(void 0);try{return e()}finally{Xn(n),z2(r)}}get(e,n=o3,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(UM))return e[UM](this);r=xc(r);const s=Xn(this),a=z2(void 0);try{if(!(r&ue.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function $J(t){return"function"==typeof t||"object"==typeof t&&t instanceof O}(e)&&Vc(e);c=l&&this.injectableDefInScope(l)?Ms(a7(e),p6):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ue.Self?m6():this.parent).get(e,n=r&ue.Optional&&n===o3?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Sc]=o[Sc]||[]).unshift(Mt(e)),s)throw o;return function PY(t,e,n,r){const i=t[Sc];throw e[OM]&&i.unshift(e[OM]),t.message=function RY(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let o=e[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):Mt(o)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(DY,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Sc]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{z2(a),Xn(s)}}resolveInjectorInitializers(){const e=Xn(this),n=z2(void 0);try{const i=this.get(d6.multi,ve,ue.Self);for(const s of i)s()}finally{Xn(e),z2(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let n=Jr(e=Q(e))?e:Q(e&&e.provide);const r=function BJ(t){return r7(t)?Ms(void 0,t.useValue):Ms(Zb(t),p6)}(e);if(Jr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ms(void 0,p6,!0),i.factory=()=>nu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===p6&&(n.value=OJ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function jJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function a7(t){const e=Vc(t),n=null!==e?e.factory:Wr(t);if(null!==n)return n;if(t instanceof O)throw new x(204,!1);if(t instanceof Function)return function FJ(t){const e=t.length;if(e>0)throw b3(e,"?"),new x(204,!1);const n=function xY(t){return t&&(t[zc]||t[NM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new x(204,!1)}function Zb(t,e,n){let r;if(Jr(t)){const i=Q(t);return Wr(i)||a7(i)}if(r7(t))r=()=>Q(t.useValue);else if(function Jb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...nu(t.deps||[]));else if(function Xb(t){return!(!t||!t.useExisting)}(t))r=()=>J(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function UJ(t){return!!t.deps}(t))return Wr(i)||a7(i);r=()=>new i(...nu(t.deps))}return r}function Ms(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function o7(t,e){for(const n of t)Array.isArray(n)?o7(n,e):n&&W5(n)?o7(n.\u0275providers,e):e(n)}const v6=new O("AppId",{providedIn:"root",factory:()=>qJ}),qJ="ng",eV=new O("Platform Initializer"),j1=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tV=new O("CSP nonce",{providedIn:"root",factory:()=>Cs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rV=(t,e,n)=>null;function p7(t,e,n=!1){return rV(t,e,n)}class tZ{}class aV{}class rZ{resolveComponentFactory(e){throw function nZ(t){const e=Error(`No component factory found for ${Mt(t)}.`);return e.ngComponent=t,e}(e)}}let b6=(()=>{class e{}return e.NULL=new rZ,e})();function iZ(){return bs($t(),b())}function bs(t,e){return new D2(E2(t,e))}let D2=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=iZ,e})();class cV{}let _n=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function aZ(){const t=b(),n=U2($t().index,t);return(S2(n)?n:t)[te]}(),e})(),oZ=(()=>{var t;class e{}return(t=e).\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),e})();class T3{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const lV=new T3("16.2.1"),v7={};function hV(t,e=null,n=null,r){const i=pV(t,e,n,r);return i.resolveInjectorInitializers(),i}function pV(t,e=null,n=null,r,i=new Set){const s=[n||ve,kJ(t)];return r=r||("object"==typeof t?void 0:Mt(t)),new g6(s,e||m6(),r||null,i)}let r2=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return hV({name:""},i,r,"");{const s=r.name??"";return hV({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=o3,t.NULL=new e7,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>J(Wb)}),t.__NG_ELEMENT_ID__=-1,e})();let C7=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new x(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=G({token:t,providedIn:"root",factory:()=>new t}),e})();function N3(t){for(;t;){t[re]|=64;const e=z3(t);if(cu(t)&&!e)return t;t=e}return null}function M7(t){return t.ngOriginalError}class Zr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&M7(e);for(;n&&M7(n);)n=M7(n);return n||null}}const _V=new O("",{providedIn:"root",factory:()=>!1});class bV extends ow{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){N3(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=It(this);this.trackingVersion++;try{e(n,r)}finally{It(i)}}destroy(){this.trackingVersion++}}let H6=null;function VV(){return H6??=new bV,H6}function HV(t,e){return t[e]??VV()}function zV(t,e){const n=VV();n.hasReadASignal&&(t[e]=H6,n.lView=t,H6=new bV)}const ie={};function F(t){SV(he(),b(),g2()+t,!1)}function SV(t,e,n,r){if(!r)if(3==(3&e[re])){const s=t.preOrderCheckHooks;null!==s&&Uc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&jc(e,s,0,n)}Kr(n)}function z(t,e=ue.Default){const n=b();return null===n?J(t,e):$w($t(),n,Q(t),e)}function z6(t,e,n,r,i,s,a,o,c,l,u){const f=e.blueprint.slice();return f[st]=i,f[re]=140|r,(null!==l||t&&2048&t[re])&&(f[re]|=2048),vw(f),f[Be]=f[ns]=t,f[at]=n,f[ts]=a||t&&t[ts],f[te]=o||t&&t[te],f[Jn]=c||t&&t[Jn]||null,f[e2]=s,f[m3]=function TX(){return AX++}(),f[mn]=u,f[tw]=l,f[ot]=2==e.type?t[ot]:f,f}function zs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function w7(t,e,n,r,i){const s=bw(),a=pu(),c=t.data[e]=function LZ(t,e,n,r,i,s){let a=e?e.injectorIndex:-1,o=0;return as()&&(o|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function NQ(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const a=function v3(){const t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return O1(s,!0),s}function k3(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xV(t,e,n,r,i){const s=HV(e,Dc),a=g2(),o=2&r;try{if(Kr(-1),o&&e.length>ce&&SV(t,e,ce,!1),R1(o?2:0,i),o)s.runInContext(n,r,i);else{const l=It(null);try{n(r,i)}finally{It(l)}}}finally{o&&null===e[Dc]&&zV(e,Dc),Kr(a),R1(o?3:1,i)}}function b7(t,e,n){if(ou(e)){const r=It(null);try{const s=e.directiveEnd;for(let a=e.directiveStart;a<s;a++){const o=t.data[a];o.contentQueries&&o.contentQueries(1,n[a],a)}}finally{It(r)}}}function V7(t,e,n){ww()&&(function RZ(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Gr(n)&&function qZ(t,e,n){const r=E2(e,t),i=EV(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const o=S6(t,z6(t,i,null,a,r,e,null,t[ts].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qc(n,e),n2(r,e);const a=n.initialInputs;for(let o=i;o<s;o++){const c=t.data[o],l=Yr(e,t,o,n);n2(l,e),null!==a&&GZ(0,o-i,l,c,0,a),m1(c)&&(U2(n.index,e)[at]=Yr(e,t,o,n))}}(t,e,n,E2(n,e)),64==(64&n.flags)&&TV(t,e,n))}function H7(t,e,n=E2){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],o=-1===a?n(e,t):t[a];t[i++]=o}}}function EV(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=z7(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function z7(t,e,n,r,i,s,a,o,c,l,u){const f=ce+r,d=f+i,h=function HZ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(f,d),p="function"==typeof l?l():l;return h[N]={type:t,blueprint:h,template:n,queries:null,viewQuery:o,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let IV=t=>null;function LV(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?DV(n,e,i,s):r.hasOwnProperty(i)&&DV(n,e,r[i],s)}return n}function DV(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function q2(t,e,n,r,i,s,a,o){const c=E2(e,n);let u,l=e.inputs;!o&&null!=l&&(u=l[r])?(L7(t,n,u,r,i),Gr(e)&&function TZ(t,e){const n=U2(e,t);16&n[re]||(n[re]|=64)}(n,e.index)):3&e.type&&(r=function AZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.value||"",r):i,s.setProperty(c,r,i))}function S7(t,e,n,r){if(ww()){const i=null===r?null:{"":-1},s=function FZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(YM(e,a.selectors,!1))if(r||(r=[]),m1(a))if(null!==a.findHostDirectiveDefs){const o=[];i=i||new Map,a.findHostDirectiveDefs(a,o,i),r.unshift(...o,a),x7(t,e,o.length)}else r.unshift(a),x7(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(t,n);let a,o;null===s?a=o=null:[a,o]=s,null!==a&&AV(t,e,n,a,i,o),i&&function BZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=u3(n.mergedAttrs,n.attrs)}function AV(t,e,n,r,i,s){for(let l=0;l<r.length;l++)zu(qc(n,e),t,r[l].type);!function jZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let a=!1,o=!1,c=k3(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=u3(n.mergedAttrs,u.hostAttrs),$Z(t,n,e,c,u),UZ(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!o&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),o=!0),c++}!function DZ(t,e,n){const i=e.directiveEnd,s=t.data,a=e.attrs,o=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=n?n.get(f):null,p=d?d.outputs:null;c=LV(f.inputs,u,c,d?d.inputs:null),l=LV(f.outputs,u,l,p);const g=null===c||null===a||KM(e)?null:WZ(c,u,a);o.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=o,e.inputs=c,e.outputs=l}(t,n,s)}function TV(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function PQ(){return Y.lFrame.currentDirectiveIndex}();try{Kr(s);for(let o=r;o<i;o++){const c=t.data[o],l=e[o];gu(o),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&OZ(c,l)}}finally{Kr(-1),gu(a)}}function OZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function x7(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function UZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;m1(e)&&(n[""]=t)}}function $Z(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Wr(i.type)),a=new y3(s,m1(i),z);t.blueprint[r]=a,n[r]=a,function kZ(t,e,n,r,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const o=~e.index;(function PZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=o&&a.push(o),a.push(n,r,s)}}(t,e,r,k3(t,n,i.hostVars,ie),i)}function $1(t,e,n,r,i,s){const a=E2(t,e);!function E7(t,e,n,r,i,s,a){if(null==s)t.removeAttribute(e,i,n);else{const o=null==a?ee(s):a(s,r||"",i);t.setAttribute(e,i,o,n)}}(e[te],a,s,t.value,n,r,i)}function GZ(t,e,n,r,i,s){const a=s[e];if(null!==a)for(let o=0;o<a.length;)NV(r,n,a[o++],a[o++],a[o++])}function NV(t,e,n,r,i){const s=It(null);try{const a=t.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{It(s)}}function WZ(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const a=t[s];for(let o=0;o<a.length;o+=2)if(a[o]===e){r.push(s,a[o+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function kV(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function PV(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const a=t.data[s];yu(n[r]),a.contentQueries(2,e[s],s)}}}function S6(t,e){return t[h3]?t[ew][p1]=e:t[h3]=e,t[ew]=e,e}function I7(t,e,n){yu(0);const r=It(null);try{e(t,n)}finally{It(r)}}function BV(t,e){const n=t[Jn],r=n?n.get(Zr,null):null;r&&r.handleError(e)}function L7(t,e,n,r,i){for(let s=0;s<n.length;){const a=n[s++],o=n[s++];NV(t.data[a],e[a],r,o,i)}}function KZ(t,e){const n=U2(e,t),r=n[N];!function YZ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[st];null!==i&&null===n[mn]&&(n[mn]=p7(i,n[Jn])),D7(r,n,n[at])}function D7(t,e,n){_u(e);try{const r=t.viewQuery;null!==r&&I7(1,r,n);const i=t.template;null!==i&&xV(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&PV(t,e),t.staticViewQueries&&I7(2,t.viewQuery,n);const s=t.components;null!==s&&function QZ(t,e){for(let n=0;n<e.length;n++)KZ(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Cu()}}let UV=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const a=typeof Zone>"u"?null:Zone.current,o=new hQ(r,u=>{this.all.has(u)&&this.queue.set(u,a)},s);let c;this.all.add(o),o.notify();const l=()=>{o.cleanup(),c?.(),this.all.delete(o),this.queue.delete(o)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=G({token:t,providedIn:"root",factory:()=>new t}),e})();function x6(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?s=o:1==s?i=q5(i,o):2==s&&(r=q5(r,o+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function P3(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(xe(s)),x2(s)){for(let o=jt;o<s.length;o++){const c=s[o],l=c[N].firstChild;null!==l&&P3(c[N],c,l,r)}s[k1]!==s[st]&&r.push(s[k1])}const a=n.type;if(8&a)P3(t,e,n.child,r);else if(32&a){const o=Fu(n,e);let c;for(;c=o();)r.push(c)}else if(16&a){const o=Eb(e,n);if(Array.isArray(o))r.push(...o);else{const c=z3(e[ot]);P3(c[N],c,o,r,!0)}}n=i?n.projectionNext:n.next}return r}function E6(t,e,n,r=!0){const i=e[ts],s=i.rendererFactory,a=i.afterRenderEventManager;s.begin?.(),a?.begin();try{jV(t,e,t.template,n)}catch(c){throw r&&BV(e,c),c}finally{s.end?.(),i.effectManager?.flush(),a?.end()}}function jV(t,e,n,r){const i=e[re];if(256!=(256&i)){e[ts].effectManager?.flush(),_u(e);try{vw(e),function Hw(t){return Y.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&xV(t,e,n,2,r);const a=3==(3&i);if(a){const l=t.preOrderCheckHooks;null!==l&&Uc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&jc(e,l,0,null),Mu(e,0)}if(function ZZ(t){for(let e=vb(t);null!==e;e=yb(e)){if(!e[nw])continue;const n=e[is];for(let r=0;r<n.length;r++){VQ(n[r])}}}(e),$V(e,2),null!==t.contentQueries&&PV(t,e),a){const l=t.contentCheckHooks;null!==l&&Uc(e,l)}else{const l=t.contentHooks;null!==l&&jc(e,l,1),Mu(e,1)}!function VZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=HV(e,Ac);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Kr(~s);else{const a=s,o=n[++i],c=n[++i];kQ(o,a),r.runInContext(c,2,e[a])}}}finally{null===e[Ac]&&zV(e,Ac),Kr(-1)}}(t,e);const o=t.components;null!==o&&GV(e,o,0);const c=t.viewQuery;if(null!==c&&I7(2,c,r),a){const l=t.viewCheckHooks;null!==l&&Uc(e,l)}else{const l=t.viewHooks;null!==l&&jc(e,l,2),Mu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[re]&=-73,yw(e)}finally{Cu()}}}function $V(t,e){for(let n=vb(t);null!==n;n=yb(n))for(let r=jt;r<n.length;r++)qV(n[r],e)}function eee(t,e,n){qV(U2(e,t),n)}function qV(t,e){if(!function wQ(t){return 128==(128&t[re])}(t))return;const n=t[N];if(80&t[re]&&0===e||1024&t[re]||2===e)jV(n,t,n.template,t[at]);else if(t[d3]>0){$V(t,1);const i=t[N].components;null!==i&&GV(t,i,1)}}function GV(t,e,n){for(let r=0;r<e.length;r++)eee(t,e[r],n)}class R3{get rootNodes(){const e=this._lView,n=e[N];return P3(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[at]}set context(e){this._lView[at]=e}get destroyed(){return 256==(256&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(x2(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(i6(e,r),Kc(n,r))}this._attachedToViewContainer=!1}Uu(this._lView[N],this._lView)}onDestroy(e){!function Cw(t,e){if(256==(256&t[re]))throw new x(911,!1);null===t[Zn]&&(t[Zn]=[]),t[Zn].push(e)}(this._lView,e)}markForCheck(){N3(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){this._lView[re]|=128}detectChanges(){E6(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KX(t,e){x3(t,e,e[te],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class tee extends R3{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;E6(e[N],e,e[at],!1)}checkNoChanges(){}get context(){return null}}class WV extends b6{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new O3(n,this.ngModule)}}function KV(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class ree{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xc(r);const i=this.injector.get(e,v7,r);return i!==v7||n===v7?i:this.parentInjector.get(e,n,r)}}class O3 extends aV{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=KV(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return KV(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function KY(t){return t.map(WY).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof U1?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new ree(e,s):e,o=a.get(cV,null);if(null===o)throw new x(407,!1);const f={rendererFactory:o,sanitizer:a.get(oZ,null),effectManager:a.get(UV,null),afterRenderEventManager:a.get(C7,null)},d=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function zZ(t,e,n,r){const s=r.get(_V,!1)||n===d1.ShadowDom,a=t.selectRootElement(e,s);return function SZ(t){IV(t)}(a),a}(d,r,this.componentDef.encapsulation,a):r6(d,h,function nee(t){const e=t.toLowerCase();return"svg"===e?pw:"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=p7(p,a,!0));const w=z7(0,null,null,1,0,null,null,null,null,null,null),S=z6(null,w,null,_,null,null,f,d,a,null,y);let I,q;_u(S);try{const oe=this.componentDef;let pt,Ct=null;oe.findHostDirectiveDefs?(pt=[],Ct=new Map,oe.findHostDirectiveDefs(oe,pt,Ct),pt.push(oe)):pt=[oe];const lc=function see(t,e){const n=t[N],r=ce;return t[r]=e,zs(n,r,2,"#host",null)}(S,p),SGe=function aee(t,e,n,r,i,s,a){const o=i[N];!function oee(t,e,n,r){for(const i of t)e.mergedAttrs=u3(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(x6(e,e.mergedAttrs,!0),null!==n&&Ab(r,n,e))}(r,t,e,a);let c=null;null!==e&&(c=p7(e,i[Jn]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=z6(i,EV(n),null,u,i[t.index],t,s,l,null,null,c);return o.firstCreatePass&&x7(o,t,r.length-1),S6(i,f),i[t.index]=f}(lc,p,oe,pt,S,f,d);q=gw(w,ce),p&&function lee(t,e,n,r){if(r)su(t,n,["ng-version",lV.full]);else{const{attrs:i,classes:s}=function YY(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!h1(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&su(t,n,i),s&&s.length>0&&Db(t,n,s.join(" "))}}(d,oe,p,r),void 0!==n&&function uee(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(q,this.ngContentSelectors,n),I=function cee(t,e,n,r,i,s){const a=$t(),o=i[N],c=E2(a,i);AV(o,i,a,n,null,r);for(let u=0;u<n.length;u++)n2(Yr(i,o,a.directiveStart+u,a),i);TV(o,i,a),c&&n2(c,i);const l=Yr(i,o,a.directiveStart+a.componentOffset,a);if(t[at]=i[at]=l,null!==s)for(const u of s)u(l,e);return b7(o,a,t),l}(SGe,oe,pt,Ct,S,[fee]),D7(w,S,null)}finally{Cu()}return new iee(this.componentType,I,bs(q,S),S,q)}}class iee extends tZ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new tee(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;L7(s[N],s,i,e,n),this.previousInputValues.set(e,n),N3(U2(this._tNode.index,s))}}get injector(){return new v2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function fee(){const t=$t();Bc(b()[N],t)}function we(t){let e=function YV(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(m1(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const a=t;a.inputs=I6(t.inputs),a.inputTransforms=I6(t.inputTransforms),a.declaredInputs=I6(t.declaredInputs),a.outputs=I6(t.outputs);const o=i.hostBindings;o&&mee(t,o);const c=i.viewQuery,l=i.contentQueries;if(c&&hee(t,c),l&&pee(t,l),wc(t.inputs,i.inputs),wc(t.declaredInputs,i.declaredInputs),wc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),wc(a.inputTransforms,i.inputTransforms)),m1(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(t),o===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function dee(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=u3(i.hostAttrs,n=u3(n,i.hostAttrs))}}(r)}function I6(t){return t===A1?{}:t===ve?[]:t}function hee(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function pee(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function mee(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function L6(t){return!!A7(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function A7(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function q1(t,e,n){return t[e]=n}function s2(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ei(t,e,n,r){const i=s2(t,e,n);return s2(t,e+1,r)||i}function G1(t,e,n,r){const i=b();return s2(i,os(),e)&&(he(),$1(qe(),i,t,e,n,r)),G1}function G2(t,e,n,r,i,s,a,o){const c=b(),l=he(),u=t+ce,f=l.firstCreatePass?function Bee(t,e,n,r,i,s,a,o,c){const l=e.consts,u=zs(e,t,4,a||null,er(l,o));S7(e,n,u,er(l,c)),Bc(e,u);const f=u.tView=z7(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,a):l.data[u];O1(f,!1);const d=fH(l,c,f,t);Fc()&&a6(l,c,d,f),n2(d,c),S6(c,c[u]=kV(d,c,d,f)),Nc(f)&&V7(l,c,f),null!=a&&H7(c,f,o)}let fH=function dH(t,e,n,r){return tr(!0),e[te].createComment("")};function O7(t){return ss(function TQ(){return Y.lFrame.contextLView}(),ce+t)}function X(t,e,n){const r=b();return s2(r,os(),e)&&q2(he(),qe(),r,t,e,r[te],n,!1),X}function F7(t,e,n,r,i){const a=i?"class":"style";L7(t,n,e.inputs[a],a,r)}function A(t,e,n,r){const i=b(),s=he(),a=ce+t,o=i[te],c=s.firstCreatePass?function qee(t,e,n,r,i,s){const a=e.consts,c=zs(e,t,2,r,er(a,i));return S7(e,n,c,er(a,s)),null!==c.attrs&&x6(c,c.attrs,!1),null!==c.mergedAttrs&&x6(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(a,s,i,e,n,r):s.data[a],l=hH(s,i,c,o,e,t);i[a]=l;const u=Nc(c);return O1(c,!0),Ab(o,l,c),32!=(32&c.flags)&&Fc()&&a6(s,i,l,c),0===function zQ(){return Y.lFrame.elementDepthCount}()&&n2(l,i),function SQ(){Y.lFrame.elementDepthCount++}(),u&&(V7(s,i,c),b7(s,c,i)),null!==r&&H7(i,c),A}function j(){let t=$t();pu()?mu():(t=t.parent,O1(t,!1));const e=t;(function EQ(t){return Y.skipHydrationRootTNode===t})(e)&&function AQ(){Y.skipHydrationRootTNode=null}(),function xQ(){Y.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(Bc(n,t),ou(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function GQ(t){return 0!=(8&t.flags)}(e)&&F7(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function WQ(t){return 0!=(16&t.flags)}(e)&&F7(n,e,b(),e.stylesWithoutHost,!1),j}function Qe(t,e,n,r){return A(t,e,n,r),j(),Qe}let hH=(t,e,n,r,i,s)=>(tr(!0),r6(r,i,function Nw(){return Y.lFrame.currentNamespace}()));function k6(t,e,n){const r=b(),i=he(),s=t+ce,a=i.firstCreatePass?function Kee(t,e,n,r,i){const s=e.consts,a=er(s,r),o=zs(e,t,8,"ng-container",a);return null!==a&&x6(o,a,!0),S7(e,n,o,er(s,i)),null!==e.queries&&e.queries.elementStart(e,o),o}(s,i,r,e,n):i.data[s];O1(a,!0);const o=mH(i,r,a,t);return r[s]=o,Fc()&&a6(i,r,o,a),n2(o,r),Nc(a)&&(V7(i,r,a),b7(i,a,r)),null!=n&&H7(r,a),k6}function P6(){let t=$t();const e=he();return pu()?mu():(t=t.parent,O1(t,!1)),e.firstCreatePass&&(Bc(e,t),ou(t)&&e.queries.elementEnd(t)),P6}let mH=(t,e,n,r)=>(tr(!0),Bu(e[te],""));function ti(){return b()}function R6(t){return!!t&&"function"==typeof t.then}function gH(t){return!!t&&"function"==typeof t.subscribe}function Ge(t,e,n,r){const i=b(),s=he(),a=$t();return function yH(t,e,n,r,i,s,a){const o=Nc(r),l=t.firstCreatePass&&function OV(t){return t.cleanup||(t.cleanup=[])}(t),u=e[at],f=function RV(t){return t[es]||(t[es]=[])}(e);let d=!0;if(3&r.type||a){const g=E2(r,e),v=a?a(g):g,_=f.length,y=a?S=>a(xe(S[r.index])):r.index;let w=null;if(!a&&o&&(w=function Xee(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===n&&i[s+1]===r){const o=e[es],c=i[s+2];return o.length>c?o[c]:null}"string"==typeof a&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,d=!1;else{s=CH(r,e,u,s,!1);const S=n.listen(v,i,s);f.push(s,S),l&&l.push(i,y,_,_+1)}}else s=CH(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const I=e[p[v]][p[v+1]].subscribe(s),q=f.length;f.push(s,I),l&&l.push(i,r.index,q,-(q+1))}}}(s,i,i[te],a,t,e,r),Ge}function _H(t,e,n,r){try{return R1(6,e,n),!1!==n(r)}catch(i){return BV(t,i),!1}finally{R1(7,e,n)}}function CH(t,e,n,r,i){return function s(a){if(a===Function)return r;N3(t.componentOffset>-1?U2(t.index,e):e);let c=_H(e,n,r,a),l=s.__ngNextListenerFn__;for(;l;)c=_H(e,n,l,a)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&a.preventDefault(),c}}function qt(t=1){return function OQ(t){return(Y.lFrame.contextLView=function FQ(t,e){for(;t>0;)e=e[ns],t--;return e}(t,Y.lFrame.contextLView))[at]}(t)}function Jee(t,e){let n=null;const r=function jY(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?YM(t,s,!0):GY(r,s))return i}else n=i}return n}function O6(t,e){return t<<17|e<<2}function rr(t){return t>>17&32767}function U7(t){return 2|t}function ni(t){return(131068&t)>>2}function j7(t,e){return-131069&t|e<<2}function $7(t){return 1|t}function DH(t,e,n,r,i){const s=t[n+1],a=null===e;let o=r?rr(s):ni(s),c=!1;for(;0!==o&&(!1===c||a);){const u=t[o+1];ite(t[o],e)&&(c=!0,t[o+1]=r?$7(u):U7(u)),o=r?rr(u):ni(u)}c&&(t[n+1]=r?U7(s):$7(s))}function ite(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ms(t,e)>=0}const bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AH(t){return t.substring(bt.key,bt.keyEnd)}function ste(t){return t.substring(bt.value,bt.valueEnd)}function NH(t,e){const n=bt.textEnd;let r=bt.key=ks(t,e,n);return n===r?-1:(r=bt.keyEnd=function lte(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=PH(t,r,n),r=bt.value=ks(t,r,n),r=bt.valueEnd=function ute(t,e,n){let r=-1,i=-1,s=-1,a=e,o=a;for(;a<n;){const c=t.charCodeAt(a++);if(59===c)return o;34===c||39===c?o=a=RH(t,c,a,n):e===a-4&&85===s&&82===i&&76===r&&40===c?o=a=RH(t,41,a,n):c>32&&(o=a),s=i,i=r,r=-33&c}return o}(t,r,n),PH(t,r,n))}function ks(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function PH(t,e,n,r){return(e=ks(t,e,n))<n&&e++,e}function RH(t,e,n,r){let i=-1,s=n;for(;s<r;){const a=t.charCodeAt(s++);if(a==e&&92!==i)return s;i=92==a&&92===i?0:a}throw new Error}function $3(t,e){return function y1(t,e,n,r){const i=b(),s=he(),a=vn(2);s.firstUpdatePass&&BH(s,t,a,r),e!==ie&&s2(i,a,e)&&jH(s,s.data[g2()],i,i[te],t,i[a+1]=function Cte(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Mt($2(t)))),t}(e,n),r,a)}(t,e,null,!0),$3}function Vt(t){!function _1(t,e,n,r){const i=he(),s=vn(2);i.firstUpdatePass&&BH(i,null,s,r);const a=b();if(n!==ie&&s2(a,s,n)){const o=i.data[g2()];if(qH(o,r)&&!FH(i,s)){let c=r?o.classesWithoutHost:o.stylesWithoutHost;null!==c&&(n=q5(c,n||"")),F7(i,o,a,n,r)}else!function _te(t,e,n,r,i,s,a,o){i===ie&&(i=ve);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let g,p=null;u===f?(c+=2,l+=2,d!==h&&(p=f,g=h)):null===f||null!==u&&u<f?(c+=2,p=u):(l+=2,p=f,g=h),null!==p&&jH(t,e,n,r,p,g,a,o),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}(i,o,a,a[te],a[s+1],a[s+1]=function vte(t,e,n){if(null==n||""===n)return ve;const r=[],i=$2(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(UH,fte,t,!1)}function fte(t,e){for(let n=function ote(t){return function kH(t){bt.key=0,bt.keyEnd=0,bt.value=0,bt.valueEnd=0,bt.textEnd=t.length}(t),NH(t,ks(t,0,bt.textEnd))}(e);n>=0;n=NH(e,n))UH(t,AH(e),ste(e))}function FH(t,e){return e>=t.expandoStartIndex}function BH(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[g2()],a=FH(t,n);qH(s,r)&&null===e&&!a&&(e=!1),e=function hte(t,e,n,r){const i=function vu(t){const e=Y.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=q3(n=q7(null,t,e,n,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=q7(i,t,e,n,r),null===s){let c=function pte(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ni(r))return t[rr(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=q7(null,t,e,c[1],r),c=q3(c,e.attrs,r),function mte(t,e,n,r){t[rr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function gte(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=q3(r,t[s].hostAttrs,n);return q3(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function nte(t,e,n,r,i,s){let a=s?e.classBindings:e.styleBindings,o=rr(a),c=ni(a);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||ms(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const d=rr(t[o+1]);t[r+1]=O6(d,o),0!==d&&(t[d+1]=j7(t[d+1],r)),t[o+1]=function ete(t,e){return 131071&t|e<<17}(t[o+1],r)}else t[r+1]=O6(o,0),0!==o&&(t[o+1]=j7(t[o+1],r)),o=r;else t[r+1]=O6(c,0),0===o?o=r:t[c+1]=j7(t[c+1],r),c=r;l&&(t[r+1]=U7(t[r+1])),DH(t,u,r,!0),DH(t,u,r,!1),function rte(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ms(s,e)>=0&&(n[r+1]=$7(n[r+1]))}(e,u,t,r,s),a=O6(o,c),s?e.classBindings=a:e.styleBindings=a}(i,s,e,n,a,r)}}function q7(t,e,n,r,i){let s=null;const a=n.directiveEnd;let o=n.directiveStylingLast;for(-1===o?o=n.directiveStart:o++;o<a&&(s=e[o],r=q3(r,s.hostAttrs,i),s!==t);)o++;return null!==t&&(n.directiveStylingLast=o),r}function q3(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),j2(t,a,!!n||e[++s]))}return void 0===t?null:t}function UH(t,e,n){j2(t,e,$2(n))}function jH(t,e,n,r,i,s,a,o){if(!(3&e.type))return;const c=t.data,l=c[o+1],u=function tte(t){return 1==(1&t)}(l)?$H(c,e,n,i,ni(l),a):void 0;F6(u)||(F6(s)||function Zee(t){return 2==(2&t)}(l)&&(s=$H(c,null,n,i,o,a)),function iJ(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:nr.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=nr.Important),t.setStyle(n,r,i,s))}}(r,a,Oc(g2(),n),i,s))}function $H(t,e,n,r,i,s){const a=null===e;let o;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=n[i+1];d===ie&&(d=f?ve:void 0);let h=f?Iu(d,r):u===r?d:void 0;if(l&&!F6(h)&&(h=Iu(c,r)),F6(h)&&(o=h,a))return o;const p=t[i+1];i=a?rr(p):ni(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(o=Iu(c,r))}return o}function F6(t){return void 0!==t}function qH(t,e){return 0!=(t.flags&(e?8:16))}function se(t,e=""){const n=b(),r=he(),i=t+ce,s=r.firstCreatePass?zs(r,i,1,e,null):r.data[i],a=GH(r,n,s,e,t);n[i]=a,Fc()&&a6(r,n,a,s),O1(s,!1)}let GH=(t,e,n,r,i)=>(tr(!0),function n6(t,e){return t.createText(e)}(e[te],r));function Xe(t){return B6("",t,""),Xe}function B6(t,e,n){const r=b(),i=function xs(t,e,n,r){return s2(t,os(),n)?e+ee(n)+r:ie}(r,t,e,n);return i!==ie&&function Mn(t,e,n){const r=Oc(e,t);!function Cb(t,e,n){t.setValue(e,n)}(t[te],r,n)}(r,g2(),i),B6}function G7(t,e,n){const r=b();return s2(r,os(),e)&&q2(he(),qe(),r,t,e,r[te],n,!0),G7}const ri=void 0;var Ute=["en",[["a","p"],["AM","PM"],ri],[["AM","PM"],ri,ri],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ri,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ri,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ri,"{1} 'at' {0}",ri],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bte(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ps={};function y2(t){const e=function jte(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=dz(e);if(n)return n;const r=e.split("-")[0];if(n=dz(r),n)return n;if("en"===r)return Ute;throw new x(701,!1)}function dz(t){return t in Ps||(Ps[t]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[t]),Ps[t]}var Ee=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ee||{});const Rs="en-US";let hz=Rs;function Y7(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)Y7(t[s],e,n,r,i);else{const s=he(),a=b(),o=$t();let c=Jr(t)?t:Q(t.provide);const l=Zb(t),u=1048575&o.providerIndexes,f=o.directiveStart,d=o.providerIndexes>>20;if(Jr(t)||!t.multi){const h=new y3(l,i,z),p=X7(c,e,i?u:u+d,f);-1===p?(zu(qc(o,a),s,c),Q7(s,t,e.length),e.push(c),o.directiveStart++,o.directiveEnd++,i&&(o.providerIndexes+=1048576),n.push(h),a.push(h)):(n[p]=h,a[p]=h)}else{const h=X7(c,e,u+d,f),p=X7(c,e,u,u+d),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){zu(qc(o,a),s,c);const _=function B2e(t,e,n,r,i){const s=new y3(t,n,z);return s.multi=[],s.index=e,s.componentProviders=0,Rz(s,i,r&&!n),s}(i?F2e:O2e,n.length,i,r,l);!i&&v&&(n[p].providerFactory=_),Q7(s,t,e.length,0),e.push(c),o.directiveStart++,o.directiveEnd++,i&&(o.providerIndexes+=1048576),n.push(_),a.push(_)}else Q7(s,t,h>-1?h:p,Rz(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function Q7(t,e,n,r){const i=Jr(e),s=function RJ(t){return!!t.useClass}(e);if(i||s){const c=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Rz(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function X7(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function O2e(t,e,n,r){return J7(this.multi,[])}function F2e(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=Yr(n,n[N],this.providerFactory.index,r);s=o.slice(0,a),J7(i,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],J7(i,s);return s}function J7(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ue(t,e=[]){return n=>{n.providersResolver=(r,i)=>function R2e(t,e,n){const r=he();if(r.firstCreatePass){const i=m1(t);Y7(n,r.data,r.blueprint,i,!0),Y7(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ii{}class U2e{}class Z7 extends ii{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WV(this);const i=function B2(t,e){const n=t[BM]||null;if(!n&&!0===e)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function Cn(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=pV(e,n,[{provide:ii,useValue:this},{provide:b6,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ef extends U2e{constructor(e){super(),this.moduleType=e}create(e){return new Z7(this.moduleType,e,[])}}function Ht(t,e,n){const r=m2()+t,i=b();return i[r]===ie?q1(i,r,n?e.call(n):e()):function F3(t,e){return t[e]}(i,r)}function T2(t,e,n,r){return Wz(b(),m2(),t,e,n,r)}function Gz(t,e,n,r,i){return function Kz(t,e,n,r,i,s,a){const o=e+n;return ei(t,o,i,s)?q1(t,o+2,a?r.call(a,i,s):r(i,s)):X3(t,o+2)}(b(),m2(),t,e,n,r,i)}function X3(t,e){const n=t[e];return n===ie?void 0:n}function Wz(t,e,n,r,i,s){const a=e+n;return s2(t,a,i)?q1(t,a+1,s?r.call(s,i):r(i)):X3(t,a+1)}function Yz(t,e,n,r,i,s,a,o){const c=e+n;return function D6(t,e,n,r,i){const s=ei(t,e,n,r);return s2(t,e+2,i)||s}(t,c,i,s,a)?q1(t,c+3,o?r.call(o,i,s,a):r(i,s,a)):X3(t,c+3)}function Lt(t,e){const n=he();let r;const i=t+ce;n.firstCreatePass?(r=function l1e(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Wr(r.type)),o=z2(z);try{const c=$c(!1),l=s();return $c(c),function $ee(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),i,l),l}finally{z2(o)}}function C1(t,e,n){const r=t+ce,i=b(),s=ss(i,r);return J3(i,r)?Wz(i,m2(),e,s.transform,n,s):s.transform(n)}function ir(t,e,n,r,i){const s=t+ce,a=b(),o=ss(a,s);return J3(a,s)?Yz(a,m2(),e,o.transform,n,r,i,o):o.transform(n,r,i)}function J3(t,e){return t[N].data[e].pure}function nf(t){return e=>{setTimeout(t,void 0,e)}}const Gt=class h1e extends gc{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),a=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=nf(s),i&&(i=nf(i)),a&&(a=nf(a)));const o=super.subscribe({next:i,error:s,complete:a});return e instanceof f1&&e.add(o),o}};function g1e(t,e,n,r=!0){const i=e[N];if(function QX(t,e,n,r){const i=jt+r,s=n.length;r>0&&(n[i-1][p1]=e),r<s-jt?(e[p1]=n[i],Qw(n,jt+r,e)):(n.push(e),e[p1]=null),e[Be]=n;const a=e[p3];null!==a&&n!==a&&function XX(t,e){const n=t[is];e[ot]!==e[Be][Be][ot]&&(t[nw]=!0),null===n?t[is]=[e]:n.push(e)}(a,e);const o=e[N1];null!==o&&o.insertView(t),e[re]|=128}(i,e,t,n),r){const s=Gu(n,t),a=e[te],o=s6(a,t[k1]);null!==o&&function WX(t,e,n,r,i,s){r[st]=i,r[e2]=e,x3(t,r,n,1,i,s)}(i,t[e2],a,e,o,s)}}let wn=(()=>{class e{}return e.__NG_ELEMENT_ID__=_1e,e})();const v1e=wn,y1e=class extends v1e{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function m1e(t,e,n,r){const i=e.tView,o=z6(t,i,n,4096&t[re]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);o[p3]=t[e.index];const l=t[N1];return null!==l&&(o[N1]=l.createEmbeddedView(i)),D7(i,o,n),o}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new R3(i)}};function _1e(){return function G6(t,e){return 4&t.type?new y1e(e,t,bs(t,e)):null}($t(),b())}let K1=(()=>{class e{}return e.__NG_ELEMENT_ID__=H1e,e})();function H1e(){return function iS(t,e){let n;const r=e[t.index];return x2(r)?n=r:(n=kV(r,e,null,t),e[t.index]=n,S6(e,n)),sS(n,e,t,r),new nS(n,t,e)}($t(),b())}const z1e=K1,nS=class extends z1e{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return bs(this._hostTNode,this._hostLView)}get injector(){return new v2(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gc(this._hostTNode,this._hostLView);if(bu(e)){const n=C3(e,this._hostLView),r=_3(e);return new v2(n[N].data[r+8],n)}return new v2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=rS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(o,i,false),o}createComponent(e,n,r,i,s){const a=e&&!function w3(t){return"function"==typeof t}(e);let o;if(a)o=n;else{const g=n||{};o=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=a?e:new O3(de(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const v=(a?l:this.parentInjector).get(U1,null);v&&(s=v)}de(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,o,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function bQ(t){return x2(t[Be])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Be],u=new nS(l,l[e2],l[Be]);u.detach(u.indexOf(e))}}const a=this._adjustIndex(n),o=this._lContainer;return g1e(o,i,a,!r),e.attachToViewContainerRef(),Qw(sf(o),a,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=rS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=i6(this._lContainer,n);r&&(Kc(sf(this._lContainer),n),Uu(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=i6(this._lContainer,n);return r&&null!=Kc(sf(this._lContainer),n)?new R3(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function rS(t){return t[8]}function sf(t){return t[8]||(t[8]=[])}let sS=function aS(t,e,n,r){if(t[k1])return;let i;i=8&n.type?xe(r):function S1e(t,e){const n=t[te],r=n.createComment(""),i=E2(e,t);return Qr(n,s6(n,i),r,function tJ(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[k1]=i};const one=new O("Application Initializer");let gf=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(one,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const a=s();if(R6(a))r.push(a);else if(gH(a)){const o=new Promise((c,l)=>{a.subscribe({complete:c,error:l})});r.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const bn=new O("LocaleId",{providedIn:"root",factory:()=>k(bn,ue.Optional|ue.SkipSelf)||function lne(){return typeof $localize<"u"&&$localize.locale||Rs}()});let vf=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new LK(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DS(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gt(!1),this.onMicrotaskEmpty=new Gt(!1),this.onStable=new Gt(!1),this.onError=new Gt(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Dne(){const t="function"==typeof He.requestAnimationFrame;let e=He[t?"requestAnimationFrame":"setTimeout"],n=He[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Nne(t){const e=()=>{!function Tne(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(He,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mf(t),t.isCheckStableRunning=!0,Cf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,a,o)=>{try{return AS(t),n.invokeTask(i,s,a,o)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),TS(t)}},onInvoke:(n,r,i,s,a,o,c)=>{try{return AS(t),n.invoke(i,s,a,o,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),TS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Mf(t),Cf(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,Ane,DS,DS);try{return s.runTask(a,n,r)}finally{s.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Ane={};function Cf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function AS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function TS(t){t._nesting--,Cf(t)}class kne{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gt,this.onMicrotaskEmpty=new Gt,this.onStable=new Gt,this.onError=new Gt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const NS=new O("",{providedIn:"root",factory:kS});function kS(){const t=k(Te);let e=!0;return function _Y(...t){const e=EM(t),n=function dY(t,e){return"number"==typeof U5(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?D1(r[0]):function cY(t=1/0){return yc(mc,t)}(n)(Mc(r,e)):xM}(new $e(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new $e(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const a=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(LM()))}const PS=new O(""),Q6=new O("");let Vf,wf=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vf||(function Pne(t){Vf=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Te),J(bf),J(Q6))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})(),bf=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Vf?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),sr=null;const RS=new O("AllowMultipleToken"),Hf=new O("PlatformDestroyListeners"),OS=new O("appBootstrapListener");function US(t,e,n=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let a=zf();if(!a||a.injector.get(RS,!1)){const o=[...n,...s,{provide:i,useValue:!0}];t?t(o):function Fne(t){if(sr&&!sr.get(RS,!1))throw new x(400,!1);(function FS(){!function fQ(t){cw=t}(()=>{throw new x(600,!1)})})(),sr=t;const e=t.get($S);(function BS(t){t.get(eV,null)?.forEach(n=>n())})(t)}(function jS(t=[],e){return r2.create({name:e,providers:[{provide:i7,useValue:"platform"},{provide:Hf,useValue:new Set([()=>sr=null])},...t]})}(o,r))}return function Une(t){const e=zf();if(!e)throw new x(401,!1);return e}()}}function zf(){return sr?.get($S)??null}let $S=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function jne(t="zone.js",e){return"noop"===t?new kne:"zone.js"===t?new Te(e):t}(i?.ngZone,function qS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const a=function $2e(t,e,n){return new Z7(t,e,n)}(r.moduleType,this.injector,function QS(t){return[{provide:Te,useFactory:t},{provide:d6,multi:!0,useFactory:()=>{const e=k(qne,{optional:!0});return()=>e.initialize()}},{provide:YS,useFactory:$ne},{provide:NS,useFactory:kS}]}(()=>s)),o=a.injector.get(Zr,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{o.handleError(l)}});a.onDestroy(()=>{X6(this._modules,a),c.unsubscribe()})}),function GS(t,e,n){try{const r=n();return R6(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,s,()=>{const c=a.injector.get(gf);return c.runInitializers(),c.donePromise.then(()=>(function pz(t){Z2(t,"Expected localeId to be defined"),"string"==typeof t&&(hz=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(bn,Rs)||Rs),this._moduleDoBootstrap(a),a))})})}bootstrapModule(r,i=[]){const s=WS({},i);return function Rne(t,e,n){const r=new ef(n);return Promise.resolve(r)}(0,0,r).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(r){const i=r.injector.get(ta);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new x(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Hf,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(J(r2))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function WS(t,e){return Array.isArray(e)?e.reduce(WS,t):{...t,...e}}let ta=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(YS),this.zoneIsStable=k(NS),this.componentTypes=[],this.components=[],this.isStable=k(vf).hasPendingTasks.pipe(DM(r=>r?j5(!1):this.zoneIsStable),function CY(t,e=mc){return t=t??MY,I1((n,r)=>{let i,s=!0;n.subscribe(L1(r,a=>{const o=e(a);(s||!t(i,o))&&(s=!1,i=o,r.next(a))}))})}(),LM()),this._injector=k(U1)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof aV;if(!this._injector.get(gf).done)throw!s&&function f3(t){const e=de(t)||Ut(t)||p2(t);return null!==e&&e.standalone}(r),new x(405,!1);let o;o=s?r:this._injector.get(b6).resolveComponentFactory(r),this.componentTypes.push(o.componentType);const c=function One(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ii),u=o.create(r2.NULL,[],i||o.selector,c),f=u.location.nativeElement,d=u.injector.get(PS,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),X6(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;X6(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(OS,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>X6(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new x(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function X6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const YS=new O("",{providedIn:"root",factory:()=>k(Zr).handleError.bind(void 0)});function $ne(){const t=k(Te),e=k(Zr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let qne=(()=>{var t;class e{constructor(){this.zone=k(Te),this.applicationRef=k(ta)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let na=(()=>{class e{}return e.__NG_ELEMENT_ID__=Kne,e})();function Kne(t){return function Yne(t,e,n){if(Gr(t)&&!n){const r=U2(t.index,e);return new R3(r,r)}return 47&t.type?new R3(e[ot],e):null}($t(),b(),16==(16&t))}class ex{constructor(){}supports(e){return L6(e)}create(e){return new tre(e)}}const ere=(t,e)=>e;class tre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ere}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const a=!r||n&&n.currentIndex<nx(r,i,s)?n:r,o=nx(a,i,s),c=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,null==a.previousIndex)i++;else{s||(s=[]);const l=o-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[a.previousIndex]=u-l}}o!==c&&e(a,o,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!L6(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let o=0;o<this.length;o++)s=e[o],a=this._trackByFn(o,s),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,s,a,o)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,a,o),r=!0),n=n._next}else i=0,function bee(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,o=>{a=this._trackByFn(i,o),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,o,a,i)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,a,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new nre(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new tx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class nre{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class tx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new rre,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nx(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class rx{constructor(){}supports(e){return e instanceof Map||A7(e)}create(){return new ire}}class ire{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||A7(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new sre(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class sre{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ix(){return new e0([new ex])}let e0=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ix()),deps:[[e,new Du,new I2]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new x(901,!1)}}return(t=e).\u0275prov=G({token:t,providedIn:"root",factory:ix}),e})();function sx(){return new ra([new rx])}let ra=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sx()),deps:[[e,new Du,new I2]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new x(901,!1)}}return(t=e).\u0275prov=G({token:t,providedIn:"root",factory:sx}),e})();const cre=US(null,"core",[]);let lre=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ta))},t.\u0275mod=mt({type:t}),t.\u0275inj=it({}),e})();let Af=null;function ia(){return Af}class wre{}const Y1=new O("DocumentToken");var n0=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(n0||{}),ct=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(ct||{});function i1(t,e){const n=y2(t),r=n[Ee.NumberSymbols][e];if(typeof r>"u"){if(e===ct.CurrencyDecimal)return n[Ee.NumberSymbols][ct.Decimal];if(e===ct.CurrencyGroup)return n[Ee.NumberSymbols][ct.Group]}return r}const Xre=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Bf(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Mx(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const jf=/\s+/,wx=[];let $f=(()=>{var t;class e{constructor(r,i,s,a){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this.initialClasses=wx,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(jf):wx}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(jf):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(jf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(z(e0),z(ra),z(D2),z(_n))},t.\u0275dir=K({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class lie{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let h0=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,a,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new lie(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===a?void 0:a);else if(null!==a){const c=i.get(a);i.move(c,o),Vx(c,s)}});for(let s=0,a=i.length;s<a;s++){const c=i.get(s).context;c.index=s,c.count=a,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{Vx(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(z(K1),z(wn),z(e0))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Vx(t,e){t.context.$implicit=e.item}let ai=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new uie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Hx("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Hx("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(z(K1),z(wn))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class uie{constructor(){this.$implicit=null,this.ngIf=null}}function Hx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}function w1(t,e){return new x(2100,!1)}class hie{createSubscription(e,n){return lw(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){lw(()=>e.unsubscribe())}}class pie{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const mie=new pie,gie=new hie;let p0=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(R6(r))return mie;if(gH(r))return gie;throw w1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(z(na,16))},t.\u0275pipe=Bt({name:"async",type:t,pure:!1,standalone:!0}),e})(),Sx=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=xx}transform(r,i=xx){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),a=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function Eie(t,e){return{key:t,value:e}}(o.key,o.currentValue))})),(s||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(z(ra,16))},t.\u0275pipe=Bt({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function xx(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Us=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function Wf(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function rie(t,e,n){return function Of(t,e,n,r,i,s,a=!1){let o="",c=!1;if(isFinite(t)){let l=function sie(t){let r,i,s,a,o,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(o=e.length))r=[0],i=1;else{for(o--;"0"===e.charAt(o);)o--;for(i-=s,r=[],a=0;s<=o;s++,a++)r[a]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);a&&(l=function iie(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const y=s.match(Xre);if(null===y)throw new Error(`${s} is not a valid digit info`);const w=y[1],S=y[3],I=y[5];null!=w&&(u=Bf(w)),null!=S&&(f=Bf(S)),null!=I?d=Bf(I):null!=S&&f>d&&(d=f)}!function aie(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let a=s+t.integerLen,o=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let f=a;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let f=1;f<a;f++)r[f]=0}if(o>=5)if(a-1<0){for(let f=0;f>a;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(c=h.every(y=>!y);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const _=[];for(h.length>=e.lgSize&&_.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)_.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),o=_.join(i1(n,r)),v.length&&(o+=i1(n,i)+v.join("")),g&&(o+=i1(n,ct.Exponential)+"+"+g)}else o=i1(n,ct.Infinity);return o=t<0&&!c?e.negPre+o+e.negSuf:e.posPre+o+e.posSuf,o}(t,function Ff(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],o=a[0],c=a[1]||"";n.posPre=o.substring(0,o.indexOf("#"));for(let u=0;u<c.length;u++){const f=c.charAt(u);"0"===f?n.minFrac=n.maxFrac=u+1:"#"===f?n.maxFrac=u+1:n.posSuf+=f}const l=o.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf("#");n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Tf(t,e){return y2(t)[Ee.NumberFormats][e]}(e,n0.Decimal),i1(e,ct.MinusSign)),e,ct.Group,ct.Decimal,n)}(function Kf(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(a){throw w1()}}}return(t=e).\u0275fac=function(r){return new(r||t)(z(bn,16))},t.\u0275pipe=Bt({name:"number",type:t,pure:!0,standalone:!0}),e})();let Die=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({}),e})();const Aie="server";function Yf(t){return t===Aie}class Ix{}class sse extends wre{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jf extends sse{static makeCurrent(){!function Mre(t){Af||(Af=t)}(new Jf)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ase(){return ca=ca||document.querySelector("base"),ca?ca.getAttribute("href"):null}();return null==n?null:function ose(t){v0=v0||document.createElement("a"),v0.setAttribute("href",t);const e=v0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mx(document.cookie,e)}}let v0,ca=null,lse=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();const Zf=new O("EventManagerPlugins");let Nx=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Zf),J(Te))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();class kx{constructor(e){this._doc=e}}const e9="ng-app-id";let Px=(()=>{var t;class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yf(a),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${e9}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(e9),a;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(e9,this.appId),o}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const a=this.styleRef,o=a.get(i)?.elements;o?o.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Y1),J(v6),J(tV,8),J(j1))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();const t9={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},n9=/%COMP%/g,hse=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ox(t,e){return e.map(n=>n.replace(n9,t))}let Fx=(()=>{var t;class e{constructor(r,i,s,a,o,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Yf(c),this.defaultRenderer=new r9(r,o,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d1.ShadowDom&&(i={...i,encapsulation:d1.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof Ux?s.applyToHost(r):s instanceof i9&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let a=s.get(i.id);if(!a){const o=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case d1.Emulated:a=new Ux(l,u,i,this.appId,f,o,c,d);break;case d1.ShadowDom:return new vse(l,u,r,i,o,c,this.nonce,d);default:a=new i9(l,u,i,f,o,c,d)}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Nx),J(Px),J(v6),J(hse),J(Y1),J(j1),J(Te),J(tV))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();class r9{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(t9[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Bx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Bx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=t9[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=t9[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(nr.DashCase|nr.Important)?e.style.setProperty(n,r,i&nr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&nr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ia().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Bx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class vse extends r9{constructor(e,n,r,i,s,a,o,c){super(e,s,a,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ox(i.id,i.styles);for(const u of l){const f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class i9 extends r9{constructor(e,n,r,i,s,a,o,c){super(e,s,a,o),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Ox(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ux extends i9{constructor(e,n,r,i,s,a,o,c){const l=i+"-"+r.id;super(e,n,r,s,a,o,c,l),this.contentAttr=function pse(t){return"_ngcontent-%COMP%".replace(n9,t)}(l),this.hostAttr=function mse(t){return"_nghost-%COMP%".replace(n9,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let yse=(()=>{var t;class e extends kx{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Y1))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();const jx=["alt","control","meta","shift"],_se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cse={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Mse=(()=>{var t;class e extends kx{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const a=e.parseEventName(i),o=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(r,a.domEventName,o))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),jx.forEach(u=>{const f=i.indexOf(u);f>-1&&(i.splice(f,1),o+=u+".")}),o+=a,0!=i.length||0===a.length)return null;const l={};return l.domEventName=s,l.fullKey=o,l}static matchEventFullKeyCode(r,i){let s=_se[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),jx.forEach(o=>{o!==s&&(0,Cse[o])(r)&&(a+=o+".")}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Y1))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();const qx=[{provide:j1,useValue:"browser"},{provide:eV,useValue:function wse(){Jf.makeCurrent()},multi:!0},{provide:Y1,useFactory:function Vse(){return function lJ(t){Yu=t}(document),document},deps:[]}],Hse=US(cre,"browser",qx),zse=new O(""),Gx=[{provide:Q6,useClass:class cse{addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new x(5103,!1);return s},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let s=i.length,a=!1;const o=function(c){a=a||c,s--,0==s&&r(a)};i.forEach(c=>{c.whenStable(o)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ia().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:PS,useClass:wf,deps:[Te,bf,Q6]},{provide:wf,useClass:wf,deps:[Te,bf,Q6]}],Wx=[{provide:i7,useValue:"root"},{provide:Zr,useFactory:function bse(){return new Zr},deps:[]},{provide:Zf,useClass:yse,multi:!0,deps:[Y1,Te,j1]},{provide:Zf,useClass:Mse,multi:!0,deps:[Y1]},Fx,Px,Nx,{provide:cV,useExisting:Fx},{provide:Ix,useClass:lse,deps:[]},[]];let oi=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:v6,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(J(zse,12))},t.\u0275mod=mt({type:t}),t.\u0275inj=it({providers:[...Wx,...Gx],imports:[Die,lre]}),e})();typeof window<"u"&&window;let Qx=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new(r||t):J(Xx),i},providedIn:"root"}),e})(),Xx=(()=>{var t;class e extends Qx{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case n1.NONE:return i;case n1.HTML:return B1(i,"HTML")?$2(i):jb(this._doc,String(i)).toString();case n1.STYLE:return B1(i,"Style")?$2(i):i;case n1.SCRIPT:if(B1(i,"Script"))return $2(i);throw new x(5200,!1);case n1.URL:return B1(i,"URL")?$2(i):u6(String(i));case n1.RESOURCE_URL:if(B1(i,"ResourceURL"))return $2(i);throw new x(5201,!1);default:throw new x(5202,!1)}}bypassSecurityTrustHtml(r){return function gJ(t){return new uJ(t)}(r)}bypassSecurityTrustStyle(r){return function vJ(t){return new fJ(t)}(r)}bypassSecurityTrustScript(r){return function yJ(t){return new dJ(t)}(r)}bypassSecurityTrustUrl(r){return function _J(t){return new hJ(t)}(r)}bypassSecurityTrustResourceUrl(r){return function CJ(t){return new pJ(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Y1))},t.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function Dse(t){return new Xx(t.get(Y1))}(J(r2)),i},providedIn:"root"}),e})();var f9={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},h9={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},H9={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},H0={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},js={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},q9={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},A0={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function bk(t,e,n,r,i,s,a){try{var o=t[s](a),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(c){bk(s,r,i,a,o,"next",c)}function o(c){bk(s,r,i,a,o,"throw",c)}a(void 0)})}}const Vk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let d=(15&o)<<2|l>>6,h=63&l;c||(h=64,a||(d=64)),r.push(n[s>>2],n[(3&s)<<4|o>>4],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==l||null==f)throw new rHe;r.push(s<<2|o>>4),64!==l&&(r.push(o<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rHe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N0=function(t){return function(t){const e=Vk(t);return rd.encodeByteArray(e,!0)}(t).replace(/\./g,"")},k0=function(t){try{return rd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P0=()=>{try{return zk().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k0(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Sk=t=>{var e,n;return null===(n=null===(e=P0())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},xk=()=>{var t;return null===(t=P0())||void 0===t?void 0:t.config},Ek=t=>{var e;return null===(e=P0())||void 0===e?void 0:e[`_${t}`]};class $s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function id(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function or(){try{return"object"==typeof indexedDB}catch{return!1}}function pa(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function sd(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class a1 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,a1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q1.prototype.create)}}class Q1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?function gHe(t,e){return t.replace(vHe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new a1(i,`${this.serviceName}: ${a} (${i}).`,r)}}const vHe=/\{\$([^}]+)}/g;function O0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Lk(s)&&Lk(a)){if(!O0(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lk(t){return null!==t&&"object"==typeof t}function ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function va(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class CHe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function MHe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=ad),void 0===i.error&&(i.error=ad),void 0===i.complete&&(i.complete=ad);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ad(){}const wHe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},bHe=1e3,VHe=2,HHe=144e5,zHe=.5;function F0(t,e=bHe,n=VHe){const r=e*Math.pow(n,t),i=Math.round(zHe*r*(Math.random()-.5)*2);return Math.min(HHe,r+i)}function lt(t){return t&&t._delegate?t._delegate:t}class a2{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ci="[DEFAULT]";class xHe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $s;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function IHe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&a.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ci?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class LHe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xHe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const cd=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const Dk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},DHe=ge.INFO,AHe={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},THe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=AHe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class qs{constructor(e){this.name=e,this._logLevel=DHe,this._logHandler=THe,this._userLogHandler=null,cd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Dk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const NHe=(t,e)=>e.some(n=>t instanceof n);let Ak,Tk;const Nk=new WeakMap,ld=new WeakMap,kk=new WeakMap,ud=new WeakMap,fd=new WeakMap;let dd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ld.get(t);if("objectStoreNames"===e)return t.objectStoreNames||kk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function UHe(t){return"function"==typeof t?function BHe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function PHe(){return Tk||(Tk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(hd(this),e),cr(Nk.get(this))}:function(...e){return cr(t.apply(hd(this),e))}:function(e,...n){const r=t.call(hd(this),e,...n);return kk.set(r,e.sort?e.sort():[e]),cr(r)}}(t):(t instanceof IDBTransaction&&function OHe(t){if(ld.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ld.set(t,e)}(t),NHe(t,function kHe(){return Ak||(Ak=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,dd):t)}function cr(t){if(t instanceof IDBRequest)return function RHe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(cr(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Nk.set(n,t)}).catch(()=>{}),fd.set(e,t),e}(t);if(ud.has(t))return ud.get(t);const e=UHe(t);return e!==t&&(ud.set(t,e),fd.set(e,t)),e}const hd=t=>fd.get(t),$He=["get","getKey","getAll","getAllKeys","count"],qHe=["put","add","delete","clear"],pd=new Map;function Pk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(pd.get(e))return pd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qHe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$He.includes(n))return;const s=function(){var a=m(function*(o,...c){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return a.apply(this,arguments)}}();return pd.set(e,s),s}!function FHe(t){dd=t(dd)}(t=>({...t,get:(e,n,r)=>Pk(e,n)||t.get(e,n,r),has:(e,n)=>!!Pk(e,n)||t.has(e,n)}));class GHe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function WHe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const md="@firebase/app",li=new qs("@firebase/app"),B0="[DEFAULT]",_ze={[md]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ui=new Map,U0=new Map;function Cze(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function M2(t){const e=t.name;if(U0.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;U0.set(e,t);for(const n of ui.values())Cze(n,t);return!0}function lr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const zn=new Q1("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wze{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new a2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const fi="9.23.0";function Ok(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:B0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw zn.create("bad-app-name",{appName:String(i)});if(n||(n=xk()),!n)throw zn.create("no-options");const s=ui.get(i);if(s){if(O0(n,s.options)&&O0(r,s.config))return s;throw zn.create("duplicate-app",{appName:i})}const a=new LHe(i);for(const c of U0.values())a.addComponent(c);const o=new wze(n,r,a);return ui.set(i,o),o}function ya(t=B0){const e=ui.get(t);if(!e&&t===B0&&xk())return Ok();if(!e)throw zn.create("no-app",{appName:t});return e}function Fk(){return Array.from(ui.values())}function We(t,e,n){var r;let i=null!==(r=_ze[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];return s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void li.warn(o.join(" "))}M2(new a2(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const bze="firebase-heartbeat-database",Vze=1,_a="firebase-heartbeat-store";let vd=null;function Bk(){return vd||(vd=function jHe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=cr(a);return r&&a.addEventListener("upgradeneeded",c=>{r(cr(a.result),c.oldVersion,c.newVersion,cr(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}(bze,Vze,{upgrade:(t,e)=>{0===e&&t.createObjectStore(_a)}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),vd}function yd(){return(yd=m(function*(t){try{return yield(yield Bk()).transaction(_a).objectStore(_a).get(jk(t))}catch(e){if(e instanceof a1)li.warn(e.message);else{const n=zn.create("idb-get",{originalErrorMessage:e?.message});li.warn(n.message)}}})).apply(this,arguments)}function Uk(t,e){return _d.apply(this,arguments)}function _d(){return(_d=m(function*(t,e){try{const r=(yield Bk()).transaction(_a,"readwrite");yield r.objectStore(_a).put(e,jk(t)),yield r.done}catch(n){if(n instanceof a1)li.warn(n.message);else{const r=zn.create("idb-set",{originalErrorMessage:n?.message});li.warn(r.message)}}})).apply(this,arguments)}function jk(t){return`${t.name}!${t.options.appId}`}class xze{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ize(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$k();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=$k(),{heartbeatsToSend:r,unsentEntries:i}=function Eze(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),qk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=N0(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function $k(){return(new Date).toISOString().substring(0,10)}class Ize{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!or()&&pa().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Hze(t){return yd.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Uk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Uk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qk(t){return N0(JSON.stringify({version:2,heartbeats:t})).length}!function Lze(t){M2(new a2("platform-logger",e=>new GHe(e),"PRIVATE")),M2(new a2("heartbeat",e=>new xze(e),"PRIVATE")),We(md,"0.9.13",t),We(md,"0.9.13","esm2017"),We("fire-js","")}(""),We("firebase","9.23.0","app");const Tze=(t,e)=>e.some(n=>t instanceof n);let Gk,Wk;const Kk=new WeakMap,Cd=new WeakMap,Yk=new WeakMap,Md=new WeakMap,wd=new WeakMap;let bd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Cd.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Yk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Bze(t){return"function"==typeof t?function Fze(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kze(){return Wk||(Wk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Vd(this),e),ur(Kk.get(this))}:function(...e){return ur(t.apply(Vd(this),e))}:function(e,...n){const r=t.call(Vd(this),e,...n);return Yk.set(r,e.sort?e.sort():[e]),ur(r)}}(t):(t instanceof IDBTransaction&&function Rze(t){if(Cd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Cd.set(t,e)}(t),Tze(t,function Nze(){return Gk||(Gk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,bd):t)}function ur(t){if(t instanceof IDBRequest)return function Pze(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ur(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Kk.set(n,t)}).catch(()=>{}),wd.set(e,t),e}(t);if(Md.has(t))return Md.get(t);const e=Bze(t);return e!==t&&(Md.set(t,e),wd.set(e,t)),e}const Vd=t=>wd.get(t),jze=["get","getKey","getAll","getAllKeys","count"],$ze=["put","add","delete","clear"],Hd=new Map;function Qk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Hd.get(e))return Hd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jze.includes(n))return;const s=function(){var a=m(function*(o,...c){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return a.apply(this,arguments)}}();return Hd.set(e,s),s}!function Oze(t){bd=t(bd)}(t=>({...t,get:(e,n,r)=>Qk(e,n)||t.get(e,n,r),has:(e,n)=>!!Qk(e,n)||t.has(e,n)}));const Xk="@firebase/installations",zd="0.6.4",Jk=1e4,Zk=`w:${zd}`,eP="FIS_v2",qze="https://firebaseinstallations.googleapis.com/v1",Gze=36e5,Sn=new Q1("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tP(t){return t instanceof a1&&t.code.includes("request-failed")}function Sd({projectId:t}){return`${qze}/projects/${t}/installations`}function nP(t){return{token:t.token,requestStatus:2,expiresIn:Qze(t.expiresIn),creationTime:Date.now()}}function xd(t,e){return Ed.apply(this,arguments)}function Ed(){return(Ed=m(function*(t,e){const r=(yield e.json()).error;return Sn.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function rP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Id(t){return Ld.apply(this,arguments)}function Ld(){return(Ld=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Qze(t){return Number(t.replace("s","000"))}function Dd(){return(Dd=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Sd(t),i=rP(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:eP,appId:t.appId,sdkVersion:Zk})},c=yield Id(()=>fetch(r,o));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:nP(l.authToken)}}throw yield xd("Create Installation",c)})).apply(this,arguments)}function sP(t){return new Promise(e=>{setTimeout(e,t)})}const eSe=/^[cdef][\w-]{21}$/,Ad="";function tSe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function nSe(t){return function Zze(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return eSe.test(n)?n:Ad}catch{return Ad}}function Gs(t){return`${t.appName}!${t.appId}`}const Ws=new Map;function aP(t,e){const n=Gs(t);oP(n,e),function sSe(t,e){const n=function cP(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=t=>{oP(t.data.key,t.data.fid)}),di}();n&&n.postMessage({key:t,fid:e}),function lP(){0===Ws.size&&di&&(di.close(),di=null)}()}(n,e)}function oP(t,e){const n=Ws.get(t);if(n)for(const r of n)r(e)}let di=null;const aSe="firebase-installations-database",oSe=1,hi="firebase-installations-store";let Td=null;function Nd(){return Td||(Td=function Uze(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ur(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ur(a.result),c.oldVersion,c.newVersion,ur(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}(aSe,oSe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hi)}})),Td}function j0(t,e){return kd.apply(this,arguments)}function kd(){return(kd=m(function*(t,e){const n=Gs(t),i=(yield Nd()).transaction(hi,"readwrite"),s=i.objectStore(hi),a=yield s.get(n);return yield s.put(e,n),yield i.done,(!a||a.fid!==e.fid)&&aP(t,e.fid),e})).apply(this,arguments)}function Pd(t){return Rd.apply(this,arguments)}function Rd(){return(Rd=m(function*(t){const e=Gs(t),r=(yield Nd()).transaction(hi,"readwrite");yield r.objectStore(hi).delete(e),yield r.done})).apply(this,arguments)}function Ca(t,e){return Od.apply(this,arguments)}function Od(){return(Od=m(function*(t,e){const n=Gs(t),i=(yield Nd()).transaction(hi,"readwrite"),s=i.objectStore(hi),a=yield s.get(n),o=e(a);return void 0===o?yield s.delete(n):yield s.put(o,n),yield i.done,o&&(!a||a.fid!==o.fid)&&aP(t,o.fid),o})).apply(this,arguments)}function Fd(t){return Bd.apply(this,arguments)}function Bd(){return Bd=m(function*(t){let e;const n=yield Ca(t.appConfig,r=>{const i=function cSe(t){return fP(t||{fid:tSe(),registrationStatus:0})}(r),s=function lSe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Sn.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function uSe(t,e){return Ud.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:fSe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Ad?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Bd.apply(this,arguments)}function Ud(){return Ud=m(function*(t,e){try{const n=yield function Jze(t,e){return Dd.apply(this,arguments)}(t,e);return j0(t.appConfig,n)}catch(n){throw tP(n)&&409===n.customData.serverCode?yield Pd(t.appConfig):yield j0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Ud.apply(this,arguments)}function fSe(t){return jd.apply(this,arguments)}function jd(){return(jd=m(function*(t){let e=yield uP(t.appConfig);for(;1===e.registrationStatus;)yield sP(100),e=yield uP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Fd(t);return r||n}return e})).apply(this,arguments)}function uP(t){return Ca(t,e=>{if(!e)throw Sn.create("installation-not-found");return fP(e)})}function fP(t){return function dSe(t){return 1===t.registrationStatus&&t.registrationTime+Jk<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function $d(){return($d=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function pSe(t,{fid:e}){return`${Sd(t)}/${e}/authTokens:generate`}(t,n),i=function iP(t,{refreshToken:e}){const n=rP(t);return n.append("Authorization",function Xze(t){return`${eP} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Zk,appId:t.appId}})},c=yield Id(()=>fetch(r,o));if(c.ok)return nP(yield c.json());throw yield xd("Generate Auth Token",c)})).apply(this,arguments)}function qd(t){return Gd.apply(this,arguments)}function Gd(){return Gd=m(function*(t,e=!1){let n;const r=yield Ca(t.appConfig,s=>{if(!hP(s))throw Sn.create("not-registered");const a=s.authToken;if(!e&&function vSe(t){return 2===t.requestStatus&&!function ySe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Gze}(t)}(a))return s;if(1===a.requestStatus)return n=function mSe(t,e){return Wd.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Sn.create("app-offline");const o=function _Se(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function gSe(t,e){return Kd.apply(this,arguments)}(t,o),o}});return n?yield n:r.authToken}),Gd.apply(this,arguments)}function Wd(){return(Wd=m(function*(t,e){let n=yield dP(t.appConfig);for(;1===n.authToken.requestStatus;)yield sP(100),n=yield dP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?qd(t,e):r})).apply(this,arguments)}function dP(t){return Ca(t,e=>{if(!hP(e))throw Sn.create("not-registered");return function CSe(t){return 1===t.requestStatus&&t.requestTime+Jk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Kd(){return Kd=m(function*(t,e){try{const n=yield function hSe(t,e){return $d.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield j0(t.appConfig,r),n}catch(n){if(!tP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield j0(t.appConfig,r)}else yield Pd(t.appConfig);throw n}}),Kd.apply(this,arguments)}function hP(t){return void 0!==t&&2===t.registrationStatus}function Yd(){return(Yd=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Fd(e);return r?r.catch(console.error):qd(e).catch(console.error),n.fid})).apply(this,arguments)}function Qd(){return Qd=m(function*(t,e=!1){const n=t;return yield function bSe(t){return Xd.apply(this,arguments)}(n),(yield qd(n,e)).token}),Qd.apply(this,arguments)}function Xd(){return(Xd=m(function*(t){const{registrationPromise:e}=yield Fd(t);e&&(yield e)})).apply(this,arguments)}function eh(t){return Sn.create("missing-app-config-values",{valueName:t})}const pP="installations",xSe=t=>{const e=t.getProvider("app").getImmediate(),n=function zSe(t){if(!t||!t.options)throw eh("App Configuration");if(!t.name)throw eh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw eh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:lr(e,"heartbeat"),_delete:()=>Promise.resolve()}},ESe=t=>{const n=lr(t.getProvider("app").getImmediate(),pP).getImmediate();return{getId:()=>function MSe(t){return Yd.apply(this,arguments)}(n),getToken:i=>function wSe(t){return Qd.apply(this,arguments)}(n,i)}};(function ISe(){M2(new a2(pP,xSe,"PUBLIC")),M2(new a2("installations-internal",ESe,"PRIVATE"))})(),We(Xk,zd),We(Xk,zd,"esm2017");const th="@firebase/remote-config",k2=new Q1("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class BSe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),a=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&a.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(a),s})()}}function USe(t=navigator){return t.languages&&t.languages[0]||t.language}class jSe{constructor(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:USe()},l={method:"POST",headers:o,body:JSON.stringify(c)},u=fetch(a,l),f=new Promise((_,y)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",y(w)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(_){let y="fetch-client-network";throw"AbortError"===_?.name&&(y="fetch-timeout"),k2.create(y,{originalErrorMessage:_?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(200===d.status){let _;try{_=yield d.json()}catch(y){throw k2.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=_.entries,v=_.state}if("INSTANCE_STATE_UNSPECIFIED"===v?h=500:"NO_CHANGE"===v?h=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==h&&200!==h)throw k2.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class GSe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function $Se(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(k2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function qSe(t){if(!(t instanceof a1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const a={throttleEndTimeMillis:Date.now()+F0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(a),i.attemptFetch(e,a)}})()}}class YSe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function q0(t,e){const n=t.target.error||void 0;return k2.create(e,{originalErrorMessage:n&&n?.message})}const pi="app_namespace_store";class ZSe{constructor(e,n,r,i=function JSe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(q0(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(n){e(k2.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([pi],"readonly").objectStore(pi),c=n.createCompositeKey(e);try{const l=o.get(c);l.onerror=u=>{s(q0(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(k2.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,a)=>{const c=i.transaction([pi],"readwrite").objectStore(pi),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:n});u.onerror=f=>{a(q0(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){a(k2.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([pi],"readwrite").objectStore(pi),c=n.createCompositeKey(e);try{const l=o.delete(c);l.onerror=u=>{s(q0(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(k2.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class exe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const a=yield r;a&&(e.lastSuccessfulFetchTimestampMillis=a);const o=yield i;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function nxe(){return ah.apply(this,arguments)}function ah(){return(ah=m(function*(){if(!or())return!1;try{return yield pa()}catch{return!1}})).apply(this,arguments)}!function txe(){M2(new a2("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw k2.create("registration-window");if(!or())throw k2.create("indexed-db-unavailable");const{projectId:s,apiKey:a,appId:o}=r.options;if(!s)throw k2.create("registration-project-id");if(!a)throw k2.create("registration-api-key");if(!o)throw k2.create("registration-app-id");const c=new ZSe(o,r.name,n=n||"firebase"),l=new exe(c),u=new qs(th);u.logLevel=ge.ERROR;const f=new jSe(i,fi,n,s,a,o),d=new GSe(f,c),h=new BSe(d,c,l,u),p=new YSe(r,h,l,c,u);return function RSe(t){const e=lt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),We(th,"0.4.4"),We(th,"0.4.4","esm2017")}();const rxe=(t,e)=>e.some(n=>t instanceof n);let yP,_P;const CP=new WeakMap,oh=new WeakMap,MP=new WeakMap,ch=new WeakMap,lh=new WeakMap;let uh={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return oh.get(t);if("objectStoreNames"===e)return t.objectStoreNames||MP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function uxe(t){return"function"==typeof t?function lxe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sxe(){return _P||(_P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fh(this),e),xn(CP.get(this))}:function(...e){return xn(t.apply(fh(this),e))}:function(e,...n){const r=t.call(fh(this),e,...n);return MP.set(r,e.sort?e.sort():[e]),xn(r)}}(t):(t instanceof IDBTransaction&&function oxe(t){if(oh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});oh.set(t,e)}(t),rxe(t,function ixe(){return yP||(yP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,uh):t)}function xn(t){if(t instanceof IDBRequest)return function axe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(xn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&CP.set(n,t)}).catch(()=>{}),lh.set(e,t),e}(t);if(ch.has(t))return ch.get(t);const e=uxe(t);return e!==t&&(ch.set(t,e),lh.set(e,t)),e}const fh=t=>lh.get(t);function wP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=xn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(xn(a.result),c.oldVersion,c.newVersion,xn(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}function dh(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),xn(n).then(()=>{})}const fxe=["get","getKey","getAll","getAllKeys","count"],dxe=["put","add","delete","clear"],hh=new Map;function bP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(hh.get(e))return hh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dxe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fxe.includes(n))return;const s=function(){var a=m(function*(o,...c){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return a.apply(this,arguments)}}();return hh.set(e,s),s}!function cxe(t){uh=t(uh)}(t=>({...t,get:(e,n,r)=>bP(e,n)||t.get(e,n,r),has:(e,n)=>!!bP(e,n)||t.has(e,n)}));const hxe="/firebase-messaging-sw.js",pxe="/firebase-cloud-messaging-push-scope",VP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mxe="https://fcmregistrations.googleapis.com/v1",HP="google.c.a.c_id",gxe="google.c.a.c_l",vxe="google.c.a.ts";var G0=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(G0||{});function En(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cxe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const ph="fcm_token_details_db",Mxe=5,zP="fcm_token_object_Store";function mh(){return mh=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(ph))return null;let e=null;return(yield wP(ph,Mxe,{upgrade:(r=m(function*(i,s,a,o){var c;if(s<2||!i.objectStoreNames.contains(zP))return;const l=o.objectStore(zP),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(c=f.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:En(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:En(f.auth),p256dh:En(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:En(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:En(f.auth),p256dh:En(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:En(f.vapidKey)}}}}),function(s,a,o,c){return r.apply(this,arguments)})})).close(),yield dh(ph),yield dh("fcm_vapid_details_db"),yield dh("undefined"),function bxe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),mh.apply(this,arguments)}const Vxe="firebase-messaging-database",Hxe=1,mi="firebase-messaging-store";let gh=null;function vh(){return gh||(gh=wP(Vxe,Hxe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mi)}})),gh}function SP(t){return yh.apply(this,arguments)}function yh(){return yh=m(function*(t){const e=wh(t),r=yield(yield vh()).transaction(mi).objectStore(mi).get(e);if(r)return r;{const i=yield function wxe(t){return mh.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield _h(t,i),i}}),yh.apply(this,arguments)}function _h(t,e){return Ch.apply(this,arguments)}function Ch(){return(Ch=m(function*(t,e){const n=wh(t),i=(yield vh()).transaction(mi,"readwrite");return yield i.objectStore(mi).put(e,n),yield i.done,e})).apply(this,arguments)}function Mh(){return(Mh=m(function*(t){const e=wh(t),r=(yield vh()).transaction(mi,"readwrite");yield r.objectStore(mi).delete(e),yield r.done})).apply(this,arguments)}function wh({appConfig:t}){return t.appId}const Wt=new Q1("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xxe(t,e){return bh.apply(this,arguments)}function bh(){return(bh=m(function*(t,e){const n=yield Sh(t),r=EP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(zh(t.appConfig),i)).json()}catch(a){throw Wt.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(s.error)throw Wt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Vh(){return(Vh=m(function*(t,e){const n=yield Sh(t),r=EP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${zh(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw Wt.create("token-update-failed",{errorInfo:a?.toString()})}if(s.error)throw Wt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-update-no-token");return s.token})).apply(this,arguments)}function xP(t,e){return Hh.apply(this,arguments)}function Hh(){return(Hh=m(function*(t,e){const r={method:"DELETE",headers:yield Sh(t)};try{const s=yield(yield fetch(`${zh(t.appConfig)}/${e}`,r)).json();if(s.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function zh({projectId:t}){return`${mxe}/projects/${t}/registrations`}function Sh(t){return xh.apply(this,arguments)}function xh(){return(xh=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function EP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==VP&&(i.web.applicationPubKey=r),i}const Ixe=6048e5;function Eh(){return Eh=m(function*(t){const e=yield function Axe(t,e){return Ah.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:En(e.getKey("auth")),p256dh:En(e.getKey("p256dh"))},r=yield SP(t.firebaseDependencies);if(r){if(function Txe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Ixe?function Dxe(t,e){return Lh.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield xP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return LP(t.firebaseDependencies,n)}return LP(t.firebaseDependencies,n)}),Eh.apply(this,arguments)}function Ih(){return Ih=m(function*(t){const e=yield SP(t.firebaseDependencies);e&&(yield xP(t.firebaseDependencies,e.token),yield function zxe(t){return Mh.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Ih.apply(this,arguments)}function Lh(){return Lh=m(function*(t,e){try{const n=yield function Exe(t,e){return Vh.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield _h(t.firebaseDependencies,r),n}catch(n){throw yield function IP(t){return Ih.apply(this,arguments)}(t),n}}),Lh.apply(this,arguments)}function LP(t,e){return Dh.apply(this,arguments)}function Dh(){return(Dh=m(function*(t,e){const r={token:yield xxe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield _h(t,r),r.token})).apply(this,arguments)}function Ah(){return(Ah=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cxe(e)})})).apply(this,arguments)}function DP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Nxe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function kxe(t,e){e.data&&(t.data=e.data)}(e,t),function Pxe(t,e){var n,r,i,s,a;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const o=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;o&&(t.fcmOptions.link=o);const c=null===(a=e.fcmOptions)||void 0===a?void 0:a.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function AP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Th(t){return Wt.create("missing-app-config-values",{valueName:t})}AP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),AP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fxe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Oxe(t){if(!t||!t.options)throw Th("App Configuration Object");if(!t.name)throw Th("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Th(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Nh(){return(Nh=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(hxe,{scope:pxe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function kh(){return(kh=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function TP(t){return Nh.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Ph(){return(Ph=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=VP)})).apply(this,arguments)}function Rh(){return Rh=m(function*(t,e){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield function Uxe(t,e){return Ph.apply(this,arguments)}(t,e?.vapidKey),yield function Bxe(t,e){return kh.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Lxe(t){return Eh.apply(this,arguments)}(t)}),Rh.apply(this,arguments)}function Oh(){return(Oh=m(function*(t,e,n){const r=function $xe(t){switch(t){case G0.NOTIFICATION_CLICKED:return"notification_open";case G0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[HP],message_name:n[gxe],message_time:n[vxe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fh(){return Fh=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===G0.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(DP(n)):t.onMessageHandler.next(DP(n)));const r=n.data;(function Rxe(t){return"object"==typeof t&&!!t&&HP in t})(r)&&"1"===r["google.c.a.e"]&&(yield function jxe(t,e,n){return Oh.apply(this,arguments)}(t,n.messageType,r))}),Fh.apply(this,arguments)}const kP="@firebase/messaging",Gxe=t=>{const e=new Fxe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function qxe(t,e){return Fh.apply(this,arguments)}(e,n)),e},Wxe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function NP(t,e){return Rh.apply(this,arguments)}(e,r)}};function RP(){return Bh.apply(this,arguments)}function Bh(){return(Bh=m(function*(){try{yield pa()}catch{return!1}return typeof window<"u"&&or()&&sd()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Kxe(){M2(new a2("messaging",Gxe,"PUBLIC")),M2(new a2("messaging-internal",Wxe,"PRIVATE")),We(kP,"0.12.4"),We(kP,"0.12.4","esm2017")}();const W0="analytics",Xxe="firebase_id",Jxe="origin",Zxe=6e4,eEe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$h="https://www.googletagmanager.com/gtag/js",At=new qs("@firebase/analytics"),w2=new Q1("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nEe(t){if(!t.startsWith($h)){const e=w2.create("invalid-gtag-resource",{gtagURL:t});return At.warn(e.message),""}return t}function OP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function qh(){return(qh=m(function*(t,e,n,r,i,s){const a=r[i];try{if(a)yield e[a];else{const c=(yield OP(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(o){At.error(o)}t("config",i,s)})).apply(this,arguments)}function Gh(){return(Gh=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=yield OP(n);for(const c of a){const l=o.find(f=>f.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){At.error(s)}})).apply(this,arguments)}const fEe=30,FP=new class hEe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pEe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Wh(){return(Wh=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:pEe(r)},s=eEe.replace("{app-id}",n),a=yield fetch(s,i);if(200!==a.status&&304!==a.status){let o="";try{const c=yield a.json();null!==(e=c.error)&&void 0!==e&&e.message&&(o=c.error.message)}catch{}throw w2.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()})).apply(this,arguments)}function Kh(){return(Kh=m(function*(t,e=FP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw w2.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw w2.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new _Ee;return setTimeout(m(function*(){o.abort()}),void 0!==n?n:Zxe),BP({appId:r,apiKey:i,measurementId:s},a,o,e)})).apply(this,arguments)}function BP(t,e,n){return Yh.apply(this,arguments)}function Yh(){return Yh=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=FP){var s;const{appId:a,measurementId:o}=t;try{yield function vEe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(w2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(o)return At.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:o};throw c}try{const c=yield function mEe(t){return Wh.apply(this,arguments)}(t);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!function yEe(t){if(!(t instanceof a1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(a),o)return At.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:o};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?F0(n,i.intervalMillis,fEe):F0(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,f),At.debug(`Calling attemptFetch again in ${u} millis`),BP(t,f,r,i)}}),Yh.apply(this,arguments)}class _Ee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Qh,rp;function Xh(){return(Xh=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function ip(){return(ip=m(function*(){if(!or())return At.warn(w2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield pa()}catch(t){return At.warn(w2.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function sp(){return sp=m(function*(t,e,n,r,i,s,a){var o;const c=function gEe(t){return Kh.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&At.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>At.error(h)),e.push(c);const l=function zEe(){return ip.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([c,l]);(function uEe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($h)&&n.src.includes(t))return n;return null})(s)||function iEe(t,e){const n=function rEe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:nEe}),r=document.createElement("script"),i=`${$h}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),rp&&(i("consent","default",rp),function UP(t){rp=t}(void 0)),i("js",new Date);const d=null!==(o=a?.config)&&void 0!==o?o:{};return d[Jxe]="firebase",d.update=!0,null!=f&&(d[Xxe]=f),i("config",u.measurementId,d),Qh&&(i("set",Qh),function jP(t){Qh=t}(void 0)),u.measurementId}),sp.apply(this,arguments)}class xEe{constructor(e){this.app=e}_delete(){return delete X1[this.app.options.appId],Promise.resolve()}}let X1={},$P=[];const qP={};let WP,J1,K0="dataLayer",ap=!1;function IEe(t,e,n){!function EEe(){const t=[];if(id()&&t.push("This is a browser extension environment."),sd()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=w2.create("invalid-analytics-context",{errorInfo:e});At.warn(n.message)}}();const r=t.options.appId;if(!r)throw w2.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw w2.create("no-api-key");At.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=X1[r])throw w2.create("already-exists",{id:r});if(!ap){!function sEe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(K0);const{wrappedGtag:s,gtagCore:a}=function lEe(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function cEe(t,e,n,r){function s(){return s=m(function*(a,...o){try{if("event"===a){const[c,l]=o;yield function oEe(t,e,n,r,i){return Gh.apply(this,arguments)}(t,e,n,c,l)}else if("config"===a){const[c,l]=o;yield function aEe(t,e,n,r,i,s){return qh.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===a){const[c]=o;t("consent","update",c)}else if("get"===a){const[c,l,u]=o;t("get",c,l,u)}else if("set"===a){const[c]=o;t("set",c)}else t(a,...o)}catch(c){At.error(c)}}),s.apply(this,arguments)}return function i(a){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(X1,$P,qP,K0,"gtag");J1=s,WP=a,ap=!0}return X1[r]=function SEe(t,e,n,r,i,s,a){return sp.apply(this,arguments)}(t,$P,qP,e,WP,K0,n),new xEe(t)}function DEe(){return op.apply(this,arguments)}function op(){return(op=m(function*(){if(id()||!sd()||!or())return!1;try{return yield pa()}catch{return!1}})).apply(this,arguments)}const KP="@firebase/analytics";!function TEe(){M2(new a2(W0,(e,{options:n})=>IEe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),M2(new a2("analytics-internal",function t(e){try{const n=e.getProvider(W0).getImmediate();return{logEvent:(r,i,s)=>function AEe(t,e,n,r){t=lt(t),function CEe(t,e,n,r,i){return Xh.apply(this,arguments)}(J1,X1[t.app.options.appId],e,n,r).catch(i=>At.error(i))}(n,r,i,s)}}catch(n){throw w2.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),We(KP,"0.10.0"),We(KP,"0.10.0","esm2017")}();class NEe extends f1{constructor(e,n){super()}schedule(e,n=0){return this}}const Y0={setInterval(t,e,...n){const{delegate:r}=Y0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Y0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class QP extends NEe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Y0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Y0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ji(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const XP={now:()=>(XP.delegate||Date).now(),delegate:void 0};class Ma{constructor(e,n=Ma.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ma.now=XP.now;class JP extends Ma{constructor(e,n=Ma.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const REe=new class PEe extends JP{}(class kEe extends QP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),OEe=new JP(QP),wa=new T3("7.6.1"),lp="__angularfire_symbol__analyticsIsSupportedValue",up="__angularfire_symbol__analyticsIsSupported",fp="__angularfire_symbol__remoteConfigIsSupportedValue",dp="__angularfire_symbol__remoteConfigIsSupported",hp="__angularfire_symbol__messagingIsSupportedValue",pp="__angularfire_symbol__messagingIsSupported";function gp(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(a=>a.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[up]||(globalThis[up]=DEe().then(t=>globalThis[lp]=t).catch(()=>globalThis[lp]=!1)),globalThis[pp]||(globalThis[pp]=RP().then(t=>globalThis[hp]=t).catch(()=>globalThis[hp]=!1)),globalThis[dp]||(globalThis[dp]=nxe().then(t=>globalThis[fp]=t).catch(()=>globalThis[fp]=!1));const vp=(t,e)=>{const n=e?[e]:Fk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r};function Ks(){}class ZP{constructor(e,n=REe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(a){i.runGuarded(()=>{e.apply(this,[a])})},n,r)}}class BEe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)),n.pipe(function FEe(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?I1((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let o=!0;i.subscribe(L1(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;o=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;o=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;o&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):mc}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Q0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ZP(Zone.current)),this.insideAngular=n.run(()=>new ZP(Zone.current,OEe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(J(Te))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function vi(t){return gi().ngZone.run(()=>t())}function jEe(t){return gi(),function $Ee(t){return function(n){return(n=n.lift(new BEe(t.ngZone))).pipe(Cc(t.outsideAngular),_c(t.insideAngular))}}(gi())(t)}const qEe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),vi(()=>t.apply(void 0,r))},Tt=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=vi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)))),r[s]=qEe(r[s],n));const i=function UEe(t){return gi().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof $e){const s=gi();return i.pipe(Cc(s.outsideAngular),_c(s.insideAngular))}return vi(()=>i)}return i instanceof $e?i.pipe(jEe):i instanceof Promise?vi(()=>new Promise((s,a)=>i.then(o=>vi(()=>s(o)),o=>vi(()=>a(o))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:vi(()=>i)};class Ys{constructor(e){return e}}class X0{constructor(){return Fk()}}const yp=new O("angularfire2._apps"),WEe={provide:Ys,useFactory:function GEe(t){return t&&1===t.length?t[0]:new Ys(ya())},deps:[[new I2,yp]]},KEe={provide:X0,deps:[[new I2,yp]]};function YEe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ys(r)}}let QEe=(()=>{class t{constructor(n){We("angularfire",wa.full,"core"),We("angularfire",wa.full,"app"),We("angular",lV.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(J(j1))},t.\u0275mod=mt({type:t}),t.\u0275inj=it({providers:[WEe,KEe]}),t})();function Qs(t,...e){return{ngModule:QEe,providers:[{provide:yp,useFactory:YEe(t),multi:!0,deps:[Te,r2,Q0,...e]}]}}const Xs=Tt(ya,!0),Js=Tt(Ok,!0),_p=new Map,eR={activated:!1,tokenObservers:[]},XEe={initialized:!1,enabled:!1};function Ze(t){return _p.get(t)||Object.assign({},eR)}function J0(){return XEe}const Cp="https://content-firebaseappcheck.googleapis.com/v1",tIe="exchangeDebugToken",tR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rIe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new $s,yield function iIe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new $s,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Kt=new Q1("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Z0(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function Mp(t){if(!Ze(t).activated)throw Kt.create("use-before-activation",{appName:t.name})}function wp(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let a="";return n&&(a+=e8(n)+"d:"),r&&(a+=e8(r)+"h:"),a+=e8(i)+"m:"+e8(s)+"s",a}function e8(t){return 0===t?"00":t>=10?t.toString():"0"+t}function t8(t,e){return bp.apply(this,arguments)}function bp(){return(bp=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let a,o;try{a=yield fetch(t,s)}catch(f){throw Kt.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==a.status)throw Kt.create("fetch-status-error",{httpStatus:a.status});try{o=yield a.json()}catch(f){throw Kt.create("fetch-parse-error",{originalErrorMessage:f?.message})}const c=o.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${o.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:o.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function nR(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Cp}/projects/${n}/apps/${r}:${tIe}?key=${i}`,body:{debug_token:e}}}const cIe="firebase-app-check-database",lIe=1,ba="firebase-app-check-store",rR="debug-token";let n8=null;function iR(){return n8||(n8=new Promise((t,e)=>{try{const n=indexedDB.open(cIe,lIe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Kt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ba,{keyPath:"compositeKey"})}}catch(n){e(Kt.create("storage-open",{originalErrorMessage:n?.message}))}}),n8)}function sR(t,e){return Vp.apply(this,arguments)}function Vp(){return(Vp=m(function*(t,e){const r=(yield iR()).transaction(ba,"readwrite"),s=r.objectStore(ba).put({compositeKey:t,value:e});return new Promise((a,o)=>{s.onsuccess=c=>{a()},r.onerror=c=>{var l;o(Kt.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}function aR(t){return Hp.apply(this,arguments)}function Hp(){return(Hp=m(function*(t){const n=(yield iR()).transaction(ba,"readonly"),i=n.objectStore(ba).get(t);return new Promise((s,a)=>{i.onsuccess=o=>{const c=o.target.result;s(c?c.value:void 0)},n.onerror=o=>{var c;a(Kt.create("storage-get",{originalErrorMessage:null===(c=o.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}function oR(t){return`${t.options.appId}-${t.name}`}const Va=new qs("@firebase/app-check");function zp(){return(zp=m(function*(t){if(or()){let e;try{e=yield function uIe(t){return aR(oR(t))}(t)}catch(n){Va.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function Sp(t,e){return or()?function fIe(t,e){return sR(oR(t),e)}(t,e).catch(n=>{Va.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function xp(){return(xp=m(function*(){let t;try{t=yield function hIe(){return aR(rR)}()}catch{}if(t)return t;{const e=wHe();return function dIe(t){return sR(rR,t)}(e).catch(n=>Va.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function Ep(){return J0().enabled}function Ip(){return Lp.apply(this,arguments)}function Lp(){return(Lp=m(function*(){const t=J0();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vIe={error:"UNKNOWN_ERROR"};function yIe(t){return rd.encodeString(JSON.stringify(t),!1)}function r8(t){return Dp.apply(this,arguments)}function Dp(){return(Dp=m(function*(t,e=!1){const n=t.app;Mp(n);const r=Ze(n);let s,i=r.token;if(i&&!Zs(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Zs(c)?i=c:yield Sp(n,void 0))}if(!e&&i&&Zs(i))return{token:i.token};let o,a=!1;if(Ep()){r.exchangeTokenPromise||(r.exchangeTokenPromise=t8(nR(n,yield Ip()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);const c=yield r.exchangeTokenPromise;return yield Sp(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),i=yield Ze(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Va.warn(c.message):Va.error(c),s=c}return i?s?o=Zs(i)?{token:i.token,internalError:s}:fR(s):(o={token:i.token},r.token=i,yield Sp(n,i)):o=fR(s),a&&uR(n,o),o})).apply(this,arguments)}function cR(t){return Ap.apply(this,arguments)}function Ap(){return(Ap=m(function*(t){const e=t.app;Mp(e);const{provider:n}=Ze(e);if(Ep()){const r=yield Ip(),{token:i}=yield t8(nR(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Tp(t,e,n,r){const{app:i}=t,s=Ze(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Zs(s.token)){const o=s.token;Promise.resolve().then(()=>{n({token:o.token}),lR(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>lR(t))}function Np(t,e){const n=Ze(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function lR(t){const{app:e}=t,n=Ze(e);let r=n.tokenRefresher;r||(r=function _Ie(t){const{app:e}=t;return new rIe(m(function*(){let r;if(r=Ze(e).token?yield r8(t,!0):yield r8(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ze(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},tR.RETRIAL_MIN_WAIT,tR.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function uR(t,e){const n=Ze(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Zs(t){return t.expireTimeMillis-Date.now()>0}function fR(t){return{token:yIe(vIe),error:t}}class CIe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ze(this.app);for(const n of e)Np(this.app,n.next);return Promise.resolve()}}function SIe(t,e){const n=new $s;Ze(t).reCAPTCHAState={initialized:n};const i=function dR(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=Z0(!1);return s?i8(t,e,s,i,n):function IIe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const a=Z0(!1);if(!a)throw new Error("no recaptcha");i8(t,e,a,i,n)}),n.promise}function i8(t,e,n,r,i){n.ready(()=>{(function EIe(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Ze(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Ze(t).reCAPTCHAState.succeeded=!1}}),s=Ze(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function hR(t){return kp.apply(this,arguments)}function kp(){return(kp=m(function*(t){Mp(t);const n=yield Ze(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Ze(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class fr{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function vR(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Kt.create("throttled",{time:wp(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield hR(e._app).catch(o=>{throw Kt.create("recaptcha-error")});if(null===(n=Ze(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw Kt.create("recaptcha-error");let a;try{a=yield t8(function aIe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Cp}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(o){throw null!==(r=o.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function gR(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=F0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=o.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),Kt.create("throttled",{time:wp(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):o}return e._throttleData=null,a})()}initialize(e){this._app=e,this._heartbeatServiceProvider=lr(e,"heartbeat"),SIe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof fr&&this._siteKey===e._siteKey}}function DIe(t=ya(),e){const n=lr(t=lt(t),"app-check");if(J0().initialized||function gIe(){const t=zk(),e=J0();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new $s;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function mIe(){return xp.apply(this,arguments)}())}(),Ep()&&Ip().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Kt.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function AIe(t,e,n){const r=function JEe(t,e){return _p.set(t,e),_p.get(t)}(t,Object.assign({},eR));r.activated=!0,r.provider=e,r.cachedTokenPromise=function pIe(t){return zp.apply(this,arguments)}(t).then(i=>(i&&Zs(i)&&(r.token=i,uR(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),Ze(t).isTokenAutoRefreshEnabled&&Tp(r,"INTERNAL",()=>{}),r}const yR="app-check-internal";!function NIe(){M2(new a2("app-check",t=>function MIe(t,e){return new CIe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(yR).initialize()})),M2(new a2(yR,t=>function wIe(t){return{getToken:e=>r8(t,e),getLimitedUseToken:()=>cR(t),addTokenListener:e=>Tp(t,"INTERNAL",e),removeTokenListener:e=>Np(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),We("@firebase/app-check","0.8.0")}();const _R="app-check";class Rp{constructor(e){return e}}class Op{constructor(){return vp(_R)}}const Fp=new O("angularfire2.app-check-instances"),PIe=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function RIe(t){return(e,n,r)=>{var i;!Yf(r)&&PIe&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new Rp(s)}}const OIe={provide:Op,deps:[[new I2,Fp]]},FIe={provide:Rp,useFactory:function kIe(t,e){const n=gp(_R,t,e);return n&&new Rp(n)},deps:[[new I2,Fp],Ys,j1]};let BIe=(()=>{class t{constructor(){We("angularfire",wa.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({providers:[FIe,OIe]}),t})();function e4(t,...e){return{ngModule:BIe,providers:[{provide:Fp,useFactory:RIe(t),multi:!0,deps:[Te,r2,j1,Q0,X0,...e]}]}}const t4=Tt(DIe,!0);const UIe=function CR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},MR=new Q1("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),s8=new qs("@firebase/auth");function a8(t,...e){s8.logLevel<=ge.ERROR&&s8.error(`Auth (${fi}): ${t}`,...e)}function P2(t,...e){throw Bp(t,...e)}function K2(t,...e){return Bp(t,...e)}function wR(t,e,n){const r=Object.assign(Object.assign({},UIe()),{[e]:n});return new Q1("auth","Firebase",r).create(e,{appName:t.name})}function Bp(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MR.create(t,...e)}function E(t,e,...n){if(!t)throw Bp(e,...n)}function Z1(t){const e="INTERNAL ASSERTION FAILED: "+t;throw a8(e),new Error(e)}function In(t,e){t||Z1(e)}function Ha(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function bR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class za{constructor(e,n){this.shortDelay=e,this.longDelay=n,In(n>e,"Short delay should be less than long delay!"),this.isMobile=function fHe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}()||function hHe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function $Ie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Up(){return"http:"===bR()||"https:"===bR()}()||id()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jp(t,e){In(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class VR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Z1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Z1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Z1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GIe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},WIe=new za(3e4,6e4);function Ke(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function et(t,e,n,r){return $p.apply(this,arguments)}function $p(){return($p=m(function*(t,e,n,r,i={}){return HR(t,i,m(function*(){let s={},a={};r&&("GET"===e?a=r:s={body:JSON.stringify(r)});const o=ma(Object.assign({key:t.config.apiKey},a)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),VR.fetch()(zR(t,t.config.apiHost,n,o),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function HR(t,e,n){return qp.apply(this,arguments)}function qp(){return(qp=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GIe),e);try{const i=new KIe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=yield s.json();if("needConfirmation"in a)throw Sa(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,l]=o.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Sa(t,"credential-already-in-use",a);if("EMAIL_EXISTS"===c)throw Sa(t,"email-already-in-use",a);if("USER_DISABLED"===c)throw Sa(t,"user-disabled",a);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw wR(t,u,l);P2(t,u)}}catch(i){if(i instanceof a1)throw i;P2(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ln(t,e,n,r){return Gp.apply(this,arguments)}function Gp(){return(Gp=m(function*(t,e,n,r,i={}){const s=yield et(t,e,n,r,i);return"mfaPendingCredential"in s&&P2(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function zR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jp(t.config,i):`${t.config.apiScheme}://${i}`}class KIe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(K2(this.auth,"network-request-failed")),WIe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=K2(t,e,r);return i.customData._tokenResponse=n,i}function Wp(){return(Wp=m(function*(t,e){return et(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Yp(){return(Yp=m(function*(t,e){return et(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qp(){return(Qp=m(function*(t,e=!1){const n=lt(t),r=yield n.getIdToken(e),i=o8(r);E(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:xa(Xp(i.auth_time)),issuedAtTime:xa(Xp(i.iat)),expirationTime:xa(Xp(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Xp(t){return 1e3*Number(t)}function o8(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return a8("JWT malformed, contained fewer than 3 sections"),null;try{const i=k0(n);return i?JSON.parse(i):(a8("Failed to decode base64 JWT payload"),null)}catch(i){return a8("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Dn(t,e){return Jp.apply(this,arguments)}function Jp(){return(Jp=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof a1&&function eLe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class tLe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class SR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ea(t){return Zp.apply(this,arguments)}function Zp(){return Zp=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Dn(t,function XIe(t,e){return Yp.apply(this,arguments)}(n,{idToken:r}));E(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function iLe(t){return t.map(e=>{var{providerId:n}=e,r=vc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],o=function rLe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,a),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||o?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new SR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}),Zp.apply(this,arguments)}function em(){return(em=m(function*(t){const e=lt(t);yield Ea(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tm(){return(tm=m(function*(t,e){const n=yield HR(t,{},m(function*(){const r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=zR(t,i,"/v1/token",`key=${s}`),o=yield t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",VR.fetch()(a,{method:"POST",headers:o,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){E(e.idToken,"internal-error"),E(typeof e.idToken<"u","internal-error"),E(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ZIe(t){const e=o8(t);return E(e,"internal-error"),E(typeof e.exp<"u","internal-error"),E(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return E(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:a}=yield function sLe(t,e){return tm.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(a))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ia;return r&&(E("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(E("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),s&&(E("number"==typeof s,"internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return Z1("not implemented")}}function dr(t,e){E("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tLe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new SR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Dn(n,n.stsTokenManager.getToken(n.auth,e));return E(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function JIe(t){return Qp.apply(this,arguments)}(this,e)}reload(){return function nLe(t){return em.apply(this,arguments)}(this)}_assign(e){this!==e&&(E(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){E(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ea(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Dn(e,function YIe(t,e){return Wp.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,c,l,u;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,g=null!==(o=n.tenantId)&&void 0!==o?o:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,_=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:S,isAnonymous:I,providerData:q,stsTokenManager:oe}=n;E(w&&oe,e,"internal-error");const pt=Ia.fromJSON(this.name,oe);E("string"==typeof w,e,"internal-error"),dr(f,e.name),dr(d,e.name),E("boolean"==typeof S,e,"internal-error"),E("boolean"==typeof I,e,"internal-error"),dr(h,e.name),dr(p,e.name),dr(g,e.name),dr(v,e.name),dr(_,e.name),dr(y,e.name);const Ct=new yi({uid:w,auth:e,email:d,emailVerified:S,displayName:f,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:pt,createdAt:_,lastLoginAt:y});return q&&Array.isArray(q)&&(Ct.providerData=q.map(lc=>Object.assign({},lc))),v&&(Ct._redirectEventId=v),Ct}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Ia;i.updateFromServerResponse(n);const s=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ea(s),s})()}}const xR=new Map;function An(t){In(t instanceof Function,"Expected a class definition");let e=xR.get(t);return e?(In(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xR.set(t,e),e)}const ER=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function c8(t,e,n){return`firebase:${t}:${e}:${n}`}class r4{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=c8(this.userKey,i.apiKey,s),this.fullPersistenceKey=c8("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?yi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new r4(An(ER),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||An(ER);const a=c8(r,e.config.apiKey,e.name);let o=null;for(const l of n)try{const u=yield l._get(a);if(u){const f=yi._fromJSON(e,u);l!==s&&(o=f),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],o&&(yield s._set(a,o.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(a)}catch{}});return function(u){return l.apply(this,arguments)}}())),new r4(s,e,r)):new r4(s,e,r)})()}}function IR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NR(e))return"Blackberry";if(kR(e))return"Webos";if(nm(e))return"Safari";if((e.includes("chrome/")||DR(e))&&!e.includes("edge/"))return"Chrome";if(TR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function LR(t=Dt()){return/firefox\//i.test(t)}function nm(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DR(t=Dt()){return/crios\//i.test(t)}function AR(t=Dt()){return/iemobile/i.test(t)}function TR(t=Dt()){return/android/i.test(t)}function NR(t=Dt()){return/blackberry/i.test(t)}function kR(t=Dt()){return/webos/i.test(t)}function l8(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PR(t=Dt()){return l8(t)||TR(t)||kR(t)||NR(t)||/windows phone/i.test(t)||AR(t)}function RR(t,e=[]){let n;switch(t){case"Browser":n=IR(Dt());break;case"Worker":n=`${IR(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fi}/${r}`}function OR(t,e){return im.apply(this,arguments)}function im(){return(im=m(function*(t,e){return et(t,"GET","/v2/recaptchaConfig",Ke(t,e))})).apply(this,arguments)}function BR(t){return void 0!==t&&void 0!==t.enterprise}class UR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function sm(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=K2("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function uLe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function jR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class $R{constructor(e){this.type="recaptcha-enterprise",this.auth=Nt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(o){if(!n){if(null==o.tenantId&&null!=o._agentRecaptchaConfig)return o._agentRecaptchaConfig.siteKey;if(null!=o.tenantId&&void 0!==o._tenantRecaptchaConfigs[o.tenantId])return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){OR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new UR(f);return null==o.tenantId?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function a(o,c,l){const u=window.grecaptcha;BR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,c)=>{(function i(o){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&BR(window.grecaptcha))a(l,o,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));sm("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{a(l,o,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function hr(t,e,n){return am.apply(this,arguments)}function am(){return(am=m(function*(t,e,n,r=!1){const i=new $R(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const a=Object.assign({},e);return Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})).apply(this,arguments)}class pLe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{a(e(s))}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class mLe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qR(this),this.idTokenSubscription=new qR(this),this.beforeStateQueue=new pLe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield r4.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const o=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(s=l.user,a=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{yield n.beforeStateQueue.runMiddleware(s)}catch(o){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(o))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return E(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Ea(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function qIe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?lt(e):null;return r&&E(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&E(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(An(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield OR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new UR(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new $R(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Q1("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&An(e)||n._popupRedirectResolver;E(r,n,"argument-error"),n.redirectPersistenceManager=yield r4.create(n,[An(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return E(a,this,"internal-error"),a.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return E(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function jIe(t,...e){s8.logLevel<=ge.WARN&&s8.warn(`Auth (${fi}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Nt(t){return lt(t)}class qR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function _He(t,e){const n=new CHe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return E(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function GR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class om{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Z1("not implemented")}_getIdTokenResponse(e){return Z1("not implemented")}_linkToIdToken(e,n){return Z1("not implemented")}_getReauthenticationResolver(e){return Z1("not implemented")}}function YR(t,e){return lm.apply(this,arguments)}function lm(){return(lm=m(function*(t,e){return et(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function fm(t,e){return dm.apply(this,arguments)}function dm(){return(dm=m(function*(t,e){return Ln(t,"POST","/v1/accounts:signInWithPassword",Ke(t,e))})).apply(this,arguments)}function Cm(){return(Cm=m(function*(t,e){return Ln(t,"POST","/v1/accounts:signInWithEmailLink",Ke(t,e))})).apply(this,arguments)}function Mm(){return(Mm=m(function*(t,e){return Ln(t,"POST","/v1/accounts:signInWithEmailLink",Ke(t,e))})).apply(this,arguments)}class La extends om{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new La(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new La(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield hr(e,i,"signInWithPassword");return fm(e,s)}return fm(e,i).catch(function(){var s=m(function*(a){if("auth/missing-recaptcha-token"===a.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=yield hr(e,i,"signInWithPassword");return fm(e,o)}return Promise.reject(a)});return function(a){return s.apply(this,arguments)}}());case"emailLink":return function VLe(t,e){return Cm.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:P2(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return YR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function HLe(t,e){return Mm.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:P2(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Tn(t,e){return wm.apply(this,arguments)}function wm(){return(wm=m(function*(t,e){return Ln(t,"POST","/v1/accounts:signInWithIdp",Ke(t,e))})).apply(this,arguments)}class i4 extends om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new i4(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):P2("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vc(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new i4(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return Tn(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tn(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tn(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ma(n)}return e}}class Aa{constructor(e){var n,r,i,s,a,o;const c=ga(va(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,f=function DLe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);E(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=c.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=c.tenantId)&&void 0!==o?o:null}static parseLink(e){const n=function ALe(t){const e=ga(va(t)).link,n=e?ga(va(e)).deep_link_id:null,r=ga(va(t)).deep_link_id;return(r?ga(va(r)).link:null)||r||n||e||t}(e);try{return new Aa(n)}catch{return null}}}let QR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return La._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Aa.parseLink(r);return E(i,"argument-error"),La._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class pr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class XR extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let TLe=(()=>{class t extends XR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return i4._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class o1{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield yi._fromIdTokenResponse(e,r,i),a=JR(r);return new o1({user:s,providerId:a,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=JR(r);return new o1({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function JR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class h8 extends a1{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,h8.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new h8(e,n,r,i)}}function ZR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?h8._fromErrorAndOperation(t,s,e,r):s})}function Dm(){return(Dm=m(function*(t,e,n=!1){const r=yield Dn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return o1._forOperation(t,"link",r)})).apply(this,arguments)}function Tm(){return(Tm=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Dn(t,ZR(r,i,e,t),n);E(s.idToken,r,"internal-error");const a=o8(s.idToken);E(a,r,"internal-error");const{sub:o}=a;return E(t.uid===o,r,"user-mismatch"),o1._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&P2(r,"user-mismatch"),s}})).apply(this,arguments)}function nO(t,e){return Nm.apply(this,arguments)}function Nm(){return(Nm=m(function*(t,e,n=!1){const r="signIn",i=yield ZR(t,r,e),s=yield o1._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Pm(){return(Pm=m(function*(t,e){return nO(Nt(t),e)})).apply(this,arguments)}function BLe(t,e,n){return function km(t,e){return Pm.apply(this,arguments)}(lt(t),QR.credential(e,n))}const m8="__sak";class iO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(m8,"1"),this.storage.removeItem(m8),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sDe=(()=>{class t extends iO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nDe(){const t=Dt();return nm(t)||l8(t)}()&&function cLe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=PR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(n.newValue!==o)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const o=this.storage.getItem(i);!r&&this.localCache[i]===o||this.notifyListeners(i,o)},a=this.storage.getItem(i);!function oLe(){return function pHe(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||a===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),sO=(()=>{class t extends iO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let oDe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:a,data:o}=i.data,c=r.handlersMap[a];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(c).map(function(){var f=m(function*(d){return d(i.origin,o)});return function(d){return f.apply(this,arguments)}}()),u=yield function aDe(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function g8(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class cDe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((c,l)=>{const u=g8("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(h.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"))}}},i.handlers.add(o),s.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function vt(){return window}function fg(){return typeof vt().WorkerGlobalScope<"u"&&"function"==typeof vt().importScripts}function dg(){return(dg=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const aO="firebaseLocalStorageDb",v8="firebaseLocalStorage",oO="fbase_key";class Na{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function y8(t,e){return t.transaction([v8],e?"readwrite":"readonly").objectStore(v8)}function hg(){const t=indexedDB.open(aO,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(v8,{keyPath:oO})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(v8)?e(r):(r.close(),yield function pDe(){const t=indexedDB.deleteDatabase(aO);return new Na(t).toPromise()}(),e(yield hg()))}))})}function cO(t,e,n){return pg.apply(this,arguments)}function pg(){return(pg=m(function*(t,e,n){const r=y8(t,!0).put({[oO]:e,value:n});return new Na(r).toPromise()})).apply(this,arguments)}function mg(){return(mg=m(function*(t,e){const n=y8(t,!1).get(e),r=yield new Na(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function lO(t,e){const n=y8(t,!0).delete(e);return new Na(n).toPromise()}const yDe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield hg()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return fg()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=oDe._getInstance(function dDe(){return fg()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function uDe(){return dg.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new cDe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function fDe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield hg();return yield cO(n,m8,"1"),yield lO(n,m8),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>cO(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function mDe(t,e){return mg.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>lO(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(a=>{const o=y8(a,!1).getAll();return new Na(o).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:a,value:o}of r)s.add(a),JSON.stringify(n.localCache[a])!==JSON.stringify(o)&&(n.notifyListeners(a,o),i.push(a));for(const a of Object.keys(n.localCache))n.localCache[a]&&!s.has(a)&&(n.notifyListeners(a,null),i.push(a));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Ci(t,e){return e?An(e):(E(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}jR("rcb"),new za(3e4,6e4);class Vg extends om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tn(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tn(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tn(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TDe(t){return nO(t.auth,new Vg(t),t.bypassAuthState)}function NDe(t){const{auth:e,user:n}=t;return E(n,e,"internal-error"),function tO(t,e){return Tm.apply(this,arguments)}(n,new Vg(t),t.bypassAuthState)}function kDe(t){return Hg.apply(this,arguments)}function Hg(){return(Hg=m(function*(t){const{auth:e,user:n}=t;return E(n,e,"internal-error"),function Lm(t,e){return Dm.apply(this,arguments)}(n,new Vg(t),t.bypassAuthState)})).apply(this,arguments)}class fO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:a,error:o,type:c}=e;if(o)return void n.reject(o);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TDe;case"linkViaPopup":case"linkViaRedirect":return kDe;case"reauthViaPopup":case"reauthViaRedirect":return NDe;default:P2(this.auth,"internal-error")}}resolve(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PDe=new za(2e3,1e4);function RDe(t,e,n){return zg.apply(this,arguments)}function zg(){return(zg=m(function*(t,e,n){const r=Nt(t);!function n4(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&P2(t,"argument-error"),wR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,pr);const i=Ci(r,n);return new Eg(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let Eg=(()=>{class t extends fO{constructor(n,r,i,s,a){super(n,r,s,a),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return E(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){In(1===n.filter.length,"Popup operations only handle one event");const r=g8();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(K2(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(K2(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(K2(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,PDe.get())};n()}}return t.currentPopupAction=null,t})();const ODe="pendingRedirect",ka=new Map;class FDe extends fO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=ka.get(n.auth._key());if(!r){try{const s=(yield function BDe(t,e){return Ig.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ka.set(n.auth._key(),r)}return n.bypassAuthState||ka.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function Ig(){return(Ig=m(function*(t,e){const n=function hO(t){return c8(ODe,t.config.apiKey,t.name)}(e),r=function dO(t){return An(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function UDe(t,e){ka.set(t._key(),e)}function pO(t,e){return Pg.apply(this,arguments)}function Pg(){return(Pg=m(function*(t,e,n=!1){const r=Nt(t),i=Ci(r,e),a=yield new FDe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})).apply(this,arguments)}class WDe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function KDe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vO(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(K2(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gO(e))}saveEventToCache(e){this.cachedEventUids.add(gO(e)),this.lastProcessedEventTime=Date.now()}}function gO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vO({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Og(){return(Og=m(function*(t,e={}){return et(t,"GET","/v1/projects",e)})).apply(this,arguments)}const QDe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XDe=/^https?/;function Fg(){return Fg=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function YDe(t){return Og.apply(this,arguments)}(t);for(const n of e)try{if(ZDe(n))return}catch{}P2(t,"unauthorized-domain")}),Fg.apply(this,arguments)}function ZDe(t){const e=Ha(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return""===a.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!XDe.test(n))return!1;if(QDe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const eAe=new za(3e4,6e4);function yO(){const t=vt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let C8=null;const rAe=new za(5e3,15e3),iAe="__/auth/iframe",sAe="emulator/auth/iframe",aAe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oAe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cAe(t){const e=t.config;E(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jp(e,sAe):`https://${t.config.authDomain}/${iAe}`,r={apiKey:e.apiKey,appName:t.name,v:fi},i=oAe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ma(r).slice(1)}`}function Bg(){return Bg=m(function*(t){const e=yield function nAe(t){return C8=C8||function tAe(t){return new Promise((e,n)=>{var r,i,s;function a(){yO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yO(),n(K2(t,"network-request-failed"))},timeout:eAe.get()})}if(null!==(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=vt().gapi)||void 0===s||!s.load){const o=jR("iframefcb");return vt()[o]=()=>{gapi.load?a():n(K2(t,"network-request-failed"))},sm(`https://apis.google.com/js/api.js?onload=${o}`).catch(c=>n(c))}a()}}).catch(e=>{throw C8=null,e})}(t),C8}(t),n=vt().gapi;return E(n,t,"internal-error"),e.open({where:document.body,url:cAe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aAe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,a){yield r.restyle({setHideOnLeave:!1});const o=K2(t,"network-request-failed"),c=vt().setTimeout(()=>{a(o)},rAe.get());function l(){vt().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{a(o)})});return function(s,a){return i.apply(this,arguments)}}()))}),Bg.apply(this,arguments)}const uAe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _O{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vAe="__/auth/handler",yAe="emulator/auth/handler",_Ae=encodeURIComponent("fac");function CO(t,e,n,r,i,s){return Ug.apply(this,arguments)}function Ug(){return(Ug=m(function*(t,e,n,r,i,s){E(t.config.authDomain,t,"auth-domain-config-required"),E(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fi,eventId:i};if(e instanceof pr){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function yHe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof XR){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const c=yield t._getAppCheckToken(),l=c?`#${_Ae}=${encodeURIComponent(c)}`:"";return`${function CAe({config:t}){return t.emulator?jp(t,yAe):`https://${t.authDomain}/${vAe}`}(t)}?${ma(o).slice(1)}${l}`})).apply(this,arguments)}const jg="webStorageSupport",wAe=class MAe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sO,this._completeRedirectFn=pO,this._overrideRedirectResult=UDe}_openPopup(e,n,r,i){var s=this;return m(function*(){var a;In(null===(a=s.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const o=yield CO(e,n,r,Ha(),i);return function mAe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c=Object.assign(Object.assign({},uAe),{width:r.toString(),height:i.toString(),top:s,left:a}),l=Dt().toLowerCase();n&&(o=DR(l)?"_blank":n),LR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function aLe(t=Dt()){var e;return l8(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==o)return function gAe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",o),new _O(null);const f=window.open(e||"",o,u);E(f,t,"popup-blocked");try{f.focus()}catch{}return new _O(f)}(e,o,g8())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function lDe(t){vt().location.href=t}(yield CO(e,n,r,Ha(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(In(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function lAe(t){return Bg.apply(this,arguments)}(e),i=new WDe(e);return r.register("authEvent",s=>(E(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jg,{type:jg},i=>{var s;const a=null===(s=i?.[0])||void 0===s?void 0:s[jg];void 0!==a&&n(!!a),P2(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function JDe(t){return Fg.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PR()||nm()||l8()}};var bO="@firebase/auth";class bAe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){E(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const SAe=Ek("authIdTokenMaxAge")||300;let HO=null;const xAe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>SAe)return;const s=r?.token;HO!==s&&(HO=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function EAe(t=ya()){const e=lr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function gLe(t,e){const n=lr(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(O0(n.getOptions(),e??{}))return i;P2(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:wAe,persistence:[yDe,sDe,sO]}),r=Ek("authTokenSyncURL");if(r){const s=xAe(r);(function QLe(t,e,n){lt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function YLe(t,e,n,r){lt(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}const i=Sk("auth");return i&&function yLe(t,e,n){const r=Nt(t);E(r._canInitEmulator,r,"emulator-config-failed"),E(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=GR(e),{host:a,port:o}=function _Le(t){const e=GR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:WR(r.substr(s.length+1))}}{const[s,a]=r.split(":");return{host:s,port:WR(a)}}}(e);r.config.emulator={url:`${s}//${a}${null===o?"":`:${o}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function CLe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function IAe(t){return new $e(function(e){var n=function XLe(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function HAe(t){M2(new a2("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;E(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RR(t)},l=new mLe(r,i,s,c);return function vLe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(An);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),M2(new a2("auth-internal",e=>{const n=Nt(e.getProvider("auth").getImmediate());return new bAe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(bO,"0.23.2",function VAe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),We(bO,"0.23.2","esm2017")}("Browser");class w8{constructor(e){return e}}class SO{constructor(){return vp("auth")}}const qg=new O("angularfire2.auth-instances");function AAe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new w8(r)}}const TAe={provide:SO,deps:[[new I2,qg]]},NAe={provide:w8,useFactory:function DAe(t,e){const n=gp("auth",t,e);return n&&new w8(n)},deps:[[new I2,qg],Ys]};let kAe=(()=>{class t{constructor(){We("angularfire",wa.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({providers:[NAe,TAe]}),t})();function a4(t,...e){return{ngModule:kAe,providers:[{provide:qg,useFactory:AAe(t),multi:!0,deps:[Te,r2,Q0,X0,[new I2,Op],...e]}]}}const PAe=Tt(IAe,!0),o4=Tt(EAe,!0),RAe=Tt(BLe,!0),OAe=Tt(RDe,!0);var T,FAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},b1={},Gg=Gg||{},ne=FAe||self;function b8(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Pa(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Wg="closure_uid_"+(1e9*Math.random()>>>0),UAe=0;function jAe(t,e,n){return t.call.apply(t.bind,arguments)}function $Ae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function o2(t,e,n){return(o2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jAe:$Ae).apply(null,arguments)}function V8(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return e.prototype[i].apply(r,a)}}function mr(){this.s=this.s,this.o=this.o}mr.prototype.s=!1,mr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function BAe(t){Object.prototype.hasOwnProperty.call(t,Wg)&&t[Wg]||(t[Wg]=++UAe)}(this)},mr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Kg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function EO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(b8(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function c2(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}c2.prototype.h=function(){this.defaultPrevented=!0};var GAe=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function Ra(t){return/^[\s\xa0]*$/.test(t)}function H8(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function en(t){return-1!=H8().indexOf(t)}function Yg(t){return Yg[" "](t),t}Yg[" "]=function(){};var Xg,t,KAe=en("Opera"),c4=en("Trident")||en("MSIE"),IO=en("Edge"),Qg=IO||c4,LO=en("Gecko")&&!(-1!=H8().toLowerCase().indexOf("webkit")&&!en("Edge"))&&!(en("Trident")||en("MSIE"))&&!en("Edge"),YAe=-1!=H8().toLowerCase().indexOf("webkit")&&!en("Edge");function DO(){var t=ne.document;return t?t.documentMode:void 0}e:{var Jg="",Zg=(t=H8(),LO?/rv:([^\);]+)(\)|;)/.exec(t):IO?/Edge\/([\d\.]+)/.exec(t):c4?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):YAe?/WebKit\/(\S+)/.exec(t):KAe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Zg&&(Jg=Zg?Zg[1]:""),c4){var ev=DO();if(null!=ev&&ev>parseFloat(Jg)){Xg=String(ev);break e}}Xg=Jg}var QAe=ne.document&&c4&&(DO()||parseInt(Xg,10))||void 0;function Oa(t,e){if(c2.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(LO){e:{try{Yg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:XAe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Oa.$.h.call(this)}}kt(Oa,c2);var XAe={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fa="closure_listenable_"+(1e6*Math.random()|0),JAe=0;function ZAe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++JAe,this.fa=this.ia=!1}function z8(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function TO(t){const e={};for(const n in t)e[n]=t[n];return e}const NO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<NO.length;s++)n=NO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function S8(t){this.src=t,this.g={},this.h=0}function rv(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=xO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(z8(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function iv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}S8.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var a=iv(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new ZAe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var sv="closure_lm_"+(1e6*Math.random()|0),av={};function PO(t,e,n,r,i){if(r&&r.once)return OO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)PO(t,e[s],n,r,i);return null}return n=uv(n),t&&t[Fa]?t.O(e,n,Pa(r)?!!r.capture:!!r,i):RO(t,e,n,!1,r,i)}function RO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=Pa(i)?!!i.capture:!!i,o=cv(t);if(o||(t[sv]=o=new S8(t)),(n=o.add(e,n,r,a,s)).proxy)return n;if(r=function tTe(){const e=nTe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)GAe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function OO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)OO(t,e[s],n,r,i);return null}return n=uv(n),t&&t[Fa]?t.P(e,n,Pa(r)?!!r.capture:!!r,i):RO(t,e,n,!0,r,i)}function FO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)FO(t,e[s],n,r,i);else r=Pa(r)?!!r.capture:!!r,n=uv(n),t&&t[Fa]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=iv(s=t.g[e],n,r,i))&&(z8(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=cv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=iv(e,n,r,i)),(n=-1<t?e[t]:null)&&ov(n))}function ov(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Fa])rv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cv(e))?(rv(n,t),0==n.h&&(n.src=null,e[sv]=null)):z8(t)}}}function BO(t){return t in av?av[t]:av[t]="on"+t}function nTe(t,e){if(t.fa)t=!0;else{e=new Oa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ov(t),t=n.call(r,e)}return t}function cv(t){return(t=t[sv])instanceof S8?t:null}var lv="__closure_events_fn_"+(1e9*Math.random()>>>0);function uv(t){return"function"==typeof t?t:(t[lv]||(t[lv]=function(e){return t.handleEvent(e)}),t[lv])}function Pt(){mr.call(this),this.i=new S8(this),this.S=this,this.J=null}function Yt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new c2(e,t);else if(e instanceof c2)e.target=e.target||t;else{var i=e;kO(e=new c2(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=x8(a,r,!0,e)&&i}if(i=x8(a=e.g=t,r,!0,e)&&i,i=x8(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=x8(a=e.g=n[s],r,!1,e)&&i}function x8(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,c=a.la||a.src;a.ia&&rv(t.i,a),i=!1!==o.call(c,r)&&i}}return i&&!r.defaultPrevented}kt(Pt,mr),Pt.prototype[Fa]=!0,Pt.prototype.removeEventListener=function(t,e,n,r){FO(this,t,e,n,r)},Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z8(n[r]);delete t.g[e],t.h--}}this.J=null},Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var fv=ne.JSON.stringify;function iTe(){var t=dv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var UO=new class rTe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new aTe,t=>t.reset());class aTe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oTe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function cTe(t){ne.setTimeout(()=>{throw t},0)}let Ba,Ua=!1,dv=new class sTe{constructor(){this.h=this.g=null}add(e,n){const r=UO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},jO=()=>{const t=ne.Promise.resolve(void 0);Ba=()=>{t.then(lTe)}};var lTe=()=>{for(var t;t=iTe();){try{t.h.call(t.g)}catch(n){cTe(n)}var e=UO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ua=!1};function E8(t,e){Pt.call(this),this.h=t||1,this.g=e||ne,this.j=o2(this.qb,this),this.l=Date.now()}function hv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function pv(t,e,n){if("function"==typeof t)n&&(t=o2(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=o2(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function $O(t){t.g=pv(()=>{t.g=null,t.i&&(t.i=!1,$O(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}kt(E8,Pt),(T=E8.prototype).ga=!1,T.T=null,T.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(hv(this),this.start()))}},T.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},T.N=function(){E8.$.N.call(this),hv(this),delete this.g};class uTe extends mr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$O(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(t){mr.call(this),this.h=t,this.g={}}kt(ja,mr);var qO=[];function GO(t,e,n,r){Array.isArray(n)||(n&&(qO[0]=n.toString()),n=qO);for(var i=0;i<n.length;i++){var s=PO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function WO(t){nv(t.g,function(e,n){this.g.hasOwnProperty(n)&&ov(e)},t),t.g={}}function I8(){this.g=!0}function l4(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pTe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return fv(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ja.prototype.N=function(){ja.$.N.call(this),WO(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},I8.prototype.Ea=function(){this.g=!1},I8.prototype.info=function(){};var Mi={},KO=null;function L8(){return KO=KO||new Pt}function YO(t){c2.call(this,Mi.Ta,t)}function $a(t){const e=L8();Yt(e,new YO(e))}function QO(t,e){c2.call(this,Mi.STAT_EVENT,t),this.stat=e}function b2(t){const e=L8();Yt(e,new QO(e,t))}function XO(t,e){c2.call(this,Mi.Ua,t),this.size=e}function qa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}Mi.Ta="serverreachability",kt(YO,c2),Mi.STAT_EVENT="statevent",kt(QO,c2),Mi.Ua="timingevent",kt(XO,c2);var D8={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},JO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mv(){}function eF(){}mv.prototype.h=null;var yv,Ga={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gv(){c2.call(this,"d")}function vv(){c2.call(this,"c")}function A8(){}function Wa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ja(this),this.P=mTe,this.V=new E8(t=Qg?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tF}function tF(){this.i=null,this.g="",this.h=!1}kt(gv,c2),kt(vv,c2),kt(A8,mv),A8.prototype.g=function(){return new XMLHttpRequest},A8.prototype.i=function(){return{}},yv=new A8;var mTe=45e3,_v={},T8={};function Cv(t,e,n){t.L=1,t.v=R8(Nn(e)),t.s=n,t.S=!0,nF(t,null)}function nF(t,e){t.G=Date.now(),Ka(t),t.A=Nn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),dF(n.i,"t",r),t.C=0,n=t.l.J,t.h=new tF,t.g=kF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new uTe(o2(t.Pa,t,t.g),t.O)),GO(t.U,t.g,"readystatechange",t.nb),e=t.I?TO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),$a(),function fTe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",o=s.split("&"),c=0;c<o.length;c++){var l=o[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");a=2<=f.length&&"type"==f[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.W,t.s)}function rF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function iF(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=gTe(t,n),i==T8){4==e&&(t.o=4,b2(14),r=!1),l4(t.j,t.m,null,"[Incomplete Response]");break}if(i==_v){t.o=4,b2(15),l4(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}l4(t.j,t.m,i,null),Mv(t,i)}rF(t)&&i!=T8&&i!=_v&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,b2(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xv(e),e.M=!0,b2(11))):(l4(t.j,t.m,n,"[Invalid Chunked Response]"),wi(t),Ya(t))}function gTe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?T8:(n=Number(e.substring(n,r)),isNaN(n)?_v:(r+=1)+n>e.length?T8:(e=e.slice(r,r+n),t.C=r+n,e))}function Ka(t){t.Y=Date.now()+t.P,sF(t,t.P)}function sF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=qa(o2(t.lb,t),e)}function N8(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}function Ya(t){0==t.l.H||t.J||DF(t.l,t)}function wi(t){N8(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,hv(t.V),WO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Mv(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||wv(n.i,t)))if(!t.K&&wv(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;$8(n),U8(n)}Sv(n),b2(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=qa(o2(n.ib,n),6e3));if(1>=mF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vi(n,11)}else if((t.K||n.g==t)&&$8(n),!Ra(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(n.L=r=1.5*d,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(bv(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ne(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=t;if((r=n).wa=NF(r,r.J?r.pa:null,r.Y),a.K){gF(r.i,a);var o=a,c=r.L;c&&o.setTimeout(c),o.B&&(N8(o),Ka(o)),r.g=a}else IF(r);0<n.j.length&&j8(n)}else"stop"!=l[0]&&"close"!=l[0]||Vi(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Vi(n,7):zv(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}$a()}catch{}}function aF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(b8(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function yTe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(b8(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function vTe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(b8(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(T=Wa.prototype).setTimeout=function(t){this.P=t},T.nb=function(t){t=t.target;const e=this.M;e&&3==tn(t)?e.l():this.Pa(t)},T.Pa=function(t){try{if(t==this.g)e:{const u=tn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Qg||this.g&&(this.h.h||this.g.ja()||VF(this.g)))){this.J||4!=u||7==e||$a(),N8(this);var n=this.g.da();this.ca=n;t:if(rF(this)){var r=VF(this.g);t="";var i=r.length,s=4==tn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),Ya(this);var a="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function dTe(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,c=this.g;if((o=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ra(o)){var l=o;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,b2(12),wi(this),Ya(this);break e}l4(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mv(this,n)}this.S?(iF(this,u,a),Qg&&this.i&&3==u&&(GO(this.U,this.V,"tick",this.mb),this.V.start())):(l4(this.j,this.m,a,null),Mv(this,a)),4==u&&wi(this),this.i&&!this.J&&(4==u?DF(this.l,this):(this.i=!1,Ka(this)))}else(function kTe(t){const e={};t=(t.g&&2<=tn(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ra(t[r]))continue;var n=oTe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function eTe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,b2(12)):(this.o=0,b2(13)),wi(this),Ya(this)}}}catch{}},T.mb=function(){if(this.g){var t=tn(this.g),e=this.g.ja();this.C<e.length&&(N8(this),iF(this,t,e),this.i&&4!=t&&Ka(this))}},T.cancel=function(){this.J=!0,wi(this)},T.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function hTe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&($a(),b2(17)),wi(this),this.o=2,Ya(this)):sF(this,this.Y-t)};var oF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof bi){this.h=t.h,k8(this,t.j),this.s=t.s,this.g=t.g,P8(this,t.m),this.l=t.l;var e=t.i,n=new Ja;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),cF(this,n),this.o=t.o}else t&&(e=String(t).match(oF))?(this.h=!1,k8(this,e[1]||"",!0),this.s=Qa(e[2]||""),this.g=Qa(e[3]||"",!0),P8(this,e[4]),this.l=Qa(e[5]||"",!0),cF(this,e[6]||"",!0),this.o=Qa(e[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}function Nn(t){return new bi(t)}function k8(t,e,n){t.j=n?Qa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function P8(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cF(t,e,n){e instanceof Ja?(t.i=e,function HTe(t,e){e&&!t.j&&(gr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uF(this,r),dF(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Xa(e,bTe)),t.i=new Ja(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function R8(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,CTe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CTe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}bi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xa(e,lF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Xa(e,lF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xa(n,"/"==n.charAt(0)?wTe:MTe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xa(n,VTe)),t.join("")};var lF=/[#\/\?@]/g,MTe=/[#\?:]/g,wTe=/[#\?]/g,bTe=/[#\?@]/g,VTe=/#/g;function Ja(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gr(t){t.g||(t.g=new Map,t.h=0,t.i&&function _Te(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function uF(t,e){gr(t),e=u4(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fF(t,e){return gr(t),e=u4(t,e),t.g.has(e)}function dF(t,e,n){uF(t,e),0<n.length&&(t.i=null,t.g.set(u4(t,e),Kg(n)),t.h+=n.length)}function u4(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function hF(t){this.l=t||STe,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(T=Ja.prototype).add=function(t,e){gr(this),this.i=null,t=u4(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},T.forEach=function(t,e){gr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},T.ta=function(){gr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},T.Z=function(t){gr(this);let e=[];if("string"==typeof t)fF(this,t)&&(e=e.concat(this.g.get(u4(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},T.set=function(t,e){return gr(this),this.i=null,fF(this,t=u4(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},T.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},T.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var STe=10;function pF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function mF(t){return t.h?1:t.g?t.g.size:0}function wv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function bv(t,e){t.g?t.g.add(e):t.h=e}function gF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Kg(t.i)}hF.prototype.cancel=function(){if(this.i=vF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var xTe=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function ETe(){this.g=new xTe}function ITe(t,e,n){const r=n||"";try{aF(t,function(i,s){let a=i;Pa(i)&&(a=fv(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function O8(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Za(t){this.l=t.fc||null,this.j=t.ob||!1}function F8(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Vv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Za,mv),Za.prototype.g=function(){return new F8(this.l,this.j)},Za.prototype.i=function(t){return function(){return t}}({}),kt(F8,Pt);var Vv=0;function yF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function eo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,to(t)}function to(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(T=F8.prototype).open=function(t,e){if(this.readyState!=Vv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,to(this)},T.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},T.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eo(this)),this.readyState=Vv},T.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},T.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?eo(this):to(this),3==this.readyState&&yF(this)}},T.Za=function(t){this.g&&(this.response=this.responseText=t,eo(this))},T.Ya=function(t){this.g&&(this.response=t,eo(this))},T.ka=function(){this.g&&eo(this)},T.setRequestHeader=function(t,e){this.v.append(t,e)},T.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},T.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(F8.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var DTe=ne.JSON.parse;function tt(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_F,this.L=this.M=!1}kt(tt,Pt);var _F="",ATe=/^https?$/i,TTe=["POST","PUT"];function CF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MF(t),B8(t)}function MF(t){t.F||(t.F=!0,Yt(t,"complete"),Yt(t,"error"))}function wF(t){if(t.h&&typeof Gg<"u"&&(!t.C[1]||4!=tn(t)||2!=t.da()))if(t.v&&4==tn(t))pv(t.La,0,t);else if(Yt(t,"readystatechange"),4==tn(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(oF)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!ATe.test(i?i.toLowerCase():"")}n=r}if(n)Yt(t,"complete"),Yt(t,"success");else{t.m=6;try{var s=2<tn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",MF(t)}}finally{B8(t)}}}function B8(t,e){if(t.g){bF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function bF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function tn(t){return t.g?t.g.readyState:0}function VF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _F:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function HF(t){let e="";return nv(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Hv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function no(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zF(t){this.Ga=0,this.j=[],this.l=new I8,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=no("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=no("baseRetryDelayMs",5e3,t),this.hb=no("retryDelaySeedMs",1e4,t),this.eb=no("forwardChannelMaxRetries",2,t),this.xa=no("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hF(t&&t.concurrentRequestLimit),this.Ja=new ETe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zv(t){if(SF(t),3==t.H){var e=t.W++,n=Nn(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),ro(t,n),(e=new Wa(t,t.l,e)).L=2,e.v=R8(Nn(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=kF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ka(e)}TF(t)}function U8(t){t.g&&(xv(t),t.g.cancel(),t.g=null)}function SF(t){U8(t),t.u&&(ne.clearTimeout(t.u),t.u=null),$8(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function j8(t){if(!pF(t.i)&&!t.m){t.m=!0;var e=t.Na;Ba||jO(),Ua||(Ba(),Ua=!0),dv.add(e,t),t.C=0}}function xF(t,e){var n;n=e?e.m:t.W++;const r=Nn(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),ro(t,r),t.o&&t.s&&Hv(r,t.o,t.s),n=new Wa(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=EF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bv(t.i,n),Cv(n,r,e)}function ro(t,e){t.na&&nv(t.na,function(n,r){Ne(e,r,n)}),t.h&&aF({},function(n,r){Ne(e,r,n)})}function EF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?o2(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];-1==s?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let o=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),o=!1;else try{ITe(u,a,"req"+l+"_")}catch{r&&r(u)}}if(o){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function IF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ba||jO(),Ua||(Ba(),Ua=!0),dv.add(e,t),t.A=0}}function Sv(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=qa(o2(t.Ma,t),AF(t,t.A)),t.A++,0))}function xv(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function LF(t){t.g=new Wa(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Nn(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),ro(t,e),t.o&&t.s&&Hv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=R8(Nn(e)),n.s=null,n.S=!0,nF(n,t)}function $8(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function DF(t,e){var n=null;if(t.g==e){$8(t),xv(t),t.g=null;var r=2}else{if(!wv(t.i,e))return;n=e.F,gF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Yt(r=L8(),new XO(r,n)),j8(t)}else IF(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function PTe(t,e){return!(mF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=qa(o2(t.Na,t,e),AF(t,t.C)),t.C++,0)))}(t,e)||2==r&&Sv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vi(t,5);break;case 4:Vi(t,10);break;case 3:Vi(t,6);break;default:Vi(t,2)}}function AF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Vi(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=o2(t.pb,t);n||(n=new bi("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||k8(n,"https"),R8(n)),function LTe(t,e){const n=new I8;if(ne.Image){const r=new Image;r.onload=V8(O8,n,r,"TestLoadImage: loaded",!0,e),r.onerror=V8(O8,n,r,"TestLoadImage: error",!1,e),r.onabort=V8(O8,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=V8(O8,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else b2(2);t.H=0,t.h&&t.h.za(e),TF(t),SF(t)}function TF(t){if(t.H=0,t.ma=[],t.h){const e=vF(t.i);(0!=e.length||0!=t.j.length)&&(EO(t.ma,e),EO(t.ma,t.j),t.i.i.length=0,Kg(t.j),t.j.length=0),t.h.ya()}}function NF(t,e,n){var r=n instanceof bi?Nn(n):new bi(n);if(""!=r.g)e&&(r.g=e+"."+r.g),P8(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new bi(null);r&&k8(s,r),e&&(s.g=e),i&&P8(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),ro(t,r),r}function kF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(n&&t.Ha&&!t.va?new Za({ob:!0}):t.va)).Oa(t.J),e}function PF(){}function q8(){if(c4&&!(10<=Number(QAe)))throw Error("Environmental error: no available transport.")}function Y2(t,e){Pt.call(this),this.g=new zF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ra(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ra(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new f4(this)}function RF(t){gv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function OF(){vv.call(this),this.status=1}function f4(t){this.g=t}function V1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ev(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],a=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=n+((a=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(T=tt.prototype).Oa=function(t){this.M=t},T.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yv.g(),this.C=function ZO(t){return t.h||(t.h=t.i())}(this.u?this.u:yv),this.g.onreadystatechange=o2(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void CF(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ne.FormData&&t instanceof ne.FormData,!(0<=xO(TTe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bF(this),0<this.B&&((this.L=function NTe(t){return c4&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=o2(this.ua,this)):this.A=pv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){CF(this,s)}},T.ua=function(){typeof Gg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))},T.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yt(this,"complete"),Yt(this,"abort"),B8(this))},T.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B8(this,!0)),tt.$.N.call(this)},T.La=function(){this.s||(this.G||this.v||this.l?wF(this):this.kb())},T.kb=function(){wF(this)},T.isActive=function(){return!!this.g},T.da=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},T.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},T.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),DTe(e)}},T.Ia=function(){return this.m},T.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(T=zF.prototype).ra=8,T.H=1,T.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Wa(this,this.l,t);let s=this.s;if(this.U&&(s?(s=TO(s),kO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=EF(this,i,e),Ne(n=Nn(this.I),"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),ro(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(HF(s)))+"&"+e:this.o&&Hv(n,this.o,s)),bv(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,Cv(i,n,null)):Cv(i,n,e),this.H=2}}else 3==this.H&&(t?xF(this,t):0==this.j.length||pF(this.i)||xF(this))},T.Ma=function(){if(this.u=null,LF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=qa(o2(this.jb,this),t)}},T.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,b2(10),U8(this),LF(this))},T.ib=function(){null!=this.v&&(this.v=null,U8(this),Sv(this),b2(19))},T.pb=function(t){t?(this.l.info("Successfully pinged google.com"),b2(2)):(this.l.info("Failed to ping google.com"),b2(1))},T.isActive=function(){return!!this.h&&this.h.isActive(this)},(T=PF.prototype).Ba=function(){},T.Aa=function(){},T.za=function(){},T.ya=function(){},T.isActive=function(){return!0},T.Va=function(){},q8.prototype.g=function(t,e){return new Y2(t,e)},kt(Y2,Pt),Y2.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;b2(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=NF(t,null,t.Y),j8(t)},Y2.prototype.close=function(){zv(this.g)},Y2.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=fv(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&j8(e)},Y2.prototype.N=function(){this.g.h=null,delete this.j,zv(this.g),delete this.g,Y2.$.N.call(this)},kt(RF,gv),kt(OF,vv),kt(f4,PF),f4.prototype.Ba=function(){Yt(this.g,"a")},f4.prototype.Aa=function(t){Yt(this.g,new RF(t))},f4.prototype.za=function(t){Yt(this.g,new OF)},f4.prototype.ya=function(){Yt(this.g,"b")},kt(V1,function RTe(){this.blockSize=-1}),V1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},V1.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)Ev(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ev(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ev(this,r),i=0;break}}this.h=i,this.i+=e},V1.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var OTe={};function Iv(t){return-128<=t&&128>t?function WAe(t,e){var n=OTe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new be([0|e],0>e?-1:0)}):new be([0|t],0>t?-1:0)}function nn(t){if(isNaN(t)||!isFinite(t))return d4;if(0>t)return Qt(nn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Lv;return new be(e,0)}var Lv=4294967296,d4=Iv(0),Dv=Iv(1),BF=Iv(16777216);function kn(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function c1(t){return-1==t.h}function Qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(Dv)}function G8(t,e){return t.add(Qt(e))}function W8(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function io(t,e){this.g=t,this.h=e}function K8(t,e){if(kn(e))throw Error("division by zero");if(kn(t))return new io(d4,d4);if(c1(t))return e=K8(Qt(t),e),new io(Qt(e.g),Qt(e.h));if(c1(e))return e=K8(t,Qt(e)),new io(Qt(e.g),e.h);if(30<t.g.length){if(c1(t)||c1(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dv,r=e;0>=r.X(t);)n=UF(n),r=UF(r);var i=h4(n,1),s=h4(r,1);for(r=h4(r,2),n=h4(n,2);!kn(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=h4(r,1),n=h4(n,1)}return e=G8(t,i.R(e)),new io(i,e)}for(i=d4;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=nn(n)).R(e);c1(a)||0<a.X(t);)a=(s=nn(n-=r)).R(e);kn(s)&&(s=Dv),i=i.add(s),t=G8(t,a)}return new io(i,t)}function UF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function h4(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}(T=be.prototype).ea=function(){if(c1(this))return-Qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Lv+r)*e,e*=Lv}return t},T.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(kn(this))return"0";if(c1(this))return"-"+Qt(this).toString(t);for(var e=nn(Math.pow(t,6)),n=this,r="";;){var i=K8(n,e).g,s=((0<(n=G8(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(kn(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},T.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},T.X=function(t){return c1(t=G8(this,t))?-1:kn(t)?0:1},T.abs=function(){return c1(this)?Qt(this):this},T.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,n[i]=(a&=65535)<<16|(s&=65535)}return new be(n,-2147483648&n[n.length-1]?-1:0)},T.R=function(t){if(kn(this)||kn(t))return d4;if(c1(this))return c1(t)?Qt(this).R(Qt(t)):Qt(Qt(this).R(t));if(c1(t))return Qt(this.R(Qt(t)));if(0>this.X(BF)&&0>t.X(BF))return nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=a*c,W8(n,2*r+2*i),n[2*r+2*i+1]+=s*c,W8(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,W8(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,W8(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)},T.gb=function(t){return K8(this,t).h},T.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)},T.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)},T.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)},q8.prototype.createWebChannel=q8.prototype.g,Y2.prototype.send=Y2.prototype.u,Y2.prototype.open=Y2.prototype.m,Y2.prototype.close=Y2.prototype.close,D8.NO_ERROR=0,D8.TIMEOUT=8,D8.HTTP_ERROR=6,JO.COMPLETE="complete",eF.EventType=Ga,Ga.OPEN="a",Ga.CLOSE="b",Ga.ERROR="c",Ga.MESSAGE="d",Pt.prototype.listen=Pt.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,V1.prototype.digest=V1.prototype.l,V1.prototype.reset=V1.prototype.reset,V1.prototype.update=V1.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=nn,be.fromString=function FF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Qt(FF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=nn(Math.pow(e,8)),r=d4,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=nn(Math.pow(e,s)),r=r.R(s).add(nn(a))):r=(r=r.R(n)).add(nn(a))}return r};var FTe=b1.createWebChannelTransport=function(){return new q8},BTe=b1.getStatEventTarget=function(){return L8()},Av=b1.ErrorCode=D8,UTe=b1.EventType=JO,jTe=b1.Event=Mi,jF=b1.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$Te=b1.FetchXmlHttpFactory=Za,Y8=b1.WebChannel=eF,qTe=b1.XhrIo=tt,GTe=b1.Md5=V1,p4=b1.Integer=be;const $F="@firebase/firestore";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let m4="9.23.0";const vr=new qs("@firebase/firestore");function Tv(){return vr.logLevel}function H(t,...e){if(vr.logLevel<=ge.DEBUG){const n=e.map(Nv);vr.debug(`Firestore (${m4}): ${t}`,...n)}}function ut(t,...e){if(vr.logLevel<=ge.ERROR){const n=e.map(Nv);vr.error(`Firestore (${m4}): ${t}`,...n)}}function H1(t,...e){if(vr.logLevel<=ge.WARN){const n=e.map(Nv);vr.warn(`Firestore (${m4}): ${t}`,...n)}}function Nv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${m4}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function B(t,e){t||P()}function D(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends a1{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class qF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WTe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class KTe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YTe{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let a=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zt,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new qF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new Rt(e)}}class QTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class XTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new QTe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JTe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.T=n.token,new GF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZTe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class WF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=ZTe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function g4(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ${constructor(e){this.timestamp=e}static fromTimestamp(e){return new $(e)}static min(){return new $(new Ye(0,0))}static max(){return new $(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class so{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===so.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof so?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends so{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const eNe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends so{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return eNe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if("\\"===o){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===o?(a=!a,i++):"."!==o||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(pe.fromString(e))}static fromName(e){return new L(pe.fromString(e).popFirst(5))}static empty(){return new L(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new pe(e.slice()))}}function QF(t){return new Q2(t.readTime,t.key,-1)}class Q2{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Q2($.min(),L.empty(),-1)}static max(){return new Q2($.max(),L.empty(),-1)}}function Pv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=L.comparator(t.documentKey,e.documentKey),0!==n?n:Z(t.largestBatchId,e.largestBatchId))}const XF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rNe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function yr(t){return Rv.apply(this,arguments)}function Rv(){return Rv=m(function*(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==XF)throw t;H("LocalStore","Unexpectedly lost primary lease")}),Rv.apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new C((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{a[l]=u,++o,o===s&&r(a)},u=>i(u))}})}static doWhile(e,n){return new C((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function _r(t){return"IndexedDbTransactionError"===t.name}let X2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function co(t){return null==t}function lo(t){return 0===t&&1/t==-1/0}function aB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Le{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}}class el{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=s??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1,Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cB(this.data.getIterator())}getIteratorFrom(e){return new cB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ke(this.comparator);return n.data=e,n}}class cB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class R2{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new R2([])}unionWith(e){let n=new ke(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new R2(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return g4(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class lB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lB("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const zNe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(B(!!t),"string"==typeof t){let e=0;const n=zNe.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Pn(t){return"string"==typeof t?St.fromBase64String(t):St.fromUint8Array(t)}function tl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nl(t){const e=t.mapValue.fields.__previous_value__;return tl(e)?nl(e):e}function uo(t){const e=Mr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}class SNe{constructor(e,n,r,i,s,a,o,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=l}}class Si{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Si("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Si&&e.projectId===this.projectId&&e.database===this.database}}const wr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tl(t)?4:hB(t)?9007199254740991:10:P()}function sn(t,e){if(t===e)return!0;const n=br(t);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uo(t).isEqual(uo(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Mr(r.timestampValue),a=Mr(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Pn(t.bytesValue).isEqual(Pn(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),a=nt(i.doubleValue);return s===a?lo(s)===lo(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return g4(t.arrayValue.values||[],e.arrayValue.values||[],sn);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(aB(s)!==aB(a))return!1;for(const o in s)if(s.hasOwnProperty(o)&&(void 0===a[o]||!sn(s[o],a[o])))return!1;return!0}(t,e);default:return P()}var i}function fo(t,e){return void 0!==(t.values||[]).find(n=>sn(n,e))}function Vr(t,e){if(t===e)return 0;const n=br(t),r=br(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=nt(i.integerValue||i.doubleValue),o=nt(s.integerValue||s.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return uB(t.timestampValue,e.timestampValue);case 4:return uB(uo(t),uo(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,s){const a=Pn(i),o=Pn(s);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),o=s.split("/");for(let c=0;c<a.length&&c<o.length;c++){const l=Z(a[c],o[c]);if(0!==l)return l}return Z(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=Z(nt(i.latitude),nt(s.latitude));return 0!==a?a:Z(nt(i.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],o=s.values||[];for(let c=0;c<a.length&&c<o.length;++c){const l=Vr(a[c],o[c]);if(l)return l}return Z(a.length,o.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===wr.mapValue&&s===wr.mapValue)return 0;if(i===wr.mapValue)return 1;if(s===wr.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),c=s.fields||{},l=Object.keys(c);o.sort(),l.sort();for(let u=0;u<o.length&&u<l.length;++u){const f=Z(o[u],l[u]);if(0!==f)return f;const d=Vr(a[o[u]],c[l[u]]);if(0!==d)return d}return Z(o.length,l.length)}(t.mapValue,e.mapValue);default:throw P()}}function uB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Z(t,e);const n=Mr(t),r=Mr(e),i=Z(n.seconds,r.seconds);return 0!==i?i:Z(n.nanos,r.nanos)}function y4(t){return Bv(t)}function Bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Mr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pn(t.bytesValue).toBase64():"referenceValue"in t?L.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const a of r.values||[])s?s=!1:i+=",",i+=Bv(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of i)a?a=!1:s+=",",s+=`${o}:${Bv(r.fields[o])}`;return s+"}"}(t.mapValue):P();var e}function xi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uv(t){return!!t&&"integerValue"in t}function ho(t){return!!t&&"arrayValue"in t}function fB(t){return!!t&&"nullValue"in t}function dB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sl(t){return!!t&&"mapValue"in t}function po(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=po(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=po(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=po(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(po(this.value))}}function gB(t){const e=[];return Cr(t.fields,(n,r)=>{const i=new ft([n]);if(sl(r)){const s=gB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new R2(e)}class Pe{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Pe(e,0,$.min(),$.min(),$.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new Pe(e,1,n,$.min(),r,i,0)}static newNoDocument(e,n){return new Pe(e,2,n,$.min(),$.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Pe(e,3,n,$.min(),$.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hr{constructor(e,n){this.position=e,this.inclusive=n}}function vB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(r=s.field.isKeyField()?L.comparator(L.fromName(a.referenceValue),n.key):Vr(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function yB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sn(t.position[n],e.position[n]))return!1;return!0}class _4{constructor(e,n="asc"){this.field=e,this.dir=n}}function INe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _B{}class le extends _B{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new LNe(e,n,r):"array-contains"===n?new TNe(e,r):"in"===n?new HB(e,r):"not-in"===n?new NNe(e,r):"array-contains-any"===n?new kNe(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new DNe(e,r):new ANe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Vr(n,this.value)):null!==n&&br(this.value)===br(n)&&this.matchesComparison(Vr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ve extends _B{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ve(e,n)}matches(e){return C4(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function C4(t){return"and"===t.op}function $v(t){return function CB(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}(t)&&C4(t)}function qv(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+y4(t.value);if($v(t))return t.filters.map(e=>qv(e)).join(",");{const e=t.filters.map(n=>qv(n)).join(",");return`${t.op}(${e})`}}function MB(t,e){return t instanceof le?(n=t,(r=e)instanceof le&&n.op===r.op&&n.field.isEqual(r.field)&&sn(n.value,r.value)):t instanceof Ve?function(n,r){return r instanceof Ve&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,a)=>i&&MB(s,r.filters[a]),!0)}(t,e):void P();var n,r}function bB(t){return t instanceof le?`${(e=t).field.canonicalString()} ${e.op} ${y4(e.value)}`:t instanceof Ve?function(e){return e.op.toString()+" {"+e.getFilters().map(bB).join(" ,")+"}"}(t):"Filter";var e}class LNe extends le{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class DNe extends le{constructor(e,n){super(e,"in",n),this.keys=VB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ANe extends le{constructor(e,n){super(e,"not-in",n),this.keys=VB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class TNe extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ho(n)&&fo(n.arrayValue,this.value)}}class HB extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&fo(this.value.arrayValue,n)}}class NNe extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!fo(this.value.arrayValue,n)}}class kNe extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ho(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fo(this.value.arrayValue,r))}}class PNe{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.dt=null}}function Gv(t,e=null,n=[],r=[],i=null,s=null,a=null){return new PNe(t,e,n,r,i,s,a)}function Ei(t){const e=D(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),co(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>y4(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>y4(r)).join(",")),e.dt=n}return e.dt}function mo(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!INe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yB(t.startAt,e.startAt)&&yB(t.endAt,e.endAt)}function al(t){return L.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Rn{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.wt=null,this._t=null}}function M4(t){return new Rn(t)}function EB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Wv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function cl(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Kv(t){return null!==t.collectionGroup}function Ii(t){const e=D(t);if(null===e.wt){e.wt=[];const n=cl(e),r=Wv(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new _4(n)),e.wt.push(new _4(ft.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new _4(ft.keyField(),s))}}}return e.wt}function V2(t){const e=D(t);if(!e._t)if("F"===e.limitType)e._t=Gv(e.path,e.collectionGroup,Ii(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ii(e))n.push(new _4(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Hr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Hr(e.startAt.position,e.startAt.inclusive):null;e._t=Gv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Yv(t,e){e.getFirstInequalityField(),cl(t);const n=t.filters.concat([e]);return new Rn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ll(t,e,n){return new Rn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function go(t,e){return mo(V2(t),V2(e))&&t.limitType===e.limitType}function IB(t){return`${Ei(V2(t))}|lt:${t.limitType}`}function Qv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>bB(r)).join(", ")}]`),co(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>y4(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>y4(r)).join(",")),`Target(${n})`}(V2(t))}; limitType=${t.limitType})`}function vo(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):L.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ii(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,a){const o=vB(i,s,a);return i.inclusive?o<=0:o<0}(n.startAt,Ii(n),r)||n.endAt&&!function(i,s,a){const o=vB(i,s,a);return i.inclusive?o>=0:o>0}(n.endAt,Ii(n),r)));var n,r}function DB(t){return(e,n)=>{let r=!1;for(const i of Ii(t)){const s=RNe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function RNe(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(i,s,a){const o=s.data.field(i),c=a.data.field(i);return null!==o&&null!==c?Vr(o,c):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class On{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return oB(this.inner)}size(){return this.innerSize}}const ONe=new Le(L.comparator);function O2(){return ONe}const AB=new Le(L.comparator);function yo(...t){let e=AB;for(const n of t)e=e.insert(n.key,n);return e}function TB(t){let e=AB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function an(){return _o()}function NB(){return _o()}function _o(){return new On(t=>t.toString(),(t,e)=>t.isEqual(e))}const FNe=new Le(L.comparator),BNe=new ke(L.comparator);function ae(...t){let e=BNe;for(const n of t)e=e.add(n);return e}const UNe=new ke(Z);function kB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lo(e)?"-0":e}}function PB(t){return{integerValue:""+t}}function RB(t,e){return function ZF(t){return"number"==typeof t&&Number.isInteger(t)&&!lo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?PB(e):kB(t,e)}class ul{constructor(){this._=void 0}}function jNe(t,e,n){return t instanceof w4?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&tl(i)&&(i=nl(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Li?FB(t,e):t instanceof Di?BB(t,e):function(r,i){const s=OB(r,i),a=UB(s)+UB(r.gt);return Uv(s)&&Uv(r.gt)?PB(a):kB(r.serializer,a)}(t,e)}function $Ne(t,e,n){return t instanceof Li?FB(t,e):t instanceof Di?BB(t,e):n}function OB(t,e){return t instanceof b4?Uv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class w4 extends ul{}class Li extends ul{constructor(e){super(),this.elements=e}}function FB(t,e){const n=jB(e);for(const r of t.elements)n.some(i=>sn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Di extends ul{constructor(e){super(),this.elements=e}}function BB(t,e){let n=jB(e);for(const r of t.elements)n=n.filter(i=>!sn(i,r));return{arrayValue:{values:n}}}class b4 extends ul{constructor(e,n){super(),this.serializer=e,this.gt=n}}function UB(t){return nt(t.integerValue||t.doubleValue)}function jB(t){return ho(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class GNe{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class dl{}function $B(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new H4(t.key,je.none()):new V4(t.key,t.data,je.none());{const n=t.data,r=Jt.empty();let i=new ke(ft.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);null===a&&s.length>1&&(s=s.popLast(),a=n.field(s)),null===a?r.delete(s):r.set(s,a),i=i.add(s)}return new Fn(t.key,r,new R2(i.toArray()),je.none())}}function WNe(t,e,n){t instanceof V4?function(r,i,s){const a=r.value.clone(),o=WB(r.fieldTransforms,i,s.transformResults);a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fn?function(r,i,s){if(!fl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=WB(r.fieldTransforms,i,s.transformResults),o=i.data;o.setAll(GB(r)),o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Mo(t,e,n,r){return t instanceof V4?function(i,s,a,o){if(!fl(i.precondition,s))return a;const c=i.value.clone(),l=KB(i.fieldTransforms,o,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fn?function(i,s,a,o){if(!fl(i.precondition,s))return a;const c=KB(i.fieldTransforms,o,s),l=s.data;return l.setAll(GB(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(a=n,fl(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function KNe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OB(r.transform,i||null);null!=s&&(null===n&&(n=Jt.empty()),n.set(r.field,s))}return n||null}function qB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&g4(n,r,(i,s)=>function qNe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Li&&r instanceof Li||n instanceof Di&&r instanceof Di?g4(n.elements,r.elements,sn):n instanceof b4&&r instanceof b4?sn(n.gt,r.gt):n instanceof w4&&r instanceof w4);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class V4 extends dl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fn extends dl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WB(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,$Ne(a,o,n[i]))}return r}function KB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,jNe(s,a,e))}return r}class H4 extends dl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jv extends dl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&WNe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NB();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const c=$B(a,o);null!==c&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument($.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&g4(this.mutations,e.mutations,(n,r)=>qB(n,r))&&g4(this.baseMutations,e.baseMutations,(n,r)=>qB(n,r))}}class ey{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=FNe;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new ey(e,n,r,i)}}class ty{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class QNe{constructor(e,n){this.count=e,this.unchangedNames=n}}var yt,me;function QB(t){if(void 0===t)return ut("GRPC error has no .code"),M.UNKNOWN;switch(t){case yt.OK:return M.OK;case yt.CANCELLED:return M.CANCELLED;case yt.UNKNOWN:return M.UNKNOWN;case yt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case yt.INTERNAL:return M.INTERNAL;case yt.UNAVAILABLE:return M.UNAVAILABLE;case yt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case yt.NOT_FOUND:return M.NOT_FOUND;case yt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case yt.ABORTED:return M.ABORTED;case yt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case yt.DATA_LOSS:return M.DATA_LOSS;default:return P()}}(me=yt||(yt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class ny{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hl}static getOrCreateInstance(){return null===hl&&(hl=new ny),hl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let hl=null;const XNe=new p4([4294967295,4294967295],0);function JB(t){const e=function XB(){return new TextEncoder}().encode(t),n=new GTe;return n.update(e),new Uint8Array(n.digest())}function ZB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new p4([n,r],0),new p4([i,s],0)]}class ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wo(`Invalid padding: ${n}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new wo(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new wo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=p4.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(p4.fromNumber(r)));return 1===i.compare(XNe)&&(i=new p4([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=JB(e),[r,i]=ZB(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);if(!this.At(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new ry(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(0===this.It)return;const n=JB(e),[r,i]=ZB(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);this.Rt(a)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bo{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bo($.min(),i,new Le(Z),O2(),ae())}}class Vo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vo(r,n,ae(),ae(),ae())}}class pl{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class eU{constructor(e,n){this.targetId=e,this.Vt=n}}class tU{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nU{constructor(){this.St=0,this.Dt=iU(),this.Ct=St.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ae(),n=ae(),r=ae();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new Vo(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=iU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class JNe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=O2(),this.zt=rU(),this.Wt=new Le(Z)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const a=s.target;if(al(a))if(0===i){const o=new L(a.path);this.Yt(r,o,Pe.newNoDocument(o,$.min()))}else B(1===i);else{const o=this.ie(r);if(o!==i){const c=this.re(e,o);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=ny.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,g,v,_;const y={localCacheCount:u,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(y.bloomFilter={applied:0===l,hashCount:null!==(d=w?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(g=null===(p=null===(h=w?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(_=null===(v=w?.bits)||void 0===v?void 0:v.padding)&&void 0!==_?_:0}),y}(c,o,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=r;let c,l;try{c=Pn(s).toUint8Array()}catch(u){if(u instanceof lB)return H1("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new ry(c,a,o)}catch(u){return H1(u instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const a=this.Gt.ue(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(o)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,a)=>{const o=this.se(a);if(o){if(s.current&&al(o.target)){const c=new L(o.target.path);null!==this.jt.get(c)||this.ae(a,c)||this.Yt(a,c,Pe.newNoDocument(c,e))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let r=ae();this.zt.forEach((s,a)=>{let o=!0;a.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(o=!1,!1)}),o&&(r=r.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const i=new bo(e,n,this.Wt,this.jt,r);return this.jt=O2(),this.zt=rU(),this.Wt=new Le(Z),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new nU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ke(Z),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rU(){return new Le(L.comparator)}function iU(){return new Le(L.comparator)}const ZNe={asc:"ASCENDING",desc:"DESCENDING"},eke={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tke={and:"AND",or:"OR"};class nke{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iy(t,e){return t.useProto3Json||co(e)?e:{value:e}}function z4(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rke(t,e){return z4(t,e.toTimestamp())}function dt(t){return B(!!t),$.fromTimestamp(function(e){const n=Mr(e);return new Ye(n.seconds,n.nanos)}(t))}function sy(t,e){return(n=t,new pe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function aU(t){const e=pe.fromString(t);return B(mU(e)),e}function Ho(t,e){return sy(t.databaseId,e.path)}function on(t,e){const n=aU(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(cU(n))}function ay(t,e){return sy(t.databaseId,e)}function zo(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cU(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function lU(t,e,n){return{name:Ho(t,e),fields:n.value.mapValue.fields}}function fU(t,e){return{documents:[ay(t,e.path)]}}function cy(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ay(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ay(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return pU(Ve.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:zr((u=l).field),direction:cke(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=iy(t,e.limit);var o,c;return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(o=e.startAt).inclusive,values:o.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function dU(t){let e=function oU(t){const e=aU(t);return 4===e.length?pe.emptyPath():cU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const f=hU(u);return f instanceof Ve&&$v(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(u=>{return new _4(S4((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let o=null;n.limit&&(o=function(u){let f;return f="object"==typeof u?u.value:u,co(f)?null:f}(n.limit));let c=null;var u;n.startAt&&(c=new Hr((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new Hr(u.values||[],!u.before)}(n.endAt)),function xB(t,e,n,r,i,s,a,o){return new Rn(t,e,n,r,i,s,a,o)}(e,i,a,s,o,"F",c,l)}function hU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=S4(e.unaryFilter.field);return le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=S4(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=S4(e.unaryFilter.field);return le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=S4(e.unaryFilter.field);return le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):void 0!==t.fieldFilter?le.create(S4((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ve.create(e.compositeFilter.filters.map(n=>hU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(t):P();var e}function cke(t){return ZNe[t]}function lke(t){return eke[t]}function uke(t){return tke[t]}function zr(t){return{fieldPath:t.canonicalString()}}function S4(t){return ft.fromServerFormat(t.fieldPath)}function pU(t){return t instanceof le?function(e){if("=="===e.op){if(dB(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NAN"}};if(fB(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dB(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NOT_NAN"}};if(fB(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(e.field),op:lke(e.op),value:e.value}}}(t):t instanceof Ve?function(e){const n=e.getFilters().map(r=>pU(r));return 1===n.length?n[0]:{compositeFilter:{op:uke(e.op),filters:n}}}(t):P()}function fke(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Bn{constructor(e,n,r,i,s=$.min(),a=$.min(),o=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Bn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gU{constructor(e){this.fe=e}}function ly(t){const e=dU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ll(e,e.limit,"L"):e}class ki{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(nt(e.integerValue));else if("doubleValue"in e){const r=nt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),lo(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Pn(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?hB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),L.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ki.Ve=new ki;class Cke{constructor(){this.rn=new my}addToCollectionParentIndex(e,n){return this.rn.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(Q2.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(Q2.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class my{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ke(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(pe.comparator)).toArray()}}new Uint8Array(0);class u2{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new u2(e,u2.DEFAULT_COLLECTION_PERCENTILE,u2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}u2.DEFAULT_COLLECTION_PERCENTILE=10,u2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,u2.DEFAULT=new u2(41943040,u2.DEFAULT_COLLECTION_PERCENTILE,u2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),u2.DISABLED=new u2(-1,0,0);class Ri{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ri(0)}static Mn(){return new Ri(-1)}}class zke{constructor(){this.changes=new On(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Eke{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Mo(r.mutation,i,R2.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=an();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=yo();return s.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=an();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=O2();const a=_o(),o=_o();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof Fn)?s=s.insert(l.key,l):void 0!==u?(a.set(l.key,u.mutation.getFieldMask()),Mo(u.mutation,l,u.mutation.getFieldMask(),Ye.now())):a.set(l.key,R2.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>a.set(l,u)),n.forEach((l,u)=>{var f;return o.set(l,new Eke(u,null!==(f=a.get(l))&&void 0!==f?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=_o();let i=new Le((a,o)=>a-o),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||R2.empty();u=o.applyToLocalView(l,u),r.set(c,u);const f=(i.get(o.batchId)||ae()).add(c);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),l=c.key,u=c.value,f=NB();u.forEach(d=>{if(!s.has(d)){const h=$B(n.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,f))}return C.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return L.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Kv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):C.resolve(an());let o=-1,c=s;return a.next(l=>C.forEach(l,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ae())).next(u=>({batchId:o,changes:TB(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=yo();return this.indexManager.getCollectionParents(e,i).next(a=>C.forEach(a,o=>{const c=(l=n,u=o.child(i),new Rn(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((o,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Pe.newInvalidDocument(l)))});let a=yo();return s.forEach((o,c)=>{const l=i.get(o);void 0!==l&&Mo(l.mutation,c,R2.empty(),Ye.now()),vo(n,c)&&(a=a.insert(o,c))}),a})}}class Ike{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return C.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:dt(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:ly(r.bundledQuery),readTime:dt(r.readTime)}),C.resolve();var r}}class Lke{constructor(){this.overlays=new Le(L.comparator),this.ls=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const r=an();return C.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const i=an(),s=n.length+1,a=new L(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return C.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=an(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=an(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return C.resolve(o)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ty(n,r));let s=this.ls.get(n);void 0===s&&(s=ae(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class gy{constructor(){this.fs=new ke(Ft.ds),this.ws=new ke(Ft._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ft(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new L(new pe([])),r=new Ft(n,e),i=new Ft(n,e+1),s=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new L(new pe([])),r=new Ft(n,e),i=new Ft(n,e+1);let s=ae();return this.ws.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Ft(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return L.comparator(e.key,n.key)||Z(e.As,n.As)}static _s(e,n){return Z(e.As,n.As)||L.comparator(e.key,n.key)}}class Dke{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ke(Ft.ds)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const a=new Zv(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Rs=this.Rs.add(new Ft(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return C.resolve(a)}lookupMutationBatch(e,n){return C.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],a=>{const o=this.Ps(a.As);s.push(o)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(Z);return n.forEach(i=>{const s=new Ft(i,0),a=new Ft(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],o=>{r=r.add(o.As)})}),C.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const a=new Ft(new L(s),0);let o=new ke(Z);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(o=o.add(c.As)),!0)},a),C.resolve(this.Vs(o))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return C.forEach(n.mutations,i=>{const s=new Ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Rs.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ake{constructor(e){this.Ds=e,this.docs=new Le(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():Pe.newInvalidDocument(n))}getEntries(e,n){let r=O2();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pe.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=O2();const a=n.path,o=new L(a.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||Pv(QF(u),r)<=0||(i.has(u.key)||vo(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Cs(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Tke(this)}getSize(e){return C.resolve(this.size)}}class Tke extends zke{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Nke{constructor(e){this.persistence=e,this.xs=new On(n=>Ei(n),mo),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gy,this.targetCount=0,this.Ms=Ri.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),C.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ri(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.Fn(n),C.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((a,o)=>{o.sequenceNumber<=n&&null===r.get(o.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.ks.containsKey(n))}}class vy{constructor(e,n){this.$s={},this.overlays={},this.Os=new X2(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Nke(this),this.indexManager=new Cke,this.remoteDocumentCache=new Ake(r=>this.referenceDelegate.Ls(r)),this.serializer=new gU(n),this.qs=new Ike(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lke,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Dke(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new kke(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return C.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class kke extends rNe{constructor(e){super(),this.currentSequenceNumber=e}}class bl{constructor(e){this.persistence=e,this.Qs=new gy,this.js=null}static zs(e){return new bl(e)}get Ws(){if(this.js)return this.js;throw P()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),C.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ws,r=>{const i=L.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,$.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return C.or([()=>C.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class My{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new My(e,n.fromCache,r,i)}}class $U{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(EB(n))return C.resolve(null);let r=V2(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=ll(n,null,"F"),r=V2(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ae(...s);return this.Ui.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(n,o);return this.zi(n,l,a,c.readTime)?this.Ki(e,ll(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,r,i){return EB(n)||i.isEqual($.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const a=this.ji(n,s);return this.zi(n,a,r,i)?this.Qi(e,n):(Tv()<=ge.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qv(n)),this.Wi(e,a,n,function YF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new Ye(n+1,0):new Ye(n,r));return new Q2(i,L.empty(),e)}(i,-1)))})}ji(e,n){let r=new ke(DB(e));return n.forEach((i,s)=>{vo(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Tv()<=ge.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Qv(n)),this.Ui.getDocumentsMatchingQuery(e,n,Q2.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}class Rke{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Le(Z),this.Yi=new On(s=>Ei(s),mo),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function GU(t,e){return wy.apply(this,arguments)}function wy(){return wy=m(function*(t,e){const n=D(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let c=ae();for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:a,addedBatchIds:o}))})})}),wy.apply(this,arguments)}function WU(t){const e=D(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Bke(t,e){const n=D(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L4(t,e,n){return by.apply(this,arguments)}function by(){return by=m(function*(t,e,n){const r=D(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!_r(a))throw a;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),by.apply(this,arguments)}function zl(t,e,n){const r=D(t);let i=$.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",a=>function(o,c,l){const u=D(o),f=u.Yi.get(l);return void 0!==f?C.resolve(u.Ji.get(f)):u.Bs.getTargetData(c,l)}(r,a,V2(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,o.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,e,n?i:$.min(),n?s:ae())).next(o=>(function XU(t,e,n){let r=t.Xi.get(e)||$.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function LB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),o),{documents:o,ir:s})))}class xy{constructor(){this.activeTargetIds=function Xv(){return UNe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ej{constructor(){this.Hr=new xy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $ke{Yr(e){}shutdown(){}}class tj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let El=null;function Iy(){return null===El?El=268435456+Math.round(2147483648*Math.random()):El++,"0x"+El.toString(16)}const qke={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gke{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const f2="WebChannelConnection";class Wke extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const a=Iy(),o=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${a}:`,o,r);const c={};return this.Eo(c,i,s),this.Ao(e,o,c,r).then(l=>(H("RestConnection",`Received RPC '${e}' ${a}: `,l),l),l=>{throw H1("RestConnection",`RPC '${e}' ${a} failed with error: `,l,"url: ",o,"request:",r),l})}vo(e,n,r,i,s,a){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+m4,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${qke[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Iy();return new Promise((a,o)=>{const c=new qTe;c.setWithCredentials(!0),c.listenOnce(UTe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Av.NO_ERROR:const u=c.getResponseJson();H(f2,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Av.TIMEOUT:H(f2,`RPC '${e}' ${s} timed out`),o(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case Av.HTTP_ERROR:const f=c.getStatus();if(H(f2,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(h.status);o(new V(p,h.message))}else o(new V(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new V(M.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{H(f2,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);H(f2,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=Iy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=FTe(),o=BTe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new $Te({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");H(f2,`Creating RPC '${e}' stream ${i}: ${u}`,c);const f=a.createWebChannel(u,c);let d=!1,h=!1;const p=new Gke({ro:v=>{h?H(f2,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(H(f2,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),H(f2,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},oo:()=>f.close()}),g=(v,_,y)=>{v.listen(_,w=>{try{y(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,Y8.EventType.OPEN,()=>{h||H(f2,`RPC '${e}' stream ${i} transport opened.`)}),g(f,Y8.EventType.CLOSE,()=>{h||(h=!0,H(f2,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(f,Y8.EventType.ERROR,v=>{h||(h=!0,H1(f2,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new V(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,Y8.EventType.MESSAGE,v=>{var _;if(!h){const y=v.data[0];B(!!y);const S=y.error||(null===(_=y[0])||void 0===_?void 0:_.error);if(S){H(f2,`RPC '${e}' stream ${i} received error:`,S);const I=S.status;let q=function(pt){const Ct=yt[pt];if(void 0!==Ct)return QB(Ct)}(I),oe=S.message;void 0===q&&(q=M.INTERNAL,oe="Unknown error status: "+I+" with message "+S.message),h=!0,p.wo(new V(q,oe)),f.close()}else H(f2,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(o,jTe.STAT_EVENT,v=>{v.stat===jF.PROXY?H(f2,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===jF.NOPROXY&&H(f2,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Il(){return typeof document<"u"?document:null}function ko(t){return new nke(t,!0)}class Ly{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class rj{constructor(e,n,r,i,s,a,o,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ly(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kke extends rj{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function ske(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:P(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(B(void 0===l||"string"==typeof l),St.fromBase64String(l||"")):(B(void 0===l||l instanceof Uint8Array),St.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const l=void 0===c.code?M.UNKNOWN:QB(c.code);return new V(l,c.message||"")}(a);n=new tU(r,i,s,o||null)}else if("documentChange"in e){const r=e.documentChange,i=on(t,r.document.name),s=dt(r.document.updateTime),a=r.document.createTime?dt(r.document.createTime):$.min(),o=new Jt({mapValue:{fields:r.document.fields}}),c=Pe.newFoundDocument(i,s,a,o);n=new pl(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=on(t,r.document),s=r.readTime?dt(r.readTime):$.min(),a=Pe.newNoDocument(i,s);n=new pl([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const r=e.documentRemove,i=on(t,r.document);n=new pl([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,{count:i=0,unchangedNames:s}=r,a=new QNe(i,s);n=new eU(r.targetId,a)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return $.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?$.min():s.readTime?dt(s.readTime):$.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=zo(this.serializer),n.addTarget=function(i,s){let a;const o=s.target;if(a=al(o)?{documents:fU(i,o)}:{query:cy(i,o)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=sU(i,s.resumeToken);const c=iy(i,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo($.min())>0){a.readTime=z4(i,s.snapshotVersion.toTimestamp());const c=iy(i,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function oke(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=zo(this.serializer),n.removeTarget=e,this.Wo(n)}}class Yke extends rj{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ake(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let s=dt(r.updateTime?r.updateTime:i);return s.isEqual($.min())&&(s=dt(i)),new GNe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=dt(e.commitTime);return this.listener.cu(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zo(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function So(t,e){let n;if(e instanceof V4)n={update:lU(t,e.key,e.value)};else if(e instanceof H4)n={delete:Ho(t,e.key)};else if(e instanceof Fn)n={update:lU(t,e.key,e.data),updateMask:fke(e.fieldMask)};else{if(!(e instanceof Jv))return P();n={verify:Ho(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof w4)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Li)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Di)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof b4)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:rke(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.serializer,r))};this.Wo(n)}}class Qke extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,n,r,s,a,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Jke{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Zke{constructor(e,n,r,i,s){var a=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(m(function*(){var c;Ir(a)&&(H("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=D(l);u.vu.add(4),yield D4(u),u.bu.set("Unknown"),u.vu.delete(4),yield Po(u)}),function(l){return c.apply(this,arguments)})(a))}))}),this.bu=new Jke(r,i)}}function Po(t){return Ay.apply(this,arguments)}function Ay(){return Ay=m(function*(t){if(Ir(t))for(const e of t.Ru)yield e(!0)}),Ay.apply(this,arguments)}function D4(t){return Ty.apply(this,arguments)}function Ty(){return Ty=m(function*(t){for(const e of t.Ru)yield e(!1)}),Ty.apply(this,arguments)}function Ll(t,e){const n=D(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Py(n)?ky(n):T4(n).Ko()&&Ny(n,e))}function Ro(t,e){const n=D(t),r=T4(n);n.Au.delete(e),r.Ko()&&ij(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ir(n)&&n.bu.set("Unknown"))}function Ny(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}T4(t).su(e)}function ij(t,e){t.Vu.qt(e),T4(t).iu(e)}function ky(t){t.Vu=new JNe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),T4(t).start(),t.bu.gu()}function Py(t){return Ir(t)&&!T4(t).Uo()&&t.Au.size>0}function Ir(t){return 0===D(t).vu.size}function sj(t){t.Vu=void 0}function ePe(t){return Ry.apply(this,arguments)}function Ry(){return Ry=m(function*(t){t.Au.forEach((e,n)=>{Ny(t,e)})}),Ry.apply(this,arguments)}function tPe(t,e){return Oy.apply(this,arguments)}function Oy(){return Oy=m(function*(t,e){sj(t),Py(t)?(t.bu.Iu(e),ky(t)):t.bu.set("Unknown")}),Oy.apply(this,arguments)}function nPe(t,e,n){return Fy.apply(this,arguments)}function Fy(){return Fy=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof tU&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const a=s.cause;for(const o of s.targetIds)i.Au.has(o)&&(yield i.remoteSyncer.rejectListen(o,a),i.Au.delete(o),i.Vu.removeTarget(o))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Dl(t,r)}else if(e instanceof pl?t.Vu.Ht(e):e instanceof eU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual($.min()))try{const r=yield WU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const a=i.Vu.ce(s);return a.targetChanges.forEach((o,c)=>{if(o.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(o.resumeToken,s))}}),a.targetMismatches.forEach((o,c)=>{const l=i.Au.get(o);if(!l)return;i.Au.set(o,l.withResumeToken(St.EMPTY_BYTE_STRING,l.snapshotVersion)),ij(i,o);const u=new Bn(l.target,o,c,l.sequenceNumber);Ny(i,u)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield Dl(t,r)}var r}),Fy.apply(this,arguments)}function Dl(t,e,n){return By.apply(this,arguments)}function By(){return By=m(function*(t,e,n){if(!_r(e))throw e;t.vu.add(1),yield D4(t),t.bu.set("Offline"),n||(n=()=>WU(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Po(t)}))}),By.apply(this,arguments)}function aj(t,e){return e().catch(n=>Dl(t,n,e))}function A4(t){return Uy.apply(this,arguments)}function Uy(){return Uy=m(function*(t){const e=D(t),n=Lr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rPe(e);)try{const i=yield Bke(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,iPe(e,i)}catch(i){yield Dl(e,i)}oj(e)&&cj(e)}),Uy.apply(this,arguments)}function rPe(t){return Ir(t)&&t.Eu.length<10}function iPe(t,e){t.Eu.push(e);const n=Lr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function oj(t){return Ir(t)&&!Lr(t).Uo()&&t.Eu.length>0}function cj(t){Lr(t).start()}function sPe(t){return jy.apply(this,arguments)}function jy(){return jy=m(function*(t){Lr(t).hu()}),jy.apply(this,arguments)}function aPe(t){return $y.apply(this,arguments)}function $y(){return $y=m(function*(t){const e=Lr(t);for(const n of t.Eu)e.uu(n.mutations)}),$y.apply(this,arguments)}function oPe(t,e,n){return qy.apply(this,arguments)}function qy(){return qy=m(function*(t,e,n){const r=t.Eu.shift(),i=ey.from(r,e,n);yield aj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield A4(t)}),qy.apply(this,arguments)}function cPe(t,e){return Gy.apply(this,arguments)}function Gy(){return Gy=m(function*(t,e){var n;e&&Lr(t).ou&&(yield(n=m(function*(r,i){if(function YB(t){switch(t){default:return P();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(s=i.code)&&s!==M.ABORTED){const a=r.Eu.shift();Lr(r).Qo(),yield aj(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),yield A4(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),oj(t)&&cj(t)}),Gy.apply(this,arguments)}function lj(t,e){return Wy.apply(this,arguments)}function Wy(){return Wy=m(function*(t,e){const n=D(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Ir(n);n.vu.add(3),yield D4(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Po(n)}),Wy.apply(this,arguments)}function Yy(){return Yy=m(function*(t,e){const n=D(t);e?(n.vu.delete(2),yield Po(n)):e||(n.vu.add(2),yield D4(n),n.bu.set("Unknown"))}),Yy.apply(this,arguments)}function T4(t){return t.Su||(t.Su=function(e,n,r){const i=D(e);return i.fu(),new Kke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ePe.bind(null,t),ao:tPe.bind(null,t),nu:nPe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),Py(t)?ky(t):t.bu.set("Unknown")):(yield t.Su.stop(),sj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Lr(t){return t.Du||(t.Du=function(e,n,r){const i=D(e);return i.fu(),new Yke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:sPe.bind(null,t),ao:cPe.bind(null,t),au:aPe.bind(null,t),cu:oPe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield A4(t)):(yield t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Qy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new Qy(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N4(t,e){if(ut("AsyncQueue",`${e}: ${t}`),_r(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}class k4{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=yo(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new k4(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof k4)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new k4;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class uj{constructor(){this.Cu=new Le(L.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):P():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class P4{constructor(e,n,r,i,s,a,o,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new P4(e,n,k4.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&go(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class lPe{constructor(){this.Nu=void 0,this.listeners=[]}}class uPe{constructor(){this.queries=new On(e=>IB(e),go),this.onlineState="Unknown",this.ku=new Set}}function Jy(){return Jy=m(function*(t,e){const n=D(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lPe),i)try{s.Nu=yield n.onListen(r)}catch(a){const o=N4(a,`Initialization of query '${Qv(e.query)}' failed`);return void e.onError(o)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&t_(n)}),Jy.apply(this,arguments)}function e_(){return e_=m(function*(t,e){const n=D(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),e_.apply(this,arguments)}function fPe(t,e){const n=D(t);let r=!1;for(const i of e){const a=n.queries.get(i.query);if(a){for(const o of a.listeners)o.$u(i)&&(r=!0);a.Nu=i}}r&&t_(n)}function dPe(t,e,n){const r=D(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function t_(t){t.ku.forEach(e=>{e.next()})}class n_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new P4(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=P4.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class hj{constructor(e){this.key=e}}class pj{constructor(e){this.key=e}}class mj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ae(),this.mutatedKeys=ae(),this.tc=DB(e),this.ec=new k4(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new uj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=vo(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.rc(d,h)||(r.track({type:2,doc:h}),v=!0,(c&&this.tc(h,c)>0||l&&this.tc(h,l)<0)&&(o=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(c||l)&&(o=!0)),v&&(h?(a=a.add(h),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const u="F"===this.query.limitType?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:a,ic:r,zi:o,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return h(f)-h(d)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const a=n?this.uc():[],o=0===this.Zu.size&&this.current?1:0,c=o!==this.Xu;return this.Xu=o,0!==s.length||c?{snapshot:new P4(this.query,e.ec,i,s,e.mutatedKeys,0===o,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new uj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ae(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new pj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new hj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ae();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return P4.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class mPe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gPe{constructor(e){this.key=e,this.fc=!1}}class vPe{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new On(o=>IB(o),go),this._c=new Map,this.mc=new Set,this.gc=new Le(L.comparator),this.yc=new Map,this.Ic=new gy,this.Tc={},this.Ec=new Map,this.Ac=Ri.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function yPe(t,e){return r_.apply(this,arguments)}function r_(){return r_=m(function*(t,e){const n=function z_(t){const e=D(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SPe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MPe.bind(null,e),e.dc.nu=fPe.bind(null,e.eventManager),e.dc.Pc=dPe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const a=yield function I4(t,e){const n=D(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.Bs.allocateTargetId(r).next(a=>(i=new Bn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,V2(e)),o=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=yield function i_(t,e,n,r,i){return s_.apply(this,arguments)}(n,e,r,"current"===o,a.resumeToken),n.isPrimaryClient&&Ll(n.remoteStore,a)}return i}),r_.apply(this,arguments)}function s_(){return s_=m(function*(t,e,n,r,i){t.Rc=(f,d,h)=>{return(p=m(function*(g,v,_,y){let w=v.view.sc(_);w.zi&&(w=yield zl(g.localStore,v.query,!1).then(({documents:q})=>v.view.sc(q,w)));const S=y&&y.targetChanges.get(v.targetId),I=v.view.applyChanges(w,g.isPrimaryClient,S);return m_(g,v.targetId,I.cc),I.snapshot}),function(g,v,_,y){return p.apply(this,arguments)})(t,f,d,h);var p};const s=yield zl(t.localStore,e,!0),a=new mj(e,s.ir),o=a.sc(s.documents),c=Vo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=a.applyChanges(o,t.isPrimaryClient,c);m_(t,n,l.cc);const u=new mPe(e,n,a);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),s_.apply(this,arguments)}function _Pe(t,e){return a_.apply(this,arguments)}function a_(){return a_=m(function*(t,e){const n=D(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!go(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield L4(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ro(n.remoteStore,r.targetId),R4(n,r.targetId)}).catch(yr))):(R4(n,r.targetId),yield L4(n.localStore,r.targetId,!0))}),a_.apply(this,arguments)}function o_(){return o_=m(function*(t,e,n){const r=function S_(t){const e=D(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wPe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bPe.bind(null,e),e}(t);try{const i=yield function(s,a){const o=D(s),c=Ye.now(),l=a.reduce((d,h)=>d.add(h.key),ae());let u,f;return o.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=O2(),p=ae();return o.Zi.getEntries(d,l).next(g=>{h=g,h.forEach((v,_)=>{_.isValidDocument()||(p=p.add(v))})}).next(()=>o.localDocuments.getOverlayedDocuments(d,h)).next(g=>{u=g;const v=[];for(const _ of a){const y=KNe(_,u.get(_.key).overlayedDocument);null!=y&&v.push(new Fn(_.key,y,gB(y.value.mapValue),je.exists(!0)))}return o.mutationQueue.addMutationBatch(d,c,v,a)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(u,p);return o.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:TB(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,o){let c=s.Tc[s.currentUser.toKey()];c||(c=new Le(Z)),c=c.insert(a,o),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Un(r,i.changes),yield A4(r.remoteStore)}catch(i){const s=N4(i,"Failed to persist write");n.reject(s)}}),o_.apply(this,arguments)}function gj(t,e){return c_.apply(this,arguments)}function c_(){return c_=m(function*(t,e){const n=D(t);try{const r=yield function Fke(t,e){const n=D(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;o.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,g,v;null!==e.targetMismatches.get(f)?h=h.withResumeToken(St.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),g=h,v=u,(0===(p=d).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&o.push(n.Bs.updateTargetData(s,h))});let c=O2(),l=ae();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(function KU(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=O2();return n.forEach((o,c)=>{const l=s.get(o);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual($.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):H("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",c.version)}),{nr:a,sr:i}})}(s,a,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual($.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return C.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.yc.get(s);a&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?B(a.fc):i.removedDocuments.size>0&&(B(a.fc),a.fc=!1))}),yield Un(n,r,e)}catch(r){yield yr(r)}}),c_.apply(this,arguments)}function vj(t,e,n){const r=D(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,a)=>{const o=a.view.Mu(e);o.snapshot&&i.push(o.snapshot)}),function(s,a){const o=D(s);o.onlineState=a;let c=!1;o.queries.forEach((l,u)=>{for(const f of u.listeners)f.Mu(a)&&(c=!0)}),c&&t_(o)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function MPe(t,e,n){return l_.apply(this,arguments)}function l_(){return l_=m(function*(t,e,n){const r=D(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let a=new Le(L.comparator);a=a.insert(s,Pe.newNoDocument(s,$.min()));const o=ae().add(s),c=new bo($.min(),new Map,new Le(Z),a,o);yield gj(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),g_(r)}else yield L4(r.localStore,e,!1).then(()=>R4(r,e,n)).catch(yr)}),l_.apply(this,arguments)}function wPe(t,e){return u_.apply(this,arguments)}function u_(){return u_=m(function*(t,e){const n=D(t),r=e.batch.batchId;try{const i=yield function Oke(t,e){const n=D(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,o,c,l){const u=c.batch,f=u.keys();let d=C.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(o,h)).next(p=>{const g=c.docVersions.get(h);B(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(o,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(o=o.add(a.batch.mutations[c].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);p_(n,r,null),h_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Un(n,i)}catch(i){yield yr(i)}}),u_.apply(this,arguments)}function bPe(t,e,n){return f_.apply(this,arguments)}function f_(){return f_=m(function*(t,e,n){const r=D(t);try{const i=yield function(s,a){const o=D(s);return o.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return o.mutationQueue.lookupMutationBatch(c,a).next(u=>(B(null!==u),l=u.keys(),o.mutationQueue.removeMutationBatch(c,u))).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>o.localDocuments.getDocuments(c,l))})}(r.localStore,e);p_(r,e,n),h_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Un(r,i)}catch(i){yield yr(i)}}),f_.apply(this,arguments)}function h_(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function p_(t,e,n){const r=D(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function R4(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||yj(t,r)})}function yj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Ro(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),g_(t))}function m_(t,e,n){for(const r of n)r instanceof hj?(t.Ic.addReference(r.key,e),HPe(t,r)):r instanceof pj?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||yj(t,r.key)):P()}function HPe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),g_(t))}function g_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new L(pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new gPe(n)),t.gc=t.gc.insert(n,r),Ll(t.remoteStore,new Bn(V2(M4(n.path)),r,"TargetPurposeLimboResolution",X2.ct))}}function Un(t,e,n){return v_.apply(this,arguments)}function v_(){return v_=m(function*(t,e,n){const r=D(t),i=[],s=[],a=[];var o;r.wc.isEmpty()||(r.wc.forEach((o,c)=>{a.push(r.Rc(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=My.Li(c.targetId,l);s.push(u)}}))}),yield Promise.all(a),r.dc.nu(i),yield(o=m(function*(c,l){const u=D(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>C.forEach(l,d=>C.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>C.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!_r(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Ji.get(d),g=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Ji=u.Ji.insert(d,g)}}}),function(c,l){return o.apply(this,arguments)})(r.localStore,s))}),v_.apply(this,arguments)}function zPe(t,e){return y_.apply(this,arguments)}function y_(){return y_=m(function*(t,e){const n=D(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=yield GU(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(a=>{a.forEach(o=>{o.reject(new V(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Un(n,r.er)}var i}),y_.apply(this,arguments)}function SPe(t,e){const n=D(t),r=n.yc.get(e);if(r&&r.fc)return ae().add(r.key);{let i=ae();const s=n._c.get(e);if(!s)return i;for(const a of s){const o=n.wc.get(a);i=i.unionWith(o.view.nc)}return i}}class Al{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=ko(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function qU(t,e,n,r){return new Rke(t,e,n,r)}(this.persistence,new $U,e.initialUser,this.serializer)}createPersistence(e){return new vy(bl.zs,this.serializer)}createSharedClientState(e){return new ej}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class O4{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>vj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=zPe.bind(null,r.syncEngine),yield function Ky(t,e){return Yy.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uPe}createDatastore(e){const n=ko(e.databaseInfo.databaseId),r=new Wke(e.databaseInfo);return new Qke(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=o=>vj(this.syncEngine,o,0),a=tj.D()?new tj:new $ke,new Zke(n,r,i,s,a);var n,r,i,s,a}createSyncEngine(e,n){return function(r,i,s,a,o,c,l){const u=new vPe(r,i,s,a,o,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=D(n);H("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield D4(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Tl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class FPe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=WF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var a=m(function*(o){H("FirestoreClient","Received user=",o.uid),yield s.authCredentialListener(o),s.user=o});return function(o){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(H("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=N4(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Nl(t,e){return x_.apply(this,arguments)}function x_(){return x_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield GU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),x_.apply(this,arguments)}function E_(t,e){return I_.apply(this,arguments)}function I_(){return I_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function L_(t){return D_.apply(this,arguments)}(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>lj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>lj(e.remoteStore,s)),t._onlineComponents=e}),I_.apply(this,arguments)}function D_(){return D_=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Vj(t){return"FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;H1("Error using user provided cache. Falling back to memory cache: "+n),yield Nl(t,new Al)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield Nl(t,new Al);return t._offlineComponents}),D_.apply(this,arguments)}function kl(t){return A_.apply(this,arguments)}function A_(){return A_=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield E_(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield E_(t,new O4))),t._onlineComponents}),A_.apply(this,arguments)}function F4(t){return N_.apply(this,arguments)}function N_(){return N_=m(function*(t){const e=yield kl(t),n=e.eventManager;return n.onListen=yPe.bind(null,e.syncEngine),n.onUnlisten=_Pe.bind(null,e.syncEngine),n}),N_.apply(this,arguments)}function Ij(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Lj=new Map;function k_(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Dj(t){if(!L.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Aj(t){if(L.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rl(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rl(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Nj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function YPe(t,e,n,r){if(!0===e&&!0===r)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ij(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oo{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new WTe;switch(n.type){case"firstParty":return new XTe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Lj.get(e);n&&(H("ComponentProvider","Removing Datastore"),Lj.delete(e),n.terminate())}(this),Promise.resolve()}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}}class Zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zt(this.firestore,e,this._query)}}class cn extends Zt{constructor(e,n,r){super(e,n,M4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new L(e))}withConverter(e){return new cn(this.firestore,e,this._path)}}function XPe(t,e,...n){if(t=lt(t),k_("collection","path",e),t instanceof Oo){const r=pe.fromString(e,...n);return Aj(r),new cn(t,null,r)}{if(!(t instanceof ht||t instanceof cn))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Aj(r),new cn(t.firestore,null,r)}}function kj(t,e,...n){if(t=lt(t),1===arguments.length&&(e=WF.A()),k_("doc","path",e),t instanceof Oo){const r=pe.fromString(e,...n);return Dj(r),new ht(t,null,new L(r))}{if(!(t instanceof ht||t instanceof cn))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Dj(r),new ht(t.firestore,t instanceof cn?t.converter:null,new L(r))}}class JPe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ly(this,"async_queue_retry"),this.Xc=()=>{const n=Il();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Il();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Il();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new zt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!_r(n))throw n;H("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Qy.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function P_(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends Oo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JPe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rj(this),this._firestoreClient.terminate()}}function eRe(t,e){const r="string"==typeof t?t:e||"(default)",i=lr("object"==typeof t?t:ya(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=Sk("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function QPe(t,e,n,r={}){var i;const s=(t=fe(t,Oo))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&H1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,c;if("string"==typeof r.mockUserToken)o=r.mockUserToken,c=Rt.MOCK_USER;else{o=function uHe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[N0(JSON.stringify({alg:"none",type:"JWT"})),N0(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Rt(l)}t._authCredentials=new KTe(new qF(o,c))}}(i,...s)}return i}function _t(t){return t._firestoreClient||Rj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rj(t){var e,n,r;const i=t._freezeSettings(),s=(o=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new SNe(t._databaseId,o,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Ij(l.experimentalLongPollingOptions),l.useFetchStreams));var o,l;t._firestoreClient=new FPe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fi(St.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fi(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class B4{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class R_{constructor(e){this._methodName=e}}class O_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const nRe=/^__.*__$/;class rRe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new V4(e,this.data,n,this.fieldTransforms)}}class Bj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Ol{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ol(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Bl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Uj(this.ca)&&nRe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class iRe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ko(e)}ya(e,n,r,i=!1){return new Ol({ca:e,methodName:n,ga:r,path:ft.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U4(t){const e=t._freezeSettings(),n=ko(t._databaseId);return new iRe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F_(t,e,n,r,i,s={}){const a=t.ya(s.merge||s.mergeFields?2:0,e,n,i);U_("Data must be an object, but it was:",a,r);const o=Wj(r,a);let c,l;if(s.merge)c=new R2(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=Uo(e,f,n);if(!a.contains(d))throw new V(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Yj(u,d)||u.push(d)}c=new R2(u),l=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=a.fieldTransforms;return new rRe(new Jt(o),c,l)}class Bo extends R_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bo}}function Bi(t,e){if(Kj(t=lt(t)))return U_("Unsupported field value:",e,t),Wj(t,e);if(t instanceof R_)return function(n,r){if(!Uj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let o=Bi(a,r.wa(s));null==o&&(o={nullValue:"NULL_VALUE"}),i.push(o),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=lt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return RB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ye.fromDate(n);return{timestampValue:z4(r.serializer,i)}}if(n instanceof Ye){const i=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:z4(r.serializer,i)}}if(n instanceof O_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fi)return{bytesValue:sU(r.serializer,n._byteString)};if(n instanceof ht){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Rl(n)}`)}(t,e)}function Wj(t,e){const n={};return oB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(t,(r,i)=>{const s=Bi(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Kj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof O_||t instanceof Fi||t instanceof ht||t instanceof R_)}function U_(t,e,n){if(!Kj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Rl(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Uo(t,e,n){if((e=lt(e))instanceof B4)return e._internalPath;if("string"==typeof e)return Fl(t,e);throw Bl("Field path arguments must be of type string or ",t,!1,void 0,n)}const cRe=new RegExp("[~\\*/\\[\\]]");function Fl(t,e,n){if(e.search(cRe)>=0)throw Bl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new B4(...e.split("."))._internalPath}catch{throw Bl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bl(t,e,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new V(M.INVALID_ARGUMENT,o+t+c)}function Yj(t,e){return t.some(n=>n.isEqual(e))}class j_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lRe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ul("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class lRe extends j_{data(){return super.data()}}function Ul(t,e){return"string"==typeof e?Fl(t,e):e instanceof B4?e._internalPath:e._delegate._internalPath}class $_{}class q_ extends $_{}function uRe(t,e,...n){let r=[];e instanceof $_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(o=>o instanceof j4).length,a=i.filter(o=>o instanceof jo).length;if(s>1||s>0&&a>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jo extends q_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jo(e,n,r)}_apply(e){const n=this._parse(e);return e$(e._query,n),new Zt(e.firestore,e.converter,Yv(e._query,n))}_parse(e){const n=U4(e.firestore);return function(i,s,a,o,c,l,u){let f;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){Zj(u,l);const d=[];for(const h of u)d.push(Jj(o,i,h));f={arrayValue:{values:d}}}else f=Jj(o,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||Zj(u,l),f=function Gj(t,e,n,r=!1){return Bi(n,t.ya(r?4:3,e))}(a,"where",u,"in"===l||"not-in"===l);return le.create(c,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function fRe(t,e,n){const r=e,i=Ul("where",t);return jo._create(i,r,n)}class j4 extends $_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j4(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const o of a)e$(s,o),s=Yv(s,o)}(e._query,n),new Zt(e.firestore,e.converter,Yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class G_ extends q_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new G_(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new _4(i,s);return function(o,c){if(null===Wv(o)){const l=cl(o);null!==l&&t$(0,l,c.field)}}(r,a),a}(e._query,this._field,this._direction);return new Zt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Rn(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function dRe(t,e="asc"){const n=e,r=Ul("orderBy",t);return G_._create(r,n)}class jl extends q_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jl(e,n,r)}_apply(e){return new Zt(e.firestore,e.converter,ll(e._query,this._limit,this._limitType))}}function hRe(t){return function Tj(t,e){if(e<=0)throw new V(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),jl._create("limit",t,"F")}function Jj(t,e,n){if("string"==typeof(n=lt(n))){if(""===n)throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kv(e)&&-1!==n.indexOf("/"))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!L.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xi(t,new L(r))}if(n instanceof ht)return xi(t,n._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rl(n)}.`)}function Zj(t,e){if(!Array.isArray(t)||0===t.length)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e$(t,e){if(e.isInequality()){const r=cl(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new V(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Wv(t);null!==s&&t$(0,i,s)}const n=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new V(M.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function t$(t,e,n){if(!n.isEqual(e))throw new V(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class pRe{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new O_(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nl(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const n=Mr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);B(mU(r));const i=new Si(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ui{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $4 extends j_{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ul("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gl extends $4{data(e={}){return super.data(e)}}class q4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ui(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gl(this._firestore,this._userDataWriter,r.key,r,new Ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Gl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ui(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||3!==a.type).map(a=>{const o=new Gl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ui(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:gRe(a.type),doc:o,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gRe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class Dr extends pRe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function vRe(t,e,n,...r){t=fe(t,ht);const i=fe(t.firestore,Re),s=U4(i);let a;return a="string"==typeof(e=lt(e))||e instanceof B4?function qj(t,e,n,r,i,s){const a=t.ya(1,e,n),o=[Uo(e,r,n)],c=[i];if(s.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Uo(e,s[d])),c.push(s[d+1]);const l=[],u=Jt.empty();for(let d=o.length-1;d>=0;--d)if(!Yj(l,o[d])){const h=o[d];let p=c[d];p=lt(p);const g=a.da(h);if(p instanceof Bo)l.push(h);else{const v=Bi(p,g);null!=v&&(l.push(h),u.set(h,v))}}const f=new R2(l);return new Bj(u,f,a.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function $j(t,e,n,r){const i=t.ya(1,e,n);U_("Data must be an object, but it was:",i,r);const s=[],a=Jt.empty();Cr(r,(c,l)=>{const u=Fl(e,c,n);l=lt(l);const f=i.da(u);if(l instanceof Bo)s.push(u);else{const d=Bi(l,f);null!=d&&(s.push(u),a.set(u,d))}});const o=new R2(s);return new Bj(a,o,i.fieldTransforms)}(s,"updateDoc",t._key,e),$o(i,[a.toMutation(t._key,je.exists(!0))])}function yRe(t){return $o(fe(t.firestore,Re),[new H4(t._key,je.none())])}function _Re(t,e){const n=fe(t.firestore,Re),r=kj(t),i=function W_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return $o(n,[F_(U4(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function $o(t,e){return function(n,r){const i=new zt;return n.asyncQueue.enqueueAndForget(m(function*(){return function CPe(t,e,n){return o_.apply(this,arguments)}(yield function T_(t){return kl(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(_t(t),e)}!function(t,e=!0){m4=fi,M2(new a2("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new Re(new YTe(n.getProvider("auth-internal")),new JTe(n.getProvider("app-check-internal")),function(o,c){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Si(o.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),We($F,"3.13.0",t),We($F,"3.13.0","esm2017")}();var DRe={includeMetadataChanges:!1};function Y_(t,e){return void 0===e&&(e=DRe),new $e(function(n){var r=function CRe(t,...e){var n,r,i;t=lt(t);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||P_(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges};if(P_(e[a])){const f=e[a];e[a]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[a+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[a+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,u;if(t instanceof ht)l=fe(t.firestore,Re),u=M4(t._key.path),c={next:f=>{e[a]&&e[a](function K_(t,e,n){const r=n.docs.get(e._key),i=new Dr(t);return new $4(t,i,e._key,r,new Ui(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,f))},error:e[a+1],complete:e[a+2]};else{const f=fe(t,Zt);l=fe(f.firestore,Re),u=f._query;const d=new Dr(l);c={next:h=>{e[a]&&e[a](new q4(l,d,f,h))},error:e[a+1],complete:e[a+2]},function Qj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,d,h,p){const g=new Tl(p),v=new n_(d,g,h);return f.asyncQueue.enqueueAndForget(m(function*(){return function Xy(t,e){return Jy.apply(this,arguments)}(yield F4(f),v)})),()=>{g.Dc(),f.asyncQueue.enqueueAndForget(m(function*(){return function Zy(t,e){return e_.apply(this,arguments)}(yield F4(f),v)}))}}(_t(l),u,o,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ORe(t,e){return void 0===e&&(e={}),function RRe(t){return Y_(t,{includeMetadataChanges:!0}).pipe(dn(function(e){return e.docs}))}(t).pipe(dn(function(n){return n.map(function(r){return function i$(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class jn{constructor(e){return e}}const c$="firestore",J_=new O("angularfire2.firestore-instances");function URe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new jn(r)}}const jRe={provide:class FRe{constructor(){return vp(c$)}},deps:[[new I2,J_]]},$Re={provide:jn,useFactory:function BRe(t,e){const n=gp(c$,t,e);return n&&new jn(n)},deps:[[new I2,J_],Ys]};let qRe=(()=>{class t{constructor(){We("angularfire",wa.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({providers:[$Re,jRe]}),t})();function G4(t,...e){return{ngModule:qRe,providers:[{provide:J_,useFactory:URe(t),multi:!0,deps:[Te,r2,Q0,X0,[new I2,SO],[new I2,Op],...e]}]}}const W4=Tt(ORe,!0),l$=Tt(_Re,!0),$n=Tt(XPe,!0),GRe=Tt(yRe,!0),Z_=Tt(kj,!0),K4=Tt(eRe,!0),u$=Tt(hRe,!0),WRe=Tt(dRe,!0),Y4=Tt(uRe,!0),f$=Tt(vRe,!0),Ar=Tt(fRe,!0);let d$=(()=>{var t;class e{constructor(){this.firestore=k(jn)}subscribeToFleetOrders(r,i,s){let a=$n(this.firestore,"orders");W4(Y4(a,Ar("user","==",r),Ar("executed","==",!1)),{idField:"id"}).forEach(o=>{i.next(o.length),s.detectChanges()}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class eC{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class h${constructor(){this._orbit=0,this._ground=0,this._workers=new eC,this._soldiers=new eC,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class tC{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let KRe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new h$,a=i.querySelectorAll(".resourceLine .left > span"),o=[];a.forEach(l=>{let u=l.textContent.split(/\s+/),f=new tC;f.name=l.parentElement.className.split(/\s+/)[2],f.stored=parseInt(u[0].replace(/,/g,"")),f.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),f.abundance=parseInt(u[2].replace(/,/g,"")),o.push(f)}),s.resources=o;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class p${constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new eC,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var d2=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(d2||{});class YRe{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class QRe{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var De=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(De||{});class XRe{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let JRe=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new p$,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=d2.SURFACE;break;case 2:s=d2.RESOURCE;break;case 0:s=d2.FLEET;break;default:s=d2.UNKNOWN}let a=new YRe(r,s);if(s!==d2.UNKNOWN){a.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let o=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";a.planetScan.owner=new XRe(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),o.substring(1,o.length-1))}if((s===d2.RESOURCE||s===d2.SURFACE)&&(a.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),a.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),a.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===d2.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(o=>{let c=new tC;c.name=o.textContent.trim().toLowerCase(),a.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((o,c)=>{a.planetScan.resources[c].abundance=parseInt(o.textContent.trim())})),s===d2.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new tC;l.name=c.textContent.trim().toLowerCase(),a.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{a.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{a.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let o=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];a.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),a.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),a.planetScan.workers.available=parseInt(o.substring(1,o.length).replace(/,/g,"")),a.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{a.planetScan.structures.push(new QRe(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),a.planetScan.structures.forEach(c=>{switch(c.name){case De.OUTPOST:a.planetScan.resources[0].production+=300,a.planetScan.resources[1].production+=200,a.planetScan.resources[2].production+=100;break;case De.METAL_MINE:a.planetScan.resources[0].production+=300*c.quantity;break;case De.MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=200*c.quantity;break;case De.FARM:a.planetScan.resources[2].production+=300*c.quantity;break;case De.SOLAR_GENERATOR:a.planetScan.resources[3].production+=100*c.quantity;break;case De.CORE_METAL_MINE:a.planetScan.resources[0].production+=900*c.quantity;break;case De.CORE_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=600*c.quantity;break;case De.HYDROPONICS_LAB:a.planetScan.resources[2].production+=900*c.quantity;break;case De.SOLAR_ARRAY:a.planetScan.resources[3].production+=300*c.quantity;break;case De.STRIP_METAL_MINE:a.planetScan.resources[0].production+=9e3*c.quantity;break;case De.STRIP_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=6e3*c.quantity;break;case De.HYDROPONICS_DOME:a.planetScan.resources[2].production+=9e3*c.quantity;break;case De.SOLAR_STATION:a.planetScan.resources[3].production+=3e3*c.quantity}})}return a.planetScan.resources.forEach(o=>{o.production=Math.ceil(o.production*o.abundance/100)}),a}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ZRe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new h$;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class eOe{constructor(e,n,r){this._name=e,this._note=n,this._dgId=r}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}}let tOe=(()=>{var t;class e{constructor(){}extract(){let r=[];return document.querySelector('[action="/alliances/join/"]')||document.querySelectorAll(".allianceBox > .playerList").forEach(i=>{"member list"===i.parentElement.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let a=null,o=null,c=null;if(null!=s.querySelector("div.note")&&(o=s.querySelector("div.note").childNodes[0].textContent.trim()),null!=s.querySelector('[action="/alliances/kick/"] input')){let l=s.querySelector('[action="/alliances/kick/"] input').attributes.name.textContent.trim().toLocaleLowerCase().split(/\./);c=l[l.length-1]}null!=s.querySelector("div.name")&&(a=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(new eOe(a,o,c)))})}),r}cleanAfterExtract(){let r=document.querySelector(".allianceBox .playerList");r&&(r.parentNode.querySelector(".plainHeader").remove(),r.remove())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),S1=(()=>{var t;class e{constructor(){this.planetListExtractor=k(KRe),this.planetScanExtractor=k(JRe),this.navigationSystemPlanetsExtractor=k(ZRe),this.allianceMembersExtractor=k(tOe)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(r){let i=this.allianceMembersExtractor.extract();return r&&this.allianceMembersExtractor.cleanAfterExtract(),i}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(){let r=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==r.indexOf("[")&&4==r.indexOf("]")&&(r=r.substring(5,r.length)),r.toLowerCase()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class nC{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var m$=function(t){return t.USER="user",t.ADMIN="admin",t}(m$||{});let Q4=(()=>{var t;class e{constructor(){this._authState=new Gt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=PAe(r).subscribe(s=>{null!=s?W4(Y4($n(i,"valid-users"),Ar("email","==",s.email),u$(1))).subscribe(a=>{if(a.length>0){let o=Object.assign({email:"",enabled:!1,role:m$.USER},a[0]);o.enabled?(localStorage.setItem("user",JSON.stringify(s)),this._authState.emit(new nC(!0,o.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(localStorage.removeItem("user"),this._authState.emit(new nC(!1,null)))})}signInWithEmailAndPassword(r,i,s,a){RAe(r,i,s).then(()=>{a&&location.reload()}).catch(o=>{window.alert(o.message)})}signInWithGoogle(r,i){OAe(r,new TLe).then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}signOut(r,i){this._authState.emit(new nC(!0,null)),localStorage.removeItem("user"),this._refreshInProgress=i,r.signOut().then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function g$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g$(Object(n),!0).forEach(function(r){xt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kl(t){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function v$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rC(t,e){return function aOe(t){if(Array.isArray(t))return t}(t)||function cOe(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,o,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(c){s=!0,o=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw o}}return r}}(t,e)||y$(t,e)||function uOe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(t){return function sOe(t){if(Array.isArray(t))return iC(t)}(t)||function oOe(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y$(t)||function lOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y$(t,e){if(t){if("string"==typeof t)return iC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iC(t,e)}}function iC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _$=function(){},sC={},C$={},M$=null,w$={mark:_$,measure:_$};try{typeof window<"u"&&(sC=window),typeof document<"u"&&(C$=document),typeof MutationObserver<"u"&&(M$=MutationObserver),typeof performance<"u"&&(w$=performance)}catch{}var Xl,Jl,Zl,e5,t5,b$=(sC.navigator||{}).userAgent,V$=void 0===b$?"":b$,Tr=sC,Oe=C$,H$=M$,Ql=w$,qn=!!Oe.documentElement&&!!Oe.head&&"function"==typeof Oe.addEventListener&&"function"==typeof Oe.createElement,z$=~V$.indexOf("MSIE")||~V$.indexOf("Trident/"),Gn="___FONT_AWESOME___",S$="fa",x$="svg-inline--fa",ji="data-fa-i2svg",oC="data-fa-pseudo-element",dOe="data-fa-pseudo-element-pending",cC="data-prefix",lC="data-icon",E$="fontawesome-i2svg",hOe="async",pOe=["HTML","HEAD","STYLE","SCRIPT"],I$=function(){try{return!0}catch{return!1}}(),Fe="classic",rt="sharp",uC=[Fe,rt];function Wo(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Fe]}})}var Ko=Wo((xt(Xl={},Fe,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),xt(Xl,rt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Xl)),Yo=Wo((xt(Jl={},Fe,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),xt(Jl,rt,{solid:"fass",regular:"fasr",light:"fasl"}),Jl)),Qo=Wo((xt(Zl={},Fe,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),xt(Zl,rt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Zl)),mOe=Wo((xt(e5={},Fe,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),xt(e5,rt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),e5)),gOe=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,L$="fa-layers-text",vOe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,yOe=Wo((xt(t5={},Fe,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),xt(t5,rt,{900:"fass",400:"fasr",300:"fasl"}),t5)),D$=[1,2,3,4,5,6,7,8,9,10],_Oe=D$.concat([11,12,13,14,15,16,17,18,19,20]),COe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],$i={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Xo=new Set;Object.keys(Yo[Fe]).map(Xo.add.bind(Xo)),Object.keys(Yo[rt]).map(Xo.add.bind(Xo));var MOe=[].concat(uC,Go(Xo),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",$i.GROUP,$i.SWAP_OPACITY,$i.PRIMARY,$i.SECONDARY]).concat(D$.map(function(t){return"".concat(t,"x")})).concat(_Oe.map(function(t){return"w-".concat(t)})),Jo=Tr.FontAwesomeConfig||{};Oe&&"function"==typeof Oe.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=rC(t,2),r=e[1],i=function bOe(t){return""===t||"false"!==t&&("true"===t||t)}(function wOe(t){var e=Oe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Jo[r]=i)});var A$={styleDefault:"solid",familyDefault:"classic",cssPrefix:S$,replacementClass:x$,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Jo.familyPrefix&&(Jo.cssPrefix=Jo.familyPrefix);var X4=R(R({},A$),Jo);X4.autoReplaceSvg||(X4.observeMutations=!1);var U={};Object.keys(A$).forEach(function(t){Object.defineProperty(U,t,{enumerable:!0,set:function(n){X4[t]=n,Zo.forEach(function(r){return r(U)})},get:function(){return X4[t]}})}),Object.defineProperty(U,"familyPrefix",{enumerable:!0,set:function(e){X4.cssPrefix=e,Zo.forEach(function(n){return n(U)})},get:function(){return X4.cssPrefix}}),Tr.FontAwesomeConfig=U;var Zo=[],ln={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},SOe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ec(){for(var t=12,e="";t-- >0;)e+=SOe[62*Math.random()|0];return e}function J4(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function fC(t){return t.classList?J4(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function T$(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n5(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function dC(t){return t.size!==ln.size||t.x!==ln.x||t.y!==ln.y||t.rotate!==ln.rotate||t.flipX||t.flipY}var LOe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function N$(){var t=S$,e=x$,n=U.cssPrefix,r=U.replacementClass,i=LOe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}var k$=!1;function hC(){U.autoAddCss&&!k$&&(function zOe(t){if(t&&qn){var e=Oe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Oe.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}Oe.head.insertBefore(e,r)}}(N$()),k$=!0)}var DOe={mixout:function(){return{dom:{css:N$,insertCss:hC}}},hooks:function(){return{beforeDOMElementCreation:function(){hC()},beforeI2svg:function(){hC()}}}},Wn=Tr||{};Wn[Gn]||(Wn[Gn]={}),Wn[Gn].styles||(Wn[Gn].styles={}),Wn[Gn].hooks||(Wn[Gn].hooks={}),Wn[Gn].shims||(Wn[Gn].shims=[]);var x1=Wn[Gn],P$=[],r5=!1;function tc(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?T$(t):"<".concat(e," ").concat(function xOe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(T$(t[n]),'" ')},"").trim()}(r),">").concat(s.map(tc).join(""),"</").concat(e,">")}function R$(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}qn&&((r5=(Oe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Oe.readyState))||Oe.addEventListener("DOMContentLoaded",function t(){Oe.removeEventListener("DOMContentLoaded",t),r5=1,P$.map(function(e){return e()})}));var pC=function(e,n,r,i){var c,l,u,s=Object.keys(e),a=s.length,o=void 0!==i?function(e,n){return function(r,i,s,a){return e.call(n,r,i,s,a)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<a;c++)u=o(u,e[l=s[c]],l,e);return u};function mC(t){var e=function kOe(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function O$(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function gC(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=O$(e);"function"!=typeof x1.hooks.addPack||i?x1.styles[t]=R(R({},x1.styles[t]||{}),s):x1.hooks.addPack(t,O$(e)),"fas"===t&&gC("fa",e)}var i5,s5,a5,Z4=x1.styles,ROe=x1.shims,OOe=(xt(i5={},Fe,Object.values(Qo[Fe])),xt(i5,rt,Object.values(Qo[rt])),i5),vC=null,F$={},B$={},U$={},j$={},$$={},FOe=(xt(s5={},Fe,Object.keys(Ko[Fe])),xt(s5,rt,Object.keys(Ko[rt])),s5);var q$=function(){var e=function(s){return pC(Z4,function(a,o,c){return a[c]=pC(o,s,{}),a},{})};F$=e(function(i,s,a){return s[3]&&(i[s[3]]=a),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=a}),i}),B$=e(function(i,s,a){return i[a]=a,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=a}),i}),$$=e(function(i,s,a){var o=s[2];return i[a]=a,o.forEach(function(c){i[c]=a}),i});var n="far"in Z4||U.autoFetchSvg,r=pC(ROe,function(i,s){var a=s[0],o=s[1],c=s[2];return"far"===o&&!n&&(o="fas"),"string"==typeof a&&(i.names[a]={prefix:o,iconName:c}),"number"==typeof a&&(i.unicodes[a.toString(16)]={prefix:o,iconName:c}),i},{names:{},unicodes:{}});U$=r.names,j$=r.unicodes,vC=o5(U.styleDefault,{family:U.familyDefault})};function yC(t,e){return(F$[t]||{})[e]}function qi(t,e){return($$[t]||{})[e]}function G$(t){return U$[t]||{prefix:null,iconName:null}}function kr(){return vC}(function HOe(t){Zo.push(t)})(function(t){vC=o5(t.styleDefault,{family:U.familyDefault})}),q$();var _C=function(){return{prefix:null,iconName:null,rest:[]}};function o5(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Fe:n;return Yo[r][t]||Yo[r][Ko[r][t]]||(t in x1.styles?t:null)||null}var W$=(xt(a5={},Fe,Object.keys(Qo[Fe])),xt(a5,rt,Object.keys(Qo[rt])),a5);function c5(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(xt(e={},Fe,"".concat(U.cssPrefix,"-").concat(Fe)),xt(e,rt,"".concat(U.cssPrefix,"-").concat(rt)),e),a=null,o=Fe;(t.includes(s[Fe])||t.some(function(l){return W$[Fe].includes(l)}))&&(o=Fe),(t.includes(s[rt])||t.some(function(l){return W$[rt].includes(l)}))&&(o=rt);var c=t.reduce(function(l,u){var f=function UOe(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function BOe(t){return~MOe.indexOf(t)}(i)?null:i}(U.cssPrefix,u);if(Z4[u]?(u=OOe[o].includes(u)?mOe[o][u]:u,a=u,l.prefix=u):FOe[o].indexOf(u)>-1?(a=u,l.prefix=o5(u,{family:o})):f?l.iconName=f:u!==U.replacementClass&&u!==s[Fe]&&u!==s[rt]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===a?G$(l.iconName):{},h=qi(l.prefix,l.iconName);d.prefix&&(a=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!Z4.far&&Z4.fas&&!U.autoFetchSvg&&(l.prefix="fas")}return l},_C());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&o===rt&&(Z4.fass||U.autoFetchSvg)&&(c.prefix="fass",c.iconName=qi(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===a)&&(c.prefix=kr()||"fas"),c}var qOe=function(){function t(){(function nOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function rOe(t,e,n){e&&v$(t.prototype,e),n&&v$(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){n.definitions[o]=R(R({},n.definitions[o]||{}),a[o]),gC(o,a[o]);var c=Qo[Fe][o];c&&gC(c,a[o]),q$()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var a=i[s],o=a.prefix,c=a.iconName,l=a.icon,u=l[2];n[o]||(n[o]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[o][f]=l)}),n[o][c]=l}),n}}]),t}(),K$=[],e3={},t3={},GOe=Object.keys(t3);function CC(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(e3[t]||[]).forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function Gi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(e3[t]||[]).forEach(function(s){s.apply(null,n)})}function Kn(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return t3[t]?t3[t].apply(null,e):void 0}function MC(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||kr();if(e)return e=qi(n,e)||e,R$(Y$.definitions,n,e)||R$(x1.styles,n,e)}var Y$=new qOe,YOe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qn?(Gi("beforeI2svg",e),Kn("pseudoElements2svg",e),Kn("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===U.autoReplaceSvg&&(U.autoReplaceSvg=!0),U.observeMutations=!0,function TOe(t){qn&&(r5?setTimeout(t,0):P$.push(t))}(function(){XOe({autoReplaceSvgRoot:n}),Gi("watch",e)})}},J2={noAuto:function(){U.autoReplaceSvg=!1,U.observeMutations=!1,Gi("noAuto")},config:U,dom:YOe,parse:{icon:function(e){if(null===e)return null;if("object"===Kl(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:qi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=o5(e[0]);return{prefix:r,iconName:qi(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(U.cssPrefix,"-"))>-1||e.match(gOe))){var i=c5(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||kr(),iconName:qi(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=kr();return{prefix:s,iconName:qi(s,e)||e}}}},library:Y$,findIconDefinition:MC,toHtml:tc},XOe=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Oe:n;(Object.keys(x1.styles).length>0||U.autoFetchSvg)&&qn&&U.autoReplaceSvg&&J2.dom.i2svg({node:r})};function l5(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return tc(r)})}}),Object.defineProperty(t,"node",{get:function(){if(qn){var r=Oe.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function wC(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,o=t.symbol,c=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=void 0!==d&&d,p=r.found?r:n,g=p.width,v=p.height,_="fak"===i,y=[U.replacementClass,s?"".concat(U.cssPrefix,"-").concat(s):""].filter(function(Ct){return-1===f.classes.indexOf(Ct)}).filter(function(Ct){return""!==Ct||!!Ct}).concat(f.classes).join(" "),w={children:[],attributes:R(R({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},S=_&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(w.attributes[ji]=""),c&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||ec())},children:[c]}),delete w.attributes.title);var I=R(R({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:a,symbol:o,styles:R(R({},S),f.styles)}),q=r.found&&n.found?Kn("generateAbstractMask",I)||{children:[],attributes:{}}:Kn("generateAbstractIcon",I)||{children:[],attributes:{}},pt=q.attributes;return I.children=q.children,I.attributes=pt,o?function ZOe(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,a=!0===s?"".concat(t.prefix,"-").concat(U.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:R(R({},i),{},{id:a}),children:r}]}]}(I):function JOe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(dC(a)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=n5(R(R({},s),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(I)}function Q$(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,a=t.extra,o=t.watchable,c=void 0!==o&&o,l=R(R(R({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});c&&(l[ji]="");var u=R({},a.styles);dC(i)&&(u.transform=function IOe(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,a=t.startCentered,o=void 0!==a&&a,c="";return c+=o&&z$?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):o?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=n5(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var bC=x1.styles;function VC(t){var e=t[0],n=t[1],s=rC(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(U.cssPrefix,"-").concat($i.GROUP)},children:[{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat($i.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat($i.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var tFe={found:!1,width:512,height:512};function HC(t,e){var n=e;return"fa"===e&&null!==U.styleDefault&&(e=kr()),new Promise(function(r,i){if(Kn("missingIconAbstract"),"fa"===n){var a=G$(t)||{};t=a.iconName||t,e=a.prefix||e}if(t&&e&&bC[e]&&bC[e][t])return r(VC(bC[e][t]));(function nFe(t,e){!I$&&!U.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(R(R({},tFe),{},{icon:U.showMissingIcons&&t&&Kn("missingIconAbstract")||{}}))})}var X$=function(){},zC=U.measurePerformance&&Ql&&Ql.mark&&Ql.measure?Ql:{mark:X$,measure:X$},nc='FA "6.4.2"',J$=function(e){zC.mark("".concat(nc," ").concat(e," ends")),zC.measure("".concat(nc," ").concat(e),"".concat(nc," ").concat(e," begins"),"".concat(nc," ").concat(e," ends"))},SC={begin:function(e){return zC.mark("".concat(nc," ").concat(e," begins")),function(){return J$(e)}},end:J$},u5=function(){};function Z$(t){return"string"==typeof(t.getAttribute?t.getAttribute(ji):null)}function oFe(t){return Oe.createElementNS("http://www.w3.org/2000/svg",t)}function cFe(t){return Oe.createElement(t)}function eq(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?oFe:cFe:n;if("string"==typeof t)return Oe.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])}),(t.children||[]).forEach(function(a){i.appendChild(eq(a,{ceFn:r}))}),i}var f5={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(eq(i),n)}),null===n.getAttribute(ji)&&U.keepOriginalSource){var r=Oe.createComment(function lFe(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~fC(n).indexOf(U.replacementClass))return f5.replace(e);var i=new RegExp("".concat(U.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(o,c){return c===U.replacementClass||c.match(i)?o.toSvg.push(c):o.toNode.push(c),o},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var a=r.map(function(o){return tc(o)}).join("\n");n.setAttribute(ji,""),n.innerHTML=a}};function tq(t){t()}function nq(t,e){var n="function"==typeof e?e:u5;if(0===t.length)n();else{var r=tq;U.mutateApproach===hOe&&(r=Tr.requestAnimationFrame||tq),r(function(){var i=function aFe(){return!0===U.autoReplaceSvg?f5.replace:f5[U.autoReplaceSvg]||f5.replace}(),s=SC.begin("mutate");t.map(i),s(),n()})}}var xC=!1;function rq(){xC=!0}function EC(){xC=!1}var d5=null;function iq(t){if(H$&&U.observeMutations){var e=t.treeCallback,n=void 0===e?u5:e,r=t.nodeCallback,i=void 0===r?u5:r,s=t.pseudoElementsCallback,a=void 0===s?u5:s,o=t.observeMutationsRoot,c=void 0===o?Oe:o;d5=new H$(function(l){if(!xC){var u=kr();J4(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!Z$(f.addedNodes[0])&&(U.searchPseudoElements&&a(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&U.searchPseudoElements&&a(f.target.parentNode),"attributes"===f.type&&Z$(f.target)&&~COe.indexOf(f.attributeName))if("class"===f.attributeName&&function iFe(t){var e=t.getAttribute?t.getAttribute(cC):null,n=t.getAttribute?t.getAttribute(lC):null;return e&&n}(f.target)){var d=c5(fC(f.target)),p=d.iconName;f.target.setAttribute(cC,d.prefix||u),p&&f.target.setAttribute(lC,p)}else(function sFe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(U.replacementClass)})(f.target)&&i(f.target)})}}),qn&&d5.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function sq(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function dFe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=c5(fC(t));return i.prefix||(i.prefix=kr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function jOe(t,e){return(B$[t]||{})[e]}(i.prefix,t.innerText)||yC(i.prefix,mC(t.innerText))),!i.iconName&&U.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,a=function hFe(t){var e=J4(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return U.autoA11y&&(n?e["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(r||ec()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),o=CC("parseNodeAttributes",{},t),c=e.styleParser?function fFe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}(t):[];return R({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:ln,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:a}},o)}var mFe=x1.styles;function aq(t){var e="nest"===U.autoReplaceSvg?sq(t,{styleParser:!1}):sq(t);return~e.extra.classes.indexOf(L$)?Kn("generateLayersText",t,e):Kn("generateSvgReplacementMutation",t,e)}var Pr=new Set;function oq(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!qn)return Promise.resolve();var n=Oe.documentElement.classList,r=function(f){return n.add("".concat(E$,"-").concat(f))},i=function(f){return n.remove("".concat(E$,"-").concat(f))},s=U.autoFetchSvg?Pr:uC.map(function(u){return"fa-".concat(u)}).concat(Object.keys(mFe));s.includes("fa")||s.push("fa");var a=[".".concat(L$,":not([").concat(ji,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(ji,"])")})).join(", ");if(0===a.length)return Promise.resolve();var o=[];try{o=J4(t.querySelectorAll(a))}catch{}if(!(o.length>0))return Promise.resolve();r("pending"),i("complete");var c=SC.begin("onTree"),l=o.reduce(function(u,f){try{var d=aq(f);d&&u.push(d)}catch(h){I$||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){nq(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(d){c(),f(d)})})}function gFe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;aq(t).then(function(n){n&&nq([n],e)})}function vFe(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:MC(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:MC(i||{})),t(r,R(R({},n),{},{mask:i}))}}uC.map(function(t){Pr.add("fa-".concat(t))}),Object.keys(Ko[Fe]).map(Pr.add.bind(Pr)),Object.keys(Ko[rt]).map(Pr.add.bind(Pr)),Pr=Go(Pr);var yFe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?ln:r,s=n.symbol,a=void 0!==s&&s,o=n.mask,c=void 0===o?null:o,l=n.maskId,u=void 0===l?null:l,f=n.title,d=void 0===f?null:f,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,_=n.attributes,y=void 0===_?{}:_,w=n.styles,S=void 0===w?{}:w;if(e){var I=e.prefix,q=e.iconName,oe=e.icon;return l5(R({type:"icon"},e),function(){return Gi("beforeDOMElementCreation",{iconDefinition:e,params:n}),U.autoA11y&&(d?y["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(p||ec()):(y["aria-hidden"]="true",y.focusable="false")),wC({icons:{main:VC(oe),mask:c?VC(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:I,iconName:q,transform:R(R({},ln),i),symbol:a,title:d,maskId:u,titleId:p,extra:{attributes:y,styles:S,classes:v}})})}},_Fe={mixout:function(){return{icon:vFe(yFe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=oq,n.nodeCallback=gFe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return oq(void 0===r?Oe:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,a=r.titleId,o=r.prefix,c=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([HC(i,o),u.iconName?HC(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=rC(g,2);h([n,wC({icons:{main:v[0],mask:v[1]},prefix:o,iconName:i,transform:c,symbol:l,maskId:f,title:s,titleId:a,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,a=n.transform,c=n5(n.styles);return c.length>0&&(i.style=c),dC(a)&&(l=Kn("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},CFe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return l5({type:"layer"},function(){Gi("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(o){Array.isArray(o)?o.map(function(c){a=a.concat(c.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(U.cssPrefix,"-layers")].concat(Go(s)).join(" ")},children:a}]})}}}},MFe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,a=r.classes,o=void 0===a?[]:a,c=r.attributes,l=void 0===c?{}:c,u=r.styles,f=void 0===u?{}:u;return l5({type:"counter",content:n},function(){return Gi("beforeDOMElementCreation",{content:n,params:r}),function eFe(t){var e=t.content,n=t.title,r=t.extra,i=R(R(R({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=n5(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(U.cssPrefix,"-layers-counter")].concat(Go(o))}})})}}}},wFe={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?ln:i,a=r.title,o=void 0===a?null:a,c=r.classes,l=void 0===c?[]:c,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return l5({type:"text",content:n},function(){return Gi("beforeDOMElementCreation",{content:n,params:r}),Q$({content:n,transform:R(R({},ln),s),title:o,extra:{attributes:f,styles:h,classes:["".concat(U.cssPrefix,"-layers-text")].concat(Go(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,a=r.extra,o=null,c=null;if(z$){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();o=u.width/l,c=u.height/l}return U.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,Q$({content:n.innerHTML,width:o,height:c,transform:s,title:i,extra:a,watchable:!0})])}}},bFe=new RegExp('"',"ug"),cq=[1105920,1112319];function lq(t,e){var n="".concat(dOe).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var a=J4(t.children).filter(function(oe){return oe.getAttribute(oC)===e})[0],o=Tr.getComputedStyle(t,e),c=o.getPropertyValue("font-family").match(vOe),l=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!c)return t.removeChild(a),r();if(c&&"none"!==u&&""!==u){var f=o.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?rt:Fe,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Yo[d][c[2].toLowerCase()]:yOe[d][l],p=function VFe(t){var e=t.replace(bFe,""),n=function POe(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=cq[0]&&n<=cq[1],i=2===e.length&&e[0]===e[1];return{value:mC(i?e[0]:e),isSecondary:r||i}}(f),g=p.value,v=p.isSecondary,_=c[0].startsWith("FontAwesome"),y=yC(h,g),w=y;if(_){var S=function $Oe(t){var e=j$[t],n=yC("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);S.iconName&&S.prefix&&(y=S.iconName,h=S.prefix)}if(!y||v||a&&a.getAttribute(cC)===h&&a.getAttribute(lC)===w)r();else{t.setAttribute(n,w),a&&t.removeChild(a);var I=function pFe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ln,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),q=I.extra;q.attributes[oC]=e,HC(y,h).then(function(oe){var pt=wC(R(R({},I),{},{icons:{main:oe,mask:_C()},prefix:h,iconName:w,extra:q,watchable:!0})),Ct=Oe.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Ct,t.firstChild):t.appendChild(Ct),Ct.outerHTML=pt.map(function(lc){return tc(lc)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function HFe(t){return Promise.all([lq(t,"::before"),lq(t,"::after")])}function zFe(t){return!(t.parentNode===document.head||~pOe.indexOf(t.tagName.toUpperCase())||t.getAttribute(oC)||t.parentNode&&"svg"===t.parentNode.tagName)}function uq(t){if(qn)return new Promise(function(e,n){var r=J4(t.querySelectorAll("*")).filter(zFe).map(HFe),i=SC.begin("searchPseudoElements");rq(),Promise.all(r).then(function(){i(),EC(),e()}).catch(function(){i(),EC(),n()})})}var fq=!1,dq=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&"h"===o)return r.flipX=!0,r;if(a&&"v"===o)return r.flipY=!0,r;if(o=parseFloat(o),isNaN(o))return r;switch(a){case"grow":r.size=r.size+o;break;case"shrink":r.size=r.size-o;break;case"left":r.x=r.x-o;break;case"right":r.x=r.x+o;break;case"up":r.y=r.y-o;break;case"down":r.y=r.y+o;break;case"rotate":r.rotate=r.rotate+o}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},IC={x:0,y:0,width:"100%",height:"100%"};function hq(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function IFe(t){return"g"===t.tag?t.children:[t]}var LFe={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?c5(i.split(" ").map(function(a){return a.trim()})):_C();return s.prefix||(s.prefix=kr()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.mask,o=n.maskId,u=s.icon,d=a.icon,h=function EOe(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:a.width,iconWidth:s.width}),p={tag:"rect",attributes:R(R({},IC),{},{fill:"white"})},g=u.children?{children:u.children.map(hq)}:{},v={tag:"g",attributes:R({},h.inner),children:[hq(R({tag:u.tag,attributes:R(R({},u.attributes),h.path)},g))]},_={tag:"g",attributes:R({},h.outer),children:[v]},y="mask-".concat(o||ec()),w="clip-".concat(o||ec()),S={tag:"mask",attributes:R(R({},IC),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},I={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:IFe(d)},S]};return r.push(I,{tag:"rect",attributes:R({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},IC)}),{children:r,attributes:i}}}};!function WOe(t,e){var n=e.mixoutsTo;K$=t,e3={},Object.keys(t3).forEach(function(r){-1===GOe.indexOf(r)&&delete t3[r]}),K$.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){"function"==typeof i[a]&&(n[a]=i[a]),"object"===Kl(i[a])&&Object.keys(i[a]).forEach(function(o){n[a]||(n[a]={}),n[a][o]=i[a][o]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(a){e3[a]||(e3[a]=[]),e3[a].push(s[a])})}r.provides&&r.provides(t3)})}([DOe,_Fe,CFe,MFe,wFe,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=uq,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;U.searchPseudoElements&&uq(void 0===r?Oe:r)}}},{mixout:function(){return{dom:{unwatch:function(){rq(),fq=!0}}}},hooks:function(){return{bootstrap:function(){iq(CC("mutationObserverCallbacks",{}))},noAuto:function(){!function uFe(){d5&&d5.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;fq?EC():iq(CC("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return dq(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=dq(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,a=n.iconWidth,o={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:o,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:R({},h.outer),children:[{tag:"g",attributes:R({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:R(R({},r.icon.attributes),h.path)}]}]}}}},LFe,{provides:function(e){var n=!1;Tr.matchMedia&&(n=Tr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:R(R({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=R(R({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:R(R({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||o.children.push({tag:"animate",attributes:R(R({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:R(R({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(o),r.push({tag:"path",attributes:R(R({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:R(R({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:R(R({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:R(R({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:J2});var NFe=J2.parse,kFe=J2.icon;const PFe=["*"],FFe=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let jFe=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),h5=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(a=>i[a]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$Fe=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[e1]}),e})(),qFe=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(_n),z(D2))},t.\u0275cmp=T1({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[e1],ngContentSelectors:PFe,decls:1,vars:0,template:function(r,i){1&r&&(function MH(t){const e=b()[ot][e2];if(!e.projection){const r=e.projection=b3(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const a=t?Jee(s,t):0;null!==a&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}(),function wH(t,e=0,n){const r=b(),i=he(),s=zs(i,ce+t,16,null,n||null);null===s.projection&&(s.projection=e),mu(),(!r[mn]||as())&&32!=(32&s.flags)&&function nJ(t,e,n){Lb(e[te],0,e,n,$u(t,n,e),Hb(n.parent||e[e2],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),pq=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,a,o){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=a,this.classes=[],null!=o&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const a=this.buildParams();this.renderIcon(s,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?NFe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...FFe(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=kFe(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Qx),z(jFe),z(h5),z($Fe,8),z(qFe,8))},t.\u0275cmp=T1({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(G7("innerHTML",i.renderedIconHTML,$b),G1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[e1],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),p5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({}),e})(),GFe=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&$3("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function WFe(t,e){if(1&t&&(A(0,"span",13),se(1),Lt(2,"async"),j()),2&t){const n=qt();F(1),Xe(C1(2,1,n.fleetOrdersNotification))}}const Wi=function(){return{color:"#eee"}},KFe=function(){return["fas","house-chimney"]},YFe=function(){return["fas","earth-americas"]},QFe=function(){return["fas","satellite-dish"]},XFe=function(){return["fas","jet-fighter-up"]},JFe=function(){return["fas","chess-board"]},ZFe=function(){return["fas","flask-vial"]},eBe=function(){return["fas","hand-fist"]};let tBe=(()=>{var t;class e{constructor(r){this.renderer=k(_n),this.badgeService=k(d$),this.dgAPI=k(S1),this.changeDetection=k(na),this.authService=k(Q4),r.addIcons(H0,js,H9,q9,h9,f9,A0),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new $e(s=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),s,this.changeDetection)})),this.changeDetection.detectChanges()})}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(h5))},t.\u0275cmp=T1({type:t,selectors:[["dgt-navbar"]],decls:39,vars:45,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"],[1,"notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(A(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),Qe(4,"fa-icon",4),A(5,"span",5),se(6,"home"),j()()(),A(7,"li",2)(8,"a",6),Qe(9,"fa-icon",4),A(10,"span",5),se(11,"planets"),j()()(),A(12,"li",2)(13,"a",7),Qe(14,"fa-icon",4),A(15,"span",5),se(16,"radar"),j()()(),A(17,"li",2),G2(18,WFe,3,3,"span",8),Lt(19,"async"),A(20,"a",9),Qe(21,"fa-icon",4),A(22,"span",5),se(23,"fleets"),j()()(),A(24,"li",2)(25,"a",10),Qe(26,"fa-icon",4),A(27,"span",5),se(28,"navigation"),j()()(),A(29,"li",2)(30,"a",11),Qe(31,"fa-icon",4),A(32,"span",5),se(33,"research"),j()()(),A(34,"li",2)(35,"a",12),Qe(36,"fa-icon",4),A(37,"span",5),se(38,"alliances"),j()()()()()),2&r&&(F(2),X("tabName","home"),F(2),Vt(Ht(31,Wi)),X("icon",Ht(32,KFe)),F(3),X("tabName","planets"),F(2),Vt(Ht(33,Wi)),X("icon",Ht(34,YFe)),F(3),X("tabName","radar"),F(2),Vt(Ht(35,Wi)),X("icon",Ht(36,QFe)),F(3),X("tabName","fleets"),F(1),X("ngIf",i.active&&C1(19,29,i.fleetOrdersNotification)),F(3),Vt(Ht(37,Wi)),X("icon",Ht(38,XFe)),F(3),X("tabName","navigation"),F(2),Vt(Ht(39,Wi)),X("icon",Ht(40,JFe)),F(3),X("tabName","research"),F(2),Vt(Ht(41,Wi)),X("icon",Ht(42,ZFe)),F(3),X("tabName","alliances"),F(2),Vt(Ht(43,Wi)),X("icon",Ht(44,eBe)))},dependencies:[ai,pq,GFe,p0],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const l1_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let nBe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t,bootstrap:[tBe]}),t.\u0275inj=it({providers:[d$],imports:[oi,p5,Qs(()=>Js(l1_firebase)),a4(()=>o4()),G4(()=>K4()),e4(()=>t4(Xs(),{provider:new fr(l1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class rBe{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class iBe{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class mq{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class gq{constructor(){this._resources=new iBe,this._workers=new mq,this._soldiers=new mq}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Et=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Et||{});let vq=(()=>{var t;class e{constructor(){this.dgAPI=k(S1)}extractStats(){let r=new rBe;return r.stats.set(Et.ALL,new gq),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new gq),r.stats.get(Et.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Et.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Et.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Et.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Et.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Et.METAL:r.stats.get(Et.ALL).resources.metalStored+=s.stored,r.stats.get(Et.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Et.MINERAL:r.stats.get(Et.ALL).resources.mineralStored+=s.stored,r.stats.get(Et.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Et.FOOD:r.stats.get(Et.ALL).resources.foodStored+=s.stored,r.stats.get(Et.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Et.ENERGY:r.stats.get(Et.ALL).resources.energyStored+=s.stored,r.stats.get(Et.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),sBe=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),LC=(()=>{var t;class e{constructor(){this.decimalPipe=k(Us)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const aBe=function(t){return{"dgt-stats-totals-last-row":t}},u1=function(t){return{"dgt-padding-bottom-xs":t}};function oBe(t,e){if(1&t&&(A(0,"tr",4)(1,"th",5),se(2),Lt(3,"galaxyNameFormatter"),j(),A(4,"td",6)(5,"div",7),Qe(6,"img",8),A(7,"span",9),se(8),Lt(9,"number"),j()()(),A(10,"td",10)(11,"div",7)(12,"span",9),se(13),Lt(14,"resourceProductionFormatter"),j()()(),A(15,"td",11)(16,"div",12),Qe(17,"img",13),A(18,"span",9),se(19),Lt(20,"number"),j()()(),A(21,"td",10)(22,"div",12)(23,"span",9),se(24),Lt(25,"resourceProductionFormatter"),j()()(),A(26,"td",11)(27,"div",14),Qe(28,"img",15),A(29,"span",9),se(30),Lt(31,"number"),j()()(),A(32,"td",10)(33,"div",14)(34,"span",9),se(35),Lt(36,"resourceProductionFormatter"),j()()(),A(37,"td",11)(38,"div",16),Qe(39,"img",17),A(40,"span",9),se(41),Lt(42,"number"),j()()(),A(43,"td",18)(44,"div",16)(45,"span",9),se(46),Lt(47,"resourceProductionFormatter"),j()()(),A(48,"td",19)(49,"div",20),Qe(50,"img",21),A(51,"span",9),se(52),Lt(53,"number"),j()()(),A(54,"td",22)(55,"div",23),Qe(56,"img",24),A(57,"span",9),se(58),Lt(59,"number"),j()()(),A(60,"td",25)(61,"div",26),Qe(62,"img",27),A(63,"span",9),se(64),Lt(65,"number"),j()()()()),2&t){const n=e.$implicit,r=e.index,i=qt();X("ngClass",T2(63,aBe,r==i.panel.stats.size-1)),F(1),X("ngClass",T2(65,u1,r==i.panel.stats.size-2)),F(1),Xe(C1(3,25,n.key)),F(2),X("ngClass",T2(67,u1,r==i.panel.stats.size-2)),F(4),Xe(ir(9,27,n.value.resources.metalStored,"1.0","en-US")),F(2),X("ngClass",T2(69,u1,r==i.panel.stats.size-2)),F(3),Xe(C1(14,31,n.value.resources.metalProduction)),F(2),X("ngClass",T2(71,u1,r==i.panel.stats.size-2)),F(4),Xe(ir(20,33,n.value.resources.mineralStored,"1.0","en-US")),F(2),X("ngClass",T2(73,u1,r==i.panel.stats.size-2)),F(3),Xe(C1(25,37,n.value.resources.mineralProduction)),F(2),X("ngClass",T2(75,u1,r==i.panel.stats.size-2)),F(4),Xe(ir(31,39,n.value.resources.foodStored,"1.0","en-US")),F(2),X("ngClass",T2(77,u1,r==i.panel.stats.size-2)),F(3),Xe(C1(36,43,n.value.resources.foodProduction)),F(2),X("ngClass",T2(79,u1,r==i.panel.stats.size-2)),F(4),Xe(ir(42,45,n.value.resources.energyStored,"1.0","en-US")),F(2),X("ngClass",T2(81,u1,r==i.panel.stats.size-2)),F(3),Xe(C1(47,49,n.value.resources.energyProduction)),F(2),X("ngClass",T2(83,u1,r==i.panel.stats.size-2)),F(4),Xe(ir(53,51,n.value.resources.ground,"1.0","en-US")),F(2),X("ngClass",T2(85,u1,r==i.panel.stats.size-2)),F(4),Xe(ir(59,55,n.value.resources.orbit,"1.0","en-US")),F(2),X("ngClass",T2(87,u1,r==i.panel.stats.size-2)),F(4),Xe(ir(65,59,n.value.soldiers.total,"1.0","en-US"))}}let cBe=(()=>{var t;class e{constructor(){this.statsPanelService=k(vq)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=T1({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(A(0,"div",0)(1,"div",1)(2,"table",2),G2(3,oBe,66,89,"tr",3),Lt(4,"keyvalue"),j()()()),2&r&&(F(3),X("ngForOf",C1(4,1,i.panel.stats)))},dependencies:[$f,h0,Us,Sx,sBe,LC],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #626262;height:15px;width:15px;vertical-align:middle}"]}),e})(),lBe=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t,bootstrap:[cBe]}),t.\u0275inj=it({providers:[Us,vq,S1],imports:[oi,p5]}),e})(),yq=(()=>{var t;class e{constructor(){this.firestore=k(jn),this.dgAPI=k(S1)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=$n(this.firestore,"scans");W4(Y4(i,Ar("location","==",r.planetScan.location),u$(1)),{idField:"id"}).forEach(s=>{let a=Object.assign(new p$,s[0]);a.location=r.planetScan.location,a.turn=r.planetScan.turn,a.owner=r.planetScan.owner,(r.type==d2.RESOURCE||r.type==d2.SURFACE)&&(a.orbit=r.planetScan.orbit,a.ground=r.planetScan.ground),r.type==d2.RESOURCE&&(a.resources.length>0?a.resources.forEach((o,c)=>{o.abundance=r.planetScan.resources[c].abundance,o.name=r.planetScan.resources[c].name}):a.resources=r.planetScan.resources),r.type==d2.SURFACE&&(a.resources=r.planetScan.resources,a.workers=r.planetScan.workers,a.soldiers=r.planetScan.soldiers,a.structures=r.planetScan.structures),r.type==d2.FLEET&&(a.fleets=r.planetScan.fleets),0==s.length?l$(i,JSON.parse(JSON.stringify(a))).catch(o=>{console.log(o)}):f$(Z_(i,a.id),JSON.parse(JSON.stringify(a))).catch(o=>{console.log(o)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function uBe(t,e){1&t&&(A(0,"p",1),se(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),j())}let fBe=(()=>{var t;class e{constructor(){this.scanService=k(yq),this.authService=k(Q4),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=T1({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&G2(0,uBe,2,0,"p",0),2&r&&X("ngIf",i.active)},dependencies:[ai]}),e})(),dBe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t,bootstrap:[fBe]}),t.\u0275inj=it({providers:[yq,S1],imports:[oi,Qs(()=>Js(l1_firebase)),a4(()=>o4()),G4(()=>K4()),e4(()=>t4(Xs(),{provider:new fr(l1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),_q=(()=>{var t;class e{constructor(){this.firestore=k(jn),this.dgAPI=k(S1),this.resourceProductionFormatterPipe=k(LC),this.decimalPipe=k(Us)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));W4(Y4($n(this.firestore,"scans"),Ar("location","in",i))).forEach(s=>{let o=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=o.get(l);if(c.querySelector(".dgt-navigation-scan-turn").style.display="contents",c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(u.turn,"1.0","en_US"),u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let f=u.structures.map(h=>h.name);f.includes(De.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),f.includes(De.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),f.includes(De.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),f.includes(De.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),f.includes(De.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),f.includes(De.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),f.includes(De.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),f.includes(De.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),f.includes(De.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let d=1;if(f.includes(De.MEDICAL_CENTRE)&&(d+=.3),f.includes(De.LEISURE_CENTRE)&&(d+=.4),f.includes(De.HOSPITAL)&&(d+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(d,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}}else c.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hBe(t,e){1&t&&(A(0,"p",1),se(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),j())}let pBe=(()=>{var t;class e{constructor(){this.scanService=k(_q),this.authService=k(Q4),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=T1({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&G2(0,hBe,2,0,"p",0),2&r&&X("ngIf",i.active)},dependencies:[ai]}),e})(),mBe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t,bootstrap:[pBe]}),t.\u0275inj=it({providers:[Us,LC,_q,S1],imports:[oi,Qs(()=>Js(l1_firebase)),a4(()=>o4()),G4(()=>K4()),e4(()=>t4(Xs(),{provider:new fr(l1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function gBe(t,e){if(1&t){const n=ti();A(0,"div",2)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"span"),se(6,"DGT Login"),j()()(),A(7,"tr",4)(8,"td"),Qe(9,"input",5,6),j(),A(11,"td"),Qe(12,"input",7,8),j()(),A(14,"tr",9)(15,"td",3)(16,"button",10),Ge("click",function(){g1(n);const i=O7(10),s=O7(13);return v1(qt().signInWithEmailAndPassword(i.value,s.value,!0))}),se(17,"Login"),j(),A(18,"button",11),Ge("click",function(){return g1(n),v1(qt().signInWithGoogle(!0))}),Qe(19,"img",12),j()()()()()()}}function vBe(t,e){if(1&t){const n=ti();A(0,"div",13)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"button",14),Ge("click",function(){return g1(n),v1(qt().signOut(!0))}),se(6,"Logout"),j()()()()()()}}let yBe=(()=>{var t;class e{constructor(){this.authService=k(Q4),this.auth=k(w8),this.firestore=k(jn),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore)}signInWithEmailAndPassword(r,i,s){this.authService.signInWithEmailAndPassword(this.auth,r,i,s)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}displayLogin(){return null==localStorage.getItem("user")&&!this.authService.refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=T1({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"],["id","dgt-logout",1,"logout"],[1,"dgt-logout-button",3,"click"]],template:function(r,i){1&r&&(G2(0,gBe,20,0,"div",0),G2(1,vBe,7,0,"div",1)),2&r&&(X("ngIf",i.displayLogin()),F(1),X("ngIf",!i.displayLogin()))},dependencies:[ai],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-logout-button[_ngcontent-%COMP%]{display:none!important}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),_Be=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t,bootstrap:[yBe]}),t.\u0275inj=it({imports:[oi,Qs(()=>Js(l1_firebase)),a4(()=>o4()),G4(()=>K4()),e4(()=>t4(Xs(),{provider:new fr(l1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),Cq=(()=>{var t;class e{constructor(){this.firestore=k(jn)}updateOrder(r){let i=$n(this.firestore,"orders");l$(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){GRe(Z_($n(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,a){let o=$n(this.firestore,"orders");W4(Y4(o,Ar("user","==",r),WRe("executed","asc")),{idField:"id"}).forEach(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges()}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class CBe{get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target}}}var g5={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};function GG(t){return I1((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}class v5{}class y5{}class un{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),a=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof un?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new un;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof un?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let a=this.headers.get(n);if(!a)return;a=a.filter(o=>-1===s.indexOf(o)),0===a.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class D$e{encodeKey(e){return WG(e)}encodeValue(e){return WG(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const T$e=/%(\d[a-f0-9])/gi,N$e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WG(t){return encodeURIComponent(t).replace(T$e,(e,n)=>N$e[n]??e)}function _5(t){return`${t}`}class Rr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new D$e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function A$e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[a,o]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(a)||[];c.push(o),n.set(a,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(_5):[_5(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Rr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(_5(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(_5(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class k$e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function KG(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function YG(t){return typeof Blob<"u"&&t instanceof Blob}function QG(t){return typeof FormData<"u"&&t instanceof FormData}class rc{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function P$e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new un),this.context||(this.context=new k$e),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{const o=n.indexOf("?");this.urlWithParams=n+(-1===o?"?":o<n.length-1?"&":"")+a}}else this.params=new Rr,this.urlWithParams=n}serializeBody(){return null===this.body?null:KG(this.body)||YG(this.body)||QG(this.body)||function R$e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||QG(this.body)?null:YG(this.body)?this.body.type||null:KG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,d)=>f.set(d,e.setHeaders[d]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,d)=>f.set(d,e.setParams[d]),l)),new rc(n,r,s,{params:l,headers:c,context:u,reportProgress:o,responseType:i,withCredentials:a})}}var n3=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(n3||{});class PC{constructor(e,n=200,r="OK"){this.headers=e.headers||new un,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class RC extends PC{constructor(e={}){super(e),this.type=n3.ResponseHeader}clone(e={}){return new RC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class r3 extends PC{constructor(e={}){super(e),this.type=n3.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new r3({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class XG extends PC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function OC(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let JG=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let a;if(r instanceof rc)a=r;else{let l,u;l=s.headers instanceof un?s.headers:new un(s.headers),s.params&&(u=s.params instanceof Rr?s.params:new Rr({fromObject:s.params})),a=new rc(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=j5(a).pipe(function I$e(t,e){return Ae(e)?yc(t,e,1):yc(t,1)}(l=>this.handler.handle(l)));if(r instanceof rc||"events"===s.observe)return o;const c=o.pipe(function L$e(t,e){return I1((n,r)=>{let i=0;n.subscribe(L1(r,s=>t.call(e,s,i++)&&r.next(s)))})}(l=>l instanceof r3));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return c.pipe(dn(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(dn(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(dn(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(dn(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Rr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,OC(s,i))}post(r,i,s={}){return this.request("POST",r,OC(s,i))}put(r,i,s={}){return this.request("PUT",r,OC(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(v5))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();function tW(t,e){return e(t)}function F$e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const U$e=new O(""),ic=new O(""),nW=new O("");function j$e(){let t=null;return(e,n)=>{null===t&&(t=(k(U$e,{optional:!0})??[]).reduceRight(F$e,tW));const r=k(vf),i=r.add();return t(e,n).pipe(GG(()=>r.remove(i)))}}let rW=(()=>{var t;class e extends v5{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(vf)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(ic),...this.injector.get(nW,[])]));this.chain=s.reduceRight((a,o)=>function B$e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(a,o,this.injector),tW)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(GG(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(y5),J(U1))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();const W$e=/^\)\]\}',?\n/;let sW=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new x(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Mc(i.\u0275loadImpl()):j5(null)).pipe(DM(()=>new $e(a=>{const o=i.build();if(o.open(r.method,r.urlWithParams),r.withCredentials&&(o.withCredentials=!0),r.headers.forEach((v,_)=>o.setRequestHeader(v,_.join(","))),r.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const v=r.detectContentTypeHeader();null!==v&&o.setRequestHeader("Content-Type",v)}if(r.responseType){const v=r.responseType.toLowerCase();o.responseType="json"!==v?v:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const v=o.statusText||"OK",_=new un(o.getAllResponseHeaders()),y=function K$e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||r.url;return l=new RC({headers:_,status:o.status,statusText:v,url:y}),l},f=()=>{let{headers:v,status:_,statusText:y,url:w}=u(),S=null;204!==_&&(S=typeof o.response>"u"?o.responseText:o.response),0===_&&(_=S?200:0);let I=_>=200&&_<300;if("json"===r.responseType&&"string"==typeof S){const q=S;S=S.replace(W$e,"");try{S=""!==S?JSON.parse(S):null}catch(oe){S=q,I&&(I=!1,S={error:oe,text:S})}}I?(a.next(new r3({body:S,headers:v,status:_,statusText:y,url:w||void 0})),a.complete()):a.error(new XG({error:S,headers:v,status:_,statusText:y,url:w||void 0}))},d=v=>{const{url:_}=u(),y=new XG({error:v,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});a.error(y)};let h=!1;const p=v=>{h||(a.next(u()),h=!0);let _={type:n3.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),"text"===r.responseType&&o.responseText&&(_.partialText=o.responseText),a.next(_)},g=v=>{let _={type:n3.UploadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),a.next(_)};return o.addEventListener("load",f),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),r.reportProgress&&(o.addEventListener("progress",p),null!==c&&o.upload&&o.upload.addEventListener("progress",g)),o.send(c),a.next({type:n3.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",f),o.removeEventListener("timeout",d),r.reportProgress&&(o.removeEventListener("progress",p),null!==c&&o.upload&&o.upload.removeEventListener("progress",g)),o.readyState!==o.DONE&&o.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ix))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();const FC=new O("XSRF_ENABLED"),aW=new O("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),oW=new O("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cW{}let X$e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mx(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Y1),J(j1),J(aW))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),e})();function J$e(t,e){const n=t.url.toLowerCase();if(!k(FC)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=k(cW).getToken(),i=k(oW);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Or=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Or||{});function Ki(t,e){return{\u0275kind:t,\u0275providers:e}}function lW(...t){const e=[JG,sW,rW,{provide:v5,useExisting:rW},{provide:y5,useExisting:sW},{provide:ic,useValue:J$e,multi:!0},{provide:FC,useValue:!0},{provide:cW,useClass:X$e}];for(const n of t)e.push(...n.\u0275providers);return function t7(t){return{\u0275providers:t}}(e)}const uW=new O("LEGACY_INTERCEPTOR_FN");let eqe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({providers:[lW(Ki(Or.LegacyInterceptors,[{provide:uW,useFactory:j$e},{provide:ic,useExisting:uW,multi:!0}]))]}),e})(),aqe=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"kickMemberFormatter",type:t,pure:!0}),e})();const{isArray:oqe}=Array,{getPrototypeOf:cqe,prototype:lqe,keys:uqe}=Object;const{isArray:hqe}=Array;function gqe(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function vqe(...t){const e=function fY(t){return Ae(U5(t))?t.pop():void 0}(t),{args:n,keys:r}=function fqe(t){if(1===t.length){const e=t[0];if(oqe(e))return{args:e,keys:null};if(function dqe(t){return t&&"object"==typeof t&&cqe(t)===lqe}(e)){const n=uqe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new $e(s=>{const{length:a}=n;if(!a)return void s.complete();const o=new Array(a);let c=a,l=a;for(let u=0;u<a;u++){let f=!1;D1(n[u]).subscribe(L1(s,d=>{f||(f=!0,l--),o[u]=d},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?gqe(r,o):o),s.complete())}))}});return e?i.pipe(function mqe(t){return dn(e=>function pqe(t,e){return hqe(e)?t(...e):t(e)}(t,e))}(e)):i}let fW=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(_n),z(D2))},t.\u0275dir=K({type:t}),e})(),Yi=(()=>{var t;class e extends fW{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function t2(t){return hn(()=>{const e=t.prototype.constructor,n=e[pn]||Su(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[pn]||Su(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275dir=K({type:t,features:[we]}),e})();const fn=new O("NgValueAccessor"),_qe={provide:fn,useExisting:Se(()=>M5),multi:!0},Mqe=new O("CompositionEventMode");let M5=(()=>{var t;class e extends fW{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cqe(){const t=ia()?ia().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(_n),z(D2),z(Mqe,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ge("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[Ue([_qe]),we]}),e})();const h2=new O("NgValidators"),Br=new O("NgAsyncValidators");function wW(t){return null!=t}function bW(t){return R6(t)?Mc(t):t}function VW(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function HW(t,e){return e.map(n=>n(t))}function zW(t){return t.map(e=>function bqe(t){return!t.validate}(e)?e:n=>e.validate(n))}function BC(t){return null!=t?function SW(t){if(!t)return null;const e=t.filter(wW);return 0==e.length?null:function(n){return VW(HW(n,e))}}(zW(t)):null}function UC(t){return null!=t?function xW(t){if(!t)return null;const e=t.filter(wW);return 0==e.length?null:function(n){return vqe(HW(n,e).map(bW)).pipe(dn(VW))}}(zW(t)):null}function EW(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jC(t){return t?Array.isArray(t)?t:[t]:[]}function b5(t,e){return Array.isArray(t)?t.includes(e):t===e}function DW(t,e){const n=jC(e);return jC(t).forEach(i=>{b5(n,i)||n.push(i)}),n}function AW(t,e){return jC(e).filter(n=>!b5(t,n))}class TW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class H2 extends TW{get formDirective(){return null}get path(){return null}}class Ur extends TW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NW{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kW=(()=>{var t;class e extends NW{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Ur,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&$3("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]}),e})(),PW=(()=>{var t;class e extends NW{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(H2,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&$3("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[we]}),e})();const sc="VALID",H5="INVALID",i3="PENDING",ac="DISABLED";function GC(t){return(z5(t)?t.validators:t)||null}function WC(t,e){return(z5(e)?e.asyncValidators:t)||null}function z5(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class BW{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sc}get invalid(){return this.status===H5}get pending(){return this.status==i3}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AW(e,this._rawAsyncValidators))}hasValidator(e){return b5(this._rawValidators,e)}hasAsyncValidator(e){return b5(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=i3,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ac,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sc||this.status===i3)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=i3,this._hasOwnPendingAsyncValidator=!0;const n=bW(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Gt,this.statusChanges=new Gt}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?H5:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(i3)?i3:this._anyControlsHaveStatus(H5)?H5:sc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){z5(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Sqe(t){return Array.isArray(t)?BC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function xqe(t){return Array.isArray(t)?UC(t):t||null}(this._rawAsyncValidators)}}class KC extends BW{constructor(e,n,r){super(GC(n),WC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function FW(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new x(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function OW(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[n])throw new x(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const s3=new O("CallSetDisabledState",{providedIn:"root",factory:()=>S5}),S5="always";function oc(t,e,n=S5){YC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Lqe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&UW(t,e)})}(t,e),function Aqe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Dqe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&UW(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Iqe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function I5(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function YC(t,e){const n=function IW(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(EW(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function LW(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(EW(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();I5(e._rawValidators,i),I5(e._rawAsyncValidators,i)}function UW(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Rqe={provide:H2,useExisting:Se(()=>D5)},cc=(()=>Promise.resolve())();let D5=(()=>{var t;class e extends H2{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Gt,this.form=new KC({},BC(r),UC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){cc.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),oc(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){cc.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){cc.then(()=>{const i=this._findContainer(r.path),s=new KC({});(function jW(t,e){YC(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){cc.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){cc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function $W(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(z(h2,10),z(Br,10),z(s3,8))},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Ge("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([Rqe]),we]}),e})();function qW(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function GW(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const WW=class extends BW{constructor(e=null,n,r){super(GC(n),WC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),z5(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=GW(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Bqe={provide:Ur,useExisting:Se(()=>ZC)},QW=(()=>Promise.resolve())();let ZC=(()=>{var t;class e extends Ur{constructor(r,i,s,a,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new WW,this._registered=!1,this.name="",this.update=new Gt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function JC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===M5?n=s:function kqe(t){return Object.getPrototypeOf(t.constructor)===Yi}(s)?r=s:i=s}),i||r||n||null}(0,a)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function XC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){QW.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Df(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);QW.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function x5(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(z(H2,9),z(h2,10),z(Br,10),z(fn,10),z(na,8),z(s3,8))},t.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([Bqe]),we,e1]}),e})(),XW=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),ZW=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({}),e})(),fGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({imports:[ZW]}),e})(),hGe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:s3,useValue:r.callSetDisabledState??S5}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=it({imports:[fGe]}),e})(),pGe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(D2))},t.\u0275dir=K({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&Ge("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),mGe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(D2))},t.\u0275dir=K({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&Ge("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})();const vK=function(){return{color:"#fff"}},yK=function(){return["far","circle-xmark"]};function gGe(t,e){if(1&t){const n=ti();A(0,"div",18)(1,"form",19),Ge("ngSubmit",function(){g1(n);const i=qt().$implicit;return v1(qt().onSubmit("/alliances/kick/",i.dgId))}),A(2,"button",20),Qe(3,"fa-icon",21),j()()()}2&t&&(F(3),Vt(Ht(3,vK)),X("icon",Ht(4,yK)))}function vGe(t,e){if(1&t&&(A(0,"span",22),se(1),j()),2&t){const n=qt().$implicit;F(1),B6("[note: ",n.note,"]")}}const yGe=function(t,e){return{executed:t,"in-progress":e}};function _Ge(t,e){if(1&t){const n=ti();A(0,"div",23)(1,"div",8)(2,"span",24),se(3,"Target:"),j(),A(4,"span",25),se(5),j()(),A(6,"div",10)(7,"span",24),se(8,"Wait:"),j(),A(9,"span",25),se(10),j()(),A(11,"div",12)(12,"span",24),se(13,"Instructions:"),j(),A(14,"span",25),se(15),j()(),A(16,"div",26)(17,"button",15),Ge("click",function(){const s=g1(n).$implicit;return v1(qt(2).deleteOrder(s.id))}),Qe(18,"fa-icon",21),j()()()}if(2&t){const n=e.$implicit;X("ngClass",Gz(7,yGe,n.executed,!n.executed)),F(5),Xe(n.target),F(5),Xe(n.wait),F(5),Xe(n.instructions),F(3),Vt(Ht(10,vK)),X("icon",Ht(11,yK))}}function CGe(t,e){if(1&t){const n=ti();A(0,"div",2)(1,"div",3)(2,"span",4),se(3),j(),G2(4,gGe,4,5,"div",5),G2(5,vGe,2,1,"span",6),j(),A(6,"div",7)(7,"div",8)(8,"span",8),se(9,"Target:"),j(),A(10,"input",9),Ge("ngModelChange",function(i){const a=g1(n).index;return v1(qt().controls.target[a]=i)}),j()(),A(11,"div",10)(12,"span",10),se(13,"Wait:"),j(),A(14,"input",11),Ge("ngModelChange",function(i){const a=g1(n).index;return v1(qt().controls.wait[a]=i)}),j()(),A(15,"div",12)(16,"span",12),se(17,"Instructions:"),j(),A(18,"textarea",13),Ge("ngModelChange",function(i){const a=g1(n).index;return v1(qt().controls.instructions[a]=i)}),j()(),A(19,"div",14)(20,"button",15),Ge("click",function(){const s=g1(n).index;return v1(qt().createOrder(s))}),se(21,"Send"),j()()(),A(22,"div",16),G2(23,_Ge,19,12,"div",17),Lt(24,"async"),j()()}if(2&t){const n=e.$implicit,r=e.index,i=qt();F(3),Xe(n.name),F(1),X("ngIf",null!=n.dgId),F(1),X("ngIf",null!=n.note),F(5),X("ngModel",i.controls.target[r]),F(4),X("ngModel",i.controls.wait[r]),F(4),X("ngModel",i.controls.instructions[r]),F(5),X("ngForOf",C1(24,7,i.orders.get(n.name.toLowerCase())))}}let MGe=(()=>{var t;class e{constructor(r){this.orderService=k(Cq),this.dgAPI=k(S1),this.authService=k(Q4),this.changeDetection=k(na),this.http=k(JG),this.kickMemberFormatter=k(aqe),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(g5),this.allianceMembers=this.dgAPI.allianceMembers(!1),this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.allianceMembers.forEach(i=>{this.orders.set(i.name.toLowerCase(),new $e(s=>{this.orderService.getAllOrders(i.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,s)}))})}createOrder(r){let i=new CBe;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmit(r,i){let s={};s[this.kickMemberFormatter.transform(i)]="Kick+Member",this.http.post(r,JSON.stringify(s))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(h5))},t.\u0275cmp=T1({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:2,vars:1,consts:[[1,"dgt-orders-manager-panel"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","note",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[1,"dgt-orders-history"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],[3,"ngSubmit"],["type","submit","value","Kick Member"],[3,"icon"],[1,"note"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"label"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(A(0,"div",0),G2(1,CGe,25,9,"div",1),j()),2&r&&(F(1),X("ngForOf",i.allianceMembers))},dependencies:[$f,h0,ai,XW,M5,kW,PW,ZC,D5,pq,pGe,mGe,p0],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:5px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:322px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:28px;width:70px!important;cursor:pointer;border:1px solid #000000!important;border-radius:5px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);border-radius:5px;margin-bottom:10px;padding:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffd46f;font-weight:400!important;float:right}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid #fff;width:calc(100% - 12px);border-radius:5px;padding:3px 5px}.dgt-orders-history-details[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{border-color:#7bbd1a;background:#7BBD1A2E}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{border-color:#ff3b30;background:#FF3B302B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;padding-top:5px;border-top:1px solid rgba(0,0,0,.25);margin-top:5px;margin-left:5px;margin-right:5px}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffd46f;font-weight:700}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46f!important}"]}),e})(),wGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t,bootstrap:[MGe]}),t.\u0275inj=it({providers:[Cq,S1,lW()],imports:[oi,eqe,hGe,p5,Qs(()=>Js(l1_firebase)),a4(()=>o4()),G4(()=>K4()),e4(()=>t4(Xs(),{provider:new fr(l1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),p5]}),e})(),_K=(()=>{var t;class e{constructor(){this.firestore=k(jn)}getActiveOrders(r,i,s,a){let o=$n(this.firestore,"orders");W4(Y4(o,Ar("user","==",r),Ar("executed","==",!1)),{idField:"id"}).forEach(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges()}).catch(c=>{console.log(c)})}completeOrder(r){let i=$n(this.firestore,"orders");f$(Z_(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bGe(t,e){if(1&t){const n=ti();A(0,"div",2)(1,"div",3)(2,"button",4),Ge("click",function(){const s=g1(n).$implicit;return v1(qt(2).onCompleteClick(s.id))}),function Aw(){Y.lFrame.currentNamespace=pw}(),A(3,"svg",5),Qe(4,"path",6),j()()(),function Tw(){!function UQ(){Y.lFrame.currentNamespace=null}()}(),A(5,"div",7)(6,"span",8),se(7,"Target:"),j(),A(8,"span",9),se(9),j()(),A(10,"div",10)(11,"span",8),se(12,"Wait:"),j(),A(13,"span",9),se(14),j()(),A(15,"div",11)(16,"span",8),se(17,"Instructions:"),j(),A(18,"span",9),se(19),j()()()}if(2&t){const n=e.$implicit;F(9),Xe(n.target),F(5),Xe(n.wait),F(5),Xe(n.instructions)}}function VGe(t,e){if(1&t&&(k6(0),G2(1,bGe,20,3,"div",1),Lt(2,"async"),P6()),2&t){const n=qt();F(1),X("ngForOf",C1(2,1,n.orders))}}let HGe=(()=>{var t;class e{constructor(r){this.orderService=k(_K),this.dgAPI=k(S1),this.changeDetection=k(na),this.authService=k(Q4),this.active=!1,r.addIcons(H0,js,H9,q9,h9,f9,A0),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.orders=new $e(s=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,s)})),this.changeDetection.detectChanges()})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(h5))},t.\u0275cmp=T1({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alert-animation dgt-fleet-order",4,"ngFor","ngForOf"],[1,"alert-animation","dgt-fleet-order"],[1,"complete"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"],[1,"target"],[1,"label"],[1,"value"],[1,"wait"],[1,"instructions"]],template:function(r,i){1&r&&G2(0,VGe,3,3,"ng-container",0),2&r&&X("ngIf",i.active)},dependencies:[h0,ai,p0],styles:[".dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#FF3B302B;border:1px solid #FF3B30;margin:5px 10px;width:calc(100% - 20px);border-radius:5px;height:40px;line-height:40px}.dgt-fleet-order[_ngcontent-%COMP%]:first-child{margin-top:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;line-height:40px;width:20px;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{fill:#7a7a7a;height:20px;align-content:center;display:flex}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]{fill:#7bbd1a!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:40px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;font-weight:700;color:#ffd46f;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}"]}),e})(),zGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mt({type:t,bootstrap:[HGe]}),t.\u0275inj=it({providers:[_K,S1],imports:[oi,Qs(()=>Js(l1_firebase)),a4(()=>o4()),G4(()=>K4()),e4(()=>t4(Xs(),{provider:new fr(l1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Xi=Hse();let E1=window.location.pathname.split(/\//g);Xi.bootstrapModule(_Be).catch(t=>console.error(t)),Xi.bootstrapModule(nBe).catch(t=>console.error(t)),"planets"===E1[1]&&Xi.bootstrapModule(lBe).catch(t=>console.error(t)),"planet"===E1[1]&&"comms"===(5===E1.length&&E1[3])&&Xi.bootstrapModule(dBe).catch(t=>console.error(t)),"navigation"===E1[1]&&6===E1.length&&!isNaN(+E1[2])&&!isNaN(+E1[3])&&!isNaN(+E1[4])&&Xi.bootstrapModule(mBe).catch(t=>console.error(t)),"alliances"===E1[1]&&Xi.bootstrapModule(wGe).catch(t=>console.error(t)),"fleets"===E1[1]&&Xi.bootstrapModule(zGe).catch(t=>console.error(t))}},Ae=>{Ae(Ae.s=61)}]);