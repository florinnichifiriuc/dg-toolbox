"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{529:()=>{function Be(t){return"function"==typeof t}function Q4(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const X4=Q4(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Fi(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Be(r))try{r()}catch(s){e=s instanceof X4?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{HC(s)}catch(o){e=e??[],o instanceof X4?e=[...e,...o.errors]:e.push(o)}}if(e)throw new X4(e)}}add(e){var n;if(e&&e!==this)if(this.closed)HC(e);else{if(e instanceof ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fi(n,e)}remove(e){const{_finalizers:n}=this;n&&Fi(n,e),e instanceof ln&&e._removeParent(this)}}ln.EMPTY=(()=>{const t=new ln;return t.closed=!0,t})();const bC=ln.EMPTY;function VC(t){return t instanceof ln||t&&"closed"in t&&Be(t.remove)&&Be(t.add)&&Be(t.unsubscribe)}function HC(t){Be(t)?t():t.unsubscribe()}const Lr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J4={setTimeout(t,e,...n){const{delegate:r}=J4;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=J4;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function SC(t){J4.setTimeout(()=>{const{onUnhandledError:e}=Lr;if(!e)throw t;e(t)})}function zC(){}const KG=su("C",void 0,void 0);function su(t,e,n){return{kind:t,value:e,error:n}}let Ar=null;function Z4(t){if(Lr.useDeprecatedSynchronousErrorHandling){const e=!Ar;if(e&&(Ar={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ar;if(Ar=null,n)throw r}}else t()}class ou extends ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,VC(e)&&e.add(this)):this.destination=tq}static create(e,n,r){return new No(e,n,r)}next(e){this.isStopped?cu(function QG(t){return su("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?cu(function YG(t){return su("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cu(KG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const JG=Function.prototype.bind;function au(t,e){return JG.call(t,e)}class ZG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ec(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ec(r)}else ec(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ec(n)}}}class No extends ou{constructor(e,n,r){let i;if(super(),Be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Lr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&au(e.next,s),error:e.error&&au(e.error,s),complete:e.complete&&au(e.complete,s)}):i=e}this.destination=new ZG(i)}}function ec(t){Lr.useDeprecatedSynchronousErrorHandling?function XG(t){Lr.useDeprecatedSynchronousErrorHandling&&Ar&&(Ar.errorThrown=!0,Ar.error=t)}(t):SC(t)}function cu(t,e){const{onStoppedNotification:n}=Lr;n&&J4.setTimeout(()=>n(t,e))}const tq={closed:!0,next:zC,error:function eq(t){throw t},complete:zC},lu="function"==typeof Symbol&&Symbol.observable||"@@observable";function tc(t){return t}let ut=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function rq(t){return t&&t instanceof ou||function nq(t){return t&&Be(t.next)&&Be(t.error)&&Be(t.complete)}(t)&&VC(t)}(n)?n:new No(n,r,i);return Z4(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=EC(r))((i,s)=>{const o=new No({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[lu](){return this}pipe(...n){return function IC(t){return 0===t.length?tc:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=EC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function EC(t){var e;return null!==(e=t??Lr.Promise)&&void 0!==e?e:Promise}const iq=Q4(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nc=(()=>{class t extends ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new xC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iq}next(n){Z4(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Z4(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Z4(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?bC:(this.currentObservers=null,s.push(n),new ln(()=>{this.currentObservers=null,Fi(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ut;return n.source=this,n}}return t.create=(e,n)=>new xC(e,n),t})();class xC extends nc{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:bC}}class sq extends nc{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function O1(t){return e=>{if(function oq(t){return Be(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function t1(t,e,n,r,i){return new aq(t,e,n,r,i)}class aq extends ou{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ko(t,e){return O1((n,r)=>{let i=0;n.subscribe(t1(r,s=>{r.next(t.call(e,s,i++))}))})}function rc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function F1(t){return this instanceof F1?(this.v=t,this):new F1(t)}function TC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function hu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function kC(t){return Be(t?.then)}function PC(t){return Be(t[lu])}function RC(t){return Symbol.asyncIterator&&Be(t?.[Symbol.asyncIterator])}function OC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const FC=function Iq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function BC(t){return Be(t?.[FC])}function UC(t){return function AC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{!function c(d){d.value instanceof F1?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield F1(n.read());if(i)return yield F1(void 0);yield yield F1(r)}}finally{n.releaseLock()}})}function jC(t){return Be(t?.getReader)}function Vn(t){if(t instanceof ut)return t;if(null!=t){if(PC(t))return function Eq(t){return new ut(e=>{const n=t[lu]();if(Be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(NC(t))return function xq(t){return new ut(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(kC(t))return function Dq(t){return new ut(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,SC)})}(t);if(RC(t))return $C(t);if(BC(t))return function Lq(t){return new ut(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(jC(t))return function Aq(t){return $C(UC(t))}(t)}throw OC(t)}function $C(t){return new ut(e=>{(function Tq(t,e){var n,r,i,s;return function DC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=TC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function B1(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function GC(t,e,n=1/0){return Be(e)?GC((r,i)=>ko((s,o)=>e(r,s,i,o))(Vn(t(r,i))),n):("number"==typeof e&&(n=e),O1((r,i)=>function Nq(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let v=!1;Vn(n(g,u++)).subscribe(t1(e,C=>{i?.(C),s?h(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){const C=c.shift();o?B1(e,o,()=>p(C)):p(C)}d()}catch(C){e.error(C)}}))};return t.subscribe(t1(e,h,()=>{f=!0,d()})),()=>{a?.()}}(r,i,t,n)))}const qC=new ut(t=>t.complete());function pu(t){return t[t.length-1]}function WC(t){return function Rq(t){return t&&Be(t.schedule)}(pu(t))?t.pop():void 0}function ic(t,e=0){return O1((n,r)=>{n.subscribe(t1(r,i=>B1(r,t,()=>r.next(i),e),()=>B1(r,t,()=>r.complete(),e),i=>B1(r,t,()=>r.error(i),e)))})}function sc(t,e=0){return O1((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function KC(t,e){if(!t)throw new Error("Iterable cannot be null");return new ut(n=>{B1(n,e,()=>{const r=t[Symbol.asyncIterator]();B1(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mu(t,e){return e?function qq(t,e){if(null!=t){if(PC(t))return function Bq(t,e){return Vn(t).pipe(sc(e),ic(e))}(t,e);if(NC(t))return function jq(t,e){return new ut(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(kC(t))return function Uq(t,e){return Vn(t).pipe(sc(e),ic(e))}(t,e);if(RC(t))return KC(t,e);if(BC(t))return function $q(t,e){return new ut(n=>{let r;return B1(n,e,()=>{r=t[FC](),B1(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Be(r?.return)&&r.return()})}(t,e);if(jC(t))return function Gq(t,e){return KC(UC(t),e)}(t,e)}throw OC(t)}(t,e):Vn(t)}function Wq(...t){const e=WC(t),n=function Fq(t,e){return"number"==typeof pu(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Vn(r[0]):function kq(t=1/0){return GC(tc,t)}(n)(mu(r,e)):qC}function YC(t={}){const{connector:e=(()=>new nc),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},h=()=>{d(),o=c=void 0,u=f=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return O1((g,v)=>{l++,!f&&!u&&d();const C=c=c??e();v.add(()=>{l--,0===l&&!f&&!u&&(a=gu(p,i))}),C.subscribe(v),!o&&l>0&&(o=new No({next:y=>C.next(y),error:y=>{f=!0,d(),a=gu(h,n,y),C.error(y)},complete:()=>{u=!0,d(),a=gu(h,r),C.complete()}}),Vn(g).subscribe(o))})(s)}}function gu(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new No({next:()=>{r.unsubscribe(),t()}});return Vn(e(...n)).subscribe(r)}function Xq(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function oc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function vu(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Jq=Me({__forward_ref__:Me});function Ie(t){return t.__forward_ref__=Ie,t.toString=function(){return vt(this())},t}function q(t){return yu(t)?t():t}function yu(t){return"function"==typeof t&&t.hasOwnProperty(Jq)&&t.__forward_ref__===Ie}function _u(t){return t&&!!t.\u0275providers}const QC="https://g.co/ng/security#xss";class z extends Error{constructor(e,n){super(function ac(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function Cu(t,e){throw new z(-201,!1)}function Q2(t,e){null==t&&function $(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function cc(t){return XC(t,uc)||XC(t,JC)}function XC(t,e){return t.hasOwnProperty(e)?t[e]:null}function lc(t){return t&&(t.hasOwnProperty(Mu)||t.hasOwnProperty(sW))?t[Mu]:null}const uc=Me({\u0275prov:Me}),Mu=Me({\u0275inj:Me}),JC=Me({ngInjectableDef:Me}),sW=Me({ngInjectorDef:Me});var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{});let wu;function S2(t){const e=wu;return wu=t,e}function eM(t,e,n){const r=cc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ce.Optional?null:void 0!==e?e:void Cu(vt(t))}const He=globalThis,Po={},zu="__NG_DI_FLAG__",fc="ngTempTokenPath",cW=/\n/gm,nM="__source";let Bi;function U1(t){const e=Bi;return Bi=t,e}function fW(t,e=ce.Default){if(void 0===Bi)throw new z(-203,!1);return null===Bi?eM(t,void 0,e):Bi.get(t,e&ce.Optional?null:void 0,e)}function ie(t,e=ce.Default){return(function ZC(){return wu}()||fW)(q(t),e)}function B(t,e=ce.Default){return ie(t,dc(e))}function dc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Iu(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new z(900,!1);let i,s=ce.Default;for(let o=0;o<r.length;o++){const a=r[o],c=dW(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(ie(i,s))}else e.push(ie(r))}return e}function Ro(t,e){return t[zu]=e,t.prototype[zu]=e,t}function dW(t){return t[zu]}function n1(t){return{toString:t}.toString()}var hc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hc||{}),un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{});const Hn={},ve=[],pc=Me({\u0275cmp:Me}),Eu=Me({\u0275dir:Me}),xu=Me({\u0275pipe:Me}),iM=Me({\u0275mod:Me}),r1=Me({\u0275fac:Me}),Oo=Me({__NG_ELEMENT_ID__:Me}),sM=Me({__NG_ENV_ID__:Me});function oM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Du(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];cM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function aM(t){return 3===t||4===t||6===t}function cM(t){return 64===t.charCodeAt(0)}function Fo(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||lM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function lM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const uM="ng-template";function mW(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==oM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function fM(t){return 4===t.type&&t.value!==uM}function gW(t,e,n){return e===(4!==t.type||n?t.value:uM)}function vW(t,e,n){let r=4;const i=t.attrs||[],s=function CW(t){for(let e=0;e<t.length;e++)if(aM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!gW(t,c,n)||""===c&&1===e.length){if(fn(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!mW(t.attrs,l,n)){if(fn(r))return!1;o=!0}continue}const f=yW(8&r?"class":c,i,fM(t),n);if(-1===f){if(fn(r))return!1;o=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==oM(h,l,0)||2&r&&l!==d){if(fn(r))return!1;o=!0}}}}else{if(!o&&!fn(r)&&!fn(c))return!1;if(o&&fn(c))continue;o=!1,r=c|1&r}}return fn(r)||o}function fn(t){return 0==(1&t)}function yW(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function MW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function dM(t,e,n=!1){for(let r=0;r<e.length;r++)if(vW(t,e[r],n))return!0;return!1}function wW(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function hM(t,e){return t?":not("+e.trim()+")":e}function bW(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!fn(o)&&(e+=hM(s,i),i=""),r=o,s=s||!fn(r);n++}return""!==i&&(e+=hM(s,i)),e}function Sn(t){return n1(()=>{const e=mM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};gM(n);const r=t.dependencies;return n.directiveDefs=mc(r,!1),n.pipeDefs=mc(r,!0),n.id=function DW(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function zW(t){return fe(t)||Nt(t)}function IW(t){return null!==t}function yt(t){return n1(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pM(t,e){if(null==t)return Hn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return n1(()=>{const e=mM(t);return gM(e),e})}function Kt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function fe(t){return t[pc]||null}function Nt(t){return t[Eu]||null}function u2(t){return t[xu]||null}function mM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Hn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pM(t.inputs,e),outputs:pM(t.outputs)}}function gM(t){t.features?.forEach(e=>e(t))}function mc(t,e){if(!t)return null;const n=e?u2:zW;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(IW)}const tt=0,T=1,ee=2,Ue=3,dn=4,Uo=5,Yt=6,Ui=7,nt=8,j1=9,ji=10,X=11,jo=12,vM=13,$i=14,rt=15,$o=16,Gi=17,zn=18,Go=19,yM=20,$1=21,i1=22,gc=23,vc=24,se=25,Lu=1,_M=2,In=7,qi=9,kt=11;function z2(t){return Array.isArray(t)&&"object"==typeof t[Lu]}function I2(t){return Array.isArray(t)&&!0===t[Lu]}function Au(t){return 0!=(4&t.flags)}function Nr(t){return t.componentOffset>-1}function _c(t){return 1==(1&t.flags)}function hn(t){return!!t.template}function Tu(t){return 0!=(512&t[ee])}function kr(t,e){return t.hasOwnProperty(r1)?t[r1]:null}let PW=He.WeakRef??class kW{constructor(e){this.ref=e}deref(){return this.ref}},OW=0,En=null,Cc=!1;function St(t){const e=En;return En=t,e}class VM{constructor(){this.id=OW++,this.ref=function RW(t){return new PW(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Cc;Cc=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Cc=e}}producerAccessed(){if(Cc)throw new Error("");if(null===En)return;let e=En.producers.get(this.id);void 0===e?(e={consumerNode:En.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:En.trackingVersion},En.producers.set(this.id,e),this.consumers.set(En.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=En.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==En?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let HM=null;function SM(t){const e=St(null);try{return t()}finally{St(e)}}const zM=()=>{};class jW extends VM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=zM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=St(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=zM,this.watch(this.registerOnCleanup)}finally{St(e)}}cleanup(){this.cleanupFn()}}class $W{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function X2(){return IM}function IM(t){return t.type.prototype.ngOnChanges&&(t.setInput=qW),GW}function GW(){const t=xM(this),e=t?.current;if(e){const n=t.previous;if(n===Hn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function qW(t,e,n,r){const i=this.declaredInputs[n],s=xM(t)||function WW(t,e){return t[EM]=e}(t,{previous:Hn,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new $W(c&&c.currentValue,e,a===Hn),t[r]=e}X2.ngInherit=!0;const EM="__ngSimpleChanges__";function xM(t){return t[EM]||null}const xn=function(t,e,n){};function Ee(t){for(;Array.isArray(t);)t=t[tt];return t}function bc(t,e){return Ee(e[t])}function E2(t,e){return Ee(e[t.index])}function AM(t,e){return t.data[e]}function Wi(t,e){return t[e]}function F2(t,e){const n=e[t];return z2(n)?n:n[tt]}function G1(t,e){return null==e?null:t[e]}function TM(t){t[Gi]=0}function eK(t){1024&t[ee]||(t[ee]|=1024,kM(t,1))}function NM(t){1024&t[ee]&&(t[ee]&=-1025,kM(t,-1))}function kM(t,e){let n=t[Ue];if(null===n)return;n[Uo]+=e;let r=n;for(n=n[Ue];null!==n&&(1===e&&1===r[Uo]||-1===e&&0===r[Uo]);)n[Uo]+=e,r=n,n=n[Ue]}const G={lFrame:WM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OM(){return G.bindingsEnabled}function Ki(){return null!==G.skipHydrationRootTNode}function b(){return G.lFrame.lView}function de(){return G.lFrame.tView}function Vc(t){return G.lFrame.contextLView=t,t[nt]}function Hc(t){return G.lFrame.contextLView=null,t}function Pt(){let t=FM();for(;null!==t&&64===t.type;)t=t.parent;return t}function FM(){return G.lFrame.currentTNode}function Dn(t,e){const n=G.lFrame;n.currentTNode=t,n.isParent=e}function Fu(){return G.lFrame.isParent}function Bu(){G.lFrame.isParent=!1}function f2(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Yi(){return G.lFrame.bindingIndex++}function o1(t){const e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function dK(t,e){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uu(e)}function Uu(t){G.lFrame.currentDirectiveIndex=t}function $M(){return G.lFrame.currentQueryIndex}function $u(t){G.lFrame.currentQueryIndex=t}function pK(t){const e=t[T];return 2===e.type?e.declTNode:1===e.type?t[Yt]:null}function GM(t,e,n){if(n&ce.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ce.Host||(i=pK(s),null===i||(s=s[$i],10&i.type))););if(null===i)return!1;e=i,t=s}const r=G.lFrame=qM();return r.currentTNode=e,r.lView=t,!0}function Gu(t){const e=qM(),n=t[T];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qM(){const t=G.lFrame,e=null===t?null:t.child;return null===e?WM(t):e}function WM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function KM(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const YM=KM;function qu(){const t=KM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function d2(){return G.lFrame.selectedIndex}function Pr(t){G.lFrame.selectedIndex=t}function Ge(){const t=G.lFrame;return AM(t.tView,t.selectedIndex)}let XM=!0;function Sc(){return XM}function q1(t){XM=t}function zc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Ic(t,e,n){JM(t,e,3,n)}function Ec(t,e,n,r){(3&t[ee])===n&&JM(t,e,n,r)}function Wu(t,e){let n=t[ee];(3&n)===e&&(n&=8191,n+=1,t[ee]=n)}function JM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Gi]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Gi]+=65536),(a<s||-1==s)&&(wK(t,n,e,c),t[Gi]=(4294901760&t[Gi])+c+2),c++}function ZM(t,e){xn(4,t,e);const n=St(null);try{e.call(t)}finally{St(n),xn(5,t,e)}}function wK(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ee]>>13<t[Gi]>>16&&(3&t[ee])===e&&(t[ee]+=8192,ZM(a,s)):ZM(a,s)}const Qi=-1;class Ko{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Yu(t){return t!==Qi}function Yo(t){return 32767&t}function Qo(t,e){let n=function SK(t){return t>>16}(t),r=e;for(;n>0;)r=r[$i],n--;return r}let Qu=!0;function xc(t){const e=Qu;return Qu=t,e}const ew=255,tw=5;let zK=0;const Ln={};function Dc(t,e){const n=nw(t,e);if(-1!==n)return n;const r=e[T];r.firstCreatePass&&(t.injectorIndex=e.length,Xu(r.data,t),Xu(e,null),Xu(r.blueprint,null));const i=Lc(t,e),s=t.injectorIndex;if(Yu(i)){const o=Yo(i),a=Qo(i,e),c=a[T].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Xu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nw(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Lc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=lw(i),null===r)return Qi;if(n++,i=i[$i],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Qi}function Ju(t,e,n){!function IK(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Oo)&&(r=n[Oo]),null==r&&(r=n[Oo]=zK++);const i=r&ew;e.data[t+(i>>tw)]|=1<<i}(t,e,n)}function rw(t,e,n){if(n&ce.Optional||void 0!==t)return t;Cu()}function iw(t,e,n,r){if(n&ce.Optional&&void 0===r&&(r=null),!(n&(ce.Self|ce.Host))){const i=t[j1],s=S2(void 0);try{return i?i.get(e,r,n&ce.Optional):eM(e,r,n&ce.Optional)}finally{S2(s)}}return rw(r,0,n)}function sw(t,e,n,r=ce.Default,i){if(null!==t){if(2048&e[ee]&&!(r&ce.Self)){const o=function TK(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ee]&&!(512&o[ee]);){const a=ow(s,o,n,r|ce.Self,Ln);if(a!==Ln)return a;let c=s.parent;if(!c){const l=o[yM];if(l){const u=l.get(n,Ln,r);if(u!==Ln)return u}c=lw(o),o=o[$i]}s=c}return i}(t,e,n,r,Ln);if(o!==Ln)return o}const s=ow(t,e,n,r,Ln);if(s!==Ln)return s}return iw(e,n,r,i)}function ow(t,e,n,r,i){const s=function DK(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Oo)?t[Oo]:void 0;return"number"==typeof e?e>=0?e&ew:AK:e}(n);if("function"==typeof s){if(!GM(e,t,r))return r&ce.Host?rw(i,0,r):iw(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ce.Optional)return o;Cu()}finally{YM()}}else if("number"==typeof s){let o=null,a=nw(t,e),c=Qi,l=r&ce.Host?e[rt][Yt]:null;for((-1===a||r&ce.SkipSelf)&&(c=-1===a?Lc(t,e):e[a+8],c!==Qi&&cw(r,!1)?(o=e[T],a=Yo(c),e=Qo(c,e)):a=-1);-1!==a;){const u=e[T];if(aw(s,a,u.data)){const f=xK(a,e,n,o,r,l);if(f!==Ln)return f}c=e[a+8],c!==Qi&&cw(r,e[T].data[a+8]===l)&&aw(s,a,e)?(o=u,a=Yo(c),e=Qo(c,e)):a=-1}}return i}function xK(t,e,n,r,i,s){const o=e[T],a=o.data[t+8],u=Ac(a,o,n,null==r?Nr(a)&&Qu:r!=o&&0!=(3&a.type),i&ce.Host&&s===a);return null!==u?Rr(e,o,u,a):Ln}function Ac(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,d=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<d;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&hn(h)&&h.type===n)return c}return null}function Rr(t,e,n,r){let i=t[n];const s=e.data;if(function bK(t){return t instanceof Ko}(i)){const o=i;o.resolving&&function Zq(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}(s[n]));const a=xc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?S2(o.injectImpl):null;GM(t,r,ce.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function MK(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=IM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&S2(l),xc(a),o.resolving=!1,YM()}}return i}function aw(t,e,n){return!!(n[e+(t>>tw)]&1<<t)}function cw(t,e){return!(t&ce.Self||t&ce.Host&&e)}class h2{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sw(this._tNode,this._lView,e,dc(r),n)}}function AK(){return new h2(Pt(),b())}function Zu(t){return yu(t)?()=>{const e=Zu(q(t));return e&&e()}:kr(t)}function lw(t){const e=t[T],n=e.type;return 2===n?e.declTNode:1===n?t[Yt]:null}const Ji="__parameters__";function es(t,e,n){return n1(()=>{const r=function t5(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const f=c.hasOwnProperty(Ji)?c[Ji]:Object.defineProperty(c,Ji,{value:[]})[Ji];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ns(t,e){t.forEach(n=>Array.isArray(n)?ns(n,e):e(n))}function fw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Zo(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function B2(t,e,n){let r=rs(t,e);return r>=0?t[1|r]=n:(r=~r,function BK(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function n5(t,e){const n=rs(t,e);if(n>=0)return t[1|n]}function rs(t,e){return function dw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const x2=Ro(es("Optional"),8),i5=Ro(es("SkipSelf"),4);function Fc(t){return 128==(128&t.flags)}var W1=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(W1||{});const c5=new Map;let fY=0;const u5="__ngContext__";function Xt(t,e){z2(e)?(t[u5]=e[Go],function hY(t){c5.set(t[Go],t)}(e)):t[u5]=e}let f5;function d5(t,e){return f5(t,e)}function n3(t){const e=t[Ue];return I2(e)?e[Ue]:e}function Lw(t){return Tw(t[jo])}function Aw(t){return Tw(t[dn])}function Tw(t){for(;null!==t&&!I2(t);)t=t[dn];return t}function os(t,e,n,r,i){if(null!=r){let s,o=!1;I2(r)?s=r:z2(r)&&(o=!0,r=r[tt]);const a=Ee(r);0===t&&null!==n?null==i?Rw(e,n,a):Or(e,n,a,i||null,!0):1===t&&null!==n?Or(e,n,a,i||null,!0):2===t?function Wc(t,e,n){const r=Gc(t,e);r&&function LY(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function NY(t,e,n,r,i){const s=n[In];s!==Ee(n)&&os(e,t,r,s,i);for(let a=kt;a<n.length;a++){const c=n[a];i3(c[T],c,t,e,r,s)}}(e,t,s,n,i)}}function jc(t,e,n){return t.createElement(e,n)}function kw(t,e){const n=t[qi],r=n.indexOf(e);NM(e),n.splice(r,1)}function $c(t,e){if(t.length<=kt)return;const n=kt+e,r=t[n];if(r){const i=r[$o];null!==i&&i!==t&&kw(i,r),e>0&&(t[n-1][dn]=r[dn]);const s=Tc(t,kt+e);!function VY(t,e){i3(t,e,e[X],2,null,null),e[tt]=null,e[Yt]=null}(r[T],r);const o=s[zn];null!==o&&o.detachView(s[T]),r[Ue]=null,r[dn]=null,r[ee]&=-129}return r}function p5(t,e){if(!(256&e[ee])){const n=e[X];e[gc]?.destroy(),e[vc]?.destroy(),n.destroyNode&&i3(t,e,n,3,null,null),function zY(t){let e=t[jo];if(!e)return m5(t[T],t);for(;e;){let n=null;if(z2(e))n=e[jo];else{const r=e[kt];r&&(n=r)}if(!n){for(;e&&!e[dn]&&e!==t;)z2(e)&&m5(e[T],e),e=e[Ue];null===e&&(e=t),z2(e)&&m5(e[T],e),n=e&&e[dn]}e=n}}(e)}}function m5(t,e){if(!(256&e[ee])){e[ee]&=-129,e[ee]|=256,function DY(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ko)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];xn(4,a,c);try{c.call(a)}finally{xn(5,a,c)}}else{xn(4,i,s);try{s.call(i)}finally{xn(5,i,s)}}}}}(t,e),function xY(t,e){const n=t.cleanup,r=e[Ui];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ui]=null);const i=e[$1];if(null!==i){e[$1]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[T].type&&e[X].destroy();const n=e[$o];if(null!==n&&I2(e[Ue])){n!==e[Ue]&&kw(n,e);const r=e[zn];null!==r&&r.detachView(t)}!function pY(t){c5.delete(t[Go])}(e)}}function g5(t,e,n){return function Pw(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[tt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===un.None||s===un.Emulated)return null}return E2(r,n)}}(t,e.parent,n)}function Or(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Rw(t,e,n){t.appendChild(e,n)}function Ow(t,e,n,r,i){null!==r?Or(t,e,n,r,i):Rw(t,e,n)}function Gc(t,e){return t.parentNode(e)}function Fw(t,e,n){return Uw(t,e,n)}let v5,Kc,M5,Yc,Uw=function Bw(t,e,n){return 40&t.type?E2(t,n):null};function qc(t,e,n,r){const i=g5(t,r,e),s=e[X],a=Fw(r.parent||e[Yt],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ow(s,i,n[c],a,!1);else Ow(s,i,n,a,!1);void 0!==v5&&v5(s,r,e,n,i)}function r3(t,e){if(null!==e){const n=e.type;if(3&n)return E2(e,t);if(4&n)return y5(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return r3(t,r);{const i=t[e.index];return I2(i)?y5(-1,i):Ee(i)}}if(32&n)return d5(e,t)()||Ee(t[e.index]);{const r=$w(t,e);return null!==r?Array.isArray(r)?r[0]:r3(n3(t[rt]),r):r3(t,e.next)}}return null}function $w(t,e){return null!==e?t[rt][Yt].projection[e.projection]:null}function y5(t,e){const n=kt+t+1;if(n<e.length){const r=e[n],i=r[T].firstChild;if(null!==i)return r3(r,i)}return e[In]}function _5(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Xt(Ee(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)_5(t,e,n.child,r,i,s,!1),os(e,t,i,a,s);else if(32&c){const l=d5(n,r);let u;for(;u=l();)os(e,t,i,u,s);os(e,t,i,a,s)}else 16&c?qw(t,e,r,n,i,s):os(e,t,i,a,s);n=o?n.projectionNext:n.next}}function i3(t,e,n,r,i,s){_5(n,r,t.firstChild,e,i,s,!1)}function qw(t,e,n,r,i,s){const o=n[rt],c=o[Yt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)os(e,t,i,c[l],s);else{let l=c;const u=o[Ue];Fc(r)&&(l.flags|=128),_5(t,e,l,u,i,s,!0)}}function Ww(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Kw(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Du(t,e,r),null!==i&&Ww(t,e,i),null!==s&&function PY(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function as(t){return function C5(){if(void 0===Kc&&(Kc=null,He.trustedTypes))try{Kc=He.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kc}()?.createHTML(t)||t}function cs(){if(void 0!==M5)return M5;if(typeof document<"u")return document;throw new z(210,!1)}function Yw(t){return function w5(){if(void 0===Yc&&(Yc=null,He.trustedTypes))try{Yc=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yc}()?.createHTML(t)||t}class Fr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${QC})`}}class UY extends Fr{getTypeName(){return"HTML"}}class jY extends Fr{getTypeName(){return"Style"}}class $Y extends Fr{getTypeName(){return"Script"}}class GY extends Fr{getTypeName(){return"URL"}}class qY extends Fr{getTypeName(){return"ResourceURL"}}function U2(t){return t instanceof Fr?t.changingThisBreaksApplicationSecurity:t}function An(t,e){const n=function WY(t){return t instanceof Fr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${QC})`)}return n===e}class ZY{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(as(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class eQ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=as(e),n}}const nQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qc(t){return(t=String(t)).match(nQ)?t:"unsafe:"+t}function a1(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function s3(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Zw=a1("area,br,col,hr,img,wbr"),eb=a1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tb=a1("rp,rt"),b5=s3(Zw,s3(eb,a1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),s3(tb,a1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),s3(tb,eb)),V5=a1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nb=s3(V5,a1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),a1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rQ=a1("script,style,template");class iQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!b5.hasOwnProperty(n))return this.sanitizedSomething=!0,!rQ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!nb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;V5[a]&&(c=Qc(c)),this.buf.push(" ",o,'="',rb(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();b5.hasOwnProperty(n)&&!Zw.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(rb(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const sQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oQ=/([^\#-~ |!])/g;function rb(t){return t.replace(/&/g,"&amp;").replace(sQ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(oQ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xc;function ib(t,e){let n=null;try{Xc=Xc||function Jw(t){const e=new eQ(t);return function tQ(){try{return!!(new window.DOMParser).parseFromString(as(""),"text/html")}catch{return!1}}()?new ZY(e):e}(t);let r=e?String(e):"";n=Xc.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Xc.getInertBodyElement(r)}while(r!==s);return as((new iQ).sanitizeChildren(H5(n)||n))}finally{if(n){const r=H5(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function H5(t){return"content"in t&&function aQ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Z2=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Z2||{});function sb(t){const e=function o3(){const t=b();return t&&t[ji].sanitizer}();return e?Yw(e.sanitize(Z2.HTML,t)||""):An(t,"HTML")?Yw(U2(t)):ib(cs(),Q(t))}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jc=new U("ENVIRONMENT_INITIALIZER"),cb=new U("INJECTOR",-1),lb=new U("INJECTOR_DEF_TYPES");class S5{get(e,n=Po){if(n===Po){const r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}}function pQ(...t){return{\u0275providers:fb(0,t),\u0275fromNgModule:!0}}function fb(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ns(e,o=>{const a=o;Zc(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&db(i,s),n}function db(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];z5(i,s=>{e(s,r)})}}function Zc(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=lc(t);const o=!s&&fe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=lc(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Zc(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{ns(s.imports,u=>{Zc(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&db(l,e)}if(!a){const l=kr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:lb,useValue:i,multi:!0},i),e({provide:Jc,useValue:()=>ie(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;z5(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function z5(t,e){for(let n of t)_u(n)&&(n=n.\u0275providers),Array.isArray(n)?z5(n,e):e(n)}const mQ=Me({provide:String,useValue:Me});function I5(t){return null!==t&&"object"==typeof t&&mQ in t}function Br(t){return"function"==typeof t}const E5=new U("Set Injector scope."),e6={},vQ={};let x5;function t6(){return void 0===x5&&(x5=new S5),x5}class c1{}class n6 extends c1{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,L5(e,o=>this.processProvider(o)),this.records.set(cb,ls(void 0,this)),i.has("environment")&&this.records.set(c1,ls(void 0,this));const s=this.records.get(E5);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(lb.multi,ve,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=U1(this),r=S2(void 0);try{return e()}finally{U1(n),S2(r)}}get(e,n=Po,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sM))return e[sM](this);r=dc(r);const s=U1(this),o=S2(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function wQ(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&cc(e);c=l&&this.injectableDefInScope(l)?ls(D5(e),e6):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ce.Self?t6():this.parent).get(e,n=r&ce.Optional&&n===Po?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[fc]=a[fc]||[]).unshift(vt(e)),s)throw a;return function hW(t,e,n,r){const i=t[fc];throw e[nM]&&i.unshift(e[nM]),t.message=function pW(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cW,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[fc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{S2(o),U1(s)}}resolveInjectorInitializers(){const e=U1(this),n=S2(void 0);try{const i=this.get(Jc.multi,ve,ce.Self);for(const s of i)s()}finally{U1(e),S2(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){let n=Br(e=q(e))?e:q(e&&e.provide);const r=function _Q(t){return I5(t)?ls(void 0,t.useValue):ls(mb(t),e6)}(e);if(Br(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ls(void 0,e6,!0),i.factory=()=>Iu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===e6&&(n.value=vQ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function MQ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function D5(t){const e=cc(t),n=null!==e?e.factory:kr(t);if(null!==n)return n;if(t instanceof U)throw new z(204,!1);if(t instanceof Function)return function yQ(t){const e=t.length;if(e>0)throw Zo(e,"?"),new z(204,!1);const n=function iW(t){return t&&(t[uc]||t[JC])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new z(204,!1)}function mb(t,e,n){let r;if(Br(t)){const i=q(t);return kr(i)||D5(i)}if(I5(t))r=()=>q(t.useValue);else if(function pb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Iu(t.deps||[]));else if(function hb(t){return!(!t||!t.useExisting)}(t))r=()=>ie(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function CQ(t){return!!t.deps}(t))return kr(i)||D5(i);r=()=>new i(...Iu(t.deps))}return r}function ls(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function L5(t,e){for(const n of t)Array.isArray(n)?L5(n,e):n&&_u(n)?L5(n.\u0275providers,e):e(n)}const r6=new U("AppId",{providedIn:"root",factory:()=>bQ}),bQ="ng",gb=new U("Platform Initializer"),l1=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vb=new U("CSP nonce",{providedIn:"root",factory:()=>cs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _b=(t,e,n)=>null;function O5(t,e,n=!1){return _b(t,e,n)}class AQ{}class wb{}class NQ{resolveComponentFactory(e){throw function TQ(t){const e=Error(`No component factory found for ${vt(t)}.`);return e.ngComponent=t,e}(e)}}let l6=(()=>{class e{}return e.NULL=new NQ,e})();function kQ(){return fs(Pt(),b())}function fs(t,e){return new en(E2(t,e))}let en=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=kQ,e})();function PQ(t){return t instanceof en?t.nativeElement:t}class Vb{}let u1=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function RQ(){const t=b(),n=F2(Pt().index,t);return(z2(n)?n:t)[X]}(),e})(),OQ=(()=>{var t;class e{}return(t=e).\u0275prov=ne({token:t,providedIn:"root",factory:()=>null}),e})();class u3{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Hb=new u3("16.2.1"),U5={};function Eb(t,e=null,n=null,r){const i=xb(t,e,n,r);return i.resolveInjectorInitializers(),i}function xb(t,e=null,n=null,r,i=new Set){const s=[n||ve,pQ(t)];return r=r||("object"==typeof t?void 0:vt(t)),new n6(s,e||t6(),r||null,i)}let Jt=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return Eb({name:""},i,r,"");{const s=r.name??"";return Eb({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Po,t.NULL=new S5,t.\u0275prov=ne({token:t,providedIn:"any",factory:()=>ie(cb)}),t.__NG_ELEMENT_ID__=-1,e})();let G5=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new z(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=ne({token:t,providedIn:"root",factory:()=>new t}),e})();function f3(t){for(;t;){t[ee]|=64;const e=n3(t);if(Tu(t)&&!e)return t;t=e}return null}function q5(t){return t.ngOriginalError}class Ur{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&q5(e);for(;n&&q5(n);)n=q5(n);return n||null}}const Nb=new U("",{providedIn:"root",factory:()=>!1});class Ob extends VM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){f3(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=St(this);this.trackingVersion++;try{e(n,r)}finally{St(i)}}destroy(){this.trackingVersion++}}let f6=null;function Fb(){return f6??=new Ob,f6}function Bb(t,e){return t[e]??Fb()}function Ub(t,e){const n=Fb();n.hasReadASignal&&(t[e]=f6,n.lView=t,f6=new Ob)}const te={};function J(t){jb(de(),b(),d2()+t,!1)}function jb(t,e,n,r){if(!r)if(3==(3&e[ee])){const s=t.preOrderCheckHooks;null!==s&&Ic(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ec(e,s,0,n)}Pr(n)}function S(t,e=ce.Default){const n=b();return null===n?ie(t,e):sw(Pt(),n,q(t),e)}function d6(t,e,n,r,i,s,o,a,c,l,u){const f=e.blueprint.slice();return f[tt]=i,f[ee]=140|r,(null!==l||t&&2048&t[ee])&&(f[ee]|=2048),TM(f),f[Ue]=f[$i]=t,f[nt]=n,f[ji]=o||t&&t[ji],f[X]=a||t&&t[X],f[j1]=c||t&&t[j1]||null,f[Yt]=s,f[Go]=function dY(){return fY++}(),f[i1]=u,f[yM]=l,f[rt]=2==e.type?t[rt]:f,f}function ps(t,e,n,r,i){let s=t.data[e];if(null===s)s=function W5(t,e,n,r,i){const s=FM(),o=Fu(),c=t.data[e]=function lX(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ki()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function fK(){return G.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Wo(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Dn(s,!0),s}function d3(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $b(t,e,n,r,i){const s=Bb(e,gc),o=d2(),a=2&r;try{if(Pr(-1),a&&e.length>se&&jb(t,e,se,!1),xn(a?2:0,i),a)s.runInContext(n,r,i);else{const l=St(null);try{n(r,i)}finally{St(l)}}}finally{a&&null===e[gc]&&Ub(e,gc),Pr(o),xn(a?3:1,i)}}function K5(t,e,n){if(Au(e)){const r=St(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{St(r)}}}function Y5(t,e,n){OM()&&(function gX(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Nr(n)&&function bX(t,e,n){const r=E2(e,t),i=Gb(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=h6(t,d6(t,i,null,o,r,e,null,t[ji].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Dc(n,e),Xt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Rr(e,t,a,n);Xt(l,e),null!==o&&VX(0,a-i,l,c,0,o),hn(c)&&(F2(n.index,e)[nt]=Rr(e,t,a,n))}}(t,e,n,E2(n,e)),64==(64&n.flags)&&Qb(t,e,n))}function Q5(t,e,n=E2){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Gb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=X5(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function X5(t,e,n,r,i,s,o,a,c,l,u){const f=se+r,d=f+i,h=function rX(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(f,d),p="function"==typeof l?l():l;return h[T]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let qb=t=>null;function Wb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Kb(n,e,i,s):r.hasOwnProperty(i)&&Kb(n,e,r[i],s)}return n}function Kb(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function j2(t,e,n,r,i,s,o,a){const c=E2(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(n7(t,n,u,r,i),Nr(e)&&function dX(t,e){const n=F2(e,t);16&n[ee]||(n[ee]|=64)}(n,e.index)):3&e.type&&(r=function fX(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function J5(t,e,n,r){if(OM()){const i=null===r?null:{"":-1},s=function yX(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(dM(e,o.selectors,!1))if(r||(r=[]),hn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Z5(t,e,a.length)}else r.unshift(o),Z5(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Yb(t,e,n,o,i,a),i&&function _X(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new z(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Fo(n.mergedAttrs,n.attrs)}function Yb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Ju(Dc(n,e),t,r[l].type);!function MX(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=d3(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Fo(n.mergedAttrs,u.hostAttrs),wX(t,n,e,c,u),CX(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function uX(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=n?n.get(f):null,p=d?d.outputs:null;c=Wb(f.inputs,u,c,d?d.inputs:null),l=Wb(f.outputs,u,l,p);const g=null===c||null===o||fM(e)?null:HX(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function Qb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function hK(){return G.lFrame.currentDirectiveIndex}();try{Pr(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];Uu(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&vX(c,l)}}finally{Pr(-1),Uu(o)}}function vX(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Z5(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function CX(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hn(e)&&(n[""]=t)}}function wX(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=kr(i.type)),o=new Ko(s,hn(i),S);t.blueprint[r]=o,n[r]=o,function pX(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function mX(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,d3(t,n,i.hostVars,te),i)}function Tn(t,e,n,r,i,s){const o=E2(t,e);!function e7(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Q(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[X],o,s,t.value,n,r,i)}function VX(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)Xb(r,n,o[a++],o[a++],o[a++])}function Xb(t,e,n,r,i){const s=St(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{St(s)}}function HX(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Jb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Zb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];$u(n[r]),o.contentQueries(2,e[s],s)}}}function h6(t,e){return t[jo]?t[vM][dn]=e:t[jo]=e,t[vM]=e,e}function t7(t,e,n){$u(0);const r=St(null);try{e(t,n)}finally{St(r)}}function eV(t){return t[Ui]||(t[Ui]=[])}function tV(t){return t.cleanup||(t.cleanup=[])}function rV(t,e){const n=t[j1],r=n?n.get(Ur,null):null;r&&r.handleError(e)}function n7(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];Xb(t.data[o],e[o],r,a,i)}}function SX(t,e){const n=F2(e,t),r=n[T];!function zX(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[tt];null!==i&&null===n[i1]&&(n[i1]=O5(i,n[j1])),r7(r,n,n[nt])}function r7(t,e,n){Gu(e);try{const r=t.viewQuery;null!==r&&t7(1,r,n);const i=t.template;null!==i&&$b(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zb(t,e),t.staticViewQueries&&t7(2,t.viewQuery,n);const s=t.components;null!==s&&function IX(t,e){for(let n=0;n<e.length;n++)SX(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,qu()}}let iV=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=new jW(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=ne({token:t,providedIn:"root",factory:()=>new t}),e})();function p6(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=vu(i,a):2==s&&(r=vu(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function h3(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ee(s)),I2(s)){for(let a=kt;a<s.length;a++){const c=s[a],l=c[T].firstChild;null!==l&&h3(c[T],c,l,r)}s[In]!==s[tt]&&r.push(s[In])}const o=n.type;if(8&o)h3(t,e,n.child,r);else if(32&o){const a=d5(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=$w(e,n);if(Array.isArray(a))r.push(...a);else{const c=n3(e[rt]);h3(c[T],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function m6(t,e,n,r=!0){const i=e[ji],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{sV(t,e,t.template,n)}catch(c){throw r&&rV(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function sV(t,e,n,r){const i=e[ee];if(256!=(256&i)){e[ji].effectManager?.flush(),Gu(e);try{TM(e),function UM(t){return G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&$b(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Ic(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Ec(e,l,0,null),Wu(e,0)}if(function DX(t){for(let e=Lw(t);null!==e;e=Aw(e)){if(!e[_M])continue;const n=e[qi];for(let r=0;r<n.length;r++){eK(n[r])}}}(e),oV(e,2),null!==t.contentQueries&&Zb(t,e),o){const l=t.contentCheckHooks;null!==l&&Ic(e,l)}else{const l=t.contentHooks;null!==l&&Ec(e,l,1),Wu(e,1)}!function nX(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=Bb(e,vc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Pr(~s);else{const o=s,a=n[++i],c=n[++i];dK(a,o),r.runInContext(c,2,e[o])}}}finally{null===e[vc]&&Ub(e,vc),Pr(-1)}}(t,e);const a=t.components;null!==a&&cV(e,a,0);const c=t.viewQuery;if(null!==c&&t7(2,c,r),o){const l=t.viewCheckHooks;null!==l&&Ic(e,l)}else{const l=t.viewHooks;null!==l&&Ec(e,l,2),Wu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ee]&=-73,NM(e)}finally{qu()}}}function oV(t,e){for(let n=Lw(t);null!==n;n=Aw(n))for(let r=kt;r<n.length;r++)aV(n[r],e)}function LX(t,e,n){aV(F2(e,t),n)}function aV(t,e){if(!function JW(t){return 128==(128&t[ee])}(t))return;const n=t[T];if(80&t[ee]&&0===e||1024&t[ee]||2===e)sV(n,t,n.template,t[nt]);else if(t[Uo]>0){oV(t,1);const i=t[T].components;null!==i&&cV(t,i,1)}}function cV(t,e,n){for(let r=0;r<e.length;r++)LX(t,e[r],n)}class p3{get rootNodes(){const e=this._lView,n=e[T];return h3(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return 256==(256&this._lView[ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ue];if(I2(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&($c(e,r),Tc(n,r))}this._attachedToViewContainer=!1}p5(this._lView[T],this._lView)}onDestroy(e){!function PM(t,e){if(256==(256&t[ee]))throw new z(911,!1);null===t[$1]&&(t[$1]=[]),t[$1].push(e)}(this._lView,e)}markForCheck(){f3(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){this._lView[ee]|=128}detectChanges(){m6(this._lView[T],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function SY(t,e){i3(t,e,e[X],2,null,null)}(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e}}class AX extends p3{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;m6(e[T],e,e[nt],!1)}checkNoChanges(){}get context(){return null}}class lV extends l6{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=fe(e);return new m3(n,this.ngModule)}}function uV(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class NX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=dc(r);const i=this.injector.get(e,U5,r);return i!==U5||n===U5?i:this.parentInjector.get(e,n,r)}}class m3 extends wb{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=uV(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return uV(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function VW(t){return t.map(bW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof c1?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new NX(e,s):e,a=o.get(Vb,null);if(null===a)throw new z(407,!1);const f={rendererFactory:a,sanitizer:o.get(OQ,null),effectManager:o.get(iV,null),afterRenderEventManager:o.get(G5,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function iX(t,e,n,r){const s=r.get(Nb,!1)||n===un.ShadowDom,o=t.selectRootElement(e,s);return function sX(t){qb(t)}(o),o}(d,r,this.componentDef.encapsulation,o):jc(d,h,function TX(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=O5(p,o,!0));const w=X5(0,null,null,1,0,null,null,null,null,null,null),E=d6(null,w,null,C,null,null,f,d,o,null,y);let A,j;Gu(E);try{const ue=this.componentDef;let gt,Ht=null;ue.findHostDirectiveDefs?(gt=[],Ht=new Map,ue.findHostDirectiveDefs(ue,gt,Ht),gt.push(ue)):gt=[ue];const Y4=function PX(t,e){const n=t[T],r=se;return t[r]=e,ps(n,r,2,"#host",null)}(E,p),uFe=function RX(t,e,n,r,i,s,o){const a=i[T];!function OX(t,e,n,r){for(const i of t)e.mergedAttrs=Fo(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(p6(e,e.mergedAttrs,!0),null!==n&&Kw(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=O5(e,i[j1]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=d6(i,Gb(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Z5(a,t,r.length-1),h6(i,f),i[t.index]=f}(Y4,p,ue,gt,E,f,d);j=AM(w,se),p&&function BX(t,e,n,r){if(r)Du(t,n,["ng-version",Hb.full]);else{const{attrs:i,classes:s}=function HW(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!fn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Du(t,n,i),s&&s.length>0&&Ww(t,n,s.join(" "))}}(d,ue,p,r),void 0!==n&&function UX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(j,this.ngContentSelectors,n),A=function FX(t,e,n,r,i,s){const o=Pt(),a=i[T],c=E2(o,i);Yb(a,i,o,n,null,r);for(let u=0;u<n.length;u++)Xt(Rr(i,a,o.directiveStart+u,o),i);Qb(a,i,o),c&&Xt(c,i);const l=Rr(i,a,o.directiveStart+o.componentOffset,o);if(t[nt]=i[nt]=l,null!==s)for(const u of s)u(l,e);return K5(a,o,t),l}(uFe,ue,gt,Ht,E,[jX]),r7(w,E,null)}finally{qu()}return new kX(this.componentType,A,fs(j,E),E,j)}}class kX extends AQ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new AX(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;n7(s[T],s,i,e,n),this.previousInputValues.set(e,n),f3(F2(this._tNode.index,s))}}get injector(){return new h2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jX(){const t=Pt();zc(b()[T],t)}function we(t){let e=function fV(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(hn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=g6(t.inputs),o.inputTransforms=g6(t.inputTransforms),o.declaredInputs=g6(t.declaredInputs),o.outputs=g6(t.outputs);const a=i.hostBindings;a&&WX(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&GX(t,c),l&&qX(t,l),oc(t.inputs,i.inputs),oc(t.declaredInputs,i.declaredInputs),oc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),oc(o.inputTransforms,i.inputTransforms)),hn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function $X(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fo(i.hostAttrs,n=Fo(n,i.hostAttrs))}}(r)}function g6(t){return t===Hn?{}:t===ve?[]:t}function GX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function qX(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function WX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function v6(t){return!!i7(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function i7(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Nn(t,e,n){return t[e]=n}function Zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function y6(t,e,n,r,i){const s=function jr(t,e,n,r){const i=Zt(t,e,n);return Zt(t,e+1,r)||i}(t,e,n,r);return Zt(t,e+2,i)||s}function kn(t,e,n,r){const i=b();return Zt(i,Yi(),e)&&(de(),Tn(Ge(),i,t,e,n,r)),kn}function $r(t,e,n,r,i,s,o,a){const c=b(),l=de(),u=t+se,f=l.firstCreatePass?function _J(t,e,n,r,i,s,o,a,c){const l=e.consts,u=ps(e,t,4,o||null,G1(l,a));J5(e,n,u,G1(l,c)),zc(e,u);const f=u.tView=X5(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];Dn(f,!1);const d=zV(l,c,f,t);Sc()&&qc(l,c,d,f),Xt(d,c),h6(c,c[u]=Jb(d,c,d,f)),_c(f)&&Y5(l,c,f),null!=o&&Q5(c,f,a)}let zV=function IV(t,e,n,r){return q1(!0),e[X].createComment("")};function u7(t){return Wi(function uK(){return G.lFrame.contextLView}(),se+t)}function oe(t,e,n){const r=b();return Zt(r,Yi(),e)&&j2(de(),Ge(),r,t,e,r[X],n,!1),oe}function f7(t,e,n,r,i){const o=i?"class":"style";n7(t,n,e.inputs[o],o,r)}function P(t,e,n,r){const i=b(),s=de(),o=se+t,a=i[X],c=s.firstCreatePass?function bJ(t,e,n,r,i,s){const o=e.consts,c=ps(e,t,2,r,G1(o,i));return J5(e,n,c,G1(o,s)),null!==c.attrs&&p6(c,c.attrs,!1),null!==c.mergedAttrs&&p6(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=EV(s,i,c,a,e,t);i[o]=l;const u=_c(c);return Dn(c,!0),Kw(a,l,c),32!=(32&c.flags)&&Sc()&&qc(s,i,l,c),0===function nK(){return G.lFrame.elementDepthCount}()&&Xt(l,i),function rK(){G.lFrame.elementDepthCount++}(),u&&(Y5(s,i,c),K5(s,c,i)),null!==r&&Q5(i,c),P}function W(){let t=Pt();Fu()?Bu():(t=t.parent,Dn(t,!1));const e=t;(function sK(t){return G.skipHydrationRootTNode===t})(e)&&function lK(){G.skipHydrationRootTNode=null}(),function iK(){G.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(zc(n,t),Au(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function VK(t){return 0!=(8&t.flags)}(e)&&f7(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function HK(t){return 0!=(16&t.flags)}(e)&&f7(n,e,b(),e.stylesWithoutHost,!1),W}function Se(t,e,n,r){return P(t,e,n,r),W(),Se}let EV=(t,e,n,r,i,s)=>(q1(!0),jc(r,i,function QM(){return G.lFrame.currentNamespace}()));function p7(){return b()}function w6(t){return!!t&&"function"==typeof t.then}function LV(t){return!!t&&"function"==typeof t.subscribe}function p2(t,e,n,r){const i=b(),s=de(),o=Pt();return function TV(t,e,n,r,i,s,o){const a=_c(r),l=t.firstCreatePass&&tV(t),u=e[nt],f=eV(e);let d=!0;if(3&r.type||o){const g=E2(r,e),v=o?o(g):g,C=f.length,y=o?E=>o(Ee(E[r.index])):r.index;let w=null;if(!o&&a&&(w=function EJ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ui],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,d=!1;else{s=kV(r,e,u,s,!1);const E=n.listen(v,i,s);f.push(s,E),l&&l.push(i,y,C,C+1)}}else s=kV(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const A=e[p[v]][p[v+1]].subscribe(s),j=f.length;f.push(s,A),l&&l.push(i,r.index,j,-(j+1))}}}(s,i,i[X],o,t,e,r),p2}function NV(t,e,n,r){try{return xn(6,e,n),!1!==n(r)}catch(i){return rV(t,i),!1}finally{xn(7,e,n)}}function kV(t,e,n,r,i){return function s(o){if(o===Function)return r;f3(t.componentOffset>-1?F2(t.index,e):e);let c=NV(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=NV(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function C3(t=1){return function mK(t){return(G.lFrame.contextLView=function gK(t,e){for(;t>0;)e=e[$i],t--;return e}(t,G.lFrame.contextLView))[nt]}(t)}function xJ(t,e){let n=null;const r=function _W(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?dM(t,s,!0):wW(r,s))return i}else n=i}return n}function b6(t,e){return t<<17|e<<2}function K1(t){return t>>17&32767}function g7(t){return 2|t}function Gr(t){return(131068&t)>>2}function v7(t,e){return-131069&t|e<<2}function y7(t){return 1|t}function KV(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?K1(s):Gr(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];kJ(t[a],e)&&(c=!0,t[a+1]=r?y7(u):g7(u)),a=r?K1(u):Gr(u)}c&&(t[n+1]=r?g7(s):y7(s))}function kJ(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&rs(t,e)>=0}const Ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YV(t){return t.substring(Ct.key,Ct.keyEnd)}function PJ(t){return t.substring(Ct.value,Ct.valueEnd)}function XV(t,e){const n=Ct.textEnd;let r=Ct.key=Vs(t,e,n);return n===r?-1:(r=Ct.keyEnd=function BJ(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=ZV(t,r,n),r=Ct.value=Vs(t,r,n),r=Ct.valueEnd=function UJ(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const c=t.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=eH(t,c,o,n):e===o-4&&85===s&&82===i&&76===r&&40===c?a=o=eH(t,41,o,n):c>32&&(a=o),s=i,i=r,r=-33&c}return a}(t,r,n),ZV(t,r,n))}function Vs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ZV(t,e,n,r){return(e=Vs(t,e,n))<n&&e++,e}function eH(t,e,n,r){let i=-1,s=n;for(;s<r;){const o=t.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function M3(t,e){return function pn(t,e,n,r){const i=b(),s=de(),o=o1(2);s.firstUpdatePass&&rH(s,t,o,r),e!==te&&Zt(i,o,e)&&sH(s,s.data[d2()],i,i[X],t,i[o+1]=function JJ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=vt(U2(t)))),t}(e,n),r,o)}(t,e,null,!0),M3}function Rt(t){!function mn(t,e,n,r){const i=de(),s=o1(2);i.firstUpdatePass&&rH(i,null,s,r);const o=b();if(n!==te&&Zt(o,s,n)){const a=i.data[d2()];if(aH(a,r)&&!nH(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=vu(c,n||"")),f7(i,a,o,n,r)}else!function XJ(t,e,n,r,i,s,o,a){i===te&&(i=ve);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let g,p=null;u===f?(c+=2,l+=2,d!==h&&(p=f,g=h)):null===f||null!==u&&u<f?(c+=2,p=u):(l+=2,p=f,g=h),null!==p&&sH(t,e,n,r,p,g,o,a),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}(i,a,o,o[X],o[s+1],o[s+1]=function YJ(t,e,n){if(null==n||""===n)return ve;const r=[],i=U2(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(iH,jJ,t,!1)}function jJ(t,e){for(let n=function OJ(t){return function JV(t){Ct.key=0,Ct.keyEnd=0,Ct.value=0,Ct.valueEnd=0,Ct.textEnd=t.length}(t),XV(t,Vs(t,0,Ct.textEnd))}(e);n>=0;n=XV(e,n))iH(t,YV(e),PJ(e))}function nH(t,e){return e>=t.expandoStartIndex}function rH(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[d2()],o=nH(t,n);aH(s,r)&&null===e&&!o&&(e=!1),e=function GJ(t,e,n,r){const i=function ju(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=w3(n=_7(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=_7(i,t,e,n,r),null===s){let c=function qJ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Gr(r))return t[K1(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=_7(null,t,e,c[1],r),c=w3(c,e.attrs,r),function WJ(t,e,n,r){t[K1(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function KJ(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=w3(r,t[s].hostAttrs,n);return w3(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function TJ(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=K1(o),c=Gr(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||rs(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const d=K1(t[a+1]);t[r+1]=b6(d,a),0!==d&&(t[d+1]=v7(t[d+1],r)),t[a+1]=function LJ(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=b6(a,0),0!==a&&(t[a+1]=v7(t[a+1],r)),a=r;else t[r+1]=b6(c,0),0===a?a=r:t[c+1]=v7(t[c+1],r),c=r;l&&(t[r+1]=g7(t[r+1])),KV(t,u,r,!0),KV(t,u,r,!1),function NJ(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&rs(s,e)>=0&&(n[r+1]=y7(n[r+1]))}(e,u,t,r,s),o=b6(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function _7(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=w3(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function w3(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),B2(t,o,!!n||e[++s]))}return void 0===t?null:t}function iH(t,e,n){B2(t,e,U2(n))}function sH(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function AJ(t){return 1==(1&t)}(l)?oH(c,e,n,i,Gr(l),o):void 0;V6(u)||(V6(s)||function DJ(t){return 2==(2&t)}(l)&&(s=oH(c,null,n,i,a,o)),function kY(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:W1.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=W1.Important),t.setStyle(n,r,i,s))}}(r,o,bc(d2(),n),i,s))}function oH(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=n[i+1];d===te&&(d=f?ve:void 0);let h=f?n5(d,r):u===r?d:void 0;if(l&&!V6(h)&&(h=n5(c,r)),V6(h)&&(a=h,o))return a;const p=t[i+1];i=o?K1(p):Gr(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=n5(c,r))}return a}function V6(t){return void 0!==t}function aH(t,e){return 0!=(t.flags&(e?8:16))}function me(t,e=""){const n=b(),r=de(),i=t+se,s=r.firstCreatePass?ps(r,i,1,e,null):r.data[i],o=cH(r,n,s,e,t);n[i]=o,Sc()&&qc(r,n,o,s),Dn(s,!1)}let cH=(t,e,n,r,i)=>(q1(!0),function Uc(t,e){return t.createText(e)}(e[X],r));function Ot(t){return C7("",t,""),Ot}function C7(t,e,n){const r=b(),i=function gs(t,e,n,r){return Zt(t,Yi(),n)?e+Q(n)+r:te}(r,t,e,n);return i!==te&&function d1(t,e,n){const r=bc(e,t);!function Nw(t,e,n){t.setValue(e,n)}(t[X],r,n)}(r,d2(),i),C7}function M7(t,e,n){const r=b();return Zt(r,Yi(),e)&&j2(de(),Ge(),r,t,e,r[X],n,!0),M7}const qr=void 0;var CZ=["en",[["a","p"],["AM","PM"],qr],[["AM","PM"],qr,qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qr,"{1} 'at' {0}",qr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _Z(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Hs={};function m2(t){const e=function MZ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=IH(e);if(n)return n;const r=e.split("-")[0];if(n=IH(r),n)return n;if("en"===r)return CZ;throw new z(701,!1)}function IH(t){return t in Hs||(Hs[t]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[t]),Hs[t]}var xe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(xe||{});const Ss="en-US";let EH=Ss;function V7(t,e,n,r,i){if(t=q(t),Array.isArray(t))for(let s=0;s<t.length;s++)V7(t[s],e,n,r,i);else{const s=de(),o=b(),a=Pt();let c=Br(t)?t:q(t.provide);const l=mb(t),u=1048575&a.providerIndexes,f=a.directiveStart,d=a.providerIndexes>>20;if(Br(t)||!t.multi){const h=new Ko(l,i,S),p=S7(c,e,i?u:u+d,f);-1===p?(Ju(Dc(a,o),s,c),H7(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=S7(c,e,u+d,f),p=S7(c,e,u,u+d),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){Ju(Dc(a,o),s,c);const C=function _ee(t,e,n,r,i){const s=new Ko(t,n,S);return s.multi=[],s.index=e,s.componentProviders=0,eS(s,i,r&&!n),s}(i?yee:vee,n.length,i,r,l);!i&&v&&(n[p].providerFactory=C),H7(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else H7(s,t,h>-1?h:p,eS(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function H7(t,e,n,r){const i=Br(e),s=function gQ(t){return!!t.useClass}(e);if(i||s){const c=(s?q(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function eS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function S7(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vee(t,e,n,r){return z7(this.multi,[])}function yee(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Rr(n,n[T],this.providerFactory.index,r);s=a.slice(0,o),z7(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],z7(i,s);return s}function z7(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function je(t,e=[]){return n=>{n.providersResolver=(r,i)=>function gee(t,e,n){const r=de();if(r.firstCreatePass){const i=hn(t);V7(n,r.data,r.blueprint,i,!0),V7(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Wr{}class Cee{}class I7 extends Wr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lV(this);const i=function O2(t,e){const n=t[iM]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function f1(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=xb(e,n,[{provide:Wr,useValue:this},{provide:l6,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class E7 extends Cee{constructor(e){super(),this.moduleType=e}create(e){return new I7(this.moduleType,e,[])}}function g2(t,e,n){const r=f2()+t,i=b();return i[r]===te?Nn(i,r,n?e.call(n):e()):function g3(t,e){return t[e]}(i,r)}function v2(t,e,n,r){return cS(b(),f2(),t,e,n,r)}function I3(t,e){const n=t[e];return n===te?void 0:n}function cS(t,e,n,r,i,s){const o=e+n;return Zt(t,o,i)?Nn(t,o+1,s?r.call(s,i):r(i)):I3(t,o+1)}function y2(t,e){const n=de();let r;const i=t+se;n.firstCreatePass?(r=function Uee(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=kr(r.type)),a=S2(S);try{const c=xc(!1),l=s();return xc(c),function wJ(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),i,l),l}finally{S2(a)}}function Y1(t,e,n){const r=t+se,i=b(),s=Wi(i,r);return E3(i,r)?cS(i,f2(),e,s.transform,n,s):s.transform(n)}function Q1(t,e,n,r,i){const s=t+se,o=b(),a=Wi(o,s);return E3(o,s)?function uS(t,e,n,r,i,s,o,a){const c=e+n;return y6(t,c,i,s,o)?Nn(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):I3(t,c+3)}(o,f2(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function E3(t,e){return t[T].data[e].pure}function D7(t){return e=>{setTimeout(t,void 0,e)}}const Ft=class qee extends nc{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=D7(s),i&&(i=D7(i)),o&&(o=D7(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof ln&&e.add(a),a}};function Wee(){return this._results[Symbol.iterator]()}class L7{get changes(){return this._changes||(this._changes=new Ft)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=L7.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Wee)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function J2(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function OK(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Yee(t,e,n,r=!0){const i=e[T];if(function IY(t,e,n,r){const i=kt+r,s=n.length;r>0&&(n[i-1][dn]=e),r<s-kt?(e[dn]=n[i],fw(n,kt+r,e)):(n.push(e),e[dn]=null),e[Ue]=n;const o=e[$o];null!==o&&n!==o&&function EY(t,e){const n=t[qi];e[rt]!==e[Ue][Ue][rt]&&(t[_M]=!0),null===n?t[qi]=[e]:n.push(e)}(o,e);const a=e[zn];null!==a&&a.insertView(t),e[ee]|=128}(i,e,t,n),r){const s=y5(n,t),o=e[X],a=Gc(o,t[In]);null!==a&&function HY(t,e,n,r,i,s){r[tt]=i,r[Yt]=e,i3(t,r,n,1,i,s)}(i,t[Yt],o,e,a,s)}}let h1=(()=>{class e{}return e.__NG_ELEMENT_ID__=Jee,e})();const Qee=h1,Xee=class extends Qee{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Kee(t,e,n,r){const i=e.tView,a=d6(t,i,n,4096&t[ee]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[$o]=t[e.index];const l=t[zn];return null!==l&&(a[zn]=l.createEmbeddedView(i)),r7(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new p3(i)}};function Jee(){return E6(Pt(),b())}function E6(t,e){return 4&t.type?new Xee(e,t,fs(t,e)):null}let Rn=(()=>{class e{}return e.__NG_ELEMENT_ID__=ite,e})();function ite(){return _S(Pt(),b())}const ste=Rn,vS=class extends ste{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fs(this._hostTNode,this._hostLView)}get injector(){return new h2(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lc(this._hostTNode,this._hostLView);if(Yu(e)){const n=Qo(e,this._hostLView),r=Yo(e);return new h2(n[T].data[r+8],n)}return new h2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=yS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Jo(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new m3(fe(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const v=(o?l:this.parentInjector).get(c1,null);v&&(s=v)}fe(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function ZW(t){return I2(t[Ue])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Ue],u=new vS(l,l[Yt],l[Ue]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return Yee(a,i,o,!r),e.attachToViewContainerRef(),fw(A7(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=yS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=$c(this._lContainer,n);r&&(Tc(A7(this._lContainer),n),p5(r[T],r))}detach(e){const n=this._adjustIndex(e,-1),r=$c(this._lContainer,n);return r&&null!=Tc(A7(this._lContainer),n)?new p3(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yS(t){return t[8]}function A7(t){return t[8]||(t[8]=[])}function _S(t,e){let n;const r=e[t.index];return I2(r)?n=r:(n=Jb(r,e,null,t),e[t.index]=n,h6(e,n)),CS(n,e,t,r),new vS(n,t,e)}let CS=function MS(t,e,n,r){if(t[In])return;let i;i=8&n.type?Ee(r):function ote(t,e){const n=t[X],r=n.createComment(""),i=E2(e,t);return Or(n,Gc(n,i),r,function AY(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[In]=i};class T7{constructor(e){this.queryList=e,this.matches=null}clone(){return new T7(this.queryList)}setDirty(){this.queryList.setDirty()}}class N7{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new N7(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==ES(e,n).matches&&this.queries[n].setDirty()}}class wS{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class k7{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new k7(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class P7{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new P7(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,lte(n,s)),this.matchTNodeWithReadOption(e,n,Ac(n,e,s,!1,!1))}else r===h1?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ac(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===en||i===Rn||i===h1&&4&n.type)this.addMatch(n.index,-2);else{const s=Ac(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function lte(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function fte(t,e,n,r){return-1===n?function ute(t,e){return 11&t.type?fs(t,e):4&t.type?E6(t,e):null}(e,t):-2===n?function dte(t,e,n){return n===en?fs(e,t):n===h1?E6(e,t):n===Rn?_S(e,t):void 0}(t,e,r):Rr(t,t[T],n,e)}function bS(t,e,n,r){const i=e[zn].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:fte(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function R7(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=bS(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let f=kt;f<u.length;f++){const d=u[f];d[$o]===d[Ue]&&R7(d[T],d,l,r)}if(null!==u[qi]){const f=u[qi];for(let d=0;d<f.length;d++){const h=f[d];R7(h[T],h,l,r)}}}}}return r}function VS(t){const e=b(),n=de(),r=$M();$u(r+1);const i=ES(n,r);if(t.dirty&&function XW(t){return 4==(4&t[ee])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?R7(n,e,r,[]):bS(n,e,i,r);t.reset(s,PQ),t.notifyOnChanges()}return!0}return!1}function HS(t,e,n){const r=de();r.firstCreatePass&&(function IS(t,e,n){null===t.queries&&(t.queries=new k7),t.queries.track(new P7(e,n))}(r,new wS(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function zS(t,e,n){const r=new L7(4==(4&n));(function cX(t,e,n,r){const i=eV(e);i.push(n),t.firstCreatePass&&tV(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[zn]&&(e[zn]=new N7),e[zn].queries.push(new T7(r))}(r,b(),e)}function ES(t,e){return t.queries.getByIndex(e)}const Pte=new U("Application Initializer");let j7=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=B(Pte,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(w6(o))r.push(o);else if(LV(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const p1=new U("LocaleId",{providedIn:"root",factory:()=>B(p1,ce.Optional|ce.SkipSelf)||function Ote(){return typeof $localize<"u"&&$localize.locale||Ss}()});let Ute=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new sq(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function QS(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ft(!1),this.onMicrotaskEmpty=new Ft(!1),this.onStable=new Ft(!1),this.onError=new Ft(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function l2e(){const t="function"==typeof He.requestAnimationFrame;let e=He[t?"requestAnimationFrame":"setTimeout"],n=He[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function d2e(t){const e=()=>{!function f2e(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(He,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,W7(t),t.isCheckStableRunning=!0,q7(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),W7(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return XS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),JS(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return XS(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),JS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,W7(t),q7(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,u2e,QS,QS);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const u2e={};function q7(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function W7(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function XS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function JS(t){t._nesting--,q7(t)}class h2e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ft,this.onMicrotaskEmpty=new Ft,this.onStable=new Ft,this.onError=new Ft}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const ZS=new U("",{providedIn:"root",factory:ez});function ez(){const t=B(Te);let e=!0;return Wq(new ut(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ut(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(YC()))}const tz=new U(""),A6=new U("");let Q7,K7=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Q7||(function p2e(t){Q7=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Te),ie(Y7),ie(A6))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),e})(),Y7=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Q7?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),X1=null;const nz=new U("AllowMultipleToken"),X7=new U("PlatformDestroyListeners"),rz=new U("appBootstrapListener");function oz(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let o=J7();if(!o||o.injector.get(nz,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function v2e(t){if(X1&&!X1.get(nz,!1))throw new z(400,!1);(function iz(){!function BW(t){HM=t}(()=>{throw new z(600,!1)})})(),X1=t;const e=t.get(cz);(function sz(t){t.get(gb,null)?.forEach(n=>n())})(t)}(function az(t=[],e){return Jt.create({name:e,providers:[{provide:E5,useValue:"platform"},{provide:X7,useValue:new Set([()=>X1=null])},...t]})}(a,r))}return function _2e(t){const e=J7();if(!e)throw new z(401,!1);return e}()}}function J7(){return X1?.get(cz)??null}let cz=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function C2e(t="zone.js",e){return"noop"===t?new h2e:"zone.js"===t?new Te(e):t}(i?.ngZone,function lz(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function wee(t,e,n){return new I7(t,e,n)}(r.moduleType,this.injector,function pz(t){return[{provide:Te,useFactory:t},{provide:Jc,multi:!0,useFactory:()=>{const e=B(w2e,{optional:!0});return()=>e.initialize()}},{provide:hz,useFactory:M2e},{provide:ZS,useFactory:ez}]}(()=>s)),a=o.injector.get(Ur,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{T6(this._modules,o),c.unsubscribe()})}),function uz(t,e,n){try{const r=n();return w6(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(j7);return c.runInitializers(),c.donePromise.then(()=>(function xH(t){Q2(t,"Expected localeId to be defined"),"string"==typeof t&&(EH=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(p1,Ss)||Ss),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=fz({},i);return function m2e(t,e,n){const r=new E7(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(L3);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new z(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(X7,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Jt))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function fz(t,e){return Array.isArray(e)?e.reduce(fz,t):{...t,...e}}let L3=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(hz),this.zoneIsStable=B(ZS),this.componentTypes=[],this.components=[],this.isStable=B(Ute).hasPendingTasks.pipe(function Yq(t,e){return O1((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(t1(r,c=>{i?.unsubscribe();let l=0;const u=s++;Vn(t(c,u)).subscribe(i=t1(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}(r=>r?function Kq(...t){return mu(t,WC(t))}(!1):this.zoneIsStable),function Qq(t,e=tc){return t=t??Xq,O1((n,r)=>{let i,s=!0;n.subscribe(t1(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),YC()),this._injector=B(c1)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof wb;if(!this._injector.get(j7).done)throw!s&&function Bo(t){const e=fe(t)||Nt(t)||u2(t);return null!==e&&e.standalone}(r),new z(405,!1);let a;a=s?r:this._injector.get(l6).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function g2e(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Wr),u=a.create(Jt.NULL,[],i||a.selector,c),f=u.location.nativeElement,d=u.injector.get(tz,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),T6(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;T6(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(rz,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>T6(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new z(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function T6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hz=new U("",{providedIn:"root",factory:()=>B(Ur).handleError.bind(void 0)});function M2e(){const t=B(Te),e=B(Ur);return n=>t.runOutsideAngular(()=>e.handleError(n))}let w2e=(()=>{var t;class e{constructor(){this.zone=B(Te),this.applicationRef=B(L3)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Z7=(()=>{class e{}return e.__NG_ELEMENT_ID__=H2e,e})();function H2e(t){return function S2e(t,e,n){if(Nr(t)&&!n){const r=F2(t.index,e);return new p3(r,r)}return 47&t.type?new p3(e[rt],e):null}(Pt(),b(),16==(16&t))}class yz{constructor(){}supports(e){return v6(e)}create(e){return new L2e(e)}}const D2e=(t,e)=>e;class L2e{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||D2e}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Cz(r,i,s)?n:r,a=Cz(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!v6(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function tJ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new A2e(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new _z),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _z),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class A2e{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class T2e{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class _z{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new T2e,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cz(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Mz{constructor(){}supports(e){return e instanceof Map||i7(e)}create(){return new N2e}}class N2e{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||i7(e)))throw new z(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new k2e(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class k2e{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wz(){return new P6([new yz])}let P6=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||wz()),deps:[[e,new i5,new x2]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new z(901,!1)}}return(t=e).\u0275prov=ne({token:t,providedIn:"root",factory:wz}),e})();function bz(){return new A3([new Mz])}let A3=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||bz()),deps:[[e,new i5,new x2]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new z(901,!1)}}return(t=e).\u0275prov=ne({token:t,providedIn:"root",factory:bz}),e})();const O2e=oz(null,"core",[]);let F2e=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(L3))},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({}),e})();let cf=null;function T3(){return cf}class Z2e{}const m1=new U("DocumentToken");var O6=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(O6||{}),it=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(it||{});function nn(t,e){const n=m2(t),r=n[xe.NumberSymbols][e];if(typeof r>"u"){if(e===it.CurrencyDecimal)return n[xe.NumberSymbols][it.Decimal];if(e===it.CurrencyGroup)return n[xe.NumberSymbols][it.Group]}return r}const Ine=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gf(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const yf=/\s+/,Oz=[];let _f=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=Oz,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(yf):Oz}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(yf):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(yf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(S(P6),S(A3),S(en),S(u1))},t.\u0275dir=K({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Bne{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cf=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Bne(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),Bz(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{Bz(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Rn),S(h1),S(P6))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Bz(t,e){t.context.$implicit=e.item}let Y6=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Une,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Uz("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Uz("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Rn),S(h1))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Une{constructor(){this.$implicit=null,this.ngIf=null}}function Uz(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}function vn(t,e){return new z(2100,!1)}class Gne{createSubscription(e,n){return SM(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){SM(()=>e.unsubscribe())}}class qne{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Wne=new qne,Kne=new Gne;let $z=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(w6(r))return Wne;if(LV(r))return Kne;throw vn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Z7,16))},t.\u0275pipe=Kt({name:"async",type:t,pure:!1,standalone:!0}),e})(),Gz=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=qz}transform(r,i=qz){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function a1e(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(S(A3,16))},t.\u0275pipe=Kt({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function qz(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let xs=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function bf(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function Tne(t,e,n){return function pf(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function kne(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function Nne(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const y=s.match(Ine);if(null===y)throw new Error(`${s} is not a valid digit info`);const w=y[1],E=y[3],A=y[5];null!=w&&(u=gf(w)),null!=E&&(f=gf(E)),null!=A?d=gf(A):null!=E&&f>d&&(d=f)}!function Pne(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(c=h.every(y=>!y);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const C=[];for(h.length>=e.lgSize&&C.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)C.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&C.unshift(h.join("")),a=C.join(nn(n,r)),v.length&&(a+=nn(n,i)+v.join("")),g&&(a+=nn(n,it.Exponential)+"+"+g)}else a=nn(n,it.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function mf(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const f=c.charAt(u);"0"===f?n.minFrac=n.maxFrac=u+1:"#"===f?n.maxFrac=u+1:n.posSuf+=f}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf("#");n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function lf(t,e){return m2(t)[xe.NumberFormats][e]}(e,O6.Decimal),nn(e,it.MinusSign)),e,it.Group,it.Decimal,n)}(function Vf(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw vn()}}}return(t=e).\u0275fac=function(r){return new(r||t)(S(p1,16))},t.\u0275pipe=Kt({name:"number",type:t,pure:!0,standalone:!0}),e})();let u1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({}),e})();const f1e="server";function Hf(t){return t===f1e}class R1e extends Z2e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class If extends R1e{static makeCurrent(){!function J2e(t){cf||(cf=t)}(new If)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function O1e(){return R3=R3||document.querySelector("base"),R3?R3.getAttribute("href"):null}();return null==n?null:function F1e(t){J6=J6||document.createElement("a"),J6.setAttribute("href",t);const e=J6.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){R3=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function One(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let J6,R3=null,U1e=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),e})();const Ef=new U("EventManagerPlugins");let Jz=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Ef),ie(Te))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),e})();class Zz{constructor(e){this._doc=e}}const xf="ng-app-id";let eI=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hf(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${xf}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(xf),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(xf,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(m1),ie(r6),ie(vb,8),ie(l1))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),e})();const Df={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lf=/%COMP%/g,q1e=new U("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function nI(t,e){return e.map(n=>n.replace(Lf,t))}let rI=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Hf(c),this.defaultRenderer=new Af(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===un.ShadowDom&&(i={...i,encapsulation:un.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof sI?s.applyToHost(r):s instanceof Tf&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case un.Emulated:o=new sI(l,u,i,this.appId,f,a,c,d);break;case un.ShadowDom:return new Q1e(l,u,r,i,a,c,this.nonce,d);default:o=new Tf(l,u,i,f,a,c,d)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Jz),ie(eI),ie(r6),ie(q1e),ie(m1),ie(l1),ie(Te),ie(vb))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),e})();class Af{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Df[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Df[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Df[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(W1.DashCase|W1.Important)?e.style.setProperty(n,r,i&W1.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&W1.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=T3().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function iI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Q1e extends Af{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=nI(i.id,i.styles);for(const u of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tf extends Af{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?nI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class sI extends Tf{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function W1e(t){return"_ngcontent-%COMP%".replace(Lf,t)}(l),this.hostAttr=function K1e(t){return"_nghost-%COMP%".replace(Lf,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let X1e=(()=>{var t;class e extends Zz{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(m1))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),e})();const oI=["alt","control","meta","shift"],J1e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z1e={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ere=(()=>{var t;class e extends Zz{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T3().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),oI.forEach(u=>{const f=i.indexOf(u);f>-1&&(i.splice(f,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=J1e[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),oI.forEach(a=>{a!==s&&(0,Z1e[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(m1))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),e})();const cI=[{provide:l1,useValue:"browser"},{provide:gb,useValue:function tre(){If.makeCurrent()},multi:!0},{provide:m1,useFactory:function rre(){return function BY(t){M5=t}(document),document},deps:[]}],ire=oz(O2e,"browser",cI),sre=new U(""),lI=[{provide:A6,useClass:class B1e{addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new z(5103,!1);return s},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?T3().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:tz,useClass:K7,deps:[Te,Y7,A6]},{provide:K7,useClass:K7,deps:[Te,Y7,A6]}],uI=[{provide:E5,useValue:"root"},{provide:Ur,useFactory:function nre(){return new Ur},deps:[]},{provide:Ef,useClass:X1e,multi:!0,deps:[m1,Te,l1]},{provide:Ef,useClass:ere,multi:!0,deps:[m1]},rI,eI,Jz,{provide:Vb,useExisting:rI},{provide:class m1e{},useClass:U1e,deps:[]},[]];let Yr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:r6,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(sre,12))},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[...uI,...lI],imports:[u1e,F2e]}),e})();typeof window<"u"&&window;let hI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:function(r){let i=null;return i=r?new(r||t):ie(pI),i},providedIn:"root"}),e})(),pI=(()=>{var t;class e extends hI{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case Z2.NONE:return i;case Z2.HTML:return An(i,"HTML")?U2(i):ib(this._doc,String(i)).toString();case Z2.STYLE:return An(i,"Style")?U2(i):i;case Z2.SCRIPT:if(An(i,"Script"))return U2(i);throw new z(5200,!1);case Z2.URL:return An(i,"URL")?U2(i):Qc(String(i));case Z2.RESOURCE_URL:if(An(i,"ResourceURL"))return U2(i);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(r){return function KY(t){return new UY(t)}(r)}bypassSecurityTrustStyle(r){return function YY(t){return new jY(t)}(r)}bypassSecurityTrustScript(r){return function QY(t){return new $Y(t)}(r)}bypassSecurityTrustUrl(r){return function XY(t){return new GY(t)}(r)}bypassSecurityTrustResourceUrl(r){return function JY(t){return new qY(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(m1))},t.\u0275prov=ne({token:t,factory:function(r){let i=null;return i=r?new r:function fre(t){return new pI(t.get(m1))}(ie(Jt)),i},providedIn:"root"}),e})();var TE={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},Dx={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},XD={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},ed={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},B3={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},pT={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},wd={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){Mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m0(t){return(m0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function GN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xd(t,e){return function Pwe(t){if(Array.isArray(t))return t}(t)||function Owe(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||qN(t,e)||function Bwe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q3(t){return function kwe(t){if(Array.isArray(t))return Dd(t)}(t)||function Rwe(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||qN(t)||function Fwe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qN(t,e){if(t){if("string"==typeof t)return Dd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dd(t,e)}}function Dd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WN=function(){},Ld={},KN={},YN=null,QN={mark:WN,measure:WN};try{typeof window<"u"&&(Ld=window),typeof document<"u"&&(KN=document),typeof MutationObserver<"u"&&(YN=MutationObserver),typeof performance<"u"&&(QN=performance)}catch{}var y0,_0,C0,M0,w0,XN=(Ld.navigator||{}).userAgent,JN=void 0===XN?"":XN,Z1=Ld,Ne=KN,ZN=YN,v0=QN,y1=!!Ne.documentElement&&!!Ne.head&&"function"==typeof Ne.addEventListener&&"function"==typeof Ne.createElement,ek=~JN.indexOf("MSIE")||~JN.indexOf("Trident/"),_1="___FONT_AWESOME___",tk="fa",nk="svg-inline--fa",Qr="data-fa-i2svg",Td="data-fa-pseudo-element",jwe="data-fa-pseudo-element-pending",Nd="data-prefix",kd="data-icon",rk="fontawesome-i2svg",$we="async",Gwe=["HTML","HEAD","STYLE","SCRIPT"],ik=function(){try{return!0}catch{return!1}}(),ke="classic",Qe="sharp",Pd=[ke,Qe];function W3(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[ke]}})}var K3=W3((Mt(y0={},ke,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Mt(y0,Qe,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),y0)),Y3=W3((Mt(_0={},ke,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Mt(_0,Qe,{solid:"fass",regular:"fasr",light:"fasl"}),_0)),Q3=W3((Mt(C0={},ke,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Mt(C0,Qe,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),C0)),qwe=W3((Mt(M0={},ke,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Mt(M0,Qe,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),M0)),Wwe=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,sk="fa-layers-text",Kwe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Ywe=W3((Mt(w0={},ke,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Mt(w0,Qe,{900:"fass",400:"fasr",300:"fasl"}),w0)),ok=[1,2,3,4,5,6,7,8,9,10],Qwe=ok.concat([11,12,13,14,15,16,17,18,19,20]),Xwe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Xr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},X3=new Set;Object.keys(Y3[ke]).map(X3.add.bind(X3)),Object.keys(Y3[Qe]).map(X3.add.bind(X3));var Jwe=[].concat(Pd,q3(X3),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Xr.GROUP,Xr.SWAP_OPACITY,Xr.PRIMARY,Xr.SECONDARY]).concat(ok.map(function(t){return"".concat(t,"x")})).concat(Qwe.map(function(t){return"w-".concat(t)})),J3=Z1.FontAwesomeConfig||{};Ne&&"function"==typeof Ne.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=xd(t,2),r=e[1],i=function ebe(t){return""===t||"false"!==t&&("true"===t||t)}(function Zwe(t){var e=Ne.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(J3[r]=i)});var ak={styleDefault:"solid",familyDefault:"classic",cssPrefix:tk,replacementClass:nk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};J3.familyPrefix&&(J3.cssPrefix=J3.familyPrefix);var Ds=N(N({},ak),J3);Ds.autoReplaceSvg||(Ds.observeMutations=!1);var R={};Object.keys(ak).forEach(function(t){Object.defineProperty(R,t,{enumerable:!0,set:function(n){Ds[t]=n,Z3.forEach(function(r){return r(R)})},get:function(){return Ds[t]}})}),Object.defineProperty(R,"familyPrefix",{enumerable:!0,set:function(e){Ds.cssPrefix=e,Z3.forEach(function(n){return n(R)})},get:function(){return Ds.cssPrefix}}),Z1.FontAwesomeConfig=R;var Z3=[],On={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},ibe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ea(){for(var t=12,e="";t-- >0;)e+=ibe[62*Math.random()|0];return e}function Ls(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Rd(t){return t.classList?Ls(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function ck(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b0(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Od(t){return t.size!==On.size||t.x!==On.x||t.y!==On.y||t.rotate!==On.rotate||t.flipX||t.flipY}var cbe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function lk(){var t=tk,e=nk,n=R.cssPrefix,r=R.replacementClass,i=cbe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var uk=!1;function Fd(){R.autoAddCss&&!uk&&(function rbe(t){if(t&&y1){var e=Ne.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ne.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Ne.head.insertBefore(e,r)}}(lk()),uk=!0)}var lbe={mixout:function(){return{dom:{css:lk,insertCss:Fd}}},hooks:function(){return{beforeDOMElementCreation:function(){Fd()},beforeI2svg:function(){Fd()}}}},C1=Z1||{};C1[_1]||(C1[_1]={}),C1[_1].styles||(C1[_1].styles={}),C1[_1].hooks||(C1[_1].hooks={}),C1[_1].shims||(C1[_1].shims=[]);var yn=C1[_1],fk=[],V0=!1;function ta(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?ck(t):"<".concat(e," ").concat(function sbe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(ck(t[n]),'" ')},"").trim()}(r),">").concat(s.map(ta).join(""),"</").concat(e,">")}function dk(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}y1&&((V0=(Ne.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ne.readyState))||Ne.addEventListener("DOMContentLoaded",function t(){Ne.removeEventListener("DOMContentLoaded",t),V0=1,fk.map(function(e){return e()})}));var Bd=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function Ud(t){var e=function hbe(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function hk(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function jd(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=hk(e);"function"!=typeof yn.hooks.addPack||i?yn.styles[t]=N(N({},yn.styles[t]||{}),s):yn.hooks.addPack(t,hk(e)),"fas"===t&&jd("fa",e)}var H0,S0,z0,As=yn.styles,mbe=yn.shims,gbe=(Mt(H0={},ke,Object.values(Q3[ke])),Mt(H0,Qe,Object.values(Q3[Qe])),H0),$d=null,pk={},mk={},gk={},vk={},yk={},vbe=(Mt(S0={},ke,Object.keys(K3[ke])),Mt(S0,Qe,Object.keys(K3[Qe])),S0);var _k=function(){var e=function(s){return Bd(As,function(o,a,c){return o[c]=Bd(a,s,{}),o},{})};pk=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),mk=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),yk=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in As||R.autoFetchSvg,r=Bd(mbe,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});gk=r.names,vk=r.unicodes,$d=I0(R.styleDefault,{family:R.familyDefault})};function Gd(t,e){return(pk[t]||{})[e]}function Jr(t,e){return(yk[t]||{})[e]}function Ck(t){return gk[t]||{prefix:null,iconName:null}}function tr(){return $d}(function nbe(t){Z3.push(t)})(function(t){$d=I0(t.styleDefault,{family:R.familyDefault})}),_k();var qd=function(){return{prefix:null,iconName:null,rest:[]}};function I0(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?ke:n;return Y3[r][t]||Y3[r][K3[r][t]]||(t in yn.styles?t:null)||null}var Mk=(Mt(z0={},ke,Object.keys(Q3[ke])),Mt(z0,Qe,Object.keys(Q3[Qe])),z0);function E0(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Mt(e={},ke,"".concat(R.cssPrefix,"-").concat(ke)),Mt(e,Qe,"".concat(R.cssPrefix,"-").concat(Qe)),e),o=null,a=ke;(t.includes(s[ke])||t.some(function(l){return Mk[ke].includes(l)}))&&(a=ke),(t.includes(s[Qe])||t.some(function(l){return Mk[Qe].includes(l)}))&&(a=Qe);var c=t.reduce(function(l,u){var f=function _be(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function ybe(t){return~Jwe.indexOf(t)}(i)?null:i}(R.cssPrefix,u);if(As[u]?(u=gbe[a].includes(u)?qwe[a][u]:u,o=u,l.prefix=u):vbe[a].indexOf(u)>-1?(o=u,l.prefix=I0(u,{family:a})):f?l.iconName=f:u!==R.replacementClass&&u!==s[ke]&&u!==s[Qe]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===o?Ck(l.iconName):{},h=Jr(l.prefix,l.iconName);d.prefix&&(o=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!As.far&&As.fas&&!R.autoFetchSvg&&(l.prefix="fas")}return l},qd());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===Qe&&(As.fass||R.autoFetchSvg)&&(c.prefix="fass",c.iconName=Jr(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=tr()||"fas"),c}var wbe=function(){function t(){(function Awe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Twe(t,e,n){e&&GN(t.prototype,e),n&&GN(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=N(N({},n.definitions[a]||{}),o[a]),jd(a,o[a]);var c=Q3[ke][a];c&&jd(c,o[a]),_k()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[a][f]=l)}),n[a][c]=l}),n}}]),t}(),wk=[],Ts={},Ns={},bbe=Object.keys(Ns);function Wd(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ts[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Zr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Ts[t]||[]).forEach(function(s){s.apply(null,n)})}function M1(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ns[t]?Ns[t].apply(null,e):void 0}function Kd(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||tr();if(e)return e=Jr(n,e)||e,dk(bk.definitions,n,e)||dk(yn.styles,n,e)}var bk=new wbe,Sbe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y1?(Zr("beforeI2svg",e),M1("pseudoElements2svg",e),M1("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===R.autoReplaceSvg&&(R.autoReplaceSvg=!0),R.observeMutations=!0,function fbe(t){y1&&(V0?setTimeout(t,0):fk.push(t))}(function(){Ibe({autoReplaceSvgRoot:n}),Zr("watch",e)})}},G2={noAuto:function(){R.autoReplaceSvg=!1,R.observeMutations=!1,Zr("noAuto")},config:R,dom:Sbe,parse:{icon:function(e){if(null===e)return null;if("object"===m0(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Jr(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=I0(e[0]);return{prefix:r,iconName:Jr(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(R.cssPrefix,"-"))>-1||e.match(Wwe))){var i=E0(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||tr(),iconName:Jr(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=tr();return{prefix:s,iconName:Jr(s,e)||e}}}},library:bk,findIconDefinition:Kd,toHtml:ta},Ibe=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Ne:n;(Object.keys(yn.styles).length>0||R.autoFetchSvg)&&y1&&R.autoReplaceSvg&&G2.dom.i2svg({node:r})};function x0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return ta(r)})}}),Object.defineProperty(t,"node",{get:function(){if(y1){var r=Ne.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Yd(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=void 0!==d&&d,p=r.found?r:n,g=p.width,v=p.height,C="fak"===i,y=[R.replacementClass,s?"".concat(R.cssPrefix,"-").concat(s):""].filter(function(Ht){return-1===f.classes.indexOf(Ht)}).filter(function(Ht){return""!==Ht||!!Ht}).concat(f.classes).join(" "),w={children:[],attributes:N(N({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},E=C&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(w.attributes[Qr]=""),c&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||ea())},children:[c]}),delete w.attributes.title);var A=N(N({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:N(N({},E),f.styles)}),j=r.found&&n.found?M1("generateAbstractMask",A)||{children:[],attributes:{}}:M1("generateAbstractIcon",A)||{children:[],attributes:{}},gt=j.attributes;return A.children=j.children,A.attributes=gt,a?function xbe(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(R.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:N(N({},i),{},{id:o}),children:r}]}]}(A):function Ebe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(Od(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=b0(N(N({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(A)}function Vk(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=N(N(N({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Qr]="");var u=N({},o.styles);Od(i)&&(u.transform=function abe(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&ek?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=b0(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var Qd=yn.styles;function Xd(t){var e=t[0],n=t[1],s=xd(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(R.cssPrefix,"-").concat(Xr.GROUP)},children:[{tag:"path",attributes:{class:"".concat(R.cssPrefix,"-").concat(Xr.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(R.cssPrefix,"-").concat(Xr.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var Lbe={found:!1,width:512,height:512};function Jd(t,e){var n=e;return"fa"===e&&null!==R.styleDefault&&(e=tr()),new Promise(function(r,i){if(M1("missingIconAbstract"),"fa"===n){var o=Ck(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Qd[e]&&Qd[e][t])return r(Xd(Qd[e][t]));(function Abe(t,e){!ik&&!R.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(N(N({},Lbe),{},{icon:R.showMissingIcons&&t&&M1("missingIconAbstract")||{}}))})}var Hk=function(){},Zd=R.measurePerformance&&v0&&v0.mark&&v0.measure?v0:{mark:Hk,measure:Hk},na='FA "6.4.2"',Sk=function(e){Zd.mark("".concat(na," ").concat(e," ends")),Zd.measure("".concat(na," ").concat(e),"".concat(na," ").concat(e," begins"),"".concat(na," ").concat(e," ends"))},e9={begin:function(e){return Zd.mark("".concat(na," ").concat(e," begins")),function(){return Sk(e)}},end:Sk},D0=function(){};function zk(t){return"string"==typeof(t.getAttribute?t.getAttribute(Qr):null)}function Rbe(t){return Ne.createElementNS("http://www.w3.org/2000/svg",t)}function Obe(t){return Ne.createElement(t)}function Ik(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Rbe:Obe:n;if("string"==typeof t)return Ne.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(Ik(o,{ceFn:r}))}),i}var L0={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(Ik(i),n)}),null===n.getAttribute(Qr)&&R.keepOriginalSource){var r=Ne.createComment(function Fbe(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Rd(n).indexOf(R.replacementClass))return L0.replace(e);var i=new RegExp("".concat(R.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===R.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return ta(a)}).join("\n");n.setAttribute(Qr,""),n.innerHTML=o}};function Ek(t){t()}function xk(t,e){var n="function"==typeof e?e:D0;if(0===t.length)n();else{var r=Ek;R.mutateApproach===$we&&(r=Z1.requestAnimationFrame||Ek),r(function(){var i=function Pbe(){return!0===R.autoReplaceSvg?L0.replace:L0[R.autoReplaceSvg]||L0.replace}(),s=e9.begin("mutate");t.map(i),s(),n()})}}var t9=!1;function Dk(){t9=!0}function n9(){t9=!1}var A0=null;function Lk(t){if(ZN&&R.observeMutations){var e=t.treeCallback,n=void 0===e?D0:e,r=t.nodeCallback,i=void 0===r?D0:r,s=t.pseudoElementsCallback,o=void 0===s?D0:s,a=t.observeMutationsRoot,c=void 0===a?Ne:a;A0=new ZN(function(l){if(!t9){var u=tr();Ls(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!zk(f.addedNodes[0])&&(R.searchPseudoElements&&o(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&R.searchPseudoElements&&o(f.target.parentNode),"attributes"===f.type&&zk(f.target)&&~Xwe.indexOf(f.attributeName))if("class"===f.attributeName&&function Nbe(t){var e=t.getAttribute?t.getAttribute(Nd):null,n=t.getAttribute?t.getAttribute(kd):null;return e&&n}(f.target)){var d=E0(Rd(f.target)),p=d.iconName;f.target.setAttribute(Nd,d.prefix||u),p&&f.target.setAttribute(kd,p)}else(function kbe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(R.replacementClass)})(f.target)&&i(f.target)})}}),y1&&A0.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Ak(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function jbe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=E0(Rd(t));return i.prefix||(i.prefix=tr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function Cbe(t,e){return(mk[t]||{})[e]}(i.prefix,t.innerText)||Gd(i.prefix,Ud(t.innerText))),!i.iconName&&R.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function $be(t){var e=Ls(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return R.autoA11y&&(n?e["aria-labelledby"]="".concat(R.replacementClass,"-title-").concat(r||ea()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Wd("parseNodeAttributes",{},t),c=e.styleParser?function Ube(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return N({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:On,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var qbe=yn.styles;function Tk(t){var e="nest"===R.autoReplaceSvg?Ak(t,{styleParser:!1}):Ak(t);return~e.extra.classes.indexOf(sk)?M1("generateLayersText",t,e):M1("generateSvgReplacementMutation",t,e)}var nr=new Set;function Nk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!y1)return Promise.resolve();var n=Ne.documentElement.classList,r=function(f){return n.add("".concat(rk,"-").concat(f))},i=function(f){return n.remove("".concat(rk,"-").concat(f))},s=R.autoFetchSvg?nr:Pd.map(function(u){return"fa-".concat(u)}).concat(Object.keys(qbe));s.includes("fa")||s.push("fa");var o=[".".concat(sk,":not([").concat(Qr,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Qr,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Ls(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=e9.begin("onTree"),l=a.reduce(function(u,f){try{var d=Tk(f);d&&u.push(d)}catch(h){ik||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){xk(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(d){c(),f(d)})})}function Wbe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Tk(t).then(function(n){n&&xk([n],e)})}Pd.map(function(t){nr.add("fa-".concat(t))}),Object.keys(K3[ke]).map(nr.add.bind(nr)),Object.keys(K3[Qe]).map(nr.add.bind(nr)),nr=q3(nr);var Ybe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?On:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,f=n.title,d=void 0===f?null:f,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,C=n.attributes,y=void 0===C?{}:C,w=n.styles,E=void 0===w?{}:w;if(e){var A=e.prefix,j=e.iconName,ue=e.icon;return x0(N({type:"icon"},e),function(){return Zr("beforeDOMElementCreation",{iconDefinition:e,params:n}),R.autoA11y&&(d?y["aria-labelledby"]="".concat(R.replacementClass,"-title-").concat(p||ea()):(y["aria-hidden"]="true",y.focusable="false")),Yd({icons:{main:Xd(ue),mask:c?Xd(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:A,iconName:j,transform:N(N({},On),i),symbol:o,title:d,maskId:u,titleId:p,extra:{attributes:y,styles:E,classes:v}})})}},Qbe={mixout:function(){return{icon:(t=Ybe,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Kd(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Kd(i||{})),t(r,N(N({},n),{},{mask:i}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Nk,n.nodeCallback=Wbe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return Nk(void 0===r?Ne:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([Jd(i,a),u.iconName?Jd(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=xd(g,2);h([n,Yd({icons:{main:v[0],mask:v[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=b0(n.styles);return c.length>0&&(i.style=c),Od(o)&&(l=M1("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},Xbe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return x0({type:"layer"},function(){Zr("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(R.cssPrefix,"-layers")].concat(q3(s)).join(" ")},children:o}]})}}}},Jbe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,f=void 0===u?{}:u;return x0({type:"counter",content:n},function(){return Zr("beforeDOMElementCreation",{content:n,params:r}),function Dbe(t){var e=t.content,n=t.title,r=t.extra,i=N(N(N({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=b0(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(R.cssPrefix,"-layers-counter")].concat(q3(a))}})})}}}},Zbe={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?On:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return x0({type:"text",content:n},function(){return Zr("beforeDOMElementCreation",{content:n,params:r}),Vk({content:n,transform:N(N({},On),s),title:a,extra:{attributes:f,styles:h,classes:["".concat(R.cssPrefix,"-layers-text")].concat(q3(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(ek){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return R.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,Vk({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},eVe=new RegExp('"',"ug"),kk=[1105920,1112319];function Pk(t,e){var n="".concat(jwe).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Ls(t.children).filter(function(ue){return ue.getAttribute(Td)===e})[0],a=Z1.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(Kwe),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?Qe:ke,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Y3[d][c[2].toLowerCase()]:Ywe[d][l],p=function tVe(t){var e=t.replace(eVe,""),n=function pbe(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=kk[0]&&n<=kk[1],i=2===e.length&&e[0]===e[1];return{value:Ud(i?e[0]:e),isSecondary:r||i}}(f),g=p.value,v=p.isSecondary,C=c[0].startsWith("FontAwesome"),y=Gd(h,g),w=y;if(C){var E=function Mbe(t){var e=vk[t],n=Gd("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);E.iconName&&E.prefix&&(y=E.iconName,h=E.prefix)}if(!y||v||o&&o.getAttribute(Nd)===h&&o.getAttribute(kd)===w)r();else{t.setAttribute(n,w),o&&t.removeChild(o);var A=function Gbe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:On,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),j=A.extra;j.attributes[Td]=e,Jd(y,h).then(function(ue){var gt=Yd(N(N({},A),{},{icons:{main:ue,mask:qd()},prefix:h,iconName:w,extra:j,watchable:!0})),Ht=Ne.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Ht,t.firstChild):t.appendChild(Ht),Ht.outerHTML=gt.map(function(Y4){return ta(Y4)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function nVe(t){return Promise.all([Pk(t,"::before"),Pk(t,"::after")])}function rVe(t){return!(t.parentNode===document.head||~Gwe.indexOf(t.tagName.toUpperCase())||t.getAttribute(Td)||t.parentNode&&"svg"===t.parentNode.tagName)}function Rk(t){if(y1)return new Promise(function(e,n){var r=Ls(t.querySelectorAll("*")).filter(rVe).map(nVe),i=e9.begin("searchPseudoElements");Dk(),Promise.all(r).then(function(){i(),n9(),e()}).catch(function(){i(),n9(),n()})})}var Ok=!1,Fk=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},r9={x:0,y:0,width:"100%",height:"100%"};function Bk(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}var cVe={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?E0(i.split(" ").map(function(o){return o.trim()})):qd();return s.prefix||(s.prefix=tr()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var t,r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,d=o.icon,h=function obe(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:N(N({},r9),{},{fill:"white"})},g=u.children?{children:u.children.map(Bk)}:{},v={tag:"g",attributes:N({},h.inner),children:[Bk(N({tag:u.tag,attributes:N(N({},u.attributes),h.path)},g))]},C={tag:"g",attributes:N({},h.outer),children:[v]},y="mask-".concat(a||ea()),w="clip-".concat(a||ea()),E={tag:"mask",attributes:N(N({},r9),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,C]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:(t=d,"g"===t.tag?t.children:[t])},E]};return r.push(A,{tag:"rect",attributes:N({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},r9)}),{children:r,attributes:i}}}};!function Vbe(t,e){var n=e.mixoutsTo;wk=t,Ts={},Object.keys(Ns).forEach(function(r){-1===bbe.indexOf(r)&&delete Ns[r]}),wk.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===m0(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Ts[o]||(Ts[o]=[]),Ts[o].push(s[o])})}r.provides&&r.provides(Ns)})}([lbe,Qbe,Xbe,Jbe,Zbe,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Rk,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;R.searchPseudoElements&&Rk(void 0===r?Ne:r)}}},{mixout:function(){return{dom:{unwatch:function(){Dk(),Ok=!0}}}},hooks:function(){return{bootstrap:function(){Lk(Wd("mutationObserverCallbacks",{}))},noAuto:function(){!function Bbe(){A0&&A0.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;Ok?n9():Lk(Wd("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return Fk(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=Fk(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:N({},h.outer),children:[{tag:"g",attributes:N({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:N(N({},r.icon.attributes),h.path)}]}]}}}},cVe,{provides:function(e){var n=!1;Z1.matchMedia&&(n=Z1.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:N(N({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=N(N({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:N(N({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:N(N({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:N(N({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:N(N({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:N(N({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:N(N({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:N(N({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:G2});var dVe=G2.parse,hVe=G2.icon;const pVe=["*"],vVe=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let CVe=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Uk=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),MVe=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[X2]}),e})(),wVe=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(S(u1),S(en))},t.\u0275cmp=Sn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[X2],ngContentSelectors:pVe,decls:1,vars:0,template:function(r,i){1&r&&(function PV(t){const e=b()[rt][Yt];if(!e.projection){const r=e.projection=Zo(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?xJ(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function RV(t,e=0,n){const r=b(),i=de(),s=ps(i,se+t,16,null,n||null);null===s.projection&&(s.projection=e),Bu(),(!r[i1]||Ki())&&32!=(32&s.flags)&&function TY(t,e,n){qw(e[X],0,e,n,g5(t,n,e),Fw(n.parent||e[Yt],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),bVe=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?dVe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...vVe(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=hVe(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(S(hI),S(CVe),S(Uk),S(MVe,8),S(wVe,8))},t.\u0275cmp=Sn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(M7("innerHTML",i.renderedIconHTML,sb),kn("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[X2],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),jk=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({}),e})(),VVe=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&M3("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const ei=function(){return{color:"#eee"}},HVe=function(){return["fas","house-chimney"]},SVe=function(){return["fas","earth-americas"]},zVe=function(){return["fas","satellite-dish"]},IVe=function(){return["fas","jet-fighter-up"]},EVe=function(){return["fas","chess-board"]},xVe=function(){return["fas","flask-vial"]},DVe=function(){return["fas","hand-fist"]};let LVe=(()=>{var t;class e{constructor(r){this.renderer=B(u1),r.addIcons(ed,B3,XD,pT,Dx,TE,wd)}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Uk))},t.\u0275cmp=Sn({type:t,selectors:[["dgt-navbar"]],decls:37,vars:42,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["href","/fleets",1,"dgt-navbar-tab-link"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),Se(4,"fa-icon",4),P(5,"span",5),me(6,"home"),W()()(),P(7,"li",2)(8,"a",6),Se(9,"fa-icon",4),P(10,"span",5),me(11,"planets"),W()()(),P(12,"li",2)(13,"a",7),Se(14,"fa-icon",4),P(15,"span",5),me(16,"radar"),W()()(),P(17,"li",2)(18,"a",8),Se(19,"fa-icon",4),P(20,"span",5),me(21,"fleets"),W()()(),P(22,"li",2)(23,"a",9),Se(24,"fa-icon",4),P(25,"span",5),me(26,"navigation"),W()()(),P(27,"li",2)(28,"a",10),Se(29,"fa-icon",4),P(30,"span",5),me(31,"research"),W()()(),P(32,"li",2)(33,"a",11),Se(34,"fa-icon",4),P(35,"span",5),me(36,"alliances"),W()()()()()),2&r&&(J(2),oe("tabName","home"),J(2),Rt(g2(28,ei)),oe("icon",g2(29,HVe)),J(3),oe("tabName","planets"),J(2),Rt(g2(30,ei)),oe("icon",g2(31,SVe)),J(3),oe("tabName","radar"),J(2),Rt(g2(32,ei)),oe("icon",g2(33,zVe)),J(3),oe("tabName","fleets"),J(2),Rt(g2(34,ei)),oe("icon",g2(35,IVe)),J(3),oe("tabName","navigation"),J(2),Rt(g2(36,ei)),oe("icon",g2(37,EVe)),J(3),oe("tabName","research"),J(2),Rt(g2(38,ei)),oe("icon",g2(39,xVe)),J(3),oe("tabName","alliances"),J(2),Rt(g2(40,ei)),oe("icon",g2(41,DVe)))},dependencies:[bVe,VVe],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})(),AVe=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[LVe]}),t.\u0275inj=ft({imports:[Yr,jk]}),e})();class i9{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class $k{constructor(){this._orbit=0,this._ground=0,this._workers=new i9,this._soldiers=new i9,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class s9{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let TVe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new $k,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),f=new s9;f.name=l.parentElement.className.split(/\s+/)[2],f.stored=parseInt(u[0].replace(/,/g,"")),f.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),f.abundance=parseInt(u[2].replace(/,/g,"")),a.push(f)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Gk{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new i9,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var e2=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(e2||{});class NVe{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class kVe{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Le=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Le||{});class PVe{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let RVe=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new Gk,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=e2.SURFACE;break;case 2:s=e2.RESOURCE;break;case 0:s=e2.FLEET;break;default:s=e2.UNKNOWN}let o=new NVe(r,s);if(s!==e2.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";o.planetScan.owner=new PVe(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),a.substring(1,a.length-1))}if((s===e2.RESOURCE||s===e2.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===e2.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new s9;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===e2.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new s9;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.workers.available=parseInt(a.substring(1,a.length).replace(/,/g,"")),o.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new kVe(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Le.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Le.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Le.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Le.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Le.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Le.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Le.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Le.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Le.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Le.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Le.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Le.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Le.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),OVe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new $k;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Fn=(()=>{var t;class e{constructor(){this.planetListExtractor=B(TVe),this.planetScanExtractor=B(RVe),this.navigationSystemPlanetsExtractor=B(OVe)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}getUser(){let r=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==r.indexOf("[")&&4==r.indexOf("]")&&(r=r.substring(5,r.length)),r.toLowerCase()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class FVe{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class BVe{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class qk{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class Wk{constructor(){this._resources=new BVe,this._workers=new qk,this._soldiers=new qk}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var wt=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(wt||{});let Kk=(()=>{var t;class e{constructor(){this.dgAPI=B(Fn)}extractStats(){let r=new FVe;return r.stats.set(wt.ALL,new Wk),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new Wk),r.stats.get(wt.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(wt.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(wt.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(wt.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(wt.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case wt.METAL:r.stats.get(wt.ALL).resources.metalStored+=s.stored,r.stats.get(wt.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case wt.MINERAL:r.stats.get(wt.ALL).resources.mineralStored+=s.stored,r.stats.get(wt.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case wt.FOOD:r.stats.get(wt.ALL).resources.foodStored+=s.stored,r.stats.get(wt.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case wt.ENERGY:r.stats.get(wt.ALL).resources.energyStored+=s.stored,r.stats.get(wt.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),UVe=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Kt({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),o9=(()=>{var t;class e{constructor(){this.decimalPipe=B(xs)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Kt({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const jVe=function(t){return{"dgt-stats-totals-last-row":t}},sn=function(t){return{"dgt-padding-bottom-xs":t}};function $Ve(t,e){if(1&t&&(P(0,"tr",4)(1,"th",5),me(2),y2(3,"galaxyNameFormatter"),W(),P(4,"td",6)(5,"div",7),Se(6,"img",8),P(7,"span",9),me(8),y2(9,"number"),W()()(),P(10,"td",10)(11,"div",7)(12,"span",9),me(13),y2(14,"resourceProductionFormatter"),W()()(),P(15,"td",11)(16,"div",12),Se(17,"img",13),P(18,"span",9),me(19),y2(20,"number"),W()()(),P(21,"td",10)(22,"div",12)(23,"span",9),me(24),y2(25,"resourceProductionFormatter"),W()()(),P(26,"td",11)(27,"div",14),Se(28,"img",15),P(29,"span",9),me(30),y2(31,"number"),W()()(),P(32,"td",10)(33,"div",14)(34,"span",9),me(35),y2(36,"resourceProductionFormatter"),W()()(),P(37,"td",11)(38,"div",16),Se(39,"img",17),P(40,"span",9),me(41),y2(42,"number"),W()()(),P(43,"td",18)(44,"div",16)(45,"span",9),me(46),y2(47,"resourceProductionFormatter"),W()()(),P(48,"td",19)(49,"div",20),Se(50,"img",21),P(51,"span",9),me(52),y2(53,"number"),W()()(),P(54,"td",22)(55,"div",23),Se(56,"img",24),P(57,"span",9),me(58),y2(59,"number"),W()()(),P(60,"td",25)(61,"div",26),Se(62,"img",27),P(63,"span",9),me(64),y2(65,"number"),W()()()()),2&t){const n=e.$implicit,r=e.index,i=C3();oe("ngClass",v2(63,jVe,r==i.panel.stats.size-1)),J(1),oe("ngClass",v2(65,sn,r==i.panel.stats.size-2)),J(1),Ot(Y1(3,25,n.key)),J(2),oe("ngClass",v2(67,sn,r==i.panel.stats.size-2)),J(4),Ot(Q1(9,27,n.value.resources.metalStored,"1.0","en-US")),J(2),oe("ngClass",v2(69,sn,r==i.panel.stats.size-2)),J(3),Ot(Y1(14,31,n.value.resources.metalProduction)),J(2),oe("ngClass",v2(71,sn,r==i.panel.stats.size-2)),J(4),Ot(Q1(20,33,n.value.resources.mineralStored,"1.0","en-US")),J(2),oe("ngClass",v2(73,sn,r==i.panel.stats.size-2)),J(3),Ot(Y1(25,37,n.value.resources.mineralProduction)),J(2),oe("ngClass",v2(75,sn,r==i.panel.stats.size-2)),J(4),Ot(Q1(31,39,n.value.resources.foodStored,"1.0","en-US")),J(2),oe("ngClass",v2(77,sn,r==i.panel.stats.size-2)),J(3),Ot(Y1(36,43,n.value.resources.foodProduction)),J(2),oe("ngClass",v2(79,sn,r==i.panel.stats.size-2)),J(4),Ot(Q1(42,45,n.value.resources.energyStored,"1.0","en-US")),J(2),oe("ngClass",v2(81,sn,r==i.panel.stats.size-2)),J(3),Ot(Y1(47,49,n.value.resources.energyProduction)),J(2),oe("ngClass",v2(83,sn,r==i.panel.stats.size-2)),J(4),Ot(Q1(53,51,n.value.resources.ground,"1.0","en-US")),J(2),oe("ngClass",v2(85,sn,r==i.panel.stats.size-2)),J(4),Ot(Q1(59,55,n.value.resources.orbit,"1.0","en-US")),J(2),oe("ngClass",v2(87,sn,r==i.panel.stats.size-2)),J(4),Ot(Q1(65,59,n.value.soldiers.total,"1.0","en-US"))}}let GVe=(()=>{var t;class e{constructor(){this.statsPanelService=B(Kk)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Sn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"div",1)(2,"table",2),$r(3,$Ve,66,89,"tr",3),y2(4,"keyvalue"),W()()()),2&r&&(J(3),oe("ngForOf",Y1(4,1,i.panel.stats)))},dependencies:[_f,Cf,xs,Gz,UVe,o9],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #626262;height:15px;width:15px;vertical-align:middle}"]}),e})(),qVe=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[GVe]}),t.\u0275inj=ft({providers:[xs,Kk,Fn],imports:[Yr,jk]}),e})();function Yk(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){Yk(s,r,i,o,a,"next",c)}function a(c){Yk(s,r,i,o,a,"throw",c)}o(void 0)})}}const Qk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let d=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(d=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==f)throw new QVe;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QVe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T0=function(t){return function(t){const e=Qk(t);return c9.encodeByteArray(e,!0)}(t).replace(/\./g,"")},N0=function(t){try{return c9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const k0=()=>{try{return Jk().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N0(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Zk=t=>{var e,n;return null===(n=null===(e=k0())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},eP=()=>{var t;return null===(t=k0())||void 0===t?void 0:t.config},tP=t=>{var e;return null===(e=k0())||void 0===e?void 0:e[`_${t}`]};class ks{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function zt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l9(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function rr(){try{return"object"==typeof indexedDB}catch{return!1}}function ra(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function u9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class on extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,on.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}}class Bn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function lHe(t,e){return t.replace(uHe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new on(i,`${this.serviceName}: ${o} (${i}).`,r)}}const uHe=/\{\$([^}]+)}/g;function R0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rP(s)&&rP(o)){if(!R0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rP(t){return null!==t&&"object"==typeof t}function ia(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function oa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class hHe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function pHe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=f9),void 0===i.error&&(i.error=f9),void 0===i.complete&&(i.complete=f9);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f9(){}const mHe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},gHe=1e3,vHe=2,yHe=144e5,_He=.5;function O0(t,e=gHe,n=vHe){const r=e*Math.pow(n,t),i=Math.round(_He*r*(Math.random()-.5)*2);return Math.min(yHe,r+i)}function st(t){return t&&t._delegate?t._delegate:t}class t2{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ti="[DEFAULT]";class MHe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ks;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function bHe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ti?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class VHe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MHe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const h9=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const iP={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},HHe=ge.INFO,SHe={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},zHe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=SHe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ps{constructor(e){this.name=e,this._logLevel=HHe,this._logHandler=zHe,this._userLogHandler=null,h9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?iP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const IHe=(t,e)=>e.some(n=>t instanceof n);let sP,oP;const aP=new WeakMap,p9=new WeakMap,cP=new WeakMap,m9=new WeakMap,g9=new WeakMap;let v9={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return p9.get(t);if("objectStoreNames"===e)return t.objectStoreNames||cP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function NHe(t){return"function"==typeof t?function THe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xHe(){return oP||(oP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(y9(this),e),ir(aP.get(this))}:function(...e){return ir(t.apply(y9(this),e))}:function(e,...n){const r=t.call(y9(this),e,...n);return cP.set(r,e.sort?e.sort():[e]),ir(r)}}(t):(t instanceof IDBTransaction&&function LHe(t){if(p9.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});p9.set(t,e)}(t),IHe(t,function EHe(){return sP||(sP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,v9):t)}function ir(t){if(t instanceof IDBRequest)return function DHe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ir(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aP.set(n,t)}).catch(()=>{}),g9.set(e,t),e}(t);if(m9.has(t))return m9.get(t);const e=NHe(t);return e!==t&&(m9.set(t,e),g9.set(e,t)),e}const y9=t=>g9.get(t),PHe=["get","getKey","getAll","getAllKeys","count"],RHe=["put","add","delete","clear"],_9=new Map;function lP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(_9.get(e))return _9.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RHe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!PHe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return _9.set(e,s),s}!function AHe(t){v9=t(v9)}(t=>({...t,get:(e,n,r)=>lP(e,n)||t.get(e,n,r),has:(e,n)=>!!lP(e,n)||t.has(e,n)}));class OHe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function FHe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const C9="@firebase/app",ni=new Ps("@firebase/app"),F0="[DEFAULT]",dSe={[C9]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ri=new Map,B0=new Map;function hSe(t,e){try{t.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function M2(t){const e=t.name;if(B0.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;B0.set(e,t);for(const n of ri.values())hSe(n,t);return!0}function sr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const w1=new Bn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mSe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new t2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w1.create("app-deleted",{appName:this._name})}}const ii="9.23.0";function fP(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:F0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw w1.create("bad-app-name",{appName:String(i)});if(n||(n=eP()),!n)throw w1.create("no-options");const s=ri.get(i);if(s){if(R0(n,s.options)&&R0(r,s.config))return s;throw w1.create("duplicate-app",{appName:i})}const o=new VHe(i);for(const c of B0.values())o.addComponent(c);const a=new mSe(n,r,o);return ri.set(i,a),a}function aa(t=F0){const e=ri.get(t);if(!e&&t===F0&&eP())return fP();if(!e)throw w1.create("no-app",{appName:t});return e}function dP(){return Array.from(ri.values())}function qe(t,e,n){var r;let i=null!==(r=dSe[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ni.warn(a.join(" "))}M2(new t2(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gSe="firebase-heartbeat-database",vSe=1,ca="firebase-heartbeat-store";let w9=null;function hP(){return w9||(w9=function kHe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ir(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ir(o.result),c.oldVersion,c.newVersion,ir(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(gSe,vSe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ca)}}).catch(t=>{throw w1.create("idb-open",{originalErrorMessage:t.message})})),w9}function b9(){return(b9=m(function*(t){try{return yield(yield hP()).transaction(ca).objectStore(ca).get(mP(t))}catch(e){if(e instanceof on)ni.warn(e.message);else{const n=w1.create("idb-get",{originalErrorMessage:e?.message});ni.warn(n.message)}}})).apply(this,arguments)}function pP(t,e){return V9.apply(this,arguments)}function V9(){return(V9=m(function*(t,e){try{const r=(yield hP()).transaction(ca,"readwrite");yield r.objectStore(ca).put(e,mP(t)),yield r.done}catch(n){if(n instanceof on)ni.warn(n.message);else{const r=w1.create("idb-set",{originalErrorMessage:n?.message});ni.warn(r.message)}}})).apply(this,arguments)}function mP(t){return`${t.name}!${t.options.appId}`}class MSe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bSe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=gP(),{heartbeatsToSend:r,unsentEntries:i}=function wSe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=T0(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function gP(){return(new Date).toISOString().substring(0,10)}class bSe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!rr()&&ra().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ySe(t){return b9.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return pP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return pP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function vP(t){return T0(JSON.stringify({version:2,heartbeats:t})).length}!function VSe(t){M2(new t2("platform-logger",e=>new OHe(e),"PRIVATE")),M2(new t2("heartbeat",e=>new MSe(e),"PRIVATE")),qe(C9,"0.9.13",t),qe(C9,"0.9.13","esm2017"),qe("fire-js","")}(""),qe("firebase","9.23.0","app");const zSe=(t,e)=>e.some(n=>t instanceof n);let yP,_P;const CP=new WeakMap,H9=new WeakMap,MP=new WeakMap,S9=new WeakMap,z9=new WeakMap;let I9={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return H9.get(t);if("objectStoreNames"===e)return t.objectStoreNames||MP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function TSe(t){return"function"==typeof t?function ASe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ESe(){return _P||(_P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(E9(this),e),or(CP.get(this))}:function(...e){return or(t.apply(E9(this),e))}:function(e,...n){const r=t.call(E9(this),e,...n);return MP.set(r,e.sort?e.sort():[e]),or(r)}}(t):(t instanceof IDBTransaction&&function DSe(t){if(H9.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});H9.set(t,e)}(t),zSe(t,function ISe(){return yP||(yP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,I9):t)}function or(t){if(t instanceof IDBRequest)return function xSe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(or(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CP.set(n,t)}).catch(()=>{}),z9.set(e,t),e}(t);if(S9.has(t))return S9.get(t);const e=TSe(t);return e!==t&&(S9.set(t,e),z9.set(e,t)),e}const E9=t=>z9.get(t),kSe=["get","getKey","getAll","getAllKeys","count"],PSe=["put","add","delete","clear"],x9=new Map;function wP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(x9.get(e))return x9.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PSe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kSe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return x9.set(e,s),s}!function LSe(t){I9=t(I9)}(t=>({...t,get:(e,n,r)=>wP(e,n)||t.get(e,n,r),has:(e,n)=>!!wP(e,n)||t.has(e,n)}));const bP="@firebase/installations",D9="0.6.4",VP=1e4,HP=`w:${D9}`,SP="FIS_v2",RSe="https://firebaseinstallations.googleapis.com/v1",OSe=36e5,b1=new Bn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zP(t){return t instanceof on&&t.code.includes("request-failed")}function L9({projectId:t}){return`${RSe}/projects/${t}/installations`}function IP(t){return{token:t.token,requestStatus:2,expiresIn:jSe(t.expiresIn),creationTime:Date.now()}}function A9(t,e){return T9.apply(this,arguments)}function T9(){return(T9=m(function*(t,e){const r=(yield e.json()).error;return b1.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function EP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function N9(t){return k9.apply(this,arguments)}function k9(){return(k9=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function jSe(t){return Number(t.replace("s","000"))}function P9(){return(P9=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=L9(t),i=EP(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:SP,appId:t.appId,sdkVersion:HP})},c=yield N9(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:IP(l.authToken)}}throw yield A9("Create Installation",c)})).apply(this,arguments)}function DP(t){return new Promise(e=>{setTimeout(e,t)})}const WSe=/^[cdef][\w-]{21}$/,R9="";function KSe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function YSe(t){return function qSe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return WSe.test(n)?n:R9}catch{return R9}}function Rs(t){return`${t.appName}!${t.appId}`}const Os=new Map;function LP(t,e){const n=Rs(t);AP(n,e),function JSe(t,e){const n=function TP(){return!si&&"BroadcastChannel"in self&&(si=new BroadcastChannel("[Firebase] FID Change"),si.onmessage=t=>{AP(t.data.key,t.data.fid)}),si}();n&&n.postMessage({key:t,fid:e}),function NP(){0===Os.size&&si&&(si.close(),si=null)}()}(n,e)}function AP(t,e){const n=Os.get(t);if(n)for(const r of n)r(e)}let si=null;const ZSe="firebase-installations-database",eze=1,oi="firebase-installations-store";let O9=null;function F9(){return O9||(O9=function NSe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=or(o);return r&&o.addEventListener("upgradeneeded",c=>{r(or(o.result),c.oldVersion,c.newVersion,or(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(ZSe,eze,{upgrade:(t,e)=>{0===e&&t.createObjectStore(oi)}})),O9}function U0(t,e){return B9.apply(this,arguments)}function B9(){return(B9=m(function*(t,e){const n=Rs(t),i=(yield F9()).transaction(oi,"readwrite"),s=i.objectStore(oi),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&LP(t,e.fid),e})).apply(this,arguments)}function U9(t){return j9.apply(this,arguments)}function j9(){return(j9=m(function*(t){const e=Rs(t),r=(yield F9()).transaction(oi,"readwrite");yield r.objectStore(oi).delete(e),yield r.done})).apply(this,arguments)}function la(t,e){return $9.apply(this,arguments)}function $9(){return($9=m(function*(t,e){const n=Rs(t),i=(yield F9()).transaction(oi,"readwrite"),s=i.objectStore(oi),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&LP(t,a.fid),a})).apply(this,arguments)}function G9(t){return q9.apply(this,arguments)}function q9(){return q9=m(function*(t){let e;const n=yield la(t.appConfig,r=>{const i=function tze(t){return PP(t||{fid:KSe(),registrationStatus:0})}(r),s=function nze(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(b1.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function rze(t,e){return W9.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ize(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===R9?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),q9.apply(this,arguments)}function W9(){return W9=m(function*(t,e){try{const n=yield function GSe(t,e){return P9.apply(this,arguments)}(t,e);return U0(t.appConfig,n)}catch(n){throw zP(n)&&409===n.customData.serverCode?yield U9(t.appConfig):yield U0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),W9.apply(this,arguments)}function ize(t){return K9.apply(this,arguments)}function K9(){return(K9=m(function*(t){let e=yield kP(t.appConfig);for(;1===e.registrationStatus;)yield DP(100),e=yield kP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield G9(t);return r||n}return e})).apply(this,arguments)}function kP(t){return la(t,e=>{if(!e)throw b1.create("installation-not-found");return PP(e)})}function PP(t){return function sze(t){return 1===t.registrationStatus&&t.registrationTime+VP<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Y9(){return(Y9=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function aze(t,{fid:e}){return`${L9(t)}/${e}/authTokens:generate`}(t,n),i=function xP(t,{refreshToken:e}){const n=EP(t);return n.append("Authorization",function $Se(t){return`${SP} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:HP,appId:t.appId}})},c=yield N9(()=>fetch(r,a));if(c.ok)return IP(yield c.json());throw yield A9("Generate Auth Token",c)})).apply(this,arguments)}function Q9(t){return X9.apply(this,arguments)}function X9(){return X9=m(function*(t,e=!1){let n;const r=yield la(t.appConfig,s=>{if(!OP(s))throw b1.create("not-registered");const o=s.authToken;if(!e&&function uze(t){return 2===t.requestStatus&&!function fze(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+OSe}(t)}(o))return s;if(1===o.requestStatus)return n=function cze(t,e){return J9.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw b1.create("app-offline");const a=function dze(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function lze(t,e){return Z9.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),X9.apply(this,arguments)}function J9(){return(J9=m(function*(t,e){let n=yield RP(t.appConfig);for(;1===n.authToken.requestStatus;)yield DP(100),n=yield RP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Q9(t,e):r})).apply(this,arguments)}function RP(t){return la(t,e=>{if(!OP(e))throw b1.create("not-registered");return function hze(t){return 1===t.requestStatus&&t.requestTime+VP<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Z9(){return Z9=m(function*(t,e){try{const n=yield function oze(t,e){return Y9.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield U0(t.appConfig,r),n}catch(n){if(!zP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield U0(t.appConfig,r)}else yield U9(t.appConfig);throw n}}),Z9.apply(this,arguments)}function OP(t){return void 0!==t&&2===t.registrationStatus}function eh(){return(eh=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield G9(e);return r?r.catch(console.error):Q9(e).catch(console.error),n.fid})).apply(this,arguments)}function th(){return th=m(function*(t,e=!1){const n=t;return yield function gze(t){return nh.apply(this,arguments)}(n),(yield Q9(n,e)).token}),th.apply(this,arguments)}function nh(){return(nh=m(function*(t){const{registrationPromise:e}=yield G9(t);e&&(yield e)})).apply(this,arguments)}function sh(t){return b1.create("missing-app-config-values",{valueName:t})}const FP="installations",Mze=t=>{const e=t.getProvider("app").getImmediate(),n=function _ze(t){if(!t||!t.options)throw sh("App Configuration");if(!t.name)throw sh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw sh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:sr(e,"heartbeat"),_delete:()=>Promise.resolve()}},wze=t=>{const n=sr(t.getProvider("app").getImmediate(),FP).getImmediate();return{getId:()=>function pze(t){return eh.apply(this,arguments)}(n),getToken:i=>function mze(t){return th.apply(this,arguments)}(n,i)}};(function bze(){M2(new t2(FP,Mze,"PUBLIC")),M2(new t2("installations-internal",wze,"PRIVATE"))})(),qe(bP,D9),qe(bP,D9,"esm2017");const oh="@firebase/remote-config",T2=new Bn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tze{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Nze(t=navigator){return t.languages&&t.languages[0]||t.language}class kze{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Nze()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),f=new Promise((C,y)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",y(w)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(C){let y="fetch-client-network";throw"AbortError"===C?.name&&(y="fetch-timeout"),T2.create(y,{originalErrorMessage:C?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(200===d.status){let C;try{C=yield d.json()}catch(y){throw T2.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=C.entries,v=C.state}if("INSTANCE_STATE_UNSPECIFIED"===v?h=500:"NO_CHANGE"===v?h=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==h&&200!==h)throw T2.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class Oze{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function Pze(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(T2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Rze(t){if(!(t instanceof on&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+O0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Uze{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $0(t,e){const n=t.target.error||void 0;return T2.create(e,{originalErrorMessage:n&&n?.message})}const ai="app_namespace_store";class qze{constructor(e,n,r,i=function Gze(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e($0(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ai,{keyPath:"compositeKey"})}}catch(n){e(T2.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ai],"readonly").objectStore(ai),c=n.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s($0(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(T2.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([ai],"readwrite").objectStore(ai),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:n});u.onerror=f=>{o($0(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(T2.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ai],"readwrite").objectStore(ai),c=n.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s($0(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(T2.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Wze{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Yze(){return fh.apply(this,arguments)}function fh(){return(fh=m(function*(){if(!rr())return!1;try{return yield ra()}catch{return!1}})).apply(this,arguments)}!function Kze(){M2(new t2("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw T2.create("registration-window");if(!rr())throw T2.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw T2.create("registration-project-id");if(!o)throw T2.create("registration-api-key");if(!a)throw T2.create("registration-app-id");const c=new qze(a,r.name,n=n||"firebase"),l=new Wze(c),u=new Ps(oh);u.logLevel=ge.ERROR;const f=new kze(i,ii,n,s,o,a),d=new Oze(f,c),h=new Tze(d,c,l,u),p=new Uze(r,h,l,c,u);return function Dze(t){const e=st(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),qe(oh,"0.4.4"),qe(oh,"0.4.4","esm2017")}();const Qze=(t,e)=>e.some(n=>t instanceof n);let $P,GP;const qP=new WeakMap,dh=new WeakMap,WP=new WeakMap,hh=new WeakMap,ph=new WeakMap;let mh={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dh.get(t);if("objectStoreNames"===e)return t.objectStoreNames||WP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return V1(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function rIe(t){return"function"==typeof t?function nIe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jze(){return GP||(GP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(gh(this),e),V1(qP.get(this))}:function(...e){return V1(t.apply(gh(this),e))}:function(e,...n){const r=t.call(gh(this),e,...n);return WP.set(r,e.sort?e.sort():[e]),V1(r)}}(t):(t instanceof IDBTransaction&&function eIe(t){if(dh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dh.set(t,e)}(t),Qze(t,function Xze(){return $P||($P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,mh):t)}function V1(t){if(t instanceof IDBRequest)return function Zze(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(V1(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qP.set(n,t)}).catch(()=>{}),ph.set(e,t),e}(t);if(hh.has(t))return hh.get(t);const e=rIe(t);return e!==t&&(hh.set(t,e),ph.set(e,t)),e}const gh=t=>ph.get(t);function KP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=V1(o);return r&&o.addEventListener("upgradeneeded",c=>{r(V1(o.result),c.oldVersion,c.newVersion,V1(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function vh(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),V1(n).then(()=>{})}const iIe=["get","getKey","getAll","getAllKeys","count"],sIe=["put","add","delete","clear"],yh=new Map;function YP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(yh.get(e))return yh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sIe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!iIe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return yh.set(e,s),s}!function tIe(t){mh=t(mh)}(t=>({...t,get:(e,n,r)=>YP(e,n)||t.get(e,n,r),has:(e,n)=>!!YP(e,n)||t.has(e,n)}));const oIe="/firebase-messaging-sw.js",aIe="/firebase-cloud-messaging-push-scope",QP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cIe="https://fcmregistrations.googleapis.com/v1",XP="google.c.a.c_id",lIe="google.c.a.c_l",uIe="google.c.a.ts";var G0=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(G0||{});function H1(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hIe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const _h="fcm_token_details_db",pIe=5,JP="fcm_token_object_Store";function Ch(){return Ch=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(_h))return null;let e=null;return(yield KP(_h,pIe,{upgrade:(r=m(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(JP))return;const l=a.objectStore(JP),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(c=f.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:H1(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:H1(f.auth),p256dh:H1(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:H1(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:H1(f.auth),p256dh:H1(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:H1(f.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield vh(_h),yield vh("fcm_vapid_details_db"),yield vh("undefined"),function gIe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Ch.apply(this,arguments)}const vIe="firebase-messaging-database",yIe=1,ci="firebase-messaging-store";let Mh=null;function wh(){return Mh||(Mh=KP(vIe,yIe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ci)}})),Mh}function ZP(t){return bh.apply(this,arguments)}function bh(){return bh=m(function*(t){const e=zh(t),r=yield(yield wh()).transaction(ci).objectStore(ci).get(e);if(r)return r;{const i=yield function mIe(t){return Ch.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield Vh(t,i),i}}),bh.apply(this,arguments)}function Vh(t,e){return Hh.apply(this,arguments)}function Hh(){return(Hh=m(function*(t,e){const n=zh(t),i=(yield wh()).transaction(ci,"readwrite");return yield i.objectStore(ci).put(e,n),yield i.done,e})).apply(this,arguments)}function Sh(){return(Sh=m(function*(t){const e=zh(t),r=(yield wh()).transaction(ci,"readwrite");yield r.objectStore(ci).delete(e),yield r.done})).apply(this,arguments)}function zh({appConfig:t}){return t.appId}const Bt=new Bn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function MIe(t,e){return Ih.apply(this,arguments)}function Ih(){return(Ih=m(function*(t,e){const n=yield Lh(t),r=tR(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Dh(t.appConfig),i)).json()}catch(o){throw Bt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Bt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Bt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Eh(){return(Eh=m(function*(t,e){const n=yield Lh(t),r=tR(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Dh(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Bt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Bt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Bt.create("token-update-no-token");return s.token})).apply(this,arguments)}function eR(t,e){return xh.apply(this,arguments)}function xh(){return(xh=m(function*(t,e){const r={method:"DELETE",headers:yield Lh(t)};try{const s=yield(yield fetch(`${Dh(t.appConfig)}/${e}`,r)).json();if(s.error)throw Bt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Bt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Dh({projectId:t}){return`${cIe}/projects/${t}/registrations`}function Lh(t){return Ah.apply(this,arguments)}function Ah(){return(Ah=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function tR({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==QP&&(i.web.applicationPubKey=r),i}const bIe=6048e5;function Th(){return Th=m(function*(t){const e=yield function SIe(t,e){return Rh.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:H1(e.getKey("auth")),p256dh:H1(e.getKey("p256dh"))},r=yield ZP(t.firebaseDependencies);if(r){if(function zIe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+bIe?function HIe(t,e){return kh.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield eR(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return rR(t.firebaseDependencies,n)}return rR(t.firebaseDependencies,n)}),Th.apply(this,arguments)}function Nh(){return Nh=m(function*(t){const e=yield ZP(t.firebaseDependencies);e&&(yield eR(t.firebaseDependencies,e.token),yield function _Ie(t){return Sh.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Nh.apply(this,arguments)}function kh(){return kh=m(function*(t,e){try{const n=yield function wIe(t,e){return Eh.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Vh(t.firebaseDependencies,r),n}catch(n){throw yield function nR(t){return Nh.apply(this,arguments)}(t),n}}),kh.apply(this,arguments)}function rR(t,e){return Ph.apply(this,arguments)}function Ph(){return(Ph=m(function*(t,e){const r={token:yield MIe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Vh(t,r),r.token})).apply(this,arguments)}function Rh(){return(Rh=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hIe(e)})})).apply(this,arguments)}function iR(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function IIe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function EIe(t,e){e.data&&(t.data=e.data)}(e,t),function xIe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function sR(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Oh(t){return Bt.create("missing-app-config-values",{valueName:t})}sR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sR("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class AIe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function LIe(t){if(!t||!t.options)throw Oh("App Configuration Object");if(!t.name)throw Oh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Oh(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Fh(){return(Fh=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(oIe,{scope:aIe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Bt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Bh(){return(Bh=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function oR(t){return Fh.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Bt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Uh(){return(Uh=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=QP)})).apply(this,arguments)}function jh(){return jh=m(function*(t,e){if(!navigator)throw Bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bt.create("permission-blocked");return yield function NIe(t,e){return Uh.apply(this,arguments)}(t,e?.vapidKey),yield function TIe(t,e){return Bh.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function VIe(t){return Th.apply(this,arguments)}(t)}),jh.apply(this,arguments)}function $h(){return($h=m(function*(t,e,n){const r=function PIe(t){switch(t){case G0.NOTIFICATION_CLICKED:return"notification_open";case G0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[XP],message_name:n[lIe],message_time:n[uIe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gh(){return Gh=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===G0.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(iR(n)):t.onMessageHandler.next(iR(n)));const r=n.data;(function DIe(t){return"object"==typeof t&&!!t&&XP in t})(r)&&"1"===r["google.c.a.e"]&&(yield function kIe(t,e,n){return $h.apply(this,arguments)}(t,n.messageType,r))}),Gh.apply(this,arguments)}const cR="@firebase/messaging",OIe=t=>{const e=new AIe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function RIe(t,e){return Gh.apply(this,arguments)}(e,n)),e},FIe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function aR(t,e){return jh.apply(this,arguments)}(e,r)}};function uR(){return qh.apply(this,arguments)}function qh(){return(qh=m(function*(){try{yield ra()}catch{return!1}return typeof window<"u"&&rr()&&u9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function BIe(){M2(new t2("messaging",OIe,"PUBLIC")),M2(new t2("messaging-internal",FIe,"PRIVATE")),qe(cR,"0.12.4"),qe(cR,"0.12.4","esm2017")}();const q0="analytics",$Ie="firebase_id",GIe="origin",qIe=6e4,WIe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yh="https://www.googletagmanager.com/gtag/js",It=new Ps("@firebase/analytics"),w2=new Bn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function YIe(t){if(!t.startsWith(Yh)){const e=w2.create("invalid-gtag-resource",{gtagURL:t});return It.warn(e.message),""}return t}function fR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Qh(){return(Qh=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield fR(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){It.error(a)}t("config",i,s)})).apply(this,arguments)}function Xh(){return(Xh=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield fR(n);for(const c of o){const l=a.find(f=>f.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){It.error(s)}})).apply(this,arguments)}const iEe=30,dR=new class oEe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function aEe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Jh(){return(Jh=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:aEe(r)},s=WIe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw w2.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Zh(){return(Zh=m(function*(t,e=dR,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw w2.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw w2.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new dEe;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:qIe),hR({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function hR(t,e,n){return ep.apply(this,arguments)}function ep(){return ep=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=dR){var s;const{appId:o,measurementId:a}=t;try{yield function uEe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(w2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return It.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function cEe(t){return Jh.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function fEe(t){if(!(t instanceof on&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return It.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?O0(n,i.intervalMillis,iEe):O0(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,f),It.debug(`Calling attemptFetch again in ${u} millis`),hR(t,f,r,i)}}),ep.apply(this,arguments)}class dEe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let tp,cp;function np(){return(np=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function lp(){return(lp=m(function*(){if(!rr())return It.warn(w2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ra()}catch(t){return It.warn(w2.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function up(){return up=m(function*(t,e,n,r,i,s,o){var a;const c=function lEe(t){return Zh.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&It.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>It.error(h)),e.push(c);const l=function _Ee(){return lp.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([c,l]);(function rEe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yh)&&n.src.includes(t))return n;return null})(s)||function XIe(t,e){const n=function QIe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:YIe}),r=document.createElement("script"),i=`${Yh}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),cp&&(i("consent","default",cp),function pR(t){cp=t}(void 0)),i("js",new Date);const d=null!==(a=o?.config)&&void 0!==a?a:{};return d[GIe]="firebase",d.update=!0,null!=f&&(d[$Ie]=f),i("config",u.measurementId,d),tp&&(i("set",tp),function mR(t){tp=t}(void 0)),u.measurementId}),up.apply(this,arguments)}class MEe{constructor(e){this.app=e}_delete(){return delete Un[this.app.options.appId],Promise.resolve()}}let Un={},gR=[];const vR={};let _R,jn,W0="dataLayer",fp=!1;function bEe(t,e,n){!function wEe(){const t=[];if(l9()&&t.push("This is a browser extension environment."),u9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=w2.create("invalid-analytics-context",{errorInfo:e});It.warn(n.message)}}();const r=t.options.appId;if(!r)throw w2.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw w2.create("no-api-key");It.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Un[r])throw w2.create("already-exists",{id:r});if(!fp){!function JIe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(W0);const{wrappedGtag:s,gtagCore:o}=function nEe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function tEe(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function eEe(t,e,n,r,i){return Xh.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function ZIe(t,e,n,r,i,s){return Qh.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){It.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Un,gR,vR,W0,"gtag");jn=s,_R=o,fp=!0}return Un[r]=function CEe(t,e,n,r,i,s,o){return up.apply(this,arguments)}(t,gR,vR,e,_R,W0,n),new MEe(t)}function HEe(){return dp.apply(this,arguments)}function dp(){return(dp=m(function*(){if(l9()||!u9()||!rr())return!1;try{return yield ra()}catch{return!1}})).apply(this,arguments)}const CR="@firebase/analytics";!function zEe(){M2(new t2(q0,(e,{options:n})=>bEe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),M2(new t2("analytics-internal",function t(e){try{const n=e.getProvider(q0).getImmediate();return{logEvent:(r,i,s)=>function SEe(t,e,n,r){t=st(t),function hEe(t,e,n,r,i){return np.apply(this,arguments)}(jn,Un[t.app.options.appId],e,n,r).catch(i=>It.error(i))}(n,r,i,s)}}catch(n){throw w2.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),qe(CR,"0.10.0"),qe(CR,"0.10.0","esm2017")}();class IEe extends ln{constructor(e,n){super()}schedule(e,n=0){return this}}const K0={setInterval(t,e,...n){const{delegate:r}=K0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=K0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class wR extends IEe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return K0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&K0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const bR={now:()=>(bR.delegate||Date).now(),delegate:void 0};class ua{constructor(e,n=ua.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ua.now=bR.now;class VR extends ua{constructor(e,n=ua.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const DEe=new class xEe extends VR{}(class EEe extends wR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),LEe=new VR(wR),fa=new u3("7.6.1"),pp="__angularfire_symbol__analyticsIsSupportedValue",mp="__angularfire_symbol__analyticsIsSupported",gp="__angularfire_symbol__remoteConfigIsSupportedValue",vp="__angularfire_symbol__remoteConfigIsSupported",yp="__angularfire_symbol__messagingIsSupportedValue",_p="__angularfire_symbol__messagingIsSupported";function Mp(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[mp]||(globalThis[mp]=HEe().then(t=>globalThis[pp]=t).catch(()=>globalThis[pp]=!1)),globalThis[_p]||(globalThis[_p]=uR().then(t=>globalThis[yp]=t).catch(()=>globalThis[yp]=!1)),globalThis[vp]||(globalThis[vp]=Yze().then(t=>globalThis[gp]=t).catch(()=>globalThis[gp]=!1));const wp=(t,e)=>{const n=e?[e]:dP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Fs(){}class HR{constructor(e,n=DEe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class TEe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs)),n.pipe(function AEe(t,e,n){const r=Be(t)||e||n?{next:t,error:e,complete:n}:t;return r?O1((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(t1(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):tc}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Y0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new HR(Zone.current)),this.insideAngular=n.run(()=>new HR(Zone.current,LEe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ie(Te))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function li(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ui(t){return li().ngZone.run(()=>t())}function kEe(t){return li(),function PEe(t){return function(n){return(n=n.lift(new TEe(t.ngZone))).pipe(sc(t.outsideAngular),ic(t.insideAngular))}}(li())(t)}const REe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ui(()=>t.apply(void 0,r))},n2=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ui(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs)))),r[s]=REe(r[s],n));const i=function NEe(t){return li().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ut){const s=li();return i.pipe(sc(s.outsideAngular),ic(s.insideAngular))}return ui(()=>i)}return i instanceof ut?i.pipe(kEe):i instanceof Promise?ui(()=>new Promise((s,o)=>i.then(a=>ui(()=>s(a)),a=>ui(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ui(()=>i)};class Bs{constructor(e){return e}}class Q0{constructor(){return dP()}}const bp=new U("angularfire2._apps"),FEe={provide:Bs,useFactory:function OEe(t){return t&&1===t.length?t[0]:new Bs(aa())},deps:[[new x2,bp]]},BEe={provide:Q0,deps:[[new x2,bp]]};function UEe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Bs(r)}}let jEe=(()=>{class t{constructor(n){qe("angularfire",fa.full,"core"),qe("angularfire",fa.full,"app"),qe("angular",Hb.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ie(l1))},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[FEe,BEe]}),t})();function da(t,...e){return{ngModule:jEe,providers:[{provide:bp,useFactory:UEe(t),multi:!0,deps:[Te,Jt,Y0,...e]}]}}const ha=n2(aa,!0),pa=n2(fP,!0),Vp=new Map,SR={activated:!1,tokenObservers:[]},$Ee={initialized:!1,enabled:!1};function Xe(t){return Vp.get(t)||Object.assign({},SR)}function X0(){return $Ee}const Hp="https://content-firebaseappcheck.googleapis.com/v1",KEe="exchangeDebugToken",zR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class QEe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new ks,yield function XEe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ks,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ut=new Bn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function J0(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function Sp(t){if(!Xe(t).activated)throw Ut.create("use-before-activation",{appName:t.name})}function zp(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=Z0(n)+"d:"),r&&(o+=Z0(r)+"h:"),o+=Z0(i)+"m:"+Z0(s)+"s",o}function Z0(t){return 0===t?"00":t>=10?t.toString():"0"+t}function el(t,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(f){throw Ut.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==o.status)throw Ut.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(f){throw Ut.create("fetch-parse-error",{originalErrorMessage:f?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function IR(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Hp}/projects/${n}/apps/${r}:${KEe}?key=${i}`,body:{debug_token:e}}}const txe="firebase-app-check-database",nxe=1,ma="firebase-app-check-store",ER="debug-token";let tl=null;function xR(){return tl||(tl=new Promise((t,e)=>{try{const n=indexedDB.open(txe,nxe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ut.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ma,{keyPath:"compositeKey"})}}catch(n){e(Ut.create("storage-open",{originalErrorMessage:n?.message}))}}),tl)}function DR(t,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=m(function*(t,e){const r=(yield xR()).transaction(ma,"readwrite"),s=r.objectStore(ma).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(Ut.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}function LR(t){return xp.apply(this,arguments)}function xp(){return(xp=m(function*(t){const n=(yield xR()).transaction(ma,"readonly"),i=n.objectStore(ma).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(Ut.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}function AR(t){return`${t.options.appId}-${t.name}`}const ga=new Ps("@firebase/app-check");function Dp(){return(Dp=m(function*(t){if(rr()){let e;try{e=yield function rxe(t){return LR(AR(t))}(t)}catch(n){ga.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function Lp(t,e){return rr()?function ixe(t,e){return DR(AR(t),e)}(t,e).catch(n=>{ga.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Ap(){return(Ap=m(function*(){let t;try{t=yield function oxe(){return LR(ER)}()}catch{}if(t)return t;{const e=mHe();return function sxe(t){return DR(ER,t)}(e).catch(n=>ga.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function Tp(){return X0().enabled}function Np(){return kp.apply(this,arguments)}function kp(){return(kp=m(function*(){const t=X0();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const uxe={error:"UNKNOWN_ERROR"};function fxe(t){return c9.encodeString(JSON.stringify(t),!1)}function nl(t){return Pp.apply(this,arguments)}function Pp(){return(Pp=m(function*(t,e=!1){const n=t.app;Sp(n);const r=Xe(n);let s,i=r.token;if(i&&!Us(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Us(c)?i=c:yield Lp(n,void 0))}if(!e&&i&&Us(i))return{token:i.token};let a,o=!1;if(Tp()){r.exchangeTokenPromise||(r.exchangeTokenPromise=el(IR(n,yield Np()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield Lp(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Xe(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?ga.warn(c.message):ga.error(c),s=c}return i?s?a=Us(i)?{token:i.token,internalError:s}:PR(s):(a={token:i.token},r.token=i,yield Lp(n,i)):a=PR(s),o&&kR(n,a),a})).apply(this,arguments)}function TR(t){return Rp.apply(this,arguments)}function Rp(){return(Rp=m(function*(t){const e=t.app;Sp(e);const{provider:n}=Xe(e);if(Tp()){const r=yield Np(),{token:i}=yield el(IR(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Op(t,e,n,r){const{app:i}=t,s=Xe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Us(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),NR(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>NR(t))}function Fp(t,e){const n=Xe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function NR(t){const{app:e}=t,n=Xe(e);let r=n.tokenRefresher;r||(r=function dxe(t){const{app:e}=t;return new QEe(m(function*(){let r;if(r=Xe(e).token?yield nl(t,!0):yield nl(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Xe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},zR.RETRIAL_MIN_WAIT,zR.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function kR(t,e){const n=Xe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Us(t){return t.expireTimeMillis-Date.now()>0}function PR(t){return{token:fxe(uxe),error:t}}class hxe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Xe(this.app);for(const n of e)Fp(this.app,n.next);return Promise.resolve()}}function Cxe(t,e){const n=new ks;Xe(t).reCAPTCHAState={initialized:n};const i=function RR(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=J0(!1);return s?rl(t,e,s,i,n):function bxe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=J0(!1);if(!o)throw new Error("no recaptcha");rl(t,e,o,i,n)}),n.promise}function rl(t,e,n,r,i){n.ready(()=>{(function wxe(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Xe(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Xe(t).reCAPTCHAState.succeeded=!1}}),s=Xe(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function OR(t){return Bp.apply(this,arguments)}function Bp(){return(Bp=m(function*(t){Sp(t);const n=yield Xe(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Xe(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class fi{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function jR(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Ut.create("throttled",{time:zp(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield OR(e._app).catch(a=>{throw Ut.create("recaptcha-error")});if(null===(n=Xe(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw Ut.create("recaptcha-error");let o;try{o=yield el(function ZEe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Hp}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function UR(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=O0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),Ut.create("throttled",{time:zp(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=sr(e,"heartbeat"),Cxe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof fi&&this._siteKey===e._siteKey}}function Hxe(t=aa(),e){const n=sr(t=st(t),"app-check");if(X0().initialized||function lxe(){const t=Jk(),e=X0();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new ks;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function cxe(){return Ap.apply(this,arguments)}())}(),Tp()&&Np().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Ut.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function Sxe(t,e,n){const r=function GEe(t,e){return Vp.set(t,e),Vp.get(t)}(t,Object.assign({},SR));r.activated=!0,r.provider=e,r.cachedTokenPromise=function axe(t){return Dp.apply(this,arguments)}(t).then(i=>(i&&Us(i)&&(r.token=i,kR(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),Xe(t).isTokenAutoRefreshEnabled&&Op(r,"INTERNAL",()=>{}),r}const $R="app-check-internal";!function Ixe(){M2(new t2("app-check",t=>function pxe(t,e){return new hxe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($R).initialize()})),M2(new t2($R,t=>function mxe(t){return{getToken:e=>nl(t,e),getLimitedUseToken:()=>TR(t),addTokenListener:e=>Op(t,"INTERNAL",e),removeTokenListener:e=>Fp(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),qe("@firebase/app-check","0.8.0")}();const GR="app-check";class jp{constructor(e){return e}}class $p{constructor(){return wp(GR)}}const Gp=new U("angularfire2.app-check-instances"),xxe=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function Dxe(t){return(e,n,r)=>{var i;!Hf(r)&&xxe&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new jp(s)}}const Lxe={provide:$p,deps:[[new x2,Gp]]},Axe={provide:jp,useFactory:function Exe(t,e){const n=Mp(GR,t,e);return n&&new jp(n)},deps:[[new x2,Gp],Bs,l1]};let Txe=(()=>{class t{constructor(){qe("angularfire",fa.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[Axe,Lxe]}),t})();function va(t,...e){return{ngModule:Txe,providers:[{provide:Gp,useFactory:Dxe(t),multi:!0,deps:[Te,Jt,l1,Y0,Q0,...e]}]}}const ya=n2(Hxe,!0);const Nxe=function qR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},WR=new Bn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),il=new Ps("@firebase/auth");function sl(t,...e){il.logLevel<=ge.ERROR&&il.error(`Auth (${ii}): ${t}`,...e)}function N2(t,...e){throw qp(t,...e)}function q2(t,...e){return qp(t,...e)}function KR(t,e,n){const r=Object.assign(Object.assign({},Nxe()),{[e]:n});return new Bn("auth","Firebase",r).create(e,{appName:t.name})}function qp(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WR.create(t,...e)}function I(t,e,...n){if(!t)throw qp(e,...n)}function $n(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sl(e),new Error(e)}function S1(t,e){t||$n(e)}function _a(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function YR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ca{constructor(e,n){this.shortDelay=e,this.longDelay=n,S1(n>e,"Short delay should be less than long delay!"),this.isMobile=function iHe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}()||function oHe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Pxe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Wp(){return"http:"===YR()||"https:"===YR()}()||l9()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kp(t,e){S1(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class QR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oxe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fxe=new Ca(3e4,6e4);function We(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Je(t,e,n,r){return Yp.apply(this,arguments)}function Yp(){return(Yp=m(function*(t,e,n,r,i={}){return XR(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ia(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),QR.fetch()(JR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function XR(t,e,n){return Qp.apply(this,arguments)}function Qp(){return(Qp=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oxe),e);try{const i=new Bxe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ma(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Ma(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Ma(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Ma(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw KR(t,u,l);N2(t,u)}}catch(i){if(i instanceof on)throw i;N2(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function z1(t,e,n,r){return Xp.apply(this,arguments)}function Xp(){return(Xp=m(function*(t,e,n,r,i={}){const s=yield Je(t,e,n,r,i);return"mfaPendingCredential"in s&&N2(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function JR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Kp(t.config,i):`${t.config.apiScheme}://${i}`}class Bxe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(q2(this.auth,"network-request-failed")),Fxe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ma(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=q2(t,e,r);return i.customData._tokenResponse=n,i}function Jp(){return(Jp=m(function*(t,e){return Je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function em(){return(em=m(function*(t,e){return Je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tm(){return(tm=m(function*(t,e=!1){const n=st(t),r=yield n.getIdToken(e),i=ol(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wa(nm(i.auth_time)),issuedAtTime:wa(nm(i.iat)),expirationTime:wa(nm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function nm(t){return 1e3*Number(t)}function ol(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return sl("JWT malformed, contained fewer than 3 sections"),null;try{const i=N0(n);return i?JSON.parse(i):(sl("Failed to decode base64 JWT payload"),null)}catch(i){return sl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function I1(t,e){return rm.apply(this,arguments)}function rm(){return(rm=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof on&&function Wxe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Kxe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ZR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ba(t){return im.apply(this,arguments)}function im(){return im=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield I1(t,function $xe(t,e){return em.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Xxe(t){return t.map(e=>{var{providerId:n}=e,r=rc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Qxe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ZR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}),im.apply(this,arguments)}function sm(){return(sm=m(function*(t){const e=st(t);yield ba(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function om(){return(om=m(function*(t,e){const n=yield XR(t,{},m(function*(){const r=ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QR.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function qxe(t){const e=ol(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Jxe(t,e){return om.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Va;return r&&(I("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(I("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Va,this.toJSON())}_performRefresh(){return $n("not implemented")}}function ar(t,e){I("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=rc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kxe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ZR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield I1(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Gxe(t){return tm.apply(this,arguments)}(this,e)}reload(){return function Yxe(t){return sm.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ba(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield I1(e,function Uxe(t,e){return Jp.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,C=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:E,isAnonymous:A,providerData:j,stsTokenManager:ue}=n;I(w&&ue,e,"internal-error");const gt=Va.fromJSON(this.name,ue);I("string"==typeof w,e,"internal-error"),ar(f,e.name),ar(d,e.name),I("boolean"==typeof E,e,"internal-error"),I("boolean"==typeof A,e,"internal-error"),ar(h,e.name),ar(p,e.name),ar(g,e.name),ar(v,e.name),ar(C,e.name),ar(y,e.name);const Ht=new di({uid:w,auth:e,email:d,emailVerified:E,displayName:f,isAnonymous:A,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:gt,createdAt:C,lastLoginAt:y});return j&&Array.isArray(j)&&(Ht.providerData=j.map(Y4=>Object.assign({},Y4))),v&&(Ht._redirectEventId=v),Ht}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Va;i.updateFromServerResponse(n);const s=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ba(s),s})()}}const eO=new Map;function E1(t){S1(t instanceof Function,"Expected a class definition");let e=eO.get(t);return e?(S1(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eO.set(t,e),e)}const tO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function al(t,e,n){return`firebase:${t}:${e}:${n}`}class $s{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=al(this.userKey,i.apiKey,s),this.fullPersistenceKey=al("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?di._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new $s(E1(tO),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||E1(tO);const o=al(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const f=di._fromJSON(e,u);l!==s&&(a=f),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new $s(s,e,r)):new $s(s,e,r)})()}}function nO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aO(e))return"Blackberry";if(cO(e))return"Webos";if(am(e))return"Safari";if((e.includes("chrome/")||iO(e))&&!e.includes("edge/"))return"Chrome";if(oO(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function rO(t=zt()){return/firefox\//i.test(t)}function am(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iO(t=zt()){return/crios\//i.test(t)}function sO(t=zt()){return/iemobile/i.test(t)}function oO(t=zt()){return/android/i.test(t)}function aO(t=zt()){return/blackberry/i.test(t)}function cO(t=zt()){return/webos/i.test(t)}function cl(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lO(t=zt()){return cl(t)||oO(t)||cO(t)||aO(t)||/windows phone/i.test(t)||sO(t)}function uO(t,e=[]){let n;switch(t){case"Browser":n=nO(zt());break;case"Worker":n=`${nO(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ii}/${r}`}function fO(t,e){return lm.apply(this,arguments)}function lm(){return(lm=m(function*(t,e){return Je(t,"GET","/v2/recaptchaConfig",We(t,e))})).apply(this,arguments)}function hO(t){return void 0!==t&&void 0!==t.enterprise}class pO{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function um(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=q2("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function rDe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function mO(t){return`__${t}${Math.floor(1e6*Math.random())}`}class gO{constructor(e){this.type="recaptcha-enterprise",this.auth=Et(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){fO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new pO(f);return null==a.tenantId?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;hO(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&hO(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));um("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function cr(t,e,n){return fm.apply(this,arguments)}function fm(){return(fm=m(function*(t,e,n,r=!1){const i=new gO(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class aDe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class cDe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vO(this),this.idTokenSubscription=new vO(this),this.beforeStateQueue=new aDe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=E1(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield $s.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield ba(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Rxe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?st(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(E1(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield fO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new pO(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new gO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&E1(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield $s.create(n,[E1(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return I(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function kxe(t,...e){il.logLevel<=ge.WARN&&il.warn(`Auth (${ii}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Et(t){return st(t)}class vO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function dHe(t,e){const n=new hHe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _O(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class dm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $n("not implemented")}_getIdTokenResponse(e){return $n("not implemented")}_linkToIdToken(e,n){return $n("not implemented")}_getReauthenticationResolver(e){return $n("not implemented")}}function MO(t,e){return pm.apply(this,arguments)}function pm(){return(pm=m(function*(t,e){return Je(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function gm(t,e){return vm.apply(this,arguments)}function vm(){return(vm=m(function*(t,e){return z1(t,"POST","/v1/accounts:signInWithPassword",We(t,e))})).apply(this,arguments)}function Hm(){return(Hm=m(function*(t,e){return z1(t,"POST","/v1/accounts:signInWithEmailLink",We(t,e))})).apply(this,arguments)}function Sm(){return(Sm=m(function*(t,e){return z1(t,"POST","/v1/accounts:signInWithEmailLink",We(t,e))})).apply(this,arguments)}class Ha extends dm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ha(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ha(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield cr(e,i,"signInWithPassword");return gm(e,s)}return gm(e,i).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield cr(e,i,"signInWithPassword");return gm(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function vDe(t,e){return Hm.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:N2(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return MO(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function yDe(t,e){return Sm.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:N2(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function x1(t,e){return zm.apply(this,arguments)}function zm(){return(zm=m(function*(t,e){return z1(t,"POST","/v1/accounts:signInWithIdp",We(t,e))})).apply(this,arguments)}class Gs extends dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):N2("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=rc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Gs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return x1(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,x1(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,x1(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ia(n)}return e}}class za{constructor(e){var n,r,i,s,o,a;const c=sa(oa(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,f=function HDe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);I(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function SDe(t){const e=sa(oa(t)).link,n=e?sa(oa(e)).deep_link_id:null,r=sa(oa(t)).deep_link_id;return(r?sa(oa(r)).link:null)||r||n||e||t}(e);try{return new za(n)}catch{return null}}}let wO=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ha._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=za.parseLink(r);return I(i,"argument-error"),Ha._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class lr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bO extends lr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let zDe=(()=>{class t extends bO{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Gs._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class an{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield di._fromIdTokenResponse(e,r,i),o=VO(r);return new an({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=VO(r);return new an({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function VO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class dl extends on{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dl.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dl(e,n,r,i)}}function HO(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?dl._fromErrorAndOperation(t,s,e,r):s})}function Pm(){return(Pm=m(function*(t,e,n=!1){const r=yield I1(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return an._forOperation(t,"link",r)})).apply(this,arguments)}function Om(){return(Om=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield I1(t,HO(r,i,e,t),n);I(s.idToken,r,"internal-error");const o=ol(s.idToken);I(o,r,"internal-error");const{sub:a}=o;return I(t.uid===a,r,"user-mismatch"),an._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&N2(r,"user-mismatch"),s}})).apply(this,arguments)}function IO(t,e){return Fm.apply(this,arguments)}function Fm(){return(Fm=m(function*(t,e,n=!1){const r="signIn",i=yield HO(t,r,e),s=yield an._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Um(){return(Um=m(function*(t,e){return IO(Et(t),e)})).apply(this,arguments)}function TDe(t,e,n){return function Bm(t,e){return Um.apply(this,arguments)}(st(t),wO.credential(e,n))}const pl="__sak";class xO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pl,"1"),this.storage.removeItem(pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JDe=(()=>{class t extends xO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function YDe(){const t=zt();return am(t)||cl(t)}()&&function tDe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lO(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function eDe(){return function aHe(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),DO=(()=>{class t extends xO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let eLe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var f=m(function*(d){return d(i.origin,a)});return function(d){return f.apply(this,arguments)}}()),u=yield function ZDe(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function ml(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class tLe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=ml("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ht(){return window}function gg(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function vg(){return(vg=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const LO="firebaseLocalStorageDb",gl="firebaseLocalStorage",AO="fbase_key";class Ea{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vl(t,e){return t.transaction([gl],e?"readwrite":"readonly").objectStore(gl)}function yg(){const t=indexedDB.open(LO,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gl,{keyPath:AO})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(gl)?e(r):(r.close(),yield function aLe(){const t=indexedDB.deleteDatabase(LO);return new Ea(t).toPromise()}(),e(yield yg()))}))})}function TO(t,e,n){return _g.apply(this,arguments)}function _g(){return(_g=m(function*(t,e,n){const r=vl(t,!0).put({[AO]:e,value:n});return new Ea(r).toPromise()})).apply(this,arguments)}function Cg(){return(Cg=m(function*(t,e){const n=vl(t,!1).get(e),r=yield new Ea(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function NO(t,e){const n=vl(t,!0).delete(e);return new Ea(n).toPromise()}const fLe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield yg()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return gg()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=eLe._getInstance(function sLe(){return gg()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function rLe(){return vg.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new tLe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function iLe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield yg();return yield TO(n,pl,"1"),yield NO(n,pl),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>TO(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function cLe(t,e){return Cg.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>NO(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=vl(o,!1).getAll();return new Ea(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function pi(t,e){return e?E1(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}mO("rcb"),new Ca(3e4,6e4);class Eg extends dm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return x1(e,this._buildIdpRequest())}_linkToIdToken(e,n){return x1(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return x1(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zLe(t){return IO(t.auth,new Eg(t),t.bypassAuthState)}function ILe(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function zO(t,e){return Om.apply(this,arguments)}(n,new Eg(t),t.bypassAuthState)}function ELe(t){return xg.apply(this,arguments)}function xg(){return(xg=m(function*(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function km(t,e){return Pm.apply(this,arguments)}(n,new Eg(t),t.bypassAuthState)})).apply(this,arguments)}class PO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zLe;case"linkViaPopup":case"linkViaRedirect":return ELe;case"reauthViaPopup":case"reauthViaRedirect":return ILe;default:N2(this.auth,"internal-error")}}resolve(e){S1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){S1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xLe=new Ca(2e3,1e4);function DLe(t,e,n){return Dg.apply(this,arguments)}function Dg(){return(Dg=m(function*(t,e,n){const r=Et(t);!function js(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&N2(t,"argument-error"),KR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,lr);const i=pi(r,n);return new Tg(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let Tg=(()=>{class t extends PO{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return I(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){S1(1===n.filter.length,"Popup operations only handle one event");const r=ml();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(q2(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(q2(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(q2(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,xLe.get())};n()}}return t.currentPopupAction=null,t})();const LLe="pendingRedirect",xa=new Map;class ALe extends PO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=xa.get(n.auth._key());if(!r){try{const s=(yield function TLe(t,e){return Ng.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}xa.set(n.auth._key(),r)}return n.bypassAuthState||xa.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function Ng(){return(Ng=m(function*(t,e){const n=function OO(t){return al(LLe,t.config.apiKey,t.name)}(e),r=function RO(t){return E1(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function NLe(t,e){xa.set(t._key(),e)}function FO(t,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=m(function*(t,e,n=!1){const r=Et(t),i=pi(r,e),o=yield new ALe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class FLe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function BLe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jO(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(q2(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(UO(e))}saveEventToCache(e){this.cachedEventUids.add(UO(e)),this.lastProcessedEventTime=Date.now()}}function UO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jO({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function $g(){return($g=m(function*(t,e={}){return Je(t,"GET","/v1/projects",e)})).apply(this,arguments)}const jLe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$Le=/^https?/;function Gg(){return Gg=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function ULe(t){return $g.apply(this,arguments)}(t);for(const n of e)try{if(qLe(n))return}catch{}N2(t,"unauthorized-domain")}),Gg.apply(this,arguments)}function qLe(t){const e=_a(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!$Le.test(n))return!1;if(jLe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const WLe=new Ca(3e4,6e4);function $O(){const t=ht().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let _l=null;const QLe=new Ca(5e3,15e3),XLe="__/auth/iframe",JLe="emulator/auth/iframe",ZLe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eAe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tAe(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kp(e,JLe):`https://${t.config.authDomain}/${XLe}`,r={apiKey:e.apiKey,appName:t.name,v:ii},i=eAe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ia(r).slice(1)}`}function qg(){return qg=m(function*(t){const e=yield function YLe(t){return _l=_l||function KLe(t){return new Promise((e,n)=>{var r,i,s;function o(){$O(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$O(),n(q2(t,"network-request-failed"))},timeout:WLe.get()})}if(null!==(i=null===(r=ht().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ht().gapi)||void 0===s||!s.load){const a=mO("iframefcb");return ht()[a]=()=>{gapi.load?o():n(q2(t,"network-request-failed"))},um(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw _l=null,e})}(t),_l}(t),n=ht().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:tAe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZLe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=q2(t,"network-request-failed"),c=ht().setTimeout(()=>{o(a)},QLe.get());function l(){ht().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),qg.apply(this,arguments)}const rAe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class GO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const uAe="__/auth/handler",fAe="emulator/auth/handler",dAe=encodeURIComponent("fac");function qO(t,e,n,r,i,s){return Wg.apply(this,arguments)}function Wg(){return(Wg=m(function*(t,e,n,r,i,s){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ii,eventId:i};if(e instanceof lr){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function fHe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof bO){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${dAe}=${encodeURIComponent(c)}`:"";return`${function hAe({config:t}){return t.emulator?Kp(t,fAe):`https://${t.authDomain}/${uAe}`}(t)}?${ia(a).slice(1)}${l}`})).apply(this,arguments)}const Kg="webStorageSupport",mAe=class pAe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DO,this._completeRedirectFn=FO,this._overrideRedirectResult=NLe}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;S1(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield qO(e,n,r,_a(),i);return function cAe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},rAe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=zt().toLowerCase();n&&(a=iO(l)?"_blank":n),rO(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function Zxe(t=zt()){var e;return cl(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function lAe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new GO(null);const f=window.open(e||"",a,u);I(f,t,"popup-blocked");try{f.focus()}catch{}return new GO(f)}(e,a,ml())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function nLe(t){ht().location.href=t}(yield qO(e,n,r,_a(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(S1(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function nAe(t){return qg.apply(this,arguments)}(e),i=new FLe(e);return r.register("authEvent",s=>(I(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kg,{type:Kg},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Kg];void 0!==o&&n(!!o),N2(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function GLe(t){return Gg.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lO()||am()||cl()}};var YO="@firebase/auth";class gAe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const CAe=tP("authIdTokenMaxAge")||300;let XO=null;const MAe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>CAe)return;const s=r?.token;XO!==s&&(XO=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function wAe(t=aa()){const e=sr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function lDe(t,e){const n=sr(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(R0(n.getOptions(),e??{}))return i;N2(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:mAe,persistence:[fLe,JDe,DO]}),r=tP("authTokenSyncURL");if(r){const s=MAe(r);(function jDe(t,e,n){st(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function UDe(t,e,n,r){st(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=Zk("auth");return i&&function fDe(t,e,n){const r=Et(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=yO(e),{host:o,port:a}=function dDe(t){const e=yO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_O(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:_O(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function hDe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function bAe(t){return new ut(function(e){var n=function $De(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function yAe(t){M2(new t2("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;I(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uO(t)},l=new cDe(r,i,s,c);return function uDe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(E1);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),M2(new t2("auth-internal",e=>{const n=Et(e.getProvider("auth").getImmediate());return new gAe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(YO,"0.23.2",function vAe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),qe(YO,"0.23.2","esm2017")}("Browser");class Ml{constructor(e){return e}}class ZO{constructor(){return wp("auth")}}const Qg=new U("angularfire2.auth-instances");function SAe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ml(r)}}const zAe={provide:ZO,deps:[[new x2,Qg]]},IAe={provide:Ml,useFactory:function HAe(t,e){const n=Mp("auth",t,e);return n&&new Ml(n)},deps:[[new x2,Qg],Bs]};let EAe=(()=>{class t{constructor(){qe("angularfire",fa.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[IAe,zAe]}),t})();function Da(t,...e){return{ngModule:EAe,providers:[{provide:Qg,useFactory:SAe(t),multi:!0,deps:[Te,Jt,Y0,Q0,[new x2,$p],...e]}]}}const xAe=n2(bAe,!0),La=n2(wAe,!0),DAe=n2(TDe,!0),LAe=n2(DLe,!0);var L,AAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_n={},Xg=Xg||{},Z=AAe||self;function wl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Aa(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Jg="closure_uid_"+(1e9*Math.random()>>>0),NAe=0;function kAe(t,e,n){return t.call.apply(t.bind,arguments)}function PAe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function r2(t,e,n){return(r2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kAe:PAe).apply(null,arguments)}function bl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ur(){this.s=this.s,this.o=this.o}ur.prototype.s=!1,ur.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function TAe(t){Object.prototype.hasOwnProperty.call(t,Jg)&&t[Jg]||(t[Jg]=++NAe)}(this)},ur.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Zg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wl(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function s2(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}s2.prototype.h=function(){this.defaultPrevented=!0};var OAe=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",()=>{},e),Z.removeEventListener("test",()=>{},e)}catch{}return t}();function Ta(t){return/^[\s\xa0]*$/.test(t)}function Vl(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Gn(t){return-1!=Vl().indexOf(t)}function ev(t){return ev[" "](t),t}ev[" "]=function(){};var nv,t,BAe=Gn("Opera"),Ws=Gn("Trident")||Gn("MSIE"),nF=Gn("Edge"),tv=nF||Ws,rF=Gn("Gecko")&&!(-1!=Vl().toLowerCase().indexOf("webkit")&&!Gn("Edge"))&&!(Gn("Trident")||Gn("MSIE"))&&!Gn("Edge"),UAe=-1!=Vl().toLowerCase().indexOf("webkit")&&!Gn("Edge");function iF(){var t=Z.document;return t?t.documentMode:void 0}e:{var rv="",iv=(t=Vl(),rF?/rv:([^\);]+)(\)|;)/.exec(t):nF?/Edge\/([\d\.]+)/.exec(t):Ws?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):UAe?/WebKit\/(\S+)/.exec(t):BAe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(iv&&(rv=iv?iv[1]:""),Ws){var sv=iF();if(null!=sv&&sv>parseFloat(rv)){nv=String(sv);break e}}nv=rv}var jAe=Z.document&&Ws&&(iF()||parseInt(nv,10))||void 0;function Na(t,e){if(s2.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rF){e:{try{ev(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$Ae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Na.$.h.call(this)}}xt(Na,s2);var $Ae={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ka="closure_listenable_"+(1e6*Math.random()|0),GAe=0;function qAe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++GAe,this.fa=this.ia=!1}function Hl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function av(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function oF(t){const e={};for(const n in t)e[n]=t[n];return e}const aF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cF(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<aF.length;s++)n=aF[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sl(t){this.src=t,this.g={},this.h=0}function cv(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=eF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hl(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function lv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Sl.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=lv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new qAe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var uv="closure_lm_"+(1e6*Math.random()|0),fv={};function lF(t,e,n,r,i){if(r&&r.once)return fF(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lF(t,e[s],n,r,i);return null}return n=mv(n),t&&t[ka]?t.O(e,n,Aa(r)?!!r.capture:!!r,i):uF(t,e,n,!1,r,i)}function uF(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Aa(i)?!!i.capture:!!i,a=hv(t);if(a||(t[uv]=a=new Sl(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function KAe(){const e=YAe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OAe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hF(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fF(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fF(t,e[s],n,r,i);return null}return n=mv(n),t&&t[ka]?t.P(e,n,Aa(r)?!!r.capture:!!r,i):uF(t,e,n,!0,r,i)}function dF(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dF(t,e[s],n,r,i);else r=Aa(r)?!!r.capture:!!r,n=mv(n),t&&t[ka]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=lv(s=t.g[e],n,r,i))&&(Hl(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=hv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=lv(e,n,r,i)),(n=-1<t?e[t]:null)&&dv(n))}function dv(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ka])cv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hv(e))?(cv(n,t),0==n.h&&(n.src=null,e[uv]=null)):Hl(t)}}}function hF(t){return t in fv?fv[t]:fv[t]="on"+t}function YAe(t,e){if(t.fa)t=!0;else{e=new Na(e,this);var n=t.listener,r=t.la||t.src;t.ia&&dv(t),t=n.call(r,e)}return t}function hv(t){return(t=t[uv])instanceof Sl?t:null}var pv="__closure_events_fn_"+(1e9*Math.random()>>>0);function mv(t){return"function"==typeof t?t:(t[pv]||(t[pv]=function(e){return t.handleEvent(e)}),t[pv])}function Dt(){ur.call(this),this.i=new Sl(this),this.S=this,this.J=null}function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new s2(e,t);else if(e instanceof s2)e.target=e.target||t;else{var i=e;cF(e=new s2(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zl(o,r,!0,e)&&i}if(i=zl(o=e.g=t,r,!0,e)&&i,i=zl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=zl(o=e.g=n[s],r,!1,e)&&i}function zl(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&cv(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}xt(Dt,ur),Dt.prototype[ka]=!0,Dt.prototype.removeEventListener=function(t,e,n,r){dF(this,t,e,n,r)},Dt.prototype.N=function(){if(Dt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hl(n[r]);delete t.g[e],t.h--}}this.J=null},Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var gv=Z.JSON.stringify;function XAe(){var t=vv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var pF=new class QAe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ZAe,t=>t.reset());class ZAe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eTe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tTe(t){Z.setTimeout(()=>{throw t},0)}let Pa,Ra=!1,vv=new class JAe{constructor(){this.h=this.g=null}add(e,n){const r=pF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},mF=()=>{const t=Z.Promise.resolve(void 0);Pa=()=>{t.then(nTe)}};var nTe=()=>{for(var t;t=XAe();){try{t.h.call(t.g)}catch(n){tTe(n)}var e=pF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ra=!1};function Il(t,e){Dt.call(this),this.h=t||1,this.g=e||Z,this.j=r2(this.qb,this),this.l=Date.now()}function yv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function _v(t,e,n){if("function"==typeof t)n&&(t=r2(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r2(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function gF(t){t.g=_v(()=>{t.g=null,t.i&&(t.i=!1,gF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}xt(Il,Dt),(L=Il.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(yv(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){Il.$.N.call(this),yv(this),delete this.g};class rTe extends ur{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gF(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(t){ur.call(this),this.h=t,this.g={}}xt(Oa,ur);var vF=[];function yF(t,e,n,r){Array.isArray(n)||(n&&(vF[0]=n.toString()),n=vF);for(var i=0;i<n.length;i++){var s=lF(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _F(t){av(t.g,function(e,n){this.g.hasOwnProperty(n)&&dv(e)},t),t.g={}}function El(){this.g=!0}function Ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aTe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return gv(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Oa.prototype.N=function(){Oa.$.N.call(this),_F(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},El.prototype.Ea=function(){this.g=!1},El.prototype.info=function(){};var mi={},CF=null;function xl(){return CF=CF||new Dt}function MF(t){s2.call(this,mi.Ta,t)}function Fa(t){const e=xl();jt(e,new MF(e))}function wF(t,e){s2.call(this,mi.STAT_EVENT,t),this.stat=e}function b2(t){const e=xl();jt(e,new wF(e,t))}function bF(t,e){s2.call(this,mi.Ua,t),this.size=e}function Ba(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}mi.Ta="serverreachability",xt(MF,s2),mi.STAT_EVENT="statevent",xt(wF,s2),mi.Ua="timingevent",xt(bF,s2);var Dl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cv(){}function SF(){}Cv.prototype.h=null;var bv,Ua={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mv(){s2.call(this,"d")}function wv(){s2.call(this,"c")}function Ll(){}function ja(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oa(this),this.P=cTe,this.V=new Il(t=tv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zF}function zF(){this.i=null,this.g="",this.h=!1}xt(Mv,s2),xt(wv,s2),xt(Ll,Cv),Ll.prototype.g=function(){return new XMLHttpRequest},Ll.prototype.i=function(){return{}},bv=new Ll;var cTe=45e3,Vv={},Al={};function Hv(t,e,n){t.L=1,t.v=Pl(D1(e)),t.s=n,t.S=!0,IF(t,null)}function IF(t,e){t.G=Date.now(),$a(t),t.A=D1(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),RF(n.i,"t",r),t.C=0,n=t.l.J,t.h=new zF,t.g=cB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new rTe(r2(t.Pa,t,t.g),t.O)),yF(t.U,t.g,"readystatechange",t.nb),e=t.I?oF(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fa(),function iTe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");o=2<=f.length&&"type"==f[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function EF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function xF(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=lTe(t,n),i==Al){4==e&&(t.o=4,b2(14),r=!1),Ks(t.j,t.m,null,"[Incomplete Response]");break}if(i==Vv){t.o=4,b2(15),Ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ks(t.j,t.m,i,null),Sv(t,i)}EF(t)&&i!=Al&&i!=Vv&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,b2(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Av(e),e.M=!0,b2(11))):(Ks(t.j,t.m,n,"[Invalid Chunked Response]"),gi(t),Ga(t))}function lTe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Al:(n=Number(e.substring(n,r)),isNaN(n)?Vv:(r+=1)+n>e.length?Al:(e=e.slice(r,r+n),t.C=r+n,e))}function $a(t){t.Y=Date.now()+t.P,DF(t,t.P)}function DF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ba(r2(t.lb,t),e)}function Tl(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function Ga(t){0==t.l.H||t.J||iB(t.l,t)}function gi(t){Tl(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,yv(t.V),_F(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sv(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||zv(n.i,t)))if(!t.K&&zv(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;jl(n),Bl(n)}Lv(n),b2(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ba(r2(n.ib,n),6e3));if(1>=BF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else yi(n,11)}else if((t.K||n.g==t)&&jl(n),!Ta(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(n.L=r=1.5*d,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Iv(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Pe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=aB(r,r.J?r.pa:null,r.Y),o.K){UF(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Tl(a),$a(a)),r.g=o}else nB(r);0<n.j.length&&Ul(n)}else"stop"!=l[0]&&"close"!=l[0]||yi(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?yi(n,7):Dv(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Fa()}catch{}}function LF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(wl(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function fTe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wl(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function uTe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(wl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(L=ja.prototype).setTimeout=function(t){this.P=t},L.nb=function(t){t=t.target;const e=this.M;e&&3==qn(t)?e.l():this.Pa(t)},L.Pa=function(t){try{if(t==this.g)e:{const u=qn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||tv||this.g&&(this.h.h||this.g.ja()||QF(this.g)))){this.J||4!=u||7==e||Fa(),Tl(this);var n=this.g.da();this.ca=n;t:if(EF(this)){var r=QF(this.g);t="";var i=r.length,s=4==qn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Ga(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function sTe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ta(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,b2(12),gi(this),Ga(this);break e}Ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sv(this,n)}this.S?(xF(this,u,o),tv&&this.i&&3==u&&(yF(this.U,this.V,"tick",this.mb),this.V.start())):(Ks(this.j,this.m,o,null),Sv(this,o)),4==u&&gi(this),this.i&&!this.J&&(4==u?iB(this.l,this):(this.i=!1,$a(this)))}else(function ETe(t){const e={};t=(t.g&&2<=qn(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ta(t[r]))continue;var n=eTe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function WAe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,b2(12)):(this.o=0,b2(13)),gi(this),Ga(this)}}}catch{}},L.mb=function(){if(this.g){var t=qn(this.g),e=this.g.ja();this.C<e.length&&(Tl(this),xF(this,t,e),this.i&&4!=t&&$a(this))}},L.cancel=function(){this.J=!0,gi(this)},L.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function oTe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fa(),b2(17)),gi(this),this.o=2,Ga(this)):DF(this,this.Y-t)};var AF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof vi){this.h=t.h,Nl(this,t.j),this.s=t.s,this.g=t.g,kl(this,t.m),this.l=t.l;var e=t.i,n=new Ka;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),TF(this,n),this.o=t.o}else t&&(e=String(t).match(AF))?(this.h=!1,Nl(this,e[1]||"",!0),this.s=qa(e[2]||""),this.g=qa(e[3]||"",!0),kl(this,e[4]),this.l=qa(e[5]||"",!0),TF(this,e[6]||"",!0),this.o=qa(e[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}function D1(t){return new vi(t)}function Nl(t,e,n){t.j=n?qa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function kl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function TF(t,e,n){e instanceof Ka?(t.i=e,function yTe(t,e){e&&!t.j&&(fr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(kF(this,r),RF(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Wa(e,gTe)),t.i=new Ka(e,t.h))}function Pe(t,e,n){t.i.set(e,n)}function Pl(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hTe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hTe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wa(e,NF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wa(e,NF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wa(n,"/"==n.charAt(0)?mTe:pTe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wa(n,vTe)),t.join("")};var NF=/[#\/\?@]/g,pTe=/[#\?:]/g,mTe=/[#\?]/g,gTe=/[#\?@]/g,vTe=/#/g;function Ka(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fr(t){t.g||(t.g=new Map,t.h=0,t.i&&function dTe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function kF(t,e){fr(t),e=Ys(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PF(t,e){return fr(t),e=Ys(t,e),t.g.has(e)}function RF(t,e,n){kF(t,e),0<n.length&&(t.i=null,t.g.set(Ys(t,e),Zg(n)),t.h+=n.length)}function Ys(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OF(t){this.l=t||CTe,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=Ka.prototype).add=function(t,e){fr(this),this.i=null,t=Ys(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){fr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},L.ta=function(){fr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},L.Z=function(t){fr(this);let e=[];if("string"==typeof t)PF(this,t)&&(e=e.concat(this.g.get(Ys(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return fr(this),this.i=null,PF(this,t=Ys(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var CTe=10;function FF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function BF(t){return t.h?1:t.g?t.g.size:0}function zv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Iv(t,e){t.g?t.g.add(e):t.h=e}function UF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Zg(t.i)}OF.prototype.cancel=function(){if(this.i=jF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var MTe=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function wTe(){this.g=new MTe}function bTe(t,e,n){const r=n||"";try{LF(t,function(i,s){let o=i;Aa(i)&&(o=gv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ya(t){this.l=t.fc||null,this.j=t.ob||!1}function Ol(t,e){Dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ev,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Ya,Cv),Ya.prototype.g=function(){return new Ol(this.l,this.j)},Ya.prototype.i=function(t){return function(){return t}}({}),xt(Ol,Dt);var Ev=0;function $F(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Qa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xa(t)}function Xa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=Ol.prototype).open=function(t,e){if(this.readyState!=Ev)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xa(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qa(this)),this.readyState=Ev},L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$F(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qa(this):Xa(this),3==this.readyState&&$F(this)}},L.Za=function(t){this.g&&(this.response=this.responseText=t,Qa(this))},L.Ya=function(t){this.g&&(this.response=t,Qa(this))},L.ka=function(){this.g&&Qa(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var HTe=Z.JSON.parse;function Ze(t){Dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GF,this.L=this.M=!1}xt(Ze,Dt);var GF="",STe=/^https?$/i,zTe=["POST","PUT"];function qF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WF(t),Fl(t)}function WF(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}function KF(t){if(t.h&&typeof Xg<"u"&&(!t.C[1]||4!=qn(t)||2!=t.da()))if(t.v&&4==qn(t))_v(t.La,0,t);else if(jt(t,"readystatechange"),4==qn(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(AF)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!STe.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var s=2<qn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",WF(t)}}finally{Fl(t)}}}function Fl(t,e){if(t.g){YF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function YF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function qn(t){return t.g?t.g.readyState:0}function QF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function XF(t){let e="";return av(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function xv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pe(t,e,n))}function Ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function JF(t){this.Ga=0,this.j=[],this.l=new El,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ja("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ja("baseRetryDelayMs",5e3,t),this.hb=Ja("retryDelaySeedMs",1e4,t),this.eb=Ja("forwardChannelMaxRetries",2,t),this.xa=Ja("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OF(t&&t.concurrentRequestLimit),this.Ja=new wTe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Dv(t){if(ZF(t),3==t.H){var e=t.W++,n=D1(t.I);if(Pe(n,"SID",t.K),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),Za(t,n),(e=new ja(t,t.l,e)).L=2,e.v=Pl(D1(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=cB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$a(e)}oB(t)}function Bl(t){t.g&&(Av(t),t.g.cancel(),t.g=null)}function ZF(t){Bl(t),t.u&&(Z.clearTimeout(t.u),t.u=null),jl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function Ul(t){if(!FF(t.i)&&!t.m){t.m=!0;var e=t.Na;Pa||mF(),Ra||(Pa(),Ra=!0),vv.add(e,t),t.C=0}}function eB(t,e){var n;n=e?e.m:t.W++;const r=D1(t.I);Pe(r,"SID",t.K),Pe(r,"RID",n),Pe(r,"AID",t.V),Za(t,r),t.o&&t.s&&xv(r,t.o,t.s),n=new ja(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=tB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Iv(t.i,n),Hv(n,r,e)}function Za(t,e){t.na&&av(t.na,function(n,r){Pe(e,r,n)}),t.h&&LF({},function(n,r){Pe(e,r,n)})}function tB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?r2(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{bTe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function nB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pa||mF(),Ra||(Pa(),Ra=!0),vv.add(e,t),t.A=0}}function Lv(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ba(r2(t.Ma,t),sB(t,t.A)),t.A++,0))}function Av(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function rB(t){t.g=new ja(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=D1(t.wa);Pe(e,"RID","rpc"),Pe(e,"SID",t.K),Pe(e,"AID",t.V),Pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pe(e,"TO",t.qa),Pe(e,"TYPE","xmlhttp"),Za(t,e),t.o&&t.s&&xv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Pl(D1(e)),n.s=null,n.S=!0,IF(n,t)}function jl(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function iB(t,e){var n=null;if(t.g==e){jl(t),Av(t),t.g=null;var r=2}else{if(!zv(t.i,e))return;n=e.F,UF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;jt(r=xl(),new bF(r,n)),Ul(t)}else nB(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function xTe(t,e){return!(BF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ba(r2(t.Na,t,e),sB(t,t.C)),t.C++,0)))}(t,e)||2==r&&Lv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yi(t,5);break;case 4:yi(t,10);break;case 3:yi(t,6);break;default:yi(t,2)}}function sB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function yi(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=r2(t.pb,t);n||(n=new vi("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Nl(n,"https"),Pl(n)),function VTe(t,e){const n=new El;if(Z.Image){const r=new Image;r.onload=bl(Rl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bl(Rl,n,r,"TestLoadImage: error",!1,e),r.onabort=bl(Rl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bl(Rl,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else b2(2);t.H=0,t.h&&t.h.za(e),oB(t),ZF(t)}function oB(t){if(t.H=0,t.ma=[],t.h){const e=jF(t.i);(0!=e.length||0!=t.j.length)&&(tF(t.ma,e),tF(t.ma,t.j),t.i.i.length=0,Zg(t.j),t.j.length=0),t.h.ya()}}function aB(t,e,n){var r=n instanceof vi?D1(n):new vi(n);if(""!=r.g)e&&(r.g=e+"."+r.g),kl(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new vi(null);r&&Nl(s,r),e&&(s.g=e),i&&kl(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Pe(r,n,e),Pe(r,"VER",t.ra),Za(t,r),r}function cB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ze(n&&t.Ha&&!t.va?new Ya({ob:!0}):t.va)).Oa(t.J),e}function lB(){}function $l(){if(Ws&&!(10<=Number(jAe)))throw Error("Environmental error: no available transport.")}function W2(t,e){Dt.call(this),this.g=new JF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ta(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ta(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Qs(this)}function uB(t){Mv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fB(){wv.call(this),this.status=1}function Qs(t){this.g=t}function Cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Tv(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(L=Ze.prototype).Oa=function(t){this.M=t},L.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bv.g(),this.C=function HF(t){return t.h||(t.h=t.i())}(this.u?this.u:bv),this.g.onreadystatechange=r2(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void qF(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Z.FormData&&t instanceof Z.FormData,!(0<=eF(zTe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{YF(this),0<this.B&&((this.L=function ITe(t){return Ws&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=r2(this.ua,this)):this.A=_v(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qF(this,s)}},L.ua=function(){typeof Xg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),Fl(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fl(this,!0)),Ze.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?KF(this):this.kb())},L.kb=function(){KF(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),HTe(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=JF.prototype).ra=8,L.H=1,L.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ja(this,this.l,t);let s=this.s;if(this.U&&(s?(s=oF(s),cF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tB(this,i,e),Pe(n=D1(this.I),"RID",t),Pe(n,"CVER",22),this.F&&Pe(n,"X-HTTP-Session-Id",this.F),Za(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(XF(s)))+"&"+e:this.o&&xv(n,this.o,s)),Iv(this.i,i),this.bb&&Pe(n,"TYPE","init"),this.P?(Pe(n,"$req",e),Pe(n,"SID","null"),i.aa=!0,Hv(i,n,null)):Hv(i,n,e),this.H=2}}else 3==this.H&&(t?eB(this,t):0==this.j.length||FF(this.i)||eB(this))},L.Ma=function(){if(this.u=null,rB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ba(r2(this.jb,this),t)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,b2(10),Bl(this),rB(this))},L.ib=function(){null!=this.v&&(this.v=null,Bl(this),Lv(this),b2(19))},L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),b2(2)):(this.l.info("Failed to ping google.com"),b2(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=lB.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},$l.prototype.g=function(t,e){return new W2(t,e)},xt(W2,Dt),W2.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;b2(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=aB(t,null,t.Y),Ul(t)},W2.prototype.close=function(){Dv(this.g)},W2.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=gv(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Ul(e)},W2.prototype.N=function(){this.g.h=null,delete this.j,Dv(this.g),delete this.g,W2.$.N.call(this)},xt(uB,Mv),xt(fB,wv),xt(Qs,lB),Qs.prototype.Ba=function(){jt(this.g,"a")},Qs.prototype.Aa=function(t){jt(this.g,new uB(t))},Qs.prototype.za=function(t){jt(this.g,new fB)},Qs.prototype.ya=function(){jt(this.g,"b")},xt(Cn,function DTe(){this.blockSize=-1}),Cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)Tv(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Tv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Tv(this,r),i=0;break}}this.h=i,this.i+=e},Cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var LTe={};function Nv(t){return-128<=t&&128>t?function FAe(t,e){var n=LTe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new be([0|e],0>e?-1:0)}):new be([0|t],0>t?-1:0)}function Wn(t){if(isNaN(t)||!isFinite(t))return Xs;if(0>t)return $t(Wn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kv;return new be(e,0)}var kv=4294967296,Xs=Nv(0),Pv=Nv(1),hB=Nv(16777216);function L1(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function cn(t){return-1==t.h}function $t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(Pv)}function Gl(t,e){return t.add($t(e))}function ql(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function e4(t,e){this.g=t,this.h=e}function Wl(t,e){if(L1(e))throw Error("division by zero");if(L1(t))return new e4(Xs,Xs);if(cn(t))return e=Wl($t(t),e),new e4($t(e.g),$t(e.h));if(cn(e))return e=Wl(t,$t(e)),new e4($t(e.g),e.h);if(30<t.g.length){if(cn(t)||cn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Pv,r=e;0>=r.X(t);)n=pB(n),r=pB(r);var i=Js(n,1),s=Js(r,1);for(r=Js(r,2),n=Js(n,2);!L1(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Js(r,1),n=Js(n,1)}return e=Gl(t,i.R(e)),new e4(i,e)}for(i=Xs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Wn(n)).R(e);cn(o)||0<o.X(t);)o=(s=Wn(n-=r)).R(e);L1(s)&&(s=Pv),i=i.add(s),t=Gl(t,o)}return new e4(i,t)}function pB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function Js(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}(L=be.prototype).ea=function(){if(cn(this))return-$t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kv+r)*e,e*=kv}return t},L.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(L1(this))return"0";if(cn(this))return"-"+$t(this).toString(t);for(var e=Wn(Math.pow(t,6)),n=this,r="";;){var i=Wl(n,e).g,s=((0<(n=Gl(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(L1(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},L.X=function(t){return cn(t=Gl(this,t))?-1:L1(t)?0:1},L.abs=function(){return cn(this)?$t(this):this},L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new be(n,-2147483648&n[n.length-1]?-1:0)},L.R=function(t){if(L1(this)||L1(t))return Xs;if(cn(this))return cn(t)?$t(this).R($t(t)):$t($t(this).R(t));if(cn(t))return $t(this.R($t(t)));if(0>this.X(hB)&&0>t.X(hB))return Wn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,ql(n,2*r+2*i),n[2*r+2*i+1]+=s*c,ql(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ql(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ql(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)},L.gb=function(t){return Wl(this,t).h},L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)},L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)},L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)},$l.prototype.createWebChannel=$l.prototype.g,W2.prototype.send=W2.prototype.u,W2.prototype.open=W2.prototype.m,W2.prototype.close=W2.prototype.close,Dl.NO_ERROR=0,Dl.TIMEOUT=8,Dl.HTTP_ERROR=6,VF.COMPLETE="complete",SF.EventType=Ua,Ua.OPEN="a",Ua.CLOSE="b",Ua.ERROR="c",Ua.MESSAGE="d",Dt.prototype.listen=Dt.prototype.O,Ze.prototype.listenOnce=Ze.prototype.P,Ze.prototype.getLastError=Ze.prototype.Sa,Ze.prototype.getLastErrorCode=Ze.prototype.Ia,Ze.prototype.getStatus=Ze.prototype.da,Ze.prototype.getResponseJson=Ze.prototype.Wa,Ze.prototype.getResponseText=Ze.prototype.ja,Ze.prototype.send=Ze.prototype.ha,Ze.prototype.setWithCredentials=Ze.prototype.Oa,Cn.prototype.digest=Cn.prototype.l,Cn.prototype.reset=Cn.prototype.reset,Cn.prototype.update=Cn.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=Wn,be.fromString=function dB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return $t(dB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wn(Math.pow(e,8)),r=Xs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Wn(Math.pow(e,s)),r=r.R(s).add(Wn(o))):r=(r=r.R(n)).add(Wn(o))}return r};var ATe=_n.createWebChannelTransport=function(){return new $l},TTe=_n.getStatEventTarget=function(){return xl()},Rv=_n.ErrorCode=Dl,NTe=_n.EventType=VF,kTe=_n.Event=mi,mB=_n.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},PTe=_n.FetchXmlHttpFactory=Ya,Kl=_n.WebChannel=SF,RTe=_n.XhrIo=Ze,OTe=_n.Md5=Cn,Zs=_n.Integer=be;const gB="@firebase/firestore";class Lt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");let eo="9.23.0";const dr=new Ps("@firebase/firestore");function Ov(){return dr.logLevel}function H(t,...e){if(dr.logLevel<=ge.DEBUG){const n=e.map(Fv);dr.debug(`Firestore (${eo}): ${t}`,...n)}}function ot(t,...e){if(dr.logLevel<=ge.ERROR){const n=e.map(Fv);dr.error(`Firestore (${eo}): ${t}`,...n)}}function Mn(t,...e){if(dr.logLevel<=ge.WARN){const n=e.map(Fv);dr.warn(`Firestore (${eo}): ${t}`,...n)}}function Fv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: `+t;throw ot(e),new Error(e)}function O(t,e){t||k()}function D(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends on{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FTe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class BTe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UTe{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O("string"==typeof r.accessToken),new vB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e),new Lt(e)}}class jTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class $Te{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new jTe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GTe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(O("string"==typeof n.token),this.T=n.token,new yB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qTe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _B{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=qTe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new Ke(0,0))}static max(){return new F(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class t4{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===t4.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof t4?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends t4{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const WTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends t4{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return WTe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(he.fromString(e))}static fromName(e){return new x(he.fromString(e).popFirst(5))}static empty(){return new x(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new he(e.slice()))}}function wB(t){return new K2(t.readTime,t.key,-1)}class K2{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new K2(F.min(),x.empty(),-1)}static max(){return new K2(F.max(),x.empty(),-1)}}function Uv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const bB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QTe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hr(t){return jv.apply(this,arguments)}function jv(){return jv=m(function*(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==bB)throw t;H("LocalStore","Unexpectedly lost primary lease")}),jv.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function pr(t){return"IndexedDbTransactionError"===t.name}let Y2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function i4(t){return null==t}function s4(t){return 0===t&&1/t==-1/0}function LB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ae{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1,Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Gt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TB(this.data.getIterator())}getIteratorFrom(e){return new TB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Re(this.comparator);return n.data=e,n}}class TB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class k2{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new k2([])}unionWith(e){let n=new Re(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new k2(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class NB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NB("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const _Ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(O(!!t),"string"==typeof t){let e=0;const n=_Ne.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function A1(t){return"string"==typeof t?Vt.fromBase64String(t):Vt.fromUint8Array(t)}function e8(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function t8(t){const e=t.mapValue.fields.__previous_value__;return e8(e)?t8(e):e}function o4(t){const e=gr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}class CNe{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Mi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mi&&e.projectId===this.projectId&&e.database===this.database}}const vr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e8(t)?4:OB(t)?9007199254740991:10:k()}function Yn(t,e){if(t===e)return!0;const n=yr(t);if(n!==yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return o4(t).isEqual(o4(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=gr(r.timestampValue),o=gr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,A1(t.bytesValue).isEqual(A1(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=et(r.doubleValue),o=et(i.doubleValue);return s===o?s4(s)===s4(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(LB(s)!==LB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Yn(s[a],o[a])))return!1;return!0}(t,e);default:return k()}var i}function a4(t,e){return void 0!==(t.values||[]).find(n=>Yn(n,e))}function _r(t,e){if(t===e)return 0;const n=yr(t),r=yr(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),a=et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return kB(t.timestampValue,e.timestampValue);case 4:return kB(o4(t),o4(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=A1(i),a=A1(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=Y(o[c],a[c]);if(0!==l)return l}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(et(i.latitude),et(s.latitude));return 0!==o?o:Y(et(i.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=_r(o[c],a[c]);if(l)return l}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===vr.mapValue&&s===vr.mapValue)return 0;if(i===vr.mapValue)return 1;if(s===vr.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const f=Y(a[u],l[u]);if(0!==f)return f;const d=_r(o[a[u]],c[l[u]]);if(0!==d)return d}return Y(a.length,l.length)}(t.mapValue,e.mapValue);default:throw k()}}function kB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=gr(t),r=gr(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function ro(t){return qv(t)}function qv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=gr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?A1(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=qv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${qv(r.fields[a])}`;return s+"}"}(t.mapValue):k();var e}function wi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wv(t){return!!t&&"integerValue"in t}function c4(t){return!!t&&"arrayValue"in t}function PB(t){return!!t&&"nullValue"in t}function RB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function i8(t){return!!t&&"mapValue"in t}function l4(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=l4(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=l4(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!i8(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=l4(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=l4(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());i8(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];i8(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(l4(this.value))}}function UB(t){const e=[];return mr(t.fields,(n,r)=>{const i=new at([n]);if(i8(r)){const s=UB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new k2(e)}class Oe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Oe(e,0,F.min(),F.min(),F.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new Oe(e,1,n,F.min(),r,i,0)}static newNoDocument(e,n){return new Oe(e,2,n,F.min(),F.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Oe(e,3,n,F.min(),F.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cr{constructor(e,n){this.position=e,this.inclusive=n}}function jB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):_r(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $B(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yn(t.position[n],e.position[n]))return!1;return!0}class io{constructor(e,n="asc"){this.field=e,this.dir=n}}function bNe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class GB{}class ae extends GB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new VNe(e,n,r):"array-contains"===n?new zNe(e,r):"in"===n?new XB(e,r):"not-in"===n?new INe(e,r):"array-contains-any"===n?new ENe(e,r):new ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new HNe(e,r):new SNe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(_r(n,this.value)):null!==n&&yr(this.value)===yr(n)&&this.matchesComparison(_r(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ve extends GB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ve(e,n)}matches(e){return so(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function so(t){return"and"===t.op}function Yv(t){return function qB(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}(t)&&so(t)}function Qv(t){if(t instanceof ae)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(Yv(t))return t.filters.map(e=>Qv(e)).join(",");{const e=t.filters.map(n=>Qv(n)).join(",");return`${t.op}(${e})`}}function WB(t,e){return t instanceof ae?(n=t,(r=e)instanceof ae&&n.op===r.op&&n.field.isEqual(r.field)&&Yn(n.value,r.value)):t instanceof Ve?function(n,r){return r instanceof Ve&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&WB(s,r.filters[o]),!0)}(t,e):void k();var n,r}function YB(t){return t instanceof ae?`${(e=t).field.canonicalString()} ${e.op} ${ro(e.value)}`:t instanceof Ve?function(e){return e.op.toString()+" {"+e.getFilters().map(YB).join(" ,")+"}"}(t):"Filter";var e}class VNe extends ae{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class HNe extends ae{constructor(e,n){super(e,"in",n),this.keys=QB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SNe extends ae{constructor(e,n){super(e,"not-in",n),this.keys=QB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class zNe extends ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c4(n)&&a4(n.arrayValue,this.value)}}class XB extends ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&a4(this.value.arrayValue,n)}}class INe extends ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(a4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!a4(this.value.arrayValue,n)}}class ENe extends ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>a4(this.value.arrayValue,r))}}class xNe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Xv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xNe(t,e,n,r,i,s,o)}function bi(t){const e=D(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),i4(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.dt=n}return e.dt}function u4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bNe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$B(t.startAt,e.startAt)&&$B(t.endAt,e.endAt)}function s8(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class T1{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function oo(t){return new T1(t)}function tU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Jv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function a8(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Zv(t){return null!==t.collectionGroup}function Vi(t){const e=D(t);if(null===e.wt){e.wt=[];const n=a8(e),r=Jv(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new io(n)),e.wt.push(new io(at.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new io(at.keyField(),s))}}}return e.wt}function V2(t){const e=D(t);if(!e._t)if("F"===e.limitType)e._t=Xv(e.path,e.collectionGroup,Vi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Vi(e))n.push(new io(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Cr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cr(e.startAt.position,e.startAt.inclusive):null;e._t=Xv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function ey(t,e){e.getFirstInequalityField(),a8(t);const n=t.filters.concat([e]);return new T1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function c8(t,e,n){return new T1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function f4(t,e){return u4(V2(t),V2(e))&&t.limitType===e.limitType}function nU(t){return`${bi(V2(t))}|lt:${t.limitType}`}function ty(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>YB(r)).join(", ")}]`),i4(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),`Target(${n})`}(V2(t))}; limitType=${t.limitType})`}function d4(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Vi(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=jB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Vi(n),r)||n.endAt&&!function(i,s,o){const a=jB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Vi(n),r)));var n,r}function iU(t){return(e,n)=>{let r=!1;for(const i of Vi(t)){const s=DNe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function DNe(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?_r(a,c):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class N1{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return AB(this.inner)}size(){return this.innerSize}}const LNe=new Ae(x.comparator);function P2(){return LNe}const sU=new Ae(x.comparator);function h4(...t){let e=sU;for(const n of t)e=e.insert(n.key,n);return e}function oU(t){let e=sU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qn(){return p4()}function aU(){return p4()}function p4(){return new N1(t=>t.toString(),(t,e)=>t.isEqual(e))}const ANe=new Ae(x.comparator),TNe=new Re(x.comparator);function re(...t){let e=TNe;for(const n of t)e=e.add(n);return e}const NNe=new Re(Y);function cU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s4(e)?"-0":e}}function lU(t){return{integerValue:""+t}}function uU(t,e){return function HB(t){return"number"==typeof t&&Number.isInteger(t)&&!s4(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?lU(e):cU(t,e)}class l8{constructor(){this._=void 0}}function kNe(t,e,n){return t instanceof ao?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&e8(i)&&(i=t8(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Hi?dU(t,e):t instanceof Si?hU(t,e):function(r,i){const s=fU(r,i),o=pU(s)+pU(r.gt);return Wv(s)&&Wv(r.gt)?lU(o):cU(r.serializer,o)}(t,e)}function PNe(t,e,n){return t instanceof Hi?dU(t,e):t instanceof Si?hU(t,e):n}function fU(t,e){return t instanceof co?Wv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ao extends l8{}class Hi extends l8{constructor(e){super(),this.elements=e}}function dU(t,e){const n=mU(e);for(const r of t.elements)n.some(i=>Yn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Si extends l8{constructor(e){super(),this.elements=e}}function hU(t,e){let n=mU(e);for(const r of t.elements)n=n.filter(i=>!Yn(i,r));return{arrayValue:{values:n}}}class co extends l8{constructor(e,n){super(),this.serializer=e,this.gt=n}}function pU(t){return et(t.integerValue||t.doubleValue)}function mU(t){return c4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ONe{constructor(e,n){this.version=e,this.transformResults=n}}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function u8(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class f8{}function gU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new uo(t.key,$e.none()):new lo(t.key,t.data,$e.none());{const n=t.data,r=qt.empty();let i=new Re(at.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new k1(t.key,r,new k2(i.toArray()),$e.none())}}function FNe(t,e,n){t instanceof lo?function(r,i,s){const o=r.value.clone(),a=_U(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof k1?function(r,i,s){if(!u8(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=_U(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(yU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function g4(t,e,n,r){return t instanceof lo?function(i,s,o,a){if(!u8(i.precondition,s))return o;const c=i.value.clone(),l=CU(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof k1?function(i,s,o,a){if(!u8(i.precondition,s))return o;const c=CU(i.fieldTransforms,a,s),l=s.data;return l.setAll(yU(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(o=n,u8(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function BNe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=fU(r.transform,i||null);null!=s&&(null===n&&(n=qt.empty()),n.set(r.field,s))}return n||null}function vU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&to(n,r,(i,s)=>function RNe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Hi&&r instanceof Hi||n instanceof Si&&r instanceof Si?to(n.elements,r.elements,Yn):n instanceof co&&r instanceof co?Yn(n.gt,r.gt):n instanceof ao&&r instanceof ao);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class lo extends f8{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class k1 extends f8{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _U(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,PNe(o,a,n[i]))}return r}function CU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,kNe(s,o,e))}return r}class uo extends f8{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ry extends f8{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iy{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FNe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=g4(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=g4(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=gU(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>vU(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>vU(n,r))}}class sy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){O(e.mutations.length===r.length);let i=ANe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new sy(e,n,r,i)}}class oy{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jNe{constructor(e,n){this.count=e,this.unchangedNames=n}}var pt,pe;function wU(t){if(void 0===t)return ot("GRPC error has no .code"),M.UNKNOWN;switch(t){case pt.OK:return M.OK;case pt.CANCELLED:return M.CANCELLED;case pt.UNKNOWN:return M.UNKNOWN;case pt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case pt.INTERNAL:return M.INTERNAL;case pt.UNAVAILABLE:return M.UNAVAILABLE;case pt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case pt.NOT_FOUND:return M.NOT_FOUND;case pt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case pt.ABORTED:return M.ABORTED;case pt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case pt.DATA_LOSS:return M.DATA_LOSS;default:return k()}}(pe=pt||(pt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class ay{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return d8}static getOrCreateInstance(){return null===d8&&(d8=new ay),d8}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let d8=null;const $Ne=new Zs([4294967295,4294967295],0);function VU(t){const e=function bU(){return new TextEncoder}().encode(t),n=new OTe;return n.update(e),new Uint8Array(n.digest())}function HU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([i,s],0)]}class cy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new v4(`Invalid padding: ${n}`);if(r<0)throw new v4(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new v4(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new v4(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Zs.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Zs.fromNumber(r)));return 1===i.compare($Ne)&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=VU(e),[r,i]=HU(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new cy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=VU(e),[r,i]=HU(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class v4 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class y4{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_4.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new y4(F.min(),i,new Ae(Y),P2(),re())}}class _4{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _4(r,n,re(),re(),re())}}class h8{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class SU{constructor(e,n){this.targetId=e,this.Vt=n}}class zU{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class IU{constructor(){this.St=0,this.Dt=xU(),this.Ct=Vt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=re(),n=re(),r=re();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new _4(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=xU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class GNe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=P2(),this.zt=EU(),this.Wt=new Ae(Y)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(s8(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Oe.newNoDocument(a,F.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=ay.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,g,v,C;const y={localCacheCount:u,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(y.bloomFilter={applied:0===l,hashCount:null!==(d=w?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(g=null===(p=null===(h=w?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(C=null===(v=w?.bits)||void 0===v?void 0:v.padding)&&void 0!==C?C:0}),y}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,l;try{c=A1(s).toUint8Array()}catch(u){if(u instanceof NB)return Mn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new cy(c,o,a)}catch(u){return Mn(u instanceof v4?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&s8(a.target)){const c=new x(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,Oe.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=re();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new y4(e,n,this.Wt,this.jt,r);return this.jt=P2(),this.zt=EU(),this.Wt=new Ae(Y),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new IU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Re(Y),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new IU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function EU(){return new Ae(x.comparator)}function xU(){return new Ae(x.comparator)}const qNe={asc:"ASCENDING",desc:"DESCENDING"},WNe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KNe={and:"AND",or:"OR"};class YNe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ly(t,e){return t.useProto3Json||i4(e)?e:{value:e}}function fo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QNe(t,e){return fo(t,e.toTimestamp())}function ct(t){return O(!!t),F.fromTimestamp(function(e){const n=gr(e);return new Ke(n.seconds,n.nanos)}(t))}function uy(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function LU(t){const e=he.fromString(t);return O(BU(e)),e}function C4(t,e){return uy(t.databaseId,e.path)}function Xn(t,e){const n=LU(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(TU(n))}function fy(t,e){return uy(t.databaseId,e)}function M4(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TU(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function NU(t,e,n){return{name:C4(t,e),fields:n.value.mapValue.fields}}function PU(t,e){return{documents:[fy(t,e.path)]}}function hy(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return FU(Ve.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Mr((u=l).field),direction:tke(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ly(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function RU(t){let e=function AU(t){const e=LU(t);return 4===e.length?he.emptyPath():TU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const f=OU(u);return f instanceof Ve&&Yv(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>{return new io(ho((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let a=null;n.limit&&(a=function(u){let f;return f="object"==typeof u?u.value:u,i4(f)?null:f}(n.limit));let c=null;var u;n.startAt&&(c=new Cr((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new Cr(u.values||[],!u.before)}(n.endAt)),function eU(t,e,n,r,i,s,o,a){return new T1(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function OU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ho(e.unaryFilter.field);return ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ho(e.unaryFilter.field);return ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(e.unaryFilter.field);return ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ho(e.unaryFilter.field);return ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?ae.create(ho((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ve.create(e.compositeFilter.filters.map(n=>OU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(t):k();var e}function tke(t){return qNe[t]}function nke(t){return WNe[t]}function rke(t){return KNe[t]}function Mr(t){return{fieldPath:t.canonicalString()}}function ho(t){return at.fromServerFormat(t.fieldPath)}function FU(t){return t instanceof ae?function(e){if("=="===e.op){if(RB(e.value))return{unaryFilter:{field:Mr(e.field),op:"IS_NAN"}};if(PB(e.value))return{unaryFilter:{field:Mr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(RB(e.value))return{unaryFilter:{field:Mr(e.field),op:"IS_NOT_NAN"}};if(PB(e.value))return{unaryFilter:{field:Mr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mr(e.field),op:nke(e.op),value:e.value}}}(t):t instanceof Ve?function(e){const n=e.getFilters().map(r=>FU(r));return 1===n.length?n[0]:{compositeFilter:{op:rke(e.op),filters:n}}}(t):k()}function ike(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class P1{constructor(e,n,r,i,s=F.min(),o=F.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new P1(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new P1(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new P1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new P1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UU{constructor(e){this.fe=e}}function py(t){const e=RU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?c8(e,e.limit,"L"):e}class xi{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),s4(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(A1(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?OB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):k()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}xi.Ve=new xi;class hke{constructor(){this.rn=new Cy}addToCollectionParentIndex(e,n){return this.rn.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(K2.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(K2.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class Cy{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Re(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Re(he.comparator)).toArray()}}new Uint8Array(0);class a2{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new a2(e,a2.DEFAULT_COLLECTION_PERCENTILE,a2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}a2.DEFAULT_COLLECTION_PERCENTILE=10,a2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,a2.DEFAULT=new a2(41943040,a2.DEFAULT_COLLECTION_PERCENTILE,a2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),a2.DISABLED=new a2(-1,0,0);class Li{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Li(0)}static Mn(){return new Li(-1)}}class _ke{constructor(){this.changes=new N1(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wke{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class pj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&g4(r.mutation,i,k2.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Qn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=h4();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=P2();const o=p4(),a=p4();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof k1)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),g4(u.mutation,l,u.mutation.getFieldMask(),Ke.now())):o.set(l.key,k2.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new wke(u,null!==(f=o.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=p4();let i=new Ae((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||k2.empty();u=a.applyToLocalView(l,u),r.set(c,u);const f=(i.get(a.batchId)||re()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,f=aU();u.forEach(d=>{if(!s.has(d)){const h=gU(n.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Zv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(Qn());let a=-1,c=s;return o.next(l=>_.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?_.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,re())).next(u=>({batchId:a,changes:oU(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=h4();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=h4();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const c=(l=n,u=a.child(i),new T1(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Oe.newInvalidDocument(l)))});let o=h4();return s.forEach((a,c)=>{const l=i.get(a);void 0!==l&&g4(l.mutation,c,k2.empty(),Ke.now()),d4(n,c)&&(o=o.insert(a,c))}),o})}}class bke{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return _.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ct(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:py(r.bundledQuery),readTime:ct(r.readTime)}),_.resolve();var r}}class Vke{constructor(){this.overlays=new Ae(x.comparator),this.ls=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qn();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=Qn(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Qn(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Qn(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return _.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oy(n,r));let s=this.ls.get(n);void 0===s&&(s=re(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class My{constructor(){this.fs=new Re(Tt.ds),this.ws=new Re(Tt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Tt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new he([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new he([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||Y(e.As,n.As)}static _s(e,n){return Y(e.As,n.As)||x.comparator(e.key,n.key)}}class Hke{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Re(Tt.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new iy(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(Y);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new x(s),0);let a=new Re(Y);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},o),_.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ske{constructor(e){this.Ds=e,this.docs=new Ae(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(n))}getEntries(e,n){let r=P2();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oe.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=P2();const o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Uv(wB(u),r)<=0||(i.has(u.key)||d4(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Cs(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zke(this)}getSize(e){return _.resolve(this.size)}}class zke extends _ke{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Ike{constructor(e){this.persistence=e,this.xs=new N1(n=>bi(n),u4),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Ns=0,this.ks=new My,this.targetCount=0,this.Ms=Li.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),_.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Li(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Fn(n),_.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.ks.containsKey(n))}}class wy{constructor(e,n){this.$s={},this.overlays={},this.Os=new Y2(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ike(this),this.indexManager=new hke,this.remoteDocumentCache=new Ske(r=>this.referenceDelegate.Ls(r)),this.serializer=new UU(n),this.qs=new bke(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vke,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Hke(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new Eke(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Eke extends QTe{constructor(e){super(),this.currentSequenceNumber=e}}class w8{constructor(e){this.persistence=e,this.Qs=new My,this.js=null}static zs(e){return new w8(e)}get Ws(){if(this.js)return this.js;throw k()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),_.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return _.or([()=>_.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Sy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Sy(e,n.fromCache,r,i)}}class gj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(tU(n))return _.resolve(null);let r=V2(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=c8(n,null,"F"),r=V2(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(n,a);return this.zi(n,l,o,c.readTime)?this.Ki(e,c8(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,r,i){return tU(n)||i.isEqual(F.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Ov()<=ge.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ty(n)),this.Wi(e,o,n,function MB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(1e9===r?new Ke(n+1,0):new Ke(n,r));return new K2(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Re(iU(e));return n.forEach((i,s)=>{d4(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Ov()<=ge.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ty(n)),this.Ui.getDocumentsMatchingQuery(e,n,K2.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Dke{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ae(Y),this.Yi=new N1(s=>bi(s),u4),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function yj(t,e){return zy.apply(this,arguments)}function zy(){return zy=m(function*(t,e){const n=D(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=re();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}),zy.apply(this,arguments)}function _j(t){const e=D(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Tke(t,e){const n=D(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vo(t,e,n){return Iy.apply(this,arguments)}function Iy(){return Iy=m(function*(t,e,n){const r=D(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!pr(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Iy.apply(this,arguments)}function H8(t,e,n){const r=D(t);let i=F.min(),s=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=D(a),f=u.Yi.get(l);return void 0!==f?_.resolve(u.Ji.get(f)):u.Bs.getTargetData(c,l)}(r,o,V2(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:F.min(),n?s:re())).next(a=>(function bj(t,e,n){let r=t.Xi.get(e)||F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function rU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class Ay{constructor(){this.activeTargetIds=function ny(){return NNe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sj{constructor(){this.Hr=new Ay,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ay,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pke{Yr(e){}shutdown(){}}class zj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let I8=null;function Ny(){return null===I8?I8=268435456+Math.round(2147483648*Math.random()):I8++,"0x"+I8.toString(16)}const Rke={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oke{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const c2="WebChannelConnection";class Fke extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Ny(),a=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(l=>(H("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Mn("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+eo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Rke[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Ny();return new Promise((o,a)=>{const c=new RTe;c.setWithCredentials(!0),c.listenOnce(NTe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Rv.NO_ERROR:const u=c.getResponseJson();H(c2,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Rv.TIMEOUT:H(c2,`RPC '${e}' ${s} timed out`),a(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case Rv.HTTP_ERROR:const f=c.getStatus();if(H(c2,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(h.status);a(new V(p,h.message))}else a(new V(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(M.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{H(c2,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);H(c2,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=Ny(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ATe(),a=TTe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new PTe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");H(c2,`Creating RPC '${e}' stream ${i}: ${u}`,c);const f=o.createWebChannel(u,c);let d=!1,h=!1;const p=new Oke({ro:v=>{h?H(c2,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(H(c2,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),H(c2,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},oo:()=>f.close()}),g=(v,C,y)=>{v.listen(C,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,Kl.EventType.OPEN,()=>{h||H(c2,`RPC '${e}' stream ${i} transport opened.`)}),g(f,Kl.EventType.CLOSE,()=>{h||(h=!0,H(c2,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(f,Kl.EventType.ERROR,v=>{h||(h=!0,Mn(c2,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new V(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,Kl.EventType.MESSAGE,v=>{var C;if(!h){const y=v.data[0];O(!!y);const E=y.error||(null===(C=y[0])||void 0===C?void 0:C.error);if(E){H(c2,`RPC '${e}' stream ${i} received error:`,E);const A=E.status;let j=function(gt){const Ht=pt[gt];if(void 0!==Ht)return wU(Ht)}(A),ue=E.message;void 0===j&&(j=M.INTERNAL,ue="Unknown error status: "+A+" with message "+E.message),h=!0,p.wo(new V(j,ue)),f.close()}else H(c2,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,kTe.STAT_EVENT,v=>{v.stat===mB.PROXY?H(c2,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===mB.NOPROXY&&H(c2,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function E8(){return typeof document<"u"?document:null}function D4(t){return new YNe(t,!0)}class ky{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ej{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ky(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ot(n.toString()),ot("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bke extends Ej{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function JNe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:k(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(O(void 0===l||"string"==typeof l),Vt.fromBase64String(l||"")):(O(void 0===l||l instanceof Uint8Array),Vt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?M.UNKNOWN:wU(c.code);return new V(l,c.message||"")}(o);n=new zU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Xn(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):F.min(),a=new qt({mapValue:{fields:r.document.fields}}),c=Oe.newFoundDocument(i,s,o,a);n=new h8(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Xn(t,r.document),s=r.readTime?ct(r.readTime):F.min(),o=Oe.newNoDocument(i,s);n=new h8([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Xn(t,r.document);n=new h8([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new jNe(i,s);n=new SU(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return F.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F.min():s.readTime?ct(s.readTime):F.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=M4(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=s8(a)?{documents:PU(i,a)}:{query:hy(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=DU(i,s.resumeToken);const c=ly(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(F.min())>0){o.readTime=fo(i,s.snapshotVersion.toTimestamp());const c=ly(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function eke(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=M4(this.serializer),n.removeTarget=e,this.Wo(n)}}class Uke extends Ej{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(O(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ZNe(t,e){return t&&t.length>0?(O(void 0!==e),t.map(n=>function(r,i){let s=ct(r.updateTime?r.updateTime:i);return s.isEqual(F.min())&&(s=ct(i)),new ONe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.cu(r,n)}return O(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=M4(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function w4(t,e){let n;if(e instanceof lo)n={update:NU(t,e.key,e.value)};else if(e instanceof uo)n={delete:C4(t,e.key)};else if(e instanceof k1)n={update:NU(t,e.key,e.data),updateMask:ike(e.fieldMask)};else{if(!(e instanceof ry))return k();n={verify:C4(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ao)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Hi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Si)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof co)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:QNe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:k()),n;var i}(this.serializer,r))};this.Wo(n)}}class jke extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Gke{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ot(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class qke{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var c;Hr(o)&&(H("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=D(l);u.vu.add(4),yield yo(u),u.bu.set("Unknown"),u.vu.delete(4),yield L4(u)}),function(l){return c.apply(this,arguments)})(o))}))}),this.bu=new Gke(r,i)}}function L4(t){return Ry.apply(this,arguments)}function Ry(){return Ry=m(function*(t){if(Hr(t))for(const e of t.Ru)yield e(!0)}),Ry.apply(this,arguments)}function yo(t){return Oy.apply(this,arguments)}function Oy(){return Oy=m(function*(t){for(const e of t.Ru)yield e(!1)}),Oy.apply(this,arguments)}function x8(t,e){const n=D(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Uy(n)?By(n):Co(n).Ko()&&Fy(n,e))}function A4(t,e){const n=D(t),r=Co(n);n.Au.delete(e),r.Ko()&&xj(n,e),0===n.Au.size&&(r.Ko()?r.jo():Hr(n)&&n.bu.set("Unknown"))}function Fy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(t).su(e)}function xj(t,e){t.Vu.qt(e),Co(t).iu(e)}function By(t){t.Vu=new GNe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Co(t).start(),t.bu.gu()}function Uy(t){return Hr(t)&&!Co(t).Uo()&&t.Au.size>0}function Hr(t){return 0===D(t).vu.size}function Dj(t){t.Vu=void 0}function Wke(t){return jy.apply(this,arguments)}function jy(){return jy=m(function*(t){t.Au.forEach((e,n)=>{Fy(t,e)})}),jy.apply(this,arguments)}function Kke(t,e){return $y.apply(this,arguments)}function $y(){return $y=m(function*(t,e){Dj(t),Uy(t)?(t.bu.Iu(e),By(t)):t.bu.set("Unknown")}),$y.apply(this,arguments)}function Yke(t,e,n){return Gy.apply(this,arguments)}function Gy(){return Gy=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof zU&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield D8(t,r)}else if(e instanceof h8?t.Vu.Ht(e):e instanceof SU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(F.min()))try{const r=yield _j(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(Vt.EMPTY_BYTE_STRING,l.snapshotVersion)),xj(i,a);const u=new P1(l.target,a,c,l.sequenceNumber);Fy(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield D8(t,r)}var r}),Gy.apply(this,arguments)}function D8(t,e,n){return qy.apply(this,arguments)}function qy(){return qy=m(function*(t,e,n){if(!pr(e))throw e;t.vu.add(1),yield yo(t),t.bu.set("Offline"),n||(n=()=>_j(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield L4(t)}))}),qy.apply(this,arguments)}function Lj(t,e){return e().catch(n=>D8(t,n,e))}function _o(t){return Wy.apply(this,arguments)}function Wy(){return Wy=m(function*(t){const e=D(t),n=Sr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Qke(e);)try{const i=yield Tke(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Xke(e,i)}catch(i){yield D8(e,i)}Aj(e)&&Tj(e)}),Wy.apply(this,arguments)}function Qke(t){return Hr(t)&&t.Eu.length<10}function Xke(t,e){t.Eu.push(e);const n=Sr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Aj(t){return Hr(t)&&!Sr(t).Uo()&&t.Eu.length>0}function Tj(t){Sr(t).start()}function Jke(t){return Ky.apply(this,arguments)}function Ky(){return Ky=m(function*(t){Sr(t).hu()}),Ky.apply(this,arguments)}function Zke(t){return Yy.apply(this,arguments)}function Yy(){return Yy=m(function*(t){const e=Sr(t);for(const n of t.Eu)e.uu(n.mutations)}),Yy.apply(this,arguments)}function ePe(t,e,n){return Qy.apply(this,arguments)}function Qy(){return Qy=m(function*(t,e,n){const r=t.Eu.shift(),i=sy.from(r,e,n);yield Lj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _o(t)}),Qy.apply(this,arguments)}function tPe(t,e){return Xy.apply(this,arguments)}function Xy(){return Xy=m(function*(t,e){var n;e&&Sr(t).ou&&(yield(n=m(function*(r,i){if(function MU(t){switch(t){default:return k();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(s=i.code)&&s!==M.ABORTED){const o=r.Eu.shift();Sr(r).Qo(),yield Lj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield _o(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),Aj(t)&&Tj(t)}),Xy.apply(this,arguments)}function Nj(t,e){return Jy.apply(this,arguments)}function Jy(){return Jy=m(function*(t,e){const n=D(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Hr(n);n.vu.add(3),yield yo(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield L4(n)}),Jy.apply(this,arguments)}function e_(){return e_=m(function*(t,e){const n=D(t);e?(n.vu.delete(2),yield L4(n)):e||(n.vu.add(2),yield yo(n),n.bu.set("Unknown"))}),e_.apply(this,arguments)}function Co(t){return t.Su||(t.Su=function(e,n,r){const i=D(e);return i.fu(),new Bke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Wke.bind(null,t),ao:Kke.bind(null,t),nu:Yke.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),Uy(t)?By(t):t.bu.set("Unknown")):(yield t.Su.stop(),Dj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Sr(t){return t.Du||(t.Du=function(e,n,r){const i=D(e);return i.fu(),new Uke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Jke.bind(null,t),ao:tPe.bind(null,t),au:Zke.bind(null,t),cu:ePe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield _o(t)):(yield t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class t_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new t_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mo(t,e){if(ot("AsyncQueue",`${e}: ${t}`),pr(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}class wo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=h4(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new wo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new wo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class kj{constructor(){this.Cu=new Ae(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):k():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class bo{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bo(e,n,wo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f4(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class nPe{constructor(){this.Nu=void 0,this.listeners=[]}}class rPe{constructor(){this.queries=new N1(e=>nU(e),f4),this.onlineState="Unknown",this.ku=new Set}}function r_(){return r_=m(function*(t,e){const n=D(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new nPe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Mo(o,`Initialization of query '${ty(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&o_(n)}),r_.apply(this,arguments)}function s_(){return s_=m(function*(t,e){const n=D(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),s_.apply(this,arguments)}function iPe(t,e){const n=D(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&o_(n)}function sPe(t,e,n){const r=D(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function o_(t){t.ku.forEach(e=>{e.next()})}class a_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Oj{constructor(e){this.key=e}}class Fj{constructor(e){this.key=e}}class Bj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=re(),this.mutatedKeys=re(),this.tc=iU(e),this.ec=new wo(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new kj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=d4(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.rc(d,h)||(r.track({type:2,doc:h}),v=!0,(c&&this.tc(h,c)>0||l&&this.tc(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(c||l)&&(a=!0)),v&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return h(f)-h(d)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new bo(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new kj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Fj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Oj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=re();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return bo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cPe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lPe{constructor(e){this.key=e,this.fc=!1}}class uPe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new N1(a=>nU(a),f4),this._c=new Map,this.mc=new Set,this.gc=new Ae(x.comparator),this.yc=new Map,this.Ic=new My,this.Tc={},this.Ec=new Map,this.Ac=Li.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function fPe(t,e){return c_.apply(this,arguments)}function c_(){return c_=m(function*(t,e){const n=function D_(t){const e=D(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CPe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pPe.bind(null,e),e.dc.nu=iPe.bind(null,e.eventManager),e.dc.Pc=sPe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function go(t,e){const n=D(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new P1(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,V2(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function l_(t,e,n,r,i){return u_.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&x8(n.remoteStore,o)}return i}),c_.apply(this,arguments)}function u_(){return u_=m(function*(t,e,n,r,i){t.Rc=(f,d,h)=>{return(p=m(function*(g,v,C,y){let w=v.view.sc(C);w.zi&&(w=yield H8(g.localStore,v.query,!1).then(({documents:j})=>v.view.sc(j,w)));const E=y&&y.targetChanges.get(v.targetId),A=v.view.applyChanges(w,g.isPrimaryClient,E);return C_(g,v.targetId,A.cc),A.snapshot}),function(g,v,C,y){return p.apply(this,arguments)})(t,f,d,h);var p};const s=yield H8(t.localStore,e,!0),o=new Bj(e,s.ir),a=o.sc(s.documents),c=_4.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);C_(t,n,l.cc);const u=new cPe(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),u_.apply(this,arguments)}function dPe(t,e){return f_.apply(this,arguments)}function f_(){return f_=m(function*(t,e){const n=D(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!f4(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),A4(n.remoteStore,r.targetId),Vo(n,r.targetId)}).catch(hr))):(Vo(n,r.targetId),yield vo(n.localStore,r.targetId,!0))}),f_.apply(this,arguments)}function d_(){return d_=m(function*(t,e,n){const r=function L_(t){const e=D(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mPe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gPe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=D(s),c=Ke.now(),l=o.reduce((d,h)=>d.add(h.key),re());let u,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=P2(),p=re();return a.Zi.getEntries(d,l).next(g=>{h=g,h.forEach((v,C)=>{C.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,h)).next(g=>{u=g;const v=[];for(const C of o){const y=BNe(C,u.get(C.key).overlayedDocument);null!=y&&v.push(new k1(C.key,y,UB(y.value.mapValue),$e.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,v,o)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:oU(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new Ae(Y)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield R1(r,i.changes),yield _o(r.remoteStore)}catch(i){const s=Mo(i,"Failed to persist write");n.reject(s)}}),d_.apply(this,arguments)}function Uj(t,e){return h_.apply(this,arguments)}function h_(){return h_=m(function*(t,e){const n=D(t);try{const r=yield function Ake(t,e){const n=D(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,g,v;null!==e.targetMismatches.get(f)?h=h.withResumeToken(Vt.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),g=h,v=u,(0===(p=d).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,h))});let c=P2(),l=re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function Cj(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=P2();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(F.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(F.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield R1(n,r,e)}catch(r){yield hr(r)}}),h_.apply(this,arguments)}function jj(t,e,n){const r=D(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=D(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const f of u.listeners)f.Mu(o)&&(c=!0)}),c&&o_(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pPe(t,e,n){return p_.apply(this,arguments)}function p_(){return p_=m(function*(t,e,n){const r=D(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ae(x.comparator);o=o.insert(s,Oe.newNoDocument(s,F.min()));const a=re().add(s),c=new y4(F.min(),new Map,new Ae(Y),o,a);yield Uj(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),M_(r)}else yield vo(r.localStore,e,!1).then(()=>Vo(r,e,n)).catch(hr)}),p_.apply(this,arguments)}function mPe(t,e){return m_.apply(this,arguments)}function m_(){return m_=m(function*(t,e){const n=D(t),r=e.batch.batchId;try{const i=yield function Lke(t,e){const n=D(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,f=u.keys();let d=_.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(a,h)).next(p=>{const g=c.docVersions.get(h);O(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=re();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);__(n,r,null),y_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield R1(n,i)}catch(i){yield hr(i)}}),m_.apply(this,arguments)}function gPe(t,e,n){return g_.apply(this,arguments)}function g_(){return g_=m(function*(t,e,n){const r=D(t);try{const i=yield function(s,o){const a=D(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(O(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);__(r,e,n),y_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield R1(r,i)}catch(i){yield hr(i)}}),g_.apply(this,arguments)}function y_(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function __(t,e,n){const r=D(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Vo(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||$j(t,r)})}function $j(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(A4(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),M_(t))}function C_(t,e,n){for(const r of n)r instanceof Oj?(t.Ic.addReference(r.key,e),yPe(t,r)):r instanceof Fj?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||$j(t,r.key)):k()}function yPe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),M_(t))}function M_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(he.fromString(e)),r=t.Ac.next();t.yc.set(r,new lPe(n)),t.gc=t.gc.insert(n,r),x8(t.remoteStore,new P1(V2(oo(n.path)),r,"TargetPurposeLimboResolution",Y2.ct))}}function R1(t,e,n){return w_.apply(this,arguments)}function w_(){return w_=m(function*(t,e,n){const r=D(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=Sy.Li(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(c,l){const u=D(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>_.forEach(l,d=>_.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>_.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!pr(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Ji.get(d),g=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Ji=u.Ji.insert(d,g)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,s))}),w_.apply(this,arguments)}function _Pe(t,e){return b_.apply(this,arguments)}function b_(){return b_=m(function*(t,e){const n=D(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=yield yj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new V(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield R1(n,r.er)}var i}),b_.apply(this,arguments)}function CPe(t,e){const n=D(t),r=n.yc.get(e);if(r&&r.fc)return re().add(r.key);{let i=re();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class L8{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=D4(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function vj(t,e,n,r){return new Dke(t,e,n,r)}(this.persistence,new gj,e.initialUser,this.serializer)}createPersistence(e){return new wy(w8.zs,this.serializer)}createSharedClientState(e){return new Sj}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ho{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=_Pe.bind(null,r.syncEngine),yield function Zy(t,e){return e_.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rPe}createDatastore(e){const n=D4(e.databaseInfo.databaseId),r=new Fke(e.databaseInfo);return new jke(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>jj(this.syncEngine,a,0),o=zj.D()?new zj:new Pke,new qke(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,l){const u=new uPe(r,i,s,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=D(n);H("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield yo(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class A8{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ot("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class APe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=_B.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){H("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Mo(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function T8(t,e){return A_.apply(this,arguments)}function A_(){return A_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield yj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),A_.apply(this,arguments)}function T_(t,e){return N_.apply(this,arguments)}function N_(){return N_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function k_(t){return P_.apply(this,arguments)}(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Nj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Nj(e.remoteStore,s)),t._onlineComponents=e}),N_.apply(this,arguments)}function P_(){return P_=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield T8(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Qj(t){return"FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Mn("Error using user provided cache. Falling back to memory cache: "+n),yield T8(t,new L8)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield T8(t,new L8);return t._offlineComponents}),P_.apply(this,arguments)}function N8(t){return R_.apply(this,arguments)}function R_(){return R_=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield T_(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield T_(t,new Ho))),t._onlineComponents}),R_.apply(this,arguments)}function So(t){return F_.apply(this,arguments)}function F_(){return F_=m(function*(t){const e=yield N8(t),n=e.eventManager;return n.onListen=fPe.bind(null,e.syncEngine),n.onUnlisten=dPe.bind(null,e.syncEngine),n}),F_.apply(this,arguments)}function n$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const r$=new Map;function B_(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i$(t){if(!x.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function s$(t){if(x.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function P8(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":k()}function le(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=P8(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class a${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function UPe(t,e,n,r){if(!0===e&&!0===r)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=n$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T4{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new FTe;switch(n.type){case"firstParty":return new $Te(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=r$.get(e);n&&(H("ComponentProvider","Removing Datastore"),r$.delete(e),n.terminate())}(this),Promise.resolve()}}class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class Wt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class Jn extends Wt{constructor(e,n,r){super(e,n,oo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new x(e))}withConverter(e){return new Jn(this.firestore,e,this._path)}}function $Pe(t,e,...n){if(t=st(t),B_("collection","path",e),t instanceof T4){const r=he.fromString(e,...n);return s$(r),new Jn(t,null,r)}{if(!(t instanceof lt||t instanceof Jn))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return s$(r),new Jn(t.firestore,null,r)}}function c$(t,e,...n){if(t=st(t),1===arguments.length&&(e=_B.A()),B_("doc","path",e),t instanceof T4){const r=he.fromString(e,...n);return i$(r),new lt(t,null,new x(r))}{if(!(t instanceof lt||t instanceof Jn))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return i$(r),new lt(t.firestore,t instanceof Jn?t.converter:null,new x(r))}}class GPe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ky(this,"async_queue_retry"),this.Xc=()=>{const n=E8();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=E8();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=E8();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new bt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!pr(n))throw n;H("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ot("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=t_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&k()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function U_(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Fe extends T4{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GPe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||u$(this),this._firestoreClient.terminate()}}function WPe(t,e){const r="string"==typeof t?t:e||"(default)",i=sr("object"==typeof t?t:aa(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=Zk("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function jPe(t,e,n,r={}){var i;const s=(t=le(t,T4))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Lt.MOCK_USER;else{a=function rHe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[T0(JSON.stringify({alg:"none",type:"JWT"})),T0(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Lt(l)}t._authCredentials=new BTe(new vB(a,c))}}(i,...s)}return i}function mt(t){return t._firestoreClient||u$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function u$(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new CNe(t._databaseId,a,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,n$(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;t._firestoreClient=new APe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(Vt.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ti(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zo{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class j_{constructor(e){this._methodName=e}}class $_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const YPe=/^__.*__$/;class QPe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new k1(e,this.data,this.fieldMask,n,this.fieldTransforms):new lo(e,this.data,n,this.fieldTransforms)}}class h${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new k1(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function p$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class R8{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new R8(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return F8(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(p$(this.ca)&&YPe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class XPe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||D4(e)}ya(e,n,r,i=!1){return new R8({ca:e,methodName:n,ga:r,path:at.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Io(t){const e=t._freezeSettings(),n=D4(t._databaseId);return new XPe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G_(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);W_("Data must be an object, but it was:",o,r);const a=_$(r,o);let c,l;if(s.merge)c=new k2(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=P4(e,f,n);if(!o.contains(d))throw new V(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);M$(u,d)||u.push(d)}c=new k2(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new QPe(new qt(a),c,l)}class k4 extends j_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof k4}}function Ni(t,e){if(C$(t=st(t)))return W_("Unsupported field value:",e,t),_$(t,e);if(t instanceof j_)return function(n,r){if(!p$(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ni(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=st(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return uU(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ke.fromDate(n);return{timestampValue:fo(r.serializer,i)}}if(n instanceof Ke){const i=new Ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fo(r.serializer,i)}}if(n instanceof $_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ti)return{bytesValue:DU(r.serializer,n._byteString)};if(n instanceof lt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${P8(n)}`)}(t,e)}function _$(t,e){const n={};return AB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(t,(r,i)=>{const s=Ni(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function C$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof $_||t instanceof Ti||t instanceof lt||t instanceof j_)}function W_(t,e,n){if(!C$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=P8(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function P4(t,e,n){if((e=st(e))instanceof zo)return e._internalPath;if("string"==typeof e)return O8(t,e);throw F8("Field path arguments must be of type string or ",t,!1,void 0,n)}const tRe=new RegExp("[~\\*/\\[\\]]");function O8(t,e,n){if(e.search(tRe)>=0)throw F8(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zo(...e.split("."))._internalPath}catch{throw F8(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function F8(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new V(M.INVALID_ARGUMENT,a+t+c)}function M$(t,e){return t.some(n=>n.isEqual(e))}class K_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nRe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B8("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class nRe extends K_{data(){return super.data()}}function B8(t,e){return"string"==typeof e?O8(t,e):e instanceof zo?e._internalPath:e._delegate._internalPath}class Y_{}class b$ extends Y_{}function rRe(t,e,...n){let r=[];e instanceof Y_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Eo).length,o=i.filter(a=>a instanceof R4).length;if(s>1||s>0&&o>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class R4 extends b${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new R4(e,n,r)}_apply(e){const n=this._parse(e);return z$(e._query,n),new Wt(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=Io(e.firestore);return function(i,s,o,a,c,l,u){let f;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){S$(u,l);const d=[];for(const h of u)d.push(H$(a,i,h));f={arrayValue:{values:d}}}else f=H$(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||S$(u,l),f=function y$(t,e,n,r=!1){return Ni(n,t.ya(r?4:3,e))}(o,"where",u,"in"===l||"not-in"===l);return ae.create(c,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function iRe(t,e,n){const r=e,i=B8("where",t);return R4._create(i,r,n)}class Eo extends Y_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eo(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)z$(s,a),s=ey(s,a)}(e._query,n),new Wt(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class U8 extends b${constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new U8(e,n,r)}_apply(e){return new Wt(e.firestore,e.converter,c8(e._query,this._limit,this._limitType))}}function sRe(t){return function o$(t,e){if(e<=0)throw new V(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),U8._create("limit",t,"F")}function H$(t,e,n){if("string"==typeof(n=st(n))){if(""===n)throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zv(e)&&-1!==n.indexOf("/"))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(he.fromString(n));if(!x.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wi(t,new x(r))}if(n instanceof lt)return wi(t,n._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${P8(n)}.`)}function S$(t,e){if(!Array.isArray(t)||0===t.length)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z$(t,e){if(e.isInequality()){const r=a8(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new V(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Jv(t);null!==s&&function I$(t,e,n){if(!n.isEqual(e))throw new V(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new V(M.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oRe{convertValue(e,n="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(A1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $_(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=t8(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(o4(e));default:return null}}convertTimestamp(e){const n=gr(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);O(BU(r));const i=new Mi(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||ot(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ki{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xo extends K_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new G8(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(B8("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class G8 extends xo{data(e={}){return super.data(e)}}class Do{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new G8(this._firestore,this._userDataWriter,r.key,r,new ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new G8(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ki(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new G8(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ki(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:cRe(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cRe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class zr extends oRe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function lRe(t,e,n,...r){t=le(t,lt);const i=le(t.firestore,Fe),s=Io(i);let o;return o="string"==typeof(e=st(e))||e instanceof zo?function v$(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[P4(e,r,n)],c=[i];if(s.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(P4(e,s[d])),c.push(s[d+1]);const l=[],u=qt.empty();for(let d=a.length-1;d>=0;--d)if(!M$(l,a[d])){const h=a[d];let p=c[d];p=st(p);const g=o.da(h);if(p instanceof k4)l.push(h);else{const v=Ni(p,g);null!=v&&(l.push(h),u.set(h,v))}}const f=new k2(l);return new h$(u,f,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function g$(t,e,n,r){const i=t.ya(1,e,n);W_("Data must be an object, but it was:",i,r);const s=[],o=qt.empty();mr(r,(c,l)=>{const u=O8(e,c,n);l=st(l);const f=i.da(u);if(l instanceof k4)s.push(u);else{const d=Ni(l,f);null!=d&&(s.push(u),o.set(u,d))}});const a=new k2(s);return new h$(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),O4(i,[o.toMutation(t._key,$e.exists(!0))])}function uRe(t,e){const n=le(t.firestore,Fe),r=c$(t),i=function X_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return O4(n,[G_(Io(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function O4(t,e){return function(n,r){const i=new bt;return n.asyncQueue.enqueueAndForget(m(function*(){return function hPe(t,e,n){return d_.apply(this,arguments)}(yield function O_(t){return N8(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(mt(t),e)}!function(t,e=!0){eo=ii,M2(new t2("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Fe(new UTe(n.getProvider("auth-internal")),new GTe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mi(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qe(gB,"3.13.0",t),qe(gB,"3.13.0","esm2017")}();var bRe={includeMetadataChanges:!1};function Z_(t,e){return void 0===e&&(e=bRe),new ut(function(n){var r=function fRe(t,...e){var n,r,i;t=st(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||U_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(U_(e[o])){const f=e[o];e[o]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,u;if(t instanceof lt)l=le(t.firestore,Fe),u=oo(t._key.path),c={next:f=>{e[o]&&e[o](function J_(t,e,n){const r=n.docs.get(e._key),i=new zr(t);return new xo(t,i,e._key,r,new ki(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,f))},error:e[o+1],complete:e[o+2]};else{const f=le(t,Wt);l=le(f.firestore,Fe),u=f._query;const d=new zr(l);c={next:h=>{e[o]&&e[o](new Do(l,d,f,h))},error:e[o+1],complete:e[o+2]},function w$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,d,h,p){const g=new A8(p),v=new a_(d,g,h);return f.asyncQueue.enqueueAndForget(m(function*(){return function n_(t,e){return r_.apply(this,arguments)}(yield So(f),v)})),()=>{g.Dc(),f.asyncQueue.enqueueAndForget(m(function*(){return function i_(t,e){return s_.apply(this,arguments)}(yield So(f),v)}))}}(mt(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function xRe(t,e){return void 0===e&&(e={}),function ERe(t){return Z_(t,{includeMetadataChanges:!0}).pipe(ko(function(e){return e.docs}))}(t).pipe(ko(function(n){return n.map(function(r){return function D$(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Ir{constructor(e){return e}}const N$="firestore",nC=new U("angularfire2.firestore-instances");function ARe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ir(r)}}const TRe={provide:class DRe{constructor(){return wp(N$)}},deps:[[new x2,nC]]},NRe={provide:Ir,useFactory:function LRe(t,e){const n=Mp(N$,t,e);return n&&new Ir(n)},deps:[[new x2,nC],Bs]};let kRe=(()=>{class t{constructor(){qe("angularfire",fa.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[NRe,TRe]}),t})();function F4(t,...e){return{ngModule:kRe,providers:[{provide:nC,useFactory:ARe(t),multi:!0,deps:[Te,Jt,Y0,Q0,[new x2,ZO],[new x2,$p],...e]}]}}const B4=n2(xRe,!0),k$=n2(uRe,!0),Lo=n2($Pe,!0),PRe=n2(c$,!0),U4=n2(WPe,!0),P$=n2(sRe,!0),j4=n2(rRe,!0),RRe=n2(lRe,!0),$4=n2(iRe,!0);let R$=(()=>{var t;class e{constructor(){this.firestore=B(Ir),this.dgAPI=B(Fn)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=Lo(this.firestore,"scans");B4(j4(i,$4("location","==",r.planetScan.location),P$(1)),{idField:"id"}).forEach(s=>{let o=Object.assign(new Gk,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==e2.RESOURCE||r.type==e2.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==e2.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==e2.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==e2.FLEET&&(o.fleets=r.planetScan.fleets),0==s.length?k$(i,JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):RRe(PRe(i,o.id),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),rC=(()=>{var t;class e{constructor(){this._loggedStatus=new Ft,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=xAe(r).subscribe(s=>{null!=s?B4(j4(Lo(i,"valid-users"),$4("email","==",s.email),P$(1))).subscribe(o=>{o.length>0&&Object.assign({email:"",enabled:!1},o[0]).enabled?(localStorage.setItem("user",JSON.stringify(s)),this._loggedStatus.emit(!0)):this.signOut(r,!1)}):(localStorage.removeItem("user"),this._loggedStatus.emit(!1))})}signInWithEmailAndPassword(r,i,s){DAe(r,i,s).catch(o=>{window.alert(o.message)})}signInWithGoogle(r){LAe(r,new zDe).catch(i=>{window.alert(i.message)})}signOut(r,i){this._loggedStatus.emit(!1),localStorage.removeItem("user"),this._refreshInProgress=i,r.signOut().catch(s=>{window.alert(s.message)}),i&&location.reload()}get loggedStatus(){return this._loggedStatus}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function ORe(t,e){1&t&&(P(0,"p",1),me(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),W())}let FRe=(()=>{var t;class e{constructor(){this.scanService=B(R$),this.authService=B(rC),this.active=!1}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{if(r){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.active=!0}else this.active=!1})}ngOnDestroy(){this.authService.loggedStatus.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Sn({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&$r(0,ORe,2,0,"p",0),2&r&&oe("ngIf",i.active)},dependencies:[Y6]}),e})();const Zn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let BRe=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[FRe]}),t.\u0275inj=ft({providers:[R$,Fn],imports:[Yr,da(()=>pa(Zn_firebase)),Da(()=>La()),F4(()=>U4()),va(()=>ya(ha(),{provider:new fi(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),O$=(()=>{var t;class e{constructor(){this.firestore=B(Ir),this.dgAPI=B(Fn),this.resourceProductionFormatterPipe=B(o9),this.decimalPipe=B(xs)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));B4(j4(Lo(this.firestore,"scans"),$4("location","in",i))).forEach(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector(".dgt-navigation-scan-turn").style.display="contents",c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(u.turn,"1.0","en_US"),u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let f=u.structures.map(h=>h.name);f.includes(Le.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),f.includes(Le.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),f.includes(Le.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),f.includes(Le.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),f.includes(Le.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),f.includes(Le.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),f.includes(Le.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),f.includes(Le.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),f.includes(Le.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let d=1;if(f.includes(Le.MEDICAL_CENTRE)&&(d+=.3),f.includes(Le.LEISURE_CENTRE)&&(d+=.4),f.includes(Le.HOSPITAL)&&(d+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(d,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}}else c.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function URe(t,e){1&t&&(P(0,"p",1),me(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),W())}let jRe=(()=>{var t;class e{constructor(){this.scanService=B(O$),this.authService=B(rC),this.active=!1}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{if(r){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i),this.active=!0}else this.active=!1})}ngOnDestroy(){this.authService.loggedStatus.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Sn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&$r(0,URe,2,0,"p",0),2&r&&oe("ngIf",i.active)},dependencies:[Y6]}),e})(),$Re=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[jRe]}),t.\u0275inj=ft({providers:[xs,o9,O$,Fn],imports:[Yr,da(()=>pa(Zn_firebase)),Da(()=>La()),F4(()=>U4()),va(()=>ya(ha(),{provider:new fi(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function GRe(t,e){if(1&t){const n=p7();P(0,"div",2)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"span"),me(6,"DGT Login"),W()()(),P(7,"tr",4)(8,"td"),Se(9,"input",5,6),W(),P(11,"td"),Se(12,"input",7,8),W()(),P(14,"tr",9)(15,"td",3)(16,"button",10),p2("click",function(){Vc(n);const i=u7(10),s=u7(13);return Hc(C3().signInWithEmailAndPassword(i.value,s.value))}),me(17,"Login"),W(),P(18,"button",11),p2("click",function(){return Vc(n),Hc(C3().signInWithGoogle())}),Se(19,"img",12),W()()()()()()}}function qRe(t,e){if(1&t){const n=p7();P(0,"div",13)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"button",14),p2("click",function(){return Vc(n),Hc(C3().signOut(!0))}),me(6,"Logout"),W()()()()()()}}let WRe=(()=>{var t;class e{constructor(){this.authService=B(rC),this.auth=B(Ml),this.firestore=B(Ir),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore)}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(r){this.authService.signOut(this.auth,r)}displayLogin(){return null==localStorage.getItem("user")&&!this.authService.refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Sn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"],["id","dgt-logout",1,"logout"],[1,"dgt-logout-button",3,"click"]],template:function(r,i){1&r&&($r(0,GRe,20,0,"div",0),$r(1,qRe,7,0,"div",1)),2&r&&(oe("ngIf",i.displayLogin()),J(1),oe("ngIf",!i.displayLogin()))},dependencies:[Y6],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-logout-button[_ngcontent-%COMP%], .dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),KRe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[WRe]}),t.\u0275inj=ft({imports:[Yr,da(()=>pa(Zn_firebase)),Da(()=>La()),F4(()=>U4()),va(()=>ya(ha(),{provider:new fi(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),F$=(()=>{var t;class e{constructor(){this.firestore=B(Ir)}updateOrder(r){let i=Lo(this.firestore,"orders");k$(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}fillActiveOrders(r,i){let s=Lo(this.firestore,"orders");B4(j4(s,$4("user","==",r)),{idField:"id"}).forEach(o=>{let a=Object.assign([],o),c=document.getElementById("dgt-orders-list-table-"+i).querySelector("tbody");c.innerHTML="",a.forEach(l=>{let u=document.createElement("tr");u.innerHTML='<td class="status">'+this.status(l.executed)+'</td><td class="target">'+l.target+'</td><td class="wait">'+l.wait+'</td><td class="flying">'+(l.turn+l.wait+1)+'</td><td class="instructions">'+l.instructions+"</td>",c.append(u)})}).catch(o=>{console.log(o)})}status(r){switch(r){case!0:return'<svg style="fill: #7BBD1A; height: 11px; vertical-align: middle; align-content: center; display: inline-flex;" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"/></svg><span>sent</span>';case!1:return'<svg style="fill: #ff8484; height: 11px; vertical-align: middle; align-content: center; display: inline-flex;" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"/></svg><span>not sent</span>';default:return""}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class YRe{get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target}}}const{isArray:QRe}=Array,{getPrototypeOf:XRe,prototype:JRe,keys:ZRe}=Object;const{isArray:nOe}=Array;function sOe(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function oOe(...t){const e=function Oq(t){return Be(pu(t))?t.pop():void 0}(t),{args:n,keys:r}=function eOe(t){if(1===t.length){const e=t[0];if(QRe(e))return{args:e,keys:null};if(function tOe(t){return t&&"object"==typeof t&&XRe(t)===JRe}(e)){const n=ZRe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new ut(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let f=!1;Vn(n[u]).subscribe(t1(s,d=>{f||(f=!0,l--),a[u]=d},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?sOe(r,a):a),s.complete())}))}});return e?i.pipe(function iOe(t){return ko(e=>function rOe(t,e){return nOe(e)?t(...e):t(e)}(t,e))}(e)):i}let B$=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(u1),S(en))},t.\u0275dir=K({type:t}),e})(),Pi=(()=>{var t;class e extends B${}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function Qt(t){return n1(()=>{const e=t.prototype.constructor,n=e[r1]||Zu(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[r1]||Zu(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275dir=K({type:t,features:[we]}),e})();const e1=new U("NgValueAccessor"),cOe={provide:e1,useExisting:Ie(()=>W8),multi:!0},uOe=new U("CompositionEventMode");let W8=(()=>{var t;class e extends B${constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lOe(){const t=T3()?T3().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(u1),S(en),S(uOe,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&p2("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[je([cOe]),we]}),e})();const l2=new U("NgValidators"),xr=new U("NgAsyncValidators");function J$(t){return null!=t}function Z$(t){return w6(t)?mu(t):t}function eG(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function tG(t,e){return e.map(n=>n(t))}function nG(t){return t.map(e=>function dOe(t){return!t.validate}(e)?e:n=>e.validate(n))}function iC(t){return null!=t?function rG(t){if(!t)return null;const e=t.filter(J$);return 0==e.length?null:function(n){return eG(tG(n,e))}}(nG(t)):null}function sC(t){return null!=t?function iG(t){if(!t)return null;const e=t.filter(J$);return 0==e.length?null:function(n){return oOe(tG(n,e).map(Z$)).pipe(ko(eG))}}(nG(t)):null}function sG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function oC(t){return t?Array.isArray(t)?t:[t]:[]}function Y8(t,e){return Array.isArray(t)?t.includes(e):t===e}function cG(t,e){const n=oC(e);return oC(t).forEach(i=>{Y8(n,i)||n.push(i)}),n}function lG(t,e){return oC(e).filter(n=>!Y8(t,n))}class uG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class H2 extends uG{get formDirective(){return null}get path(){return null}}class Dr extends uG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dG=(()=>{var t;class e extends fG{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Dr,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&M3("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]}),e})(),hG=(()=>{var t;class e extends fG{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(H2,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&M3("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[we]}),e})();const G4="VALID",X8="INVALID",Ao="PENDING",q4="DISABLED";function lC(t){return(J8(t)?t.validators:t)||null}function uC(t,e){return(J8(e)?e.asyncValidators:t)||null}function J8(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class vG{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===G4}get invalid(){return this.status===X8}get pending(){return this.status==Ao}get disabled(){return this.status===q4}get enabled(){return this.status!==q4}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lG(e,this._rawAsyncValidators))}hasValidator(e){return Y8(this._rawValidators,e)}hasAsyncValidator(e){return Y8(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ao,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=q4,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=G4,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===G4||this.status===Ao)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?q4:G4}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ao,this._hasOwnPendingAsyncValidator=!0;const n=Z$(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ft,this.statusChanges=new Ft}_calculateStatus(){return this._allControlsDisabled()?q4:this.errors?X8:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ao)?Ao:this._anyControlsHaveStatus(X8)?X8:G4}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){J8(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gOe(t){return Array.isArray(t)?iC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function vOe(t){return Array.isArray(t)?sC(t):t||null}(this._rawAsyncValidators)}}class fC extends vG{constructor(e,n,r){super(lC(n),uC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function gG(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new z(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function mG(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const To=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Z8}),Z8="always";function W4(t,e,n=Z8){dC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function COe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&yG(t,e)})}(t,e),function wOe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function MOe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&yG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function _Oe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function nu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function dC(t,e){const n=function oG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(sG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function aG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(sG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();nu(e._rawValidators,i),nu(e._rawAsyncValidators,i)}function yG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const zOe={provide:H2,useExisting:Ie(()=>iu)},K4=(()=>Promise.resolve())();let iu=(()=>{var t;class e extends H2{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ft,this.form=new fC({},iC(r),sC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){K4.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),W4(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){K4.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){K4.then(()=>{const i=this._findContainer(r.path),s=new fC({});(function _G(t,e){dC(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){K4.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){K4.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function CG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(S(l2,10),S(xr,10),S(To,8))},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&p2("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[je([zOe]),we]}),e})();function MG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function wG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const bG=class extends vG{constructor(e=null,n,r){super(lC(n),uC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),J8(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=wG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},xOe={provide:Dr,useExisting:Ie(()=>gC)},SG=(()=>Promise.resolve())();let gC=(()=>{var t;class e extends Dr{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new bG,this._registered=!1,this.name="",this.update=new Ft,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function mC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===W8?n=s:function HOe(t){return Object.getPrototypeOf(t.constructor)===Pi}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function pC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){W4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){SG.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function af(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);SG.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function eu(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(S(H2,9),S(l2,10),S(xr,10),S(e1,10),S(Z7,8),S(To,8))},t.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([xOe]),we,X2]}),e})(),zG=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),EG=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({}),e})(),eFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({imports:[EG]}),e})(),nFe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:To,useValue:r.callSetDisabledState??Z8}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({imports:[eFe]}),e})();const rFe=["dgtOrdersForm"];let iFe=(()=>{var t;class e{constructor(){this.orderService=B(F$),this.dgAPI=B(Fn)}onSubmit(){let r=new YRe;r.target=[this.ordersForm.value.galaxy,this.ordersForm.value.sector,this.ordersForm.value.system,this.ordersForm.value.planet].join("."),r.wait=parseInt(this.ordersForm.value.wait),r.instructions=this.ordersForm.value.instructions,r.executed=!1,r.turn=this.dgAPI.gameTurn(),r.user=this.ordersForm.value.user.toLowerCase(),this.orderService.updateOrder(r)}ngOnInit(){document.querySelectorAll(".allianceBox .playerList div.name").forEach((r,i)=>{this.orderService.fillActiveOrders(r.childNodes[0].textContent.trim(),i)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Sn({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],viewQuery:function(r,i){if(1&r&&HS(rFe,5),2&r){let s;VS(s=function SS(){return function pte(t,e){return t[zn].queries[e].queryList}(b(),$M())}())&&(i.ordersForm=s.first)}},decls:22,vars:0,consts:[["id","dgt-orders-panel-data-form",2,"display","none !important",3,"ngSubmit"],["dgtOrdersForm","ngForm"],[1,"dgt-orders-table"],[1,"dgt-orders-data"],[1,"galaxy"],["type","text","ngModel","","name","galaxy"],[1,"sector"],["type","text","ngModel","","name","sector"],[1,"system"],["type","text","ngModel","","name","system"],[1,"planet"],["type","text","ngModel","","name","planet"],[1,"wait"],["type","text","ngModel","","name","wait"],[1,"user"],["type","text","ngModel","","name","user"],[1,"instructions"],["placeholder","Ex: minim 100 fighters","ngModel","","name","instructions"],[1,"submit"],["type","submit"]],template:function(r,i){1&r&&(P(0,"form",0,1),p2("ngSubmit",function(){return i.onSubmit()}),P(2,"table",2)(3,"tbody")(4,"tr",3)(5,"td",4),Se(6,"input",5),W(),P(7,"td",6),Se(8,"input",7),W(),P(9,"td",8),Se(10,"input",9),W(),P(11,"td",10),Se(12,"input",11),W(),P(13,"td",12),Se(14,"input",13),W(),P(15,"td",14),Se(16,"input",15),W(),P(17,"td",16),Se(18,"textarea",17),W(),P(19,"td",18)(20,"button",19),me(21,"Send"),W()()()()()())},dependencies:[zG,W8,dG,hG,gC,iu]}),e})(),sFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[iFe]}),t.\u0275inj=ft({providers:[F$,Fn],imports:[Yr,nFe,da(()=>pa(Zn_firebase)),Da(()=>La()),F4(()=>U4()),va(()=>ya(ha(),{provider:new fi(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),WG=(()=>{var t;class e{constructor(){this.firestore=B(Ir)}getOrders(r,i,s,o){let a=Lo(this.firestore,"orders");B4(j4(a,$4("user","==",r)),{idField:"id"}).subscribe(c=>{i.next(Object.assign([],c)),s.detectChanges()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function oFe(t,e){if(1&t&&(P(0,"tr")(1,"td",2)(2,"button"),me(3,"Complete"),W()(),P(4,"td",3),me(5),W(),P(6,"td",4),me(7),W(),P(8,"td",5),me(9),W()()),2&t){const n=e.$implicit;J(5),Ot(n.target),J(2),Ot(n.wait),J(2),Ot(n.instructions)}}const aFe=function(t){return{"no-rows":t}};let cFe=(()=>{var t;class e{constructor(){this.orderService=B(WG),this.dgAPI=B(Fn),this.changeDetection=B(Z7),this.hideComponent=!1,this.orders=new ut(r=>{this.orderService.getOrders(this.dgAPI.getUser(),r,this.changeDetection,this.hideComponent)})}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Sn({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:13,vars:6,consts:[[1,"dgt-fleet-orders-list-table",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"complete"],[1,"target"],[1,"wait"],[1,"instructions"]],template:function(r,i){1&r&&(P(0,"table",0)(1,"thead")(2,"tr"),Se(3,"td"),P(4,"td"),me(5,"Target"),W(),P(6,"td"),me(7,"Wait"),W(),P(8,"td"),me(9,"Instructions"),W()()(),P(10,"tbody"),$r(11,oFe,10,3,"tr",1),y2(12,"async"),W()()),2&r&&(oe("ngClass",v2(4,aFe,i.hideComponent)),J(11),oe("ngForOf",Y1(12,2,i.orders)))},dependencies:[_f,Cf,$z],styles:[".dgt-fleet-orders-list-table[_ngcontent-%COMP%]{width:98%;background:#FF3B302B;border:1px solid #FF3B30;border-radius:5px;margin:10px}td.wait[_ngcontent-%COMP%]{text-align:center}td.instructions[_ngcontent-%COMP%]{width:75%}button[_ngcontent-%COMP%]{cursor:pointer;width:90px}.no-rows[_ngcontent-%COMP%]{display:none}"]}),e})(),lFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[cFe]}),t.\u0275inj=ft({providers:[WG,Fn],imports:[Yr,da(()=>pa(Zn_firebase)),Da(()=>La()),F4(()=>U4()),va(()=>ya(ha(),{provider:new fi(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Oi=ire();let bn=window.location.pathname.split(/\//g);Oi.bootstrapModule(KRe).catch(t=>console.error(t)),Oi.bootstrapModule(AVe).catch(t=>console.error(t)),"planets"===bn[1]&&Oi.bootstrapModule(qVe).catch(t=>console.error(t)),"planet"===bn[1]&&"comms"===(5===bn.length&&bn[3])&&Oi.bootstrapModule(BRe).catch(t=>console.error(t)),"navigation"===bn[1]&&6===bn.length&&!isNaN(+bn[2])&&!isNaN(+bn[3])&&!isNaN(+bn[4])&&Oi.bootstrapModule($Re).catch(t=>console.error(t)),"alliances"===bn[1]&&Oi.bootstrapModule(sFe).catch(t=>console.error(t)),"fleets"===bn[1]&&Oi.bootstrapModule(lFe).catch(t=>console.error(t))}},Be=>{Be(Be.s=529)}]);