"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{6304:(ht,Ie,k)=>{k.d(Ie,{Dh:()=>xe,GT:()=>me,cc:()=>Re,on:()=>Ee,pX:()=>oe,xv:()=>Pe});var m=k(7989),R=k(7142);ht=k.hmd(ht);const T=["ngOnDestroy"],oe=(be,Ae,Ke,Je={})=>new Proxy(be,{get:(Z,ue)=>Ke.runOutsideAngular(()=>{var J;if(be[ue])return!(null===(J=Je?.spy)||void 0===J)&&J.get&&Je.spy.get(ue,be[ue]),be[ue];if(T.indexOf(ue)>-1)return()=>{};const pe=Ae.toPromise().then(Le=>{const K=Le&&Le[ue];return"function"==typeof K?K.bind(Le):K&&K.then?K.then(et=>Ke.run(()=>et)):Ke.run(()=>K)});return new Proxy(()=>{},{get:(Le,K)=>pe[K],apply:(Le,K,et)=>pe.then(nt=>{var Dt;const X2=nt&&nt(...et);return!(null===(Dt=Je?.spy)||void 0===Dt)&&Dt.apply&&Je.spy.apply(ue,et,X2),X2})})})}),me=(be,Ae)=>{Ae.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Je=>{Object.defineProperty(be.prototype,Je,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Je))})})};class we{constructor(Ae){return Ae}}const xe=new m.OlP("angularfire2.app.options"),Pe=new m.OlP("angularfire2.app.name");function Ee(be,Ae,Ke){const Z="object"==typeof Ke&&Ke||{};Z.name=Z.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const J=R.Z.apps.filter(pe=>pe&&pe.name===Z.name)[0]||Ae.runOutsideAngular(()=>R.Z.initializeApp(be,Z));try{JSON.stringify(be)!==JSON.stringify(J.options)&&O("error",`${J.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(J)}const O=(be,...Ae)=>{(0,m.X6Q)()&&typeof console<"u"&&console[be](...Ae)};function Re(be,Ae,Ke,Je,Z){const[,ue,J]=globalThis.\u0275AngularfireInstanceCache.find(pe=>pe[0]===be)||[];if(ue)return function He(be,Ae){try{return be.toString()===Ae.toString()}catch{return be===Ae}}(Z,J)||(le("error",`${Ae} was already initialized on the ${Ke} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:Z,was:J})),ue;{const pe=Je();return globalThis.\u0275AngularfireInstanceCache.push([be,pe,Z]),pe}}const st=!!ht.hot,le=(be,...Ae)=>{(0,m.X6Q)()&&typeof console<"u"&&console[be](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6878:(ht,Ie,k)=>{k.d(Ie,{$:()=>K4,A:()=>B,D:()=>He,I:()=>N4,J:()=>ki,L:()=>Te,N:()=>O1,P:()=>Nc,Q:()=>ei,R:()=>e9,U:()=>ac,V:()=>Er,W:()=>qn,X:()=>pr,Y:()=>$4,Z:()=>G4,_:()=>Fi,a:()=>gr,a0:()=>Gf,a1:()=>h2,a2:()=>DC,a3:()=>AC,a4:()=>zl,a5:()=>fc,a6:()=>mr,a7:()=>qf,a8:()=>dc,a9:()=>Wf,aA:()=>K,aB:()=>Fc,aC:()=>c2,aD:()=>yn,aE:()=>_3,aF:()=>ui,aG:()=>t8,aH:()=>u2,aL:()=>s3,aO:()=>Cn,aa:()=>En,ab:()=>Z2,ac:()=>Ll,ad:()=>J4,ae:()=>TC,af:()=>mc,ai:()=>NC,aj:()=>Zf,ak:()=>Al,an:()=>q4,ao:()=>eo,aq:()=>Rl,ar:()=>r3,as:()=>nt,at:()=>$e,au:()=>de,av:()=>Z,aw:()=>Mo,ax:()=>vo,ay:()=>Ft,az:()=>ue,b:()=>bc,c:()=>Xl,d:()=>Yi,e:()=>e8,f:()=>v3,g:()=>po,h:()=>Oc,i:()=>so,j:()=>yr,k:()=>bo,l:()=>d3,m:()=>l8,o:()=>Yc,p:()=>Pe,r:()=>Kl,s:()=>Tc,u:()=>ao});var m=k(5861),R=k(9058),T=k(534),oe=k(7582),me=k(7879),we=k(4537);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},st=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},le=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new me.Yd("@firebase/auth");function Je(_,...h){Ae.logLevel<=me.in.ERROR&&Ae.error(`Auth (${T.SDK_VERSION}): ${_}`,...h)}function Z(_,...h){throw Le(_,...h)}function ue(_,...h){return Le(_,...h)}function J(_,h,g){const M=Object.assign(Object.assign({},st()),{[h]:g});return new R.LL("auth","Firebase",M).create(h,{appName:_.name})}function pe(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Z(_,"argument-error"),J(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(_,...h){if("string"!=typeof _){const g=h[0],M=[...h.slice(1)];return M[0]&&(M[0].appName=_.name),_._errorFactory.create(g,...M)}return le.create(_,...h)}function K(_,h,...g){if(!_)throw Le(h,...g)}function et(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Je(h),new Error(h)}function nt(_,h){_||et(h)}function Dt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function X2(){return"http:"===hn()||"https:"===hn()}function hn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class pn{constructor(h,g){this.shortDelay=h,this.longDelay=g,nt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(X2()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ur(_,h){nt(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class te{static initialize(h,g,M){this.fetchImpl=h,g&&(this.headersImpl=g),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=new pn(3e4,6e4);function X(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function he(_,h,g,M){return ze.apply(this,arguments)}function ze(){return(ze=(0,m.Z)(function*(_,h,g,M,I={}){return Qe(_,I,(0,m.Z)(function*(){let L={},$={};M&&("GET"===h?$=M:L={body:JSON.stringify(M)});const ee=(0,R.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),De=yield _._getAdditionalHeaders();return De["Content-Type"]="application/json",_.languageCode&&(De["X-Firebase-Locale"]=_.languageCode),te.fetch()(Ut(_,_.config.apiHost,g,ee),Object.assign({method:h,headers:De,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Qe(_,h,g){return ke.apply(this,arguments)}function ke(){return(ke=(0,m.Z)(function*(_,h,g){_._canInitEmulator=!1;const M=Object.assign(Object.assign({},ie),h);try{const I=new bt(_),L=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const $=yield L.json();if("needConfirmation"in $)throw Kt(_,"account-exists-with-different-credential",$);if(L.ok&&!("errorMessage"in $))return $;{const ee=L.ok?$.errorMessage:$.error.message,[De,Fe]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw Kt(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===De)throw Kt(_,"email-already-in-use",$);if("USER_DISABLED"===De)throw Kt(_,"user-disabled",$);const it=M[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw J(_,it,Fe);Z(_,it)}}catch(I){if(I instanceof R.ZR)throw I;Z(_,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function Qt(_,h,g,M){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(_,h,g,M,I={}){const L=yield he(_,h,g,M,I);return"mfaPendingCredential"in L&&Z(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Ut(_,h,g,M){const I=`${h}${g}?${M}`;return _.config.emulator?ur(_.config,I):`${_.config.apiScheme}://${I}`}class bt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,M)=>{this.timer=setTimeout(()=>M(ue(this.auth,"network-request-failed")),fe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(_,h,g){const M={appName:_.name};g.email&&(M.email=g.email),g.phoneNumber&&(M.phoneNumber=g.phoneNumber);const I=ue(_,h,M);return I.customData._tokenResponse=g,I}function g2(){return(g2=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function E2(){return(E2=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function P1(){return(P1=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function s1(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function zn(){return(zn=(0,m.Z)(function*(_,h=!1){const g=(0,R.m9)(_),M=yield g.getIdToken(h),I=Mt(M);K(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const L="object"==typeof I.firebase?I.firebase:void 0,$=L?.sign_in_provider;return{claims:I,token:M,authTime:s1(ut(I.auth_time)),issuedAtTime:s1(ut(I.iat)),expirationTime:s1(ut(I.exp)),signInProvider:$||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(_){return 1e3*Number(_)}function Mt(_){const[h,g,M]=_.split(".");if(void 0===h||void 0===g||void 0===M)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,R.tV)(g);return I?JSON.parse(I):(Je("Failed to decode base64 JWT payload"),null)}catch(I){return Je("Caught error parsing JWT payload as JSON",I?.toString()),null}}function jt(_,h){return a1.apply(this,arguments)}function a1(){return(a1=(0,m.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(M){throw M instanceof R.ZR&&function R1({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(M)&&_.auth.currentUser===_&&(yield _.auth.signOut()),M}})).apply(this,arguments)}class Lt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const M=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield g.iteration()}),M)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class y2{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=s1(this.lastLoginAt),this.creationTime=s1(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function On(_){return $t.apply(this,arguments)}function $t(){return $t=(0,m.Z)(function*(_){var h;const g=_.auth,M=yield _.getIdToken(),I=yield jt(_,function k1(_,h){return P1.apply(this,arguments)}(g,{idToken:M}));K(I?.users.length,g,"internal-error");const L=I.users[0];_._notifyReloadListener(L);const $=null!==(h=L.providerUserInfo)&&void 0!==h&&h.length?function mn(_){return _.map(h=>{var{providerId:g}=h,M=(0,oe._T)(h,["providerId"]);return{providerId:g,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(L.providerUserInfo):[],ee=function C2(_,h){return[..._.filter(M=>!h.some(I=>I.providerId===M.providerId)),...h]}(_.providerData,$),it=!!_.isAnonymous&&!(_.email&&L.passwordHash||ee?.length),Nt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ee,metadata:new y2(L.createdAt,L.lastLoginAt),isAnonymous:it};Object.assign(_,Nt)}),$t.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(_){const h=(0,R.m9)(_);yield On(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function vn(){return(vn=(0,m.Z)(function*(_,h){const g=yield Qe(_,{},(0,m.Z)(function*(){const M=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:I,apiKey:L}=_.config,$=Ut(_,I,"/v1/token",`key=${L}`),ee=yield _._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",te.fetch()($,{method:"POST",headers:ee,body:M})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class P2{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){K(h.idToken,"internal-error"),K(typeof h.idToken<"u","internal-error"),K(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ct(_){const h=Mt(_);return K(h,"internal-error"),K(typeof h.exp<"u","internal-error"),K(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var M=this;return(0,m.Z)(function*(){return K(!M.accessToken||M.refreshToken,h,"user-token-expired"),g||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(h,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var M=this;return(0,m.Z)(function*(){const{accessToken:I,refreshToken:L,expiresIn:$}=yield function gn(_,h){return vn.apply(this,arguments)}(h,g);M.updateTokensAndExpiration(I,L,Number($))})()}updateTokensAndExpiration(h,g,M){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(h,g){const{refreshToken:M,accessToken:I,expirationTime:L}=g,$=new P2;return M&&(K("string"==typeof M,"internal-error",{appName:h}),$.refreshToken=M),I&&(K("string"==typeof I,"internal-error",{appName:h}),$.accessToken=I),L&&(K("number"==typeof L,"internal-error",{appName:h}),$.expirationTime=L),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new P2,this.toJSON())}_performRefresh(){return et("not implemented")}}function R2(_,h){K("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class G2{constructor(h){var{uid:g,auth:M,stsTokenManager:I}=h,L=(0,oe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=M,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new y2(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,m.Z)(function*(){const M=yield jt(g,g.stsTokenManager.getToken(g.auth,h));return K(M,g.auth,"internal-error"),g.accessToken!==M&&(g.accessToken=M,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),M})()}getIdTokenResult(h){return function o1(_){return zn.apply(this,arguments)}(this,h)}reload(){return function fr(_){return Ht.apply(this,arguments)}(this)}_assign(h){this!==h&&(K(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new G2(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var M=this;return(0,m.Z)(function*(){let I=!1;h.idToken&&h.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(h),I=!0),g&&(yield On(M)),yield M.auth._persistUserIfCurrent(M),I&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var h=this;return(0,m.Z)(function*(){const g=yield h.getIdToken();return yield jt(h,function m2(_,h){return g2.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var M,I,L,$,ee,De,Fe,it;const Nt=null!==(M=g.displayName)&&void 0!==M?M:void 0,K2=null!==(I=g.email)&&void 0!==I?I:void 0,Jn=null!==(L=g.phoneNumber)&&void 0!==L?L:void 0,rs=null!==($=g.photoURL)&&void 0!==$?$:void 0,So=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,V3=null!==(De=g._redirectEventId)&&void 0!==De?De:void 0,zo=null!==(Fe=g.createdAt)&&void 0!==Fe?Fe:void 0,h8=null!==(it=g.lastLoginAt)&&void 0!==it?it:void 0,{uid:Eo,emailVerified:Lo,isAnonymous:I3,providerData:Qc,stsTokenManager:xo}=g;K(Eo&&xo,h,"internal-error");const Do=P2.fromJSON(this.name,xo);K("string"==typeof Eo,h,"internal-error"),R2(Nt,h.name),R2(K2,h.name),K("boolean"==typeof Lo,h,"internal-error"),K("boolean"==typeof I3,h,"internal-error"),R2(Jn,h.name),R2(rs,h.name),R2(So,h.name),R2(V3,h.name),R2(zo,h.name),R2(h8,h.name);const Jc=new G2({uid:Eo,auth:h,email:K2,emailVerified:Lo,displayName:Nt,isAnonymous:I3,photoURL:rs,phoneNumber:Jn,tenantId:So,stsTokenManager:Do,createdAt:zo,lastLoginAt:h8});return Qc&&Array.isArray(Qc)&&(Jc.providerData=Qc.map(p8=>Object.assign({},p8))),V3&&(Jc._redirectEventId=V3),Jc}static _fromIdTokenResponse(h,g,M=!1){return(0,m.Z)(function*(){const I=new P2;I.updateFromServerResponse(g);const L=new G2({uid:g.localId,auth:h,stsTokenManager:I,isAnonymous:M});return yield On(L),L})()}}const w1=new Map;function c2(_){nt(_ instanceof Function,"Expected a class definition");let h=w1.get(_);return h?(nt(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,w1.set(_,h),h)}const O1=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(g,M){var I=this;return(0,m.Z)(function*(){I.storage[g]=M})()}_get(g){var M=this;return(0,m.Z)(function*(){const I=M.storage[g];return void 0===I?null:I})()}_remove(g){var M=this;return(0,m.Z)(function*(){delete M.storage[g]})()}_addListener(g,M){}_removeListener(g,M){}}return _.type="NONE",_})();function yn(_,h,g){return`firebase:${_}:${h}:${g}`}class F{constructor(h,g,M){this.persistence=h,this.auth=g,this.userKey=M;const{config:I,name:L}=this.auth;this.fullUserKey=yn(this.userKey,I.apiKey,L),this.fullPersistenceKey=yn("persistence",I.apiKey,L),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?G2._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,m.Z)(function*(){if(g.persistence===h)return;const M=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,M?g.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,M="authUser"){return(0,m.Z)(function*(){if(!g.length)return new F(c2(O1),h,M);const I=(yield Promise.all(g.map(function(){var Fe=(0,m.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let L=I[0]||c2(O1);const $=yn(M,h.config.apiKey,h.name);let ee=null;for(const Fe of g)try{const it=yield Fe._get($);if(it){const Nt=G2._fromJSON(h,it);Fe!==L&&(ee=Nt),L=Fe;break}}catch{}const De=I.filter(Fe=>Fe._shouldAllowMigration);return L._shouldAllowMigration&&De.length?(L=De[0],ee&&(yield L._set($,ee.toJSON())),yield Promise.all(g.map(function(){var Fe=(0,m.Z)(function*(it){if(it!==L)try{yield it._remove($)}catch{}});return function(it){return Fe.apply(this,arguments)}}())),new F(L,h,M)):new F(L,h,M)})()}}function P(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(q(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(x(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ne(h))return"Blackberry";if(gt(h))return"Webos";if(D(h))return"Safari";if((h.includes("chrome/")||E(h))&&!h.includes("edge/"))return"Chrome";if(de(h))return"Android";{const M=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function x(_=(0,R.z$)()){return/firefox\//i.test(_)}function D(_=(0,R.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function E(_=(0,R.z$)()){return/crios\//i.test(_)}function q(_=(0,R.z$)()){return/iemobile/i.test(_)}function de(_=(0,R.z$)()){return/android/i.test(_)}function Ne(_=(0,R.z$)()){return/blackberry/i.test(_)}function gt(_=(0,R.z$)()){return/webos/i.test(_)}function $e(_=(0,R.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ft(_=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function It(_=(0,R.z$)()){return $e(_)||de(_)||gt(_)||Ne(_)||/windows phone/i.test(_)||q(_)}function Sr(_,h=[]){let g;switch(_){case"Browser":g=P((0,R.z$)());break;case"Worker":g=`${P((0,R.z$)())}-${_}`;break;default:g=_}const M=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${T.SDK_VERSION}/${M}`}function Y(){return(Y=(0,m.Z)(function*(_){return(yield he(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _e(_,h){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,m.Z)(function*(_,h){return he(_,"GET","/v2/recaptchaConfig",X(_,h))})).apply(this,arguments)}function Oe(_){return void 0!==_&&void 0!==_.getResponse}function Vt(_){return void 0!==_&&void 0!==_.enterprise}class Bt{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function l2(_){return new Promise((h,g)=>{const M=document.createElement("script");M.setAttribute("src",_),M.onload=h,M.onerror=I=>{const L=ue("internal-error");L.customData=I,g(L)},M.type="text/javascript",M.charset="UTF-8",function A2(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(M)})}function e1(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Ai{constructor(h){this.type="recaptcha-enterprise",this.auth=u2(h)}verify(h="verify",g=!1){var M=this;return(0,m.Z)(function*(){function L(){return L=(0,m.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var De=(0,m.Z)(function*(Fe,it){_e(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Nt=>{if(void 0!==Nt.recaptchaKey){const K2=new Bt(Nt);return null==ee.tenantId?ee._agentRecaptchaConfig=K2:ee._tenantRecaptchaConfigs[ee.tenantId]=K2,Fe(K2.siteKey)}it(new Error("recaptcha Enterprise site key undefined"))}).catch(Nt=>{it(Nt)})});return function(Fe,it){return De.apply(this,arguments)}}())}),L.apply(this,arguments)}function $(ee,De,Fe){const it=window.grecaptcha;Vt(it)?it.enterprise.ready(()=>{it.enterprise.execute(ee,{action:h}).then(Nt=>{De(Nt)}).catch(()=>{De("NO_RECAPTCHA")})}):Fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,De)=>{(function I(ee){return L.apply(this,arguments)})(M.auth).then(Fe=>{if(!g&&Vt(window.grecaptcha))$(Fe,ee,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));l2("https://www.google.com/recaptcha/enterprise.js?render="+Fe).then(()=>{$(Fe,ee,De)}).catch(it=>{De(it)})}}).catch(Fe=>{De(Fe)})})})()}}function Un(_,h,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,m.Z)(function*(_,h,g,M=!1){const I=new Ai(_);let L;try{L=yield I.verify(g)}catch{L=yield I.verify(g,!0)}const $=Object.assign({},h);return Object.assign($,M?{captchaResp:L}:{captchaResponse:L}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class Ni{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const M=L=>new Promise(($,ee)=>{try{$(h(L))}catch(De){ee(De)}});M.onAbort=g,this.queue.push(M);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,m.Z)(function*(){if(g.auth.currentUser===h)return;const M=[];try{for(const I of g.queue)yield I(h),I.onAbort&&M.push(I.onAbort)}catch(I){M.reverse();for(const L of M)try{L()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class T4{constructor(h,g,M,I){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=M,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gl(this),this.idTokenSubscription=new gl(this),this.beforeStateQueue=new Ni(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=le,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(h,g){var M=this;return g&&(this._popupRedirectResolver=c2(g)),this._initializationPromise=this.queue((0,m.Z)(function*(){var I,L;if(!M._deleted&&(M.persistenceManager=yield F.create(M,h),!M._deleted)){if(null!==(I=M._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(g),M.lastNotifiedUid=(null===(L=M.currentUser)||void 0===L?void 0:L.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,m.Z)(function*(){var M;const I=yield g.assertedPersistence.getCurrentUser();let L=I,$=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId,De=L?._redirectEventId,Fe=yield g.tryRedirectSignIn(h);(!ee||ee===De)&&Fe?.user&&(L=Fe.user,$=!0)}if(!L)return g.directlySetCurrentUser(null);if(!L._redirectEventId){if($)try{yield g.beforeStateQueue.runMiddleware(L)}catch(ee){L=I,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return L?g.reloadAndSetCurrentUserOrClear(L):g.directlySetCurrentUser(null)}return K(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===L._redirectEventId?g.directlySetCurrentUser(L):g.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(h){var g=this;return(0,m.Z)(function*(){let M=null;try{M=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,m.Z)(function*(){try{yield On(h)}catch(M){if("auth/network-request-failed"!==M?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function o2(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,m.Z)(function*(){const M=h?(0,R.m9)(h):null;return M&&K(M.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(M&&M._clone(g))})()}_updateCurrentUser(h,g=!1){var M=this;return(0,m.Z)(function*(){if(!M._deleted)return h&&K(M.tenantId===h.tenantId,M,"tenant-id-mismatch"),g||(yield M.beforeStateQueue.runMiddleware(h)),M.queue((0,m.Z)(function*(){yield M.directlySetCurrentUser(h),M.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,m.Z)(function*(){yield g.assertedPersistence.setPersistence(c2(h))}))}initializeRecaptchaConfig(){var h=this;return(0,m.Z)(function*(){const g=yield _e(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new Bt(g);null==h.tenantId?h._agentRecaptchaConfig=M:h._tenantRecaptchaConfigs[h.tenantId]=M,M.emailPasswordEnabled&&new Ai(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,g,M){return this.registerStateListener(this.authStateSubscription,h,g,M)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,M){return this.registerStateListener(this.idTokenSubscription,h,g,M)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var M=this;return(0,m.Z)(function*(){const I=yield M.getOrInitRedirectPersistenceManager(g);return null===h?I.removeCurrentUser():I.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,m.Z)(function*(){if(!g.redirectPersistenceManager){const M=h&&c2(h)||g._popupRedirectResolver;K(M,g,"argument-error"),g.redirectPersistenceManager=yield F.create(g,[c2(M._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,m.Z)(function*(){var M,I;return g._isInitialized&&(yield g.queue((0,m.Z)(function*(){}))),(null===(M=g._currentUser)||void 0===M?void 0:M._redirectEventId)===h?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,m.Z)(function*(){if(h===g.currentUser)return g.queue((0,m.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,M,I){if(this._deleted)return()=>{};const L="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return K($,this,"internal-error"),$.then(()=>L(this.currentUser)),"function"==typeof g?h.addObserver(g,M,I):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,m.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var g;const M={"X-Client-Version":h.clientVersion};h.app.options.appId&&(M["X-Firebase-gmpid"]=h.app.options.appId);const I=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();I&&(M["X-Firebase-Client"]=I);const L=yield h._getAppCheckToken();return L&&(M["X-Firebase-AppCheck"]=L),M})()}_getAppCheckToken(){var h=this;return(0,m.Z)(function*(){var g;const M=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return M?.error&&function Ke(_,...h){Ae.logLevel<=me.in.WARN&&Ae.warn(`Auth (${T.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function u2(_){return(0,R.m9)(_)}class gl{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function N4(_,h,g){const M=u2(_);K(M._canInitEmulator,M,"emulator-config-failed"),K(/^https?:\/\//.test(h),M,"invalid-emulator-scheme");const I=!!g?.disableWarnings,L=b1(h),{host:$,port:ee}=function k4(_){const h=b1(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const M=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(M);if(I){const L=I[1];return{host:L,port:P4(M.substr(L.length+1))}}{const[L,$]=M.split(":");return{host:L,port:P4($)}}}(h);M.config.emulator={url:`${L}//${$}${null===ee?"":`:${ee}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:$,port:ee,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function yl(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function b1(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function P4(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class ki{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return et("not implemented")}_getIdTokenResponse(h){return et("not implemented")}_linkToIdToken(h,g){return et("not implemented")}_getReauthenticationResolver(h){return et("not implemented")}}function R4(_,h){return rc.apply(this,arguments)}function rc(){return(rc=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:resetPassword",X(_,h))})).apply(this,arguments)}function ic(_,h){return sc.apply(this,arguments)}function sc(){return(sc=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function F1(){return(F1=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",X(_,h))})).apply(this,arguments)}function Bs(_,h){return O4.apply(this,arguments)}function O4(){return(O4=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPassword",X(_,h))})).apply(this,arguments)}function Us(_,h){return F4.apply(this,arguments)}function F4(){return(F4=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:sendOobCode",X(_,h))})).apply(this,arguments)}function U4(){return(U4=(0,m.Z)(function*(_,h){return Us(_,h)})).apply(this,arguments)}function js(_,h){return $s.apply(this,arguments)}function $s(){return($s=(0,m.Z)(function*(_,h){return Us(_,h)})).apply(this,arguments)}function Gs(_,h){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(_,h){return Us(_,h)})).apply(this,arguments)}function W2(){return(W2=(0,m.Z)(function*(_,h){return Us(_,h)})).apply(this,arguments)}function l1(){return(l1=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithEmailLink",X(_,h))})).apply(this,arguments)}function qs(){return(qs=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithEmailLink",X(_,h))})).apply(this,arguments)}class dr extends ki{constructor(h,g,M,I=null){super("password",M),this._email=h,this._password=g,this._tenantId=I}static _fromEmailAndPassword(h,g){return new dr(h,g,"password")}static _fromEmailAndCode(h,g,M=null){return new dr(h,g,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,m.Z)(function*(){var M;switch(g.signInMethod){case"password":const I={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=h._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const L=yield Un(h,I,"signInWithPassword");return Bs(h,L)}return Bs(h,I).catch(function(){var L=(0,m.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Un(h,I,"signInWithPassword");return Bs(h,ee)}return Promise.reject($)});return function($){return L.apply(this,arguments)}}());case"emailLink":return function Pi(_,h){return l1.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Z(h,"internal-error")}})()}_linkToIdToken(h,g){var M=this;return(0,m.Z)(function*(){switch(M.signInMethod){case"password":return ic(h,{idToken:g,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function oc(_,h){return qs.apply(this,arguments)}(h,{idToken:g,email:M._email,oobCode:M._password});default:Z(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function jn(_,h){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithIdp",X(_,h))})).apply(this,arguments)}class Te extends ki{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Te(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Z("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:I}=g,L=(0,oe._T)(g,["providerId","signInMethod"]);if(!M||!I)return null;const $=new Te(M,I);return $.idToken=L.idToken||void 0,$.accessToken=L.accessToken||void 0,$.secret=L.secret,$.nonce=L.nonce,$.pendingToken=L.pendingToken||null,$}_getIdTokenResponse(h){return jn(h,this.buildRequest())}_linkToIdToken(h,g){const M=this.buildRequest();return M.idToken=g,jn(h,M)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,jn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,R.xO)(g)}return h}}function n2(){return(n2=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:sendVerificationCode",X(_,h))})).apply(this,arguments)}function $n(){return($n=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,h))})).apply(this,arguments)}function zr(){return(zr=(0,m.Z)(function*(_,h){const g=yield Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,h));if(g.temporaryProof)throw Kt(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const d2={USER_NOT_FOUND:"user-not-found"};function hr(){return(hr=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),d2)})).apply(this,arguments)}class pt extends ki{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new pt({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new pt({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function B1(_,h){return $n.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function u1(_,h){return zr.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Gn(_,h){return hr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:M,verificationCode:I}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:M,code:I}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:M,phoneNumber:I,temporaryProof:L}=h;return M||g||I||L?new pt({verificationId:g,verificationCode:M,phoneNumber:I,temporaryProof:L}):null}}class H1{constructor(h){var g,M,I,L,$,ee;const De=(0,R.zd)((0,R.pd)(h)),Fe=null!==(g=De.apiKey)&&void 0!==g?g:null,it=null!==(M=De.oobCode)&&void 0!==M?M:null,Nt=function Ri(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=De.mode)&&void 0!==I?I:null);K(Fe&&it&&Nt,"argument-error"),this.apiKey=Fe,this.operation=Nt,this.code=it,this.continueUrl=null!==(L=De.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==($=De.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ee=De.tenantId)&&void 0!==ee?ee:null}static parseLink(h){const g=function Cl(_){const h=(0,R.zd)((0,R.pd)(_)).link,g=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,M=(0,R.zd)((0,R.pd)(_)).deep_link_id;return(M?(0,R.zd)((0,R.pd)(M)).link:null)||M||g||h||_}(h);try{return new H1(g)}catch{return null}}}let ei=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,M){return dr._fromEmailAndPassword(g,M)}static credentialWithLink(g,M){const I=H1.parseLink(M);return K(I,"argument-error"),dr._fromEmailAndCode(g,I.code,I.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class U1{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class V1 extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class pr extends V1{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return K("providerId"in g&&"signInMethod"in g,"argument-error"),Te._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return K(h.idToken||h.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return pr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return pr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:M,oauthTokenSecret:I,pendingToken:L,nonce:$,providerId:ee}=h;if(!M&&!I&&!g&&!L||!ee)return null;try{return new pr(ee)._credential({idToken:g,accessToken:M,nonce:$,pendingToken:L})}catch{return null}}}let ac=(()=>{class _ extends V1{constructor(){super("facebook.com")}static credential(g){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Er=(()=>{class _ extends V1{constructor(){super("google.com"),this.addScope("profile")}static credential(g,M){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:M})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:M,oauthAccessToken:I}=g;if(!M&&!I)return null;try{return _.credential(M,I)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),qn=(()=>{class _ extends V1{constructor(){super("github.com")}static credential(g){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Cn extends ki{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return jn(h,this.buildRequest())}_linkToIdToken(h,g){const M=this.buildRequest();return M.idToken=g,jn(h,M)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,jn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:I,pendingToken:L}=g;return M&&I&&L&&M===I?new Cn(M,L):null}static _create(h,g){return new Cn(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $4 extends U1{constructor(h){K(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return $4.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return $4.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Cn.fromJSON(h);return K(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:M}=h;if(!g||!M)return null;try{return Cn._create(M,g)}catch{return null}}}let G4=(()=>{class _ extends V1{constructor(){super("twitter.com")}static credential(g,M){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:M})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:M,oauthTokenSecret:I}=g;if(!M||!I)return null;try{return _.credential(M,I)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Oi(_,h){return f1.apply(this,arguments)}function f1(){return(f1=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signUp",X(_,h))})).apply(this,arguments)}class d1{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,M,I=!1){return(0,m.Z)(function*(){const L=yield G2._fromIdTokenResponse(h,M,I),$=ti(M);return new d1({user:L,providerId:$,_tokenResponse:M,operationType:g})})()}static _forOperation(h,g,M){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(M,!0);const I=ti(M);return new d1({user:h,providerId:I,_tokenResponse:M,operationType:g})})()}}function ti(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Fi(_){return N2.apply(this,arguments)}function N2(){return(N2=(0,m.Z)(function*(_){var h;const g=u2(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new d1({user:g.currentUser,providerId:null,operationType:"signIn"});const M=yield Oi(g,{returnSecureToken:!0}),I=yield d1._fromIdTokenResponse(g,"signIn",M,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class cc extends R.ZR{constructor(h,g,M,I){var L;super(g.code,g.message),this.operationType=M,this.user=I,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:h.name,tenantId:null!==(L=h.tenantId)&&void 0!==L?L:void 0,_serverResponse:g.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(h,g,M,I){return new cc(h,g,M,I)}}function I1(_,h,g,M){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?cc._fromErrorAndOperation(_,L,h,M):L})}function h1(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function q4(_,h){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,m.Z)(function*(_,h){const g=(0,R.m9)(_);yield ni(!0,g,h);const{providerUserInfo:M}=yield function Jt(_,h){return E2.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),I=h1(M||[]);return g.providerData=g.providerData.filter(L=>I.has(L.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Wn.apply(this,arguments)}function Bi(_,h){return X1.apply(this,arguments)}function X1(){return(X1=(0,m.Z)(function*(_,h,g=!1){const M=yield jt(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return d1._forOperation(_,"link",M)})).apply(this,arguments)}function ni(_,h,g){return W4.apply(this,arguments)}function W4(){return(W4=(0,m.Z)(function*(_,h,g){yield On(h);const I=!1===_?"provider-already-linked":"no-such-provider";K(h1(h.providerData).has(g)===_,h.auth,I)})).apply(this,arguments)}function lc(_,h){return _l.apply(this,arguments)}function _l(){return(_l=(0,m.Z)(function*(_,h,g=!1){const{auth:M}=_,I="reauthenticate";try{const L=yield jt(_,I1(M,I,h,_),g);K(L.idToken,M,"internal-error");const $=Mt(L.idToken);K($,M,"internal-error");const{sub:ee}=$;return K(_.uid===ee,M,"user-mismatch"),d1._forOperation(_,I,L)}catch(L){throw"auth/user-not-found"===L?.code&&Z(M,"user-mismatch"),L}})).apply(this,arguments)}function Ml(_,h){return Z4.apply(this,arguments)}function Z4(){return(Z4=(0,m.Z)(function*(_,h,g=!1){const M="signIn",I=yield I1(_,M,h),L=yield d1._fromIdTokenResponse(_,M,I);return g||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function K4(_,h){return uc.apply(this,arguments)}function uc(){return(uc=(0,m.Z)(function*(_,h){return Ml(u2(_),h)})).apply(this,arguments)}function Gf(_,h){return wl.apply(this,arguments)}function wl(){return(wl=(0,m.Z)(function*(_,h){const g=(0,R.m9)(_);return yield ni(!1,g,h.providerId),Bi(g,h)})).apply(this,arguments)}function h2(_,h){return bl.apply(this,arguments)}function bl(){return(bl=(0,m.Z)(function*(_,h){return lc((0,R.m9)(_),h)})).apply(this,arguments)}function Hl(){return(Hl=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithCustomToken",X(_,h))})).apply(this,arguments)}function DC(_,h){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,m.Z)(function*(_,h){const g=u2(_),M=yield function xC(_,h){return Hl.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),I=yield d1._fromIdTokenResponse(g,"signIn",M);return yield g._updateCurrentUser(I.user),I}),Vl.apply(this,arguments)}class Y4{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Il._fromServerResponse(h,g):"totpInfo"in g?Zs._fromServerResponse(h,g):Z(h,"internal-error")}}class Il extends Y4{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Il(g)}}class Zs extends Y4{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Zs(g)}}function ri(_,h,g){var M;K((null===(M=g.url)||void 0===M?void 0:M.length)>0,_,"invalid-continue-uri"),K(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(K(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(K(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function AC(_,h,g){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,m.Z)(function*(_,h,g){var M;const I=u2(_),L={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=I._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const $=yield Un(I,L,"getOobCode",!0);g&&ri(I,$,g),yield js(I,$)}else g&&ri(I,L,g),yield js(I,L).catch(function(){var $=(0,m.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const De=yield Un(I,L,"getOobCode",!0);g&&ri(I,De,g),yield js(I,De)}});return function(ee){return $.apply(this,arguments)}}())}),Sl.apply(this,arguments)}function zl(_,h,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,m.Z)(function*(_,h,g){yield R4((0,R.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function fc(_,h){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,m.Z)(function*(_,h){yield function $f(_,h){return F1.apply(this,arguments)}((0,R.m9)(_),{oobCode:h})}),Ks.apply(this,arguments)}function mr(_,h){return Q4.apply(this,arguments)}function Q4(){return(Q4=(0,m.Z)(function*(_,h){const g=(0,R.m9)(_),M=yield R4(g,{oobCode:h}),I=M.requestType;switch(K(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(M.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(M.mfaInfo,g,"internal-error");default:K(M.email,g,"internal-error")}let L=null;return M.mfaInfo&&(L=Y4._fromServerResponse(u2(g),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:L},operation:I}})).apply(this,arguments)}function qf(_,h){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,m.Z)(function*(_,h){const{data:g}=yield mr((0,R.m9)(_),h);return g.email})).apply(this,arguments)}function dc(_,h,g){return El.apply(this,arguments)}function El(){return El=(0,m.Z)(function*(_,h,g){var M;const I=u2(_),L={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(M=I._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Fe=yield Un(I,L,"signUpPassword");$=Oi(I,Fe)}else $=Oi(I,L).catch(function(){var Fe=(0,m.Z)(function*(it){if("auth/missing-recaptcha-token"===it.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Nt=yield Un(I,L,"signUpPassword");return Oi(I,Nt)}return Promise.reject(it)});return function(it){return Fe.apply(this,arguments)}}());const ee=yield $.catch(Fe=>Promise.reject(Fe)),De=yield d1._fromIdTokenResponse(I,"signIn",ee);return yield I._updateCurrentUser(De.user),De}),El.apply(this,arguments)}function Wf(_,h,g){return K4((0,R.m9)(_),ei.credential(h,g))}function En(_,h,g){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,m.Z)(function*(_,h,g){var M;const I=u2(_),L={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function $(ee,De){K(De.handleCodeInApp,I,"argument-error"),De&&ri(I,ee,De)}if(null!==(M=I._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const ee=yield Un(I,L,"getOobCode",!0);$(ee,g),yield Gs(I,ee)}else $(L,g),yield Gs(I,L).catch(function(){var ee=(0,m.Z)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Fe=yield Un(I,L,"getOobCode",!0);$(Fe,g),yield Gs(I,Fe)}});return function(De){return ee.apply(this,arguments)}}())}),Lr.apply(this,arguments)}function Z2(_,h){const g=H1.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}function Ll(_,h,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_),I=ei.credentialWithLink(h,g||Dt());return K(I._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),K4(M,I)})).apply(this,arguments)}function Qs(){return(Qs=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:createAuthUri",X(_,h))})).apply(this,arguments)}function J4(_,h){return pc.apply(this,arguments)}function pc(){return pc=(0,m.Z)(function*(_,h){const M={identifier:h,continueUri:X2()?Dt():"http://localhost"},{signinMethods:I}=yield function hc(_,h){return Qs.apply(this,arguments)}((0,R.m9)(_),M);return I||[]}),pc.apply(this,arguments)}function TC(_,h){return Js.apply(this,arguments)}function Js(){return Js=(0,m.Z)(function*(_,h){const g=(0,R.m9)(_),I={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&ri(g.auth,I,h);const{email:L}=yield function B4(_,h){return U4.apply(this,arguments)}(g.auth,I);L!==_.email&&(yield _.reload())}),Js.apply(this,arguments)}function mc(_,h,g){return X4.apply(this,arguments)}function X4(){return X4=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&ri(M.auth,L,g);const{email:$}=yield function q2(_,h){return W2.apply(this,arguments)}(M.auth,L);$!==_.email&&(yield _.reload())}),X4.apply(this,arguments)}function gc(){return(gc=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function NC(_,h){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,m.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const M=(0,R.m9)(_),L={idToken:yield M.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},$=yield jt(M,function Xs(_,h){return gc.apply(this,arguments)}(M.auth,L));M.displayName=$.displayName||null,M.photoURL=$.photoUrl||null;const ee=M.providerData.find(({providerId:De})=>"password"===De);ee&&(ee.displayName=M.displayName,ee.photoURL=M.photoURL),yield M._updateTokensIfNecessary($)}),Dl.apply(this,arguments)}function Zf(_,h){return Tl((0,R.m9)(_),h,null)}function Al(_,h){return Tl((0,R.m9)(_),null,h)}function Tl(_,h,g){return vc.apply(this,arguments)}function vc(){return(vc=(0,m.Z)(function*(_,h,g){const{auth:M}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(L.email=h),g&&(L.password=g);const $=yield jt(_,ic(M,L));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class ii{constructor(h,g,M={}){this.isNewUser=h,this.providerId=g,this.profile=M}}class Nl extends ii{constructor(h,g,M,I){super(h,g,M),this.username=I}}class e3 extends ii{constructor(h,g){super(h,"facebook.com",g)}}class Cc extends Nl{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class t3 extends ii{constructor(h,g){super(h,"google.com",g)}}class Ui extends Nl{constructor(h,g,M){super(h,"twitter.com",g,M)}}function eo(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function yc(_){var h,g;if(!_)return null;const{providerId:M}=_,I=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!M&&_?.idToken){const $=null===(g=null===(h=Mt(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new ii(L,"anonymous"!==$&&"custom"!==$?$:null)}if(!M)return null;switch(M){case"facebook.com":return new e3(L,I);case"github.com":return new Cc(L,I);case"google.com":return new t3(L,I);case"twitter.com":return new Ui(L,I,_.screenName||null);case"custom":case"anonymous":return new ii(L,null);default:return new ii(L,M,I)}}(g)}class S1{constructor(h,g,M){this.type=h,this.credential=g,this.auth=M}static _fromIdtoken(h,g){return new S1("enroll",h,g)}static _fromMfaPendingCredential(h){return new S1("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,M;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return S1._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(M=h.multiFactorSession)&&void 0!==M&&M.idToken)return S1._fromIdtoken(h.multiFactorSession.idToken)}return null}}class t1{constructor(h,g,M){this.session=h,this.hints=g,this.signInResolver=M}static _fromError(h,g){const M=u2(h),I=g.customData._serverResponse,L=(I.mfaInfo||[]).map(ee=>Y4._fromServerResponse(M,ee));K(I.mfaPendingCredential,M,"internal-error");const $=S1._fromMfaPendingCredential(I.mfaPendingCredential);return new t1($,L,function(){var ee=(0,m.Z)(function*(De){const Fe=yield De._process(M,$);delete I.mfaInfo,delete I.mfaPendingCredential;const it=Object.assign(Object.assign({},I),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(g.operationType){case"signIn":const Nt=yield d1._fromIdTokenResponse(M,g.operationType,it);return yield M._updateCurrentUser(Nt.user),Nt;case"reauthenticate":return K(g.user,M,"internal-error"),d1._forOperation(g.user,g.operationType,it);default:Z(M,"internal-error")}});return function(De){return ee.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,m.Z)(function*(){return g.signInResolver(h)})()}}function Rl(_,h){var g;const M=(0,R.m9)(_),I=h;return K(h.customData.operationType,M,"argument-error"),K(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,M,"argument-error"),t1._fromError(M,I)}class ji{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(M=>Y4._fromServerResponse(h.auth,M)))})}static _fromUser(h){return new ji(h)}getSession(){var h=this;return(0,m.Z)(function*(){return S1._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var M=this;return(0,m.Z)(function*(){const I=h,L=yield M.getSession(),$=yield jt(M.user,I._process(M.user.auth,L,g));return yield M.user._updateTokensIfNecessary($),M.user.reload()})()}unenroll(h){var g=this;return(0,m.Z)(function*(){const M="string"==typeof h?h:h.uid,I=yield g.user.getIdToken();try{const L=yield jt(g.user,function Bl(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:withdraw",X(_,h))}(g.user.auth,{idToken:I,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==M),yield g.user._updateTokensIfNecessary(L),yield g.user.reload()}catch(L){throw L}})()}}const $i=new WeakMap;function r3(_){const h=(0,R.m9)(_);return $i.has(h)||$i.set(h,ji._fromUser(h)),$i.get(h)}const i3="__sak";class yt{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(i3,"1"),this.storage.removeItem(i3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const bc=(()=>{class _ extends yt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,M)=>this.onStorageEvent(g,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function no(){const _=(0,R.z$)();return D(_)||$e(_)}()&&function c1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=It(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const M of Object.keys(this.listeners)){const I=this.storage.getItem(M),L=this.localCache[M];I!==L&&g(M,L,I)}}onStorageEvent(g,M=!1){if(!g.key)return void this.forAllChangedKeys((ee,De,Fe)=>{this.notifyListeners(ee,Fe)});const I=g.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(I);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!M)return}const L=()=>{const ee=this.storage.getItem(I);!M&&this.localCache[I]===ee||this.notifyListeners(I,ee)},$=this.storage.getItem(I);!function Xt(){return(0,R.w1)()&&10===document.documentMode}()||$===g.newValue||g.newValue===g.oldValue?L():setTimeout(L,10)}notifyListeners(g,M){this.localCache[g]=M;const I=this.listeners[g];if(I)for(const L of Array.from(I))L(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,M,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:M,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,M){var I=()=>super._set,L=this;return(0,m.Z)(function*(){yield I().call(L,g,M),L.localCache[g]=JSON.stringify(M)})()}_get(g){var M=()=>super._get,I=this;return(0,m.Z)(function*(){const L=yield M().call(I,g);return I.localCache[g]=JSON.stringify(L),L})()}_remove(g){var M=()=>super._remove,I=this;return(0,m.Z)(function*(){yield M().call(I,g),delete I.localCache[g]})()}}return _.type="LOCAL",_})(),gr=(()=>{class _ extends yt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,M){}_removeListener(g,M){}}return _.type="SESSION",_})();let $l=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const M=this.receivers.find(L=>L.isListeningto(g));if(M)return M;const I=new _(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var M=this;return(0,m.Z)(function*(){const I=g,{eventId:L,eventType:$,data:ee}=I.data,De=M.handlersMap[$];if(!De?.size)return;I.ports[0].postMessage({status:"ack",eventId:L,eventType:$});const Fe=Array.from(De).map(function(){var Nt=(0,m.Z)(function*(K2){return K2(I.origin,ee)});return function(K2){return Nt.apply(this,arguments)}}()),it=yield function jl(_){return Promise.all(_.map(function(){var h=(0,m.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(M){return{fulfilled:!1,reason:M}}});return function(g){return h.apply(this,arguments)}}()))}(Fe);I.ports[0].postMessage({status:"done",eventId:L,eventType:$,response:it})})()}_subscribe(g,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(M)}_unsubscribe(g,M){this.handlersMap[g]&&M&&this.handlersMap[g].delete(M),(!M||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function s3(_="",h=10){let g="";for(let M=0;M<h;M++)g+=Math.floor(10*Math.random());return _+g}class Yf{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,M=50){var I=this;return(0,m.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let $,ee;return new Promise((De,Fe)=>{const it=s3("",20);L.port1.start();const Nt=setTimeout(()=>{Fe(new Error("unsupported_event"))},M);ee={messageChannel:L,onMessage(K2){const Jn=K2;if(Jn.data.eventId===it)switch(Jn.data.status){case"ack":clearTimeout(Nt),$=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout($),De(Jn.data.response);break;default:clearTimeout(Nt),clearTimeout($),Fe(new Error("invalid_response"))}}},I.handlers.add(ee),L.port1.addEventListener("message",ee.onMessage),I.target.postMessage({eventType:h,eventId:it,data:g},[L.port2])}).finally(()=>{ee&&I.removeMessageHandler(ee)})})()}}function _2(){return window}function Ot(){return typeof _2().WorkerGlobalScope<"u"&&"function"==typeof _2().importScripts}function o3(){return(o3=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oi="firebaseLocalStorageDb",Dr="firebaseLocalStorage",vr="fbase_key";class a3{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function io(_,h){return _.transaction([Dr],h?"readwrite":"readonly").objectStore(Dr)}function n1(){const _=indexedDB.open(oi,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const M=_.result;try{M.createObjectStore(Dr,{keyPath:vr})}catch(I){g(I)}}),_.addEventListener("success",(0,m.Z)(function*(){const M=_.result;M.objectStoreNames.contains(Dr)?h(M):(M.close(),yield function Gl(){const _=indexedDB.deleteDatabase(oi);return new a3(_).toPromise()}(),h(yield n1()))}))})}function Ln(_,h,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,m.Z)(function*(_,h,g){const M=io(_,!0).put({[vr]:h,value:g});return new a3(M).toPromise()})).apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(_,h){const g=io(_,!1).get(h),M=yield new a3(g).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Sc(_,h){const g=io(_,!0).delete(h);return new a3(g).toPromise()}const so=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,m.Z)(function*(){return g.db||(g.db=yield n1()),g.db})()}_withRetries(g){var M=this;return(0,m.Z)(function*(){let I=0;for(;;)try{const L=yield M._openDb();return yield g(L)}catch(L){if(I++>3)throw L;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,m.Z)(function*(){return Ot()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,m.Z)(function*(){g.receiver=$l._getInstance(function Ic(){return Ot()?self:null}()),g.receiver._subscribe("keyChanged",function(){var M=(0,m.Z)(function*(I,L){return{keyProcessed:(yield g._poll()).includes(L.key)}});return function(I,L){return M.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var M=(0,m.Z)(function*(I,L){return["keyChanged"]});return function(I,L){return M.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,m.Z)(function*(){var M,I;if(g.activeServiceWorker=yield function Vc(){return o3.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Yf(g.activeServiceWorker);const L=yield g.sender._send("ping",{},800);L&&null!==(M=L[0])&&void 0!==M&&M.fulfilled&&null!==(I=L[0])&&void 0!==I&&I.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var M=this;return(0,m.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function O2(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:g},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const g=yield n1();return yield Ln(g,i3,"1"),yield Sc(g,i3),!0}catch{}return!1})()}_withPendingWrite(g){var M=this;return(0,m.Z)(function*(){M.pendingWrites++;try{yield g()}finally{M.pendingWrites--}})()}_set(g,M){var I=this;return(0,m.Z)(function*(){return I._withPendingWrite((0,m.Z)(function*(){return yield I._withRetries(L=>Ln(L,g,M)),I.localCache[g]=M,I.notifyServiceWorker(g)}))})()}_get(g){var M=this;return(0,m.Z)(function*(){const I=yield M._withRetries(L=>function j1(_,h){return Mn.apply(this,arguments)}(L,g));return M.localCache[g]=I,I})()}_remove(g){var M=this;return(0,m.Z)(function*(){return M._withPendingWrite((0,m.Z)(function*(){return yield M._withRetries(I=>Sc(I,g)),delete M.localCache[g],M.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,m.Z)(function*(){const M=yield g._withRetries($=>{const ee=io($,!1).getAll();return new a3(ee).toPromise()});if(!M)return[];if(0!==g.pendingWrites)return[];const I=[],L=new Set;for(const{fbase_key:$,value:ee}of M)L.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(ee)&&(g.notifyListeners($,ee),I.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!L.has($)&&(g.notifyListeners($,null),I.push($));return I})()}notifyListeners(g,M){this.localCache[g]=M;const I=this.listeners[g];if(I)for(const L of Array.from(I))L(M)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),qi=1e12;class Wl{constructor(h){this.auth=h,this.counter=qi,this._widgets=new Map}render(h,g){const M=this.counter;return this._widgets.set(M,new Zl(h,this.auth.name,g||{})),this.counter++,M}reset(h){var g;const M=h||qi;null===(g=this._widgets.get(M))||void 0===g||g.delete(),this._widgets.delete(M)}getResponse(h){var g;return(null===(g=this._widgets.get(h||qi))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,m.Z)(function*(){var M;return null===(M=g._widgets.get(h||qi))||void 0===M||M.execute(),""})()}}class Zl{constructor(h,g,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof h?document.getElementById(h):h;K(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oo(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<_;M++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const l3=e1("rcb"),u3=new pn(3e4,6e4);class Jf{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=_2().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return K(function z1(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Oe(_2().grecaptcha)?Promise.resolve(_2().grecaptcha):new Promise((M,I)=>{const L=_2().setTimeout(()=>{I(ue(h,"network-request-failed"))},u3.get());_2()[l3]=()=>{_2().clearTimeout(L),delete _2()[l3];const ee=_2().grecaptcha;if(!ee||!Oe(ee))return void I(ue(h,"internal-error"));const De=ee.render;ee.render=(Fe,it)=>{const Nt=De(Fe,it);return this.counter++,Nt},this.hostLanguage=g,M(ee)},l2(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:l3,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(L),I(ue(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=_2().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ai{load(h){return(0,m.Z)(function*(){return new Wl(h)})()}clearedOneInstance(){}}const a2="recaptcha",Xf={theme:"light",type:"image"};class e9{constructor(h,g=Object.assign({},Xf),M){this.parameters=g,this.type=a2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=u2(M),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof h?document.getElementById(h):h;K(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ai:new Jf,this.validateStartingState()}verify(){var h=this;return(0,m.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),M=h.getAssertedRecaptcha();return M.getResponse(g)||new Promise(L=>{const $=ee=>{ee&&(h.tokenChangeListeners.delete($),L(ee))};h.tokenChangeListeners.add($),h.isInvisible&&M.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(M=>M(g)),"function"==typeof h)h(g);else if("string"==typeof h){const M=_2()[h];"function"==typeof M&&M(g)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,m.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const M=document.createElement("div");g.appendChild(M),g=M}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,m.Z)(function*(){K(X2()&&!Ot(),h.auth,"internal-error"),yield function t9(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function se(_){return Y.apply(this,arguments)}(h.auth);K(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ac{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=pt._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Tc(_,h,g){return f3.apply(this,arguments)}function f3(){return(f3=(0,m.Z)(function*(_,h,g){const M=u2(_),I=yield Ar(M,h,(0,R.m9)(g));return new Ac(I,L=>K4(M,L))})).apply(this,arguments)}function d3(_,h,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);yield ni(!1,M,"phone");const I=yield Ar(M.auth,h,(0,R.m9)(g));return new Ac(I,L=>Gf(M,L))})).apply(this,arguments)}function Kl(_,h,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_),I=yield Ar(M.auth,h,(0,R.m9)(g));return new Ac(I,L=>h2(M,L))})).apply(this,arguments)}function Ar(_,h,g){return li.apply(this,arguments)}function li(){return li=(0,m.Z)(function*(_,h,g){var M;const I=yield g.verify();try{let L;if(K("string"==typeof I,_,"argument-error"),K(g.type===a2,_,"argument-error"),L="string"==typeof h?{phoneNumber:h}:h,"session"in L){const $=L.session;if("phoneNumber"in L)return K("enroll"===$.type,_,"internal-error"),(yield function Ol(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:start",X(_,h))}(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{K("signin"===$.type,_,"internal-error");const ee=(null===(M=L.multiFactorHint)||void 0===M?void 0:M.uid)||L.multiFactorUid;return K(ee,_,"missing-multi-factor-info"),(yield function Ec(_,h){return he(_,"POST","/v2/accounts/mfaSignIn:start",X(_,h))}(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function wt(_,h){return n2.apply(this,arguments)}(_,{phoneNumber:L.phoneNumber,recaptchaToken:I});return $}}finally{g._reset()}}),li.apply(this,arguments)}function ao(_,h){return h3.apply(this,arguments)}function h3(){return(h3=(0,m.Z)(function*(_,h){yield Bi((0,R.m9)(_),h)})).apply(this,arguments)}let Nc=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=u2(g)}verifyPhoneNumber(g,M){return Ar(this.auth,g,(0,R.m9)(M))}static credential(g,M){return pt._fromVerification(g,M)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:M,temporaryProof:I}=g;return M&&I?pt._fromTokenResponse(M,I):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Tr(_,h){return h?c2(h):(K(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Yn extends ki{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return jn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return jn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return jn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Wi(_){return Ml(_.auth,new Yn(_),_.bypassAuthState)}function Yl(_){const{auth:h,user:g}=_;return K(g,h,"internal-error"),lc(g,new Yn(_),_.bypassAuthState)}function Ql(_){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,m.Z)(function*(_){const{auth:h,user:g}=_;return K(g,h,"internal-error"),Bi(g,new Yn(_),_.bypassAuthState)})).apply(this,arguments)}class Jl{constructor(h,g,M,I,L=!1){this.auth=h,this.resolver=M,this.user=I,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,m.Z)(function*(M,I){h.pendingPromise={resolve:M,reject:I};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(L){h.reject(L)}});return function(M,I){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,m.Z)(function*(){const{urlResponse:M,sessionId:I,postBody:L,tenantId:$,error:ee,type:De}=h;if(ee)return void g.reject(ee);const Fe={auth:g.auth,requestUri:M,sessionId:I,tenantId:$||void 0,postBody:L||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(De)(Fe))}catch(it){g.reject(it)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Wi;case"linkViaPopup":case"linkViaRedirect":return Ql;case"reauthViaPopup":case"reauthViaRedirect":return Yl;default:Z(this.auth,"internal-error")}}resolve(h){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kc=new pn(2e3,1e4);function Xl(_,h,g){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,m.Z)(function*(_,h,g){const M=u2(_);pe(_,h,U1);const I=Tr(M,g);return new Nr(M,"signInViaPopup",h,I).executeNotNull()})).apply(this,arguments)}function e8(_,h,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);pe(M.auth,h,U1);const I=Tr(M.auth,g);return new Nr(M.auth,"reauthViaPopup",h,I,M).executeNotNull()})).apply(this,arguments)}function Yi(_,h,g){return p3.apply(this,arguments)}function p3(){return(p3=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);pe(M.auth,h,U1);const I=Tr(M.auth,g);return new Nr(M.auth,"linkViaPopup",h,I,M).executeNotNull()})).apply(this,arguments)}let Nr=(()=>{class _ extends Jl{constructor(g,M,I,L,$){super(g,M,L,$),this.provider=I,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,m.Z)(function*(){const M=yield g.execute();return K(M,g.auth,"internal-error"),M})()}onExecution(){var g=this;return(0,m.Z)(function*(){nt(1===g.filter.length,"Popup operations only handle one event");const M=s3();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],M),g.authWindow.associatedEvent=M,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(ue(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var M,I;this.pollId=null!==(I=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,kc.get())};g()}}return _.currentPopupAction=null,_})();const co="pendingRedirect",Dn=new Map;class n9 extends Jl{constructor(h,g,M=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,M),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,m.Z)(function*(){let M=Dn.get(g.auth._key());if(!M){try{const L=(yield function Rc(_,h){return m3.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;M=()=>Promise.resolve(L)}catch(I){M=()=>Promise.reject(I)}Dn.set(g.auth._key(),M)}return g.bypassAuthState||Dn.set(g.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,M=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(M,h);if("unknown"!==h.type){if(h.eventId){const I=yield M.auth._redirectUserForId(h.eventId);if(I)return M.user=I,g().call(M,h);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function m3(){return(m3=(0,m.Z)(function*(_,h){const g=uo(h),M=g3(_);if(!(yield M._isAvailable()))return!1;const I="true"===(yield M._get(g));return yield M._remove(g),I})).apply(this,arguments)}function lo(_,h){return en.apply(this,arguments)}function en(){return(en=(0,m.Z)(function*(_,h){return g3(_)._set(uo(h),"true")})).apply(this,arguments)}function t8(){Dn.clear()}function ui(_,h){Dn.set(_._key(),h)}function g3(_){return c2(_._redirectPersistence)}function uo(_){return yn(co,_.config.apiKey,_.name)}function v3(_,h,g){return function y3(_,h,g){return fo.apply(this,arguments)}(_,h,g)}function fo(){return(fo=(0,m.Z)(function*(_,h,g){const M=u2(_);pe(_,h,U1),yield M._initializationPromise;const I=Tr(M,g);return yield lo(I,M),I._openRedirect(M,h,"signInViaRedirect")})).apply(this,arguments)}function Oc(_,h,g){return function ho(_,h,g){return C3.apply(this,arguments)}(_,h,g)}function C3(){return(C3=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);pe(M.auth,h,U1),yield M.auth._initializationPromise;const I=Tr(M.auth,g);yield lo(I,M.auth);const L=yield kr(M);return I._openRedirect(M.auth,h,"reauthViaRedirect",L)})).apply(this,arguments)}function po(_,h,g){return function n8(_,h,g){return fi.apply(this,arguments)}(_,h,g)}function fi(){return(fi=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);pe(M.auth,h,U1),yield M.auth._initializationPromise;const I=Tr(M.auth,g);yield ni(!1,M,h.providerId),yield lo(I,M.auth);const L=yield kr(M);return I._openRedirect(M.auth,h,"linkViaRedirect",L)})).apply(this,arguments)}function yr(_,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(_,h){return yield u2(_)._initializationPromise,_3(_,h,!1)})).apply(this,arguments)}function _3(_,h){return M3.apply(this,arguments)}function M3(){return(M3=(0,m.Z)(function*(_,h,g=!1){const M=u2(_),I=Tr(M,h),$=yield new n9(M,I,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield M._persistUserIfCurrent($.user),yield M._setRedirectUser(null,h)),$})).apply(this,arguments)}function kr(_){return go.apply(this,arguments)}function go(){return(go=(0,m.Z)(function*(_){const h=s3(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Fc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(h,M)&&(g=!0,this.sendToConsumer(h,M),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function r8(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w3(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var M;if(h.error&&!w3(h)){const I=(null===(M=h.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";g.onError(ue(this.auth,I))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const M=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&M}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bc(h))}saveEventToCache(h){this.cachedEventUids.add(Bc(h)),this.lastProcessedEventTime=Date.now()}}function Bc(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function w3({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function vo(_){return di.apply(this,arguments)}function di(){return(di=(0,m.Z)(function*(_,h={}){return he(_,"GET","/v1/projects",h)})).apply(this,arguments)}const hi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pr=/^https?/;function Qi(){return(Qi=(0,m.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield vo(_);for(const g of h)try{if(yo(g))return}catch{}Z(_,"unauthorized-domain")})).apply(this,arguments)}function yo(_){const h=Dt(),{protocol:g,hostname:M}=new URL(h);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===M?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===M}if(!Pr.test(g))return!1;if(hi.test(_))return M===_;const I=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(M)}const mi=new pn(3e4,6e4);function Uc(){const _=_2().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Co=null;const s8=new pn(5e3,15e3),i9="__/auth/iframe",s9="emulator/auth/iframe",o9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jc(_){const h=_.config;K(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?ur(h,s9):`https://${_.config.authDomain}/${i9}`,M={apiKey:h.apiKey,appName:_.name,v:T.SDK_VERSION},I=gi.get(_.config.apiHost);I&&(M.eid=I);const L=_._getFrameworks();return L.length&&(M.fw=L.join(",")),`${g}?${(0,R.xO)(M).slice(1)}`}function M2(){return M2=(0,m.Z)(function*(_){const h=yield function r9(_){return Co=Co||function i8(_){return new Promise((h,g)=>{var M,I,L;function $(){Uc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Uc(),g(ue(_,"network-request-failed"))},timeout:mi.get()})}if(null!==(I=null===(M=_2().gapi)||void 0===M?void 0:M.iframes)&&void 0!==I&&I.Iframe)h(gapi.iframes.getContext());else{if(null===(L=_2().gapi)||void 0===L||!L.load){const ee=e1("iframefcb");return _2()[ee]=()=>{gapi.load?$():g(ue(_,"network-request-failed"))},l2(`https://apis.google.com/js/api.js?onload=${ee}`).catch(De=>g(De))}$()}}).catch(h=>{throw Co=null,h})}(_),Co}(_),g=_2().gapi;return K(g,_,"internal-error"),h.open({where:document.body,url:jc(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o9,dontclear:!0},M=>new Promise(function(){var I=(0,m.Z)(function*(L,$){yield M.restyle({setHideOnLeave:!1});const ee=ue(_,"network-request-failed"),De=_2().setTimeout(()=>{$(ee)},s8.get());function Fe(){_2().clearTimeout(De),L(M)}M.ping(Fe).then(Fe,()=>{$(ee)})});return function(L,$){return I.apply(this,arguments)}}()))}),M2.apply(this,arguments)}const $c={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _o{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const a8="__/auth/handler",a9="emulator/auth/handler",c8=encodeURIComponent("fac");function Mo(_,h,g,M,I,L){return m1.apply(this,arguments)}function m1(){return(m1=(0,m.Z)(function*(_,h,g,M,I,L){K(_.config.authDomain,_,"auth-domain-config-required"),K(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:M,v:T.SDK_VERSION,eventId:I};if(h instanceof U1){h.setDefaultLanguage(_.languageCode),$.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||($.customParameters=JSON.stringify(h.getCustomParameters()));for(const[it,Nt]of Object.entries(L||{}))$[it]=Nt}if(h instanceof V1){const it=h.getScopes().filter(Nt=>""!==Nt);it.length>0&&($.scopes=it.join(","))}_.tenantId&&($.tid=_.tenantId);const ee=$;for(const it of Object.keys(ee))void 0===ee[it]&&delete ee[it];const De=yield _._getAppCheckToken(),Fe=De?`#${c8}=${encodeURIComponent(De)}`:"";return`${function wo({config:_}){return _.emulator?ur(_,a9):`https://${_.authDomain}/${a8}`}(_)}?${(0,R.xO)(ee).slice(1)}${Fe}`})).apply(this,arguments)}const Qn="webStorageSupport",bo=class c9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gr,this._completeRedirectFn=_3,this._overrideRedirectResult=ui}_openPopup(h,g,M,I){var L=this;return(0,m.Z)(function*(){var $;nt(null===($=L.eventManagers[h._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ee=yield Mo(h,g,M,Dt(),I);return function b3(_,h,g,M=500,I=600){const L=Math.max((window.screen.availHeight-I)/2,0).toString(),$=Math.max((window.screen.availWidth-M)/2,0).toString();let ee="";const De=Object.assign(Object.assign({},$c),{width:M.toString(),height:I.toString(),top:L,left:$}),Fe=(0,R.z$)().toLowerCase();g&&(ee=E(Fe)?"_blank":g),x(Fe)&&(h=h||"http://localhost",De.scrollbars="yes");const it=Object.entries(De).reduce((K2,[Jn,rs])=>`${K2}${Jn}=${rs},`,"");if(function vt(_=(0,R.z$)()){var h;return $e(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Fe)&&"_self"!==ee)return function Xi(_,h){const g=document.createElement("a");g.href=_,g.target=h;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(M)}(h||"",ee),new _o(null);const Nt=window.open(h||"",ee,it);K(Nt,_,"popup-blocked");try{Nt.focus()}catch{}return new _o(Nt)}(h,ee,s3())})()}_openRedirect(h,g,M,I){var L=this;return(0,m.Z)(function*(){return yield L._originValidation(h),function ve(_){_2().location.href=_}(yield Mo(h,g,M,Dt(),I)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:I,promise:L}=this.eventManagers[g];return I?Promise.resolve(I):(nt(L,"If manager is not set, promise should be"),L)}const M=this.initAndGetManager(h);return this.eventManagers[g]={promise:M},M.catch(()=>{delete this.eventManagers[g]}),M}initAndGetManager(h){var g=this;return(0,m.Z)(function*(){const M=yield function o8(_){return M2.apply(this,arguments)}(h),I=new Fc(h);return M.register("authEvent",L=>(K(L?.authEvent,h,"invalid-auth-event"),{status:I.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:I},g.iframes[h._key()]=M,I})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Qn,{type:Qn},I=>{var L;const $=null===(L=I?.[0])||void 0===L?void 0:L[Qn];void 0!==$&&g(!!$),Z(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function pi(_){return Qi.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return It()||D()||$e()}};class qc{constructor(h){this.factorId=h}_process(h,g,M){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,M);case"signin":return this._finalizeSignIn(h,g.credential);default:return et("unexpected MultiFactorSessionType")}}}class Ho extends qc{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ho(h)}_finalizeEnroll(h,g,M){return function Fl(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:finalize",X(_,h))}(h,{idToken:g,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Lc(_,h){return he(_,"POST","/v2/accounts/mfaSignIn:finalize",X(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let l8=(()=>{class _{constructor(){}static assertion(g){return Ho._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var es="@firebase/auth";class ts{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,m.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(M=>{h(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Kc=(0,R.Pz)("authIdTokenMaxAge")||300;let ns=null;const H3=_=>function(){var h=(0,m.Z)(function*(g){const M=g&&(yield g.getIdTokenResult()),I=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(I&&I>Kc)return;const L=M?.token;ns!==L&&(ns=L,yield fetch(_,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function Yc(_=(0,T.getApp)()){const h=(0,T._getProvider)(_,"auth");if(h.isInitialized())return h.getImmediate();const g=function Fs(_,h){const g=(0,T._getProvider)(_,"auth");if(g.isInitialized()){const I=g.getImmediate(),L=g.getOptions();if((0,R.vZ)(L,h??{}))return I;Z(I,"already-initialized")}return g.initialize({options:h})}(_,{popupRedirectResolver:bo,persistence:[so,bc,gr]}),M=(0,R.Pz)("authTokenSyncURL");if(M){const L=H3(M);(function Mc(_,h,g){(0,R.m9)(_).beforeAuthStateChanged(h,g)})(g,L,()=>L(g.currentUser)),function _c(_,h,g,M){(0,R.m9)(_).onIdTokenChanged(h,g,M)}(g,$=>L($))}const I=(0,R.q4)("auth");return I&&N4(g,`http://${I}`),g}!function Io(_){(0,T._registerComponent)(new we.wA("auth",(h,{options:g})=>{const M=h.getProvider("app").getImmediate(),I=h.getProvider("heartbeat"),L=h.getProvider("app-check-internal"),{apiKey:$,authDomain:ee}=M.options;K($&&!$.includes(":"),"invalid-api-key",{appName:M.name});const De={apiKey:$,authDomain:ee,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sr(_)},Fe=new T4(M,I,L,De);return function vl(_,h){const g=h?.persistence||[],M=(Array.isArray(g)?g:[g]).map(c2);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(M,h?.popupRedirectResolver)}(Fe,g),Fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,M)=>{h.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new we.wA("auth-internal",h=>{const g=u2(h.getProvider("auth").getImmediate());return new ts(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(es,"0.23.2",function f8(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,T.registerVersion)(es,"0.23.2","esm2017")}("Browser")},9058:(ht,Ie,k)=>{k.d(Ie,{$s:()=>c2,BH:()=>J,G6:()=>ur,L:()=>Ee,LL:()=>ze,P0:()=>Je,Pz:()=>ue,Rd:()=>He,Sg:()=>pe,UG:()=>et,US:()=>we,ZB:()=>re,ZR:()=>he,aH:()=>Z,b$:()=>X2,eu:()=>ie,hl:()=>te,jU:()=>nt,k$:()=>vn,m9:()=>yn,ne:()=>jt,pd:()=>Mt,q4:()=>Ke,r3:()=>Jt,ru:()=>Dt,tV:()=>O,uI:()=>K,vZ:()=>s1,w1:()=>Rn,xO:()=>zn,xb:()=>k1,z$:()=>Le,zI:()=>fe,zd:()=>ut});const oe=function(F){const P=[];let x=0;for(let D=0;D<F.length;D++){let E=F.charCodeAt(D);E<128?P[x++]=E:E<2048?(P[x++]=E>>6|192,P[x++]=63&E|128):55296==(64512&E)&&D+1<F.length&&56320==(64512&F.charCodeAt(D+1))?(E=65536+((1023&E)<<10)+(1023&F.charCodeAt(++D)),P[x++]=E>>18|240,P[x++]=E>>12&63|128,P[x++]=E>>6&63|128,P[x++]=63&E|128):(P[x++]=E>>12|224,P[x++]=E>>6&63|128,P[x++]=63&E|128)}return P},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,D=[];for(let E=0;E<F.length;E+=3){const q=F[E],de=E+1<F.length,Ne=de?F[E+1]:0,gt=E+2<F.length,$e=gt?F[E+2]:0;let Xt=(15&Ne)<<2|$e>>6,It=63&$e;gt||(It=64,de||(Xt=64)),D.push(x[q>>2],x[(3&q)<<4|Ne>>4],x[Xt],x[It])}return D.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(oe(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let x=0,D=0;for(;x<F.length;){const E=F[x++];if(E<128)P[D++]=String.fromCharCode(E);else if(E>191&&E<224){const q=F[x++];P[D++]=String.fromCharCode((31&E)<<6|63&q)}else if(E>239&&E<365){const gt=((7&E)<<18|(63&F[x++])<<12|(63&F[x++])<<6|63&F[x++])-65536;P[D++]=String.fromCharCode(55296+(gt>>10)),P[D++]=String.fromCharCode(56320+(1023&gt))}else{const q=F[x++],de=F[x++];P[D++]=String.fromCharCode((15&E)<<12|(63&q)<<6|63&de)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const x=P?this.charToByteMapWebSafe_:this.charToByteMap_,D=[];for(let E=0;E<F.length;){const q=x[F.charAt(E++)],Ne=E<F.length?x[F.charAt(E)]:0;++E;const $e=E<F.length?x[F.charAt(E)]:64;++E;const vt=E<F.length?x[F.charAt(E)]:64;if(++E,null==q||null==Ne||null==$e||null==vt)throw new xe;D.push(q<<2|Ne>>4),64!==$e&&(D.push(Ne<<4&240|$e>>2),64!==vt&&D.push($e<<6&192|vt))}return D},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(F){return function(F){const P=oe(F);return we.encodeByteArray(P,!0)}(F).replace(/\./g,"")},O=function(F){try{return we.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function re(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const x in P)!P.hasOwnProperty(x)||!Re(x)||(F[x]=re(F[x],P[x]));return F}function Re(F){return"__proto__"!==F}function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ae=()=>{try{return He().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&O(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Ke=F=>{var P,x;return null===(x=null===(P=Ae())||void 0===P?void 0:P.emulatorHosts)||void 0===x?void 0:x[F]},Je=F=>{const P=Ke(F);if(!P)return;const x=P.lastIndexOf(":");if(x<=0||x+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const D=parseInt(P.substring(x+1),10);return"["===P[0]?[P.substring(1,x-1),D]:[P.substring(0,x),D]},Z=()=>{var F;return null===(F=Ae())||void 0===F?void 0:F.config},ue=F=>{var P;return null===(P=Ae())||void 0===P?void 0:P[`_${F}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,x)=>{this.resolve=P,this.reject=x})}wrapCallback(P){return(x,D)=>{x?this.reject(x):this.resolve(D),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(x):P(x,D))}}}function pe(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const D=P||"demo-project",E=F.iat||0,q=F.sub||F.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${D}`,aud:D,iat:E,exp:E+3600,auth_time:E,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(de)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function et(){var F;const P=null===(F=Ae())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function Dt(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function X2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Rn(){const F=Le();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function ur(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function ie(){return new Promise((F,P)=>{try{let x=!0;const D="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(D);E.onsuccess=()=>{E.result.close(),x||self.indexedDB.deleteDatabase(D),F(!0)},E.onupgradeneeded=()=>{x=!1},E.onerror=()=>{var q;P((null===(q=E.error)||void 0===q?void 0:q.message)||"")}}catch(x){P(x)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class he extends Error{constructor(P,x,D){super(x),this.code=P,this.customData=D,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(P,x,D){this.service=P,this.serviceName=x,this.errors=D}create(P,...x){const D=x[0]||{},E=`${this.service}/${P}`,q=this.errors[P],de=q?function Qe(F,P){return F.replace(ke,(x,D)=>{const E=P[D];return null!=E?String(E):`<${D}?>`})}(q,D):"Error";return new he(E,`${this.serviceName}: ${de} (${E}).`,D)}}const ke=/\{\$([^}]+)}/g;function Jt(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function k1(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function s1(F,P){if(F===P)return!0;const x=Object.keys(F),D=Object.keys(P);for(const E of x){if(!D.includes(E))return!1;const q=F[E],de=P[E];if(v2(q)&&v2(de)){if(!s1(q,de))return!1}else if(q!==de)return!1}for(const E of D)if(!x.includes(E))return!1;return!0}function v2(F){return null!==F&&"object"==typeof F}function zn(F){const P=[];for(const[x,D]of Object.entries(F))Array.isArray(D)?D.forEach(E=>{P.push(encodeURIComponent(x)+"="+encodeURIComponent(E))}):P.push(encodeURIComponent(x)+"="+encodeURIComponent(D));return P.length?"&"+P.join("&"):""}function ut(F){const P={};return F.replace(/^\?/,"").split("&").forEach(D=>{if(D){const[E,q]=D.split("=");P[decodeURIComponent(E)]=decodeURIComponent(q)}}),P}function Mt(F){const P=F.indexOf("?");if(!P)return"";const x=F.indexOf("#",P);return F.substring(P,x>0?x:void 0)}function jt(F,P){const x=new a1(F,P);return x.subscribe.bind(x)}class a1{constructor(P,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{P(this)}).catch(D=>{this.error(D)})}next(P){this.forEachObserver(x=>{x.next(P)})}error(P){this.forEachObserver(x=>{x.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,x,D){let E;if(void 0===P&&void 0===x&&void 0===D)throw new Error("Missing Observer.");E=function Lt(F,P){if("object"!=typeof F||null===F)return!1;for(const x of P)if(x in F&&"function"==typeof F[x])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:x,complete:D},void 0===E.next&&(E.next=y2),void 0===E.error&&(E.error=y2),void 0===E.complete&&(E.complete=y2);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?E.error(this.finalError):E.complete()}catch{}}),this.observers.push(E),q}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,P)}sendOne(P,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{x(this.observers[P])}catch(D){typeof console<"u"&&console.error&&console.error(D)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y2(){}const vn=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,F=>{const P=16*Math.random()|0;return("x"===F?P:3&P|8).toString(16)})},P2=1e3,R2=2,G2=144e5,w1=.5;function c2(F,P=P2,x=R2){const D=P*Math.pow(x,F),E=Math.round(w1*D*(Math.random()-.5)*2);return Math.min(G2,D+E)}function yn(F){return F&&F._delegate?F._delegate:F}},9921:(ht,Ie,k)=>{var m=k(7989);let R=null;function T(){return R}class me{}const we=new m.OlP("DocumentToken");var J=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(J||{}),nt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(nt||{});function he(t,e){const n=(0,m.cg1)(t),r=n[m.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===nt.CurrencyDecimal)return n[m.wAp.NumberSymbols][nt.Decimal];if(e===nt.CurrencyGroup)return n[m.wAp.NumberSymbols][nt.Group]}return r}const E=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Vt(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Os=/\s+/,A4=[];let Ai=(()=>{var t;class e{constructor(r,o,c,u){this._iterableDiffers=r,this._keyValueDiffers=o,this._ngEl=c,this._renderer=u,this.initialClasses=A4,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Os):A4}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Os):r}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const o of r)this._updateState(o,!0);else if(null!=r)for(const o of Object.keys(r))this._updateState(o,!!r[o]);this._applyStateDiff()}_updateState(r,o){const c=this.stateMap.get(r);void 0!==c?(c.enabled!==o&&(c.changed=!0,c.enabled=o),c.touched=!0):this.stateMap.set(r,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const o=r[0],c=r[1];c.changed?(this._toggleClass(o,c.enabled),c.changed=!1):c.touched||(c.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),c.touched=!1}}_toggleClass(r,o){(r=r.trim()).length>0&&r.split(Os).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Ni{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let T4=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,c){this._viewContainer=r,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const o=this._viewContainer;r.forEachOperation((c,u,p)=>{if(null==c.previousIndex)o.createEmbeddedView(this._template,new Ni(c.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===u?void 0:u);else if(null!==u){const y=o.get(u);o.move(y,p),u2(y,c)}});for(let c=0,u=o.length;c<u;c++){const y=o.get(c).context;y.index=c,y.count=u,y.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{u2(o.get(c.currentIndex),c)})}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function u2(t,e){t.context.$implicit=e.item}let Fs=(()=>{var t;class e{constructor(r,o){this._viewContainer=r,this._context=new vl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){N4("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){N4("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.s_b),m.Y36(m.Rgc))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class vl{constructor(){this.$implicit=null,this.ngIf=null}}function N4(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,m.AaK)(e)}'.`)}let Ws=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=f2}transform(r,o=f2){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const c=this.differ.diff(r),u=o!==this.compareFn;return c&&(this.keyValues=[],c.forEachItem(p=>{this.keyValues.push(function jn(t,e){return{key:t,value:e}}(p.key,p.currentValue))})),(c||u)&&(this.keyValues.sort(o),this.compareFn=o),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.aQg,16))},t.\u0275pipe=m.Yjl({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function f2(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const o=String(n),c=String(r);return o==c?0:o<c?-1:1}let Te=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,o,c){if(!function B1(t){return!(null==t||""===t||t!=t)}(r))return null;c=c||this._locale;try{return function se(t,e,n){return function It(t,e,n,r,o,c,u=!1){let p="",y=!1;if(isFinite(t)){let b=function Ye(t){let r,o,c,u,p,e=Math.abs(t)+"",n=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(c=e.search(/e/i))>0?(o<0&&(o=c),o+=+e.slice(c+1),e=e.substring(0,c)):o<0&&(o=e.length),c=0;"0"===e.charAt(c);c++);if(c===(p=e.length))r=[0],o=1;else{for(p--;"0"===e.charAt(p);)p--;for(o-=c,r=[],u=0;c<=p;c++,u++)r[u]=Number(e.charAt(c))}return o>22&&(r=r.splice(0,21),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}(t);u&&(b=function _e(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(b));let H=e.minInt,S=e.minFrac,N=e.maxFrac;if(c){const qe=c.match(E);if(null===qe)throw new Error(`${c} is not a valid digit info`);const Ze=qe[1],at=qe[3],dt=qe[5];null!=Ze&&(H=Vt(Ze)),null!=at&&(S=Vt(at)),null!=dt?N=Vt(dt):null!=at&&S>N&&(N=S)}!function Oe(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,o=r.length-t.integerLen;const c=Math.min(Math.max(e,o),n);let u=c+t.integerLen,p=r[u];if(u>0){r.splice(Math.max(t.integerLen,u));for(let S=u;S<r.length;S++)r[S]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,u=c+1),r[0]=0;for(let S=1;S<u;S++)r[S]=0}if(p>=5)if(u-1<0){for(let S=0;S>u;S--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[u-1]++;for(;o<Math.max(0,c);o++)r.push(0);let y=0!==c;const b=e+t.integerLen,H=r.reduceRight(function(S,N,U,ae){return ae[U]=(N+=S)<10?N:N-10,y&&(0===ae[U]&&U>=b?ae.pop():y=!1),N>=10?1:0},0);H&&(r.unshift(H),t.integerLen++)}(b,S,N);let U=b.digits,ae=b.integerLen;const Ce=b.exponent;let Me=[];for(y=U.every(qe=>!qe);ae<H;ae++)U.unshift(0);for(;ae<0;ae++)U.unshift(0);ae>0?Me=U.splice(ae,U.length):(Me=U,U=[0]);const je=[];for(U.length>=e.lgSize&&je.unshift(U.splice(-e.lgSize,U.length).join(""));U.length>e.gSize;)je.unshift(U.splice(-e.gSize,U.length).join(""));U.length&&je.unshift(U.join("")),p=je.join(he(n,r)),Me.length&&(p+=he(n,o)+Me.join("")),Ce&&(p+=he(n,nt.Exponential)+"+"+Ce)}else p=he(n,nt.Infinity);return p=t<0&&!y?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(t,function Y(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),o=r[0],c=r[1],u=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],p=u[0],y=u[1]||"";n.posPre=p.substring(0,p.indexOf("#"));for(let H=0;H<y.length;H++){const S=y.charAt(H);"0"===S?n.minFrac=n.maxFrac=H+1:"#"===S?n.maxFrac=H+1:n.posSuf+=S}const b=p.split(",");if(n.gSize=b[1]?b[1].length:0,n.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,c){const H=o.length-n.posPre.length-n.posSuf.length,S=c.indexOf("#");n.negPre=c.substring(0,S).replace(/'/g,""),n.negSuf=c.slice(S+H).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function ze(t,e){return(0,m.cg1)(t)[m.wAp.NumberFormats][e]}(e,J.Decimal),he(e,nt.MinusSign)),e,nt.Group,nt.Decimal,n)}(function $n(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),c,o)}catch(u){throw function F1(t,e){return new m.vHH(2100,!1)}()}}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.soG,16))},t.\u0275pipe=m.Yjl({name:"number",type:t,pure:!0,standalone:!0}),e})();let d2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({}),e})();const hr="server";function H1(t){return t===hr}class Cc extends me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class t3 extends Cc{static makeCurrent(){!function oe(t){R||(R=t)}(new t3)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function eo(){return Ui=Ui||document.querySelector("base"),Ui?Ui.getAttribute("href"):null}();return null==n?null:function Kn(t){to=to||document.createElement("a"),to.setAttribute("href",t);const e=to.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ui=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Bn(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let to,Ui=null,Mc=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const e2=new m.OlP("EventManagerPlugins");let kl=(()=>{var t;class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(c=>{c.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,c){return this._findPluginFor(o).addEventListener(r,o,c)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(u=>u.supports(r)),!o)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set(r,o),o}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(e2),m.LFG(m.R0b))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();class n3{constructor(e){this._doc=e}}const p1="ng-app-id";let Pl=(()=>{var t;class e{constructor(r,o,c,u={}){this.doc=r,this.appId=o,this.nonce=c,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=H1(u),this.resetHostNodes()}addStyles(r){for(const o of r)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(r){for(const o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){const o=this.styleRef;o.get(r)?.elements?.forEach(c=>c.remove()),o.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${p1}="${this.appId}"]`);if(r?.length){const o=new Map;return r.forEach(c=>{null!=c.textContent&&o.set(c.textContent,c)}),o}return null}changeUsageCount(r,o){const c=this.styleRef;if(c.has(r)){const u=c.get(r);return u.usage+=o,u.usage}return c.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){const c=this.styleNodesInDOM,u=c?.get(o);if(u?.parentNode===r)return c.delete(o),u.removeAttribute(p1),u;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=o,this.platformIsServer&&p.setAttribute(p1,this.appId),p}}addStyleToHost(r,o){const c=this.getStyleElement(r,o);r.appendChild(c);const u=this.styleRef,p=u.get(o)?.elements;p?p.push(c):u.set(o,{elements:[c],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(we),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const si={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S1=/%COMP%/g,xr=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ji(t,e){return e.map(n=>n.replace(S1,t))}let $i=(()=>{var t;class e{constructor(r,o,c,u,p,y,b,H=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=c,this.removeStylesOnCompDestroy=u,this.doc=p,this.platformId=y,this.ngZone=b,this.nonce=H,this.rendererByCompId=new Map,this.platformIsServer=H1(y),this.defaultRenderer=new r3(r,p,b,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===m.ifc.ShadowDom&&(o={...o,encapsulation:m.ifc.Emulated});const c=this.getOrCreateRenderer(r,o);return c instanceof Ul?c.applyToHost(r):c instanceof ro&&c.applyStyles(),c}getOrCreateRenderer(r,o){const c=this.rendererByCompId;let u=c.get(o.id);if(!u){const p=this.doc,y=this.ngZone,b=this.eventManager,H=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(o.encapsulation){case m.ifc.Emulated:u=new Ul(b,H,o,this.appId,S,p,y,N);break;case m.ifc.ShadowDom:return new Kf(b,H,r,o,p,y,this.nonce,N);default:u=new ro(b,H,o,S,p,y,N)}c.set(o.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(kl),m.LFG(Pl),m.LFG(m.AFp),m.LFG(xr),m.LFG(we),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();class r3{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(si[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(no(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(no(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new m.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const c=si[o];c?e.setAttributeNS(c,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=si[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(n,r,o&m.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&m.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=T().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function no(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Kf extends r3{constructor(e,n,r,o,c,u,p,y){super(e,c,u,y),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=ji(o.id,o.styles);for(const H of b){const S=document.createElement("style");p&&S.setAttribute("nonce",p),S.textContent=H,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ro extends r3{constructor(e,n,r,o,c,u,p,y){super(e,c,u,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=y?ji(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ul extends ro{constructor(e,n,r,o,c,u,p,y){const b=o+"-"+r.id;super(e,n,r,c,u,p,y,b),this.contentAttr=function wc(t){return"_ngcontent-%COMP%".replace(S1,t)}(b),this.hostAttr=function Bl(t){return"_nghost-%COMP%".replace(S1,t)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let bc=(()=>{var t;class e extends n3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,c){return r.addEventListener(o,c,!1),()=>this.removeEventListener(r,o,c)}removeEventListener(r,o,c){return r.removeEventListener(o,c)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(we))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const Hc=["alt","control","meta","shift"],gr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $l=(()=>{var t;class e extends n3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,o,c){const u=e.parseEventName(o),p=e.eventCallback(u.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T().onAndCancel(r,u.domEventName,p))}static parseEventName(r){const o=r.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const u=e._normalizeKey(o.pop());let p="",y=o.indexOf("code");if(y>-1&&(o.splice(y,1),p="code."),Hc.forEach(H=>{const S=o.indexOf(H);S>-1&&(o.splice(S,1),p+=H+".")}),p+=u,0!=o.length||0===u.length)return null;const b={};return b.domEventName=c,b.fullKey=p,b}static matchEventFullKeyCode(r,o){let c=gr[r.key]||r.key,u="";return o.indexOf("code.")>-1&&(c=r.code,u="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Hc.forEach(p=>{p!==c&&(0,jl[p])(r)&&(u+=p+".")}),u+=c,u===o)}static eventCallback(r,o,c){return u=>{e.matchEventFullKeyCode(u,r)&&c.runGuarded(()=>o(u))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(we))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const Ic=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function Ot(){t3.makeCurrent()},multi:!0},{provide:we,useFactory:function o3(){return(0,m.RDi)(document),document},deps:[]}]),oi=new m.OlP(""),_n=[{provide:m.rWj,useClass:class _c{addToWindow(e){m.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new m.vHH(5103,!1);return c},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(r=>{const o=m.dqk.getAllAngularTestabilities();let c=o.length,u=!1;const p=function(y){u=u||y,c--,0==c&&r(u)};o.forEach(y=>{y.whenStable(p)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?T().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],Dr=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function Vc(){return new m.qLn},deps:[]},{provide:e2,useClass:bc,multi:!0,deps:[we,m.R0b,m.Lbi]},{provide:e2,useClass:$l,multi:!0,deps:[we]},$i,Pl,kl,{provide:m.FYo,useExisting:$i},{provide:class qn{},useClass:Mc,deps:[]},[]];let vr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:m.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(oi,12))},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[...Dr,..._n],imports:[d2,m.hGG]}),e})();typeof window<"u"&&window;let oo=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:function(r){let o=null;return o=r?new(r||t):m.LFG(u3),o},providedIn:"root"}),e})(),u3=(()=>{var t;class e extends oo{constructor(r){super(),this._doc=r}sanitize(r,o){if(null==o)return null;switch(r){case m.q3G.NONE:return o;case m.q3G.HTML:return(0,m.qzn)(o,"HTML")?(0,m.z3N)(o):(0,m.EiD)(this._doc,String(o)).toString();case m.q3G.STYLE:return(0,m.qzn)(o,"Style")?(0,m.z3N)(o):o;case m.q3G.SCRIPT:if((0,m.qzn)(o,"Script"))return(0,m.z3N)(o);throw new m.vHH(5200,!1);case m.q3G.URL:return(0,m.qzn)(o,"URL")?(0,m.z3N)(o):(0,m.mCW)(String(o));case m.q3G.RESOURCE_URL:if((0,m.qzn)(o,"ResourceURL"))return(0,m.z3N)(o);throw new m.vHH(5201,!1);default:throw new m.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,m.JVY)(r)}bypassSecurityTrustStyle(r){return(0,m.L6k)(r)}bypassSecurityTrustScript(r){return(0,m.eBb)(r)}bypassSecurityTrustUrl(r){return(0,m.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,m.pB0)(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(we))},t.\u0275prov=m.Yz7({token:t,factory:function(r){let o=null;return o=r?new r:function l3(t){return new u3(t.get(we))}(m.LFG(m.zs3)),o},providedIn:"root"}),e})();var P8={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},gh={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},J3={prefix:"fas",iconName:"cubes-stacked",icon:[448,512,[],"e4e6","M192 64v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H224c-17.7 0-32 14.3-32 32zM82.7 207c-15.3 8.8-20.5 28.4-11.7 43.7l32 55.4c8.8 15.3 28.4 20.5 43.7 11.7l55.4-32c15.3-8.8 20.5-28.4 11.7-43.7l-32-55.4c-8.8-15.3-28.4-20.5-43.7-11.7L82.7 207zM288 192c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32H288zm64 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H352zM160 384v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zM32 352c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H32z"]},m5={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},H5={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},yV={prefix:"fas",iconName:"satellite",icon:[512,512,[128752],"f7bf","M233 7c-9.4-9.4-24.6-9.4-33.9 0l-96 96c-9.4 9.4-9.4 24.6 0 33.9l89.4 89.4-15.5 15.5C152.3 230.4 124.9 224 96 224c-31.7 0-61.5 7.7-87.8 21.2c-9 4.7-10.3 16.7-3.1 23.8L112.7 376.7 96.3 393.1c-2.6-.7-5.4-1.1-8.3-1.1c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32c0-2.9-.4-5.6-1.1-8.3l16.4-16.4L242.9 506.9c7.2 7.2 19.2 5.9 23.8-3.1C280.3 477.5 288 447.7 288 416c0-28.9-6.4-56.3-17.8-80.9l15.5-15.5L375 409c9.4 9.4 24.6 9.4 33.9 0l96-96c9.4-9.4 9.4-24.6 0-33.9l-89.4-89.4 55-55c12.5-12.5 12.5-32.8 0-45.3l-48-48c-12.5-12.5-32.8-12.5-45.3 0l-55 55L233 7zm159 351l-72.4-72.4 62.1-62.1L454.1 296 392 358.1zM226.3 192.4L153.9 120 216 57.9l72.4 72.4-62.1 62.1z"]},v={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2l0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5V176c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336V300.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4V304v5.7V336zm32 0V304 278.1c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5V272c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5V432c0 44.2-86 80-192 80S0 476.2 0 432V396.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},OT={prefix:"fas",iconName:"person-rifle",icon:[576,512,[],"e54e","M265.2 192c25.4 0 49.8 7.1 70.8 19.9V512H144V337.7L90.4 428.3c-11.2 19-35.8 25.3-54.8 14.1s-25.3-35.8-14.1-54.8L97.7 258.8c24.5-41.4 69-66.8 117.1-66.8h50.4zM160 80a80 80 0 1 1 160 0A80 80 0 1 1 160 80zM448 0c8.8 0 16 7.2 16 16V132.3c9.6 5.5 16 15.9 16 27.7V269.3l16-5.3V208c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v84.5c0 6.9-4.4 13-10.9 15.2L480 325.3V352h48c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H484l23 92.1c2.5 10.1-5.1 19.9-15.5 19.9H432c-8.8 0-16-7.2-16-16V400H400c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32V160c0-11.8 6.4-22.2 16-27.7V32c-8.8 0-16-7.2-16-16s7.2-16 16-16h16 16z"]},dI={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288H175.5L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7H272.5L349.4 44.6z"]},i7={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},CN={prefix:"fas",iconName:"tree-city",icon:[640,512,[],"e587","M288 48c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48V192h40V120c0-13.3 10.7-24 24-24s24 10.7 24 24v72h24c26.5 0 48 21.5 48 48V464c0 26.5-21.5 48-48 48H432 336c-26.5 0-48-21.5-48-48V48zm64 32v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm16 80c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V176c0-8.8-7.2-16-16-16H368zM352 272v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm176-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H528zM512 368v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H528c-8.8 0-16 7.2-16 16zM224 160c0 6-1 11-2 16c20 14 34 38 34 64c0 45-36 80-80 80H160V480c0 18-15 32-32 32c-18 0-32-14-32-32V320H80c-45 0-80-35-80-80c0-26 13-50 33-64c-1-5-1-10-1-16c0-53 42-96 96-96c53 0 96 43 96 96z"]},NN={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},vk={prefix:"fas",iconName:"carrot",icon:[512,512,[129365],"f787","M346.7 6C337.6 17 320 42.3 320 72c0 40 15.3 55.3 40 80s40 40 80 40c29.7 0 55-17.6 66-26.7c4-3.3 6-8.2 6-13.3s-2-10-6-13.2c-11.4-9.1-38.3-26.8-74-26.8c-32 0-40 8-40 8s8-8 8-40c0-35.7-17.7-62.6-26.8-74C370 2 365.1 0 360 0s-10 2-13.3 6zM244.6 136c-40 0-77.1 18.1-101.7 48.2l60.5 60.5c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0l-55.3-55.3 0 .1L2.2 477.9C-2 487-.1 497.8 7 505s17.9 9 27.1 4.8l134.7-62.4-52.1-52.1c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L199.7 433l100.2-46.4c46.4-21.5 76.2-68 76.2-119.2C376 194.8 317.2 136 244.6 136z"]},VI={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cv(t){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AI(t,e){return function $ee(t){if(Array.isArray(t))return t}(t)||function qee(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var u,p,r=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(u=n.next()).done)&&(r.push(u.value),!e||r.length!==e);o=!0);}catch(y){c=!0,p=y}finally{try{!o&&null!=n.return&&n.return()}finally{if(c)throw p}}return r}}(t,e)||pP(t,e)||function Zee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l7(t){return function jee(t){if(Array.isArray(t))return TI(t)}(t)||function Gee(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||pP(t)||function Wee(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pP(t,e){if(t){if("string"==typeof t)return TI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(t,e)}}function TI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mP=function(){},NI={},gP={},vP=null,yP={mark:mP,measure:mP};try{typeof window<"u"&&(NI=window),typeof document<"u"&&(gP=document),typeof MutationObserver<"u"&&(vP=MutationObserver),typeof performance<"u"&&(yP=performance)}catch{}var wv,bv,Hv,Vv,Iv,CP=(NI.navigator||{}).userAgent,_P=void 0===CP?"":CP,i4=NI,w2=gP,MP=vP,Mv=yP,_s=!!w2.documentElement&&!!w2.head&&"function"==typeof w2.addEventListener&&"function"==typeof w2.createElement,wP=~_P.indexOf("MSIE")||~_P.indexOf("Trident/"),Ms="___FONT_AWESOME___",bP="fa",HP="svg-inline--fa",Ca="data-fa-i2svg",PI="data-fa-pseudo-element",Yee="data-fa-pseudo-element-pending",RI="data-prefix",OI="data-icon",VP="fontawesome-i2svg",Qee="async",Jee=["HTML","HEAD","STYLE","SCRIPT"],IP=function(){try{return!0}catch{return!1}}(),b2="classic",F2="sharp",FI=[b2,F2];function u7(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[b2]}})}var f7=u7((y1(wv={},b2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),y1(wv,F2,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),wv)),d7=u7((y1(bv={},b2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),y1(bv,F2,{solid:"fass",regular:"fasr",light:"fasl"}),bv)),h7=u7((y1(Hv={},b2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),y1(Hv,F2,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Hv)),Xee=u7((y1(Vv={},b2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),y1(Vv,F2,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Vv)),ete=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,SP="fa-layers-text",tte=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,nte=u7((y1(Iv={},b2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),y1(Iv,F2,{900:"fass",400:"fasr",300:"fasl"}),Iv)),zP=[1,2,3,4,5,6,7,8,9,10],rte=zP.concat([11,12,13,14,15,16,17,18,19,20]),ite=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],_a={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},p7=new Set;Object.keys(d7[b2]).map(p7.add.bind(p7)),Object.keys(d7[F2]).map(p7.add.bind(p7));var ste=[].concat(FI,l7(p7),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",_a.GROUP,_a.SWAP_OPACITY,_a.PRIMARY,_a.SECONDARY]).concat(zP.map(function(t){return"".concat(t,"x")})).concat(rte.map(function(t){return"w-".concat(t)})),m7=i4.FontAwesomeConfig||{};w2&&"function"==typeof w2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=AI(t,2),r=e[1],o=function ate(t){return""===t||"false"!==t&&("true"===t||t)}(function ote(t){var e=w2.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=o&&(m7[r]=o)});var EP={styleDefault:"solid",familyDefault:"classic",cssPrefix:bP,replacementClass:HP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};m7.familyPrefix&&(m7.cssPrefix=m7.familyPrefix);var M0=tt(tt({},EP),m7);M0.autoReplaceSvg||(M0.observeMutations=!1);var ct={};Object.keys(EP).forEach(function(t){Object.defineProperty(ct,t,{enumerable:!0,set:function(n){M0[t]=n,g7.forEach(function(r){return r(ct)})},get:function(){return M0[t]}})}),Object.defineProperty(ct,"familyPrefix",{enumerable:!0,set:function(e){M0.cssPrefix=e,g7.forEach(function(n){return n(ct)})},get:function(){return M0.cssPrefix}}),i4.FontAwesomeConfig=ct;var g7=[],Mi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},fte="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function v7(){for(var t=12,e="";t-- >0;)e+=fte[62*Math.random()|0];return e}function w0(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function BI(t){return t.classList?w0(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function LP(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Sv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function UI(t){return t.size!==Mi.size||t.x!==Mi.x||t.y!==Mi.y||t.rotate!==Mi.rotate||t.flipX||t.flipY}var mte=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function xP(){var t=bP,e=HP,n=ct.cssPrefix,r=ct.replacementClass,o=mte;if(n!==t||r!==e){var c=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");o=o.replace(c,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(p,".".concat(r))}return o}var DP=!1;function jI(){ct.autoAddCss&&!DP&&(function ute(t){if(t&&_s){var e=w2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=w2.head.childNodes,r=null,o=n.length-1;o>-1;o--){var c=n[o],u=(c.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=c)}w2.head.insertBefore(e,r)}}(xP()),DP=!0)}var gte={mixout:function(){return{dom:{css:xP,insertCss:jI}}},hooks:function(){return{beforeDOMElementCreation:function(){jI()},beforeI2svg:function(){jI()}}}},ws=i4||{};ws[Ms]||(ws[Ms]={}),ws[Ms].styles||(ws[Ms].styles={}),ws[Ms].hooks||(ws[Ms].hooks={}),ws[Ms].shims||(ws[Ms].shims=[]);var qr=ws[Ms],AP=[],zv=!1;function y7(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,o=t.children,c=void 0===o?[]:o;return"string"==typeof t?LP(t):"<".concat(e," ").concat(function dte(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(LP(t[n]),'" ')},"").trim()}(r),">").concat(c.map(y7).join(""),"</").concat(e,">")}function TP(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}_s&&((zv=(w2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(w2.readyState))||w2.addEventListener("DOMContentLoaded",function t(){w2.removeEventListener("DOMContentLoaded",t),zv=1,AP.map(function(e){return e()})}));var $I=function(e,n,r,o){var y,b,H,c=Object.keys(e),u=c.length,p=void 0!==o?function(e,n){return function(r,o,c,u){return e.call(n,r,o,c,u)}}(n,o):n;for(void 0===r?(y=1,H=e[c[0]]):(y=0,H=r);y<u;y++)H=p(H,e[b=c[y]],b,e);return H};function GI(t){var e=function _te(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var c=t.charCodeAt(n++);56320==(64512&c)?e.push(((1023&o)<<10)+(1023&c)+65536):(e.push(o),n--)}else e.push(o)}return e}(t);return 1===e.length?e[0].toString(16):null}function NP(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function qI(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,o=void 0!==r&&r,c=NP(e);"function"!=typeof qr.hooks.addPack||o?qr.styles[t]=tt(tt({},qr.styles[t]||{}),c):qr.hooks.addPack(t,NP(e)),"fas"===t&&qI("fa",e)}var Ev,Lv,xv,b0=qr.styles,wte=qr.shims,bte=(y1(Ev={},b2,Object.values(h7[b2])),y1(Ev,F2,Object.values(h7[F2])),Ev),WI=null,kP={},PP={},RP={},OP={},FP={},Hte=(y1(Lv={},b2,Object.keys(f7[b2])),y1(Lv,F2,Object.keys(f7[F2])),Lv);var BP=function(){var e=function(c){return $I(b0,function(u,p,y){return u[y]=$I(p,c,{}),u},{})};kP=e(function(o,c,u){return c[3]&&(o[c[3]]=u),c[2]&&c[2].filter(function(y){return"number"==typeof y}).forEach(function(y){o[y.toString(16)]=u}),o}),PP=e(function(o,c,u){return o[u]=u,c[2]&&c[2].filter(function(y){return"string"==typeof y}).forEach(function(y){o[y]=u}),o}),FP=e(function(o,c,u){var p=c[2];return o[u]=u,p.forEach(function(y){o[y]=u}),o});var n="far"in b0||ct.autoFetchSvg,r=$I(wte,function(o,c){var u=c[0],p=c[1],y=c[2];return"far"===p&&!n&&(p="fas"),"string"==typeof u&&(o.names[u]={prefix:p,iconName:y}),"number"==typeof u&&(o.unicodes[u.toString(16)]={prefix:p,iconName:y}),o},{names:{},unicodes:{}});RP=r.names,OP=r.unicodes,WI=Dv(ct.styleDefault,{family:ct.familyDefault})};function ZI(t,e){return(kP[t]||{})[e]}function Ma(t,e){return(FP[t]||{})[e]}function UP(t){return RP[t]||{prefix:null,iconName:null}}function o4(){return WI}(function lte(t){g7.push(t)})(function(t){WI=Dv(t.styleDefault,{family:ct.familyDefault})}),BP();var KI=function(){return{prefix:null,iconName:null,rest:[]}};function Dv(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?b2:n;return d7[r][t]||d7[r][f7[r][t]]||(t in qr.styles?t:null)||null}var jP=(y1(xv={},b2,Object.keys(h7[b2])),y1(xv,F2,Object.keys(h7[F2])),xv);function Av(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,o=void 0!==r&&r,c=(y1(e={},b2,"".concat(ct.cssPrefix,"-").concat(b2)),y1(e,F2,"".concat(ct.cssPrefix,"-").concat(F2)),e),u=null,p=b2;(t.includes(c[b2])||t.some(function(b){return jP[b2].includes(b)}))&&(p=b2),(t.includes(c[F2])||t.some(function(b){return jP[F2].includes(b)}))&&(p=F2);var y=t.reduce(function(b,H){var S=function Ite(t,e){var n=e.split("-"),r=n[0],o=n.slice(1).join("-");return r!==t||""===o||function Vte(t){return~ste.indexOf(t)}(o)?null:o}(ct.cssPrefix,H);if(b0[H]?(H=bte[p].includes(H)?Xee[p][H]:H,u=H,b.prefix=H):Hte[p].indexOf(H)>-1?(u=H,b.prefix=Dv(H,{family:p})):S?b.iconName=S:H!==ct.replacementClass&&H!==c[b2]&&H!==c[F2]&&b.rest.push(H),!o&&b.prefix&&b.iconName){var N="fa"===u?UP(b.iconName):{},U=Ma(b.prefix,b.iconName);N.prefix&&(u=null),b.iconName=N.iconName||U||b.iconName,b.prefix=N.prefix||b.prefix,"far"===b.prefix&&!b0.far&&b0.fas&&!ct.autoFetchSvg&&(b.prefix="fas")}return b},KI());return(t.includes("fa-brands")||t.includes("fab"))&&(y.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(y.prefix="fad"),!y.prefix&&p===F2&&(b0.fass||ct.autoFetchSvg)&&(y.prefix="fass",y.iconName=Ma(y.prefix,y.iconName)||y.iconName),("fa"===y.prefix||"fa"===u)&&(y.prefix=o4()||"fas"),y}var Ete=function(){function t(){(function Fee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Bee(t,e,n){e&&hP(t.prototype,e),n&&hP(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];var u=o.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(p){n.definitions[p]=tt(tt({},n.definitions[p]||{}),u[p]),qI(p,u[p]);var y=h7[b2][p];y&&qI(y,u[p]),BP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var o=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(o).map(function(c){var u=o[c],p=u.prefix,y=u.iconName,b=u.icon,H=b[2];n[p]||(n[p]={}),H.length>0&&H.forEach(function(S){"string"==typeof S&&(n[p][S]=b)}),n[p][y]=b}),n}}]),t}(),$P=[],H0={},V0={},Lte=Object.keys(V0);function YI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(H0[t]||[]).forEach(function(u){e=u.apply(null,[e].concat(r))}),e}function wa(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(H0[t]||[]).forEach(function(c){c.apply(null,n)})}function bs(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return V0[t]?V0[t].apply(null,e):void 0}function QI(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||o4();if(e)return e=Ma(n,e)||e,TP(GP.definitions,n,e)||TP(qr.styles,n,e)}var GP=new Ete,Ate={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _s?(wa("beforeI2svg",e),bs("pseudoElements2svg",e),bs("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===ct.autoReplaceSvg&&(ct.autoReplaceSvg=!0),ct.observeMutations=!0,function yte(t){_s&&(zv?setTimeout(t,0):AP.push(t))}(function(){Nte({autoReplaceSvgRoot:n}),wa("watch",e)})}},rr={noAuto:function(){ct.autoReplaceSvg=!1,ct.observeMutations=!1,wa("noAuto")},config:ct,dom:Ate,parse:{icon:function(e){if(null===e)return null;if("object"===Cv(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ma(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Dv(e[0]);return{prefix:r,iconName:Ma(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(ct.cssPrefix,"-"))>-1||e.match(ete))){var o=Av(e.split(" "),{skipLookups:!0});return{prefix:o.prefix||o4(),iconName:Ma(o.prefix,o.iconName)||o.iconName}}if("string"==typeof e){var c=o4();return{prefix:c,iconName:Ma(c,e)||e}}}},library:GP,findIconDefinition:QI,toHtml:y7},Nte=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?w2:n;(Object.keys(qr.styles).length>0||ct.autoFetchSvg)&&_s&&ct.autoReplaceSvg&&rr.dom.i2svg({node:r})};function Tv(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return y7(r)})}}),Object.defineProperty(t,"node",{get:function(){if(_s){var r=w2.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function JI(t){var e=t.icons,n=e.main,r=e.mask,o=t.prefix,c=t.iconName,u=t.transform,p=t.symbol,y=t.title,b=t.maskId,H=t.titleId,S=t.extra,N=t.watchable,U=void 0!==N&&N,ae=r.found?r:n,Ce=ae.width,Me=ae.height,je="fak"===o,qe=[ct.replacementClass,c?"".concat(ct.cssPrefix,"-").concat(c):""].filter(function(Xr){return-1===S.classes.indexOf(Xr)}).filter(function(Xr){return""!==Xr||!!Xr}).concat(S.classes).join(" "),Ze={children:[],attributes:tt(tt({},S.attributes),{},{"data-prefix":o,"data-icon":c,class:qe,role:S.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Ce," ").concat(Me)})},at=je&&!~S.classes.indexOf("fa-fw")?{width:"".concat(Ce/Me*16*.0625,"em")}:{};U&&(Ze.attributes[Ca]=""),y&&(Ze.children.push({tag:"title",attributes:{id:Ze.attributes["aria-labelledby"]||"title-".concat(H||v7())},children:[y]}),delete Ze.attributes.title);var dt=tt(tt({},Ze),{},{prefix:o,iconName:c,main:n,mask:r,maskId:b,transform:u,symbol:p,styles:tt(tt({},at),S.styles)}),xt=r.found&&n.found?bs("generateAbstractMask",dt)||{children:[],attributes:{}}:bs("generateAbstractIcon",dt)||{children:[],attributes:{}},Jr=xt.attributes;return dt.children=xt.children,dt.attributes=Jr,p?function Pte(t){var n=t.iconName,r=t.children,o=t.attributes,c=t.symbol,u=!0===c?"".concat(t.prefix,"-").concat(ct.cssPrefix,"-").concat(n):c;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:tt(tt({},o),{},{id:u}),children:r}]}]}(dt):function kte(t){var e=t.children,n=t.main,r=t.mask,o=t.attributes,c=t.styles,u=t.transform;if(UI(u)&&n.found&&!r.found){var b={x:n.width/n.height/2,y:.5};o.style=Sv(tt(tt({},c),{},{"transform-origin":"".concat(b.x+u.x/16,"em ").concat(b.y+u.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}(dt)}function qP(t){var e=t.content,n=t.width,r=t.height,o=t.transform,c=t.title,u=t.extra,p=t.watchable,y=void 0!==p&&p,b=tt(tt(tt({},u.attributes),c?{title:c}:{}),{},{class:u.classes.join(" ")});y&&(b[Ca]="");var H=tt({},u.styles);UI(o)&&(H.transform=function pte(t){var e=t.transform,n=t.width,o=t.height,c=void 0===o?16:o,u=t.startCentered,p=void 0!==u&&u,y="";return y+=p&&wP?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-c/2,"em) "):p?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(y+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:o,startCentered:!0,width:n,height:r}),H["-webkit-transform"]=H.transform);var S=Sv(H);S.length>0&&(b.style=S);var N=[];return N.push({tag:"span",attributes:b,children:[e]}),c&&N.push({tag:"span",attributes:{class:"sr-only"},children:[c]}),N}var XI=qr.styles;function eS(t){var e=t[0],n=t[1],c=AI(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(c)?{tag:"g",attributes:{class:"".concat(ct.cssPrefix,"-").concat(_a.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(_a.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(_a.PRIMARY),fill:"currentColor",d:c[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:c}}}}var Ote={found:!1,width:512,height:512};function tS(t,e){var n=e;return"fa"===e&&null!==ct.styleDefault&&(e=o4()),new Promise(function(r,o){if(bs("missingIconAbstract"),"fa"===n){var u=UP(t)||{};t=u.iconName||t,e=u.prefix||e}if(t&&e&&XI[e]&&XI[e][t])return r(eS(XI[e][t]));(function Fte(t,e){!IP&&!ct.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(tt(tt({},Ote),{},{icon:ct.showMissingIcons&&t&&bs("missingIconAbstract")||{}}))})}var WP=function(){},nS=ct.measurePerformance&&Mv&&Mv.mark&&Mv.measure?Mv:{mark:WP,measure:WP},C7='FA "6.4.2"',ZP=function(e){nS.mark("".concat(C7," ").concat(e," ends")),nS.measure("".concat(C7," ").concat(e),"".concat(C7," ").concat(e," begins"),"".concat(C7," ").concat(e," ends"))},rS={begin:function(e){return nS.mark("".concat(C7," ").concat(e," begins")),function(){return ZP(e)}},end:ZP},Nv=function(){};function KP(t){return"string"==typeof(t.getAttribute?t.getAttribute(Ca):null)}function Gte(t){return w2.createElementNS("http://www.w3.org/2000/svg",t)}function qte(t){return w2.createElement(t)}function YP(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Gte:qte:n;if("string"==typeof t)return w2.createTextNode(t);var o=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(u){o.setAttribute(u,t.attributes[u])}),(t.children||[]).forEach(function(u){o.appendChild(YP(u,{ceFn:r}))}),o}var kv={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(o){n.parentNode.insertBefore(YP(o),n)}),null===n.getAttribute(Ca)&&ct.keepOriginalSource){var r=w2.createComment(function Wte(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~BI(n).indexOf(ct.replacementClass))return kv.replace(e);var o=new RegExp("".concat(ct.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var c=r[0].attributes.class.split(" ").reduce(function(p,y){return y===ct.replacementClass||y.match(o)?p.toSvg.push(y):p.toNode.push(y),p},{toNode:[],toSvg:[]});r[0].attributes.class=c.toSvg.join(" "),0===c.toNode.length?n.removeAttribute("class"):n.setAttribute("class",c.toNode.join(" "))}var u=r.map(function(p){return y7(p)}).join("\n");n.setAttribute(Ca,""),n.innerHTML=u}};function QP(t){t()}function JP(t,e){var n="function"==typeof e?e:Nv;if(0===t.length)n();else{var r=QP;ct.mutateApproach===Qee&&(r=i4.requestAnimationFrame||QP),r(function(){var o=function $te(){return!0===ct.autoReplaceSvg?kv.replace:kv[ct.autoReplaceSvg]||kv.replace}(),c=rS.begin("mutate");t.map(o),c(),n()})}}var iS=!1;function XP(){iS=!0}function sS(){iS=!1}var Pv=null;function eR(t){if(MP&&ct.observeMutations){var e=t.treeCallback,n=void 0===e?Nv:e,r=t.nodeCallback,o=void 0===r?Nv:r,c=t.pseudoElementsCallback,u=void 0===c?Nv:c,p=t.observeMutationsRoot,y=void 0===p?w2:p;Pv=new MP(function(b){if(!iS){var H=o4();w0(b).forEach(function(S){if("childList"===S.type&&S.addedNodes.length>0&&!KP(S.addedNodes[0])&&(ct.searchPseudoElements&&u(S.target),n(S.target)),"attributes"===S.type&&S.target.parentNode&&ct.searchPseudoElements&&u(S.target.parentNode),"attributes"===S.type&&KP(S.target)&&~ite.indexOf(S.attributeName))if("class"===S.attributeName&&function Ute(t){var e=t.getAttribute?t.getAttribute(RI):null,n=t.getAttribute?t.getAttribute(OI):null;return e&&n}(S.target)){var N=Av(BI(S.target)),ae=N.iconName;S.target.setAttribute(RI,N.prefix||H),ae&&S.target.setAttribute(OI,ae)}else(function jte(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ct.replacementClass)})(S.target)&&o(S.target)})}}),_s&&Pv.observe(y,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function tR(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Yte(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",o=Av(BI(t));return o.prefix||(o.prefix=o4()),e&&n&&(o.prefix=e,o.iconName=n),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=function Ste(t,e){return(PP[t]||{})[e]}(o.prefix,t.innerText)||ZI(o.prefix,GI(t.innerText))),!o.iconName&&ct.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=t.firstChild.data)),o}(t),r=n.iconName,o=n.prefix,c=n.rest,u=function Qte(t){var e=w0(t.attributes).reduce(function(o,c){return"class"!==o.name&&"style"!==o.name&&(o[c.name]=c.value),o},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ct.autoA11y&&(n?e["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(r||v7()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),p=YI("parseNodeAttributes",{},t),y=e.styleParser?function Kte(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,o){var c=o.split(":"),u=c[0],p=c.slice(1);return u&&p.length>0&&(r[u]=p.join(":").trim()),r},{})),n}(t):[];return tt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:o,transform:Mi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:c,styles:y,attributes:u}},p)}var Xte=qr.styles;function nR(t){var e="nest"===ct.autoReplaceSvg?tR(t,{styleParser:!1}):tR(t);return~e.extra.classes.indexOf(SP)?bs("generateLayersText",t,e):bs("generateSvgReplacementMutation",t,e)}var a4=new Set;function rR(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!_s)return Promise.resolve();var n=w2.documentElement.classList,r=function(S){return n.add("".concat(VP,"-").concat(S))},o=function(S){return n.remove("".concat(VP,"-").concat(S))},c=ct.autoFetchSvg?a4:FI.map(function(H){return"fa-".concat(H)}).concat(Object.keys(Xte));c.includes("fa")||c.push("fa");var u=[".".concat(SP,":not([").concat(Ca,"])")].concat(c.map(function(H){return".".concat(H,":not([").concat(Ca,"])")})).join(", ");if(0===u.length)return Promise.resolve();var p=[];try{p=w0(t.querySelectorAll(u))}catch{}if(!(p.length>0))return Promise.resolve();r("pending"),o("complete");var y=rS.begin("onTree"),b=p.reduce(function(H,S){try{var N=nR(S);N&&H.push(N)}catch(U){IP||"MissingIcon"===U.name&&console.error(U)}return H},[]);return new Promise(function(H,S){Promise.all(b).then(function(N){JP(N,function(){r("active"),r("complete"),o("pending"),"function"==typeof e&&e(),y(),H()})}).catch(function(N){y(),S(N)})})}function e2e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;nR(t).then(function(n){n&&JP([n],e)})}FI.map(function(t){a4.add("fa-".concat(t))}),Object.keys(f7[b2]).map(a4.add.bind(a4)),Object.keys(f7[F2]).map(a4.add.bind(a4)),a4=l7(a4);var n2e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,o=void 0===r?Mi:r,c=n.symbol,u=void 0!==c&&c,p=n.mask,y=void 0===p?null:p,b=n.maskId,H=void 0===b?null:b,S=n.title,N=void 0===S?null:S,U=n.titleId,ae=void 0===U?null:U,Ce=n.classes,Me=void 0===Ce?[]:Ce,je=n.attributes,qe=void 0===je?{}:je,Ze=n.styles,at=void 0===Ze?{}:Ze;if(e){var dt=e.prefix,xt=e.iconName,D2=e.icon;return Tv(tt({type:"icon"},e),function(){return wa("beforeDOMElementCreation",{iconDefinition:e,params:n}),ct.autoA11y&&(N?qe["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(ae||v7()):(qe["aria-hidden"]="true",qe.focusable="false")),JI({icons:{main:eS(D2),mask:y?eS(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:dt,iconName:xt,transform:tt(tt({},Mi),o),symbol:u,title:N,maskId:H,titleId:ae,extra:{attributes:qe,styles:at,classes:Me}})})}},r2e={mixout:function(){return{icon:(t=n2e,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:QI(e||{}),o=n.mask;return o&&(o=(o||{}).icon?o:QI(o||{})),t(r,tt(tt({},n),{},{mask:o}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=rR,n.nodeCallback=e2e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,c=n.callback;return rR(void 0===r?w2:r,void 0===c?function(){}:c)},e.generateSvgReplacementMutation=function(n,r){var o=r.iconName,c=r.title,u=r.titleId,p=r.prefix,y=r.transform,b=r.symbol,H=r.mask,S=r.maskId,N=r.extra;return new Promise(function(U,ae){Promise.all([tS(o,p),H.iconName?tS(H.iconName,H.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Ce){var Me=AI(Ce,2);U([n,JI({icons:{main:Me[0],mask:Me[1]},prefix:p,iconName:o,transform:y,symbol:b,maskId:S,title:c,titleId:u,extra:N,watchable:!0})])}).catch(ae)})},e.generateAbstractIcon=function(n){var b,r=n.children,o=n.attributes,c=n.main,u=n.transform,y=Sv(n.styles);return y.length>0&&(o.style=y),UI(u)&&(b=bs("generateAbstractTransformGrouping",{main:c,transform:u,containerWidth:c.width,iconWidth:c.width})),r.push(b||c.icon),{children:r,attributes:o}}}},i2e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.classes,c=void 0===o?[]:o;return Tv({type:"layer"},function(){wa("beforeDOMElementCreation",{assembler:n,params:r});var u=[];return n(function(p){Array.isArray(p)?p.map(function(y){u=u.concat(y.abstract)}):u=u.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(ct.cssPrefix,"-layers")].concat(l7(c)).join(" ")},children:u}]})}}}},s2e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.title,c=void 0===o?null:o,u=r.classes,p=void 0===u?[]:u,y=r.attributes,b=void 0===y?{}:y,H=r.styles,S=void 0===H?{}:H;return Tv({type:"counter",content:n},function(){return wa("beforeDOMElementCreation",{content:n,params:r}),function Rte(t){var e=t.content,n=t.title,r=t.extra,o=tt(tt(tt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),c=Sv(r.styles);c.length>0&&(o.style=c);var u=[];return u.push({tag:"span",attributes:o,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}({content:n.toString(),title:c,extra:{attributes:b,styles:S,classes:["".concat(ct.cssPrefix,"-layers-counter")].concat(l7(p))}})})}}}},o2e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.transform,c=void 0===o?Mi:o,u=r.title,p=void 0===u?null:u,y=r.classes,b=void 0===y?[]:y,H=r.attributes,S=void 0===H?{}:H,N=r.styles,U=void 0===N?{}:N;return Tv({type:"text",content:n},function(){return wa("beforeDOMElementCreation",{content:n,params:r}),qP({content:n,transform:tt(tt({},Mi),c),title:p,extra:{attributes:S,styles:U,classes:["".concat(ct.cssPrefix,"-layers-text")].concat(l7(b))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var o=r.title,c=r.transform,u=r.extra,p=null,y=null;if(wP){var b=parseInt(getComputedStyle(n).fontSize,10),H=n.getBoundingClientRect();p=H.width/b,y=H.height/b}return ct.autoA11y&&!o&&(u.attributes["aria-hidden"]="true"),Promise.resolve([n,qP({content:n.innerHTML,width:p,height:y,transform:c,title:o,extra:u,watchable:!0})])}}},a2e=new RegExp('"',"ug"),iR=[1105920,1112319];function sR(t,e){var n="".concat(Yee).concat(e.replace(":","-"));return new Promise(function(r,o){if(null!==t.getAttribute(n))return r();var u=w0(t.children).filter(function(D2){return D2.getAttribute(PI)===e})[0],p=i4.getComputedStyle(t,e),y=p.getPropertyValue("font-family").match(tte),b=p.getPropertyValue("font-weight"),H=p.getPropertyValue("content");if(u&&!y)return t.removeChild(u),r();if(y&&"none"!==H&&""!==H){var S=p.getPropertyValue("content"),N=~["Sharp"].indexOf(y[2])?F2:b2,U=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(y[2])?d7[N][y[2].toLowerCase()]:nte[N][b],ae=function c2e(t){var e=t.replace(a2e,""),n=function Mte(t,e){var o,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(o=t.charCodeAt(e+1))>=56320&&o<=57343?1024*(r-55296)+o-56320+65536:r}(e,0),r=n>=iR[0]&&n<=iR[1],o=2===e.length&&e[0]===e[1];return{value:GI(o?e[0]:e),isSecondary:r||o}}(S),Ce=ae.value,Me=ae.isSecondary,je=y[0].startsWith("FontAwesome"),qe=ZI(U,Ce),Ze=qe;if(je){var at=function zte(t){var e=OP[t],n=ZI("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(Ce);at.iconName&&at.prefix&&(qe=at.iconName,U=at.prefix)}if(!qe||Me||u&&u.getAttribute(RI)===U&&u.getAttribute(OI)===Ze)r();else{t.setAttribute(n,Ze),u&&t.removeChild(u);var dt=function Jte(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Mi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),xt=dt.extra;xt.attributes[PI]=e,tS(qe,U).then(function(D2){var Jr=JI(tt(tt({},dt),{},{icons:{main:D2,mask:KI()},prefix:U,iconName:Ze,extra:xt,watchable:!0})),Xr=w2.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Xr,t.firstChild):t.appendChild(Xr),Xr.outerHTML=Jr.map(function(T6e){return y7(T6e)}).join("\n"),t.removeAttribute(n),r()}).catch(o)}}else r()})}function l2e(t){return Promise.all([sR(t,"::before"),sR(t,"::after")])}function u2e(t){return!(t.parentNode===document.head||~Jee.indexOf(t.tagName.toUpperCase())||t.getAttribute(PI)||t.parentNode&&"svg"===t.parentNode.tagName)}function oR(t){if(_s)return new Promise(function(e,n){var r=w0(t.querySelectorAll("*")).filter(u2e).map(l2e),o=rS.begin("searchPseudoElements");XP(),Promise.all(r).then(function(){o(),sS(),e()}).catch(function(){o(),sS(),n()})})}var aR=!1,cR=function(e){return e.toLowerCase().split(" ").reduce(function(r,o){var c=o.toLowerCase().split("-"),u=c[0],p=c.slice(1).join("-");if(u&&"h"===p)return r.flipX=!0,r;if(u&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(u){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},oS={x:0,y:0,width:"100%",height:"100%"};function lR(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}var m2e={hooks:function(){return{parseNodeAttributes:function(n,r){var o=r.getAttribute("data-fa-mask"),c=o?Av(o.split(" ").map(function(u){return u.trim()})):KI();return c.prefix||(c.prefix=o4()),n.mask=c,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var t,r=n.children,o=n.attributes,c=n.main,u=n.mask,p=n.maskId,H=c.icon,N=u.icon,U=function hte(t){var e=t.transform,r=t.iconWidth,o={transform:"translate(".concat(t.containerWidth/2," 256)")},c="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(c," ").concat(u," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:u.width,iconWidth:c.width}),ae={tag:"rect",attributes:tt(tt({},oS),{},{fill:"white"})},Ce=H.children?{children:H.children.map(lR)}:{},Me={tag:"g",attributes:tt({},U.inner),children:[lR(tt({tag:H.tag,attributes:tt(tt({},H.attributes),U.path)},Ce))]},je={tag:"g",attributes:tt({},U.outer),children:[Me]},qe="mask-".concat(p||v7()),Ze="clip-".concat(p||v7()),at={tag:"mask",attributes:tt(tt({},oS),{},{id:qe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[ae,je]},dt={tag:"defs",children:[{tag:"clipPath",attributes:{id:Ze},children:(t=N,"g"===t.tag?t.children:[t])},at]};return r.push(dt,{tag:"rect",attributes:tt({fill:"currentColor","clip-path":"url(#".concat(Ze,")"),mask:"url(#".concat(qe,")")},oS)}),{children:r,attributes:o}}}};!function xte(t,e){var n=e.mixoutsTo;$P=t,H0={},Object.keys(V0).forEach(function(r){-1===Lte.indexOf(r)&&delete V0[r]}),$P.forEach(function(r){var o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(function(u){"function"==typeof o[u]&&(n[u]=o[u]),"object"===Cv(o[u])&&Object.keys(o[u]).forEach(function(p){n[u]||(n[u]={}),n[u][p]=o[u][p]})}),r.hooks){var c=r.hooks();Object.keys(c).forEach(function(u){H0[u]||(H0[u]=[]),H0[u].push(c[u])})}r.provides&&r.provides(V0)})}([gte,r2e,i2e,s2e,o2e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=oR,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;ct.searchPseudoElements&&oR(void 0===r?w2:r)}}},{mixout:function(){return{dom:{unwatch:function(){XP(),aR=!0}}}},hooks:function(){return{bootstrap:function(){eR(YI("mutationObserverCallbacks",{}))},noAuto:function(){!function Zte(){Pv&&Pv.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;aR?sS():eR(YI("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return cR(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var o=r.getAttribute("data-fa-transform");return o&&(n.transform=cR(o)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,o=n.transform,u=n.iconWidth,p={transform:"translate(".concat(n.containerWidth/2," 256)")},y="translate(".concat(32*o.x,", ").concat(32*o.y,") "),b="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),H="rotate(".concat(o.rotate," 0 0)"),U={outer:p,inner:{transform:"".concat(y," ").concat(b," ").concat(H)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:tt({},U.outer),children:[{tag:"g",attributes:tt({},U.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:tt(tt({},r.icon.attributes),U.path)}]}]}}}},m2e,{provides:function(e){var n=!1;i4.matchMedia&&(n=i4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],o={fill:"currentColor"},c={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:tt(tt({},o),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=tt(tt({},c),{},{attributeName:"opacity"}),p={tag:"circle",attributes:tt(tt({},o),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||p.children.push({tag:"animate",attributes:tt(tt({},c),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:tt(tt({},u),{},{values:"1;0;1;1;0;1;"})}),r.push(p),r.push({tag:"path",attributes:tt(tt({},o),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:tt(tt({},u),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:tt(tt({},o),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:tt(tt({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var o=r.getAttribute("data-fa-symbol");return n.symbol=null!==o&&(""===o||o),n}}}}],{mixoutsTo:rr});var C2e=rr.parse,_2e=rr.icon;const M2e=["*"],H2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let S2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),aS=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const o of r){o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o;for(const c of o.icon[2])"string"==typeof c&&(this.definitions[o.prefix][c]=o)}}addIconPacks(...r){for(const o of r){const c=Object.keys(o).map(u=>o[u]);this.addIcons(...c)}}getIconDefinition(r,o){return r in this.definitions&&o in this.definitions[r]?this.definitions[r][o]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),z2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=m.lG2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[m.TTD]}),e})(),E2e=(()=>{var t;class e{constructor(r,o){this.renderer=r,this.elementRef=o}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.Qsj),m.Y36(m.SBq))},t.\u0275cmp=m.Xpm({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[m.TTD],ngContentSelectors:M2e,decls:1,vars:0,template:function(r,o){1&r&&(m.F$t(),m.Hsn(0))},encapsulation:2}),e})(),uR=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,o,c,u,p){this.sanitizer=r,this.config=o,this.iconLibrary=c,this.stackItem=u,this.classes=[],null!=p&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const c=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=c){const u=this.buildParams();this.renderIcon(c,u)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const o=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in o?o:this.iconLibrary.getIconDefinition(o.prefix,o.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(o),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},o="string"==typeof this.transform?C2e.transform(this.transform):this.transform;return{title:this.title,transform:o,classes:[...H2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,o){const c=_2e(r,o);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(c.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(oo),m.Y36(S2e),m.Y36(aS),m.Y36(z2e,8),m.Y36(E2e,8))},t.\u0275cmp=m.Xpm({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,o){2&r&&(m.Ikx("innerHTML",o.renderedIconHTML,m.oJD),m.uIk("title",o.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[m.TTD],decls:0,vars:0,template:function(r,o){},encapsulation:2}),e})(),fR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({}),e})(),L2e=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=m.lG2({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,o){2&r&&m.ekj("active",o.isActive)},inputs:{tabName:"tabName"}}),e})();const ba=function(){return{color:"#eee"}},x2e=function(){return["fas","house-chimney"]},D2e=function(){return["fas","earth-americas"]},A2e=function(){return["fas","satellite-dish"]},T2e=function(){return["fas","jet-fighter-up"]},N2e=function(){return["fas","chess-board"]},k2e=function(){return["fas","flask-vial"]},P2e=function(){return["fas","hand-fist"]};let R2e=(()=>{var t;class e{constructor(r){this.renderer=(0,m.f3M)(m.Qsj),r.addIcons(H5,i7,m5,NN,gh,P8,VI)}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(aS))},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-navbar"]],decls:37,vars:42,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["href","/fleets",1,"dgt-navbar-tab-link"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"]],template:function(r,o){1&r&&(m.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),m._UZ(4,"fa-icon",4),m.TgZ(5,"span",5),m._uU(6,"home"),m.qZA()()(),m.TgZ(7,"li",2)(8,"a",6),m._UZ(9,"fa-icon",4),m.TgZ(10,"span",5),m._uU(11,"planets"),m.qZA()()(),m.TgZ(12,"li",2)(13,"a",7),m._UZ(14,"fa-icon",4),m.TgZ(15,"span",5),m._uU(16,"radar"),m.qZA()()(),m.TgZ(17,"li",2)(18,"a",8),m._UZ(19,"fa-icon",4),m.TgZ(20,"span",5),m._uU(21,"fleets"),m.qZA()()(),m.TgZ(22,"li",2)(23,"a",9),m._UZ(24,"fa-icon",4),m.TgZ(25,"span",5),m._uU(26,"navigation"),m.qZA()()(),m.TgZ(27,"li",2)(28,"a",10),m._UZ(29,"fa-icon",4),m.TgZ(30,"span",5),m._uU(31,"research"),m.qZA()()(),m.TgZ(32,"li",2)(33,"a",11),m._UZ(34,"fa-icon",4),m.TgZ(35,"span",5),m._uU(36,"alliances"),m.qZA()()()()()),2&r&&(m.xp6(2),m.Q6J("tabName","home"),m.xp6(2),m.Akn(m.DdM(28,ba)),m.Q6J("icon",m.DdM(29,x2e)),m.xp6(3),m.Q6J("tabName","planets"),m.xp6(2),m.Akn(m.DdM(30,ba)),m.Q6J("icon",m.DdM(31,D2e)),m.xp6(3),m.Q6J("tabName","radar"),m.xp6(2),m.Akn(m.DdM(32,ba)),m.Q6J("icon",m.DdM(33,A2e)),m.xp6(3),m.Q6J("tabName","fleets"),m.xp6(2),m.Akn(m.DdM(34,ba)),m.Q6J("icon",m.DdM(35,T2e)),m.xp6(3),m.Q6J("tabName","navigation"),m.xp6(2),m.Akn(m.DdM(36,ba)),m.Q6J("icon",m.DdM(37,N2e)),m.xp6(3),m.Q6J("tabName","research"),m.xp6(2),m.Akn(m.DdM(38,ba)),m.Q6J("icon",m.DdM(39,k2e)),m.xp6(3),m.Q6J("tabName","alliances"),m.xp6(2),m.Akn(m.DdM(40,ba)),m.Q6J("icon",m.DdM(41,P2e)))},dependencies:[uR,L2e],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})(),O2e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[R2e]}),t.\u0275inj=m.cJS({imports:[vr,fR]}),e})();class cS{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class dR{constructor(){this._orbit=0,this._ground=0,this._workers=new cS,this._soldiers=new cS,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class lS{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let hR=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(we)}extract(){let r=[];return this.document.querySelectorAll("#planetList > #planetList").forEach(o=>{let c=new dR,u=o.querySelectorAll(".resourceLine .left > span"),p=[];u.forEach(b=>{let H=b.textContent.split(/\s+/),S=new lS;S.name=b.parentElement.className.split(/\s+/)[2],S.stored=parseInt(H[0].replace(/,/g,"")),S.production=parseInt(H[1].substring(1,H[1].length-1).replace(/,/g,"")),S.abundance=parseInt(H[2].replace(/,/g,"")),p.push(S)}),c.resources=p;let y=o.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];c.workers.available=parseInt(y.substring(1,y.length).replace(/,/g,"")),c.workers.currentNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),c.workers.maximumNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),c.soldiers.currentNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),c.name=o.querySelectorAll(".planetName > a")[0].innerHTML,c.location=o.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),c.orbit=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),c.ground=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(c)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class pR{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new cS,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var on=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(on||{});class F2e{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class B2e{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var an=function(t){return t.UNKNOWN="unknown",t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SPACE_TETHER="space tether",t}(an||{});class U2e{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let mR=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(we)}extract(){if(this.document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let c,r=new pR,o=this.document.querySelectorAll("#contentBox #planetHeader")[1];switch(o.querySelectorAll(".planetHeadSection .resource > span").length){case 5:c=on.SURFACE;break;case 2:c=on.RESOURCE;break;case 0:c=on.FLEET;break;default:c=on.UNKNOWN}let u=new F2e(r,c);if(c!==on.UNKNOWN){u.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let p=o.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?o.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";u.planetScan.owner=new U2e(o.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),p.substring(1,p.length-1))}if((c===on.RESOURCE||c===on.SURFACE)&&(u.planetScan.orbit=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),u.planetScan.ground=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),u.planetScan.location=o.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),c===on.RESOURCE&&(o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(p=>{let y=new lS;y.name=p.textContent.trim().toLowerCase(),u.planetScan.resources.push(y)}),o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((p,y)=>{u.planetScan.resources[y].abundance=parseInt(p.textContent.trim())})),c===on.SURFACE){o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(y=>{let b=new lS;b.name=y.textContent.trim().toLowerCase(),u.planetScan.resources.push(b)}),o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((y,b)=>{u.planetScan.resources[b].stored=parseInt(y.textContent.trim().replace(/,/g,""))}),o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((y,b)=>{u.planetScan.resources[b].abundance=parseInt(y.textContent.trim())});let p=o.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];u.planetScan.workers.currentNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),u.planetScan.workers.maximumNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),u.planetScan.workers.available=parseInt(p.substring(1,p.length).replace(/,/g,"")),u.planetScan.soldiers=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),o.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(y=>{u.planetScan.structures.push(new B2e(y.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(y.textContent.split(/x\s+/)[0].trim())))}),u.planetScan.structures.forEach(y=>{switch(y.name){case an.OUTPOST:u.planetScan.resources[0].production+=300,u.planetScan.resources[1].production+=200,u.planetScan.resources[2].production+=100;break;case an.METAL_MINE:u.planetScan.resources[0].production+=300*y.quantity;break;case an.MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=200*y.quantity;break;case an.FARM:u.planetScan.resources[2].production+=300*y.quantity;break;case an.SOLAR_GENERATOR:u.planetScan.resources[3].production+=100*y.quantity;break;case an.CORE_METAL_MINE:u.planetScan.resources[0].production+=900*y.quantity;break;case an.CORE_MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=600*y.quantity;break;case an.HYDROPONICS_LAB:u.planetScan.resources[2].production+=900*y.quantity;break;case an.SOLAR_ARRAY:u.planetScan.resources[3].production+=300*y.quantity;break;case an.STRIP_METAL_MINE:u.planetScan.resources[0].production+=9e3*y.quantity;break;case an.STRIP_MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=6e3*y.quantity;break;case an.HYDROPONICS_DOME:u.planetScan.resources[2].production+=9e3*y.quantity;break;case an.SOLAR_STATION:u.planetScan.resources[3].production+=3e3*y.quantity}})}return u.planetScan.resources.forEach(p=>{p.production=Math.ceil(p.production*p.abundance/100)}),u}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),gR=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(we)}extract(){let r=[];return this.document.querySelectorAll("div.navigation div.planets").forEach(o=>{let c=new dR;c.location=o.querySelector(".coords>span").textContent.trim().split(/\./),r.push(c)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Rv=(()=>{var t;class e{constructor(){this.planetListExtractor=(0,m.f3M)(hR),this.planetScanExtractor=(0,m.f3M)(mR),this.navigationSystemPlanetsExtractor=(0,m.f3M)(gR)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class j2e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class $2e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class vR{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class yR{constructor(){this._resources=new $2e,this._workers=new vR,this._soldiers=new vR}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var C1=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(C1||{});let CR=(()=>{var t;class e{constructor(){this.dgAPI=(0,m.f3M)(Rv)}extractStats(){let r=new j2e;return r.stats.set(C1.ALL,new yR),this.dgAPI.planetsSummaries().forEach(o=>{r.stats.has(o.location[0])||r.stats.set(o.location[0],new yR),r.stats.get(C1.ALL).workers.total+=o.workers.currentNumber,r.stats.get(o.location[0]).workers.total+=o.workers.currentNumber,r.stats.get(C1.ALL).workers.maximum+=o.workers.maximumNumber,r.stats.get(o.location[0]).workers.maximum+=o.workers.maximumNumber,r.stats.get(C1.ALL).soldiers.total+=o.soldiers.currentNumber,r.stats.get(o.location[0]).soldiers.total+=o.soldiers.currentNumber,r.stats.get(C1.ALL).resources.ground+=o.ground,r.stats.get(o.location[0]).resources.ground+=o.ground,r.stats.get(C1.ALL).resources.orbit+=o.orbit,r.stats.get(o.location[0]).resources.orbit+=o.orbit,o.resources.forEach(c=>{switch(c.name){case C1.METAL:r.stats.get(C1.ALL).resources.metalStored+=c.stored,r.stats.get(C1.ALL).resources.metalProduction+=c.production,r.stats.get(o.location[0]).resources.metalStored+=c.stored,r.stats.get(o.location[0]).resources.metalProduction+=c.production;break;case C1.MINERAL:r.stats.get(C1.ALL).resources.mineralStored+=c.stored,r.stats.get(C1.ALL).resources.mineralProduction+=c.production,r.stats.get(o.location[0]).resources.mineralStored+=c.stored,r.stats.get(o.location[0]).resources.mineralProduction+=c.production;break;case C1.FOOD:r.stats.get(C1.ALL).resources.foodStored+=c.stored,r.stats.get(C1.ALL).resources.foodProduction+=c.production,r.stats.get(o.location[0]).resources.foodStored+=c.stored,r.stats.get(o.location[0]).resources.foodProduction+=c.production;break;case C1.ENERGY:r.stats.get(C1.ALL).resources.energyStored+=c.stored,r.stats.get(C1.ALL).resources.energyProduction+=c.production,r.stats.get(o.location[0]).resources.energyStored+=c.stored,r.stats.get(o.location[0]).resources.energyProduction+=c.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),G2e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=m.Yjl({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),uS=(()=>{var t;class e{constructor(){this.decimalPipe=(0,m.f3M)(Te)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=m.Yjl({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const q2e=function(t){return{"dgt-stats-totals-last-row":t}},br=function(t){return{"dgt-padding-bottom-xs":t}},W2e=function(){return{color:"#ccc"}},Z2e=function(){return["fas","coins"]},K2e=function(){return{color:"#ff8484"}},Y2e=function(){return["fas","cubes-stacked"]},Q2e=function(){return{color:"#7bbd1a"}},J2e=function(){return["fas","carrot"]},X2e=function(){return{color:"#0ca1e1"}},e1e=function(){return["fas","bolt"]},_R=function(){return{color:"#fff"}},t1e=function(){return["fas","tree-city"]},n1e=function(){return["fas","satellite"]},r1e=function(){return{color:"#DF4A4AFF"}},i1e=function(){return["fas","person-rifle"]};function s1e(t,e){if(1&t&&(m.TgZ(0,"tr",4)(1,"th",5),m._uU(2),m.ALo(3,"galaxyNameFormatter"),m.qZA(),m.TgZ(4,"td",6)(5,"div",7),m._UZ(6,"fa-icon",8),m.TgZ(7,"span",9),m._uU(8),m.ALo(9,"number"),m.qZA()()(),m.TgZ(10,"td",10)(11,"div",7)(12,"span",9),m._uU(13),m.ALo(14,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(15,"td",11)(16,"div",12),m._UZ(17,"fa-icon",8),m.TgZ(18,"span",9),m._uU(19),m.ALo(20,"number"),m.qZA()()(),m.TgZ(21,"td",10)(22,"div",12)(23,"span",9),m._uU(24),m.ALo(25,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(26,"td",11)(27,"div",13),m._UZ(28,"fa-icon",8),m.TgZ(29,"span",9),m._uU(30),m.ALo(31,"number"),m.qZA()()(),m.TgZ(32,"td",10)(33,"div",13)(34,"span",9),m._uU(35),m.ALo(36,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(37,"td",11)(38,"div",14),m._UZ(39,"fa-icon",8),m.TgZ(40,"span",9),m._uU(41),m.ALo(42,"number"),m.qZA()()(),m.TgZ(43,"td",15)(44,"div",14)(45,"span",9),m._uU(46),m.ALo(47,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(48,"td",16)(49,"div",17),m._UZ(50,"fa-icon",8),m.TgZ(51,"span",9),m._uU(52),m.ALo(53,"number"),m.qZA()()(),m.TgZ(54,"td",18)(55,"div",19),m._UZ(56,"fa-icon",8),m.TgZ(57,"span",9),m._uU(58),m.ALo(59,"number"),m.qZA()()(),m.TgZ(60,"td",20)(61,"div",21),m._UZ(62,"fa-icon",8),m.TgZ(63,"span",9),m._uU(64),m.ALo(65,"number"),m.qZA()()()()),2&t){const n=e.$implicit,r=e.index,o=m.oxw();m.Q6J("ngClass",m.VKq(84,q2e,r==o.panel.stats.size-1)),m.xp6(1),m.Q6J("ngClass",m.VKq(86,br,r==o.panel.stats.size-2)),m.xp6(1),m.Oqu(m.lcZ(3,46,n.key)),m.xp6(2),m.Q6J("ngClass",m.VKq(88,br,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(90,W2e)),m.Q6J("icon",m.DdM(91,Z2e)),m.xp6(2),m.Oqu(m.Dn7(9,48,n.value.resources.metalStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(92,br,r==o.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(14,52,n.value.resources.metalProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(94,br,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(96,K2e)),m.Q6J("icon",m.DdM(97,Y2e)),m.xp6(2),m.Oqu(m.Dn7(20,54,n.value.resources.mineralStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(98,br,r==o.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(25,58,n.value.resources.mineralProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(100,br,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(102,Q2e)),m.Q6J("icon",m.DdM(103,J2e)),m.xp6(2),m.Oqu(m.Dn7(31,60,n.value.resources.foodStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(104,br,r==o.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(36,64,n.value.resources.foodProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(106,br,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(108,X2e)),m.Q6J("icon",m.DdM(109,e1e)),m.xp6(2),m.Oqu(m.Dn7(42,66,n.value.resources.energyStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(110,br,r==o.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(47,70,n.value.resources.energyProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(112,br,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(114,_R)),m.Q6J("icon",m.DdM(115,t1e)),m.xp6(2),m.Oqu(m.Dn7(53,72,n.value.resources.ground,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(116,br,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(118,_R)),m.Q6J("icon",m.DdM(119,n1e)),m.xp6(2),m.Oqu(m.Dn7(59,76,n.value.resources.orbit,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(120,br,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(122,r1e)),m.Q6J("icon",m.DdM(123,i1e)),m.xp6(2),m.Oqu(m.Dn7(65,80,n.value.soldiers.total,"1.0","en-US"))}}let o1e=(()=>{var t;class e{constructor(r){this.statsPanelService=(0,m.f3M)(CR),r.addIcons(J3,vk,v,dI,yV,CN,OT)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(aS))},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],[3,"icon"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],[1,"dgt-resource","resource","food"],[1,"dgt-resource","resource","energy"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"]],template:function(r,o){1&r&&(m.TgZ(0,"div",0)(1,"div",1)(2,"table",2),m.YNc(3,s1e,66,124,"tr",3),m.ALo(4,"keyvalue"),m.qZA()()()),2&r&&(m.xp6(3),m.Q6J("ngForOf",m.lcZ(4,1,o.panel.stats)))},dependencies:[Ai,T4,uR,Te,Ws,G2e,uS],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:20px!important;padding:0}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:20px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}"]}),e})(),fS=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[hR,mR,gR,Rv],imports:[d2]}),e})(),a1e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[o1e]}),t.\u0275inj=m.cJS({providers:[Te,CR],imports:[vr,fR,fS]}),e})();var c1e=k(7394);class l1e extends c1e.w0{constructor(e,n){super()}schedule(e,n=0){return this}}const Ov={setInterval(t,e,...n){const{delegate:r}=Ov;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Ov;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var u1e=k(9039);class MR extends l1e{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,n),this}requestAsyncId(e,n,r=0){return Ov.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Ov.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let o,r=!1;try{this.work(e)}catch(c){r=!0,o=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,u1e.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const dS={now:()=>(dS.delegate||Date).now(),delegate:void 0};class _7{constructor(e,n=_7.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}_7.now=dS.now;class wR extends _7{constructor(e,n=_7.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const bR=new wR(MR);var M7=k(3018),Ha=k(2459),I0=k(2096),kt=k(534);(0,kt.registerVersion)("firebase","9.23.0","app");var G=k(5861),rt=k(9058),Wr=k(4537),Zr=k(7879);const h1e=(t,e)=>e.some(n=>t instanceof n);let HR,VR;const IR=new WeakMap,hS=new WeakMap,SR=new WeakMap,pS=new WeakMap,mS=new WeakMap;let gS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return hS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||SR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return c4(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _1e(t){return"function"==typeof t?function C1e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function m1e(){return VR||(VR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vS(this),e),c4(IR.get(this))}:function(...e){return c4(t.apply(vS(this),e))}:function(e,...n){const r=t.call(vS(this),e,...n);return SR.set(r,e.sort?e.sort():[e]),c4(r)}}(t):(t instanceof IDBTransaction&&function v1e(t){if(hS.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});hS.set(t,e)}(t),h1e(t,function p1e(){return HR||(HR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,gS):t)}function c4(t){if(t instanceof IDBRequest)return function g1e(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(c4(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&IR.set(n,t)}).catch(()=>{}),mS.set(e,t),e}(t);if(pS.has(t))return pS.get(t);const e=_1e(t);return e!==t&&(pS.set(t,e),mS.set(e,t)),e}const vS=t=>mS.get(t),w1e=["get","getKey","getAll","getAllKeys","count"],b1e=["put","add","delete","clear"],yS=new Map;function zR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(yS.get(e))return yS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=b1e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!w1e.includes(n))return;const c=function(){var u=(0,G.Z)(function*(p,...y){const b=this.transaction(p,o?"readwrite":"readonly");let H=b.store;return r&&(H=H.index(y.shift())),(yield Promise.all([H[n](...y),o&&b.done]))[0]});return function(y){return u.apply(this,arguments)}}();return yS.set(e,c),c}!function y1e(t){gS=t(gS)}(t=>({...t,get:(e,n,r)=>zR(e,n)||t.get(e,n,r),has:(e,n)=>!!zR(e,n)||t.has(e,n)}));const ER="@firebase/installations",CS="0.6.4",LR=1e4,xR=`w:${CS}`,DR="FIS_v2",H1e="https://firebaseinstallations.googleapis.com/v1",V1e=36e5,Hs=new rt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function AR(t){return t instanceof rt.ZR&&t.code.includes("request-failed")}function _S({projectId:t}){return`${H1e}/projects/${t}/installations`}function TR(t){return{token:t.token,requestStatus:2,expiresIn:E1e(t.expiresIn),creationTime:Date.now()}}function MS(t,e){return wS.apply(this,arguments)}function wS(){return(wS=(0,G.Z)(function*(t,e){const r=(yield e.json()).error;return Hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function NR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bS(t){return HS.apply(this,arguments)}function HS(){return(HS=(0,G.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function E1e(t){return Number(t.replace("s","000"))}function VS(){return(VS=(0,G.Z)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_S(t),o=NR(t),c=e.getImmediate({optional:!0});if(c){const b=yield c.getHeartbeatsHeader();b&&o.append("x-firebase-client",b)}const p={method:"POST",headers:o,body:JSON.stringify({fid:n,authVersion:DR,appId:t.appId,sdkVersion:xR})},y=yield bS(()=>fetch(r,p));if(y.ok){const b=yield y.json();return{fid:b.fid||n,registrationStatus:2,refreshToken:b.refreshToken,authToken:TR(b.authToken)}}throw yield MS("Create Installation",y)})).apply(this,arguments)}function PR(t){return new Promise(e=>{setTimeout(e,t)})}const A1e=/^[cdef][\w-]{21}$/,IS="";function T1e(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function N1e(t){return function D1e(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return A1e.test(n)?n:IS}catch{return IS}}function S0(t){return`${t.appName}!${t.appId}`}const z0=new Map;function RR(t,e){const n=S0(t);OR(n,e),function R1e(t,e){const n=function FR(){return!Va&&"BroadcastChannel"in self&&(Va=new BroadcastChannel("[Firebase] FID Change"),Va.onmessage=t=>{OR(t.data.key,t.data.fid)}),Va}();n&&n.postMessage({key:t,fid:e}),function BR(){0===z0.size&&Va&&(Va.close(),Va=null)}()}(n,e)}function OR(t,e){const n=z0.get(t);if(n)for(const r of n)r(e)}let Va=null;const O1e="firebase-installations-database",F1e=1,Ia="firebase-installations-store";let SS=null;function zS(){return SS||(SS=function M1e(t,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),p=c4(u);return r&&u.addEventListener("upgradeneeded",y=>{r(c4(u.result),y.oldVersion,y.newVersion,c4(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",()=>o())}).catch(()=>{}),p}(O1e,F1e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ia)}})),SS}function Fv(t,e){return ES.apply(this,arguments)}function ES(){return(ES=(0,G.Z)(function*(t,e){const n=S0(t),o=(yield zS()).transaction(Ia,"readwrite"),c=o.objectStore(Ia),u=yield c.get(n);return yield c.put(e,n),yield o.done,(!u||u.fid!==e.fid)&&RR(t,e.fid),e})).apply(this,arguments)}function LS(t){return xS.apply(this,arguments)}function xS(){return(xS=(0,G.Z)(function*(t){const e=S0(t),r=(yield zS()).transaction(Ia,"readwrite");yield r.objectStore(Ia).delete(e),yield r.done})).apply(this,arguments)}function w7(t,e){return DS.apply(this,arguments)}function DS(){return(DS=(0,G.Z)(function*(t,e){const n=S0(t),o=(yield zS()).transaction(Ia,"readwrite"),c=o.objectStore(Ia),u=yield c.get(n),p=e(u);return void 0===p?yield c.delete(n):yield c.put(p,n),yield o.done,p&&(!u||u.fid!==p.fid)&&RR(t,p.fid),p})).apply(this,arguments)}function AS(t){return TS.apply(this,arguments)}function TS(){return TS=(0,G.Z)(function*(t){let e;const n=yield w7(t.appConfig,r=>{const o=function B1e(t){return jR(t||{fid:T1e(),registrationStatus:0})}(r),c=function U1e(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hs.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function j1e(t,e){return NS.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:$1e(t)}:{installationEntry:e}}(t,o);return e=c.registrationPromise,c.installationEntry});return n.fid===IS?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),TS.apply(this,arguments)}function NS(){return NS=(0,G.Z)(function*(t,e){try{const n=yield function x1e(t,e){return VS.apply(this,arguments)}(t,e);return Fv(t.appConfig,n)}catch(n){throw AR(n)&&409===n.customData.serverCode?yield LS(t.appConfig):yield Fv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),NS.apply(this,arguments)}function $1e(t){return kS.apply(this,arguments)}function kS(){return(kS=(0,G.Z)(function*(t){let e=yield UR(t.appConfig);for(;1===e.registrationStatus;)yield PR(100),e=yield UR(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield AS(t);return r||n}return e})).apply(this,arguments)}function UR(t){return w7(t,e=>{if(!e)throw Hs.create("installation-not-found");return jR(e)})}function jR(t){return function G1e(t){return 1===t.registrationStatus&&t.registrationTime+LR<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function PS(){return(PS=(0,G.Z)(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function W1e(t,{fid:e}){return`${_S(t)}/${e}/authTokens:generate`}(t,n),o=function kR(t,{refreshToken:e}){const n=NR(t);return n.append("Authorization",function L1e(t){return`${DR} ${t}`}(e)),n}(t,n),c=e.getImmediate({optional:!0});if(c){const b=yield c.getHeartbeatsHeader();b&&o.append("x-firebase-client",b)}const p={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:xR,appId:t.appId}})},y=yield bS(()=>fetch(r,p));if(y.ok)return TR(yield y.json());throw yield MS("Generate Auth Token",y)})).apply(this,arguments)}function RS(t){return OS.apply(this,arguments)}function OS(){return OS=(0,G.Z)(function*(t,e=!1){let n;const r=yield w7(t.appConfig,c=>{if(!GR(c))throw Hs.create("not-registered");const u=c.authToken;if(!e&&function Y1e(t){return 2===t.requestStatus&&!function Q1e(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+V1e}(t)}(u))return c;if(1===u.requestStatus)return n=function Z1e(t,e){return FS.apply(this,arguments)}(t,e),c;{if(!navigator.onLine)throw Hs.create("app-offline");const p=function J1e(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(c);return n=function K1e(t,e){return BS.apply(this,arguments)}(t,p),p}});return n?yield n:r.authToken}),OS.apply(this,arguments)}function FS(){return(FS=(0,G.Z)(function*(t,e){let n=yield $R(t.appConfig);for(;1===n.authToken.requestStatus;)yield PR(100),n=yield $R(t.appConfig);const r=n.authToken;return 0===r.requestStatus?RS(t,e):r})).apply(this,arguments)}function $R(t){return w7(t,e=>{if(!GR(e))throw Hs.create("not-registered");return function X1e(t){return 1===t.requestStatus&&t.requestTime+LR<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function BS(){return BS=(0,G.Z)(function*(t,e){try{const n=yield function q1e(t,e){return PS.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Fv(t.appConfig,r),n}catch(n){if(!AR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Fv(t.appConfig,r)}else yield LS(t.appConfig);throw n}}),BS.apply(this,arguments)}function GR(t){return void 0!==t&&2===t.registrationStatus}function US(){return(US=(0,G.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield AS(e);return r?r.catch(console.error):RS(e).catch(console.error),n.fid})).apply(this,arguments)}function jS(){return jS=(0,G.Z)(function*(t,e=!1){const n=t;return yield function nne(t){return $S.apply(this,arguments)}(n),(yield RS(n,e)).token}),jS.apply(this,arguments)}function $S(){return($S=(0,G.Z)(function*(t){const{registrationPromise:e}=yield AS(t);e&&(yield e)})).apply(this,arguments)}function WS(t){return Hs.create("missing-app-config-values",{valueName:t})}const qR="installations",ane=t=>{const e=t.getProvider("app").getImmediate(),n=function sne(t){if(!t||!t.options)throw WS("App Configuration");if(!t.name)throw WS("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw WS(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:(0,kt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},cne=t=>{const e=t.getProvider("app").getImmediate(),n=(0,kt._getProvider)(e,qR).getImmediate();return{getId:()=>function ene(t){return US.apply(this,arguments)}(n),getToken:o=>function tne(t){return jS.apply(this,arguments)}(n,o)}};(function lne(){(0,kt._registerComponent)(new Wr.wA(qR,ane,"PUBLIC")),(0,kt._registerComponent)(new Wr.wA("installations-internal",cne,"PRIVATE"))})(),(0,kt.registerVersion)(ER,CS),(0,kt.registerVersion)(ER,CS,"esm2017");const ZS="@firebase/remote-config",Nn=new rt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _ne{constructor(e,n,r,o){this.client=e,this.storage=n,this.storageCache=r,this.logger=o}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,o=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${o}.`),o}fetch(e){var n=this;return(0,G.Z)(function*(){const[r,o]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(o&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return o;e.eTag=o&&o.eTag;const c=yield n.client.fetch(e),u=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===c.status&&u.push(n.storage.setLastSuccessfulFetchResponse(c)),yield Promise.all(u),c})()}}function Mne(t=navigator){return t.languages&&t.languages[0]||t.language}class wne{constructor(e,n,r,o,c,u){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=o,this.apiKey=c,this.appId=u}fetch(e){var n=this;return(0,G.Z)(function*(){const[r,o]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,p={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},y={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:o,app_id:n.appId,language_code:Mne()},b={method:"POST",headers:p,body:JSON.stringify(y)},H=fetch(u,b),S=new Promise((je,qe)=>{e.signal.addEventListener(()=>{const Ze=new Error("The operation was aborted.");Ze.name="AbortError",qe(Ze)})});let N;try{yield Promise.race([H,S]),N=yield H}catch(je){let qe="fetch-client-network";throw"AbortError"===je?.name&&(qe="fetch-timeout"),Nn.create(qe,{originalErrorMessage:je?.message})}let U=N.status;const ae=N.headers.get("ETag")||void 0;let Ce,Me;if(200===N.status){let je;try{je=yield N.json()}catch(qe){throw Nn.create("fetch-client-parse",{originalErrorMessage:qe?.message})}Ce=je.entries,Me=je.state}if("INSTANCE_STATE_UNSPECIFIED"===Me?U=500:"NO_CHANGE"===Me?U=304:("NO_TEMPLATE"===Me||"EMPTY_CONFIG"===Me)&&(Ce={}),304!==U&&200!==U)throw Nn.create("fetch-status",{httpStatus:U});return{status:U,eTag:ae,config:Ce}})()}}class Vne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,G.Z)(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var o=this;return(0,G.Z)(function*(){yield function bne(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(c),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const c=yield o.client.fetch(e);return yield o.storage.deleteThrottleMetadata(),c}catch(c){if(!function Hne(t){if(!(t instanceof rt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c))throw c;const u={throttleEndTimeMillis:Date.now()+(0,rt.$s)(r),backoffCount:r+1};return yield o.storage.setThrottleMetadata(u),o.attemptFetch(e,u)}})()}}class zne{constructor(e,n,r,o,c){this.app=e,this._client=n,this._storageCache=r,this._storage=o,this._logger=c,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Uv(t,e){const n=t.target.error||void 0;return Nn.create(e,{originalErrorMessage:n&&n?.message})}const Sa="app_namespace_store";class Dne{constructor(e,n,r,o=function xne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Uv(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Sa,{keyPath:"compositeKey"})}}catch(n){e(Nn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=o}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,G.Z)(function*(){const r=yield n.openDbPromise;return new Promise((o,c)=>{const p=r.transaction([Sa],"readonly").objectStore(Sa),y=n.createCompositeKey(e);try{const b=p.get(y);b.onerror=H=>{c(Uv(H,"storage-get"))},b.onsuccess=H=>{const S=H.target.result;o(S?S.value:void 0)}}catch(b){c(Nn.create("storage-get",{originalErrorMessage:b?.message}))}})})()}set(e,n){var r=this;return(0,G.Z)(function*(){const o=yield r.openDbPromise;return new Promise((c,u)=>{const y=o.transaction([Sa],"readwrite").objectStore(Sa),b=r.createCompositeKey(e);try{const H=y.put({compositeKey:b,value:n});H.onerror=S=>{u(Uv(S,"storage-set"))},H.onsuccess=()=>{c()}}catch(H){u(Nn.create("storage-set",{originalErrorMessage:H?.message}))}})})()}delete(e){var n=this;return(0,G.Z)(function*(){const r=yield n.openDbPromise;return new Promise((o,c)=>{const p=r.transaction([Sa],"readwrite").objectStore(Sa),y=n.createCompositeKey(e);try{const b=p.delete(y);b.onerror=H=>{c(Uv(H,"storage-delete"))},b.onsuccess=()=>{o()}}catch(b){c(Nn.create("storage-delete",{originalErrorMessage:b?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ane{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,G.Z)(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),o=e.storage.getActiveConfig(),c=yield n;c&&(e.lastFetchStatus=c);const u=yield r;u&&(e.lastSuccessfulFetchTimestampMillis=u);const p=yield o;p&&(e.activeConfig=p)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Nne(){return XS.apply(this,arguments)}function XS(){return(XS=(0,G.Z)(function*(){if(!(0,rt.hl)())return!1;try{return yield(0,rt.eu)()}catch{return!1}})).apply(this,arguments)}!function Tne(){(0,kt._registerComponent)(new Wr.wA("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!(0,rt.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:c,apiKey:u,appId:p}=r.options;if(!c)throw Nn.create("registration-project-id");if(!u)throw Nn.create("registration-api-key");if(!p)throw Nn.create("registration-app-id");const y=new Dne(p,r.name,n=n||"firebase"),b=new Ane(y),H=new Zr.Yd(ZS);H.logLevel=Zr.in.ERROR;const S=new wne(o,kt.SDK_VERSION,n,c,u,p),N=new Vne(S,y),U=new _ne(N,y,b,H),ae=new zne(r,U,b,y,H);return function vne(t){const e=(0,rt.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(ae),ae},"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(ZS,"0.4.4"),(0,kt.registerVersion)(ZS,"0.4.4","esm2017")}();const kne=(t,e)=>e.some(n=>t instanceof n);let YR,QR;const JR=new WeakMap,ez=new WeakMap,XR=new WeakMap,tz=new WeakMap,nz=new WeakMap;let rz={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ez.get(t);if("objectStoreNames"===e)return t.objectStoreNames||XR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function jne(t){return"function"==typeof t?function Une(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rne(){return QR||(QR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(iz(this),e),Vs(JR.get(this))}:function(...e){return Vs(t.apply(iz(this),e))}:function(e,...n){const r=t.call(iz(this),e,...n);return XR.set(r,e.sort?e.sort():[e]),Vs(r)}}(t):(t instanceof IDBTransaction&&function Fne(t){if(ez.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});ez.set(t,e)}(t),kne(t,function Pne(){return YR||(YR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,rz):t)}function Vs(t){if(t instanceof IDBRequest)return function One(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(Vs(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&JR.set(n,t)}).catch(()=>{}),nz.set(e,t),e}(t);if(tz.has(t))return tz.get(t);const e=jne(t);return e!==t&&(tz.set(t,e),nz.set(e,t)),e}const iz=t=>nz.get(t);function eO(t,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),p=Vs(u);return r&&u.addEventListener("upgradeneeded",y=>{r(Vs(u.result),y.oldVersion,y.newVersion,Vs(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",()=>o())}).catch(()=>{}),p}function sz(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Vs(n).then(()=>{})}const $ne=["get","getKey","getAll","getAllKeys","count"],Gne=["put","add","delete","clear"],oz=new Map;function tO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(oz.get(e))return oz.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Gne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!$ne.includes(n))return;const c=function(){var u=(0,G.Z)(function*(p,...y){const b=this.transaction(p,o?"readwrite":"readonly");let H=b.store;return r&&(H=H.index(y.shift())),(yield Promise.all([H[n](...y),o&&b.done]))[0]});return function(y){return u.apply(this,arguments)}}();return oz.set(e,c),c}!function Bne(t){rz=t(rz)}(t=>({...t,get:(e,n,r)=>tO(e,n)||t.get(e,n,r),has:(e,n)=>!!tO(e,n)||t.has(e,n)}));const qne="/firebase-messaging-sw.js",Wne="/firebase-cloud-messaging-push-scope",nO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zne="https://fcmregistrations.googleapis.com/v1",rO="google.c.a.c_id",Kne="google.c.a.c_l",Yne="google.c.a.ts";var jv=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(jv||{});function Is(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),o=new Uint8Array(r.length);for(let c=0;c<r.length;++c)o[c]=r.charCodeAt(c);return o}const az="fcm_token_details_db",ere=5,iO="fcm_token_object_Store";function cz(){return cz=(0,G.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(c=>c.name).includes(az))return null;let e=null;return(yield eO(az,ere,{upgrade:(r=(0,G.Z)(function*(o,c,u,p){var y;if(c<2||!o.objectStoreNames.contains(iO))return;const b=p.objectStore(iO),H=yield b.index("fcmSenderId").get(t);if(yield b.clear(),H)if(2===c){const S=H;if(!S.auth||!S.p256dh||!S.endpoint)return;e={token:S.fcmToken,createTime:null!==(y=S.createTime)&&void 0!==y?y:Date.now(),subscriptionOptions:{auth:S.auth,p256dh:S.p256dh,endpoint:S.endpoint,swScope:S.swScope,vapidKey:"string"==typeof S.vapidKey?S.vapidKey:Is(S.vapidKey)}}}else if(3===c){const S=H;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:Is(S.auth),p256dh:Is(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:Is(S.vapidKey)}}}else if(4===c){const S=H;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:Is(S.auth),p256dh:Is(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:Is(S.vapidKey)}}}}),function(c,u,p,y){return r.apply(this,arguments)})})).close(),yield sz(az),yield sz("fcm_vapid_details_db"),yield sz("undefined"),function nre(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),cz.apply(this,arguments)}const rre="firebase-messaging-database",ire=1,za="firebase-messaging-store";let lz=null;function uz(){return lz||(lz=eO(rre,ire,{upgrade:(t,e)=>{0===e&&t.createObjectStore(za)}})),lz}function sO(t){return fz.apply(this,arguments)}function fz(){return fz=(0,G.Z)(function*(t){const e=mz(t),r=yield(yield uz()).transaction(za).objectStore(za).get(e);if(r)return r;{const o=yield function tre(t){return cz.apply(this,arguments)}(t.appConfig.senderId);if(o)return yield dz(t,o),o}}),fz.apply(this,arguments)}function dz(t,e){return hz.apply(this,arguments)}function hz(){return(hz=(0,G.Z)(function*(t,e){const n=mz(t),o=(yield uz()).transaction(za,"readwrite");return yield o.objectStore(za).put(e,n),yield o.done,e})).apply(this,arguments)}function pz(){return(pz=(0,G.Z)(function*(t){const e=mz(t),r=(yield uz()).transaction(za,"readwrite");yield r.objectStore(za).delete(e),yield r.done})).apply(this,arguments)}function mz({appConfig:t}){return t.appId}const q1=new rt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function are(t,e){return gz.apply(this,arguments)}function gz(){return(gz=(0,G.Z)(function*(t,e){const n=yield _z(t),r=aO(e),o={method:"POST",headers:n,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(Cz(t.appConfig),o)).json()}catch(u){throw q1.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(c.error)throw q1.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw q1.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function vz(){return(vz=(0,G.Z)(function*(t,e){const n=yield _z(t),r=aO(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(`${Cz(t.appConfig)}/${e.token}`,o)).json()}catch(u){throw q1.create("token-update-failed",{errorInfo:u?.toString()})}if(c.error)throw q1.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw q1.create("token-update-no-token");return c.token})).apply(this,arguments)}function oO(t,e){return yz.apply(this,arguments)}function yz(){return(yz=(0,G.Z)(function*(t,e){const r={method:"DELETE",headers:yield _z(t)};try{const c=yield(yield fetch(`${Cz(t.appConfig)}/${e}`,r)).json();if(c.error)throw q1.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(o){throw q1.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function Cz({projectId:t}){return`${Zne}/projects/${t}/registrations`}function _z(t){return Mz.apply(this,arguments)}function Mz(){return(Mz=(0,G.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function aO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const o={web:{endpoint:n,auth:e,p256dh:t}};return r!==nO&&(o.web.applicationPubKey=r),o}const lre=6048e5;function wz(){return wz=(0,G.Z)(function*(t){const e=yield function dre(t,e){return Iz.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Is(e.getKey("auth")),p256dh:Is(e.getKey("p256dh"))},r=yield sO(t.firebaseDependencies);if(r){if(function hre(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+lre?function fre(t,e){return Hz.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield oO(t.firebaseDependencies,r.token)}catch(o){console.warn(o)}return lO(t.firebaseDependencies,n)}return lO(t.firebaseDependencies,n)}),wz.apply(this,arguments)}function bz(){return bz=(0,G.Z)(function*(t){const e=yield sO(t.firebaseDependencies);e&&(yield oO(t.firebaseDependencies,e.token),yield function sre(t){return pz.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),bz.apply(this,arguments)}function Hz(){return Hz=(0,G.Z)(function*(t,e){try{const n=yield function cre(t,e){return vz.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield dz(t.firebaseDependencies,r),n}catch(n){throw yield function cO(t){return bz.apply(this,arguments)}(t),n}}),Hz.apply(this,arguments)}function lO(t,e){return Vz.apply(this,arguments)}function Vz(){return(Vz=(0,G.Z)(function*(t,e){const r={token:yield are(t,e),createTime:Date.now(),subscriptionOptions:e};return yield dz(t,r),r.token})).apply(this,arguments)}function Iz(){return(Iz=(0,G.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xne(e)})})).apply(this,arguments)}function uO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function pre(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const o=e.notification.image;o&&(t.notification.image=o);const c=e.notification.icon;c&&(t.notification.icon=c)}(e,t),function mre(t,e){e.data&&(t.data=e.data)}(e,t),function gre(t,e){var n,r,o,c,u;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const p=null!==(o=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==o?o:null===(c=e.notification)||void 0===c?void 0:c.click_action;p&&(t.fcmOptions.link=p);const y=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;y&&(t.fcmOptions.analyticsLabel=y)}(e,t),e}function fO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Sz(t){return q1.create("missing-app-config-values",{valueName:t})}fO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Cre{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=function yre(t){if(!t||!t.options)throw Sz("App Configuration Object");if(!t.name)throw Sz("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Sz(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:o,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function zz(){return(zz=(0,G.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(qne,{scope:Wne}),t.swRegistration.update().catch(()=>{})}catch(e){throw q1.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Ez(){return(Ez=(0,G.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield function dO(t){return zz.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw q1.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Lz(){return(Lz=(0,G.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=nO)})).apply(this,arguments)}function xz(){return xz=(0,G.Z)(function*(t,e){if(!navigator)throw q1.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw q1.create("permission-blocked");return yield function Mre(t,e){return Lz.apply(this,arguments)}(t,e?.vapidKey),yield function _re(t,e){return Ez.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function ure(t){return wz.apply(this,arguments)}(t)}),xz.apply(this,arguments)}function Dz(){return(Dz=(0,G.Z)(function*(t,e,n){const r=function bre(t){switch(t){case jv.NOTIFICATION_CLICKED:return"notification_open";case jv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rO],message_name:n[Kne],message_time:n[Yne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Az(){return Az=(0,G.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===jv.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(uO(n)):t.onMessageHandler.next(uO(n)));const r=n.data;(function vre(t){return"object"==typeof t&&!!t&&rO in t})(r)&&"1"===r["google.c.a.e"]&&(yield function wre(t,e,n){return Dz.apply(this,arguments)}(t,n.messageType,r))}),Az.apply(this,arguments)}const pO="@firebase/messaging",Vre=t=>{const e=new Cre(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Hre(t,e){return Az.apply(this,arguments)}(e,n)),e},Ire=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function hO(t,e){return xz.apply(this,arguments)}(e,r)}};function gO(){return Tz.apply(this,arguments)}function Tz(){return(Tz=(0,G.Z)(function*(){try{yield(0,rt.eu)()}catch{return!1}return typeof window<"u"&&(0,rt.hl)()&&(0,rt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sre(){(0,kt._registerComponent)(new Wr.wA("messaging",Vre,"PUBLIC")),(0,kt._registerComponent)(new Wr.wA("messaging-internal",Ire,"PRIVATE")),(0,kt.registerVersion)(pO,"0.12.4"),(0,kt.registerVersion)(pO,"0.12.4","esm2017")}();const $v="analytics",Lre="firebase_id",xre="origin",Dre=6e4,Are="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pz="https://www.googletagmanager.com/gtag/js",L1=new Zr.Yd("@firebase/analytics"),bn=new rt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Nre(t){if(!t.startsWith(Pz)){const e=bn.create("invalid-gtag-resource",{gtagURL:t});return L1.warn(e.message),""}return t}function vO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Rz(){return(Rz=(0,G.Z)(function*(t,e,n,r,o,c){const u=r[o];try{if(u)yield e[u];else{const y=(yield vO(n)).find(b=>b.measurementId===o);y&&(yield e[y.appId])}}catch(p){L1.error(p)}t("config",o,c)})).apply(this,arguments)}function Oz(){return(Oz=(0,G.Z)(function*(t,e,n,r,o){try{let c=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const p=yield vO(n);for(const y of u){const b=p.find(S=>S.measurementId===y),H=b&&e[b.appId];if(!H){c=[];break}c.push(H)}}0===c.length&&(c=Object.values(e)),yield Promise.all(c),t("event",r,o||{})}catch(c){L1.error(c)}})).apply(this,arguments)}const $re=30,yO=new class qre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Wre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Fz(){return(Fz=(0,G.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,o={method:"GET",headers:Wre(r)},c=Are.replace("{app-id}",n),u=yield fetch(c,o);if(200!==u.status&&304!==u.status){let p="";try{const y=yield u.json();null!==(e=y.error)&&void 0!==e&&e.message&&(p=y.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()})).apply(this,arguments)}function Bz(){return(Bz=(0,G.Z)(function*(t,e=yO,n){const{appId:r,apiKey:o,measurementId:c}=t.options;if(!r)throw bn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw bn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Jre;return setTimeout((0,G.Z)(function*(){p.abort()}),void 0!==n?n:Dre),CO({appId:r,apiKey:o,measurementId:c},u,p,e)})).apply(this,arguments)}function CO(t,e,n){return Uz.apply(this,arguments)}function Uz(){return Uz=(0,G.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,o=yO){var c;const{appId:u,measurementId:p}=t;try{yield function Yre(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(c),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(y){if(p)return L1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:p};throw y}try{const y=yield function Zre(t){return Fz.apply(this,arguments)}(t);return o.deleteThrottleMetadata(u),y}catch(y){const b=y;if(!function Qre(t){if(!(t instanceof rt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(b)){if(o.deleteThrottleMetadata(u),p)return L1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:u,measurementId:p};throw y}const H=503===Number(null===(c=b?.customData)||void 0===c?void 0:c.httpStatus)?(0,rt.$s)(n,o.intervalMillis,$re):(0,rt.$s)(n,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+H,backoffCount:n+1};return o.setThrottleMetadata(u,S),L1.debug(`Calling attemptFetch again in ${H} millis`),CO(t,S,r,o)}}),Uz.apply(this,arguments)}class Jre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let jz,Yz;function $z(){return($z=(0,G.Z)(function*(t,e,n,r,o){if(o&&o.global)t("event",n,r);else{const c=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:c}))}})).apply(this,arguments)}function Qz(){return(Qz=(0,G.Z)(function*(){if(!(0,rt.hl)())return L1.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,rt.eu)()}catch(t){return L1.warn(bn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Jz(){return Jz=(0,G.Z)(function*(t,e,n,r,o,c,u){var p;const y=function Kre(t){return Bz.apply(this,arguments)}(t);y.then(U=>{n[U.measurementId]=U.appId,t.options.measurementId&&U.measurementId!==t.options.measurementId&&L1.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>L1.error(U)),e.push(y);const b=function sie(){return Qz.apply(this,arguments)}().then(U=>{if(U)return r.getId()}),[H,S]=yield Promise.all([y,b]);(function jre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Pz)&&n.src.includes(t))return n;return null})(c)||function Pre(t,e){const n=function kre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Nre}),r=document.createElement("script"),o=`${Pz}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}(c,H.measurementId),Yz&&(o("consent","default",Yz),function _O(t){Yz=t}(void 0)),o("js",new Date);const N=null!==(p=u?.config)&&void 0!==p?p:{};return N[xre]="firebase",N.update=!0,null!=S&&(N[Lre]=S),o("config",H.measurementId,N),jz&&(o("set",jz),function MO(t){jz=t}(void 0)),H.measurementId}),Jz.apply(this,arguments)}class aie{constructor(e){this.app=e}_delete(){return delete wi[this.app.options.appId],Promise.resolve()}}let wi={},wO=[];const bO={};let VO,bi,Gv="dataLayer",Xz=!1;function lie(t,e,n){!function cie(){const t=[];if((0,rt.ru)()&&t.push("This is a browser extension environment."),(0,rt.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});L1.warn(n.message)}}();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw bn.create("no-api-key");L1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wi[r])throw bn.create("already-exists",{id:r});if(!Xz){!function Rre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Gv);const{wrappedGtag:c,gtagCore:u}=function Ure(t,e,n,r,o){let c=function(...u){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(c=window[o]),window[o]=function Bre(t,e,n,r){function c(){return c=(0,G.Z)(function*(u,...p){try{if("event"===u){const[y,b]=p;yield function Fre(t,e,n,r,o){return Oz.apply(this,arguments)}(t,e,n,y,b)}else if("config"===u){const[y,b]=p;yield function Ore(t,e,n,r,o,c){return Rz.apply(this,arguments)}(t,e,n,r,y,b)}else if("consent"===u){const[y]=p;t("consent","update",y)}else if("get"===u){const[y,b,H]=p;t("get",y,b,H)}else if("set"===u){const[y]=p;t("set",y)}else t(u,...p)}catch(y){L1.error(y)}}),c.apply(this,arguments)}return function o(u){return c.apply(this,arguments)}}(c,t,e,n),{gtagCore:c,wrappedGtag:window[o]}}(wi,wO,bO,Gv,"gtag");bi=c,VO=u,Xz=!0}return wi[r]=function oie(t,e,n,r,o,c,u){return Jz.apply(this,arguments)}(t,wO,bO,e,VO,Gv,n),new aie(t)}function fie(){return eE.apply(this,arguments)}function eE(){return(eE=(0,G.Z)(function*(){if((0,rt.ru)()||!(0,rt.zI)()||!(0,rt.hl)())return!1;try{return yield(0,rt.eu)()}catch{return!1}})).apply(this,arguments)}const IO="@firebase/analytics";!function hie(){(0,kt._registerComponent)(new Wr.wA($v,(e,{options:n})=>lie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),(0,kt._registerComponent)(new Wr.wA("analytics-internal",function t(e){try{const n=e.getProvider($v).getImmediate();return{logEvent:(r,o,c)=>function die(t,e,n,r){t=(0,rt.m9)(t),function Xre(t,e,n,r,o){return $z.apply(this,arguments)}(bi,wi[t.app.options.appId],e,n,r).catch(o=>L1.error(o))}(n,r,o,c)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),(0,kt.registerVersion)(IO,"0.10.0"),(0,kt.registerVersion)(IO,"0.10.0","esm2017")}();const gie=new class mie extends wR{}(class pie extends MR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}});var zO=k(4674),l4=k(9360),Ea=k(8251),EO=k(2737),b7=k(5137),E0=k(3093);const H7=new m.GfV("7.6.1"),nE="__angularfire_symbol__analyticsIsSupportedValue",rE="__angularfire_symbol__analyticsIsSupported",iE="__angularfire_symbol__remoteConfigIsSupportedValue",sE="__angularfire_symbol__remoteConfigIsSupported",oE="__angularfire_symbol__messagingIsSupportedValue",aE="__angularfire_symbol__messagingIsSupported";function lE(t,e,n){if(e){if(1===e.length)return e[0];const c=e.filter(u=>u.app===n);if(1===c.length)return c[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[rE]||(globalThis[rE]=fie().then(t=>globalThis[nE]=t).catch(()=>globalThis[nE]=!1)),globalThis[aE]||(globalThis[aE]=gO().then(t=>globalThis[oE]=t).catch(()=>globalThis[oE]=!1)),globalThis[sE]||(globalThis[sE]=Nne().then(t=>globalThis[iE]=t).catch(()=>globalThis[iE]=!1));const uE=(t,e)=>{const n=e?[e]:(0,kt.getApps)(),r=[];return n.forEach(o=>{o.container.getProvider(t).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};function L0(){}class LO{constructor(e,n=gie){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const o=this.zone;return this.delegate.schedule(function(u){o.runGuarded(()=>{e.apply(this,[u])})},n,r)}}class yie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",L0,{},L0,L0)),n.pipe(function vie(t,e,n){const r=(0,zO.m)(t)||e||n?{next:t,error:e,complete:n}:t;return r?(0,l4.e)((o,c)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let p=!0;o.subscribe((0,Ea.x)(c,y=>{var b;null===(b=r.next)||void 0===b||b.call(r,y),c.next(y)},()=>{var y;p=!1,null===(y=r.complete)||void 0===y||y.call(r),c.complete()},y=>{var b;p=!1,null===(b=r.error)||void 0===b||b.call(r,y),c.error(y)},()=>{var y,b;p&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(b=r.finalize)||void 0===b||b.call(r)}))}):EO.y}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let x0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new LO(Zone.current)),this.insideAngular=n.run(()=>new LO(Zone.current,bR)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(m.R0b))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function La(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function xa(t){return La().ngZone.run(()=>t())}function ir(t){return La(),function _ie(t){return function(n){return(n=n.lift(new yie(t.ngZone))).pipe((0,b7.R)(t.outsideAngular),(0,E0.Q)(t.insideAngular))}}(La())(t)}const Mie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),xa(()=>t.apply(void 0,r))},qv=(t,e)=>function(){let n;const r=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof r[c]&&(e&&(n||(n=xa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",L0,{},L0,L0)))),r[c]=Mie(r[c],n));const o=function Cie(t){return La().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(o instanceof M7.y){const c=La();return o.pipe((0,b7.R)(c.outsideAngular),(0,E0.Q)(c.insideAngular))}return xa(()=>o)}return o instanceof M7.y?o.pipe(ir):o instanceof Promise?xa(()=>new Promise((c,u)=>o.then(p=>xa(()=>c(p)),p=>xa(()=>u(p))))):"function"==typeof o&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),o.apply(this,arguments)}:xa(()=>o)};var wie=k(2372),xO=k(4564);function DO(...t){return function bie(){return(0,wie.J)(1)}()((0,Ha.D)(t,(0,xO.yG)(t)))}function fE(...t){const e=(0,xO.yG)(t);return(0,l4.e)((n,r)=>{(e?DO(t,n,e):DO(t,n)).subscribe(r)})}function dE(){return(0,l4.e)((t,e)=>{let n,r=!1;t.subscribe((0,Ea.x)(e,o=>{const c=n;n=o,r&&e.next([c,o]),r=!0}))})}var sr=k(7398);function hE(t,e){return(0,l4.e)(function Hie(t,e,n,r,o){return(c,u)=>{let p=n,y=e,b=0;c.subscribe((0,Ea.x)(u,H=>{const S=b++;y=p?t(y,H,S):(p=!0,H),r&&u.next(y)},o&&(()=>{p&&u.next(y),u.complete()})))}}(t,e,arguments.length>=2,!0))}var Vie=k(3997);function Wv(t,e){return(0,l4.e)((n,r)=>{let o=0;n.subscribe((0,Ea.x)(r,c=>t.call(e,c,o++)&&r.next(c)))})}var We,or=k(6304),Iie=(k(6365),k(3106)),Sie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={},pE=pE||{},Et=Sie||self;function Zv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function V7(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mE="closure_uid_"+(1e9*Math.random()>>>0),Eie=0;function Lie(t,e,n){return t.call.apply(t.bind,arguments)}function xie(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lie:xie).apply(null,arguments)}function Kv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function x1(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,c){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[o].apply(r,u)}}function u4(){this.s=this.s,this.o=this.o}u4.prototype.s=!1,u4.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zie(t){Object.prototype.hasOwnProperty.call(t,mE)&&t[mE]||(t[mE]=++Eie)}(this)},u4.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function TO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zv(r)){const o=t.length||0,c=r.length||0;t.length=o+c;for(let u=0;u<c;u++)t[o+u]=r[u]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var Aie=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Et.addEventListener("test",()=>{},e),Et.removeEventListener("test",()=>{},e)}catch{}return t}();function I7(t){return/^[\s\xa0]*$/.test(t)}function Yv(){var t=Et.navigator;return t&&(t=t.userAgent)?t:""}function Hi(t){return-1!=Yv().indexOf(t)}function vE(t){return vE[" "](t),t}vE[" "]=function(){};var CE,t,Nie=Hi("Opera"),D0=Hi("Trident")||Hi("MSIE"),NO=Hi("Edge"),yE=NO||D0,kO=Hi("Gecko")&&!(-1!=Yv().toLowerCase().indexOf("webkit")&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),kie=-1!=Yv().toLowerCase().indexOf("webkit")&&!Hi("Edge");function PO(){var t=Et.document;return t?t.documentMode:void 0}e:{var _E="",ME=(t=Yv(),kO?/rv:([^\);]+)(\)|;)/.exec(t):NO?/Edge\/([\d\.]+)/.exec(t):D0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):kie?/WebKit\/(\S+)/.exec(t):Nie?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(ME&&(_E=ME?ME[1]:""),D0){var wE=PO();if(null!=wE&&wE>parseFloat(_E)){CE=String(wE);break e}}CE=_E}var Pie=Et.document&&D0&&(PO()||parseInt(CE,10))||void 0;function S7(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kO){e:{try{vE(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Rie[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&S7.$.h.call(this)}}x1(S7,ln);var Rie={2:"touch",3:"pen",4:"mouse"};S7.prototype.h=function(){S7.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var z7="closure_listenable_"+(1e6*Math.random()|0),Oie=0;function Fie(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++Oie,this.fa=this.ia=!1}function Qv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function HE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function OO(t){const e={};for(const n in t)e[n]=t[n];return e}const FO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BO(t,e){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)t[n]=r[n];for(let c=0;c<FO.length;c++)n=FO[c],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jv(t){this.src=t,this.g={},this.h=0}function VE(t,e){var n=e.type;if(n in t.g){var c,r=t.g[n],o=AO(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(Qv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function IE(t,e,n,r){for(var o=0;o<t.length;++o){var c=t[o];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==r)return o}return-1}Jv.prototype.add=function(t,e,n,r,o){var c=t.toString();(t=this.g[c])||(t=this.g[c]=[],this.h++);var u=IE(t,e,r,o);return-1<u?(e=t[u],n||(e.ia=!1)):((e=new Fie(e,this.src,c,!!r,o)).ia=n,t.push(e)),e};var SE="closure_lm_"+(1e6*Math.random()|0),zE={};function UO(t,e,n,r,o){if(r&&r.once)return $O(t,e,n,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)UO(t,e[c],n,r,o);return null}return n=DE(n),t&&t[z7]?t.O(e,n,V7(r)?!!r.capture:!!r,o):jO(t,e,n,!1,r,o)}function jO(t,e,n,r,o,c){if(!e)throw Error("Invalid event type");var u=V7(o)?!!o.capture:!!o,p=LE(t);if(p||(t[SE]=p=new Jv(t)),(n=p.add(e,n,r,u,c)).proxy)return n;if(r=function Uie(){const e=jie;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Aie||(o=u),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(qO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $O(t,e,n,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)$O(t,e[c],n,r,o);return null}return n=DE(n),t&&t[z7]?t.P(e,n,V7(r)?!!r.capture:!!r,o):jO(t,e,n,!0,r,o)}function GO(t,e,n,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)GO(t,e[c],n,r,o);else r=V7(r)?!!r.capture:!!r,n=DE(n),t&&t[z7]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=IE(c=t.g[e],n,r,o))&&(Qv(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete t.g[e],t.h--))):t&&(t=LE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=IE(e,n,r,o)),(n=-1<t?e[t]:null)&&EE(n))}function EE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[z7])VE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=LE(e))?(VE(n,t),0==n.h&&(n.src=null,e[SE]=null)):Qv(t)}}}function qO(t){return t in zE?zE[t]:zE[t]="on"+t}function jie(t,e){if(t.fa)t=!0;else{e=new S7(e,this);var n=t.listener,r=t.la||t.src;t.ia&&EE(t),t=n.call(r,e)}return t}function LE(t){return(t=t[SE])instanceof Jv?t:null}var xE="__closure_events_fn_"+(1e9*Math.random()>>>0);function DE(t){return"function"==typeof t?t:(t[xE]||(t[xE]=function(e){return t.handleEvent(e)}),t[xE])}function D1(){u4.call(this),this.i=new Jv(this),this.S=this,this.J=null}function W1(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var o=e;BO(e=new ln(r,t),o)}if(o=!0,n)for(var c=n.length-1;0<=c;c--){var u=e.g=n[c];o=Xv(u,r,!0,e)&&o}if(o=Xv(u=e.g=t,r,!0,e)&&o,o=Xv(u,r,!1,e)&&o,n)for(c=0;c<n.length;c++)o=Xv(u=e.g=n[c],r,!1,e)&&o}function Xv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.fa&&u.capture==n){var p=u.listener,y=u.la||u.src;u.ia&&VE(t.i,u),o=!1!==p.call(y,r)&&o}}return o&&!r.defaultPrevented}x1(D1,u4),D1.prototype[z7]=!0,D1.prototype.removeEventListener=function(t,e,n,r){GO(this,t,e,n,r)},D1.prototype.N=function(){if(D1.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qv(n[r]);delete t.g[e],t.h--}}this.J=null},D1.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},D1.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var AE=Et.JSON.stringify;function Gie(){var t=TE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var WO=new class $ie{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Wie,t=>t.reset());class Wie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Zie(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Kie(t){Et.setTimeout(()=>{throw t},0)}let E7,L7=!1,TE=new class qie{constructor(){this.h=this.g=null}add(e,n){const r=WO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},ZO=()=>{const t=Et.Promise.resolve(void 0);E7=()=>{t.then(Yie)}};var Yie=()=>{for(var t;t=Gie();){try{t.h.call(t.g)}catch(n){Kie(n)}var e=WO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}L7=!1};function ey(t,e){D1.call(this),this.h=t||1,this.g=e||Et,this.j=cn(this.qb,this),this.l=Date.now()}function NE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function kE(t,e,n){if("function"==typeof t)n&&(t=cn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Et.setTimeout(t,e||0)}function KO(t){t.g=kE(()=>{t.g=null,t.i&&(t.i=!1,KO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}x1(ey,D1),(We=ey.prototype).ga=!1,We.T=null,We.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),W1(this,"tick"),this.ga&&(NE(this),this.start()))}},We.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.N=function(){ey.$.N.call(this),NE(this),delete this.g};class Qie extends u4{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KO(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function x7(t){u4.call(this),this.h=t,this.g={}}x1(x7,u4);var YO=[];function QO(t,e,n,r){Array.isArray(n)||(n&&(YO[0]=n.toString()),n=YO);for(var o=0;o<n.length;o++){var c=UO(e,n[o],r||t.handleEvent,!1,t.h||t);if(!c)break;t.g[c.key]=c}}function JO(t){HE(t.g,function(e,n){this.g.hasOwnProperty(n)&&EE(e)},t),t.g={}}function ty(){this.g=!0}function A0(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tse(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<o.length;u++)o[u]=""}}}return AE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}x7.prototype.N=function(){x7.$.N.call(this),JO(this)},x7.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ty.prototype.Ea=function(){this.g=!1},ty.prototype.info=function(){};var Da={},XO=null;function ny(){return XO=XO||new D1}function eF(t){ln.call(this,Da.Ta,t)}function D7(t){const e=ny();W1(e,new eF(e))}function tF(t,e){ln.call(this,Da.STAT_EVENT,t),this.stat=e}function Hn(t){const e=ny();W1(e,new tF(e,t))}function nF(t,e){ln.call(this,Da.Ua,t),this.size=e}function A7(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){t()},e)}Da.Ta="serverreachability",x1(eF,ln),Da.STAT_EVENT="statevent",x1(tF,ln),Da.Ua="timingevent",x1(nF,ln);var ry={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PE(){}function sF(){}PE.prototype.h=null;var FE,T7={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function RE(){ln.call(this,"d")}function OE(){ln.call(this,"c")}function iy(){}function N7(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new x7(this),this.P=nse,this.V=new ey(t=yE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oF}function oF(){this.i=null,this.g="",this.h=!1}x1(RE,ln),x1(OE,ln),x1(iy,PE),iy.prototype.g=function(){return new XMLHttpRequest},iy.prototype.i=function(){return{}},FE=new iy;var nse=45e3,BE={},sy={};function UE(t,e,n){t.L=1,t.v=ly(Ss(e)),t.s=n,t.S=!0,aF(t,null)}function aF(t,e){t.G=Date.now(),k7(t),t.A=Ss(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),vF(n.i,"t",r),t.C=0,n=t.l.J,t.h=new oF,t.g=BF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Qie(cn(t.Pa,t,t.g),t.O)),QO(t.U,t.g,"readystatechange",t.nb),e=t.I?OO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),D7(),function Jie(t,e,n,r,o,c){t.info(function(){if(t.g)if(c)for(var u="",p=c.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var H=b[0];b=b[1];var S=H.split("_");u=2<=S.length&&"type"==S[1]?u+(H+"=")+b+"&":u+(H+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+u})}(t.j,t.u,t.A,t.m,t.W,t.s)}function cF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function lF(t,e,n){let o,r=!0;for(;!t.J&&t.C<n.length;){if(o=rse(t,n),o==sy){4==e&&(t.o=4,Hn(14),r=!1),A0(t.j,t.m,null,"[Incomplete Response]");break}if(o==BE){t.o=4,Hn(15),A0(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}A0(t.j,t.m,o,null),jE(t,o)}cF(t)&&o!=sy&&o!=BE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),YE(e),e.M=!0,Hn(11))):(A0(t.j,t.m,n,"[Invalid Chunked Response]"),Aa(t),P7(t))}function rse(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?sy:(n=Number(e.substring(n,r)),isNaN(n)?BE:(r+=1)+n>e.length?sy:(e=e.slice(r,r+n),t.C=r+n,e))}function k7(t){t.Y=Date.now()+t.P,uF(t,t.P)}function uF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=A7(cn(t.lb,t),e)}function oy(t){t.B&&(Et.clearTimeout(t.B),t.B=null)}function P7(t){0==t.l.H||t.J||PF(t.l,t)}function Aa(t){oy(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,NE(t.V),JO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function jE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||$E(n.i,t)))if(!t.K&&$E(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;my(n),hy(n)}KE(n),Hn(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&0==n.A&&!n.v&&(n.v=A7(cn(n.ib,n),6e3));if(1>=_F(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Na(n,11)}else if((t.K||n.g==t)&&my(n),!I7(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(n.V=b[0],b=b[1],2==n.H)if("c"==b[0]){n.K=b[1],n.pa=b[2];const H=b[3];null!=H&&(n.ra=H,n.l.info("VER="+n.ra));const S=b[4];null!=S&&(n.Ga=S,n.l.info("SVER="+n.Ga));const N=b[5];null!=N&&"number"==typeof N&&0<N&&(n.L=r=1.5*N,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const U=t.g;if(U){const ae=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var c=r.i;c.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(GE(c,c.h),c.h=null))}if(r.F){const Ce=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(r.Da=Ce,H2(r.I,r.F,Ce))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var u=t;if((r=n).wa=FF(r,r.J?r.pa:null,r.Y),u.K){MF(r.i,u);var p=u,y=r.L;y&&p.setTimeout(y),p.B&&(oy(p),k7(p)),r.g=u}else NF(r);0<n.j.length&&py(n)}else"stop"!=b[0]&&"close"!=b[0]||Na(n,7);else 3==n.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Na(n,7):ZE(n):"noop"!=b[0]&&n.h&&n.h.Aa(b),n.A=0)}D7()}catch{}}function fF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function sse(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function ise(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Zv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),o=r.length,c=0;c<o;c++)e.call(void 0,r[c],n&&n[c],t)}(We=N7.prototype).setTimeout=function(t){this.P=t},We.nb=function(t){t=t.target;const e=this.M;e&&3==Vi(t)?e.l():this.Pa(t)},We.Pa=function(t){try{if(t==this.g)e:{const H=Vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>H)&&(3!=H||yE||this.g&&(this.h.h||this.g.ja()||EF(this.g)))){this.J||4!=H||7==e||D7(),oy(this);var n=this.g.da();this.ca=n;t:if(cF(this)){var r=EF(this.g);t="";var o=r.length,c=4==Vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Aa(this),P7(this);var u="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==n,function Xie(t,e,n,r,o,c,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+c+" "+u})}(this.j,this.u,this.A,this.m,this.W,H,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I7(p)){var b=p;break t}}b=null}if(!(n=b)){this.i=!1,this.o=3,Hn(12),Aa(this),P7(this);break e}A0(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jE(this,n)}this.S?(lF(this,H,u),yE&&this.i&&3==H&&(QO(this.U,this.V,"tick",this.mb),this.V.start())):(A0(this.j,this.m,u,null),jE(this,u)),4==H&&Aa(this),this.i&&!this.J&&(4==H?PF(this.l,this):(this.i=!1,k7(this)))}else(function bse(t){const e={};t=(t.g&&2<=Vi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(I7(t[r]))continue;var n=Zie(t[r]);const o=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[o]||[];e[o]=c,c.push(n)}!function Bie(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<u.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),Aa(this),P7(this)}}}catch{}},We.mb=function(){if(this.g){var t=Vi(this.g),e=this.g.ja();this.C<e.length&&(oy(this),lF(this,t,e),this.i&&4!=t&&k7(this))}},We.cancel=function(){this.J=!0,Aa(this)},We.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function ese(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(D7(),Hn(17)),Aa(this),this.o=2,P7(this)):uF(this,this.Y-t)};var dF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ta){this.h=t.h,ay(this,t.j),this.s=t.s,this.g=t.g,cy(this,t.m),this.l=t.l;var e=t.i,n=new F7;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hF(this,n),this.o=t.o}else t&&(e=String(t).match(dF))?(this.h=!1,ay(this,e[1]||"",!0),this.s=R7(e[2]||""),this.g=R7(e[3]||"",!0),cy(this,e[4]),this.l=R7(e[5]||"",!0),hF(this,e[6]||"",!0),this.o=R7(e[7]||"")):(this.h=!1,this.i=new F7(null,this.h))}function Ss(t){return new Ta(t)}function ay(t,e,n){t.j=n?R7(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hF(t,e,n){e instanceof F7?(t.i=e,function dse(t,e){e&&!t.j&&(f4(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(mF(this,r),vF(this,o,n))},t)),t.j=e}(t.i,t.h)):(n||(e=O7(e,use)),t.i=new F7(e,t.h))}function H2(t,e,n){t.i.set(e,n)}function ly(t){return H2(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function R7(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function O7(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ase),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ase(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ta.prototype.toString=function(){var t=[],e=this.j;e&&t.push(O7(e,pF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(O7(e,pF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(O7(n,"/"==n.charAt(0)?lse:cse,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",O7(n,fse)),t.join("")};var pF=/[#\/\?@]/g,cse=/[#\?:]/g,lse=/[#\?]/g,use=/[#\?@]/g,fse=/#/g;function F7(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function f4(t){t.g||(t.g=new Map,t.h=0,t.i&&function ose(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var c=t[n].substring(0,r);o=t[n].substring(r+1)}else c=t[n];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function mF(t,e){f4(t),e=T0(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gF(t,e){return f4(t),e=T0(t,e),t.g.has(e)}function vF(t,e,n){mF(t,e),0<n.length&&(t.i=null,t.g.set(T0(t,e),gE(n)),t.h+=n.length)}function T0(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yF(t){this.l=t||pse,t=Et.PerformanceNavigationTiming?0<(t=Et.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=F7.prototype).add=function(t,e){f4(this),this.i=null,t=T0(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},We.forEach=function(t,e){f4(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)},We.ta=function(){f4(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let c=0;c<o.length;c++)n.push(e[r])}return n},We.Z=function(t){f4(this);let e=[];if("string"==typeof t)gF(this,t)&&(e=e.concat(this.g.get(T0(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},We.set=function(t,e){return f4(this),this.i=null,gF(this,t=T0(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},We.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const c=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var o=c;""!==u[r]&&(o+="="+encodeURIComponent(String(u[r]))),t.push(o)}}return this.i=t.join("&")};var pse=10;function CF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _F(t){return t.h?1:t.g?t.g.size:0}function $E(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function GE(t,e){t.g?t.g.add(e):t.h=e}function MF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function wF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return gE(t.i)}yF.prototype.cancel=function(){if(this.i=wF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mse=class{stringify(t){return Et.JSON.stringify(t,void 0)}parse(t){return Et.JSON.parse(t,void 0)}};function gse(){this.g=new mse}function vse(t,e,n){const r=n||"";try{fF(t,function(o,c){let u=o;V7(o)&&(u=AE(o)),e.push(r+c+"="+encodeURIComponent(u))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function uy(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function B7(t){this.l=t.fc||null,this.j=t.ob||!1}function fy(t,e){D1.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}x1(B7,PE),B7.prototype.g=function(){return new fy(this.l,this.j)},B7.prototype.i=function(t){return function(){return t}}({}),x1(fy,D1);var qE=0;function bF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function U7(t){t.readyState=4,t.l=null,t.j=null,t.A=null,j7(t)}function j7(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(We=fy.prototype).open=function(t,e){if(this.readyState!=qE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,j7(this)},We.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,U7(this)),this.readyState=qE},We.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,j7(this)),this.g&&(this.readyState=3,j7(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},We.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?U7(this):j7(this),3==this.readyState&&bF(this)}},We.Za=function(t){this.g&&(this.response=this.responseText=t,U7(this))},We.Ya=function(t){this.g&&(this.response=t,U7(this))},We.ka=function(){this.g&&U7(this)},We.setRequestHeader=function(t,e){this.v.append(t,e)},We.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Cse=Et.JSON.parse;function B2(t){D1.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HF,this.L=this.M=!1}x1(B2,D1);var HF="",_se=/^https?$/i,Mse=["POST","PUT"];function VF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,IF(t),dy(t)}function IF(t){t.F||(t.F=!0,W1(t,"complete"),W1(t,"error"))}function SF(t){if(t.h&&typeof pE<"u"&&(!t.C[1]||4!=Vi(t)||2!=t.da()))if(t.v&&4==Vi(t))kE(t.La,0,t);else if(W1(t,"readystatechange"),4==Vi(t)){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var o=String(t.I).match(dF)[1]||null;!o&&Et.self&&Et.self.location&&(o=Et.self.location.protocol.slice(0,-1)),r=!_se.test(o?o.toLowerCase():"")}n=r}if(n)W1(t,"complete"),W1(t,"success");else{t.m=6;try{var c=2<Vi(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.da()+"]",IF(t)}}finally{dy(t)}}}function dy(t,e){if(t.g){zF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||W1(t,"ready");try{n.onreadystatechange=r}catch{}}}function zF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Et.clearTimeout(t.A),t.A=null)}function Vi(t){return t.g?t.g.readyState:0}function EF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case HF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function LF(t){let e="";return HE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function WE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):H2(t,e,n))}function $7(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xF(t){this.Ga=0,this.j=[],this.l=new ty,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$7("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$7("baseRetryDelayMs",5e3,t),this.hb=$7("retryDelaySeedMs",1e4,t),this.eb=$7("forwardChannelMaxRetries",2,t),this.xa=$7("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yF(t&&t.concurrentRequestLimit),this.Ja=new gse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ZE(t){if(DF(t),3==t.H){var e=t.W++,n=Ss(t.I);if(H2(n,"SID",t.K),H2(n,"RID",e),H2(n,"TYPE","terminate"),G7(t,n),(e=new N7(t,t.l,e)).L=2,e.v=ly(Ss(n)),n=!1,Et.navigator&&Et.navigator.sendBeacon)try{n=Et.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Et.Image&&((new Image).src=e.v,n=!0),n||(e.g=BF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),k7(e)}OF(t)}function hy(t){t.g&&(YE(t),t.g.cancel(),t.g=null)}function DF(t){hy(t),t.u&&(Et.clearTimeout(t.u),t.u=null),my(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Et.clearTimeout(t.m),t.m=null)}function py(t){if(!CF(t.i)&&!t.m){t.m=!0;var e=t.Na;E7||ZO(),L7||(E7(),L7=!0),TE.add(e,t),t.C=0}}function AF(t,e){var n;n=e?e.m:t.W++;const r=Ss(t.I);H2(r,"SID",t.K),H2(r,"RID",n),H2(r,"AID",t.V),G7(t,r),t.o&&t.s&&WE(r,t.o,t.s),n=new N7(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=TF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),GE(t.i,n),UE(n,r,e)}function G7(t,e){t.na&&HE(t.na,function(n,r){H2(e,r,n)}),t.h&&fF({},function(n,r){H2(e,r,n)})}function TF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?cn(t.h.Va,t.h,t):null;e:{var o=t.j;let c=-1;for(;;){const u=["count="+n];-1==c?0<n?(c=o[0].g,u.push("ofs="+c)):c=0:u.push("ofs="+c);let p=!0;for(let y=0;y<n;y++){let b=o[y].g;const H=o[y].map;if(b-=c,0>b)c=Math.max(0,o[y].g-100),p=!1;else try{vse(H,u,"req"+b+"_")}catch{r&&r(H)}}if(p){r=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function NF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;E7||ZO(),L7||(E7(),L7=!0),TE.add(e,t),t.A=0}}function KE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=A7(cn(t.Ma,t),RF(t,t.A)),t.A++,0))}function YE(t){null!=t.B&&(Et.clearTimeout(t.B),t.B=null)}function kF(t){t.g=new N7(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ss(t.wa);H2(e,"RID","rpc"),H2(e,"SID",t.K),H2(e,"AID",t.V),H2(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&H2(e,"TO",t.qa),H2(e,"TYPE","xmlhttp"),G7(t,e),t.o&&t.s&&WE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ly(Ss(e)),n.s=null,n.S=!0,aF(n,t)}function my(t){null!=t.v&&(Et.clearTimeout(t.v),t.v=null)}function PF(t,e){var n=null;if(t.g==e){my(t),YE(t),t.g=null;var r=2}else{if(!$E(t.i,e))return;n=e.F,MF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;W1(r=ny(),new nF(r,n)),py(t)}else NF(t);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function Hse(t,e){return!(_F(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=A7(cn(t.Na,t,e),RF(t,t.C)),t.C++,0)))}(t,e)||2==r&&KE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Na(t,5);break;case 4:Na(t,10);break;case 3:Na(t,6);break;default:Na(t,2)}}function RF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Na(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=cn(t.pb,t);n||(n=new Ta("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||ay(n,"https"),ly(n)),function yse(t,e){const n=new ty;if(Et.Image){const r=new Image;r.onload=Kv(uy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Kv(uy,n,r,"TestLoadImage: error",!1,e),r.onabort=Kv(uy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kv(uy,n,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Hn(2);t.H=0,t.h&&t.h.za(e),OF(t),DF(t)}function OF(t){if(t.H=0,t.ma=[],t.h){const e=wF(t.i);(0!=e.length||0!=t.j.length)&&(TO(t.ma,e),TO(t.ma,t.j),t.i.i.length=0,gE(t.j),t.j.length=0),t.h.ya()}}function FF(t,e,n){var r=n instanceof Ta?Ss(n):new Ta(n);if(""!=r.g)e&&(r.g=e+"."+r.g),cy(r,r.m);else{var o=Et.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var c=new Ta(null);r&&ay(c,r),e&&(c.g=e),o&&cy(c,o),n&&(c.l=n),r=c}return e=t.Da,(n=t.F)&&e&&H2(r,n,e),H2(r,"VER",t.ra),G7(t,r),r}function BF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new B2(n&&t.Ha&&!t.va?new B7({ob:!0}):t.va)).Oa(t.J),e}function UF(){}function gy(){if(D0&&!(10<=Number(Pie)))throw Error("Environmental error: no available transport.")}function ar(t,e){D1.call(this),this.g=new xF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!I7(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I7(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new N0(this)}function jF(t){RE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $F(){OE.call(this),this.status=1}function N0(t){this.g=t}function Yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function QE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=t.g[3],u=(e=t.g[0])+(c^(n=t.g[1])&((o=t.g[2])^c))+r[0]+3614090360&4294967295;u=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=n+(u<<7&4294967295|u>>>25))+((u=c+(o^e&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=o+(n^c&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^o&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(o^c))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=c+(o^e&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=o+(n^c&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^o&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(o^c))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=c+(o^e&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=o+(n^c&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^o&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(o^c))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=c+(o^e&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=o+(n^c&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^o&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^c&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^o&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^n&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(o^c))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^c&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^o&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^n&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(o^c))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^c&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^o&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^n&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(o^c))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^c&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^o&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^n&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(o^c))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(n^o^c)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=o+(c^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=n+(o^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^o^c)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=o+(c^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=n+(o^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^o^c)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=o+(c^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=n+(o^c^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^o^c)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=o+(c^e^n)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=n+(o^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(o^(n|~c))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(c|~n))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(o^(n|~c))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(c|~n))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(o^(n|~c))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(c|~n))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((c=(e=n+((u=e+(o^(n|~c))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((o=c+((u=o+(e^(c|~n))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+c&4294967295}function r2(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var c=0|t[o];r&&c==e||(n[o]=c,r=!1)}this.g=n}(We=B2.prototype).Oa=function(t){this.M=t},We.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():FE.g(),this.C=function iF(t){return t.h||(t.h=t.i())}(this.u?this.u:FE),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(c){return void VF(this,c)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())n.set(c,r.get(c))}r=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),o=Et.FormData&&t instanceof Et.FormData,!(0<=AO(Mse,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of n)this.g.setRequestHeader(c,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zF(this),0<this.B&&((this.L=function wse(t){return D0&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=kE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(c){VF(this,c)}},We.ua=function(){typeof pE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,W1(this,"timeout"),this.abort(8))},We.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,W1(this,"complete"),W1(this,"abort"),dy(this))},We.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dy(this,!0)),B2.$.N.call(this)},We.La=function(){this.s||(this.G||this.v||this.l?SF(this):this.kb())},We.kb=function(){SF(this)},We.isActive=function(){return!!this.g},We.da=function(){try{return 2<Vi(this)?this.g.status:-1}catch{return-1}},We.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},We.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cse(e)}},We.Ia=function(){return this.m},We.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=xF.prototype).ra=8,We.H=1,We.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new N7(this,this.l,t);let c=this.s;if(this.U&&(c?(c=OO(c),BO(c,this.U)):c=this.U),null!==this.o||this.O||(o.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TF(this,o,e),H2(n=Ss(this.I),"RID",t),H2(n,"CVER",22),this.F&&H2(n,"X-HTTP-Session-Id",this.F),G7(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(LF(c)))+"&"+e:this.o&&WE(n,this.o,c)),GE(this.i,o),this.bb&&H2(n,"TYPE","init"),this.P?(H2(n,"$req",e),H2(n,"SID","null"),o.aa=!0,UE(o,n,null)):UE(o,n,e),this.H=2}}else 3==this.H&&(t?AF(this,t):0==this.j.length||CF(this.i)||AF(this))},We.Ma=function(){if(this.u=null,kF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=A7(cn(this.jb,this),t)}},We.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hn(10),hy(this),kF(this))},We.ib=function(){null!=this.v&&(this.v=null,hy(this),KE(this),Hn(19))},We.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Hn(2)):(this.l.info("Failed to ping google.com"),Hn(1))},We.isActive=function(){return!!this.h&&this.h.isActive(this)},(We=UF.prototype).Ba=function(){},We.Aa=function(){},We.za=function(){},We.ya=function(){},We.isActive=function(){return!0},We.Va=function(){},gy.prototype.g=function(t,e){return new ar(t,e)},x1(ar,D1),ar.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FF(t,null,t.Y),py(t)},ar.prototype.close=function(){ZE(this.g)},ar.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=AE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&py(e)},ar.prototype.N=function(){this.g.h=null,delete this.j,ZE(this.g),delete this.g,ar.$.N.call(this)},x1(jF,RE),x1($F,OE),x1(N0,UF),N0.prototype.Ba=function(){W1(this.g,"a")},N0.prototype.Aa=function(t){W1(this.g,new jF(t))},N0.prototype.za=function(t){W1(this.g,new $F)},N0.prototype.ya=function(){W1(this.g,"b")},x1(Yr,function Vse(){this.blockSize=-1}),Yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,c=0;c<e;){if(0==o)for(;c<=n;)QE(this,t,c),c+=this.blockSize;if("string"==typeof t){for(;c<e;)if(r[o++]=t.charCodeAt(c++),o==this.blockSize){QE(this,r),o=0;break}}else for(;c<e;)if(r[o++]=t[c++],o==this.blockSize){QE(this,r),o=0;break}}this.h=o,this.i+=e},Yr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ise={};function JE(t){return-128<=t&&128>t?function Tie(t,e){var n=Ise;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new r2([0|e],0>e?-1:0)}):new r2([0|t],0>t?-1:0)}function Ii(t){if(isNaN(t)||!isFinite(t))return k0;if(0>t)return Z1(Ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=XE;return new r2(e,0)}var XE=4294967296,k0=JE(0),eL=JE(1),qF=JE(16777216);function zs(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Hr(t){return-1==t.h}function Z1(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new r2(n,~t.h).add(eL)}function vy(t,e){return t.add(Z1(e))}function yy(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function q7(t,e){this.g=t,this.h=e}function Cy(t,e){if(zs(e))throw Error("division by zero");if(zs(t))return new q7(k0,k0);if(Hr(t))return e=Cy(Z1(t),e),new q7(Z1(e.g),Z1(e.h));if(Hr(e))return e=Cy(t,Z1(e)),new q7(Z1(e.g),e.h);if(30<t.g.length){if(Hr(t)||Hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=eL,r=e;0>=r.X(t);)n=WF(n),r=WF(r);var o=P0(n,1),c=P0(r,1);for(r=P0(r,2),n=P0(n,2);!zs(r);){var u=c.add(r);0>=u.X(t)&&(o=o.add(n),c=u),r=P0(r,1),n=P0(n,1)}return e=vy(t,o.R(e)),new q7(o,e)}for(o=k0;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(c=Ii(n)).R(e);Hr(u)||0<u.X(t);)u=(c=Ii(n-=r)).R(e);zs(c)&&(c=eL),o=o.add(c),t=vy(t,u)}return new q7(o,t)}function WF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new r2(n,t.h)}function P0(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],c=0;c<r;c++)o[c]=0<e?t.D(c+n)>>>e|t.D(c+n+1)<<32-e:t.D(c+n);return new r2(o,t.h)}(We=r2.prototype).ea=function(){if(Hr(this))return-Z1(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:XE+r)*e,e*=XE}return t},We.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(zs(this))return"0";if(Hr(this))return"-"+Z1(this).toString(t);for(var e=Ii(Math.pow(t,6)),n=this,r="";;){var o=Cy(n,e).g,c=((0<(n=vy(n,o.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(zs(n=o))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},We.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},We.X=function(t){return Hr(t=vy(this,t))?-1:zs(t)?0:1},We.abs=function(){return Hr(this)?Z1(this):this},We.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var c=r+(65535&this.D(o))+(65535&t.D(o)),u=(c>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=u>>>16,n[o]=(u&=65535)<<16|(c&=65535)}return new r2(n,-2147483648&n[n.length-1]?-1:0)},We.R=function(t){if(zs(this)||zs(t))return k0;if(Hr(this))return Hr(t)?Z1(this).R(Z1(t)):Z1(Z1(this).R(t));if(Hr(t))return Z1(this.R(Z1(t)));if(0>this.X(qF)&&0>t.X(qF))return Ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var c=this.D(r)>>>16,u=65535&this.D(r),p=t.D(o)>>>16,y=65535&t.D(o);n[2*r+2*o]+=u*y,yy(n,2*r+2*o),n[2*r+2*o+1]+=c*y,yy(n,2*r+2*o+1),n[2*r+2*o+1]+=u*p,yy(n,2*r+2*o+1),n[2*r+2*o+2]+=c*p,yy(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new r2(n,0)},We.gb=function(t){return Cy(this,t).h},We.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new r2(n,this.h&t.h)},We.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new r2(n,this.h|t.h)},We.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new r2(n,this.h^t.h)},gy.prototype.createWebChannel=gy.prototype.g,ar.prototype.send=ar.prototype.u,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,ry.NO_ERROR=0,ry.TIMEOUT=8,ry.HTTP_ERROR=6,rF.COMPLETE="complete",sF.EventType=T7,T7.OPEN="a",T7.CLOSE="b",T7.ERROR="c",T7.MESSAGE="d",D1.prototype.listen=D1.prototype.O,B2.prototype.listenOnce=B2.prototype.P,B2.prototype.getLastError=B2.prototype.Sa,B2.prototype.getLastErrorCode=B2.prototype.Ia,B2.prototype.getStatus=B2.prototype.da,B2.prototype.getResponseJson=B2.prototype.Wa,B2.prototype.getResponseText=B2.prototype.ja,B2.prototype.send=B2.prototype.ha,B2.prototype.setWithCredentials=B2.prototype.Oa,Yr.prototype.digest=Yr.prototype.l,Yr.prototype.reset=Yr.prototype.reset,Yr.prototype.update=Yr.prototype.j,r2.prototype.add=r2.prototype.add,r2.prototype.multiply=r2.prototype.R,r2.prototype.modulo=r2.prototype.gb,r2.prototype.compare=r2.prototype.X,r2.prototype.toNumber=r2.prototype.ea,r2.prototype.toString=r2.prototype.toString,r2.prototype.getBits=r2.prototype.D,r2.fromNumber=Ii,r2.fromString=function GF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Z1(GF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ii(Math.pow(e,8)),r=k0,o=0;o<t.length;o+=8){var c=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+c),e);8>c?(c=Ii(Math.pow(e,c)),r=r.R(c).add(Ii(u))):r=(r=r.R(n)).add(Ii(u))}return r};var Sse=Kr.createWebChannelTransport=function(){return new gy},zse=Kr.getStatEventTarget=function(){return ny()},tL=Kr.ErrorCode=ry,Ese=Kr.EventType=rF,Lse=Kr.Event=Da,ZF=Kr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xse=Kr.FetchXmlHttpFactory=B7,_y=Kr.WebChannel=sF,Dse=Kr.XhrIo=B2,Ase=Kr.Md5=Yr,R0=Kr.Integer=r2;const KF="@firebase/firestore";class A1{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A1.UNAUTHENTICATED=new A1(null),A1.GOOGLE_CREDENTIALS=new A1("google-credentials-uid"),A1.FIRST_PARTY=new A1("first-party-uid"),A1.MOCK_USER=new A1("mock-user");let O0="9.23.0";const d4=new Zr.Yd("@firebase/firestore");function nL(){return d4.logLevel}function Se(t,...e){if(d4.logLevel<=Zr.in.DEBUG){const n=e.map(rL);d4.debug(`Firestore (${O0}): ${t}`,...n)}}function Y2(t,...e){if(d4.logLevel<=Zr.in.ERROR){const n=e.map(rL);d4.error(`Firestore (${O0}): ${t}`,...n)}}function Vr(t,...e){if(d4.logLevel<=Zr.in.WARN){const n=e.map(rL);d4.warn(`Firestore (${O0}): ${t}`,...n)}}function rL(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Xe(t="Unexpected state"){const e=`FIRESTORE (${O0}) INTERNAL ASSERTION FAILED: `+t;throw Y2(e),new Error(e)}function lt(t,e){t||Xe()}function Ge(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends rt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _1{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class YF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(A1.UNAUTHENTICATED))}shutdown(){}}class Pse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Rse{constructor(e){this.t=e,this.currentUser=A1.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let o=this.i;const c=b=>this.i!==o?(o=this.i,n(b)):Promise.resolve();let u=new _1;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _1,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const b=u;e.enqueueRetryable((0,G.Z)(function*(){yield b.promise,yield c(r.currentUser)}))},y=b=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _1)}},0),p()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new YF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new A1(e)}}class Ose{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=A1.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Fse{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ose(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(A1.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bse{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=c=>{null!=c.error&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.T;return this.T=c.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?o(c):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lt("string"==typeof n.token),this.T=n.token,new QF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Use(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class JF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=Use(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[c]%62))}return r}}function zt(t,e){return t<e?-1:t>e?1:0}function F0(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}function XF(t){return t+"\0"}class L2{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return L2.fromMillis(Date.now())}static fromDate(e){return L2.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new L2(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new L2(0,0))}static max(){return new ft(new L2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class W7{constructor(e,n,r){void 0===n?n=0:n>e.length&&Xe(),void 0===r?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===W7.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof W7?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=e.get(o),u=n.get(o);if(c<u)return-1;if(c>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wt extends W7{construct(e,n,r){return new Wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const jse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class U2 extends W7{construct(e,n,r){return new U2(e,n,r)}static isValidIdentifier(e){return jse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),U2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new U2(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(0===r.length)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const p=e[o];if("\\"===p){if(o+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===p?(u=!u,o++):"."!==p||u?(r+=p,o++):(c(),o++)}if(c(),u)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new U2(n)}static emptyPath(){return new U2([])}}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Wt.fromString(e))}static fromName(e){return new Ue(Wt.fromString(e).popFirst(5))}static empty(){return new Ue(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Wt(e.slice()))}}class My{constructor(e,n,r,o){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=o}}function iL(t){return t.fields.find(e=>2===e.kind)}function ka(t){return t.fields.filter(e=>2!==e.kind)}My.UNKNOWN_ID=-1;class wy{constructor(e,n){this.fieldPath=e,this.kind=n}}class Z7{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Z7(0,cr.min())}}function eB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ft.fromTimestamp(1e9===r?new L2(n+1,0):new L2(n,r));return new cr(o,Ue.empty(),e)}function tB(t){return new cr(t.readTime,t.key,-1)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(ft.min(),Ue.empty(),-1)}static max(){return new cr(ft.max(),Ue.empty(),-1)}}function sL(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ue.comparator(t.documentKey,e.documentKey),0!==n?n:zt(t.largestBatchId,e.largestBatchId))}const nB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function h4(t){return oL.apply(this,arguments)}function oL(){return oL=(0,G.Z)(function*(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==nB)throw t;Se("LocalStore","Unexpectedly lost primary lease")}),oL.apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let o=0,c=0,u=!1;e.forEach(p=>{++o,p.next(()=>{++c,u&&c===o&&n()},y=>r(y))}),u=!0,c===o&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(o=>o?Q.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,c)=>{r.push(n.call(this,o,c))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,o)=>{const c=e.length,u=new Array(c);let p=0;for(let y=0;y<c;y++){const b=y;n(e[b]).next(H=>{u[b]=H,++p,p===c&&r(u)},H=>o(H))}})}static doWhile(e,n){return new Q((r,o)=>{const c=()=>{!0===e()?n().next(()=>{c()},o):r()};c()})}}class by{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new _1,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new K7(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=aL(r.target.error);this.v.reject(new K7(e,o))}}static open(e,n,r,o){try{return new by(n,e.transaction(o,r))}catch(c){throw new K7(n,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Wse(n)}}class Qr{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===Qr.S((0,rt.z$)())&&Y2("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Se("SimpleDb","Removing database:",e),Pa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,rt.hl)())return!1;if(Qr.C())return!0;const e=(0,rt.z$)(),n=Qr.S(e),r=0<n&&n<10,o=Qr.N(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,G.Z)(function*(){return n.db||(Se("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,o)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{o(new K7(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const p=u.target.error;o("VersionError"===p.name?new ye(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new ye(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new K7(e,p))},c.onupgradeneeded=u=>{Se("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',u.oldVersion),n.V.O(u.target.result,c.transaction,u.oldVersion,n.version).next(()=>{Se("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,o){var c=this;return(0,G.Z)(function*(){const u="readonly"===n;let p=0;for(;;){++p;try{c.db=yield c.$(e);const y=by.open(c.db,e,u?"readonly":"readwrite",r),b=o(y).next(H=>(y.P(),H)).catch(H=>(y.abort(H),Q.reject(H))).toPromise();return b.catch(()=>{}),yield y.R,b}catch(y){const b=y,H="FirebaseError"!==b.name&&p<3;if(Se("SimpleDb","Transaction failed with error:",b.message,"Retrying:",H),c.close(),!H)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qse{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Pa(this.L.delete())}}class K7 extends ye{constructor(e,n){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function p4(t){return"IndexedDbTransactionError"===t.name}class Wse{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pa(r)}add(e){return Se("SimpleDb","ADD",this.store.name,e,e),Pa(this.store.add(e))}get(e){return Pa(this.store.get(e)).next(n=>(void 0===n&&(n=null),Se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Se("SimpleDb","DELETE",this.store.name,e),Pa(this.store.delete(e))}count(){return Se("SimpleDb","COUNT",this.store.name),Pa(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.W(o,(u,p)=>{c.push(p)}).next(()=>c)}{const o=this.store.getAll(r.range);return new Q((c,u)=>{o.onerror=p=>{u(p.target.error)},o.onsuccess=p=>{c(p.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Q((o,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}J(e,n){Se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const o=this.cursor(r);return this.W(o,(c,u,p)=>p.delete())}X(e,n){let r;n?r=e:(r={},n=e);const o=this.cursor(r);return this.W(o,n)}Z(e){const n=this.cursor({});return new Q((r,o)=>{n.onerror=c=>{const u=aL(c.target.error);o(u)},n.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}W(e,n){const r=[];return new Q((o,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void o();const y=new qse(p),b=n(p.primaryKey,p.value,y);if(b instanceof Q){const H=b.catch(S=>(y.done(),Q.reject(S)));r.push(H)}y.isDone?o():null===y.K?p.continue():p.continue(y.K)}}).next(()=>Q.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Pa(t){return new Q((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const o=aL(r.target.error);n(o)}})}let iB=!1;function aL(t){const e=Qr.S((0,rt.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iB||(iB=!0,setTimeout(()=>{throw r},0)),r}}return t}class Zse{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,G.Z)(function*(){n.task=null;try{Se("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){p4(r)?Se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield h4(r)}yield n.et(6e4)}))}}class Kse{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,G.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let o=n,c=!0;return Q.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Se("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,o).next(p=>{o-=p,r.add(u)});c=!1})).next(()=>n-o)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(o=>this.localStore.localDocuments.getNextDocuments(e,n,o,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(o,c)).next(p=>(Se("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,n,p))).next(()=>u.size)}))}rt(e,n){let r=e;return n.changes.forEach((o,c)=>{const u=tB(c);sL(u,r)>0&&(r=u)}),new cr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let lr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Y7(t){return null==t}function Q7(t){return 0===t&&1/t==-1/0}function sB(t){return"number"==typeof t&&Number.isInteger(t)&&!Q7(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function un(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oB(e)),e=Yse(t.get(n),e);return oB(e)}function Yse(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const c=t.charAt(o);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function oB(t){return t+"\x01\x01"}function Si(t){const e=t.length;if(lt(e>=2),2===e)return lt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wt.emptyPath();const n=e-2,r=[];let o="";for(let c=0;c<e;){const u=t.indexOf("\x01",c);switch((u<0||u>n)&&Xe(),t.charAt(u+1)){case"\x01":const p=t.substring(c,u);let y;0===o.length?y=p:(o+=p,y=o,o=""),r.push(y);break;case"\x10":o+=t.substring(c,u),o+="\0";break;case"\x11":o+=t.substring(c,u+1);break;default:Xe()}c=u+2}return new Wt(r)}const aB=["userId","batchId"];function Hy(t,e){return[t,un(e)]}function cB(t,e,n){return[t,un(e),n]}const Qse={},Jse=["prefixPath","collectionGroup","readTime","documentId"],Xse=["prefixPath","collectionGroup","documentId"],e3e=["collectionGroup","readTime","prefixPath","documentId"],t3e=["canonicalId","targetId"],n3e=["targetId","path"],r3e=["path","targetId"],i3e=["collectionId","parent"],s3e=["indexId","uid"],o3e=["uid","sequenceNumber"],a3e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],c3e=["indexId","uid","orderedDocumentKey"],l3e=["userId","collectionPath","documentId"],u3e=["userId","collectionPath","largestBatchId"],f3e=["userId","collectionGroup","largestBatchId"],lB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],d3e=[...lB,"documentOverlays"],uB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fB=uB,h3e=[...fB,"indexConfiguration","indexState","indexEntries"];class cL extends rB{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function T1(t,e){const n=Ge(t);return Qr.M(n.ht,e)}function dB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function m4(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class p2{constructor(e,n){this.comparator=e,this.root=n||K1.EMPTY}insert(e,n){return new p2(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,K1.BLACK,null,null))}remove(e){return new p2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,K1.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vy(this.root,e,this.comparator,!0)}}class Vy{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class K1{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??K1.RED,this.left=o??K1.EMPTY,this.right=c??K1.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new K1(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===c?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return K1.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return K1.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,K1.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,K1.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}K1.EMPTY=null,K1.RED=!0,K1.BLACK=!1,K1.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(t,e,n,r,o){return this}insert(t,e,n){return new K1(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class V2{constructor(e){this.comparator=e,this.data=new p2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pB(this.data.getIterator())}getIteratorFrom(e){return new pB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof V2)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new V2(this.comparator);return n.data=e,n}}class pB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function B0(t){return t.hasNext()?t.getNext():void 0}class kn{constructor(e){this.fields=e,e.sort(U2.comparator)}static empty(){return new kn([])}unionWith(e){let n=new V2(U2.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return F0(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class mB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class M1{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mB("Invalid base64 string: "+o):o}}(e);return new M1(n)}static fromUint8Array(e){const n=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new M1(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}M1.EMPTY_BYTE_STRING=new M1("");const m3e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function g4(t){if(lt(!!t),"string"==typeof t){let e=0;const n=m3e.exec(t);if(lt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:j2(t.seconds),nanos:j2(t.nanos)}}function j2(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Es(t){return"string"==typeof t?M1.fromBase64String(t):M1.fromUint8Array(t)}function Iy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sy(t){const e=t.mapValue.fields.__previous_value__;return Iy(e)?Sy(e):e}function J7(t){const e=g4(t.mapValue.fields.__local_write_time__.timestampValue);return new L2(e.seconds,e.nanos)}class g3e{constructor(e,n,r,o,c,u,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=b}}class v4{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new v4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof v4&&e.projectId===this.projectId&&e.database===this.database}}const y4={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zy={nullValue:"NULL_VALUE"};function C4(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:CB(t)?9007199254740991:10:Xe()}function zi(t,e){if(t===e)return!0;const n=C4(t);if(n!==C4(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return J7(t).isEqual(J7(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=g4(r.timestampValue),u=g4(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Es(t.bytesValue).isEqual(Es(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return j2(r.geoPointValue.latitude)===j2(o.geoPointValue.latitude)&&j2(r.geoPointValue.longitude)===j2(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return j2(r.integerValue)===j2(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=j2(r.doubleValue),u=j2(o.doubleValue);return c===u?Q7(c)===Q7(u):isNaN(c)&&isNaN(u)}return!1}(t,e);case 9:return F0(t.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:return function(r,o){const c=r.mapValue.fields||{},u=o.mapValue.fields||{};if(dB(c)!==dB(u))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===u[p]||!zi(c[p],u[p])))return!1;return!0}(t,e);default:return Xe()}var o}function X7(t,e){return void 0!==(t.values||[]).find(n=>zi(n,e))}function _4(t,e){if(t===e)return 0;const n=C4(t),r=C4(e);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(o,c){const u=j2(o.integerValue||o.doubleValue),p=j2(c.integerValue||c.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(t,e);case 3:return gB(t.timestampValue,e.timestampValue);case 4:return gB(J7(t),J7(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return function(o,c){const u=Es(o),p=Es(c);return u.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const u=o.split("/"),p=c.split("/");for(let y=0;y<u.length&&y<p.length;y++){const b=zt(u[y],p[y]);if(0!==b)return b}return zt(u.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const u=zt(j2(o.latitude),j2(c.latitude));return 0!==u?u:zt(j2(o.longitude),j2(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,c){const u=o.values||[],p=c.values||[];for(let y=0;y<u.length&&y<p.length;++y){const b=_4(u[y],p[y]);if(b)return b}return zt(u.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===y4.mapValue&&c===y4.mapValue)return 0;if(o===y4.mapValue)return 1;if(c===y4.mapValue)return-1;const u=o.fields||{},p=Object.keys(u),y=c.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let H=0;H<p.length&&H<b.length;++H){const S=zt(p[H],b[H]);if(0!==S)return S;const N=_4(u[p[H]],y[b[H]]);if(0!==N)return N}return zt(p.length,b.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function gB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zt(t,e);const n=g4(t),r=g4(e),o=zt(n.seconds,r.seconds);return 0!==o?o:zt(n.nanos,r.nanos)}function U0(t){return lL(t)}function lL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=g4(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Es(t.bytesValue).toBase64():"referenceValue"in t?Ue.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",c=!0;for(const u of r.values||[])c?c=!1:o+=",",o+=lL(u);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",u=!0;for(const p of o)u?u=!1:c+=",",c+=`${p}:${lL(r.fields[p])}`;return c+"}"}(t.mapValue):Xe();var e}function Ra(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uL(t){return!!t&&"integerValue"in t}function ef(t){return!!t&&"arrayValue"in t}function vB(t){return!!t&&"nullValue"in t}function yB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ly(t){return!!t&&"mapValue"in t}function tf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return m4(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function v3e(t){return"nullValue"in t?zy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ra(v4.empty(),Ue.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Xe()}function y3e(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ra(v4.empty(),Ue.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?y4:Xe()}function _B(t,e){const n=_4(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function MB(t,e){const n=_4(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Y1{constructor(e){this.value=e}static empty(){return new Y1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ly(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(n)}setAll(e){let n=U2.emptyPath(),r={},o=[];e.forEach((u,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=p.popLast()}u?r[p.lastSegment()]=tf(u):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Ly(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Ly(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){m4(n,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Y1(tf(this.value))}}function wB(t){const e=[];return m4(t.fields,(n,r)=>{const o=new U2([n]);if(Ly(r)){const c=wB(r.mapValue).fields;if(0===c.length)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)}),new kn(e)}class I2{constructor(e,n,r,o,c,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new I2(e,0,ft.min(),ft.min(),ft.min(),Y1.empty(),0)}static newFoundDocument(e,n,r,o){return new I2(e,1,n,ft.min(),r,o,0)}static newNoDocument(e,n){return new I2(e,2,n,ft.min(),ft.min(),Y1.empty(),0)}static newUnknownDocument(e,n){return new I2(e,3,n,ft.min(),ft.min(),Y1.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Y1.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Y1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof I2&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new I2(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class M4{constructor(e,n){this.position=e,this.inclusive=n}}function bB(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const c=e[o],u=t.position[o];if(r=c.field.isKeyField()?Ue.comparator(Ue.fromName(u.referenceValue),n.key):_4(u,n.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function HB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zi(t.position[n],e.position[n]))return!1;return!0}class j0{constructor(e,n="asc"){this.field=e,this.dir=n}}function C3e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class VB{}class Gt extends VB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new _3e(e,n,r):"array-contains"===n?new b3e(e,r):"in"===n?new xB(e,r):"not-in"===n?new H3e(e,r):"array-contains-any"===n?new V3e(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new M3e(e,r):new w3e(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(_4(n,this.value)):null!==n&&C4(this.value)===C4(n)&&this.matchesComparison(_4(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class s2 extends VB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new s2(e,n)}matches(e){return $0(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function $0(t){return"and"===t.op}function fL(t){return"or"===t.op}function dL(t){return IB(t)&&$0(t)}function IB(t){for(const e of t.filters)if(e instanceof s2)return!1;return!0}function hL(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+U0(t.value);if(dL(t))return t.filters.map(e=>hL(e)).join(",");{const e=t.filters.map(n=>hL(n)).join(",");return`${t.op}(${e})`}}function SB(t,e){return t instanceof Gt?(n=t,(r=e)instanceof Gt&&n.op===r.op&&n.field.isEqual(r.field)&&zi(n.value,r.value)):t instanceof s2?function(n,r){return r instanceof s2&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((o,c,u)=>o&&SB(c,r.filters[u]),!0)}(t,e):void Xe();var n,r}function zB(t,e){const n=t.filters.concat(e);return s2.create(n,t.op)}function EB(t){return t instanceof Gt?`${(e=t).field.canonicalString()} ${e.op} ${U0(e.value)}`:t instanceof s2?function(e){return e.op.toString()+" {"+e.getFilters().map(EB).join(" ,")+"}"}(t):"Filter";var e}class _3e extends Gt{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class M3e extends Gt{constructor(e,n){super(e,"in",n),this.keys=LB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w3e extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=LB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class b3e extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ef(n)&&X7(n.arrayValue,this.value)}}class xB extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&X7(this.value.arrayValue,n)}}class H3e extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(X7(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!X7(this.value.arrayValue,n)}}class V3e extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>X7(this.value.arrayValue,r))}}class I3e{constructor(e,n=null,r=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.dt=null}}function pL(t,e=null,n=[],r=[],o=null,c=null,u=null){return new I3e(t,e,n,r,o,c,u)}function Oa(t){const e=Ge(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Y7(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>U0(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>U0(r)).join(",")),e.dt=n}return e.dt}function nf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C3e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HB(t.startAt,e.startAt)&&HB(t.endAt,e.endAt)}function xy(t){return Ue.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Dy(t,e){return t.filters.filter(n=>n instanceof Gt&&n.field.isEqual(e))}function DB(t,e,n){let r=zy,o=!0;for(const c of Dy(t,e)){let u=zy,p=!0;switch(c.op){case"<":case"<=":u=v3e(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,p=!1;break;case"!=":case"not-in":u=zy}_B({value:r,inclusive:o},{value:u,inclusive:p})<0&&(r=u,o=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];_B({value:r,inclusive:o},{value:u,inclusive:n.inclusive})<0&&(r=u,o=n.inclusive);break}return{value:r,inclusive:o}}function AB(t,e,n){let r=y4,o=!0;for(const c of Dy(t,e)){let u=y4,p=!0;switch(c.op){case">=":case">":u=y3e(c.value),p=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,p=!1;break;case"!=":case"not-in":u=y4}MB({value:r,inclusive:o},{value:u,inclusive:p})>0&&(r=u,o=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];MB({value:r,inclusive:o},{value:u,inclusive:n.inclusive})>0&&(r=u,o=n.inclusive);break}return{value:r,inclusive:o}}class Ls{constructor(e,n=null,r=[],o=[],c=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=y,this.wt=null,this._t=null}}function TB(t,e,n,r,o,c,u,p){return new Ls(t,e,n,r,o,c,u,p)}function G0(t){return new Ls(t)}function NB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function mL(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ay(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function gL(t){return null!==t.collectionGroup}function Fa(t){const e=Ge(t);if(null===e.wt){e.wt=[];const n=Ay(e),r=mL(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new j0(n)),e.wt.push(new j0(U2.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new j0(U2.keyField(),c))}}}return e.wt}function Vn(t){const e=Ge(t);if(!e._t)if("F"===e.limitType)e._t=pL(e.path,e.collectionGroup,Fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of Fa(e))n.push(new j0(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new M4(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new M4(e.startAt.position,e.startAt.inclusive):null;e._t=pL(e.path,e.collectionGroup,n,e.filters,e.limit,r,o)}return e._t}function vL(t,e){e.getFirstInequalityField(),Ay(t);const n=t.filters.concat([e]);return new Ls(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ty(t,e,n){return new Ls(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return nf(Vn(t),Vn(e))&&t.limitType===e.limitType}function kB(t){return`${Oa(Vn(t))}|lt:${t.limitType}`}function yL(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>EB(r)).join(", ")}]`),Y7(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>U0(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>U0(r)).join(",")),`Target(${n})`}(Vn(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(n,r){const o=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ue.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(const o of Fa(n))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(t,e)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(o,c,u){const p=bB(o,c,u);return o.inclusive?p<=0:p<0}(n.startAt,Fa(n),r)||n.endAt&&!function(o,c,u){const p=bB(o,c,u);return o.inclusive?p>=0:p>0}(n.endAt,Fa(n),r)));var n,r}function PB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RB(t){return(e,n)=>{let r=!1;for(const o of Fa(t)){const c=S3e(o,e,n);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function S3e(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(o,c,u){const p=c.data.field(o),y=u.data.field(o);return null!==p&&null!==y?_4(p,y):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){m4(this.inner,(n,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return hB(this.inner)}size(){return this.innerSize}}const z3e=new p2(Ue.comparator);function Pn(){return z3e}const OB=new p2(Ue.comparator);function of(...t){let e=OB;for(const n of t)e=e.insert(n.key,n);return e}function FB(t){let e=OB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return af()}function BB(){return af()}function af(){return new xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const E3e=new p2(Ue.comparator),L3e=new V2(Ue.comparator);function Tt(...t){let e=L3e;for(const n of t)e=e.add(n);return e}const x3e=new V2(zt);function CL(){return x3e}function UB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Q7(e)?"-0":e}}function jB(t){return{integerValue:""+t}}function $B(t,e){return sB(e)?jB(e):UB(t,e)}class Ny{constructor(){this._=void 0}}function D3e(t,e,n){return t instanceof q0?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Iy(o)&&(o=Sy(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof Ba?qB(t,e):t instanceof Ua?WB(t,e):function(r,o){const c=GB(r,o),u=ZB(c)+ZB(r.gt);return uL(c)&&uL(r.gt)?jB(u):UB(r.serializer,u)}(t,e)}function A3e(t,e,n){return t instanceof Ba?qB(t,e):t instanceof Ua?WB(t,e):n}function GB(t,e){return t instanceof W0?uL(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class q0 extends Ny{}class Ba extends Ny{constructor(e){super(),this.elements=e}}function qB(t,e){const n=KB(e);for(const r of t.elements)n.some(o=>zi(o,r))||n.push(r);return{arrayValue:{values:n}}}class Ua extends Ny{constructor(e){super(),this.elements=e}}function WB(t,e){let n=KB(e);for(const r of t.elements)n=n.filter(o=>!zi(o,r));return{arrayValue:{values:n}}}class W0 extends Ny{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ZB(t){return j2(t.integerValue||t.doubleValue)}function KB(t){return ef(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class cf{constructor(e,n){this.field=e,this.transform=n}}class N3e{constructor(e,n){this.version=e,this.transformResults=n}}class x2{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new x2}static exists(e){return new x2(void 0,e)}static updateTime(e){return new x2(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ky(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Py{}function YB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new K0(t.key,x2.none()):new Z0(t.key,t.data,x2.none());{const n=t.data,r=Y1.empty();let o=new V2(U2.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);null===u&&c.length>1&&(c=c.popLast(),u=n.field(c)),null===u?r.delete(c):r.set(c,u),o=o.add(c)}return new Ds(t.key,r,new kn(o.toArray()),x2.none())}}function k3e(t,e,n){t instanceof Z0?function(r,o,c){const u=r.value.clone(),p=XB(r.fieldTransforms,o,c.transformResults);u.setAll(p),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Ds?function(r,o,c){if(!ky(r.precondition,o))return void o.convertToUnknownDocument(c.version);const u=XB(r.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(JB(r)),p.setAll(u),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function lf(t,e,n,r){return t instanceof Z0?function(o,c,u,p){if(!ky(o.precondition,c))return u;const y=o.value.clone(),b=eU(o.fieldTransforms,p,c);return y.setAll(b),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ds?function(o,c,u,p){if(!ky(o.precondition,c))return u;const y=eU(o.fieldTransforms,p,c),b=c.data;return b.setAll(JB(o)),b.setAll(y),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),null===u?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(H=>H.field))}(t,e,n,r):(u=n,ky(t.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u);var c,u}function P3e(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),c=GB(r.transform,o||null);null!=c&&(null===n&&(n=Y1.empty()),n.set(r.field,c))}return n||null}function QB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&F0(n,r,(o,c)=>function T3e(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ba&&r instanceof Ba||n instanceof Ua&&r instanceof Ua?F0(n.elements,r.elements,zi):n instanceof W0&&r instanceof W0?zi(n.gt,r.gt):n instanceof q0&&r instanceof q0);var n,r}(o,c))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Z0 extends Py{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Py{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XB(t,e,n){const r=new Map;lt(t.length===n.length);for(let o=0;o<n.length;o++){const c=t[o],u=c.transform,p=e.data.field(c.field);r.set(c.field,A3e(u,p,n[o]))}return r}function eU(t,e,n){const r=new Map;for(const o of t){const c=o.transform,u=n.data.field(o.field);r.set(o.field,D3e(c,u,e))}return r}class K0 extends Py{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _L extends Py{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ML{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&k3e(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BB();return this.mutations.forEach(o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(o.key)?null:p;const y=YB(u,p);null!==y&&r.set(o.key,y),u.isValidDocument()||u.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&F0(this.mutations,e.mutations,(n,r)=>QB(n,r))&&F0(this.baseMutations,e.baseMutations,(n,r)=>QB(n,r))}}class wL{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){lt(e.mutations.length===r.length);let o=E3e;const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new wL(e,n,r,o)}}class bL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class O3e{constructor(e,n){this.count=e,this.unchangedNames=n}}var i1,Zt;function tU(t){switch(t){default:return Xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function nU(t){if(void 0===t)return Y2("GRPC error has no .code"),ne.UNKNOWN;switch(t){case i1.OK:return ne.OK;case i1.CANCELLED:return ne.CANCELLED;case i1.UNKNOWN:return ne.UNKNOWN;case i1.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case i1.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case i1.INTERNAL:return ne.INTERNAL;case i1.UNAVAILABLE:return ne.UNAVAILABLE;case i1.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case i1.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case i1.NOT_FOUND:return ne.NOT_FOUND;case i1.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case i1.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case i1.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case i1.ABORTED:return ne.ABORTED;case i1.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case i1.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case i1.DATA_LOSS:return ne.DATA_LOSS;default:return Xe()}}(Zt=i1||(i1={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class HL{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ry}static getOrCreateInstance(){return null===Ry&&(Ry=new HL),Ry}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ry=null;function rU(){return new TextEncoder}const F3e=new R0([4294967295,4294967295],0);function iU(t){const e=rU().encode(t),n=new Ase;return n.update(e),new Uint8Array(n.digest())}function sU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new R0([n,r],0),new R0([o,c],0)]}class VL{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uf(`Invalid padding: ${n}`);if(r<0)throw new uf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new uf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new uf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=R0.fromNumber(this.It)}Et(e,n,r){let o=e.add(n.multiply(R0.fromNumber(r)));return 1===o.compare(F3e)&&(o=new R0([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=iU(e),[r,o]=sU(n);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,o,c);if(!this.At(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new VL(c,o,n);return r.forEach(p=>u.insert(p)),u}insert(e){if(0===this.It)return;const n=iU(e),[r,o]=sU(n);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,o,c);this.Rt(u)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(ft.min(),o,new p2(zt),Pn(),Tt())}}class df{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new df(r,n,Tt(),Tt(),Tt())}}class Oy{constructor(e,n,r,o){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=o}}class oU{constructor(e,n){this.targetId=e,this.Vt=n}}class aU{constructor(e,n,r=M1.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class cU{constructor(){this.St=0,this.Dt=uU(),this.Ct=M1.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Tt(),n=Tt(),r=Tt();return this.Dt.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new df(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=uU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class B3e{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Pn(),this.zt=lU(),this.Wt=new p2(zt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,o)=>{this.te(o)&&n(o)})}ne(e){var n;const r=e.targetId,o=e.Vt.count,c=this.se(r);if(c){const u=c.target;if(xy(u))if(0===o){const p=new Ue(u.path);this.Yt(r,p,I2.newNoDocument(p,ft.min()))}else lt(1===o);else{const p=this.ie(r);if(p!==o){const y=this.re(e,p);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=HL.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(b,H,S){var N,U,ae,Ce,Me,je;const qe={localCacheCount:H,existenceFilterCount:S.count},Ze=S.unchangedNames;return Ze&&(qe.bloomFilter={applied:0===b,hashCount:null!==(N=Ze?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(Ce=null===(ae=null===(U=Ze?.bits)||void 0===U?void 0:U.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==Ce?Ce:0,padding:null!==(je=null===(Me=Ze?.bits)||void 0===Me?void 0:Me.padding)&&void 0!==je?je:0}),qe}(y,p,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:u=0},hashCount:p=0}=r;let y,b;try{y=Es(c).toUint8Array()}catch(H){if(H instanceof mB)return Vr("Decoding the base64 bloom filter in existence filter failed ("+H.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw H}try{b=new VL(y,u,p)}catch(H){return Vr(H instanceof uf?"BloomFilter error: ":"Applying bloom filter failed: ",H),1}return 0===b.It?1:o!==n-this.oe(e.targetId,b)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(c=>{const u=this.Gt.ue(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;n.vt(p)||(this.Yt(e,c,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((c,u)=>{const p=this.se(u);if(p){if(c.current&&xy(p.target)){const y=new Ue(p.target.path);null!==this.jt.get(y)||this.ae(u,y)||this.Yt(u,y,I2.newNoDocument(y,e))}c.Mt&&(n.set(u,c.Ot()),c.Ft())}});let r=Tt();this.zt.forEach((c,u)=>{let p=!0;u.forEachWhile(y=>{const b=this.se(y);return!b||"TargetPurposeLimboResolution"===b.purpose||(p=!1,!1)}),p&&(r=r.add(c))}),this.jt.forEach((c,u)=>u.setReadTime(e));const o=new ff(e,n,this.Wt,this.jt,r);return this.jt=Pn(),this.zt=lU(),this.Wt=new p2(zt),o}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new cU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new V2(zt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Se("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function lU(){return new p2(Ue.comparator)}function uU(){return new p2(Ue.comparator)}const U3e={asc:"ASCENDING",desc:"DESCENDING"},j3e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$3e={and:"AND",or:"OR"};class G3e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function IL(t,e){return t.useProto3Json||Y7(e)?e:{value:e}}function Y0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q3e(t,e){return Y0(t,e.toTimestamp())}function Q2(t){return lt(!!t),ft.fromTimestamp(function(e){const n=g4(e);return new L2(n.seconds,n.nanos)}(t))}function SL(t,e){return(n=t,new Wt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function dU(t){const e=Wt.fromString(t);return lt(MU(e)),e}function hf(t,e){return SL(t.databaseId,e.path)}function Li(t,e){const n=dU(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(pU(n))}function zL(t,e){return SL(t.databaseId,e)}function hU(t){const e=dU(t);return 4===e.length?Wt.emptyPath():pU(e)}function pf(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pU(t){return lt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function mU(t,e,n){return{name:hf(t,e),fields:n.value.mapValue.fields}}function gU(t,e,n){const r=Li(t,e.name),o=Q2(e.updateTime),c=e.createTime?Q2(e.createTime):ft.min(),u=new Y1({mapValue:{fields:e.fields}}),p=I2.newFoundDocument(r,o,c,u);return n&&p.setHasCommittedMutations(),n?p.setHasCommittedMutations():p}function mf(t,e){let n;if(e instanceof Z0)n={update:mU(t,e.key,e.value)};else if(e instanceof K0)n={delete:hf(t,e.key)};else if(e instanceof Ds)n={update:mU(t,e.key,e.data),updateMask:e4e(e.fieldMask)};else{if(!(e instanceof _L))return Xe();n={verify:hf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const u=c.transform;if(u instanceof q0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ba)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ua)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof W0)return{fieldPath:c.field.canonicalString(),increment:u.gt};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:q3e(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),n;var o}function EL(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?x2.updateTime(Q2(o.updateTime)):void 0!==o.exists?x2.exists(o.exists):x2.none():x2.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,u){let p=null;"setToServerValue"in u?(lt("REQUEST_TIME"===u.setToServerValue),p=new q0):"appendMissingElements"in u?p=new Ba(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new Ua(u.removeAllFromArray.values||[]):"increment"in u?p=new W0(c,u.increment):Xe();const y=U2.fromServerFormat(u.fieldPath);return new cf(y,p)}(t,o)):[];var o;if(e.update){const o=Li(t,e.update.name),c=new Y1({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new kn((e.updateMask.fieldPaths||[]).map(b=>U2.fromServerFormat(b)));return new Ds(o,c,u,n,r)}return new Z0(o,c,n,r)}if(e.delete){const o=Li(t,e.delete);return new K0(o,n)}if(e.verify){const o=Li(t,e.verify);return new _L(o,n)}return Xe()}function vU(t,e){return{documents:[zL(t,e.path)]}}function LL(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=zL(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zL(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0!==y.length)return _U(s2.create(y,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(y){if(0!==y.length)return y.map(b=>{return{field:w4((H=b).field),direction:Q3e(H.dir)};var H})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=IL(t,e.limit);var p,y;return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(n.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),n}function yU(t){let e=hU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){lt(1===r);const H=n.from[0];H.allDescendants?o=H.collectionId:e=e.child(H.collectionId)}let c=[];n.where&&(c=function(H){const S=CU(H);return S instanceof s2&&dL(S)?S.getFilters():[S]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(H=>{return new j0(Q0((S=H).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let p=null;n.limit&&(p=function(H){let S;return S="object"==typeof H?H.value:H,Y7(S)?null:S}(n.limit));let y=null;var H;n.startAt&&(y=new M4((H=n.startAt).values||[],!!H.before));let b=null;return n.endAt&&(b=function(H){return new M4(H.values||[],!H.before)}(n.endAt)),TB(e,o,u,c,p,"F",y,b)}function CU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Q0(e.unaryFilter.field);return Gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Q0(e.unaryFilter.field);return Gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Q0(e.unaryFilter.field);return Gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Q0(e.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):void 0!==t.fieldFilter?Gt.create(Q0((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return s2.create(e.compositeFilter.filters.map(n=>CU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(t):Xe();var e}function Q3e(t){return U3e[t]}function J3e(t){return j3e[t]}function X3e(t){return $3e[t]}function w4(t){return{fieldPath:t.canonicalString()}}function Q0(t){return U2.fromServerFormat(t.fieldPath)}function _U(t){return t instanceof Gt?function(e){if("=="===e.op){if(yB(e.value))return{unaryFilter:{field:w4(e.field),op:"IS_NAN"}};if(vB(e.value))return{unaryFilter:{field:w4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yB(e.value))return{unaryFilter:{field:w4(e.field),op:"IS_NOT_NAN"}};if(vB(e.value))return{unaryFilter:{field:w4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w4(e.field),op:J3e(e.op),value:e.value}}}(t):t instanceof s2?function(e){const n=e.getFilters().map(r=>_U(r));return 1===n.length?n[0]:{compositeFilter:{op:X3e(e.op),filters:n}}}(t):Xe()}function e4e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class As{constructor(e,n,r,o,c=ft.min(),u=ft.min(),p=M1.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wU{constructor(e){this.fe=e}}function bU(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:hf(o=t.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Y0(o,c.version.toTimestamp()),createTime:Y0(o,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ja(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:n.path.toArray(),version:ja(e.version)}}var o,c;return r}function Fy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ja(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $a(t){const e=new L2(t.seconds,t.nanoseconds);return ft.fromTimestamp(e)}function Ga(t,e){const n=(e.baseMutations||[]).map(c=>EL(t.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>EL(t.fe,c)),o=L2.fromMillis(e.localWriteTimeMs);return new ML(e.batchId,o,n,r)}function gf(t){const e=$a(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?$a(t.lastLimboFreeSnapshotVersion):ft.min();let r;var o;return void 0!==t.query.documents?(lt(1===(o=t.query).documents.length),r=Vn(G0(hU(o.documents[0])))):r=Vn(yU(t.query)),new As(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,M1.fromBase64String(t.resumeToken))}function HU(t,e){const n=ja(e.snapshotVersion),r=ja(e.lastLimboFreeSnapshotVersion);let o;o=xy(e.target)?vU(t.fe,e.target):LL(t.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function xL(t){const e=yU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ty(e,e.limit,"L"):e}function DL(t,e){return new bL(e.largestBatchId,EL(t.fe,e.overlayMutation))}function VU(t,e){const n=e.path.lastSegment();return[t,un(e.path.popLast()),n]}function IU(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:ja(r.readTime),documentKey:un(r.documentKey.path),largestBatchId:r.largestBatchId}}class n4e{getBundleMetadata(e,n){return SU(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:$a(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return SU(e).put({bundleId:(r=n).id,createTime:ja(Q2(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return zU(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:xL(o.bundledQuery),readTime:$a(o.readTime)};var o})}saveNamedQuery(e,n){return zU(e).put({name:(r=n).name,readTime:ja(Q2(r.readTime)),bundledQuery:r.bundledQuery});var r}}function SU(t){return T1(t,"bundles")}function zU(t){return T1(t,"namedQueries")}class By{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new By(e,n.uid||"")}getOverlay(e,n){return vf(e).get(VU(this.userId,n)).next(r=>r?DL(this.serializer,r):null)}getOverlays(e,n){const r=Ei();return Q.forEach(n,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,n,r){const o=[];return r.forEach((c,u)=>{const p=new bL(n,u);o.push(this.we(e,p))}),Q.waitFor(o)}removeOverlaysForBatchId(e,n,r){const o=new Set;n.forEach(u=>o.add(un(u.getCollectionPath())));const c=[];return o.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(vf(e).J("collectionPathOverlayIndex",p))}),Q.waitFor(c)}getOverlaysForCollection(e,n,r){const o=Ei(),c=un(n),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return vf(e).j("collectionPathOverlayIndex",u).next(p=>{for(const y of p){const b=DL(this.serializer,y);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,n,r,o){const c=Ei();let u;const p=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return vf(e).X({index:"collectionGroupOverlayIndex",range:p},(y,b,H)=>{const S=DL(this.serializer,b);c.size()<o||S.largestBatchId===u?(c.set(S.getKey(),S),u=S.largestBatchId):H.done()}).next(()=>c)}we(e,n){return vf(e).put(function(r,o,c){const[u,p,y]=VU(o,c.mutation.key);return{userId:o,collectionPath:p,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:mf(r.fe,c.mutation)}}(this.serializer,this.userId,n))}}function vf(t){return T1(t,"documentOverlays")}class qa{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(j2(e.integerValue));else if("doubleValue"in e){const r=j2(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Q7(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Es(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?CB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Xe()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const o of Object.keys(r))this.Te(o,n),this.me(r[o],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const o of r)this.me(o,n)}ve(e,n){this.ye(n,37),Ue.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function r4e(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function EU(t){const e=64-function(n){let r=0;for(let o=0;o<8;++o){const c=r4e(255&n[o]);if(r+=c,8!==c)break}return r}(t);return Math.ceil(e/8)}qa.Ve=new qa;class i4e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=n.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=n.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const n=this.Fe(e),r=EU(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}Le(e){const n=this.Fe(e),r=EU(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class s4e{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class o4e{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class yf{constructor(){this.je=new i4e,this.ze=new s4e(this.je),this.We=new o4e(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Wa{constructor(e,n,r,o){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wa(this.indexId,this.documentKey,this.arrayValue,r)}}function b4(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=LU(t.arrayValue,e.arrayValue),0!==n?n:(n=LU(t.directionalValue,e.directionalValue),0!==n?n:Ue.comparator(t.documentKey,e.documentKey)))}function LU(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class a4e{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){lt(e.collectionGroup===this.collectionId);const n=iL(e);if(void 0!==n&&!this.en(n))return!1;const r=ka(e);let o=new Set,c=0,u=0;for(;c<r.length&&this.en(r[c]);++c)o=o.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const p=r[c];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[u++],p))return!1}++c}for(;c<r.length;++c)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[c]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function xU(t){var e,n;if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt){if(t instanceof xB){const o=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>Gt.create(t.field,"==",c)))||[];return s2.create(o,"or")}return t}const r=t.filters.map(o=>xU(o));return s2.create(r,t.op)}function c4e(t){if(0===t.getFilters().length)return[];const e=NL(xU(t));return lt(DU(e)),AL(e)||TL(e)?[e]:e.getFilters()}function AL(t){return t instanceof Gt}function TL(t){return t instanceof s2&&dL(t)}function DU(t){return AL(t)||TL(t)||function(e){if(e instanceof s2&&fL(e)){for(const n of e.getFilters())if(!AL(n)&&!TL(n))return!1;return!0}return!1}(t)}function NL(t){if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt)return t;if(1===t.filters.length)return NL(t.filters[0]);const e=t.filters.map(r=>NL(r));let n=s2.create(e,t.op);return n=Uy(n),DU(n)?n:(lt(n instanceof s2),lt($0(n)),lt(n.filters.length>1),n.filters.reduce((r,o)=>kL(r,o)))}function kL(t,e){let n;return lt(t instanceof Gt||t instanceof s2),lt(e instanceof Gt||e instanceof s2),n=t instanceof Gt?e instanceof Gt?s2.create([t,e],"and"):AU(t,e):e instanceof Gt?AU(e,t):function(r,o){if(lt(r.filters.length>0&&o.filters.length>0),$0(r)&&$0(o))return zB(r,o.getFilters());const c=fL(r)?r:o,u=fL(r)?o:r,p=c.filters.map(y=>kL(y,u));return s2.create(p,"or")}(t,e),Uy(n)}function AU(t,e){if($0(e))return zB(e,t.getFilters());{const n=e.filters.map(r=>kL(t,r));return s2.create(n,"or")}}function Uy(t){if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt)return t;const e=t.getFilters();if(1===e.length)return Uy(e[0]);if(IB(t))return t;const n=e.map(o=>Uy(o)),r=[];return n.forEach(o=>{o instanceof Gt?r.push(o):o instanceof s2&&(o.op===t.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:s2.create(r,t.op)}class l4e{constructor(){this.rn=new PL}addToCollectionParentIndex(e,n){return this.rn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(cr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class PL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new V2(Wt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new V2(Wt.comparator)).toArray()}}const jy=new Uint8Array(0);class u4e{constructor(e,n){this.user=e,this.databaseId=n,this.on=new PL,this.un=new xs(r=>Oa(r),(r,o)=>nf(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const c={collectionId:r,parent:un(o)};return TU(e).put(c)}return Q.resolve()}getCollectionParents(e,n){const r=[],o=IDBKeyRange.bound([n,""],[XF(n),""],!1,!0);return TU(e).j(o).next(c=>{for(const u of c){if(u.collectionId!==n)break;r.push(Si(u.parent))}return r})}addFieldIndex(e,n){const r=$y(e),o={indexId:(u=n).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete o.indexId;const c=r.add(o);if(n.indexState){const u=_f(e);return c.next(p=>{u.put(IU(p,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const r=$y(e),o=_f(e),c=Cf(e);return r.delete(n.indexId).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Cf(e);let o=!0;const c=new Map;return Q.forEach(this.cn(n),u=>this.an(e,u).next(p=>{o&&(o=!!p),c.set(u,p)})).next(()=>{if(o){let u=Tt();const p=[];return Q.forEach(c,(y,b)=>{var H;Se("IndexedDbIndexManager",`Using index ${H=y,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(Ze=>`${Ze.fieldPath}:${Ze.kind}`).join(",")}`} to execute ${Oa(n)}`);const S=function(Ze,at){const dt=iL(at);if(void 0===dt)return null;for(const xt of Dy(Ze,dt.fieldPath))switch(xt.op){case"array-contains-any":return xt.value.arrayValue.values||[];case"array-contains":return[xt.value]}return null}(b,y),N=function(Ze,at){const dt=new Map;for(const xt of ka(at))for(const D2 of Dy(Ze,xt.fieldPath))switch(D2.op){case"==":case"in":dt.set(xt.fieldPath.canonicalString(),D2.value);break;case"not-in":case"!=":return dt.set(xt.fieldPath.canonicalString(),D2.value),Array.from(dt.values())}return null}(b,y),U=function(Ze,at){const dt=[];let xt=!0;for(const D2 of ka(at)){const Jr=0===D2.kind?DB(Ze,D2.fieldPath,Ze.startAt):AB(Ze,D2.fieldPath,Ze.startAt);dt.push(Jr.value),xt&&(xt=Jr.inclusive)}return new M4(dt,xt)}(b,y),ae=function(Ze,at){const dt=[];let xt=!0;for(const D2 of ka(at)){const Jr=0===D2.kind?AB(Ze,D2.fieldPath,Ze.endAt):DB(Ze,D2.fieldPath,Ze.endAt);dt.push(Jr.value),xt&&(xt=Jr.inclusive)}return new M4(dt,xt)}(b,y),Ce=this.hn(y,b,U),Me=this.hn(y,b,ae),je=this.ln(y,b,N),qe=this.fn(y.indexId,S,Ce,U.inclusive,Me,ae.inclusive,je);return Q.forEach(qe,Ze=>r.H(Ze,n.limit).next(at=>{at.forEach(dt=>{const xt=Ue.fromSegments(dt.documentKey);u.has(xt)||(u=u.add(xt),p.push(xt))})}))}).next(()=>p)}return Q.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:c4e(s2.create(e.filters,"and")).map(r=>pL(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,o,c,u,p){const y=(null!=n?n.length:1)*Math.max(r.length,c.length),b=y/(null!=n?n.length:1),H=[];for(let S=0;S<y;++S){const N=n?this.dn(n[S/b]):jy,U=this.wn(e,N,r[S%b],o),ae=this._n(e,N,c[S%b],u),Ce=p.map(Me=>this.wn(e,N,Me,!0));H.push(...this.createRange(U,ae,Ce))}return H}wn(e,n,r,o){const c=new Wa(e,Ue.empty(),n,r);return o?c:c.Je()}_n(e,n,r,o){const c=new Wa(e,Ue.empty(),n,r);return o?c.Je():c}an(e,n){const r=new a4e(n),o=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let u=null;for(const p of c)r.tn(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,n){let r=2;const o=this.cn(n);return Q.forEach(o,c=>this.an(e,c).next(u=>{u?0!==r&&u.fields.length<function(p){let y=new V2(U2.comparator),b=!1;for(const H of p.filters)for(const S of H.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?b=!0:y=y.add(S.field));for(const H of p.orderBy)H.field.isKeyField()||(y=y.add(H.field));return y.size+(b?1:0)}(c)&&(r=1):r=0})).next(()=>null!==n.limit&&o.length>1&&2===r?1:r)}mn(e,n){const r=new yf;for(const o of ka(e)){const c=n.data.field(o.fieldPath);if(null==c)return null;const u=r.He(o.kind);qa.Ve._e(c,u)}return r.Qe()}dn(e){const n=new yf;return qa.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new yf;return qa.Ve._e(Ra(this.databaseId,n),r.He(function(o){const c=ka(o);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let o=[];o.push(new yf);let c=0;for(const u of ka(e)){const p=r[c++];for(const y of o)if(this.yn(n,u.fieldPath)&&ef(p))o=this.pn(o,u,p);else{const b=y.He(u.kind);qa.Ve._e(p,b)}}return this.In(o)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const o=[...e],c=[];for(const u of r.arrayValue.values||[])for(const p of o){const y=new yf;y.seed(p.Qe()),qa.Ve._e(u,y.He(n.kind)),c.push(y)}return c}yn(e,n){return!!e.filters.find(r=>r instanceof Gt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=$y(e),o=_f(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(c=>{const u=[];return Q.forEach(c,p=>o.get([p.indexId,this.uid]).next(y=>{u.push(function(b,H){const S=H?new Z7(H.sequenceNumber,new cr($a(H.readTime),new Ue(Si(H.documentKey)),H.largestBatchId)):Z7.empty(),N=b.fields.map(([U,ae])=>new wy(U2.fromServerFormat(U),ae));return new My(b.indexId,b.collectionGroup,N,S)}(p,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,o)=>{const c=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:zt(r.collectionGroup,o.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const o=$y(e),c=_f(e);return this.Tn(e).next(u=>o.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(p=>Q.forEach(p,y=>c.put(IU(y.indexId,this.user,u,r)))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,(o,c)=>{const u=r.get(o.collectionGroup);return(u?Q.resolve(u):this.getFieldIndexes(e,o.collectionGroup)).next(p=>(r.set(o.collectionGroup,p),Q.forEach(p,y=>this.En(e,o,y).next(b=>{const H=this.An(c,y);return b.isEqual(H)?Q.resolve():this.vn(e,c,y,b,H)}))))})}Rn(e,n,r,o){return Cf(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,o){return Cf(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const o=Cf(e);let c=new V2(b4);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(u,p)=>{c=c.add(new Wa(r.indexId,n,p.arrayValue,p.directionalValue))}).next(()=>c)}An(e,n){let r=new V2(b4);const o=this.mn(n,e);if(null==o)return r;const c=iL(n);if(null!=c){const u=e.data.field(c.fieldPath);if(ef(u))for(const p of u.arrayValue.values||[])r=r.add(new Wa(n.indexId,e.key,this.dn(p),o))}else r=r.add(new Wa(n.indexId,e.key,jy,o));return r}vn(e,n,r,o,c){Se("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const u=[];return function(p,y,b,H,S){const N=p.getIterator(),U=y.getIterator();let ae=B0(N),Ce=B0(U);for(;ae||Ce;){let Me=!1,je=!1;if(ae&&Ce){const qe=b(ae,Ce);qe<0?je=!0:qe>0&&(Me=!0)}else null!=ae?je=!0:Me=!0;Me?(H(Ce),Ce=B0(U)):je?(S(ae),ae=B0(N)):(ae=B0(N),Ce=B0(U))}}(o,c,b4,p=>{u.push(this.Rn(e,n,r,p))},p=>{u.push(this.Pn(e,n,r,p))}),Q.waitFor(u)}Tn(e){let n=1;return _f(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),n=o.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((u,p)=>b4(u,p)).filter((u,p,y)=>!p||0!==b4(u,y[p-1]));const o=[];o.push(e);for(const u of r){const p=b4(u,e),y=b4(u,n);if(0===p)o[0]=e.Je();else if(p>0&&y<0)o.push(u),o.push(u.Je());else if(y>0)break}o.push(n);const c=[];for(let u=0;u<o.length;u+=2){if(this.bn(o[u],o[u+1]))return[];c.push(IDBKeyRange.bound([o[u].indexId,this.uid,o[u].arrayValue,o[u].directionalValue,jy,[]],[o[u+1].indexId,this.uid,o[u+1].arrayValue,o[u+1].directionalValue,jy,[]]))}return c}bn(e,n){return b4(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(NU)}getMinOffset(e,n){return Q.mapArray(this.cn(n),r=>this.an(e,r).next(o=>o||Xe())).next(NU)}}function TU(t){return T1(t,"collectionParents")}function Cf(t){return T1(t,"indexEntries")}function $y(t){return T1(t,"indexConfiguration")}function _f(t){return T1(t,"indexState")}function NU(t){lt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const o=t[r].indexState.offset;sL(o,e)<0&&(e=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new cr(e.readTime,e.documentKey,n)}const kU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PU(t,e,n){const r=t.store("mutations"),o=t.store("documentMutations"),c=[],u=IDBKeyRange.only(n.batchId);let p=0;const y=r.X({range:u},(H,S,N)=>(p++,N.delete()));c.push(y.next(()=>{lt(1===p)}));const b=[];for(const H of n.mutations){const S=cB(e,H.key.path,n.batchId);c.push(o.delete(S)),b.push(H.key)}return Q.waitFor(c).next(()=>b)}function Gy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xe();e=t.noDocument}return JSON.stringify(e).length}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class qy{constructor(e,n,r,o){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,n,r,o){lt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new qy(c,n,r,o)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return H4(e).X({index:"userMutationsIndex",range:r},(o,c,u)=>{n=!1,u.done()}).next(()=>n)}addMutationBatch(e,n,r,o){const c=J0(e),u=H4(e);return u.add({}).next(p=>{lt("number"==typeof p);const y=new ML(p,n,r,o),b=function(N,U,ae){const Ce=ae.baseMutations.map(je=>mf(N.fe,je)),Me=ae.mutations.map(je=>mf(N.fe,je));return{userId:U,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:Ce,mutations:Me}}(this.serializer,this.userId,y),H=[];let S=new V2((N,U)=>zt(N.canonicalString(),U.canonicalString()));for(const N of o){const U=cB(this.userId,N.key.path,p);S=S.add(N.key.path.popLast()),H.push(u.put(b)),H.push(c.put(U,Qse))}return S.forEach(N=>{H.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.Vn[p]=y.keys()}),Q.waitFor(H).next(()=>y)})}lookupMutationBatch(e,n){return H4(e).get(n).next(r=>r?(lt(r.userId===this.userId),Ga(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?Q.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const o=r.keys();return this.Vn[n]=o,o}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return H4(e).X({index:"userMutationsIndex",range:o},(u,p,y)=>{p.userId===this.userId&&(lt(p.batchId>=r),c=Ga(this.serializer,p)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return H4(e).X({index:"userMutationsIndex",range:n,reverse:!0},(o,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return H4(e).j("userMutationsIndex",n).next(r=>r.map(o=>Ga(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Hy(this.userId,n.path),o=IDBKeyRange.lowerBound(r),c=[];return J0(e).X({range:o},(u,p,y)=>{const[b,H,S]=u,N=Si(H);if(b===this.userId&&n.path.isEqual(N))return H4(e).get(S).next(U=>{if(!U)throw Xe();lt(U.userId===this.userId),c.push(Ga(this.serializer,U))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new V2(zt);const o=[];return n.forEach(c=>{const u=Hy(this.userId,c.path),p=IDBKeyRange.lowerBound(u),y=J0(e).X({range:p},(b,H,S)=>{const[N,U,ae]=b,Ce=Si(U);N===this.userId&&c.path.isEqual(Ce)?r=r.add(ae):S.done()});o.push(y)}),Q.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1,c=Hy(this.userId,r),u=IDBKeyRange.lowerBound(c);let p=new V2(zt);return J0(e).X({range:u},(y,b,H)=>{const[S,N,U]=y,ae=Si(N);S===this.userId&&r.isPrefixOf(ae)?ae.length===o&&(p=p.add(U)):H.done()}).next(()=>this.Dn(e,p))}Dn(e,n){const r=[],o=[];return n.forEach(c=>{o.push(H4(e).get(c).next(u=>{if(null===u)throw Xe();lt(u.userId===this.userId),r.push(Ga(this.serializer,u))}))}),Q.waitFor(o).next(()=>r)}removeMutationBatch(e,n){return PU(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Q.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return J0(e).X({range:r},(c,u,p)=>{if(c[0]===this.userId){const y=Si(c[1]);o.push(y)}else p.done()}).next(()=>{lt(0===o.length)})})}containsKey(e,n){return RU(e,this.userId,n)}xn(e){return OU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RU(t,e,n){const r=Hy(e,n.path),o=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return J0(t).X({range:c,Y:!0},(p,y,b)=>{const[H,S,N]=p;H===e&&S===o&&(u=!0),b.done()}).next(()=>u)}function H4(t){return T1(t,"mutations")}function J0(t){return T1(t,"documentMutations")}function OU(t){return T1(t,"mutationQueues")}class Za{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Za(0)}static Mn(){return new Za(-1)}}class f4e{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new Za(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>ft.fromTimestamp(new L2(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.On(e,o)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>X0(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(lt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let o=0;const c=[];return X0(e).X((u,p)=>{const y=gf(p);y.sequenceNumber<=n&&null===r.get(y.targetId)&&(o++,c.push(this.removeTargetData(e,y)))}).next(()=>Q.waitFor(c)).next(()=>o)}forEachTarget(e,n){return X0(e).X((r,o)=>{const c=gf(o);n(c)})}$n(e){return FU(e).get("targetGlobalKey").next(n=>(lt(null!==n),n))}On(e,n){return FU(e).put("targetGlobalKey",n)}Fn(e,n){return X0(e).put(HU(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Oa(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return X0(e).X({range:o,index:"queryTargetsIndex"},(u,p,y)=>{const b=gf(p);nf(n,b.target)&&(c=b,y.done())}).next(()=>c)}addMatchingKeys(e,n,r){const o=[],c=V4(e);return n.forEach(u=>{const p=un(u.path);o.push(c.put({targetId:r,path:p})),o.push(this.referenceDelegate.addReference(e,r,u))}),Q.waitFor(o)}removeMatchingKeys(e,n,r){const o=V4(e);return Q.forEach(n,c=>{const u=un(c.path);return Q.waitFor([o.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,n){const r=V4(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=V4(e);let c=Tt();return o.X({range:r,Y:!0},(u,p,y)=>{const b=Si(u[1]),H=new Ue(b);c=c.add(H)}).next(()=>c)}containsKey(e,n){const r=un(n.path),o=IDBKeyRange.bound([r],[XF(r)],!1,!0);let c=0;return V4(e).X({index:"documentTargetsIndex",Y:!0,range:o},([u,p],y,b)=>{0!==u&&(c++,b.done())}).next(()=>c>0)}le(e,n){return X0(e).get(n).next(r=>r?gf(r):null)}}function X0(t){return T1(t,"targets")}function FU(t){return T1(t,"targetGlobal")}function V4(t){return T1(t,"targetDocuments")}function BU([t,e],[n,r]){const o=zt(t,n);return 0===o?zt(e,r):o}class d4e{constructor(e){this.Ln=e,this.buffer=new V2(BU),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,G.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){p4(r)?Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield h4(r)}yield n.Qn(3e5)}))}}class h4e{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Q.resolve(lr.ct);const r=new d4e(n);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(kU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kU):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,o,c,u,p,y,b;const H=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(r=S,p=Date.now(),this.removeTargets(e,r,n))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(b=Date.now(),nL()<=Zr.in.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-H}ms\n\tDetermined least recently used ${o} in `+(p-u)+`ms\n\tRemoved ${c} targets in `+(y-p)+`ms\n\tRemoved ${S} documents in `+(b-y)+`ms\nTotal Duration: ${b-H}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}class p4e{constructor(e,n){this.db=e,this.garbageCollector=function jU(t,e){return new h4e(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,o)=>n(o))}addReference(e,n,r){return Wy(e,r)}removeReference(e,n,r){return Wy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Wy(e,n)}Xn(e,n){return function(r,o){let c=!1;return OU(r).Z(u=>RU(r,u,o).next(p=>(p&&(c=!0),Q.resolve(!p)))).next(()=>c)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Yn(e,(u,p)=>{if(p<=n){const y=this.Xn(e,u).next(b=>{if(!b)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,ft.min()),V4(e).delete([0,un(u.path)])))});o.push(y)}}).next(()=>Q.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Wy(e,n)}Yn(e,n){const r=V4(e);let o,c=lr.ct;return r.X({index:"documentTargetsIndex"},([u,p],{path:y,sequenceNumber:b})=>{0===u?(c!==lr.ct&&n(new Ue(Si(o)),c),c=b,o=y):c=lr.ct}).next(()=>{c!==lr.ct&&n(new Ue(Si(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wy(t,e){return V4(t).put((r=t.currentSequenceNumber,{targetId:0,path:un(e.path),sequenceNumber:r}));var r}class $U{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,I2.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class m4e{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ka(e).put(r)}removeEntry(e,n,r){return Ka(e).delete(function(o,c){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Fy(c),u[u.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=I2.newInvalidDocument(n);return Ka(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mf(n))},(o,c)=>{r=this.ts(n,c)}).next(()=>r)}es(e,n){let r={size:0,document:I2.newInvalidDocument(n)};return Ka(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mf(n))},(o,c)=>{r={document:this.ts(n,c),size:Gy(c)}}).next(()=>r)}getEntries(e,n){let r=Pn();return this.ns(e,n,(o,c)=>{const u=this.ts(o,c);r=r.insert(o,u)}).next(()=>r)}ss(e,n){let r=Pn(),o=new p2(Ue.comparator);return this.ns(e,n,(c,u)=>{const p=this.ts(c,u);r=r.insert(c,p),o=o.insert(c,Gy(u))}).next(()=>({documents:r,rs:o}))}ns(e,n,r){if(n.isEmpty())return Q.resolve();let o=new V2(ZU);n.forEach(y=>o=o.add(y));const c=IDBKeyRange.bound(Mf(o.first()),Mf(o.last())),u=o.getIterator();let p=u.getNext();return Ka(e).X({index:"documentKeyIndex",range:c},(y,b,H)=>{const S=Ue.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&ZU(p,S)<0;)r(p,null),p=u.getNext();p&&p.isEqual(S)&&(r(p,b),p=u.hasNext()?u.getNext():null),p?H.G(Mf(p)):H.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,n,r,o){const c=n.path,u=[c.popLast().toArray(),c.lastSegment(),Fy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ka(e).j(IDBKeyRange.bound(u,p,!0)).next(y=>{let b=Pn();for(const H of y){const S=this.ts(Ue.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);S.isFoundDocument()&&(sf(n,S)||o.has(S.key))&&(b=b.insert(S.key,S))}return b})}getAllFromCollectionGroup(e,n,r,o){let c=Pn();const u=WU(n,r),p=WU(n,cr.max());return Ka(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(y,b,H)=>{const S=this.ts(Ue.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);c=c.insert(S.key,S),c.size===o&&H.done()}).next(()=>c)}newChangeBuffer(e){return new g4e(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return qU(e).get("remoteDocumentGlobalKey").next(n=>(lt(!!n),n))}Zn(e,n){return qU(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function t4e(t,e){let n;if(e.document)n=gU(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ue.fromSegments(e.noDocument.path),o=$a(e.noDocument.readTime);n=I2.newNoDocument(r,o),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=Ue.fromSegments(e.unknownDocument.path),o=$a(e.unknownDocument.version);n=I2.newUnknownDocument(r,o)}}return e.readTime&&n.setReadTime(function(r){const o=new L2(r[0],r[1]);return ft.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ft.min()))return r}return I2.newInvalidDocument(e)}}function GU(t){return new m4e(t)}class g4e extends $U{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new xs(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const n=[];let r=0,o=new V2((c,u)=>zt(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const p=this.us.get(c);if(n.push(this.os.removeEntry(e,c,p.readTime)),u.isValidDocument()){const y=bU(this.os.serializer,u);o=o.add(c.path.popLast());const b=Gy(y);r+=b-p.size,n.push(this.os.addEntry(e,c,y))}else if(r-=p.size,this.trackRemovals){const y=bU(this.os.serializer,u.convertToNoDocument(ft.min()));n.push(this.os.addEntry(e,c,y))}}),o.forEach(c=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.os.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:o})=>(o.forEach((c,u)=>{this.us.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function qU(t){return T1(t,"remoteDocumentGlobal")}function Ka(t){return T1(t,"remoteDocumentsV14")}function Mf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WU(t,e){const n=e.documentKey.path.toArray();return[t,Fy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ZU(t,e){const n=t.path.toArray(),r=e.path.toArray();let o=0;for(let c=0;c<n.length-2&&c<r.length-2;++c)if(o=zt(n[c],r[c]),o)return o;return o=zt(n.length,r.length),o||(o=zt(n[n.length-2],r[r.length-2]),o||zt(n[n.length-1],r[r.length-1]))}class v4e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class KU{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(null!==r&&lf(r.mutation,o,kn.empty(),L2.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const o=Ei();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(c=>{let u=of();return c.forEach((p,y)=>{u=u.insert(p,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const o=[];return r.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((u,p)=>{n.set(u,p)})})}computeViews(e,n,r,o){let c=Pn();const u=af(),p=af();return n.forEach((y,b)=>{const H=r.get(b.key);o.has(b.key)&&(void 0===H||H.mutation instanceof Ds)?c=c.insert(b.key,b):void 0!==H?(u.set(b.key,H.mutation.getFieldMask()),lf(H.mutation,b,H.mutation.getFieldMask(),L2.now())):u.set(b.key,kn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((b,H)=>u.set(b,H)),n.forEach((b,H)=>{var S;return p.set(b,new v4e(H,null!==(S=u.get(b))&&void 0!==S?S:null))}),p))}recalculateAndSaveOverlays(e,n){const r=af();let o=new p2((u,p)=>u-p),c=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const p of u)p.keys().forEach(y=>{const b=n.get(y);if(null===b)return;let H=r.get(y)||kn.empty();H=p.applyToLocalView(b,H),r.set(y,H);const S=(o.get(p.batchId)||Tt()).add(y);o=o.insert(p.batchId,S)})}).next(()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),b=y.key,H=y.value,S=BB();H.forEach(N=>{if(!c.has(N)){const U=YB(n.get(N),r.get(N));null!==U&&S.set(N,U),c=c.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,S))}return Q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Ue.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):gL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var o}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):Q.resolve(Ei());let p=-1,y=c;return u.next(b=>Q.forEach(b,(H,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(H)?Q.resolve():this.remoteDocumentCache.getEntry(e,H).next(N=>{y=y.insert(H,N)}))).next(()=>this.populateOverlays(e,b,c)).next(()=>this.computeViews(e,y,b,Tt())).next(H=>({batchId:p,changes:FB(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let o=of();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const o=n.collectionGroup;let c=of();return this.indexManager.getCollectionParents(e,o).next(u=>Q.forEach(u,p=>{const y=(b=n,H=p.child(o),new Ls(H,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,H;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(b=>{b.forEach((H,S)=>{c=c.insert(H,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o))).next(c=>{o.forEach((p,y)=>{const b=y.getKey();null===c.get(b)&&(c=c.insert(b,I2.newInvalidDocument(b)))});let u=of();return c.forEach((p,y)=>{const b=o.get(p);void 0!==b&&lf(b.mutation,y,kn.empty(),L2.now()),sf(n,y)&&(u=u.insert(p,y))}),u})}}class y4e{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Q2(r.createTime)}),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:xL(r.bundledQuery),readTime:Q2(r.readTime)}),Q.resolve();var r}}class C4e{constructor(){this.overlays=new p2(Ue.comparator),this.ls=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return Q.forEach(n,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,c)=>{this.we(e,n,c)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const o=Ei(),c=n.length+1,u=new Ue(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new p2((b,H)=>b-H);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>r){let H=c.get(b.largestBatchId);null===H&&(H=Ei(),c=c.insert(b.largestBatchId,H)),H.set(b.getKey(),b)}}const p=Ei(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,H)=>p.set(b,H)),!(p.size()>=o)););return Q.resolve(p)}we(e,n,r){const o=this.overlays.get(r.key);if(null!==o){const u=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new bL(n,r));let c=this.ls.get(n);void 0===c&&(c=Tt(),this.ls.set(n,c)),this.ls.set(n,c.add(r.key))}}class RL{constructor(){this.fs=new V2(N1.ds),this.ws=new V2(N1._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new N1(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new N1(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ue(new Wt([])),r=new N1(n,e),o=new N1(n,e+1),c=[];return this.ws.forEachInRange([r,o],u=>{this.ys(u),c.push(u.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ue(new Wt([])),r=new N1(n,e),o=new N1(n,e+1);let c=Tt();return this.ws.forEachInRange([r,o],u=>{c=c.add(u.key)}),c}containsKey(e){const n=new N1(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class N1{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ue.comparator(e.key,n.key)||zt(e.As,n.As)}static _s(e,n){return zt(e.As,n.As)||Ue.comparator(e.key,n.key)}}class _4e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new V2(N1.ds)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,o){const c=this.vs;this.vs++;const u=new ML(c,n,r,o);this.mutationQueue.push(u);for(const p of o)this.Rs=this.Rs.add(new N1(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,n){return Q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const o=this.bs(n+1),c=o<0?0:o;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new N1(n,0),o=new N1(n,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,o],u=>{const p=this.Ps(u.As);c.push(p)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new V2(zt);return n.forEach(o=>{const c=new N1(o,0),u=new N1(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,u],p=>{r=r.add(p.As)})}),Q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;Ue.isDocumentKey(c)||(c=c.child(""));const u=new N1(new Ue(c),0);let p=new V2(zt);return this.Rs.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(p=p.add(y.As)),!0)},u),Q.resolve(this.Vs(p))}Vs(e){const n=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&n.push(o)}),n}removeMutationBatch(e,n){lt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Q.forEach(n.mutations,o=>{const c=new N1(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new N1(n,0),o=this.Rs.firstAfterOrEqual(r);return Q.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return Q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class M4e{constructor(e){this.Ds=e,this.docs=new p2(Ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,u=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():I2.newInvalidDocument(n))}getEntries(e,n){let r=Pn();return n.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():I2.newInvalidDocument(o))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Pn();const u=n.path,p=new Ue(u.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:b,value:{document:H}}=y.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||sL(tB(H),r)<=0||(o.has(H.key)||sf(n,H))&&(c=c.insert(H.key,H.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Xe()}Cs(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new w4e(this)}getSize(e){return Q.resolve(this.size)}}class w4e extends $U{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class b4e{constructor(e){this.persistence=e,this.xs=new xs(n=>Oa(n),nf),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Ns=0,this.ks=new RL,this.targetCount=0,this.Ms=Za.kn()}forEachTarget(e,n){return this.xs.forEach((r,o)=>n(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Fn(n),Q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.xs.forEach((u,p)=>{p.sequenceNumber<=n&&null===r.get(p.targetId)&&(this.xs.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Q.waitFor(c).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(u=>{c.push(o.markPotentiallyOrphaned(e,u))}),Q.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.ks.containsKey(n))}}class OL{constructor(e,n){this.$s={},this.overlays={},this.Os=new lr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new b4e(this),this.indexManager=new l4e,this.remoteDocumentCache=new M4e(r=>this.referenceDelegate.Ls(r)),this.serializer=new wU(n),this.qs=new y4e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C4e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new _4e(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const o=new H4e(this.Os.next());return this.referenceDelegate.Us(),r(o).next(c=>this.referenceDelegate.Ks(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Gs(e,n){return Q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class H4e extends rB{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Qs=new RL,this.js=null}static zs(e){return new Zy(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Ws,r=>{const o=Ue.fromPath(r);return this.Hs(e,o).next(c=>{c||n.removeEntry(o,ft.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Q.or([()=>Q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class V4e{constructor(e){this.serializer=e}O(e,n,r,o){const c=new by("createOrUpgrade",n);var p;r<1&&o>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aB,{unique:!0}),p.createObjectStore("documentMutations"),YU(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=Q.resolve();return r<3&&o>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),YU(e)),u=u.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ft.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(c))),r<4&&o>=4&&(0!==r&&(u=u.next(()=>function(p,y){return y.store("mutations").j().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aB,{unique:!0});const H=y.store("mutations"),S=b.map(N=>H.put(N));return Q.waitFor(S)})}(e,c))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(u=u.next(()=>this.Ys(c))),r<6&&o>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&o>=7&&(u=u.next(()=>this.Zs(c))),r<8&&o>=8&&(u=u.next(()=>this.ti(e,c))),r<9&&o>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(u=u.next(()=>this.ei(c))),r<11&&o>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(u=u.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:l3e});y.createIndex("collectionPathOverlayIndex",u3e,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",f3e,{unique:!1})}(e)})),r<13&&o>=13&&(u=u.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:Jse});y.createIndex("documentKeyIndex",Xse),y.createIndex("collectionGroupIndex",e3e)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(u=u.next(()=>this.si(e,c))),r<15&&o>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:s3e}).createIndex("sequenceNumberIndex",o3e,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:a3e}).createIndex("documentKeyIndex",c3e,{unique:!1})}(e))),u}Xs(e){let n=0;return e.store("remoteDocuments").X((r,o)=>{n+=Gy(o)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(o=>Q.forEach(o,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(p=>Q.forEach(p,y=>{lt(y.userId===c.userId);const b=Ga(this.serializer,y);return PU(e,c.userId,b).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return r.X((u,p)=>{const y=new Wt(u),b=[0,un(y)];c.push(n.get(b).next(H=>H?Q.resolve():n.put({targetId:0,path:un(y),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Q.waitFor(c))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:i3e});const r=n.store("collectionParents"),o=new PL,c=u=>{if(o.add(u)){const p=u.lastSegment(),y=u.popLast();return r.put({collectionId:p,parent:un(y)})}};return n.store("remoteDocuments").X({Y:!0},(u,p)=>{const y=new Wt(u);return c(y.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([u,p,y],b)=>{const H=Si(p);return c(H.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,o)=>{const c=gf(o),u=HU(this.serializer,c);return n.put(u)})}ni(e,n){const r=n.store("remoteDocuments"),o=[];return r.X((c,u)=>{const p=n.store("remoteDocumentsV14"),y=(b=u,b.document?new Ue(Wt.fromString(b.document.name).popFirst(5)):b.noDocument?Ue.fromSegments(b.noDocument.path):b.unknownDocument?Ue.fromSegments(b.unknownDocument.path):Xe()).path.toArray();var b;const H={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};o.push(p.put(H))}).next(()=>Q.waitFor(o))}si(e,n){const r=n.store("mutations"),o=GU(this.serializer),c=new OL(Zy.zs,this.serializer.fe);return r.j().next(u=>{const p=new Map;return u.forEach(y=>{var b;let H=null!==(b=p.get(y.userId))&&void 0!==b?b:Tt();Ga(this.serializer,y).keys().forEach(S=>H=H.add(S)),p.set(y.userId,H)}),Q.forEach(p,(y,b)=>{const H=new A1(b),S=By.de(this.serializer,H),N=c.getIndexManager(H),U=qy.de(H,this.serializer,N,c.referenceDelegate);return new KU(o,U,S,N).recalculateAndSaveOverlaysForDocumentKeys(new cL(n,lr.ct),y).next()})})}}function YU(t){t.createObjectStore("targetDocuments",{keyPath:n3e}).createIndex("documentTargetsIndex",r3e,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",t3e,{unique:!0}),t.createObjectStore("targetGlobal")}const FL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class BL{constructor(e,n,r,o,c,u,p,y,b,H,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=c,this.window=u,this.document=p,this.ri=b,this.oi=H,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=N=>Promise.resolve(),!BL.D())throw new ye(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new p4e(this,o),this.di=n+"main",this.serializer=new wU(y),this.wi=new Qr(this.di,this.ui,new V4e(this.serializer)),this.Bs=new f4e(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GU(this.serializer),this.qs=new n4e,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===H&&Y2("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(ne.FAILED_PRECONDITION,FL);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new lr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,G.Z)(function*(o){if(n.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,G.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,G.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(p4(e))return Se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return wf(e).get("owner").next(n=>Q.resolve(this.Ri(n)))}Pi(e){return Yy(e).delete(this.clientId)}bi(){var e=this;return(0,G.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=T1(r,"clientMetadata");return o.j().next(c=>{const u=e.Si(c,18e5),p=c.filter(y=>-1===u.indexOf(y));return Q.forEach(p,y=>o.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Q.resolve(!0):wf(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new ye(ne.FAILED_PRECONDITION,FL);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yy(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Se("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,G.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new cL(n,lr.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Yy(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return qy.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new u4e(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return By.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Se("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===n?"readonly":"readwrite",c=15===(u=this.ui)?h3e:14===u?fB:13===u?uB:12===u?d3e:11===u?lB:void Xe();var u;let p;return this.wi.runTransaction(e,o,c,y=>(p=new cL(y,this.Os?this.Os.next():lr.ct),"readwrite-primary"===n?this.Ti(p).next(b=>!!b||this.Ei(p)).next(b=>{if(!b)throw Y2(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ye(ne.FAILED_PRECONDITION,nB);return r(p)}).next(b=>this.vi(p).next(()=>b)):this.Oi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Oi(e){return wf(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ye(ne.FAILED_PRECONDITION,FL)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wf(e).put("owner",n)}static D(){return Qr.D()}Ai(e){const n=wf(e);return n.get("owner").next(r=>this.Ri(r)?(Se("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Q.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(Y2(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,rt.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Y2("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Y2("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wf(t){return T1(t,"owner")}function Yy(t){return T1(t,"clientMetadata")}function UL(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class jL{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=o}static Li(e,n){let r=Tt(),o=Tt();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new jL(e,n.fromCache,r,o)}}class QU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,o){return this.Ki(e,n).next(c=>c||this.Gi(e,n,o,r)).next(c=>c||this.Qi(e,n))}Ki(e,n){if(NB(n))return Q.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==n.limit&&1===o&&(n=Ty(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=Tt(...c);return this.Ui.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const b=this.ji(n,p);return this.zi(n,b,u,y.readTime)?this.Ki(e,Ty(n,null,"F")):this.Wi(e,b,n,y)}))})))}Gi(e,n,r,o){return NB(n)||o.isEqual(ft.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(c=>{const u=this.ji(n,c);return this.zi(n,u,r,o)?this.Qi(e,n):(nL()<=Zr.in.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yL(n)),this.Wi(e,u,n,eB(o,-1)))})}ji(e,n){let r=new V2(RB(e));return n.forEach((o,c)=>{sf(e,c)&&(r=r.add(c))}),r}zi(e,n,r,o){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Qi(e,n){return nL()<=Zr.in.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",yL(n)),this.Ui.getDocumentsMatchingQuery(e,n,cr.min())}Wi(e,n,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(c=>(n.forEach(u=>{c=c.insert(u.key,u)}),c))}}class I4e{constructor(e,n,r,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new p2(zt),this.Yi=new xs(c=>Oa(c),nf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function JU(t,e,n,r){return new I4e(t,e,n,r)}function XU(t,e){return $L.apply(this,arguments)}function $L(){return $L=(0,G.Z)(function*(t,e){const n=Ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],p=[];let y=Tt();for(const b of o){u.push(b.batchId);for(const H of b.mutations)y=y.add(H.key)}for(const b of c){p.push(b.batchId);for(const H of b.mutations)y=y.add(H.key)}return n.localDocuments.getDocuments(r,y).next(b=>({er:b,removedBatchIds:u,addedBatchIds:p}))})})}),$L.apply(this,arguments)}function ej(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function tj(t,e,n){let r=Tt(),o=Tt();return n.forEach(c=>r=r.add(c)),e.getEntries(t,r).next(c=>{let u=Pn();return n.forEach((p,y)=>{const b=c.get(p);y.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(ft.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!b.isValidDocument()||y.version.compareTo(b.version)>0||0===y.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):Se("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",y.version)}),{nr:u,sr:o}})}function E4e(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function el(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Bs.getTargetData(r,e).next(c=>c?(o=c,Q.resolve(o)):n.Bs.allocateTargetId(r).next(u=>(o=new As(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function tl(t,e,n){return GL.apply(this,arguments)}function GL(){return GL=(0,G.Z)(function*(t,e,n){const r=Ge(t),o=r.Ji.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!p4(u))throw u;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),GL.apply(this,arguments)}function Qy(t,e,n){const r=Ge(t);let o=ft.min(),c=Tt();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,y,b){const H=Ge(p),S=H.Yi.get(b);return void 0!==S?Q.resolve(H.Ji.get(S)):H.Bs.getTargetData(y,b)}(r,u,Vn(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,p.targetId).next(y=>{c=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,n?o:ft.min(),n?c:Tt())).next(p=>(ij(r,PB(e),p),{documents:p,ir:c})))}function nj(t,e){const n=Ge(t),r=Ge(n.Bs),o=n.Ji.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(u=>u?u.target:null))}function rj(t,e){const n=Ge(t),r=n.Xi.get(e)||ft.min();return n.persistence.runTransaction("Get new document changes","readonly",o=>n.Zi.getAllFromCollectionGroup(o,e,eB(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ij(n,e,o),o))}function ij(t,e,n){let r=t.Xi.get(e)||ft.min();n.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),t.Xi.set(e,r)}function qL(){return qL=(0,G.Z)(function*(t,e,n,r){const o=Ge(t);let c=Tt(),u=Pn();for(const b of n){const H=e.rr(b.metadata.name);b.document&&(c=c.add(H));const S=e.ur(b);S.setReadTime(e.cr(b.metadata.readTime)),u=u.insert(H,S)}const p=o.Zi.newChangeBuffer({trackRemovals:!0}),y=yield el(o,(b=r,Vn(G0(Wt.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>tj(b,p,u).next(H=>(p.apply(b),H)).next(H=>o.Bs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>o.Bs.addMatchingKeys(b,c,y.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(b,H.nr,H.sr)).next(()=>H.nr)))}),qL.apply(this,arguments)}function x4e(t,e){return WL.apply(this,arguments)}function WL(){return WL=(0,G.Z)(function*(t,e,n=Tt()){const r=yield el(t,Vn(xL(e.bundledQuery))),o=Ge(t);return o.persistence.runTransaction("Save named query","readwrite",c=>{const u=Q2(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return o.qs.saveNamedQuery(c,e);const p=r.withResumeToken(M1.EMPTY_BYTE_STRING,u);return o.Ji=o.Ji.insert(p.targetId,p),o.Bs.updateTargetData(c,p).next(()=>o.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.Bs.addMatchingKeys(c,n,r.targetId)).next(()=>o.qs.saveNamedQuery(c,e))})}),WL.apply(this,arguments)}function sj(t,e){return`firestore_clients_${t}_${e}`}function oj(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ZL(t,e){return`firestore_targets_${t}_${e}`}class Jy{constructor(e,n,r,o){this.user=e,this.batchId=n,this.state=r,this.error=o}static ar(e,n,r){const o=JSON.parse(r);let c,u="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(c=new ye(o.error.code,o.error.message))),u?new Jy(e,n,o.state,c):(Y2("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new ye(r.error.code,r.error.message))),c?new bf(e,r.state,o):(Y2("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=CL();for(let u=0;o&&u<r.activeTargetIds.length;++u)o=sB(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return o?new Xy(e,c):(Y2("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class KL{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new KL(n.clientId,n.onlineState):(Y2("SharedClientState",`Failed to parse online state: ${e}`),null)}}class YL{constructor(){this.activeTargetIds=CL()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QL{constructor(e,n,r,o,c){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new p2(zt),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=sj(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new YL),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,G.Z)(function*(){const n=yield e.syncEngine.$i();for(const o of n){if(o===e.wr)continue;const c=e.getItem(sj(e.persistenceKey,o));if(c){const u=Xy.ar(o,c);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ZL(this.persistenceKey,e));if(r){const o=bf.ar(e,r);o&&(n=o.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ZL(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Se("SharedClientState","READ",e,n),n}setItem(e,n){Se("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Se("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Y2("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,G.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const o=n.Or(r.key);return n.Fr(o,null)}{const o=n.Br(r.key,r.newValue);if(o)return n.Fr(o.clientId,o)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const o=n.Lr(r.key,r.newValue);if(o)return n.qr(o)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const o=n.Ur(r.key,r.newValue);if(o)return n.Kr(o)}}else if(r.key===n.vr){if(null!==r.newValue){const o=n.br(r.newValue);if(o)return n.Vr(o)}}else if(r.key===n.Ir){const o=function(c){let u=lr.ct;if(null!=c)try{const p=JSON.parse(c);lt("number"==typeof p),u=p}catch(p){Y2("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);o!==lr.ct&&n.sequenceNumberHandler(o)}else if(r.key===n.Rr){const o=n.Gr(r.newValue);yield Promise.all(o.map(c=>n.syncEngine.Qr(c)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const o=new Jy(this.currentUser,e,n,r),c=oj(this.persistenceKey,this.currentUser,e);this.setItem(c,o.hr())}Cr(e){const n=oj(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const o=ZL(this.persistenceKey,e),c=new bf(e,n,r);this.setItem(o,c.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return Xy.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),o=Number(r[1]);return Jy.ar(new A1(void 0!==r[2]?r[2]:null),o,n)}Ur(e,n){const r=this.Ar.exec(e),o=Number(r[1]);return bf.ar(o,n)}br(e){return KL.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,G.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),o=this.Sr(this.gr),c=this.Sr(r),u=[],p=[];return c.forEach(y=>{o.has(y)||u.push(y)}),o.forEach(y=>{c.has(y)||p.push(y)}),this.syncEngine.Wr(u,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=CL();return e.forEach((r,o)=>{n=n.unionWith(o.activeTargetIds)}),n}}class aj{constructor(){this.Hr=new YL,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new YL,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class D4e{Yr(e){}shutdown(){}}class cj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eC=null;function JL(){return null===eC?eC=268435456+Math.round(2147483648*Math.random()):eC++,"0x"+eC.toString(16)}const A4e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T4e{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const dn="WebChannelConnection";class N4e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,o,c){const u=JL(),p=this.To(e,n);Se("RestConnection",`Sending RPC '${e}' ${u}:`,p,r);const y={};return this.Eo(y,o,c),this.Ao(e,p,y,r).then(b=>(Se("RestConnection",`Received RPC '${e}' ${u}: `,b),b),b=>{throw Vr("RestConnection",`RPC '${e}' ${u} failed with error: `,b,"url: ",p,"request:",r),b})}vo(e,n,r,o,c,u){return this.Io(e,n,r,o,c)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+O0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}To(e,n){return`${this.mo}/v1/${n}:${A4e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,o){const c=JL();return new Promise((u,p)=>{const y=new Dse;y.setWithCredentials(!0),y.listenOnce(Ese.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case tL.NO_ERROR:const H=y.getResponseJson();Se(dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(H)),u(H);break;case tL.TIMEOUT:Se(dn,`RPC '${e}' ${c} timed out`),p(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case tL.HTTP_ERROR:const S=y.getStatus();if(Se(dn,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const ae=function(Ce){const Me=Ce.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Me)>=0?Me:ne.UNKNOWN}(U.status);p(new ye(ae,U.message))}else p(new ye(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Se(dn,`RPC '${e}' ${c} completed.`)}});const b=JSON.stringify(o);Se(dn,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",b,r,15)})}Ro(e,n,r){const o=JL(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Sse(),p=zse(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.xmlHttpFactory=new xse({})),this.Eo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const H=c.join("");Se(dn,`Creating RPC '${e}' stream ${o}: ${H}`,y);const S=u.createWebChannel(H,y);let N=!1,U=!1;const ae=new T4e({ro:Me=>{U?Se(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,Me):(N||(Se(dn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),Se(dn,`RPC '${e}' stream ${o} sending:`,Me),S.send(Me))},oo:()=>S.close()}),Ce=(Me,je,qe)=>{Me.listen(je,Ze=>{try{qe(Ze)}catch(at){setTimeout(()=>{throw at},0)}})};return Ce(S,_y.EventType.OPEN,()=>{U||Se(dn,`RPC '${e}' stream ${o} transport opened.`)}),Ce(S,_y.EventType.CLOSE,()=>{U||(U=!0,Se(dn,`RPC '${e}' stream ${o} transport closed`),ae.wo())}),Ce(S,_y.EventType.ERROR,Me=>{U||(U=!0,Vr(dn,`RPC '${e}' stream ${o} transport errored:`,Me),ae.wo(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),Ce(S,_y.EventType.MESSAGE,Me=>{var je;if(!U){const qe=Me.data[0];lt(!!qe);const at=qe.error||(null===(je=qe[0])||void 0===je?void 0:je.error);if(at){Se(dn,`RPC '${e}' stream ${o} received error:`,at);const dt=at.status;let xt=function(Jr){const Xr=i1[Jr];if(void 0!==Xr)return nU(Xr)}(dt),D2=at.message;void 0===xt&&(xt=ne.INTERNAL,D2="Unknown error status: "+dt+" with message "+at.message),U=!0,ae.wo(new ye(xt,D2)),S.close()}else Se(dn,`RPC '${e}' stream ${o} received:`,qe),ae._o(qe)}}),Ce(p,Lse.STAT_EVENT,Me=>{Me.stat===ZF.PROXY?Se(dn,`RPC '${e}' stream ${o} detected buffering proxy`):Me.stat===ZF.NOPROXY&&Se(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function lj(){return typeof window<"u"?window:null}function tC(){return typeof document<"u"?document:null}function Hf(t){return new G3e(t,!0)}class XL{constructor(e,n,r=1e3,o=1.5,c=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=o,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-r);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class uj{constructor(e,n,r,o,c,u,p,y){this.ii=e,this.$o=r,this.Oo=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new XL(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,G.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,G.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,G.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Y2(n.toString()),Y2("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===n&&this.Zo(r,o)},r=>{e(()=>{const o=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,G.Z)(function*(){e.state=0,e.start()}))}tu(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k4e extends uj{constructor(e,n,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Z3e(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Xe(),o=e.targetChange.targetIds||[],c=function(y,b){return y.useProto3Json?(lt(void 0===b||"string"==typeof b),M1.fromBase64String(b||"")):(lt(void 0===b||b instanceof Uint8Array),M1.fromUint8Array(b||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(y){const b=void 0===y.code?ne.UNKNOWN:nU(y.code);return new ye(b,y.message||"")}(u);n=new aU(r,o,c,p||null)}else if("documentChange"in e){const r=e.documentChange,o=Li(t,r.document.name),c=Q2(r.document.updateTime),u=r.document.createTime?Q2(r.document.createTime):ft.min(),p=new Y1({mapValue:{fields:r.document.fields}}),y=I2.newFoundDocument(o,c,u,p);n=new Oy(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=Li(t,r.document),c=r.readTime?Q2(r.readTime):ft.min(),u=I2.newNoDocument(o,c);n=new Oy([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,o=Li(t,r.document);n=new Oy([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:o=0,unchangedNames:c}=r,u=new O3e(o,c);n=new oU(r.targetId,u)}}var y;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ft.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?ft.min():c.readTime?Q2(c.readTime):ft.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=pf(this.serializer),n.addTarget=function(o,c){let u;const p=c.target;if(u=xy(p)?{documents:vU(o,p)}:{query:LL(o,p)},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=fU(o,c.resumeToken);const y=IL(o,c.expectedCount);null!==y&&(u.expectedCount=y)}else if(c.snapshotVersion.compareTo(ft.min())>0){u.readTime=Y0(o,c.snapshotVersion.toTimestamp());const y=IL(o,c.expectedCount);null!==y&&(u.expectedCount=y)}return u}(this.serializer,e);const r=function Y3e(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=pf(this.serializer),n.removeTarget=e,this.Wo(n)}}class P4e extends uj{constructor(e,n,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function K3e(t,e){return t&&t.length>0?(lt(void 0!==e),t.map(n=>function(r,o){let c=Q2(r.updateTime?r.updateTime:o);return c.isEqual(ft.min())&&(c=Q2(o)),new N3e(c,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Q2(e.commitTime);return this.listener.cu(r,n)}return lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mf(this.serializer,r))};this.Wo(n)}}class R4e extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Io(e,n,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ne.UNKNOWN,o.toString())})}vo(e,n,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.vo(e,n,r,c,u,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ne.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class F4e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Y2(n),this.mu=!1):Se("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class B4e{constructor(e,n,r,o,c){var u=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(p=>{r.enqueueAndForget((0,G.Z)(function*(){var y;I4(u)&&(Se("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,G.Z)(function*(b){const H=Ge(b);H.vu.add(4),yield nl(H),H.bu.set("Unknown"),H.vu.delete(4),yield Vf(H)}),function(b){return y.apply(this,arguments)})(u))}))}),this.bu=new F4e(r,o)}}function Vf(t){return tx.apply(this,arguments)}function tx(){return tx=(0,G.Z)(function*(t){if(I4(t))for(const e of t.Ru)yield e(!0)}),tx.apply(this,arguments)}function nl(t){return nx.apply(this,arguments)}function nx(){return nx=(0,G.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),nx.apply(this,arguments)}function nC(t,e){const n=Ge(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),sx(n)?ix(n):il(n).Ko()&&rx(n,e))}function If(t,e){const n=Ge(t),r=il(n);n.Au.delete(e),r.Ko()&&fj(n,e),0===n.Au.size&&(r.Ko()?r.jo():I4(n)&&n.bu.set("Unknown"))}function rx(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(t).su(e)}function fj(t,e){t.Vu.qt(e),il(t).iu(e)}function ix(t){t.Vu=new B3e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),il(t).start(),t.bu.gu()}function sx(t){return I4(t)&&!il(t).Uo()&&t.Au.size>0}function I4(t){return 0===Ge(t).vu.size}function dj(t){t.Vu=void 0}function U4e(t){return ox.apply(this,arguments)}function ox(){return ox=(0,G.Z)(function*(t){t.Au.forEach((e,n)=>{rx(t,e)})}),ox.apply(this,arguments)}function j4e(t,e){return ax.apply(this,arguments)}function ax(){return ax=(0,G.Z)(function*(t,e){dj(t),sx(t)?(t.bu.Iu(e),ix(t)):t.bu.set("Unknown")}),ax.apply(this,arguments)}function $4e(t,e,n){return cx.apply(this,arguments)}function cx(){return cx=(0,G.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof aU&&2===e.state&&e.cause)try{yield(r=(0,G.Z)(function*(o,c){const u=c.cause;for(const p of c.targetIds)o.Au.has(p)&&(yield o.remoteSyncer.rejectListen(p,u),o.Au.delete(p),o.Vu.removeTarget(p))}),function(o,c){return r.apply(this,arguments)})(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rC(t,r)}else if(e instanceof Oy?t.Vu.Ht(e):e instanceof oU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ft.min()))try{const r=yield ej(t.localStore);n.compareTo(r)>=0&&(yield function(o,c){const u=o.Vu.ce(c);return u.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=o.Au.get(y);b&&o.Au.set(y,b.withResumeToken(p.resumeToken,c))}}),u.targetMismatches.forEach((p,y)=>{const b=o.Au.get(p);if(!b)return;o.Au.set(p,b.withResumeToken(M1.EMPTY_BYTE_STRING,b.snapshotVersion)),fj(o,p);const H=new As(b.target,p,y,b.sequenceNumber);rx(o,H)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n))}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),yield rC(t,r)}var r}),cx.apply(this,arguments)}function rC(t,e,n){return lx.apply(this,arguments)}function lx(){return lx=(0,G.Z)(function*(t,e,n){if(!p4(e))throw e;t.vu.add(1),yield nl(t),t.bu.set("Offline"),n||(n=()=>ej(t.localStore)),t.asyncQueue.enqueueRetryable((0,G.Z)(function*(){Se("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Vf(t)}))}),lx.apply(this,arguments)}function hj(t,e){return e().catch(n=>rC(t,n,e))}function rl(t){return ux.apply(this,arguments)}function ux(){return ux=(0,G.Z)(function*(t){const e=Ge(t),n=S4(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;G4e(e);)try{const o=yield E4e(e.localStore,r);if(null===o){0===e.Eu.length&&n.jo();break}r=o.batchId,q4e(e,o)}catch(o){yield rC(e,o)}pj(e)&&mj(e)}),ux.apply(this,arguments)}function G4e(t){return I4(t)&&t.Eu.length<10}function q4e(t,e){t.Eu.push(e);const n=S4(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function pj(t){return I4(t)&&!S4(t).Uo()&&t.Eu.length>0}function mj(t){S4(t).start()}function W4e(t){return fx.apply(this,arguments)}function fx(){return fx=(0,G.Z)(function*(t){S4(t).hu()}),fx.apply(this,arguments)}function Z4e(t){return dx.apply(this,arguments)}function dx(){return dx=(0,G.Z)(function*(t){const e=S4(t);for(const n of t.Eu)e.uu(n.mutations)}),dx.apply(this,arguments)}function K4e(t,e,n){return hx.apply(this,arguments)}function hx(){return hx=(0,G.Z)(function*(t,e,n){const r=t.Eu.shift(),o=wL.from(r,e,n);yield hj(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),yield rl(t)}),hx.apply(this,arguments)}function Y4e(t,e){return px.apply(this,arguments)}function px(){return px=(0,G.Z)(function*(t,e){var n;e&&S4(t).ou&&(yield(n=(0,G.Z)(function*(r,o){if(tU(c=o.code)&&c!==ne.ABORTED){const u=r.Eu.shift();S4(r).Qo(),yield hj(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),yield rl(r)}var c}),function(r,o){return n.apply(this,arguments)})(t,e)),pj(t)&&mj(t)}),px.apply(this,arguments)}function gj(t,e){return mx.apply(this,arguments)}function mx(){return mx=(0,G.Z)(function*(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=I4(n);n.vu.add(3),yield nl(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Vf(n)}),mx.apply(this,arguments)}function gx(t,e){return vx.apply(this,arguments)}function vx(){return vx=(0,G.Z)(function*(t,e){const n=Ge(t);e?(n.vu.delete(2),yield Vf(n)):e||(n.vu.add(2),yield nl(n),n.bu.set("Unknown"))}),vx.apply(this,arguments)}function il(t){return t.Su||(t.Su=function(e,n,r){const o=Ge(e);return o.fu(),new k4e(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{uo:U4e.bind(null,t),ao:j4e.bind(null,t),nu:$4e.bind(null,t)}),t.Ru.push(function(){var e=(0,G.Z)(function*(n){n?(t.Su.Qo(),sx(t)?ix(t):t.bu.set("Unknown")):(yield t.Su.stop(),dj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function S4(t){return t.Du||(t.Du=function(e,n,r){const o=Ge(e);return o.fu(),new P4e(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{uo:W4e.bind(null,t),ao:Y4e.bind(null,t),au:Z4e.bind(null,t),cu:K4e.bind(null,t)}),t.Ru.push(function(){var e=(0,G.Z)(function*(n){n?(t.Du.Qo(),yield rl(t)):(yield t.Du.stop(),t.Eu.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class yx{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new _1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,o,c){const u=Date.now()+r,p=new yx(e,n,u,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sl(t,e){if(Y2("AsyncQueue",`${e}: ${t}`),p4(t))return new ye(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class ol{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=of(),this.sortedSet=new p2(this.comparator)}static emptySet(e){return new ol(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class vj{constructor(){this.Cu=new p2(Ue.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,o,c,u,p,y,b){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=b}static fromInitialDocuments(e,n,r,o,c){const u=[];return n.forEach(p=>{u.push({type:0,doc:p})}),new al(e,n,ol.emptySet(n),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class Q4e{constructor(){this.Nu=void 0,this.listeners=[]}}class J4e{constructor(){this.queries=new xs(e=>kB(e),rf),this.onlineState="Unknown",this.ku=new Set}}function Cx(t,e){return _x.apply(this,arguments)}function _x(){return _x=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.query;let o=!1,c=n.queries.get(r);if(c||(o=!0,c=new Q4e),o)try{c.Nu=yield n.onListen(r)}catch(u){const p=sl(u,`Initialization of query '${yL(e.query)}' failed`);return void e.onError(p)}n.queries.set(r,c),c.listeners.push(e),e.Mu(n.onlineState),c.Nu&&e.$u(c.Nu)&&bx(n)}),_x.apply(this,arguments)}function Mx(t,e){return wx.apply(this,arguments)}function wx(){return wx=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.query;let o=!1;const c=n.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),o=0===c.listeners.length)}if(o)return n.queries.delete(r),n.onUnlisten(r)}),wx.apply(this,arguments)}function X4e(t,e){const n=Ge(t);let r=!1;for(const o of e){const u=n.queries.get(o.query);if(u){for(const p of u.listeners)p.$u(o)&&(r=!0);u.Nu=o}}r&&bx(n)}function eoe(t,e,n){const r=Ge(t),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(n);r.queries.delete(e)}function bx(t){t.ku.forEach(e=>{e.next()})}class Hx{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class toe{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class yj{constructor(e){this.serializer=e}rr(e){return Li(this.serializer,e)}ur(e){return e.metadata.exists?gU(this.serializer,e.document,!1):I2.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Q2(e)}}class noe{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Cj(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Wt.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new yj(this.serializer);for(const o of e)if(o.metadata.queries){const c=r.rr(o.metadata.name);for(const u of o.metadata.queries){const p=(n.get(u)||Tt()).add(c);n.set(u,p)}}return n}complete(){var e=this;return(0,G.Z)(function*(){const n=yield function L4e(t,e,n,r){return qL.apply(this,arguments)}(e.localStore,new yj(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield x4e(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function Cj(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class _j{constructor(e){this.key=e}}class Mj{constructor(e){this.key=e}}class wj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Tt(),this.mutatedKeys=Tt(),this.tc=RB(e),this.ec=new ol(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new vj,o=n?n.ec:this.ec;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,p=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((H,S)=>{const N=o.get(H),U=sf(this.query,S)?S:null,ae=!!N&&this.mutatedKeys.has(N.key),Ce=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Me=!1;N&&U?N.data.isEqual(U.data)?ae!==Ce&&(r.track({type:3,doc:U}),Me=!0):this.rc(N,U)||(r.track({type:2,doc:U}),Me=!0,(y&&this.tc(U,y)>0||b&&this.tc(U,b)<0)&&(p=!0)):!N&&U?(r.track({type:0,doc:U}),Me=!0):N&&!U&&(r.track({type:1,doc:N}),Me=!0,(y||b)&&(p=!0)),Me&&(U?(u=u.add(U),c=Ce?c.add(H):c.delete(H)):(u=u.delete(H),c=c.delete(H)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const H="F"===this.query.limitType?u.last():u.first();u=u.delete(H.key),c=c.delete(H.key),r.track({type:1,doc:H})}return{ec:u,ic:r,zi:p,mutatedKeys:c}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((b,H)=>function(S,N){const U=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return U(S)-U(N)}(b.type,H.type)||this.tc(b.doc,H.doc)),this.oc(r);const u=n?this.uc():[],p=0===this.Zu.size&&this.current?1:0,y=p!==this.Xu;return this.Xu=p,0!==c.length||y?{snapshot:new al(this.query,e.ec,o,c,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Tt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Mj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new _j(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Tt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return al.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class roe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ioe{constructor(e){this.key=e,this.fc=!1}}class soe{constructor(e,n,r,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new xs(p=>kB(p),rf),this._c=new Map,this.mc=new Set,this.gc=new p2(Ue.comparator),this.yc=new Map,this.Ic=new RL,this.Tc={},this.Ec=new Map,this.Ac=Za.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ooe(t,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,G.Z)(function*(t,e){const n=Zx(t);let r,o;const c=n.wc.get(e);if(c)r=c.targetId,n.sharedClientState.addLocalQueryTarget(r),o=c.view.lc();else{const u=yield el(n.localStore,Vn(e)),p=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,o=yield Ix(n,e,r,"current"===p,u.resumeToken),n.isPrimaryClient&&nC(n.remoteStore,u)}return o}),Vx.apply(this,arguments)}function Ix(t,e,n,r,o){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,G.Z)(function*(t,e,n,r,o){t.Rc=(S,N,U)=>{return(ae=(0,G.Z)(function*(Ce,Me,je,qe){let Ze=Me.view.sc(je);Ze.zi&&(Ze=yield Qy(Ce.localStore,Me.query,!1).then(({documents:xt})=>Me.view.sc(xt,Ze)));const at=qe&&qe.targetChanges.get(Me.targetId),dt=Me.view.applyChanges(Ze,Ce.isPrimaryClient,at);return Px(Ce,Me.targetId,dt.cc),dt.snapshot}),function(Ce,Me,je,qe){return ae.apply(this,arguments)})(t,S,N,U);var ae};const c=yield Qy(t.localStore,e,!0),u=new wj(e,c.ir),p=u.sc(c.documents),y=df.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,o),b=u.applyChanges(p,t.isPrimaryClient,y);Px(t,n,b.cc);const H=new roe(e,n,u);return t.wc.set(e,H),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),b.snapshot}),Sx.apply(this,arguments)}function aoe(t,e){return zx.apply(this,arguments)}function zx(){return zx=(0,G.Z)(function*(t,e){const n=Ge(t),r=n.wc.get(e),o=n._c.get(r.targetId);if(o.length>1)return n._c.set(r.targetId,o.filter(c=>!rf(c,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),If(n.remoteStore,r.targetId),cl(n,r.targetId)}).catch(h4))):(cl(n,r.targetId),yield tl(n.localStore,r.targetId,!0))}),zx.apply(this,arguments)}function Ex(){return Ex=(0,G.Z)(function*(t,e,n){const r=Kx(t);try{const o=yield function(c,u){const p=Ge(c),y=L2.now(),b=u.reduce((N,U)=>N.add(U.key),Tt());let H,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=Pn(),ae=Tt();return p.Zi.getEntries(N,b).next(Ce=>{U=Ce,U.forEach((Me,je)=>{je.isValidDocument()||(ae=ae.add(Me))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,U)).next(Ce=>{H=Ce;const Me=[];for(const je of u){const qe=P3e(je,H.get(je.key).overlayedDocument);null!=qe&&Me.push(new Ds(je.key,qe,wB(qe.value.mapValue),x2.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,Me,u)}).next(Ce=>{S=Ce;const Me=Ce.applyToLocalDocumentSet(H,ae);return p.documentOverlayCache.saveOverlays(N,Ce.batchId,Me)})}).then(()=>({batchId:S.batchId,changes:FB(H)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,u,p){let y=c.Tc[c.currentUser.toKey()];y||(y=new p2(zt)),y=y.insert(u,p),c.Tc[c.currentUser.toKey()]=y}(r,o.batchId,n),yield Ts(r,o.changes),yield rl(r.remoteStore)}catch(o){const c=sl(o,"Failed to persist write");n.reject(c)}}),Ex.apply(this,arguments)}function bj(t,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,G.Z)(function*(t,e){const n=Ge(t);try{const r=yield function z4e(t,e){const n=Ge(t),r=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const p=[];e.targetChanges.forEach((H,S)=>{const N=o.get(S);if(!N)return;p.push(n.Bs.removeMatchingKeys(c,H.removedDocuments,S).next(()=>n.Bs.addMatchingKeys(c,H.addedDocuments,S)));let U=N.withSequenceNumber(c.currentSequenceNumber);var ae,Ce,Me;null!==e.targetMismatches.get(S)?U=U.withResumeToken(M1.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):H.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(H.resumeToken,r)),o=o.insert(S,U),Ce=U,Me=H,(0===(ae=N).resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&p.push(n.Bs.updateTargetData(c,U))});let y=Pn(),b=Tt();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,H))}),p.push(tj(c,u,e.documentUpdates).next(H=>{y=H.nr,b=H.sr})),!r.isEqual(ft.min())){const H=n.Bs.getLastRemoteSnapshotVersion(c).next(S=>n.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(H)}return Q.waitFor(p).next(()=>u.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,b)).next(()=>y)}).then(c=>(n.Ji=o,c))}(n.localStore,e);e.targetChanges.forEach((o,c)=>{const u=n.yc.get(c);u&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?lt(u.fc):o.removedDocuments.size>0&&(lt(u.fc),u.fc=!1))}),yield Ts(n,r,e)}catch(r){yield h4(r)}}),Lx.apply(this,arguments)}function Hj(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const o=[];r.wc.forEach((c,u)=>{const p=u.view.Mu(e);p.snapshot&&o.push(p.snapshot)}),function(c,u){const p=Ge(c);p.onlineState=u;let y=!1;p.queries.forEach((b,H)=>{for(const S of H.listeners)S.Mu(u)&&(y=!0)}),y&&bx(p)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function loe(t,e,n){return xx.apply(this,arguments)}function xx(){return xx=(0,G.Z)(function*(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.yc.get(e),c=o&&o.key;if(c){let u=new p2(Ue.comparator);u=u.insert(c,I2.newNoDocument(c,ft.min()));const p=Tt().add(c),y=new ff(ft.min(),new Map,new p2(zt),u,p);yield bj(r,y),r.gc=r.gc.remove(c),r.yc.delete(e),Rx(r)}else yield tl(r.localStore,e,!1).then(()=>cl(r,e,n)).catch(h4)}),xx.apply(this,arguments)}function uoe(t,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.batch.batchId;try{const o=yield function S4e(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=n.Zi.newChangeBuffer({trackRemovals:!0});return function(u,p,y,b){const H=y.batch,S=H.keys();let N=Q.resolve();return S.forEach(U=>{N=N.next(()=>b.getEntry(p,U)).next(ae=>{const Ce=y.docVersions.get(U);lt(null!==Ce),ae.version.compareTo(Ce)<0&&(H.applyToRemoteDocument(ae,y),ae.isValidDocument()&&(ae.setReadTime(y.commitVersion),b.addEntry(ae)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(p,H))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=Tt();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(p=p.add(u.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}(n.localStore,e);kx(n,r,null),Nx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ts(n,o)}catch(o){yield h4(o)}}),Dx.apply(this,arguments)}function foe(t,e,n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,G.Z)(function*(t,e,n){const r=Ge(t);try{const o=yield function(c,u){const p=Ge(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.mutationQueue.lookupMutationBatch(y,u).next(H=>(lt(null!==H),b=H.keys(),p.mutationQueue.removeMutationBatch(y,H))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>p.localDocuments.getDocuments(y,b))})}(r.localStore,e);kx(r,e,n),Nx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ts(r,o)}catch(o){yield h4(o)}}),Ax.apply(this,arguments)}function Tx(){return Tx=(0,G.Z)(function*(t,e){const n=Ge(t);I4(n.remoteStore)||Se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const u=Ge(c);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(n.localStore);if(-1===r)return void e.resolve();const o=n.Ec.get(r)||[];o.push(e),n.Ec.set(r,o)}catch(r){const o=sl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Tx.apply(this,arguments)}function Nx(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function kx(t,e,n){const r=Ge(t);let o=r.Tc[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function cl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Vj(t,r)})}function Vj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(If(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Rx(t))}function Px(t,e,n){for(const r of n)r instanceof _j?(t.Ic.addReference(r.key,e),hoe(t,r)):r instanceof Mj?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Vj(t,r.key)):Xe()}function hoe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.mc.add(r),Rx(t))}function Rx(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ue(Wt.fromString(e)),r=t.Ac.next();t.yc.set(r,new ioe(n)),t.gc=t.gc.insert(n,r),nC(t.remoteStore,new As(Vn(G0(n.path)),r,"TargetPurposeLimboResolution",lr.ct))}}function Ts(t,e,n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,G.Z)(function*(t,e,n){const r=Ge(t),o=[],c=[],u=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,y)=>{u.push(r.Rc(y,e,n).then(b=>{if((b||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b?.fromCache?"not-current":"current"),b){o.push(b);const H=jL.Li(y.targetId,b);c.push(H)}}))}),yield Promise.all(u),r.dc.nu(o),yield(p=(0,G.Z)(function*(y,b){const H=Ge(y);try{yield H.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Q.forEach(b,N=>Q.forEach(N.Fi,U=>H.persistence.referenceDelegate.addReference(S,N.targetId,U)).next(()=>Q.forEach(N.Bi,U=>H.persistence.referenceDelegate.removeReference(S,N.targetId,U)))))}catch(S){if(!p4(S))throw S;Se("LocalStore","Failed to update sequence numbers: "+S)}for(const S of b){const N=S.targetId;if(!S.fromCache){const U=H.Ji.get(N),Ce=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);H.Ji=H.Ji.insert(N,Ce)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,c))}),Ox.apply(this,arguments)}function poe(t,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,G.Z)(function*(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=yield XU(n.localStore,e);n.currentUser=e,(o=n).Ec.forEach(u=>{u.forEach(p=>{p.reject(new ye(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ts(n,r.er)}var o}),Fx.apply(this,arguments)}function moe(t,e){const n=Ge(t),r=n.yc.get(e);if(r&&r.fc)return Tt().add(r.key);{let o=Tt();const c=n._c.get(e);if(!c)return o;for(const u of c){const p=n.wc.get(u);o=o.unionWith(p.view.nc)}return o}}function goe(t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,G.Z)(function*(t,e){const n=Ge(t),r=yield Qy(n.localStore,e.query,!0),o=e.view.hc(r);return n.isPrimaryClient&&Px(n,e.targetId,o.cc),o}),Bx.apply(this,arguments)}function voe(t,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,G.Z)(function*(t,e){const n=Ge(t);return rj(n.localStore,e).then(r=>Ts(n,r))}),Ux.apply(this,arguments)}function yoe(t,e,n,r){return jx.apply(this,arguments)}function jx(){return jx=(0,G.Z)(function*(t,e,n,r){const o=Ge(t),c=yield function(u,p){const y=Ge(u),b=Ge(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",H=>b.Sn(H,p).next(S=>S?y.localDocuments.getDocuments(H,S):Q.resolve(null)))}(o.localStore,e);var p;null!==c?("pending"===n?yield rl(o.remoteStore):"acknowledged"===n||"rejected"===n?(kx(o,e,r||null),Nx(o,e),p=e,Ge(Ge(o.localStore).mutationQueue).Cn(p)):Xe(),yield Ts(o,c)):Se("SyncEngine","Cannot apply mutation batch with id: "+e)}),jx.apply(this,arguments)}function $x(){return $x=(0,G.Z)(function*(t,e){const n=Ge(t);if(Zx(n),Kx(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),o=yield Ij(n,r.toArray());n.vc=!0,yield gx(n.remoteStore,!0);for(const c of o)nC(n.remoteStore,c)}else if(!1===e&&!1!==n.vc){const r=[];let o=Promise.resolve();n._c.forEach((c,u)=>{n.sharedClientState.isLocalQueryTarget(u)?r.push(u):o=o.then(()=>(cl(n,u),tl(n.localStore,u,!0))),If(n.remoteStore,u)}),yield o,yield Ij(n,r),function(c){const u=Ge(c);u.yc.forEach((p,y)=>{If(u.remoteStore,y)}),u.Ic.Ts(),u.yc=new Map,u.gc=new p2(Ue.comparator)}(n),n.vc=!1,yield gx(n.remoteStore,!1)}}),$x.apply(this,arguments)}function Ij(t,e,n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,G.Z)(function*(t,e,n){const r=Ge(t),o=[],c=[];for(const u of e){let p;const y=r._c.get(u);if(y&&0!==y.length){p=yield el(r.localStore,Vn(y[0]));for(const b of y){const H=r.wc.get(b),S=yield goe(r,H);S.snapshot&&c.push(S.snapshot)}}else{const b=yield nj(r.localStore,u);p=yield el(r.localStore,b),yield Ix(r,Sj(b),u,!1,p.resumeToken)}o.push(p)}return r.dc.nu(c),o}),Gx.apply(this,arguments)}function Sj(t){return TB(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function _oe(t){const e=Ge(t);return Ge(Ge(e.localStore).persistence).$i()}function Moe(t,e,n,r){return qx.apply(this,arguments)}function qx(){return qx=(0,G.Z)(function*(t,e,n,r){const o=Ge(t);if(o.vc)return void Se("SyncEngine","Ignoring unexpected query state notification.");const c=o._c.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const u=yield rj(o.localStore,PB(c[0])),p=ff.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,M1.EMPTY_BYTE_STRING);yield Ts(o,u,p);break}case"rejected":yield tl(o.localStore,e,!0),cl(o,e,r);break;default:Xe()}}),qx.apply(this,arguments)}function woe(t,e,n){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,G.Z)(function*(t,e,n){const r=Zx(t);if(r.vc){for(const o of e){if(r._c.has(o)){Se("SyncEngine","Adding an already active target "+o);continue}const c=yield nj(r.localStore,o),u=yield el(r.localStore,c);yield Ix(r,Sj(c),u.targetId,!1,u.resumeToken),nC(r.remoteStore,u)}for(const o of n)r._c.has(o)&&(yield tl(r.localStore,o,!1).then(()=>{If(r.remoteStore,o),cl(r,o)}).catch(h4))}}),Wx.apply(this,arguments)}function Zx(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=moe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=loe.bind(null,e),e.dc.nu=X4e.bind(null,e.eventManager),e.dc.Pc=eoe.bind(null,e.eventManager),e}function Kx(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=foe.bind(null,e),e}class Sf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,G.Z)(function*(){n.serializer=Hf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JU(this.persistence,new QU,e.initialUser,this.serializer)}createPersistence(e){return new OL(Zy.zs,this.serializer)}createSharedClientState(e){return new aj}terminate(){var e=this;return(0,G.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yx extends Sf{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,G.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield Kx(r.Vc.syncEngine),yield rl(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return JU(this.persistence,new QU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new UU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Kse(n,this.persistence);return new Zse(e.asyncQueue,r)}createPersistence(e){const n=UL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new BL(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,lj(),tC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new aj}}class zj extends Yx{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,G.Z)(function*(){yield n().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof QL&&(r.sharedClientState.syncEngine={jr:yoe.bind(null,o),zr:Moe.bind(null,o),Wr:woe.bind(null,o),$i:_oe.bind(null,o),Qr:voe.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,G.Z)(function*(u){yield function Coe(t,e){return $x.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=lj();if(!QL.D(n))throw new ye(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=UL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new QL(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class ll{initialize(e,n){var r=this;return(0,G.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Hj(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=poe.bind(null,r.syncEngine),yield gx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new J4e}createDatastore(e){const n=Hf(e.databaseInfo.databaseId),r=new N4e(e.databaseInfo);return new R4e(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,o=e.asyncQueue,c=p=>Hj(this.syncEngine,p,0),u=cj.D()?new cj:new D4e,new B4e(n,r,o,c,u);var n,r,o,c,u}createSyncEngine(e,n){return function(r,o,c,u,p,y,b){const H=new soe(r,o,c,u,p,y);return b&&(H.vc=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,G.Z)(function*(n){const r=Ge(n);Se("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield nl(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ej(t,e=10240){let n=0;return{read:()=>(0,G.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,G.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class iC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Y2("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Voe{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new _1,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,G.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,G.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,G.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(o);return new toe(JSON.parse(c),n.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,G.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,G.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,G.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Ioe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,G.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new ye(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,G.Z)(function*(c,u){const p=Ge(c),y=pf(p.serializer)+"/documents",b={documents:u.map(U=>hf(p.serializer,U))},H=yield p.vo("BatchGetDocuments",y,b,u.length),S=new Map;H.forEach(U=>{const ae=function W3e(t,e){return"found"in e?function(n,r){lt(!!r.found);const o=Li(n,r.found.name),c=Q2(r.found.updateTime),u=r.found.createTime?Q2(r.found.createTime):ft.min(),p=new Y1({mapValue:{fields:r.found.fields}});return I2.newFoundDocument(o,c,u,p)}(t,e):"missing"in e?function(n,r){lt(!!r.missing),lt(!!r.readTime);const o=Li(n,r.missing),c=Q2(r.readTime);return I2.newNoDocument(o,c)}(t,e):Xe()}(p.serializer,U);S.set(ae.key.toString(),ae)});const N=[];return u.forEach(U=>{const ae=S.get(U.toString());lt(!!ae),N.push(ae)}),N}),function(c,u){return o.apply(this,arguments)})(n.datastore,e);var o;return r.forEach(o=>n.recordVersion(o)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new K0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,G.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,o)=>{const c=Ue.fromPath(o);e.mutations.push(new _L(c,e.precondition(c)))}),yield(r=(0,G.Z)(function*(o,c){const u=Ge(o),p=pf(u.serializer)+"/documents",y={writes:c.map(b=>mf(u.serializer,b))};yield u.Io("Commit",p,y)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Xe();n=ft.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ye(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ft.min())?x2.exists(!1):x2.updateTime(n):x2.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ft.min()))throw new ye(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return x2.updateTime(n)}return x2.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Soe{constructor(e,n,r,o,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new XL(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,G.Z)(function*(){const n=new Ioe(e.datastore),r=e.qc(n);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.Uc(c)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const n=this.updateFunction(e);return!Y7(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!tU(n)}return!1}}class zoe{constructor(e,n,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=A1.UNAUTHENTICATED,this.clientId=JF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,G.Z)(function*(p){Se("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Se("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,G.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const o=sl(r,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function sC(t,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,G.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var o=(0,G.Z)(function*(c){r.isEqual(c)||(yield XU(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Qx.apply(this,arguments)}function Jx(t,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,G.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield eD(t);Se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(o=>gj(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,c)=>gj(e.remoteStore,c)),t._onlineComponents=e}),Xx.apply(this,arguments)}function Lj(t){return"FirebaseError"===t.name?t.code===ne.FAILED_PRECONDITION||t.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function eD(t){return tD.apply(this,arguments)}function tD(){return tD=(0,G.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Lj(n))throw n;Vr("Error using user provided cache. Falling back to memory cache: "+n),yield sC(t,new Sf)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),yield sC(t,new Sf);return t._offlineComponents}),tD.apply(this,arguments)}function oC(t){return nD.apply(this,arguments)}function nD(){return nD=(0,G.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),yield Jx(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),yield Jx(t,new ll))),t._onlineComponents}),nD.apply(this,arguments)}function xj(t){return eD(t).then(e=>e.persistence)}function aC(t){return eD(t).then(e=>e.localStore)}function Dj(t){return oC(t).then(e=>e.remoteStore)}function rD(t){return oC(t).then(e=>e.syncEngine)}function ul(t){return iD.apply(this,arguments)}function iD(){return iD=(0,G.Z)(function*(t){const e=yield oC(t),n=e.eventManager;return n.onListen=ooe.bind(null,e.syncEngine),n.onUnlisten=aoe.bind(null,e.syncEngine),n}),iD.apply(this,arguments)}function Tj(t,e,n={}){const r=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(o,c,u,p,y){const b=new iC({next:S=>{c.enqueueAndForget(()=>Mx(o,H));const N=S.docs.has(u);!N&&S.fromCache?y.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&"server"===p.source?y.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),H=new Hx(G0(u.path),b,{includeMetadataChanges:!0,Ku:!0});return Cx(o,H)}(yield ul(t),t.asyncQueue,e,n,r)})),r.promise}function Nj(t,e,n={}){const r=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(o,c,u,p,y){const b=new iC({next:S=>{c.enqueueAndForget(()=>Mx(o,H)),S.fromCache&&"server"===p.source?y.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),H=new Hx(u,b,{includeMetadataChanges:!0,Ku:!0});return Cx(o,H)}(yield ul(t),t.asyncQueue,e,n,r)})),r.promise}function kj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Pj=new Map;function sD(t,e,n){if(!n)throw new ye(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rj(t,e,n,r){if(!0===e&&!0===r)throw new ye(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Oj(t){if(!Ue.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fj(t){if(Ue.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cC(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Xe()}function qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cC(t);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bj(t,e){if(e<=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Uj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new kse;switch(n.type){case"firstParty":return new Fse(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Pj.get(e);n&&(Se("ComponentProvider","Removing Datastore"),Pj.delete(e),n.terminate())}(this),Promise.resolve()}}function jj(t,e,n,r={}){var o;const c=(t=qt(t,zf))._getSettings(),u=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),r.mockUserToken){let p,y;if("string"==typeof r.mockUserToken)p=r.mockUserToken,y=A1.MOCK_USER;else{p=(0,rt.Sg)(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new A1(b)}t._authCredentials=new Pse(new YF(p,y))}}class S2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new S2(this.firestore,e,this._key)}}class Q1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Q1(this.firestore,e,this._query)}}class xi extends Q1{constructor(e,n,r){super(e,n,G0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new S2(this.firestore,null,new Ue(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function $j(t,e,...n){if(t=(0,rt.m9)(t),sD("collection","path",e),t instanceof zf){const r=Wt.fromString(e,...n);return Fj(r),new xi(t,null,r)}{if(!(t instanceof S2||t instanceof xi))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return Fj(r),new xi(t.firestore,null,r)}}function lC(t,e,...n){if(t=(0,rt.m9)(t),1===arguments.length&&(e=JF.A()),sD("doc","path",e),t instanceof zf){const r=Wt.fromString(e,...n);return Oj(r),new S2(t,null,new Ue(r))}{if(!(t instanceof S2||t instanceof xi))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return Oj(r),new S2(t.firestore,t instanceof xi?t.converter:null,new Ue(r))}}function Gj(t,e){return t=(0,rt.m9)(t),e=(0,rt.m9)(e),(t instanceof S2||t instanceof xi)&&(e instanceof S2||e instanceof xi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function oD(t,e){return t=(0,rt.m9)(t),e=(0,rt.m9)(e),t instanceof Q1&&e instanceof Q1&&t.firestore===e.firestore&&rf(t._query,e._query)&&t.converter===e.converter}class Roe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new XL(this,"async_queue_retry"),this.Xc=()=>{const n=tC();n&&Se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=tC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=tC();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _1;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,G.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!p4(n))throw n;Se("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Y2("INTERNAL UNHANDLED ERROR: ",function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=yx.createAndSchedule(this,e,n,r,c=>this.na(c));return this.zc.push(o),o}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,G.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function aD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(t)}class Ooe{constructor(){this._progressObserver={},this._taskCompletionResolver=new _1,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class z2 extends zf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Roe,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qj(this),this._firestoreClient.terminate()}}function Boe(t,e){const n="object"==typeof t?t:(0,kt.getApp)(),r="string"==typeof t?t:e||"(default)",o=(0,kt._getProvider)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=(0,rt.P0)("firestore");c&&jj(o,...c)}return o}function J2(t){return t._firestoreClient||qj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qj(t){var e,n,r;const o=t._freezeSettings(),c=(p=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new g3e(t._databaseId,p,t._persistenceKey,(b=o).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,kj(b.experimentalLongPollingOptions),b.useFetchStreams));var p,b;t._firestoreClient=new zoe(t._authCredentials,t._appCheckCredentials,t._queue,c),null!==(n=o.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function Wj(t,e,n){const r=new _1;return t.asyncQueue.enqueue((0,G.Z)(function*(){try{yield sC(t,n),yield Jx(t,e),r.resolve()}catch(o){const c=o;if(!Lj(c))throw c;Vr("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function Zj(t){if(t._initialized||t._terminated)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Di(M1.fromBase64String(e))}catch(n){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Di(M1.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ns{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new U2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ya{constructor(e){this._methodName=e}}class uC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const Qoe=/^__.*__$/;class Joe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Z0(e,this.data,n,this.fieldTransforms)}}class Kj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class fC{constructor(e,n,r,o,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new fC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return pC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Yj(this.ca)&&Qoe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Xoe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(e)}ya(e,n,r,o=!1){return new fC({ca:e,methodName:n,ga:r,path:U2.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qa(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new Xoe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dC(t,e,n,r,o,c={}){const u=t.ya(c.merge||c.mergeFields?2:0,e,n,o);fD("Data must be an object, but it was:",u,r);const p=Xj(r,u);let y,b;if(c.merge)y=new kn(u.fieldMask),b=u.fieldTransforms;else if(c.mergeFields){const H=[];for(const S of c.mergeFields){const N=xf(e,S,n);if(!u.contains(N))throw new ye(ne.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);t$(H,N)||H.push(N)}y=new kn(H),b=u.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,b=u.fieldTransforms;return new Joe(new Y1(p),y,b)}class Lf extends Ya{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function Qj(t,e,n){return new fC({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cD extends Ya{_toFieldTransform(e){return new cf(e.path,new q0)}isEqual(e){return e instanceof cD}}class eae extends Ya{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Qj(this,e,!0),r=this.pa.map(c=>Ja(c,n)),o=new Ba(r);return new cf(e.path,o)}isEqual(e){return this===e}}class tae extends Ya{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Qj(this,e,!0),r=this.pa.map(c=>Ja(c,n)),o=new Ua(r);return new cf(e.path,o)}isEqual(e){return this===e}}class nae extends Ya{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new W0(e.serializer,$B(e.serializer,this.Ia));return new cf(e.path,n)}isEqual(e){return this===e}}function lD(t,e,n,r){const o=t.ya(1,e,n);fD("Data must be an object, but it was:",o,r);const c=[],u=Y1.empty();m4(r,(y,b)=>{const H=hC(e,y,n);b=(0,rt.m9)(b);const S=o.da(H);if(b instanceof Lf)c.push(H);else{const N=Ja(b,S);null!=N&&(c.push(H),u.set(H,N))}});const p=new kn(c);return new Kj(u,p,o.fieldTransforms)}function uD(t,e,n,r,o,c){const u=t.ya(1,e,n),p=[xf(e,r,n)],y=[o];if(c.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(xf(e,c[N])),y.push(c[N+1]);const b=[],H=Y1.empty();for(let N=p.length-1;N>=0;--N)if(!t$(b,p[N])){const U=p[N];let ae=y[N];ae=(0,rt.m9)(ae);const Ce=u.da(U);if(ae instanceof Lf)b.push(U);else{const Me=Ja(ae,Ce);null!=Me&&(b.push(U),H.set(U,Me))}}const S=new kn(b);return new Kj(H,S,u.fieldTransforms)}function Jj(t,e,n,r=!1){return Ja(n,t.ya(r?4:3,e))}function Ja(t,e){if(e$(t=(0,rt.m9)(t)))return fD("Unsupported field value:",e,t),Xj(t,e);if(t instanceof Ya)return function(n,r){if(!Yj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const o=[];let c=0;for(const u of n){let p=Ja(u,r.wa(c));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if(null===(n=(0,rt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return $B(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=L2.fromDate(n);return{timestampValue:Y0(r.serializer,o)}}if(n instanceof L2){const o=new L2(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Y0(r.serializer,o)}}if(n instanceof uC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Di)return{bytesValue:fU(r.serializer,n._byteString)};if(n instanceof S2){const o=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:SL(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${cC(n)}`)}(t,e)}function Xj(t,e){const n={};return hB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):m4(t,(r,o)=>{const c=Ja(o,e.ha(r));null!=c&&(n[r]=c)}),{mapValue:{fields:n}}}function e$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof L2||t instanceof uC||t instanceof Di||t instanceof S2||t instanceof Ya)}function fD(t,e,n){if(!e$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cC(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function xf(t,e,n){if((e=(0,rt.m9)(e))instanceof Ns)return e._internalPath;if("string"==typeof e)return hC(t,e);throw pC("Field path arguments must be of type string or ",t,!1,void 0,n)}const rae=new RegExp("[~\\*/\\[\\]]");function hC(t,e,n){if(e.search(rae)>=0)throw pC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ns(...e.split("."))._internalPath}catch{throw pC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pC(t,e,n,r,o){const c=r&&!r.isEmpty(),u=void 0!==o;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${r}`),u&&(y+=` in document ${o}`),y+=")"),new ye(ne.INVALID_ARGUMENT,p+t+y)}function t$(t,e){return t.some(n=>n.isEqual(e))}class Df{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new S2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class iae extends Df{data(){return super.data()}}function mC(t,e){return"string"==typeof e?hC(t,e):e instanceof Ns?e._internalPath:e._delegate._internalPath}function n$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dD{}class Af extends dD{}function z4(t,e,...n){let r=[];e instanceof dD&&r.push(e),r=r.concat(n),function(o){const c=o.filter(p=>p instanceof fl).length,u=o.filter(p=>p instanceof Tf).length;if(c>1||c>0&&u>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class Tf extends Af{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tf(e,n,r)}_apply(e){const n=this._parse(e);return o$(e._query,n),new Q1(e.firestore,e.converter,vL(e._query,n))}_parse(e){const n=Qa(e.firestore);return function(o,c,u,p,y,b,H){let S;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){s$(H,b);const N=[];for(const U of H)N.push(i$(p,o,U));S={arrayValue:{values:N}}}else S=i$(p,o,H)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||s$(H,b),S=Jj(u,"where",H,"in"===b||"not-in"===b);return Gt.create(y,b,S)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class fl extends dD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fl(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:s2.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,o){let c=r;const u=o.getFlattenedFilters();for(const p of u)o$(c,p),c=vL(c,p)}(e._query,n),new Q1(e.firestore,e.converter,vL(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hD extends Af{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hD(e,n)}_apply(e){const n=function(r,o,c){if(null!==r.startAt)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new j0(o,c);return function(p,y){if(null===mL(p)){const b=Ay(p);null!==b&&a$(0,b,y.field)}}(r,u),u}(e._query,this._field,this._direction);return new Q1(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Ls(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class gC extends Af{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gC(e,n,r)}_apply(e){return new Q1(e.firestore,e.converter,Ty(e._query,this._limit,this._limitType))}}class vC extends Af{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new vC(e,n,r)}_apply(e){const n=r$(e,this.type,this._docOrFields,this._inclusive);return new Q1(e.firestore,e.converter,(o=n,new Ls((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class yC extends Af{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new yC(e,n,r)}_apply(e){const n=r$(e,this.type,this._docOrFields,this._inclusive);return new Q1(e.firestore,e.converter,(o=n,new Ls((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function r$(t,e,n,r){if(n[0]=(0,rt.m9)(n[0]),n[0]instanceof Df)return function(o,c,u,p,y){if(!p)throw new ye(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const H of Fa(o))if(H.field.isKeyField())b.push(Ra(c,p.key));else{const S=p.data.field(H.field);if(Iy(S))throw new ye(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+H.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const N=H.field.canonicalString();throw new ye(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}b.push(S)}return new M4(b,y)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=Qa(t.firestore);return function(c,u,p,y,b,H){const S=c.explicitOrderBy;if(b.length>S.length)throw new ye(ne.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let U=0;U<b.length;U++){const ae=b[U];if(S[U].field.isKeyField()){if("string"!=typeof ae)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ae}`);if(!gL(c)&&-1!==ae.indexOf("/"))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ae}' contains a slash.`);const Ce=c.path.child(Wt.fromString(ae));if(!Ue.isDocumentKey(Ce))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ce}' is not because it contains an odd number of segments.`);const Me=new Ue(Ce);N.push(Ra(u,Me))}else{const Ce=Jj(p,y,ae);N.push(Ce)}}return new M4(N,H)}(t._query,t.firestore._databaseId,o,e,n,r)}}function i$(t,e,n){if("string"==typeof(n=(0,rt.m9)(n))){if(""===n)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gL(e)&&-1!==n.indexOf("/"))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Wt.fromString(n));if(!Ue.isDocumentKey(r))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ra(t,new Ue(r))}if(n instanceof S2)return Ra(t,n._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cC(n)}.`)}function s$(t,e){if(!Array.isArray(t)||0===t.length)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o$(t,e){if(e.isInequality()){const r=Ay(t),o=e.field;if(null!==r&&!r.isEqual(o))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const c=mL(t);null!==c&&a$(0,o,c)}const n=function(r,o){for(const c of r)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ye(ne.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function a$(t,e,n){if(!n.isEqual(e))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class pD{convertValue(e,n="none"){switch(C4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return j2(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return m4(e,(o,c)=>{r[o]=this.convertValue(c,n)}),r}convertGeoPoint(e){return new uC(j2(e.latitude),j2(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sy(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(J7(e));default:return null}}convertTimestamp(e){const n=g4(e);return new L2(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wt.fromString(e);lt(MU(r));const o=new v4(r.get(1),r.get(3)),c=new Ue(r.popFirst(5));return o.isEqual(n)||Y2(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function CC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hae extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new S2(this.firestore,null,n)}}class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends Df{constructor(e,n,r,o,c,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nf extends ks{data(e={}){return super.data(e)}}class E4{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xa(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nf(this._firestore,this._userDataWriter,r.key,r,new Xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Nf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Xa(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||3!==u.type).map(u=>{const p=new Nf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Xa(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==u.type&&(y=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),1!==u.type&&(c=c.add(u.doc),b=c.indexOf(u.doc.key)),{type:mae(u.type),doc:p,oldIndex:y,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function l$(t,e){return t instanceof ks&&e instanceof ks?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof E4&&e instanceof E4&&t._firestore===e._firestore&&oD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class L4 extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new S2(this.firestore,null,n)}}function u$(t,e,n){t=qt(t,S2);const r=qt(t.firestore,z2),o=CC(t.converter,e,n);return dl(r,[dC(Qa(r),"setDoc",t._key,o,null!==t.converter,n).toMutation(t._key,x2.none())])}function f$(t,e,n,...r){t=qt(t,S2);const o=qt(t.firestore,z2),c=Qa(o);let u;return u="string"==typeof(e=(0,rt.m9)(e))||e instanceof Ns?uD(c,"updateDoc",t._key,e,n,r):lD(c,"updateDoc",t._key,e),dl(o,[u.toMutation(t._key,x2.exists(!0))])}function d$(t,...e){var n,r,o;t=(0,rt.m9)(t);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||aD(e[u])||(c=e[u],u++);const p={includeMetadataChanges:c.includeMetadataChanges};if(aD(e[u])){const S=e[u];e[u]=null===(n=S.next)||void 0===n?void 0:n.bind(S),e[u+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[u+2]=null===(o=S.complete)||void 0===o?void 0:o.bind(S)}let y,b,H;if(t instanceof S2)b=qt(t.firestore,z2),H=G0(t._key.path),y={next:S=>{e[u]&&e[u](mD(b,t,S))},error:e[u+1],complete:e[u+2]};else{const S=qt(t,Q1);b=qt(S.firestore,z2),H=S._query;const N=new L4(b);y={next:U=>{e[u]&&e[u](new E4(b,N,S,U))},error:e[u+1],complete:e[u+2]},n$(t._query)}return function(S,N,U,ae){const Ce=new iC(ae),Me=new Hx(N,Ce,U);return S.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return Cx(yield ul(S),Me)})),()=>{Ce.Dc(),S.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return Mx(yield ul(S),Me)}))}}(J2(b),H,p,y)}function dl(t,e){return function(n,r){const o=new _1;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function coe(t,e,n){return Ex.apply(this,arguments)}(yield rD(n),r,o)})),o.promise}(J2(t),e)}function mD(t,e,n){const r=n.docs.get(e._key),o=new L4(t);return new ks(t,o,e._key,r,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}const Aae={maxAttempts:5};class h${constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qa(e)}set(e,n,r){this._verifyNotCommitted();const o=x4(e,this._firestore),c=CC(o.converter,n,r),u=dC(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(u.toMutation(o._key,x2.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const c=x4(e,this._firestore);let u;return u="string"==typeof(n=(0,rt.m9)(n))||n instanceof Ns?uD(this._dataReader,"WriteBatch.update",c._key,n,r,o):lD(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,x2.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=x4(e,this._firestore);return this._mutations=this._mutations.concat(new K0(n._key,x2.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function x4(t,e){if((t=(0,rt.m9)(t)).firestore!==e)throw new ye(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Tae extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Qa(e)}get(e){const n=x4(e,this._firestore),r=new hae(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return Xe();const c=o[0];if(c.isFoundDocument())return new Df(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new Df(this._firestore,r,n._key,null,n.converter);throw Xe()})}set(e,n,r){const o=x4(e,this._firestore),c=CC(o.converter,n,r),u=dC(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,u),this}update(e,n,r,...o){const c=x4(e,this._firestore);let u;return u="string"==typeof(n=(0,rt.m9)(n))||n instanceof Ns?uD(this._dataReader,"Transaction.update",c._key,n,r,o):lD(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this}delete(e){const n=x4(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=x4(e,this._firestore),r=new L4(this._firestore);return super.get(e).then(o=>new ks(this._firestore,r,n._key,o._document,new Xa(!1,!1),n.converter))}}function gD(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function m$(){if(typeof Uint8Array>"u")throw new ye("unimplemented","Uint8Arrays are not available in this environment.")}function g$(){if(!function p3e(){return typeof atob<"u"}())throw new ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){O0=kt.SDK_VERSION,(0,kt._registerComponent)(new Wr.wA("firestore",(n,{instanceIdentifier:r,options:o})=>{const c=n.getProvider("app").getImmediate(),u=new z2(new Rse(n.getProvider("auth-internal")),new Bse(n.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new v4(p.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(KF,"3.13.0",t),(0,kt.registerVersion)(KF,"3.13.0","esm2017")}();class kf{constructor(e){this._delegate=e}static fromBase64String(e){return g$(),new kf(Di.fromBase64String(e))}static fromUint8Array(e){return m$(),new kf(Di.fromUint8Array(e))}toBase64(){return g$(),this._delegate.toBase64()}toUint8Array(){return m$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vD(t){return function jae(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class $ae{enableIndexedDbPersistence(e,n){return function Uoe(t,e){Zj(t=qt(t,z2));const n=J2(t);if(n._uninitializedComponentsProvider)throw new ye(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),o=new ll;return Wj(n,o,new Yx(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function joe(t){Zj(t=qt(t,z2));const e=J2(t);if(e._uninitializedComponentsProvider)throw new ye(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new ll;return Wj(e,r,new zj(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $oe(t){if(t._initialized&&!t._terminated)throw new ye(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _1;return t._queue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{yield(n=(0,G.Z)(function*(r){if(!Qr.D())return Promise.resolve();const o=r+"main";yield Qr.delete(o)}),function(r){return n.apply(this,arguments)})(UL(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class v${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof v4||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){jj(this._delegate,e,n,r)}enableNetwork(){return function qoe(t){return function Eoe(t){return t.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield xj(t),n=yield Dj(t);return e.setNetworkEnabled(!0),function(r){const o=Ge(r);return o.vu.delete(0),Vf(o)}(n)}))}(J2(t=qt(t,z2)))}(this._delegate)}disableNetwork(){return function Woe(t){return function Loe(t){return t.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield xj(t),n=yield Dj(t);return e.setNetworkEnabled(!1),(r=(0,G.Z)(function*(o){const c=Ge(o);c.vu.add(0),yield nl(c),c.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(n);var r}))}(J2(t=qt(t,z2)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Rj("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Goe(t){return function(e){const n=new _1;return e.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function doe(t,e){return Tx.apply(this,arguments)}(yield rD(e),n)})),n.promise}(J2(t=qt(t,z2)))}(this._delegate)}onSnapshotsInSync(e){return function Hae(t,e){return function Aoe(t,e){const n=new iC(e);return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield ul(t),o=n,Ge(r).ku.add(o),void o.next();var r,o})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield ul(t),o=n,void Ge(r).ku.delete(o);var r,o}))}}(J2(t=qt(t,z2)),aD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hl(this,$j(this._delegate,e))}catch(n){throw In(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ir(this,lC(this._delegate,e))}catch(n){throw In(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sn(this,function Poe(t,e){if(t=qt(t,zf),sD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Q1(t,null,(n=e,new Ls(Wt.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw In(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Nae(t,e,n){t=qt(t,z2);const r=Object.assign(Object.assign({},Aae),n);return function(o){if(o.maxAttempts<1)throw new ye(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,c,u){const p=new _1;return o.asyncQueue.enqueueAndForget((0,G.Z)(function*(){const y=yield function Aj(t){return oC(t).then(e=>e.datastore)}(o);new Soe(o.asyncQueue,y,u,c,p).run()})),p.promise}(J2(t),o=>e(new Tae(t,o)),r)}(this._delegate,n=>e(new y$(this,n)))}batch(){return J2(this._delegate),new C$(new h$(this._delegate,e=>dl(this._delegate,e)))}loadBundle(e){return function Zoe(t,e){const n=J2(t=qt(t,z2)),r=new Ooe;return function Toe(t,e,n,r){const o=function(c,u){let p;return p="string"==typeof c?rU().encode(c):c,y=function(y,b){if(y instanceof Uint8Array)return Ej(y,b);if(y instanceof ArrayBuffer)return Ej(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new Voe(y,u);var y}(n,Hf(e));t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){!function boe(t,e,n){const r=Ge(t);var o;(o=(0,G.Z)(function*(c,u,p){try{const y=yield u.getMetadata();if(yield function(N,U){const ae=Ge(N),Ce=Q2(U.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",Me=>ae.qs.getBundleMetadata(Me,U.id)).then(Me=>!!Me&&Me.createTime.compareTo(Ce)>=0)}(c.localStore,y))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(N=y).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);p._updateProgress(Cj(y));const b=new noe(y,c.localStore,u.serializer);let H=yield u.bc();for(;H;){const N=yield b.zu(H);N&&p._updateProgress(N),H=yield u.bc()}const S=yield b.complete();return yield Ts(c,S.Ju,void 0),yield function(N,U){const ae=Ge(N);return ae.persistence.runTransaction("Save bundle","readwrite",Ce=>ae.qs.saveBundleMetadata(Ce,U))}(c.localStore,y),p._completeWith(S.progress),Promise.resolve(S.Hu)}catch(y){return Vr("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var N}),function(c,u,p){return o.apply(this,arguments)})(r,e,n).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield rD(t),o,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Koe(t,e){return function Noe(t,e){return t.asyncQueue.enqueue((0,G.Z)(function*(){return function(n,r){const o=Ge(n);return o.persistence.runTransaction("Get named query","readonly",c=>o.qs.getNamedQuery(c,r))}(yield aC(t),e)}))}(J2(t=qt(t,z2)),e).then(n=>n?new Q1(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Sn(this,n):null)}}class _C extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new kf(new Di(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ir.forKey(n,this.firestore,null)}}class y${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new _C(e)}get(e){const n=tc(e);return this._delegate.get(n).then(r=>new Pf(this._firestore,new ks(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const o=tc(e);return r?(gD("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this}update(e,n,r,...o){const c=tc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...o),this}delete(e){const n=tc(e);return this._delegate.delete(n),this}}class C${constructor(e){this._delegate=e}set(e,n,r){const o=tc(e);return r?(gD("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this}update(e,n,r,...o){const c=tc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...o),this}delete(e){const n=tc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ec{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Nf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ec.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(n);return c||(c=new ec(e,new _C(e),n),o.set(n,c)),c}}ec.INSTANCES=new WeakMap;class Ir{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _C(e)}static forPath(e,n,r){if(e.length%2!=0)throw new ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ir(n,new S2(n._delegate,r,new Ue(e)))}static forKey(e,n,r){return new Ir(n,new S2(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new hl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hl(this.firestore,$j(this._delegate,e))}catch(n){throw In(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rt.m9)(e))instanceof S2&&Gj(this._delegate,e)}set(e,n){n=gD("DocumentReference.set",n);try{return n?u$(this._delegate,e,n):u$(this._delegate,e)}catch(r){throw In(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?f$(this._delegate,e):f$(this._delegate,e,n,...r)}catch(o){throw In(o,"updateDoc()","DocumentReference.update()")}}delete(){return function wae(t){return dl(qt(t.firestore,z2),[new K0(t._key,x2.none())])}(this._delegate)}onSnapshot(...e){const n=_$(e),r=M$(e,o=>new Pf(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return d$(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function vae(t){t=qt(t,S2);const e=qt(t.firestore,z2),n=J2(e),r=new L4(e);return function xoe(t,e){const n=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(r=(0,G.Z)(function*(o,c,u){try{const p=yield function(y,b){const H=Ge(y);return H.persistence.runTransaction("read document","readonly",S=>H.localDocuments.getDocument(S,b))}(o,c);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new ye(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=sl(p,`Failed to get document '${c} from cache`);u.reject(y)}}),function(o,c,u){return r.apply(this,arguments)})(yield aC(t),e,n);var r})),n.promise}(n,t._key).then(o=>new ks(e,r,t._key,o,new Xa(null!==o&&o.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function yae(t){t=qt(t,S2);const e=qt(t.firestore,z2);return Tj(J2(e),t._key,{source:"server"}).then(n=>mD(e,t,n))}(this._delegate):function gae(t){t=qt(t,S2);const e=qt(t.firestore,z2);return Tj(J2(e),t._key).then(n=>mD(e,t,n))}(this._delegate),n.then(r=>new Pf(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ir(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}function In(t,e,n){return t.message=t.message.replace(e,n),t}function _$(t){for(const e of t)if("object"==typeof e&&!vD(e))return e;return{}}function M$(t,e){var n,r;let o;return o=vD(t[0])?t[0]:vD(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Pf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ir(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return l$(this._delegate,e._delegate)}}class Rf extends Pf{data(e){const n=this._delegate.data(e);return function Nse(t,e){t||Xe()}(void 0!==n),n}}class Sn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _C(e)}where(e,n,r){try{return new Sn(this.firestore,z4(this._delegate,function sae(t,e,n){const r=e,o=mC("where",t);return Tf._create(o,r,n)}(e,n,r)))}catch(o){throw In(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Sn(this.firestore,z4(this._delegate,function oae(t,e="asc"){const n=e,r=mC("orderBy",t);return hD._create(r,n)}(e,n)))}catch(r){throw In(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sn(this.firestore,z4(this._delegate,function aae(t){return Bj("limit",t),gC._create("limit",t,"F")}(e)))}catch(n){throw In(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Sn(this.firestore,z4(this._delegate,function cae(t){return Bj("limitToLast",t),gC._create("limitToLast",t,"L")}(e)))}catch(n){throw In(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sn(this.firestore,z4(this._delegate,function lae(...t){return vC._create("startAt",t,!0)}(...e)))}catch(n){throw In(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sn(this.firestore,z4(this._delegate,function uae(...t){return vC._create("startAfter",t,!1)}(...e)))}catch(n){throw In(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sn(this.firestore,z4(this._delegate,function fae(...t){return yC._create("endBefore",t,!1)}(...e)))}catch(n){throw In(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sn(this.firestore,z4(this._delegate,function dae(...t){return yC._create("endAt",t,!0)}(...e)))}catch(n){throw In(n,"endAt()","Query.endAt()")}}isEqual(e){return oD(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function _ae(t){t=qt(t,Q1);const e=qt(t.firestore,z2),n=J2(e),r=new L4(e);return function Doe(t,e){const n=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(r=(0,G.Z)(function*(o,c,u){try{const p=yield Qy(o,c,!0),y=new wj(c,p.ir),b=y.sc(p.documents),H=y.applyChanges(b,!1);u.resolve(H.snapshot)}catch(p){const y=sl(p,`Failed to execute query '${c} against cache`);u.reject(y)}}),function(o,c,u){return r.apply(this,arguments)})(yield aC(t),e,n);var r})),n.promise}(n,t._query).then(o=>new E4(e,r,t,o))}(this._delegate):"server"===e?.source?function Mae(t){t=qt(t,Q1);const e=qt(t.firestore,z2),n=J2(e),r=new L4(e);return Nj(n,t._query,{source:"server"}).then(o=>new E4(e,r,t,o))}(this._delegate):function Cae(t){t=qt(t,Q1);const e=qt(t.firestore,z2),n=J2(e),r=new L4(e);return n$(t._query),Nj(n,t._query).then(o=>new E4(e,r,t,o))}(this._delegate),n.then(r=>new yD(this.firestore,new E4(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=_$(e),r=M$(e,o=>new yD(this.firestore,new E4(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return d$(this._delegate,n,r)}withConverter(e){return new Sn(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}class qae{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yD{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new qae(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Rf(this._firestore,r))})}isEqual(e){return l$(this._delegate,e._delegate)}}class hl extends Sn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ir(this.firestore,e):null}doc(e){try{return new Ir(this.firestore,void 0===e?lC(this._delegate):lC(this._delegate,e))}catch(n){throw In(n,"doc()","CollectionReference.doc()")}}add(e){return function bae(t,e){const n=qt(t.firestore,z2),r=lC(t),o=CC(t.converter,e);return dl(n,[dC(Qa(t.firestore),"addDoc",r._key,o,null!==t.converter,{}).toMutation(r._key,x2.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Ir(this.firestore,n))}isEqual(e){return Gj(this._delegate,e._delegate)}withConverter(e){return new hl(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}function tc(t){return qt(t,S2)}class CD{constructor(...e){this._delegate=new Ns(...e)}static documentId(){return new CD(U2.keyField().canonicalString())}isEqual(e){return(e=(0,rt.m9)(e))instanceof Ns&&this._delegate._internalPath.isEqual(e._internalPath)}}class nc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Pae(){return new cD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new nc(e)}static delete(){const e=function kae(){return new Lf("deleteField")}();return e._methodName="FieldValue.delete",new nc(e)}static arrayUnion(...e){const n=function Rae(...t){return new eae("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new nc(n)}static arrayRemove(...e){const n=function Oae(...t){return new tae("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new nc(n)}static increment(e){const n=function Fae(t){return new nae("increment",t)}(e);return n._methodName="FieldValue.increment",new nc(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Wae={Firestore:v$,GeoPoint:uC,Timestamp:L2,Blob:kf,Transaction:y$,WriteBatch:C$,DocumentReference:Ir,DocumentSnapshot:Pf,Query:Sn,QueryDocumentSnapshot:Rf,QuerySnapshot:yD,CollectionReference:hl,FieldPath:CD,FieldValue:nc,setLogLevel:function Gae(t){!function Tse(t){d4.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function Kae(t){(function Zae(t,e){t.INTERNAL.registerComponent(new Wr.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),o=n.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Wae)))})(t,(e,n)=>new v$(e,n,new $ae)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(Iie.Z);var w$=k(8645),Yae=k(3019),D4=k(4664);class Qae extends w$.x{constructor(e=1/0,n=1/0,r=dS){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:u}=this;n||(r.push(e),!o&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const u=n.now();let p=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)p=y;p&&r.splice(0,p+1)}}}var Jae=k(3020);function b$(t,e,n){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:n}=t):r=t??1/0,(0,Jae.B)({connector:()=>new Qae(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const H$=(0,k(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var ece=k(6232);function rce(t=ice){return(0,l4.e)((e,n)=>{let r=!1;e.subscribe((0,Ea.x)(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function ice(){return new H$}function V$(t,e){return(0,zO.m)(e)?(0,D4.w)(()=>t,e):(0,D4.w)(()=>t)}class pl{constructor(e){return e}}class MC{constructor(){return(0,kt.getApps)()}}const _D=new m.OlP("angularfire2._apps"),ace={provide:pl,useFactory:function oce(t){return t&&1===t.length?t[0]:new pl((0,kt.getApp)())},deps:[[new m.FiY,_D]]},cce={provide:MC,deps:[[new m.FiY,_D]]};function lce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new pl(r)}}let uce=(()=>{class t{constructor(n){(0,kt.registerVersion)("angularfire",H7.full,"core"),(0,kt.registerVersion)("angularfire",H7.full,"app"),(0,kt.registerVersion)("angular",m.q4F.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(m.Lbi))},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[ace,cce]}),t})();function MD(t,...e){return{ngModule:uce,providers:[{provide:_D,useFactory:lce(t),multi:!0,deps:[m.R0b,m.zs3,x0,...e]}]}}const wD=qv(kt.getApp,!0),bD=new Map,I$={activated:!1,tokenObservers:[]},fce={initialized:!1,enabled:!1};function $2(t){return bD.get(t)||Object.assign({},I$)}function wC(){return fce}const HD="https://content-firebaseappcheck.googleapis.com/v1",mce="exchangeDebugToken",S$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class vce{constructor(e,n,r,o,c){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,G.Z)(function*(){n.stop();try{n.pending=new rt.BH,yield function yce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new rt.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const J1=new rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bC(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function VD(t){if(!$2(t).activated)throw J1.create("use-before-activation",{appName:t.name})}function ID(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),o=Math.floor((e-3600*n*24-3600*r)/60),c=e-3600*n*24-3600*r-60*o;let u="";return n&&(u+=HC(n)+"d:"),r&&(u+=HC(r)+"h:"),u+=HC(o)+"m:"+HC(c)+"s",u}function HC(t){return 0===t?"00":t>=10?t.toString():"0"+t}function VC(t,e){return SD.apply(this,arguments)}function SD(){return SD=(0,G.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const S=yield o.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const c={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(t,c)}catch(S){throw J1.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw J1.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(S){throw J1.create("fetch-parse-error",{originalErrorMessage:S?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw J1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),H=Date.now();return{token:p.token,expireTimeMillis:H+b,issuedAtTimeMillis:H}}),SD.apply(this,arguments)}function z$(t,e){const{projectId:n,appId:r,apiKey:o}=t.options;return{url:`${HD}/projects/${n}/apps/${r}:${mce}?key=${o}`,body:{debug_token:e}}}const wce="firebase-app-check-database",bce=1,Of="firebase-app-check-store",E$="debug-token";let IC=null;function L$(){return IC||(IC=new Promise((t,e)=>{try{const n=indexedDB.open(wce,bce);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var o;e(J1.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Of,{keyPath:"compositeKey"})}}catch(n){e(J1.create("storage-open",{originalErrorMessage:n?.message}))}}),IC)}function x$(t,e){return zD.apply(this,arguments)}function zD(){return zD=(0,G.Z)(function*(t,e){const r=(yield L$()).transaction(Of,"readwrite"),c=r.objectStore(Of).put({compositeKey:t,value:e});return new Promise((u,p)=>{c.onsuccess=y=>{u()},r.onerror=y=>{var b;p(J1.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),zD.apply(this,arguments)}function D$(t){return ED.apply(this,arguments)}function ED(){return ED=(0,G.Z)(function*(t){const n=(yield L$()).transaction(Of,"readonly"),o=n.objectStore(Of).get(t);return new Promise((c,u)=>{o.onsuccess=p=>{const y=p.target.result;c(y?y.value:void 0)},n.onerror=p=>{var y;u(J1.create("storage-get",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),ED.apply(this,arguments)}function A$(t){return`${t.options.appId}-${t.name}`}const Ff=new Zr.Yd("@firebase/app-check");function LD(){return LD=(0,G.Z)(function*(t){if((0,rt.hl)()){let e;try{e=yield function Hce(t){return D$(A$(t))}(t)}catch(n){Ff.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),LD.apply(this,arguments)}function xD(t,e){return(0,rt.hl)()?function Vce(t,e){return x$(A$(t),e)}(t,e).catch(n=>{Ff.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function DD(){return DD=(0,G.Z)(function*(){let t;try{t=yield function Sce(){return D$(E$)}()}catch{}if(t)return t;{const e=(0,rt.k$)();return function Ice(t){return x$(E$,t)}(e).catch(n=>Ff.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),DD.apply(this,arguments)}function AD(){return wC().enabled}function TD(){return ND.apply(this,arguments)}function ND(){return ND=(0,G.Z)(function*(){const t=wC();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ND.apply(this,arguments)}const xce={error:"UNKNOWN_ERROR"};function Dce(t){return rt.US.encodeString(JSON.stringify(t),!1)}function SC(t){return kD.apply(this,arguments)}function kD(){return kD=(0,G.Z)(function*(t,e=!1){const n=t.app;VD(n);const r=$2(n);let c,o=r.token;if(o&&!ml(o)&&(r.token=void 0,o=void 0),!o){const y=yield r.cachedTokenPromise;y&&(ml(y)?o=y:yield xD(n,void 0))}if(!e&&o&&ml(o))return{token:o.token};let p,u=!1;if(AD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=VC(z$(n,yield TD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield xD(n,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),o=yield $2(n).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Ff.warn(y.message):Ff.error(y),c=y}return o?c?p=ml(o)?{token:o.token,internalError:c}:P$(c):(p={token:o.token},r.token=o,yield xD(n,o)):p=P$(c),u&&k$(n,p),p}),kD.apply(this,arguments)}function PD(){return PD=(0,G.Z)(function*(t){const e=t.app;VD(e);const{provider:n}=$2(e);if(AD()){const r=yield TD(),{token:o}=yield VC(z$(e,r),t.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield n.getToken();return{token:r}}}),PD.apply(this,arguments)}function RD(t,e,n,r){const{app:o}=t,c=$2(o);if(c.tokenObservers=[...c.tokenObservers,{next:n,error:r,type:e}],c.token&&ml(c.token)){const p=c.token;Promise.resolve().then(()=>{n({token:p.token}),N$(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>N$(t))}function OD(t,e){const n=$2(t),r=n.tokenObservers.filter(o=>o.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function N$(t){const{app:e}=t,n=$2(e);let r=n.tokenRefresher;r||(r=function Ace(t){const{app:e}=t;return new vce((0,G.Z)(function*(){let r;if(r=$2(e).token?yield SC(t,!0):yield SC(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$2(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},S$.RETRIAL_MIN_WAIT,S$.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function k$(t,e){const n=$2(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ml(t){return t.expireTimeMillis-Date.now()>0}function P$(t){return{token:Dce(xce),error:t}}class Tce{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$2(this.app);for(const n of e)OD(this.app,n.next);return Promise.resolve()}}function Bce(t,e){const n=new rt.BH;$2(t).reCAPTCHAState={initialized:n};const o=function R$(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),c=bC(!1);return c?zC(t,e,c,o,n):function $ce(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const u=bC(!1);if(!u)throw new Error("no recaptcha");zC(t,e,u,o,n)}),n.promise}function zC(t,e,n,r,o){n.ready(()=>{(function jce(t,e,n,r){const o=n.render(r,{sitekey:e,size:"invisible",callback:()=>{$2(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{$2(t).reCAPTCHAState.succeeded=!1}}),c=$2(t);c.reCAPTCHAState=Object.assign(Object.assign({},c.reCAPTCHAState),{widgetId:o})})(t,e,n,r),o.resolve(n)})}function FD(){return FD=(0,G.Z)(function*(t){VD(t);const n=yield $2(t).reCAPTCHAState.initialized.promise;return new Promise((r,o)=>{const c=$2(t).reCAPTCHAState;n.ready(()=>{r(n.execute(c.widgetId,{action:"fire_app_check"}))})})}),FD.apply(this,arguments)}class Bf{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return(0,G.Z)(function*(){var n,r,o;!function j$(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw J1.create("throttled",{time:ID(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const c=yield function O$(t){return FD.apply(this,arguments)}(e._app).catch(p=>{throw J1.create("recaptcha-error")});if(null===(n=$2(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw J1.create("recaptcha-error");let u;try{u=yield VC(function _ce(t,e){const{projectId:n,appId:r,apiKey:o}=t.options;return{url:`${HD}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${o}`,body:{recaptcha_v3_token:e}}}(e._app,c),e._heartbeatServiceProvider)}catch(p){throw null!==(r=p.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function U$(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=(0,rt.$s)(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(o=p.customData)||void 0===o?void 0:o.httpStatus),e._throttleData),J1.create("throttled",{time:ID(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):p}return e._throttleData=null,u})()}initialize(e){this._app=e,this._heartbeatServiceProvider=(0,kt._getProvider)(e,"heartbeat"),Bce(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Bf&&this._siteKey===e._siteKey}}function qce(t=(0,kt.getApp)(),e){t=(0,rt.m9)(t);const n=(0,kt._getProvider)(t,"app-check");if(wC().initialized||function Lce(){const t=(0,rt.Rd)(),e=wC();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new rt.BH;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Ece(){return DD.apply(this,arguments)}())}(),AD()&&TD().then(o=>console.log(`App Check debug token: ${o}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(c.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&c.provider.isEqual(e.provider))return o;throw J1.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function Wce(t,e,n){const r=function dce(t,e){return bD.set(t,e),bD.get(t)}(t,Object.assign({},I$));r.activated=!0,r.provider=e,r.cachedTokenPromise=function zce(t){return LD.apply(this,arguments)}(t).then(o=>(o&&ml(o)&&(r.token=o,k$(t,{token:o.token})),o)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),$2(t).isTokenAutoRefreshEnabled&&RD(r,"INTERNAL",()=>{}),r}const $$="app-check-internal";!function Kce(){(0,kt._registerComponent)(new Wr.wA("app-check",t=>function Nce(t,e){return new Tce(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($$).initialize()})),(0,kt._registerComponent)(new Wr.wA($$,t=>function kce(t){return{getToken:e=>SC(t,e),getLimitedUseToken:()=>function T$(t){return PD.apply(this,arguments)}(t),addTokenListener:e=>RD(t,"INTERNAL",e),removeTokenListener:e=>OD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,kt.registerVersion)("@firebase/app-check","0.8.0")}();const G$="app-check";class UD{constructor(e){return e}}class Uf{constructor(){return uE(G$)}}const jD=new m.OlP("angularfire2.app-check-instances"),Qce=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function Jce(t){return(e,n,r)=>{var o;!H1(r)&&((0,m.X6Q)()||Qce)&&(null!==(o=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==o||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const c=e.runOutsideAngular(()=>t(n));return new UD(c)}}const Xce={provide:Uf,deps:[[new m.FiY,jD]]},e6e={provide:UD,useFactory:function Yce(t,e){const n=lE(G$,t,e);return n&&new UD(n)},deps:[[new m.FiY,jD],pl,m.Lbi]};let t6e=(()=>{class t{constructor(){(0,kt.registerVersion)("angularfire",H7.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[e6e,Xce]}),t})();function $D(t,...e){return{ngModule:t6e,providers:[{provide:jD,useFactory:Jce(t),multi:!0,deps:[m.R0b,m.zs3,m.Lbi,x0,MC,...e]}]}}const GD=qv(qce,!0);var qD=k(7142);const q$=new m.OlP("angularfire2.auth.use-emulator"),W$=new m.OlP("angularfire2.auth.settings"),Z$=new m.OlP("angularfire2.auth.tenant-id"),K$=new m.OlP("angularfire2.auth.langugage-code"),Y$=new m.OlP("angularfire2.auth.use-device-language"),Q$=new m.OlP("angularfire.auth.persistence"),J$=(t,e,n,r,o,c,u,p)=>(0,or.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const y=e.runOutsideAngular(()=>t.auth());if(n&&y.useEmulator(...n),r&&(y.tenantId=r),y.languageCode=o,c&&y.useDeviceLanguage(),u)for(const[b,H]of Object.entries(u))y.settings[b]=H;return p&&y.setPersistence(p),y},[n,r,o,c,u,p]);let EC=(()=>{class t{constructor(n,r,o,c,u,p,y,b,H,S,N,U){const ae=new w$.x,Ce=(0,I0.of)(void 0).pipe((0,E0.Q)(u.outsideAngular),(0,D4.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,sr.U)(()=>(0,or.on)(n,c,r)),(0,sr.U)(Me=>J$(Me,c,p,b,H,S,y,N)),b$({bufferSize:1,refCount:!1}));if(H1(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,I0.of)(null);else{Ce.pipe(function sce(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wv((o,c)=>t(o,c,r)):EO.y,function tce(t){return t<=0?()=>ece.E:(0,l4.e)((e,n)=>{let r=0;e.subscribe((0,Ea.x)(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}(1),n?function nce(t){return(0,l4.e)((e,n)=>{let r=!1;e.subscribe((0,Ea.x)(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}(e):rce(()=>new H$))}()).subscribe();const je=Ce.pipe((0,D4.w)(at=>at.getRedirectResult().then(dt=>dt,()=>null)),ir,b$({bufferSize:1,refCount:!1})),qe=Ce.pipe((0,D4.w)(at=>new M7.y(dt=>({unsubscribe:c.runOutsideAngular(()=>at.onAuthStateChanged(xt=>dt.next(xt),xt=>dt.error(xt),()=>dt.complete()))})))),Ze=Ce.pipe((0,D4.w)(at=>new M7.y(dt=>({unsubscribe:c.runOutsideAngular(()=>at.onIdTokenChanged(xt=>dt.next(xt),xt=>dt.error(xt),()=>dt.complete()))}))));this.authState=je.pipe(V$(qe),(0,b7.R)(u.outsideAngular),(0,E0.Q)(u.insideAngular)),this.user=je.pipe(V$(Ze),(0,b7.R)(u.outsideAngular),(0,E0.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,D4.w)(at=>at?(0,Ha.D)(at.getIdToken()):(0,I0.of)(null))),this.idTokenResult=this.user.pipe((0,D4.w)(at=>at?(0,Ha.D)(at.getIdTokenResult()):(0,I0.of)(null))),this.credential=(0,Yae.T)(je,ae,this.authState.pipe(Wv(at=>!at))).pipe((0,sr.U)(at=>at?.user?at:null),(0,b7.R)(u.outsideAngular),(0,E0.Q)(u.insideAngular))}return(0,or.pX)(this,Ce,c,{spy:{apply:(Me,je,qe)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&qe.then(Ze=>ae.next(Ze))}}})}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(or.Dh),m.LFG(or.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(x0),m.LFG(q$,8),m.LFG(W$,8),m.LFG(Z$,8),m.LFG(K$,8),m.LFG(Y$,8),m.LFG(Q$,8),m.LFG(Uf,8))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function X$(t,e){return function r6e(t,e=bR){return new M7.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function WD(t,e){return X$(t,e).pipe((0,sr.U)(n=>({payload:n,type:"query"})))}function LC(t,e){return WD(t,e).pipe(fE(void 0),dE(),(0,sr.U)(([n,r])=>{const o=r.payload.docChanges(),c=o.map(u=>({type:u.type,payload:u}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const y=o.find(H=>H.doc.ref.isEqual(u.ref)),b=n?.payload.docs.find(H=>H.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||c.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),c}))}function eG(t,e,n){return LC(t,n).pipe(hE((r,o)=>function s6e(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function o6e(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ZD(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ZD(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ZD(t,e.oldIndex,1)}return t}(t,r))}),t}(r,o.map(c=>c.payload),e),[]),(0,Vie.x)(),(0,sr.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function ZD(t,e,n,...r){const o=t.slice();return o.splice(e,n,...r),o}function tG(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class nG{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=LC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,sr.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),n.pipe(fE(void 0),dE(),Wv(([r,o])=>o.length>0||!r),(0,sr.U)(([r,o])=>o),ir)}auditTrail(e){return this.stateChanges(e).pipe(hE((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=tG(e);return eG(this.query,n,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return WD(this.query,this.afs.schedulers.outsideAngular).pipe((0,sr.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ir)}get(e){return(0,Ha.D)(this.query.get(e)).pipe(ir)}add(e){return this.ref.add(e)}doc(e){return new rG(this.ref.doc(e),this.afs)}}class rG{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:o,query:c}=iG(r,n);return new nG(o,c,this.afs)}snapshotChanges(){return function i6e(t,e){return X$(t,e).pipe(fE(void 0),dE(),(0,sr.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return this.snapshotChanges().pipe((0,sr.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,Ha.D)(this.ref.get(e)).pipe(ir)}}class a6e{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?LC(this.query,this.afs.schedulers.outsideAngular).pipe((0,sr.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Wv(n=>n.length>0),ir):LC(this.query,this.afs.schedulers.outsideAngular).pipe(ir)}auditTrail(e){return this.stateChanges(e).pipe(hE((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=tG(e);return eG(this.query,n,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return WD(this.query,this.afs.schedulers.outsideAngular).pipe((0,sr.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),ir)}get(e){return(0,Ha.D)(this.query.get(e)).pipe(ir)}}const c6e=new m.OlP("angularfire2.enableFirestorePersistence"),l6e=new m.OlP("angularfire2.firestore.persistenceSettings"),u6e=new m.OlP("angularfire2.firestore.settings"),f6e=new m.OlP("angularfire2.firestore.use-emulator");function iG(t,e=(n=>n)){return{query:e(t),ref:t}}let KD=(()=>{class t{constructor(n,r,o,c,u,p,y,b,H,S,N,U,ae,Ce,Me,je,qe){this.schedulers=y;const Ze=(0,or.on)(n,p,r),at=H;S&&J$(Ze,p,N,ae,Ce,Me,U,je),[this.firestore,this.persistenceEnabled$]=(0,or.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const dt=p.runOutsideAngular(()=>Ze.firestore());if(c&&dt.settings(c),at&&dt.useEmulator(...at),o&&!H1(u)){const xt=()=>{try{return(0,Ha.D)(dt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(D2){return typeof console<"u"&&console.warn(D2),(0,I0.of)(!1)}};return[dt,p.runOutsideAngular(xt)]}return[dt,(0,I0.of)(!1)]},[c,at,o])}collection(n,r){let o;o="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:u}=iG(o,r),p=this.schedulers.ngZone.run(()=>c);return new nG(p,u,this)}collectionGroup(n,r){const o=r||(u=>u),c=this.firestore.collectionGroup(n);return new a6e(o(c),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const o=this.schedulers.ngZone.run(()=>r);return new rG(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(or.Dh),m.LFG(or.xv,8),m.LFG(c6e,8),m.LFG(u6e,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(x0),m.LFG(l6e,8),m.LFG(f6e,8),m.LFG(EC,8),m.LFG(q$,8),m.LFG(W$,8),m.LFG(Z$,8),m.LFG(K$,8),m.LFG(Y$,8),m.LFG(Q$,8),m.LFG(Uf,8))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),sG=(()=>{var t;class e{constructor(){this.firestore=(0,m.f3M)(KD),this.dgAPI=(0,m.f3M)(Rv)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){this.firestore.collection("scans",o=>o.where("location","==",r.planetScan.location).limit(1)).get().subscribe(o=>{let c=Object.assign(new pR,o.docChanges().map(u=>u.doc.data())[0]);c.location=r.planetScan.location,c.turn=r.planetScan.turn,c.owner=r.planetScan.owner,(r.type==on.RESOURCE||r.type==on.SURFACE)&&(c.orbit=r.planetScan.orbit,c.ground=r.planetScan.ground),r.type==on.RESOURCE&&(c.resources.length>0?c.resources.forEach((u,p)=>{u.abundance=r.planetScan.resources[p].abundance,u.name=r.planetScan.resources[p].name}):c.resources=r.planetScan.resources),r.type==on.SURFACE&&(c.resources=r.planetScan.resources,c.workers=r.planetScan.workers,c.soldiers=r.planetScan.soldiers,c.structures=r.planetScan.structures),r.type==on.FLEET&&(c.fleets=r.planetScan.fleets),0==o.size?this.firestore.collection("scans").add(JSON.parse(JSON.stringify(c))):this.firestore.collection("scans").doc(o.docs[0].id).set(JSON.parse(JSON.stringify(c)))})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),d6e=(()=>{var t;class e{constructor(){this.scansService=(0,m.f3M)(sG)}ngOnInit(){let r=this.scansService.extractScan();null!=r&&this.scansService.updateScan(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-shared-scans-collector"]],decls:2,vars:0,consts:[[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,o){1&r&&(m.TgZ(0,"p",0),m._uU(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),m.qZA())}}),e})();const Ps={firebase:{apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6LfICx0oAAAAAEd5kbT41ZHF2Zbgba9ocRB7guP6"}}};var oG=k(6878);class YD{constructor(e){return e}}class cG{constructor(){return uE("auth")}}const QD=new m.OlP("angularfire2.auth-instances");function p6e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new YD(r)}}const m6e={provide:cG,deps:[[new m.FiY,QD]]},g6e={provide:YD,useFactory:function h6e(t,e){const n=lE("auth",t,e);return n&&new YD(n)},deps:[[new m.FiY,QD],pl]};let v6e=(()=>{class t{constructor(){(0,kt.registerVersion)("angularfire",H7.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[g6e,m6e]}),t})();function JD(t,...e){return{ngModule:v6e,providers:[{provide:QD,useFactory:p6e(t),multi:!0,deps:[m.R0b,m.zs3,x0,MC,[new m.FiY,Uf],...e]}]}}const XD=qv(oG.o,!0);class eA{constructor(e){return e}}const lG="firestore",tA=new m.OlP("angularfire2.firestore-instances");function _6e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new eA(r)}}const M6e={provide:class y6e{constructor(){return uE(lG)}},deps:[[new m.FiY,tA]]},w6e={provide:eA,useFactory:function C6e(t,e){const n=lE(lG,t,e);return n&&new eA(n)},deps:[[new m.FiY,tA],pl]};let b6e=(()=>{class t{constructor(){(0,kt.registerVersion)("angularfire",H7.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[w6e,M6e]}),t})();function nA(t,...e){return{ngModule:b6e,providers:[{provide:tA,useFactory:_6e(t),multi:!0,deps:[m.R0b,m.zs3,x0,MC,[new m.FiY,cG],[new m.FiY,Uf],...e]}]}}const rA=qv(Boe,!0);var H6e=qD.Z.initializeApp;let V6e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[d6e]}),t.\u0275inj=m.cJS({providers:[{provide:or.Dh,useValue:Ps.firebase},sG],imports:[vr,fS,MD(()=>H6e(Ps.firebase)),JD(()=>XD()),nA(()=>rA()),$D(()=>GD(wD(),{provider:new Bf(Ps.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),uG=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(we),this.resourceProductionFormatterPipe=(0,m.f3M)(uS),this.decimalPipe=(0,m.f3M)(Te),this.dgAPI=(0,m.f3M)(Rv),this.firestore=(0,m.f3M)(KD)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let o=r.map(c=>c.location.join("."));this.firestore.collection("scans",c=>c.where("location","in",o)).get().subscribe(c=>{let p=Object.assign([],c.docChanges().map(y=>y.doc.data())).reduce((y,b)=>y.set(b.location,b),new Map);this.document.querySelectorAll("div.navigation div.planets").forEach(y=>{let b=y.querySelector("div.coords > span").textContent.trim(),H=p.get(b);if(H){y.querySelector(".dgt-navigation-scan-turn .dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(H.turn,"1.0","en_US"),H.resources.forEach(N=>{y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+N.name+" .abundance").textContent=N.abundance.toString()+"%",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+N.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(N.production).trim()});let S=H.structures.map(N=>N.name);if(S.includes(an.JUMP_GATE)){let N=document.createElement("span");N.classList.add("dgt-navigation-scan-jg"),N.textContent="JG",y.querySelector(".coords").append(N)}if(S.includes(an.HYPERSPACE_BEACON)){let N=document.createElement("span");N.classList.add("dgt-navigation-scan-hb"),N.textContent="HB",y.querySelector(".coords").append(N)}if(H.workers.currentNumber>0||H.soldiers>0){y.querySelector(".dgt-navigation-scan-population .dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(H.workers.currentNumber,"1.0","en_US"),y.querySelector(".dgt-navigation-scan-population .dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(H.soldiers,"1.0","en_US");let N=H.workers.currentNumber/15+H.soldiers/2*3+1;y.querySelector(".dgt-navigation-scan-invasion-value").textContent=this.decimalPipe.transform(Math.ceil(N),"1.0","en_US"),y.querySelector(".dgt-navigation-scan-population").style.display="",y.querySelector(".dgt-navigation-scan-invasion-data").style.display=""}}else y.querySelector(".dgt-navigation-scan-turn .dgt-navigation-scan-turn-value").textContent="N/A",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.metal .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.mineral .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.food .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.energy .abundance").textContent="-"})})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function I6e(t,e){1&t&&(m.TgZ(0,"p",1),m._uU(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),m.qZA())}let S6e=(()=>{var t;class e{constructor(){this.scansService=(0,m.f3M)(uG),this.auth=(0,m.f3M)(EC),this.active=!1}ngOnInit(){this.authSubscription=this.auth.authState.subscribe(r=>{if(r){this.active=!0;let o=this.scansService.extractSummaries();o.length>0&&this.scansService.fillScans(o)}else this.active=!1})}ngOnDestroy(){this.authSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,o){1&r&&m.YNc(0,I6e,2,0,"p",0),2&r&&m.Q6J("ngIf",o.active)},dependencies:[Fs]}),e})(),iA=(()=>{var t;class e{constructor(){this.auth=(0,m.f3M)(EC),this.firestore=(0,m.f3M)(KD),this._isLoggedIn=!1,this.subscription=this.auth.authState.subscribe(r=>{null!=r?this.firestore.collection("users",o=>o.where("email","==",r.email).limit(1)).get().subscribe(o=>{1==o.size&&Object.assign({email:"",enabled:!1},o.docChanges().map(u=>u.doc.data())[0]).enabled?(localStorage.setItem("user",JSON.stringify(r)),console.log(localStorage.getItem("user")),this._isLoggedIn=!0):this.signOut(!1)}):(console.log("logout"),localStorage.removeItem("user"),this._isLoggedIn=!1)})}ngOnDestroy(){this.subscription.unsubscribe()}signIn(r,o){return this.auth.signInWithEmailAndPassword(r,o).catch(c=>{window.alert(c.message)})}signInWithGoogle(){this.auth.signInWithPopup(new oG.V).then(r=>{console.log("google: "+r.user.email)})}signOut(r){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),r&&location.reload()})}get isLoggedIn(){return this._isLoggedIn}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function z6e(t,e){if(1&t){const n=m.EpF();m.TgZ(0,"div",2)(1,"span"),m._uU(2,"DarkGalaxy Tools Login"),m.qZA(),m._UZ(3,"input",3,4)(5,"input",5,6),m.TgZ(7,"button",7),m.NdJ("click",function(){m.CHM(n);const o=m.MAs(4),c=m.MAs(6),u=m.oxw();return m.KtG(u.authService.signIn(o.value,c.value))}),m._uU(8,"Login"),m.qZA(),m.TgZ(9,"button",7),m.NdJ("click",function(){m.CHM(n);const o=m.oxw();return m.KtG(o.authService.signInWithGoogle())}),m._uU(10,"Login with Google"),m.qZA()()}}function E6e(t,e){if(1&t){const n=m.EpF();m.TgZ(0,"div",8)(1,"button",7),m.NdJ("click",function(){m.CHM(n);const o=m.oxw();return m.KtG(o.authService.signOut(!0))}),m._uU(2,"Logout"),m.qZA()()}}let L6e=(()=>{var t;class e{constructor(){this.authService=(0,m.f3M)(iA),this.localStorage=localStorage}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["type","text","placeholder","email","required",""],["userName",""],["type","password","placeholder","password","required",""],["userPassword",""],[3,"click"],["id","dgt-logout",1,"logout"]],template:function(r,o){1&r&&(m.YNc(0,z6e,11,0,"div",0),m.YNc(1,E6e,3,0,"div",1)),2&r&&(m.Q6J("ngIf",null==o.localStorage.getItem("user")),m.xp6(1),m.Q6J("ngIf",null!=o.localStorage.getItem("user")))},dependencies:[Fs],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;padding:10px;position:relative}.login[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:block;border-radius:3px;font-size:14px;background:#fff;width:50%;border:0;padding:5px 5px 5px 10px;margin:5px 0}.logout[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{cursor:pointer;color:#fff;font-size:16px;width:80px;border:0;padding:5px 0;margin-top:5px;margin-right:10px;border-radius:3px;background-color:#f45b69;transition:background-color .3s}.logout[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover, .login[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#f24353}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}"]}),e})();var x6e=qD.Z.initializeApp;let fG=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[L6e]}),t.\u0275inj=m.cJS({providers:[iA,{provide:or.Dh,useValue:Ps.firebase}],imports:[vr,MD(()=>x6e(Ps.firebase)),JD(()=>XD()),nA(()=>rA()),$D(()=>GD(wD(),{provider:new Bf(Ps.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var D6e=qD.Z.initializeApp;let A6e=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[S6e]}),t.\u0275inj=m.cJS({providers:[{provide:or.Dh,useValue:Ps.firebase},Te,uS,uG,iA],imports:[vr,fG,MD(()=>D6e(Ps.firebase)),JD(()=>XD()),nA(()=>rA()),$D(()=>GD(wD(),{provider:new Bf(Ps.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),fS]}),e})();const jf=Ic();let Rs=window.location.pathname.split(/\//g);jf.bootstrapModule(fG).catch(t=>console.error(t)),jf.bootstrapModule(O2e).catch(t=>console.error(t)),"planets"===Rs[1]&&jf.bootstrapModule(a1e).catch(t=>console.error(t)),"planet"===Rs[1]&&"comms"===(5===Rs.length&&Rs[3])&&jf.bootstrapModule(V6e).catch(t=>console.error(t)),"navigation"===Rs[1]&&6===Rs.length&&!isNaN(+Rs[2])&&!isNaN(+Rs[3])&&!isNaN(+Rs[4])&&jf.bootstrapModule(A6e).catch(t=>console.error(t))},3018:(ht,Ie,k)=>{k.d(Ie,{y:()=>O});var m=k(1887),R=k(7394),T=k(4850),oe=k(2737);var xe=k(2653),Pe=k(4674),Ee=k(1441);let O=(()=>{class He{constructor(le){le&&(this._subscribe=le)}lift(le){const be=new He;return be.source=this,be.operator=le,be}subscribe(le,be,Ae){const Ke=function Re(He){return He&&He instanceof m.Lv||function re(He){return He&&(0,Pe.m)(He.next)&&(0,Pe.m)(He.error)&&(0,Pe.m)(He.complete)}(He)&&(0,R.Nn)(He)}(le)?le:new m.Hp(le,be,Ae);return(0,Ee.x)(()=>{const{operator:Je,source:Z}=this;Ke.add(Je?Je.call(Ke,Z):Z?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(le){try{return this._subscribe(le)}catch(be){le.error(be)}}forEach(le,be){return new(be=B(be))((Ae,Ke)=>{const Je=new m.Hp({next:Z=>{try{le(Z)}catch(ue){Ke(ue),Je.unsubscribe()}},error:Ke,complete:Ae});this.subscribe(Je)})}_subscribe(le){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(le)}[T.L](){return this}pipe(...le){return function we(He){return 0===He.length?oe.y:1===He.length?He[0]:function(le){return He.reduce((be,Ae)=>Ae(be),le)}}(le)(this)}toPromise(le){return new(le=B(le))((be,Ae)=>{let Ke;this.subscribe(Je=>Ke=Je,Je=>Ae(Je),()=>be(Ke))})}}return He.create=st=>new He(st),He})();function B(He){var st;return null!==(st=He??xe.config.Promise)&&void 0!==st?st:Promise}},8645:(ht,Ie,k)=>{k.d(Ie,{x:()=>xe});var m=k(3018),R=k(7394);const oe=(0,k(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(9039),we=k(1441);let xe=(()=>{class Ee extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const re=new Pe(this,this);return re.operator=B,re}_throwIfClosed(){if(this.closed)throw new oe}next(B){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(B)}})}error(B){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:re}=this;for(;re.length;)re.shift().error(B)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:re,isStopped:Re,observers:He}=this;return re||Re?R.Lc:(this.currentObservers=null,He.push(B),new R.w0(()=>{this.currentObservers=null,(0,me.P)(He,B)}))}_checkFinalizedStatuses(B){const{hasError:re,thrownError:Re,isStopped:He}=this;re?B.error(Re):He&&B.complete()}asObservable(){const B=new m.y;return B.source=this,B}}return Ee.create=(O,B)=>new Pe(O,B),Ee})();class Pe extends xe{constructor(O,B){super(),this.destination=O,this.source=B}next(O){var B,re;null===(re=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===re||re.call(B,O)}error(O){var B,re;null===(re=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===re||re.call(B,O)}complete(){var O,B;null===(B=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===B||B.call(O)}_subscribe(O){var B,re;return null!==(re=null===(B=this.source)||void 0===B?void 0:B.subscribe(O))&&void 0!==re?re:R.Lc}}},1887:(ht,Ie,k)=>{k.d(Ie,{Hp:()=>le,Lv:()=>re});var m=k(4674),R=k(7394),T=k(2653),oe=k(3894);function me(){}const we=Ee("C",void 0,void 0);function Ee(Z,ue,J){return{kind:Z,value:ue,error:J}}var O=k(7599),B=k(1441);class re extends R.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,R.Nn)(ue)&&ue.add(this)):this.destination=Je}static create(ue,J,pe){return new le(ue,J,pe)}next(ue){this.isStopped?Ke(function Pe(Z){return Ee("N",Z,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?Ke(function xe(Z){return Ee("E",void 0,Z)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?Ke(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function He(Z,ue){return Re.call(Z,ue)}class st{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:J}=this;if(J.next)try{J.next(ue)}catch(pe){be(pe)}}error(ue){const{partialObserver:J}=this;if(J.error)try{J.error(ue)}catch(pe){be(pe)}else be(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(J){be(J)}}}class le extends re{constructor(ue,J,pe){let Le;if(super(),(0,m.m)(ue)||!ue)Le={next:ue??void 0,error:J??void 0,complete:pe??void 0};else{let K;this&&T.config.useDeprecatedNextContext?(K=Object.create(ue),K.unsubscribe=()=>this.unsubscribe(),Le={next:ue.next&&He(ue.next,K),error:ue.error&&He(ue.error,K),complete:ue.complete&&He(ue.complete,K)}):Le=ue}this.destination=new st(Le)}}function be(Z){T.config.useDeprecatedSynchronousErrorHandling?(0,B.O)(Z):(0,oe.h)(Z)}function Ke(Z,ue){const{onStoppedNotification:J}=T.config;J&&O.z.setTimeout(()=>J(Z,ue))}const Je={closed:!0,next:me,error:function Ae(Z){throw Z},complete:me}},7394:(ht,Ie,k)=>{k.d(Ie,{Lc:()=>we,w0:()=>me,Nn:()=>xe});var m=k(4674);const T=(0,k(2306).d)(Ee=>function(B){Ee(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((re,Re)=>`${Re+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var oe=k(9039);class me{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const He of B)He.remove(this);else B.remove(this);const{initialTeardown:re}=this;if((0,m.m)(re))try{re()}catch(He){O=He instanceof T?He.errors:[He]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const He of Re)try{Pe(He)}catch(st){O=O??[],st instanceof T?O=[...O,...st.errors]:O.push(st)}}if(O)throw new T(O)}}add(O){var B;if(O&&O!==this)if(this.closed)Pe(O);else{if(O instanceof me){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(O)}}_hasParent(O){const{_parentage:B}=this;return B===O||Array.isArray(B)&&B.includes(O)}_addParent(O){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(O),B):B?[B,O]:O}_removeParent(O){const{_parentage:B}=this;B===O?this._parentage=null:Array.isArray(B)&&(0,oe.P)(B,O)}remove(O){const{_finalizers:B}=this;B&&(0,oe.P)(B,O),O instanceof me&&O._removeParent(this)}}me.EMPTY=(()=>{const Ee=new me;return Ee.closed=!0,Ee})();const we=me.EMPTY;function xe(Ee){return Ee instanceof me||Ee&&"closed"in Ee&&(0,m.m)(Ee.remove)&&(0,m.m)(Ee.add)&&(0,m.m)(Ee.unsubscribe)}function Pe(Ee){(0,m.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(ht,Ie,k)=>{k.d(Ie,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,Ie,k)=>{k.d(Ie,{E:()=>R});const R=new(k(3018).y)(me=>me.complete())},2459:(ht,Ie,k)=>{k.d(Ie,{D:()=>ue});var m=k(4829),R=k(3093),T=k(5137),we=k(3018),Pe=k(4971),Ee=k(4674),O=k(7103);function re(J,pe){if(!J)throw new Error("Iterable cannot be null");return new we.y(Le=>{(0,O.f)(Le,pe,()=>{const K=J[Symbol.asyncIterator]();(0,O.f)(Le,pe,()=>{K.next().then(et=>{et.done?Le.complete():Le.next(et.value)})},0,!0)})})}var Re=k(8382),He=k(4026),st=k(4266),le=k(3664),be=k(5726),Ae=k(9853),Ke=k(541);function ue(J,pe){return pe?function Z(J,pe){if(null!=J){if((0,Re.c)(J))return function oe(J,pe){return(0,m.Xf)(J).pipe((0,T.R)(pe),(0,R.Q)(pe))}(J,pe);if((0,st.z)(J))return function xe(J,pe){return new we.y(Le=>{let K=0;return pe.schedule(function(){K===J.length?Le.complete():(Le.next(J[K++]),Le.closed||this.schedule())})})}(J,pe);if((0,He.t)(J))return function me(J,pe){return(0,m.Xf)(J).pipe((0,T.R)(pe),(0,R.Q)(pe))}(J,pe);if((0,be.D)(J))return re(J,pe);if((0,le.T)(J))return function B(J,pe){return new we.y(Le=>{let K;return(0,O.f)(Le,pe,()=>{K=J[Pe.h](),(0,O.f)(Le,pe,()=>{let et,nt;try{({value:et,done:nt}=K.next())}catch(Dt){return void Le.error(Dt)}nt?Le.complete():Le.next(et)},0,!0)}),()=>(0,Ee.m)(K?.return)&&K.return()})}(J,pe);if((0,Ke.L)(J))return function Je(J,pe){return re((0,Ke.Q)(J),pe)}(J,pe)}throw(0,Ae.z)(J)}(J,pe):(0,m.Xf)(J)}},4829:(ht,Ie,k)=>{k.d(Ie,{Xf:()=>Re});var m=k(7582),R=k(4266),T=k(4026),oe=k(3018),me=k(8382),we=k(5726),xe=k(9853),Pe=k(3664),Ee=k(541),O=k(4674),B=k(3894),re=k(4850);function Re(Z){if(Z instanceof oe.y)return Z;if(null!=Z){if((0,me.c)(Z))return function He(Z){return new oe.y(ue=>{const J=Z[re.L]();if((0,O.m)(J.subscribe))return J.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Z);if((0,R.z)(Z))return function st(Z){return new oe.y(ue=>{for(let J=0;J<Z.length&&!ue.closed;J++)ue.next(Z[J]);ue.complete()})}(Z);if((0,T.t)(Z))return function le(Z){return new oe.y(ue=>{Z.then(J=>{ue.closed||(ue.next(J),ue.complete())},J=>ue.error(J)).then(null,B.h)})}(Z);if((0,we.D)(Z))return Ae(Z);if((0,Pe.T)(Z))return function be(Z){return new oe.y(ue=>{for(const J of Z)if(ue.next(J),ue.closed)return;ue.complete()})}(Z);if((0,Ee.L)(Z))return function Ke(Z){return Ae((0,Ee.Q)(Z))}(Z)}throw(0,xe.z)(Z)}function Ae(Z){return new oe.y(ue=>{(function Je(Z,ue){var J,pe,Le,K;return(0,m.mG)(this,void 0,void 0,function*(){try{for(J=(0,m.KL)(Z);!(pe=yield J.next()).done;)if(ue.next(pe.value),ue.closed)return}catch(et){Le={error:et}}finally{try{pe&&!pe.done&&(K=J.return)&&(yield K.call(J))}finally{if(Le)throw Le.error}}ue.complete()})})(Z,ue).catch(J=>ue.error(J))})}},3019:(ht,Ie,k)=>{k.d(Ie,{T:()=>we});var m=k(2372),R=k(4829),T=k(6232),oe=k(4564),me=k(2459);function we(...xe){const Pe=(0,oe.yG)(xe),Ee=(0,oe._6)(xe,1/0),O=xe;return O.length?1===O.length?(0,R.Xf)(O[0]):(0,m.J)(Ee)((0,me.D)(O,Pe)):T.E}},2096:(ht,Ie,k)=>{k.d(Ie,{of:()=>T});var m=k(4564),R=k(2459);function T(...oe){const me=(0,m.yG)(oe);return(0,R.D)(oe,me)}},8251:(ht,Ie,k)=>{k.d(Ie,{x:()=>R});var m=k(1887);function R(oe,me,we,xe,Pe){return new T(oe,me,we,xe,Pe)}class T extends m.Lv{constructor(me,we,xe,Pe,Ee,O){super(me),this.onFinalize=Ee,this.shouldUnsubscribe=O,this._next=we?function(B){try{we(B)}catch(re){me.error(re)}}:super._next,this._error=Pe?function(B){try{Pe(B)}catch(re){me.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(B){me.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},3997:(ht,Ie,k)=>{k.d(Ie,{x:()=>oe});var m=k(2737),R=k(9360),T=k(8251);function oe(we,xe=m.y){return we=we??me,(0,R.e)((Pe,Ee)=>{let O,B=!0;Pe.subscribe((0,T.x)(Ee,re=>{const Re=xe(re);(B||!we(O,Re))&&(B=!1,O=Re,Ee.next(re))}))})}function me(we,xe){return we===xe}},7398:(ht,Ie,k)=>{k.d(Ie,{U:()=>T});var m=k(9360),R=k(8251);function T(oe,me){return(0,m.e)((we,xe)=>{let Pe=0;we.subscribe((0,R.x)(xe,Ee=>{xe.next(oe.call(me,Ee,Pe++))}))})}},2372:(ht,Ie,k)=>{k.d(Ie,{J:()=>O});var m=k(7398),R=k(4829),T=k(9360),oe=k(7103),me=k(8251),xe=k(4674);function Pe(B,re,Re=1/0){return(0,xe.m)(re)?Pe((He,st)=>(0,m.U)((le,be)=>re(He,le,st,be))((0,R.Xf)(B(He,st))),Re):("number"==typeof re&&(Re=re),(0,T.e)((He,st)=>function we(B,re,Re,He,st,le,be,Ae){const Ke=[];let Je=0,Z=0,ue=!1;const J=()=>{ue&&!Ke.length&&!Je&&re.complete()},pe=K=>Je<He?Le(K):Ke.push(K),Le=K=>{le&&re.next(K),Je++;let et=!1;(0,R.Xf)(Re(K,Z++)).subscribe((0,me.x)(re,nt=>{st?.(nt),le?pe(nt):re.next(nt)},()=>{et=!0},void 0,()=>{if(et)try{for(Je--;Ke.length&&Je<He;){const nt=Ke.shift();be?(0,oe.f)(re,be,()=>Le(nt)):Le(nt)}J()}catch(nt){re.error(nt)}}))};return B.subscribe((0,me.x)(re,pe,()=>{ue=!0,J()})),()=>{Ae?.()}}(He,st,B,Re)))}var Ee=k(2737);function O(B=1/0){return Pe(Ee.y,B)}},3093:(ht,Ie,k)=>{k.d(Ie,{Q:()=>oe});var m=k(7103),R=k(9360),T=k(8251);function oe(me,we=0){return(0,R.e)((xe,Pe)=>{xe.subscribe((0,T.x)(Pe,Ee=>(0,m.f)(Pe,me,()=>Pe.next(Ee),we),()=>(0,m.f)(Pe,me,()=>Pe.complete(),we),Ee=>(0,m.f)(Pe,me,()=>Pe.error(Ee),we)))})}},3020:(ht,Ie,k)=>{k.d(Ie,{B:()=>me});var m=k(4829),R=k(8645),T=k(1887),oe=k(9360);function me(xe={}){const{connector:Pe=(()=>new R.x),resetOnError:Ee=!0,resetOnComplete:O=!0,resetOnRefCountZero:B=!0}=xe;return re=>{let Re,He,st,le=0,be=!1,Ae=!1;const Ke=()=>{He?.unsubscribe(),He=void 0},Je=()=>{Ke(),Re=st=void 0,be=Ae=!1},Z=()=>{const ue=Re;Je(),ue?.unsubscribe()};return(0,oe.e)((ue,J)=>{le++,!Ae&&!be&&Ke();const pe=st=st??Pe();J.add(()=>{le--,0===le&&!Ae&&!be&&(He=we(Z,B))}),pe.subscribe(J),!Re&&le>0&&(Re=new T.Hp({next:Le=>pe.next(Le),error:Le=>{Ae=!0,Ke(),He=we(Je,Ee,Le),pe.error(Le)},complete:()=>{be=!0,Ke(),He=we(Je,O),pe.complete()}}),(0,m.Xf)(ue).subscribe(Re))})(re)}}function we(xe,Pe,...Ee){if(!0===Pe)return void xe();if(!1===Pe)return;const O=new T.Hp({next:()=>{O.unsubscribe(),xe()}});return(0,m.Xf)(Pe(...Ee)).subscribe(O)}},5137:(ht,Ie,k)=>{k.d(Ie,{R:()=>R});var m=k(9360);function R(T,oe=0){return(0,m.e)((me,we)=>{we.add(T.schedule(()=>me.subscribe(we),oe))})}},4664:(ht,Ie,k)=>{k.d(Ie,{w:()=>oe});var m=k(4829),R=k(9360),T=k(8251);function oe(me,we){return(0,R.e)((xe,Pe)=>{let Ee=null,O=0,B=!1;const re=()=>B&&!Ee&&Pe.complete();xe.subscribe((0,T.x)(Pe,Re=>{Ee?.unsubscribe();let He=0;const st=O++;(0,m.Xf)(me(Re,st)).subscribe(Ee=(0,T.x)(Pe,le=>Pe.next(we?we(Re,le,st,He++):le),()=>{Ee=null,re()}))},()=>{B=!0,re()}))})}},7599:(ht,Ie,k)=>{k.d(Ie,{z:()=>m});const m={setTimeout(R,T,...oe){const{delegate:me}=m;return me?.setTimeout?me.setTimeout(R,T,...oe):setTimeout(R,T,...oe)},clearTimeout(R){const{delegate:T}=m;return(T?.clearTimeout||clearTimeout)(R)},delegate:void 0}},4971:(ht,Ie,k)=>{k.d(Ie,{h:()=>R});const R=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,Ie,k)=>{k.d(Ie,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ht,Ie,k)=>{k.d(Ie,{_6:()=>we,yG:()=>me});var m=k(4674);function T(xe){return xe[xe.length-1]}function me(xe){return function R(xe){return xe&&(0,m.m)(xe.schedule)}(T(xe))?xe.pop():void 0}function we(xe,Pe){return"number"==typeof T(xe)?xe.pop():Pe}},9039:(ht,Ie,k)=>{function m(R,T){if(R){const oe=R.indexOf(T);0<=oe&&R.splice(oe,1)}}k.d(Ie,{P:()=>m})},2306:(ht,Ie,k)=>{function m(R){const oe=R(me=>{Error.call(me),me.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(Ie,{d:()=>m})},1441:(ht,Ie,k)=>{k.d(Ie,{O:()=>oe,x:()=>T});var m=k(2653);let R=null;function T(me){if(m.config.useDeprecatedSynchronousErrorHandling){const we=!R;if(we&&(R={errorThrown:!1,error:null}),me(),we){const{errorThrown:xe,error:Pe}=R;if(R=null,xe)throw Pe}}else me()}function oe(me){m.config.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=me)}},7103:(ht,Ie,k)=>{function m(R,T,oe,me=0,we=!1){const xe=T.schedule(function(){oe(),we?R.add(this.schedule(null,me)):this.unsubscribe()},me);if(R.add(xe),!we)return xe}k.d(Ie,{f:()=>m})},2737:(ht,Ie,k)=>{function m(R){return R}k.d(Ie,{y:()=>m})},4266:(ht,Ie,k)=>{k.d(Ie,{z:()=>m});const m=R=>R&&"number"==typeof R.length&&"function"!=typeof R},5726:(ht,Ie,k)=>{k.d(Ie,{D:()=>R});var m=k(4674);function R(T){return Symbol.asyncIterator&&(0,m.m)(T?.[Symbol.asyncIterator])}},4674:(ht,Ie,k)=>{function m(R){return"function"==typeof R}k.d(Ie,{m:()=>m})},8382:(ht,Ie,k)=>{k.d(Ie,{c:()=>T});var m=k(4850),R=k(4674);function T(oe){return(0,R.m)(oe[m.L])}},3664:(ht,Ie,k)=>{k.d(Ie,{T:()=>T});var m=k(4971),R=k(4674);function T(oe){return(0,R.m)(oe?.[m.h])}},4026:(ht,Ie,k)=>{k.d(Ie,{t:()=>R});var m=k(4674);function R(T){return(0,m.m)(T?.then)}},541:(ht,Ie,k)=>{k.d(Ie,{L:()=>oe,Q:()=>T});var m=k(7582),R=k(4674);function T(me){return(0,m.FC)(this,arguments,function*(){const xe=me.getReader();try{for(;;){const{value:Pe,done:Ee}=yield(0,m.qq)(xe.read());if(Ee)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Pe)}}finally{xe.releaseLock()}})}function oe(me){return(0,R.m)(me?.getReader)}},9360:(ht,Ie,k)=>{k.d(Ie,{e:()=>T});var m=k(4674);function T(oe){return me=>{if(function R(oe){return(0,m.m)(oe?.lift)}(me))return me.lift(function(we){try{return oe(we,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3894:(ht,Ie,k)=>{k.d(Ie,{h:()=>T});var m=k(2653),R=k(7599);function T(oe){R.z.setTimeout(()=>{const{onUnhandledError:me}=m.config;if(!me)throw oe;me(oe)})}},9853:(ht,Ie,k)=>{function m(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>m})},7989:(ht,Ie,k)=>{k.d(Ie,{AFp:()=>ad,hGG:()=>YV,Ojb:()=>B_,sBO:()=>NV,EJc:()=>rV,SBq:()=>k3,qLn:()=>fs,OlP:()=>Yt,zs3:()=>Xn,ZZ4:()=>Z5,aQg:()=>K5,soG:()=>p0,h0i:()=>ys,R0b:()=>E1,FiY:()=>ts,Lbi:()=>q8,g9A:()=>G8,Qsj:()=>eM,FYo:()=>md,JOm:()=>t6,q3G:()=>as,Rgc:()=>da,dDg:()=>bV,eoX:()=>kg,q4F:()=>gd,GfV:()=>eu,s_b:()=>a0,ifc:()=>_e,Lck:()=>qb,eFA:()=>Fg,f3M:()=>$e,X6Q:()=>TV,_c5:()=>KV,rg0:()=>Zf,zSh:()=>U8,wAp:()=>Y3,vHH:()=>Z,lri:()=>Tg,rWj:()=>Ng,JZr:()=>Je,EiD:()=>p6,mCW:()=>Fo,qzn:()=>L3,JVY:()=>p_,pB0:()=>v_,eBb:()=>g_,L6k:()=>m_,LAX:()=>D8,cg1:()=>J6,kL8:()=>Np,dqk:()=>Lt,QGY:()=>$6,F4k:()=>Bh,RDi:()=>c_,AaK:()=>re,z3N:()=>Cr,TTD:()=>yc,xp6:()=>uu,uIk:()=>bu,ekj:()=>$u,Xpm:()=>Bs,lG2:()=>$s,Yz7:()=>bt,cJS:()=>m2,oAB:()=>B4,Yjl:()=>Gs,Y36:()=>R3,_UZ:()=>j6,qZA:()=>U6,TgZ:()=>B6,EpF:()=>Fh,Ikx:()=>Q6,LFG:()=>Ne,$8M:()=>di,NdJ:()=>G6,oxw:()=>Wh,ALo:()=>Am,lcZ:()=>Tm,Dn7:()=>Nm,Hsn:()=>Kh,F$t:()=>Zh,Q6J:()=>Du,DdM:()=>Hm,VKq:()=>Vm,MAs:()=>F6,KtG:()=>o3,CHM:()=>Vc,oJD:()=>J9,Akn:()=>tr,YNc:()=>Th,_uU:()=>vp,Oqu:()=>Ku});var m=k(8645),R=k(7394);class T extends m.x{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const a=super._subscribe(s);return!a.closed&&s.next(this._value),a}getValue(){const{hasError:s,thrownError:a,_value:l}=this;if(s)throw a;return this._throwIfClosed(),l}next(s){super.next(this._value=s)}}var oe=k(3018),me=k(3019),we=k(2096),xe=k(3020),Pe=k(4664),Ee=k(3997);function O(i){for(let s in i)if(i[s]===O)return s;throw Error("Could not find renamed property on target object.")}function re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Re(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const He=O({__forward_ref__:O});function st(i){return i.__forward_ref__=st,i.toString=function(){return re(this())},i}function le(i){return function be(i){return"function"==typeof i&&i.hasOwnProperty(He)&&i.__forward_ref__===st}(i)?i():i}function Ae(i){return i&&!!i.\u0275providers}const Je="https://g.co/ng/security#xss";class Z extends Error{constructor(s,a){super(function ue(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function J(i){return"string"==typeof i?i:null==i?"":String(i)}function nt(i,s){throw new Z(-201,!1)}function Qe(i,s){null==i&&function ke(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function bt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function m2(i){return{providers:i.providers||[],imports:i.imports||[]}}function g2(i){return E2(i,s1)||E2(i,o1)}function E2(i,s){return i.hasOwnProperty(s)?i[s]:null}function P1(i){return i&&(i.hasOwnProperty(v2)||i.hasOwnProperty(zn))?i[v2]:null}const s1=O({\u0275prov:O}),v2=O({\u0275inj:O}),o1=O({ngInjectableDef:O}),zn=O({ngInjectorDef:O});var ut=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(ut||{});let Mt;function jt(i){const s=Mt;return Mt=i,s}function a1(i,s,a){const l=g2(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ut.Optional?null:void 0!==s?s:void nt(re(i))}const Lt=globalThis,c2={},Fn="__NG_DI_FLAG__",O1="ngTempTokenPath",F=/\n/gm,x="__source";let D;function q(i){const s=D;return D=i,s}function de(i,s=ut.Default){if(void 0===D)throw new Z(-203,!1);return null===D?a1(i,void 0,s):D.get(i,s&ut.Optional?null:void 0,s)}function Ne(i,s=ut.Default){return(function Ct(){return Mt}()||de)(le(i),s)}function $e(i,s=ut.Default){return Ne(i,Ft(s))}function Ft(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function vt(i){const s=[];for(let a=0;a<i.length;a++){const l=le(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Z(900,!1);let f,d=ut.Default;for(let v=0;v<l.length;v++){const C=l[v],w=It(C);"number"==typeof w?-1===w?f=C.token:d|=w:f=C}s.push(Ne(f,d))}else s.push(Ne(l))}return s}function Xt(i,s){return i[Fn]=s,i.prototype[Fn]=s,i}function It(i){return i[Fn]}function se(i){return{toString:i}.toString()}var Y=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Y||{}),_e=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(_e||{});const Ye={},Oe=[],Vt=O({\u0275cmp:O}),Bt=O({\u0275dir:O}),A2=O({\u0275pipe:O}),l2=O({\u0275mod:O}),e1=O({\u0275fac:O}),Bn=O({__NG_ELEMENT_ID__:O}),Os=O({__NG_ENV_ID__:O});function A4(i,s,a){let l=i.length;for(;;){const f=i.indexOf(s,a);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const d=s.length;if(f+d===l||i.charCodeAt(f+d)<=32)return f}a=f+1}}function Ai(i,s,a){let l=0;for(;l<a.length;){const f=a[l];if("number"==typeof f){if(0!==f)break;l++;const d=a[l++],v=a[l++],C=a[l++];i.setAttribute(s,v,C,d)}else{const d=f,v=a[++l];Ti(d)?i.setProperty(s,d,v):i.setAttribute(s,d,v),l++}}return l}function Un(i){return 3===i||4===i||6===i}function Ti(i){return 64===i.charCodeAt(0)}function Ni(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?a=f:0===a||T4(i,a,f,null,-1===a||2===a?s[++l]:null)}}return i}function T4(i,s,a,l,f){let d=0,v=i.length;if(-1===s)v=-1;else for(;d<i.length;){const C=i[d++];if("number"==typeof C){if(C===s){v=-1;break}if(C>s){v=d-1;break}}}for(;d<i.length;){const C=i[d];if("number"==typeof C)break;if(C===a){if(null===l)return void(null!==f&&(i[d+1]=f));if(l===i[d+1])return void(i[d+2]=f)}d++,null!==l&&d++,null!==f&&d++}-1!==v&&(i.splice(v,0,s),d=v+1),i.splice(d++,0,a),null!==l&&i.splice(d++,0,l),null!==f&&i.splice(d++,0,f)}const u2="ng-template";function gl(i,s,a){let l=0,f=!0;for(;l<i.length;){let d=i[l++];if("string"==typeof d&&f){const v=i[l++];if(a&&"class"===d&&-1!==A4(v.toLowerCase(),s,0))return!0}else{if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}"number"==typeof d&&(f=!1)}}return!1}function Fs(i){return 4===i.type&&i.value!==u2}function vl(i,s,a){return s===(4!==i.type||a?i.value:u2)}function N4(i,s,a){let l=4;const f=i.attrs||[],d=function ki(i){for(let s=0;s<i.length;s++)if(Un(i[s]))return s;return i.length}(f);let v=!1;for(let C=0;C<s.length;C++){const w=s[C];if("number"!=typeof w){if(!v)if(4&l){if(l=2|1&l,""!==w&&!vl(i,w,a)||""===w&&1===s.length){if(b1(l))return!1;v=!0}}else{const V=8&l?w:s[++C];if(8&l&&null!==i.attrs){if(!gl(i.attrs,V,a)){if(b1(l))return!1;v=!0}continue}const A=k4(8&l?"class":w,f,Fs(i),a);if(-1===A){if(b1(l))return!1;v=!0;continue}if(""!==V){let j;j=A>d?"":f[A+1].toLowerCase();const W=8&l?j:null;if(W&&-1!==A4(W,V,0)||2&l&&V!==j){if(b1(l))return!1;v=!0}}}}else{if(!v&&!b1(l)&&!b1(w))return!1;if(v&&b1(w))continue;v=!1,l=w|1&l}}return b1(l)||v}function b1(i){return 0==(1&i)}function k4(i,s,a,l){if(null===s)return-1;let f=0;if(l||!a){let d=!1;for(;f<s.length;){const v=s[f];if(v===i)return f;if(3===v||6===v)d=!0;else{if(1===v||2===v){let C=s[++f];for(;"string"==typeof C;)C=s[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=d?1:2}return-1}return function R4(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function P4(i,s,a=!1){for(let l=0;l<s.length;l++)if(N4(i,s[l],a))return!0;return!1}function rc(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let f=0;f<i.length;f++)if(i[f]!==l[f])continue e;return!0}}return!1}function ic(i,s){return i?":not("+s.trim()+")":s}function sc(i){let s=i[0],a=1,l=2,f="",d=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const C=i[++a];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?f+="."+v:4&l&&(f+=" "+v);else""!==f&&!b1(v)&&(s+=ic(d,f),f=""),l=v,d=d||!b1(l);a++}return""!==f&&(s+=ic(d,f)),s}function Bs(i){return se(()=>{const s=oc(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||_e.Emulated,styles:i.styles||Oe,_:null,schemas:i.schemas||null,tView:null,id:""};qs(a);const l=i.dependencies;return a.directiveDefs=dr(l,!1),a.pipeDefs=dr(l,!0),a.id=function Ws(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const f of a)s=Math.imul(31,s)+f.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Us(i){return Pt(i)||q2(i)}function F4(i){return null!==i}function B4(i){return se(()=>({type:i.type,bootstrap:i.bootstrap||Oe,declarations:i.declarations||Oe,imports:i.imports||Oe,exports:i.exports||Oe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function js(i,s){if(null==i)return Ye;const a={};for(const l in i)if(i.hasOwnProperty(l)){let f=i[l],d=f;Array.isArray(f)&&(d=f[1],f=f[0]),a[f]=l,s&&(s[f]=d)}return a}function $s(i){return se(()=>{const s=oc(i);return qs(s),s})}function Gs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Pt(i){return i[Vt]||null}function q2(i){return i[Bt]||null}function W2(i){return i[A2]||null}function oc(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Ye,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Oe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:js(i.inputs,s),outputs:js(i.outputs)}}function qs(i){i.features?.forEach(s=>s(i))}function dr(i,s){if(!i)return null;const a=s?W2:Us;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(F4)}const f2=0,Te=1,wt=2,n2=3,B1=4,$n=5,u1=6,zr=7,d2=8,Gn=9,hr=10,pt=11,Ri=12,Cl=13,H1=14,T2=15,ei=16,U1=17,V1=18,pr=19,ac=20,Er=21,qn=22,j4=23,Cn=24,Rt=25,G4=1,Oi=2,f1=7,ti=9,N2=11;function I1(i){return Array.isArray(i)&&"object"==typeof i[G4]}function h1(i){return Array.isArray(i)&&!0===i[G4]}function q4(i){return 0!=(4&i.flags)}function Wn(i){return i.componentOffset>-1}function Bi(i){return 1==(1&i.flags)}function X1(i){return!!i.template}function ni(i){return 0!=(512&i[wt])}function Zn(i,s){return i.hasOwnProperty(e1)?i[e1]:null}let Ys=Lt.WeakRef??class qf{constructor(s){this.ref=s}deref(){return this.ref}},Wf=0,En=null,Lr=!1;function Z2(i){const s=En;return En=i,s}class Ll{constructor(){this.id=Wf++,this.ref=function dc(i){return new Ys(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,a]of this.producers){const l=a.producerNode.deref();if(null!=l&&a.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(s),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Lr;Lr=!0;try{for(const[a,l]of this.consumers){const f=l.consumerNode.deref();null!=f&&f.trackingVersion===l.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),f?.producers.delete(this.id))}}finally{Lr=s}}producerAccessed(){if(Lr)throw new Error("");if(null===En)return;let s=En.producers.get(this.id);void 0===s?(s={consumerNode:En.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:En.trackingVersion},En.producers.set(this.id,s),this.consumers.set(En.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=En.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==En?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Js=null;function Zf(i){const s=Z2(null);try{return i()}finally{Z2(s)}}const Al=()=>{};class Tl extends Ll{constructor(s,a,l){super(),this.watch=s,this.schedule=a,this.dirty=!1,this.cleanupFn=Al,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Z2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Al,this.watch(this.registerOnCleanup)}finally{Z2(s)}}cleanup(){this.cleanupFn()}}class vc{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function yc(){return ii}function ii(i){return i.type.prototype.ngOnChanges&&(i.setInput=e3),Nl}function Nl(){const i=t3(this),s=i?.current;if(s){const a=i.previous;if(a===Ye)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function e3(i,s,a,l){const f=this.declaredInputs[a],d=t3(i)||function Ui(i,s){return i[Cc]=s}(i,{previous:Ye,current:null}),v=d.current||(d.current={}),C=d.previous,w=C[f];v[f]=new vc(w&&w.currentValue,s,C===Ye),i[l]=s}yc.ngInherit=!0;const Cc="__ngSimpleChanges__";function t3(i){return i[Cc]||null}const Kn=function(i,s,a){};function e2(i){for(;Array.isArray(i);)i=i[f2];return i}function n3(i,s){return e2(s[i])}function p1(i,s){return e2(s[i.index])}function si(i,s){return i.data[s]}function S1(i,s){return i[s]}function t1(i,s){const a=s[i];return I1(a)?a:a[f2]}function xr(i,s){return null==s?null:i[s]}function wc(i){i[U1]=0}function Bl(i){1024&i[wt]||(i[wt]|=1024,$i(i,1))}function ji(i){1024&i[wt]&&(i[wt]&=-1025,$i(i,-1))}function $i(i,s){let a=i[n2];if(null===a)return;a[$n]+=s;let l=a;for(a=a[n2];null!==a&&(1===s&&1===l[$n]||-1===s&&0===l[$n]);)a[$n]+=s,l=a,a=a[n2]}const yt={lFrame:Zl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hc(){return yt.bindingsEnabled}function gr(){return null!==yt.skipHydrationRootTNode}function ve(){return yt.lFrame.lView}function Ot(){return yt.lFrame.tView}function Vc(i){return yt.lFrame.contextLView=i,i[d2]}function o3(i){return yt.lFrame.contextLView=null,i}function O2(){let i=Ic();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ic(){return yt.lFrame.currentTNode}function _n(i,s){const a=yt.lFrame;a.currentTNode=i,a.isParent=s}function Dr(){return yt.lFrame.isParent}function vr(){yt.lFrame.isParent=!1}function n1(){const i=yt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function j1(){return yt.lFrame.bindingIndex++}function Mn(i){const s=yt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function zc(i,s){const a=yt.lFrame;a.bindingIndex=a.bindingRootIndex=i,so(s)}function so(i){yt.lFrame.currentDirectiveIndex=i}function xc(i){yt.lFrame.currentQueryIndex=i}function Qf(i){const s=i[Te];return 2===s.type?s.declTNode:1===s.type?i[u1]:null}function ql(i,s,a){if(a&ut.SkipSelf){let f=s,d=i;for(;!(f=f.parent,null!==f||a&ut.Host||(f=Qf(d),null===f||(d=d[H1],10&f.type))););if(null===f)return!1;s=f,i=d}const l=yt.lFrame=Wl();return l.currentTNode=s,l.lView=i,!0}function qi(i){const s=Wl(),a=i[Te];yt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Wl(){const i=yt.lFrame,s=null===i?null:i.child;return null===s?Zl(i):s}function Zl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function oo(){const i=yt.lFrame;return yt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const l3=oo;function u3(){const i=oo();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function z1(){return yt.lFrame.selectedIndex}function ai(i){yt.lFrame.selectedIndex=i}function a2(){const i=yt.lFrame;return si(i.tView,i.selectedIndex)}let f3=!0;function d3(){return f3}function xn(i){f3=i}function ci(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const d=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:V,ngOnDestroy:z}=d;v&&(i.contentHooks??=[]).push(-a,v),C&&((i.contentHooks??=[]).push(a,C),(i.contentCheckHooks??=[]).push(a,C)),w&&(i.viewHooks??=[]).push(-a,w),V&&((i.viewHooks??=[]).push(a,V),(i.viewCheckHooks??=[]).push(a,V)),null!=z&&(i.destroyHooks??=[]).push(a,z)}}function Ar(i,s,a){h3(i,s,3,a)}function li(i,s,a,l){(3&i[wt])===a&&h3(i,s,a,l)}function ao(i,s){let a=i[wt];(3&a)===s&&(a&=8191,a+=1,i[wt]=a)}function h3(i,s,a,l){const d=l??-1,v=s.length-1;let C=0;for(let w=void 0!==l?65535&i[U1]:0;w<v;w++)if("number"==typeof s[w+1]){if(C=s[w],null!=l&&C>=l)break}else s[w]<0&&(i[U1]+=65536),(C<d||-1==d)&&(Tr(i,a,s,w),i[U1]=(4294901760&i[U1])+w+2),w++}function Nc(i,s){Kn(4,i,s);const a=Z2(null);try{s.call(i)}finally{Z2(a),Kn(5,i,s)}}function Tr(i,s,a,l){const f=a[l]<0,d=a[l+1],C=i[f?-a[l]:a[l]];f?i[wt]>>13<i[U1]>>16&&(3&i[wt])===s&&(i[wt]+=8192,Nc(C,d)):Nc(C,d)}const Yn=-1;class Wi{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ki(i){return i!==Yn}function Yi(i){return 32767&i}function Nr(i,s){let a=function p3(i){return i>>16}(i),l=s;for(;a>0;)l=l[H1],a--;return l}let co=!0;function Dn(i){const s=co;return co=i,s}const Rc=255,m3=5;let lo=0;const en={};function ui(i,s){const a=uo(i,s);if(-1!==a)return a;const l=s[Te];l.firstCreatePass&&(i.injectorIndex=s.length,g3(l.data,i),g3(s,null),g3(l.blueprint,null));const f=v3(i,s),d=i.injectorIndex;if(Ki(f)){const v=Yi(f),C=Nr(f,s),w=C[Te].data;for(let V=0;V<8;V++)s[d+V]=C[v+V]|w[v+V]}return s[d+8]=f,d}function g3(i,s){i.push(0,0,0,0,0,0,0,0,s)}function uo(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function v3(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,f=s;for(;null!==f;){if(l=vo(f),null===l)return Yn;if(a++,f=f[H1],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Yn}function y3(i,s,a){!function t8(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Bn)&&(l=a[Bn]),null==l&&(l=a[Bn]=lo++);const f=l&Rc;s.data[i+(f>>m3)]|=1<<f}(i,s,a)}function Oc(i,s,a){if(a&ut.Optional||void 0!==i)return i;nt()}function ho(i,s,a,l){if(a&ut.Optional&&void 0===l&&(l=null),!(a&(ut.Self|ut.Host))){const f=i[Gn],d=jt(void 0);try{return f?f.get(s,l,a&ut.Optional):a1(s,l,a&ut.Optional)}finally{jt(d)}}return Oc(l,0,a)}function C3(i,s,a,l=ut.Default,f){if(null!==i){if(2048&s[wt]&&!(l&ut.Self)){const v=function r8(i,s,a,l,f){let d=i,v=s;for(;null!==d&&null!==v&&2048&v[wt]&&!(512&v[wt]);){const C=po(d,v,a,l|ut.Self,en);if(C!==en)return C;let w=d.parent;if(!w){const V=v[ac];if(V){const z=V.get(a,en,l);if(z!==en)return z}w=vo(v),v=v[H1]}d=w}return f}(i,s,a,l,en);if(v!==en)return v}const d=po(i,s,a,l,en);if(d!==en)return d}return ho(s,a,l,f)}function po(i,s,a,l,f){const d=function mo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Bn)?i[Bn]:void 0;return"number"==typeof s?s>=0?s&Rc:Fc:s}(a);if("function"==typeof d){if(!ql(s,i,l))return l&ut.Host?Oc(f,0,l):ho(s,a,l,f);try{let v;if(v=d(l),null!=v||l&ut.Optional)return v;nt()}finally{l3()}}else if("number"==typeof d){let v=null,C=uo(i,s),w=Yn,V=l&ut.Host?s[T2][u1]:null;for((-1===C||l&ut.SkipSelf)&&(w=-1===C?v3(i,s):s[C+8],w!==Yn&&M3(l,!1)?(v=s[Te],C=Yi(w),s=Nr(w,s)):C=-1);-1!==C;){const z=s[Te];if(_3(d,C,z.data)){const A=n8(C,s,a,v,l,V);if(A!==en)return A}w=s[C+8],w!==Yn&&M3(l,s[Te].data[C+8]===V)&&_3(d,C,s)?(v=z,C=Yi(w),s=Nr(w,s)):C=-1}}return f}function n8(i,s,a,l,f,d){const v=s[Te],C=v.data[i+8],z=function fi(i,s,a,l,f){const d=i.providerIndexes,v=s.data,C=1048575&d,w=i.directiveStart,z=d>>20,j=f?C+z:i.directiveEnd;for(let W=l?C:C+z;W<j;W++){const ce=v[W];if(W<w&&a===ce||W>=w&&ce.type===a)return W}if(f){const W=v[w];if(W&&X1(W)&&W.type===a)return w}return null}(C,v,a,null==l?Wn(C)&&co:l!=v&&0!=(3&C.type),f&ut.Host&&d===C);return null!==z?yr(s,v,z,C):en}function yr(i,s,a,l){let f=i[a];const d=s.data;if(function Yl(i){return i instanceof Wi}(f)){const v=f;v.resolving&&function Le(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Z(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():J(i)}(d[a]));const C=Dn(v.canSeeViewProviders);v.resolving=!0;const V=v.injectImpl?jt(v.injectImpl):null;ql(i,l,ut.Default);try{f=i[a]=v.factory(void 0,d,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Kl(i,s,a){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:d}=s.type.prototype;if(l){const v=ii(s);(a.preOrderHooks??=[]).push(i,v),(a.preOrderCheckHooks??=[]).push(i,v)}f&&(a.preOrderHooks??=[]).push(0-i,f),d&&((a.preOrderHooks??=[]).push(i,d),(a.preOrderCheckHooks??=[]).push(i,d))}(a,d[a],s)}finally{null!==V&&jt(V),Dn(C),v.resolving=!1,l3()}}return f}function _3(i,s,a){return!!(a[s+(i>>m3)]&1<<i)}function M3(i,s){return!(i&ut.Self||i&ut.Host&&s)}class r1{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return C3(this._tNode,this._lView,s,Ft(l),a)}}function Fc(){return new r1(O2(),ve())}function vo(i){const s=i[Te],a=s.type;return 2===a?s.declTNode:1===a?i[u1]:null}function di(i){return function fo(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let f=0;for(;f<l;){const d=a[f];if(Un(d))break;if(0===d)f+=2;else if("number"==typeof d)for(f++;f<l&&"string"==typeof a[f];)f++;else{if(d===s)return a[f+1];f+=2}}}return null}(O2(),i)}const Pr="__parameters__";function mi(i,s,a){return se(()=>{const l=function yo(i){return function(...a){if(i){const l=i(...a);for(const f in l)this[f]=l[f]}}}(s);function f(...d){if(this instanceof f)return l.apply(this,d),this;const v=new f(...d);return C.annotation=v,C;function C(w,V,z){const A=w.hasOwnProperty(Pr)?w[Pr]:Object.defineProperty(w,Pr,{value:[]})[Pr];for(;A.length<=z;)A.push(null);return(A[z]=A[z]||[]).push(v),w}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}function Rr(i,s){i.forEach(a=>Array.isArray(a)?Rr(a,s):s(a))}function _o(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function b3(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Xi(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function m1(i,s,a){let l=Qn(i,s);return l>=0?i[1|l]=a:(l=~l,function c8(i,s,a,l){let f=i.length;if(f==s)i.push(a,l);else if(1===f)i.push(l,i[0]),i[0]=a;else{for(f--,i.push(i[f-1],i[f]);f>s;)i[f]=i[f-2],f--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function wo(i,s){const a=Qn(i,s);if(a>=0)return i[1|a]}function Qn(i,s){return function bo(i,s,a){let l=0,f=i.length>>a;for(;f!==l;){const d=l+(f-l>>1),v=i[d<<a];if(s===v)return d<<a;v>s?f=d:l=d+1}return~(f<<a)}(i,s,1)}const ts=Xt(mi("Optional"),8),Io=Xt(mi("SkipSelf"),4);function e6(i){return 128==(128&i.flags)}var t6=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(t6||{});const g8=new Map;let FC=0;const y8="__ngContext__";function g1(i,s){I1(s)?(i[y8]=s[pr],function UC(i){g8.set(i[pr],i)}(s)):i[y8]=s}let M8;function r6(i,s){return M8(i,s)}function ko(i){const s=i[n2];return h1(s)?s[n2]:s}function M9(i){return b9(i[Ri])}function w9(i){return b9(i[B1])}function b9(i){for(;null!==i&&!h1(i);)i=i[B1];return i}function is(i,s,a,l,f){if(null!=l){let d,v=!1;h1(l)?d=l:I1(l)&&(v=!0,l=l[f2]);const C=e2(l);0===i&&null!==a?null==f?E9(s,a,C):ss(s,a,C,f||null,!0):1===i&&null!==a?ss(s,a,C,f||null,!0):2===i?function Po(i,s,a){const l=c6(i,s);l&&function x9(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,C,v):3===i&&s.destroyNode(C),null!=d&&function r_(i,s,a,l,f){const d=a[f1];d!==e2(a)&&is(s,i,l,d,f);for(let C=N2;C<a.length;C++){const w=a[C];Ro(w[Te],w,i,s,l,d)}}(s,i,d,a,f)}}function s6(i,s,a){return i.createElement(s,a)}function b8(i,s){const a=i[ti],l=a.indexOf(s);ji(s),a.splice(l,1)}function o6(i,s){if(i.length<=N2)return;const a=N2+s,l=i[a];if(l){const f=l[ei];null!==f&&f!==i&&b8(f,l),s>0&&(i[a-1][B1]=l[B1]);const d=b3(i,N2+s);!function QC(i,s){Ro(i,s,s[pt],2,null,null),s[f2]=null,s[u1]=null}(l[Te],l);const v=d[V1];null!==v&&v.detachView(d[Te]),l[n2]=null,l[B1]=null,l[wt]&=-129}return l}function a6(i,s){if(!(256&s[wt])){const a=s[pt];s[j4]?.destroy(),s[Cn]?.destroy(),a.destroyNode&&Ro(i,s,a,3,null,null),function XC(i){let s=i[Ri];if(!s)return H8(i[Te],i);for(;s;){let a=null;if(I1(s))a=s[Ri];else{const l=s[N2];l&&(a=l)}if(!a){for(;s&&!s[B1]&&s!==i;)I1(s)&&H8(s[Te],s),s=s[n2];null===s&&(s=i),I1(s)&&H8(s[Te],s),a=s&&s[B1]}s=a}}(s)}}function H8(i,s){if(!(256&s[wt])){s[wt]&=-129,s[wt]|=256,function t_(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const f=s[a[l]];if(!(f instanceof Wi)){const d=a[l+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const C=f[d[v]],w=d[v+1];Kn(4,C,w);try{w.call(C)}finally{Kn(5,C,w)}}else{Kn(4,f,d);try{d.call(f)}finally{Kn(5,f,d)}}}}}(i,s),function S9(i,s){const a=i.cleanup,l=s[zr];if(null!==a)for(let d=0;d<a.length-1;d+=2)if("string"==typeof a[d]){const v=a[d+3];v>=0?l[v]():l[-v].unsubscribe(),d+=2}else a[d].call(l[a[d+1]]);null!==l&&(s[zr]=null);const f=s[Er];if(null!==f){s[Er]=null;for(let d=0;d<f.length;d++)(0,f[d])()}}(i,s),1===s[Te].type&&s[pt].destroy();const a=s[ei];if(null!==a&&h1(s[n2])){a!==s[n2]&&b8(a,s);const l=s[V1];null!==l&&l.detachView(i)}!function jC(i){g8.delete(i[pr])}(s)}}function V8(i,s,a){return function z9(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[f2];{const{componentOffset:f}=l;if(f>-1){const{encapsulation:d}=i.data[l.directiveStart+f];if(d===_e.None||d===_e.Emulated)return null}return p1(l,a)}}(i,s.parent,a)}function ss(i,s,a,l,f){i.insertBefore(s,a,l,f)}function E9(i,s,a){i.appendChild(s,a)}function L9(i,s,a,l,f){null!==l?ss(i,s,a,l,f):E9(i,s,a)}function c6(i,s){return i.parentNode(s)}function A9(i,s,a){return T9(i,s,a)}let l6,f6,d6,Oo,T9=function I8(i,s,a){return 40&i.type?p1(i,a):null};function u6(i,s,a,l){const f=V8(i,l,s),d=s[pt],C=A9(l.parent||s[u1],l,s);if(null!=f)if(Array.isArray(a))for(let w=0;w<a.length;w++)L9(d,f,a[w],C,!1);else L9(d,f,a,C,!1);void 0!==l6&&l6(d,l,s,a,f)}function z3(i,s){if(null!==s){const a=s.type;if(3&a)return p1(s,i);if(4&a)return S8(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return z3(i,l);{const f=i[s.index];return h1(f)?S8(-1,f):e2(f)}}if(32&a)return r6(s,i)()||e2(i[s.index]);{const l=k9(i,s);return null!==l?Array.isArray(l)?l[0]:z3(ko(i[T2]),l):z3(i,s.next)}}return null}function k9(i,s){return null!==s?i[T2][u1].projection[s.projection]:null}function S8(i,s){const a=N2+i+1;if(a<s.length){const l=s[a],f=l[Te].firstChild;if(null!==f)return z3(l,f)}return s[f1]}function z8(i,s,a,l,f,d,v){for(;null!=a;){const C=l[a.index],w=a.type;if(v&&0===s&&(C&&g1(e2(C),l),a.flags|=2),32!=(32&a.flags))if(8&w)z8(i,s,a.child,l,f,d,!1),is(s,i,f,C,d);else if(32&w){const V=r6(a,l);let z;for(;z=V();)is(s,i,f,z,d);is(s,i,f,C,d)}else 16&w?R9(i,s,l,a,f,d):is(s,i,f,C,d);a=v?a.projectionNext:a.next}}function Ro(i,s,a,l,f,d){z8(a,l,i.firstChild,s,f,d,!1)}function R9(i,s,a,l,f,d){const v=a[T2],w=v[u1].projection[l.projection];if(Array.isArray(w))for(let V=0;V<w.length;V++)is(s,i,f,w[V],d);else{let V=w;const z=v[n2];e6(l)&&(V.flags|=128),z8(i,s,V,z,f,d,!0)}}function F9(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function B9(i,s,a){const{mergedAttrs:l,classes:f,styles:d}=a;null!==l&&Ai(i,s,l),null!==f&&F9(i,s,f),null!==d&&function O9(i,s,a){i.setAttribute(s,"style",a)}(i,s,d)}function os(i){return function E8(){if(void 0===f6&&(f6=null,Lt.trustedTypes))try{f6=Lt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return f6}()?.createHTML(i)||i}function c_(i){d6=i}function E3(){if(void 0!==d6)return d6;if(typeof document<"u")return document;throw new Z(210,!1)}function U9(i){return function L8(){if(void 0===Oo&&(Oo=null,Lt.trustedTypes))try{Oo=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Oo}()?.createHTML(i)||i}class vi{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class l_ extends vi{getTypeName(){return"HTML"}}class u_ extends vi{getTypeName(){return"Style"}}class f_ extends vi{getTypeName(){return"Script"}}class $9 extends vi{getTypeName(){return"URL"}}class d_ extends vi{getTypeName(){return"ResourceURL"}}function Cr(i){return i instanceof vi?i.changingThisBreaksApplicationSecurity:i}function L3(i,s){const a=function h_(i){return i instanceof vi&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Je})`)}return a===s}function p_(i){return new l_(i)}function m_(i){return new u_(i)}function g_(i){return new f_(i)}function D8(i){return new $9(i)}function v_(i){return new d_(i)}class q9{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(os(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class y_{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=os(s),a}}const __=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fo(i){return(i=String(i)).match(__)?i:"unsafe:"+i}function Fr(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function x3(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const W9=Fr("area,br,col,hr,img,wbr"),Z9=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),K9=Fr("rp,rt"),A8=x3(W9,x3(Z9,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x3(K9,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x3(K9,Z9)),T8=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Y9=x3(T8,Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Q9=Fr("script,style,template");class b_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let f=this.checkClobberedElement(a,a.nextSibling);if(f){a=f;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!A8.hasOwnProperty(a))return this.sanitizedSomething=!0,!Q9.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let f=0;f<l.length;f++){const d=l.item(f),v=d.name,C=v.toLowerCase();if(!Y9.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let w=d.value;T8[C]&&(w=Fo(w)),this.buf.push(" ",v,'="',N8(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();A8.hasOwnProperty(a)&&!W9.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(N8(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const H_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,V_=/([^\#-~ |!])/g;function N8(i){return i.replace(/&/g,"&amp;").replace(H_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(V_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let h6;function p6(i,s){let a=null;try{h6=h6||function G9(i){const s=new y_(i);return function C_(){try{return!!(new window.DOMParser).parseFromString(os(""),"text/html")}catch{return!1}}()?new q9(s):s}(i);let l=s?String(s):"";a=h6.getInertBodyElement(l);let f=5,d=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=d,d=a.innerHTML,a=h6.getInertBodyElement(l)}while(l!==d);return os((new b_).sanitizeChildren(k8(a)||a))}finally{if(a){const l=k8(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function k8(i){return"content"in i&&function I_(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var as=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(as||{});function J9(i){const s=function Bo(){const i=ve();return i&&i[hr].sanitizer}();return s?U9(s.sanitize(as.HTML,i)||""):L3(i,"HTML")?U9(Cr(i)):p6(E3(),J(i))}class Yt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=bt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Uo=new Yt("ENVIRONMENT_INITIALIZER"),td=new Yt("INJECTOR",-1),nd=new Yt("INJECTOR_DEF_TYPES");class m6{get(s,a=c2){if(a===c2){const l=new Error(`NullInjectorError: No provider for ${re(s)}!`);throw l.name="NullInjectorError",l}return a}}function D_(...i){return{\u0275providers:R8(0,i),\u0275fromNgModule:!0}}function R8(i,...s){const a=[],l=new Set;let f;const d=v=>{a.push(v)};return Rr(s,v=>{const C=v;cs(C,d,[],l)&&(f||=[],f.push(C))}),void 0!==f&&id(f,d),a}function id(i,s){for(let a=0;a<i.length;a++){const{ngModule:l,providers:f}=i[a];O8(f,d=>{s(d,l)})}}function cs(i,s,a,l){if(!(i=le(i)))return!1;let f=null,d=P1(i);const v=!d&&Pt(i);if(d||v){if(v&&!v.standalone)return!1;f=i}else{const w=i.ngModule;if(d=P1(w),!d)return!1;f=w}const C=l.has(f);if(v){if(C)return!1;if(l.add(f),v.dependencies){const w="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const V of w)cs(V,s,a,l)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let V;l.add(f);try{Rr(d.imports,z=>{cs(z,s,a,l)&&(V||=[],V.push(z))})}finally{}void 0!==V&&id(V,s)}if(!C){const V=Zn(f)||(()=>new f);s({provide:f,useFactory:V,deps:Oe},f),s({provide:nd,useValue:f,multi:!0},f),s({provide:Uo,useValue:()=>Ne(f),multi:!0},f)}const w=d.providers;if(null!=w&&!C){const V=i;O8(w,z=>{s(z,V)})}}}return f!==i&&void 0!==i.providers}function O8(i,s){for(let a of i)Ae(a)&&(a=a.\u0275providers),Array.isArray(a)?O8(a,s):s(a)}const A_=O({provide:String,useValue:O});function F8(i){return null!==i&&"object"==typeof i&&A_ in i}function ls(i){return"function"==typeof i}const U8=new Yt("Set Injector scope."),g6={},N_={};let j8;function jo(){return void 0===j8&&(j8=new m6),j8}class Br{}class v6 extends Br{get destroyed(){return this._destroyed}constructor(s,a,l,f){super(),this.parent=a,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$8(s,v=>this.processProvider(v)),this.records.set(td,D3(void 0,this)),f.has("environment")&&this.records.set(Br,D3(void 0,this));const d=this.records.get(U8);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(nd.multi,Oe,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=q(this),l=jt(void 0);try{return s()}finally{q(a),jt(l)}}get(s,a=c2,l=ut.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Os))return s[Os](this);l=Ft(l);const d=q(this),v=jt(void 0);try{if(!(l&ut.SkipSelf)){let w=this.records.get(s);if(void 0===w){const V=function O_(i){return"function"==typeof i||"object"==typeof i&&i instanceof Yt}(s)&&g2(s);w=V&&this.injectableDefInScope(V)?D3(y6(s),g6):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&ut.Self?jo():this.parent).get(s,a=l&ut.Optional&&a===c2?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[O1]=C[O1]||[]).unshift(re(s)),d)throw C;return function c1(i,s,a,l){const f=i[O1];throw s[x]&&f.unshift(s[x]),i.message=function Sr(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let f=re(s);if(Array.isArray(s))f=s.map(re).join(" -> ");else if("object"==typeof s){let d=[];for(let v in s)if(s.hasOwnProperty(v)){let C=s[v];d.push(v+":"+("string"==typeof C?JSON.stringify(C):re(C)))}f=`{${d.join(", ")}}`}return`${a}${l?"("+l+")":""}[${f}]: ${i.replace(F,"\n  ")}`}("\n"+i.message,f,a,l),i.ngTokenPath=f,i[O1]=null,i}(C,s,"R3InjectorError",this.source)}throw C}finally{jt(v),q(d)}}resolveInjectorInitializers(){const s=q(this),a=jt(void 0);try{const f=this.get(Uo.multi,Oe,ut.Self);for(const d of f)d()}finally{q(s),jt(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(re(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(s){let a=ls(s=le(s))?s:le(s&&s.provide);const l=function P_(i){return F8(i)?D3(void 0,i.useValue):D3(function od(i,s,a){let l;if(ls(i)){const f=le(i);return Zn(f)||y6(f)}if(F8(i))l=()=>le(i.useValue);else if(function B8(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...vt(i.deps||[]));else if(function sd(i){return!(!i||!i.useExisting)}(i))l=()=>Ne(le(i.useExisting));else{const f=le(i&&(i.useClass||i.provide));if(!function R_(i){return!!i.deps}(i))return Zn(f)||y6(f);l=()=>new f(...vt(i.deps))}return l}(i),g6)}(s);if(ls(s)||!0!==s.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=D3(void 0,g6,!0),f.factory=()=>vt(f.multi),this.records.set(a,f)),a=s,f.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===g6&&(a.value=N_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function C6(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=le(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function y6(i){const s=g2(i),a=null!==s?s.factory:Zn(i);if(null!==a)return a;if(i instanceof Yt)throw new Z(204,!1);if(i instanceof Function)return function k_(i){const s=i.length;if(s>0)throw Xi(s,"?"),new Z(204,!1);const a=function k1(i){return i&&(i[s1]||i[o1])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Z(204,!1)}function D3(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function $8(i,s){for(const a of i)Array.isArray(a)?$8(a,s):a&&Ae(a)?$8(a.\u0275providers,s):s(a)}const ad=new Yt("AppId",{providedIn:"root",factory:()=>F_}),F_="ng",G8=new Yt("Platform Initializer"),q8=new Yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B_=new Yt("CSP nonce",{providedIn:"root",factory:()=>E3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ld=(i,s,a)=>null;function Q8(i,s,a=!1){return ld(i,s,a)}class Y_{}class hd{}class Q_{resolveComponentFactory(s){throw function H6(i){const s=Error(`No component factory found for ${re(i)}.`);return s.ngComponent=i,s}(s)}}let Ko=(()=>{class s{}return s.NULL=new Q_,s})();function J_(){return N3(O2(),ve())}function N3(i,s){return new k3(p1(i,s))}let k3=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=J_,s})();class md{}let eM=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function tM(){const i=ve(),a=t1(O2().index,i);return(I1(a)?a:i)[pt]}(),s})(),nM=(()=>{var i;class s{}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>null}),s})();class eu{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const gd=new eu("16.2.1"),tu={};function _d(i,s=null,a=null,l){const f=Md(i,s,a,l);return f.resolveInjectorInitializers(),f}function Md(i,s=null,a=null,l,f=new Set){const d=[a||Oe,D_(i)];return l=l||("object"==typeof i?void 0:re(i)),new v6(d,s||jo(),l||null,f)}let Xn=(()=>{var i;class s{static create(l,f){if(Array.isArray(l))return _d({name:""},f,l,"");{const d=l.name??"";return _d({name:d},l.parent,l.providers,d)}}}return(i=s).THROW_IF_NOT_FOUND=c2,i.NULL=new m6,i.\u0275prov=bt({token:i,providedIn:"any",factory:()=>Ne(td)}),i.__NG_ELEMENT_ID__=-1,s})();let su=(()=>{var i;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Z(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const l of this.callbacks)l.invoke()}finally{this.runningCallbacks=!1;for(const l of this.deferredCallbacks)this.callbacks.add(l);this.deferredCallbacks.clear()}}register(l){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(l)}unregister(l){this.callbacks.delete(l),this.deferredCallbacks.delete(l)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>new i}),s})();function Yo(i){for(;i;){i[wt]|=64;const s=ko(i);if(ni(i)&&!s)return i;i=s}return null}function ou(i){return i.ngOriginalError}class fs{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ou(s);for(;a&&ou(a);)a=ou(a);return a||null}}const au=new Yt("",{providedIn:"root",factory:()=>!1});class xd extends Ll{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Yo(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,a,l){const f=Z2(this);this.trackingVersion++;try{s(a,l)}finally{Z2(f)}}destroy(){this.trackingVersion++}}let I6=null;function cu(){return I6??=new xd,I6}function Dd(i,s){return i[s]??cu()}function lu(i,s){const a=cu();a.hasReadASignal&&(i[s]=I6,a.lView=i,I6=new xd)}const St={};function uu(i){Ad(Ot(),ve(),z1()+i,!1)}function Ad(i,s,a,l){if(!l)if(3==(3&s[wt])){const d=i.preOrderCheckHooks;null!==d&&Ar(s,d,a)}else{const d=i.preOrderHooks;null!==d&&li(s,d,0,a)}ai(a)}function R3(i,s=ut.Default){const a=ve();return null===a?Ne(i,s):C3(O2(),a,le(i),s)}function Qo(i,s,a,l,f,d,v,C,w,V,z){const A=s.blueprint.slice();return A[f2]=f,A[wt]=140|l,(null!==V||i&&2048&i[wt])&&(A[wt]|=2048),wc(A),A[n2]=A[H1]=i,A[d2]=a,A[hr]=v||i&&i[hr],A[pt]=C||i&&i[pt],A[Gn]=w||i&&i[Gn]||null,A[u1]=d,A[pr]=function BC(){return FC++}(),A[qn]=z,A[ac]=V,A[T2]=2==s.type?i[T2]:A,A}function O3(i,s,a,l,f){let d=i.data[s];if(null===d)d=function fu(i,s,a,l,f){const d=Ic(),v=Dr(),w=i.data[s]=function HM(i,s,a,l,f,d){let v=s?s.injectorIndex:-1,C=0;return gr()&&(C|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,a,s,l,f);return null===i.firstChild&&(i.firstChild=w),null!==d&&(v?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w,w.prev=d)),w}(i,s,a,l,f),function Sc(){return yt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=a,d.value=l,d.attrs=f;const v=function oi(){const i=yt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return _n(d,!0),d}function Jo(i,s,a,l){if(0===a)return-1;const f=s.length;for(let d=0;d<a;d++)s.push(l),i.blueprint.push(l),i.data.push(null);return f}function Td(i,s,a,l,f){const d=Dd(s,j4),v=z1(),C=2&l;try{if(ai(-1),C&&s.length>Rt&&Ad(i,s,Rt,!1),Kn(C?2:0,f),C)d.runInContext(a,l,f);else{const V=Z2(null);try{a(l,f)}finally{Z2(V)}}}finally{C&&null===s[j4]&&lu(s,j4),ai(v),Kn(C?3:1,f)}}function S6(i,s,a){if(q4(s)){const l=Z2(null);try{const d=s.directiveEnd;for(let v=s.directiveStart;v<d;v++){const C=i.data[v];C.contentQueries&&C.contentQueries(1,a[v],v)}}finally{Z2(l)}}}function du(i,s,a){Hc()&&(function zM(i,s,a,l){const f=a.directiveStart,d=a.directiveEnd;Wn(a)&&function DM(i,s,a){const l=p1(s,i),f=Nd(a);let v=16;a.signals?v=4096:a.onPush&&(v=64);const C=L6(i,Qo(i,f,null,v,l,s,null,i[hr].rendererFactory.createRenderer(l,a),null,null,null));i[s.index]=C}(s,a,i.data[f+a.componentOffset]),i.firstCreatePass||ui(a,s),g1(l,s);const v=a.initialInputs;for(let C=f;C<d;C++){const w=i.data[C],V=yr(s,i,C,a);g1(V,s),null!==v&&AM(0,C-f,V,w,0,v),X1(w)&&(t1(a.index,s)[d2]=yr(s,i,C,a))}}(i,s,a,p1(a,s)),64==(64&a.flags)&&jd(i,s,a))}function hu(i,s,a=p1){const l=s.localNames;if(null!==l){let f=s.index+1;for(let d=0;d<l.length;d+=2){const v=l[d+1],C=-1===v?a(s,i):i[v];i[f++]=C}}}function Nd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=z6(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function z6(i,s,a,l,f,d,v,C,w,V,z){const A=Rt+l,j=A+f,W=function CM(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:St);return a}(A,j),ce="function"==typeof V?V():V;return W[Te]={type:i,blueprint:W,template:a,queries:null,viewQuery:C,declTNode:s,data:W.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:w,consts:ce,incompleteFirstPass:!1,ssrId:z}}let Pd=i=>null;function Rd(i,s,a,l){for(let f in i)if(i.hasOwnProperty(f)){a=null===a?{}:a;const d=i[f];null===l?pu(a,s,f,d):l.hasOwnProperty(f)&&pu(a,s,l[f],d)}return a}function pu(i,s,a,l){i.hasOwnProperty(a)?i[a].push(s,l):i[a]=[s,l]}function wn(i,s,a,l,f,d,v,C){const w=p1(s,a);let z,V=s.inputs;!C&&null!=V&&(z=V[l])?(Cu(i,a,z,l,f),Wn(s)&&function Fd(i,s){const a=t1(s,i);16&a[wt]||(a[wt]|=64)}(a,s.index)):3&s.type&&(l=function Od(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),f=null!=v?v(f,s.value||"",l):f,d.setProperty(w,l,f))}function E6(i,s,a,l){if(Hc()){const f=null===l?null:{"":-1},d=function EM(i,s){const a=i.directiveRegistry;let l=null,f=null;if(a)for(let d=0;d<a.length;d++){const v=a[d];if(P4(s,v.selectors,!1))if(l||(l=[]),X1(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),l.unshift(...C,v),mu(i,s,C.length)}else l.unshift(v),mu(i,s,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,l,f),l.push(v)}return null===l?null:[l,f]}(i,a);let v,C;null===d?v=C=null:[v,C]=d,null!==v&&Bd(i,s,a,v,f,C),f&&function LM(i,s,a){if(s){const l=i.localNames=[];for(let f=0;f<s.length;f+=2){const d=a[s[f+1]];if(null==d)throw new Z(-301,!1);l.push(s[f],d)}}}(a,l,f)}a.mergedAttrs=Ni(a.mergedAttrs,a.attrs)}function Bd(i,s,a,l,f,d){for(let V=0;V<l.length;V++)y3(ui(a,s),i,l[V].type);!function xM(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,l.length);for(let V=0;V<l.length;V++){const z=l[V];z.providersResolver&&z.providersResolver(z)}let v=!1,C=!1,w=Jo(i,s,l.length,null);for(let V=0;V<l.length;V++){const z=l[V];a.mergedAttrs=Ni(a.mergedAttrs,z.hostAttrs),qd(i,a,s,w,z),Gd(w,z,f),null!==z.contentQueries&&(a.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(a.flags|=64);const A=z.type.prototype;!v&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),v=!0),!C&&(A.ngOnChanges||A.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),C=!0),w++}!function VM(i,s,a){const f=s.directiveEnd,d=i.data,v=s.attrs,C=[];let w=null,V=null;for(let z=s.directiveStart;z<f;z++){const A=d[z],j=a?a.get(A):null,ce=j?j.outputs:null;w=Rd(A.inputs,z,w,j?j.inputs:null),V=Rd(A.outputs,z,V,ce);const Ve=null===w||null===v||Fs(s)?null:TM(w,z,v);C.push(Ve)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=w,s.outputs=V}(i,a,d)}function jd(i,s,a){const l=a.directiveStart,f=a.directiveEnd,d=a.index,v=function kC(){return yt.lFrame.currentDirectiveIndex}();try{ai(d);for(let C=l;C<f;C++){const w=i.data[C],V=s[C];so(C),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&$d(w,V)}}finally{ai(-1),so(v)}}function $d(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function mu(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function Gd(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;X1(s)&&(a[""]=i)}}function qd(i,s,a,l,f){i.data[l]=f;const d=f.factory||(f.factory=Zn(f.type)),v=new Wi(d,X1(f),R3);i.blueprint[l]=v,a[l]=v,function SM(i,s,a,l,f){const d=f.hostBindings;if(d){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const C=~s.index;(function Ud(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=C&&v.push(C),v.push(a,l,d)}}(i,s,l,Jo(i,a,f.hostVars,St),f)}function er(i,s,a,l,f,d){const v=p1(i,s);!function gu(i,s,a,l,f,d,v){if(null==d)i.removeAttribute(s,f,a);else{const C=null==v?J(d):v(d,l||"",f);i.setAttribute(s,f,C,a)}}(s[pt],v,d,i.value,a,l,f)}function AM(i,s,a,l,f,d){const v=d[s];if(null!==v)for(let C=0;C<v.length;)Wd(l,a,v[C++],v[C++],v[C++])}function Wd(i,s,a,l,f){const d=Z2(null);try{const v=i.inputTransforms;null!==v&&v.hasOwnProperty(l)&&(f=v[l].call(s,f)),null!==i.setInput?i.setInput(s,f,a,l):s[l]=f}finally{Z2(d)}}function TM(i,s,a){let l=null,f=0;for(;f<a.length;){const d=a[f];if(0!==d)if(5!==d){if("number"==typeof d)break;if(i.hasOwnProperty(d)){null===l&&(l=[]);const v=i[d];for(let C=0;C<v.length;C+=2)if(v[C]===s){l.push(d,v[C+1],a[f+1]);break}}f+=2}else f+=2;else f+=4}return l}function Zd(i,s,a,l){return[i,!0,!1,s,null,0,l,a,null,null,null]}function vu(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l+1];if(-1!==d){const v=i.data[d];xc(a[l]),v.contentQueries(2,s[d],d)}}}function L6(i,s){return i[Ri]?i[Cl][B1]=s:i[Ri]=s,i[Cl]=s,s}function yu(i,s,a){xc(0);const l=Z2(null);try{s(i,a)}finally{Z2(l)}}function Jd(i,s){const a=i[Gn],l=a?a.get(fs,null):null;l&&l.handleError(s)}function Cu(i,s,a,l,f){for(let d=0;d<a.length;){const v=a[d++],C=a[d++];Wd(i.data[v],s[v],l,C,f)}}function NM(i,s){const a=t1(s,i),l=a[Te];!function Xd(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(l,a);const f=a[f2];null!==f&&null===a[qn]&&(a[qn]=Q8(f,a[Gn])),_u(l,a,a[d2])}function _u(i,s,a){qi(s);try{const l=i.viewQuery;null!==l&&yu(1,l,a);const f=i.template;null!==f&&Td(i,s,f,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&vu(i,s),i.staticViewQueries&&yu(2,i.viewQuery,a);const d=i.components;null!==d&&function kM(i,s){for(let a=0;a<s.length;a++)NM(i,s[a])}(s,d)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[wt]&=-5,u3()}}let eh=(()=>{var i;class s{constructor(){this.all=new Set,this.queue=new Map}create(l,f,d){const v=typeof Zone>"u"?null:Zone.current,C=new Tl(l,z=>{this.all.has(z)&&this.queue.set(z,v)},d);let w;this.all.add(C),C.notify();const V=()=>{C.cleanup(),w?.(),this.all.delete(C),this.queue.delete(C)};return w=f?.onDestroy(V),{destroy:V}}flush(){if(0!==this.queue.size)for(const[l,f]of this.queue)this.queue.delete(l),f?f.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>new i}),s})();function x6(i,s,a){let l=a?i.styles:null,f=a?i.classes:null,d=0;if(null!==s)for(let v=0;v<s.length;v++){const C=s[v];"number"==typeof C?d=C:1==d?f=Re(f,C):2==d&&(l=Re(l,C+": "+s[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=f:i.classesWithoutHost=f}function ds(i,s,a,l,f=!1){for(;null!==a;){const d=s[a.index];if(null!==d&&l.push(e2(d)),h1(d)){for(let C=N2;C<d.length;C++){const w=d[C],V=w[Te].firstChild;null!==V&&ds(w[Te],w,V,l)}d[f1]!==d[f2]&&l.push(d[f1])}const v=a.type;if(8&v)ds(i,s,a.child,l);else if(32&v){const C=r6(a,s);let w;for(;w=C();)l.push(w)}else if(16&v){const C=k9(s,a);if(Array.isArray(C))l.push(...C);else{const w=ko(s[T2]);ds(w[Te],w,C,l,!0)}}a=f?a.projectionNext:a.next}return l}function D6(i,s,a,l=!0){const f=s[hr],d=f.rendererFactory,v=f.afterRenderEventManager;d.begin?.(),v?.begin();try{rh(i,s,i.template,a)}catch(w){throw l&&Jd(s,w),w}finally{d.end?.(),f.effectManager?.flush(),v?.end()}}function rh(i,s,a,l){const f=s[wt];if(256!=(256&f)){s[hr].effectManager?.flush(),qi(s);try{wc(s),function Gi(i){return yt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Td(i,s,a,2,l);const v=3==(3&f);if(v){const V=i.preOrderCheckHooks;null!==V&&Ar(s,V,null)}else{const V=i.preOrderHooks;null!==V&&li(s,V,0,null),ao(s,0)}if(function sh(i){for(let s=M9(i);null!==s;s=w9(s)){if(!s[Oi])continue;const a=s[ti];for(let l=0;l<a.length;l++){Bl(a[l])}}}(s),ih(s,2),null!==i.contentQueries&&vu(i,s),v){const V=i.contentCheckHooks;null!==V&&Ar(s,V)}else{const V=i.contentHooks;null!==V&&li(s,V,1),ao(s,1)}!function yM(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const l=Dd(s,Cn);try{for(let f=0;f<a.length;f++){const d=a[f];if(d<0)ai(~d);else{const v=d,C=a[++f],w=a[++f];zc(C,v),l.runInContext(w,2,s[v])}}}finally{null===s[Cn]&&lu(s,Cn),ai(-1)}}(i,s);const C=i.components;null!==C&&ah(s,C,0);const w=i.viewQuery;if(null!==w&&yu(2,w,l),v){const V=i.viewCheckHooks;null!==V&&Ar(s,V)}else{const V=i.viewHooks;null!==V&&li(s,V,2),ao(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[wt]&=-73,ji(s)}finally{u3()}}}function ih(i,s){for(let a=M9(i);null!==a;a=w9(a))for(let l=N2;l<a.length;l++)oh(a[l],s)}function PM(i,s,a){oh(t1(s,i),a)}function oh(i,s){if(!function Ol(i){return 128==(128&i[wt])}(i))return;const a=i[Te];if(80&i[wt]&&0===s||1024&i[wt]||2===s)rh(a,i,a.template,i[d2]);else if(i[$n]>0){ih(i,1);const f=i[Te].components;null!==f&&ah(i,f,1)}}function ah(i,s,a){for(let l=0;l<s.length;l++)PM(i,s[l],a)}class Xo{get rootNodes(){const s=this._lView,a=s[Te];return ds(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[d2]}set context(s){this._lView[d2]=s}get destroyed(){return 256==(256&this._lView[wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[n2];if(h1(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(o6(s,l),b3(a,l))}this._attachedToViewContainer=!1}a6(this._lView[Te],this._lView)}onDestroy(s){!function r3(i,s){if(256==(256&i[wt]))throw new Z(911,!1);null===i[Er]&&(i[Er]=[]),i[Er].push(s)}(this._lView,s)}markForCheck(){Yo(this._cdRefInjectingView||this._lView)}detach(){this._lView[wt]&=-129}reattach(){this._lView[wt]|=128}detectChanges(){D6(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JC(i,s){Ro(i,s,s[pt],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=s}}class RM extends Xo{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;D6(s[Te],s,s[d2],!1)}checkNoChanges(){}get context(){return null}}class ch extends Ko{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Pt(s);return new ea(a,this.ngModule)}}function lh(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class uh{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=Ft(l);const f=this.injector.get(s,tu,l);return f!==tu||a===tu?f:this.parentInjector.get(s,a,l)}}class ea extends hd{get inputs(){const s=this.componentDef,a=s.inputTransforms,l=lh(s.inputs);if(null!==a)for(const f of l)a.hasOwnProperty(f.propName)&&(f.transform=a[f.propName]);return l}get outputs(){return lh(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function $f(i){return i.map(sc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,f){let d=(f=f||this.ngModule)instanceof Br?f:f?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const v=d?new uh(s,d):s,C=v.get(md,null);if(null===C)throw new Z(407,!1);const A={rendererFactory:C,sanitizer:v.get(nM,null),effectManager:v.get(eh,null),afterRenderEventManager:v.get(su,null)},j=C.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ce=l?function kd(i,s,a,l){const d=l.get(au,!1)||a===_e.ShadowDom,v=i.selectRootElement(s,d);return function _M(i){Pd(i)}(v),v}(j,l,this.componentDef.encapsulation,v):s6(j,W,function OM(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),ot=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ge=null;null!==ce&&(ge=Q8(ce,v,!0));const _t=z6(0,null,null,1,0,null,null,null,null,null,null),At=Qo(null,_t,null,ot,null,null,A,j,v,null,ge);let t2,G1;qi(At);try{const Gr=this.componentDef;let r4,n7=null;Gr.findHostDirectiveDefs?(r4=[],n7=new Map,Gr.findHostDirectiveDefs(Gr,r4,n7),r4.push(Gr)):r4=[Gr];const hv=function FM(i,s){const a=i[Te],l=Rt;return i[l]=s,O3(a,l,2,"#host",null)}(At,ce),cI=function BM(i,s,a,l,f,d,v){const C=f[Te];!function dh(i,s,a,l){for(const f of i)s.mergedAttrs=Ni(s.mergedAttrs,f.hostAttrs);null!==s.mergedAttrs&&(x6(s,s.mergedAttrs,!0),null!==a&&B9(l,a,s))}(l,i,s,v);let w=null;null!==s&&(w=Q8(s,f[Gn]));const V=d.rendererFactory.createRenderer(s,a);let z=16;a.signals?z=4096:a.onPush&&(z=64);const A=Qo(f,Nd(a),null,z,f[i.index],i,d,V,null,null,w);return C.firstCreatePass&&mu(C,i,l.length-1),L6(f,A),f[i.index]=A}(hv,ce,Gr,r4,At,A,j);G1=si(_t,Rt),ce&&function jM(i,s,a,l){if(l)Ai(i,a,["ng-version",gd.full]);else{const{attrs:f,classes:d}=function F1(i){const s=[],a=[];let l=1,f=2;for(;l<i.length;){let d=i[l];if("string"==typeof d)2===f?""!==d&&s.push(d,i[++l]):8===f&&a.push(d);else{if(!b1(f))break;f=d}l++}return{attrs:s,classes:a}}(s.selectors[0]);f&&Ai(i,a,f),d&&d.length>0&&F9(i,a,d.join(" "))}}(j,Gr,ce,l),void 0!==a&&function hh(i,s,a){const l=i.projection=[];for(let f=0;f<s.length;f++){const d=a[f];l.push(null!=d?Array.from(d):null)}}(G1,this.ngContentSelectors,a),t2=function UM(i,s,a,l,f,d){const v=O2(),C=f[Te],w=p1(v,f);Bd(C,f,v,a,null,l);for(let z=0;z<a.length;z++)g1(yr(f,C,v.directiveStart+z,v),f);jd(C,f,v),w&&g1(w,f);const V=yr(f,C,v.directiveStart+v.componentOffset,v);if(i[d2]=f[d2]=V,null!==d)for(const z of d)z(V,s);return S6(C,v,i),V}(cI,Gr,r4,n7,At,[$M]),_u(_t,At,null)}finally{u3()}return new fh(this.componentType,t2,N3(G1,At),At,G1)}}class fh extends Y_{constructor(s,a,l,f,d){super(),this.location=l,this._rootLView=f,this._tNode=d,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new RM(f),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const d=this._rootLView;Cu(d[Te],d,f,s,a),this.previousInputValues.set(s,a),Yo(t1(this._tNode.index,d))}}get injector(){return new r1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function $M(){const i=O2();ci(ve()[Te],i)}function T6(i){return!!wu(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function wu(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Mr(i,s,a){return i[s]=a}function v1(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function N6(i,s,a,l,f){const d=function hs(i,s,a,l){const f=v1(i,s,a);return v1(i,s+1,l)||f}(i,s,a,l);return v1(i,s+2,f)||d}function bu(i,s,a,l){const f=ve();return v1(f,j1(),s)&&(Ot(),er(a2(),f,i,s,a,l)),bu}function Th(i,s,a,l,f,d,v,C){const w=ve(),V=Ot(),z=i+Rt,A=V.firstCreatePass?function mw(i,s,a,l,f,d,v,C,w){const V=s.consts,z=O3(s,i,4,v||null,xr(V,C));E6(s,a,z,xr(V,w)),ci(s,z);const A=z.tView=z6(2,z,l,f,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V,null);return null!==s.queries&&(s.queries.template(s,z),A.queries=s.queries.embeddedTView(z)),z}(z,V,w,s,a,l,f,d,v):V.data[z];_n(A,!1);const j=xu(V,w,A,i);d3()&&u6(V,w,j,A),g1(j,w),L6(w,w[z]=Zd(j,w,j,A)),Bi(A)&&du(V,w,A),null!=v&&hu(w,A,C)}let xu=function Nh(i,s,a,l){return xn(!0),s[pt].createComment("")};function F6(i){return S1(function a3(){return yt.lFrame.contextLView}(),Rt+i)}function Du(i,s,a){const l=ve();return v1(l,j1(),s)&&wn(Ot(),a2(),l,i,s,l[pt],a,!1),Du}function Au(i,s,a,l,f){const v=f?"class":"style";Cu(i,a,s.inputs[v],v,l)}function B6(i,s,a,l){const f=ve(),d=Ot(),v=Rt+i,C=f[pt],w=d.firstCreatePass?function Cw(i,s,a,l,f,d){const v=s.consts,w=O3(s,i,2,l,xr(v,f));return E6(s,a,w,xr(v,d)),null!==w.attrs&&x6(w,w.attrs,!1),null!==w.mergedAttrs&&x6(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(v,d,f,s,a,l):d.data[v],V=kh(d,f,w,C,s,i);f[v]=V;const z=Bi(w);return _n(w,!0),B9(C,V,w),32!=(32&w.flags)&&d3()&&u6(d,f,V,w),0===function ro(){return yt.lFrame.elementDepthCount}()&&g1(V,f),function Ul(){yt.lFrame.elementDepthCount++}(),z&&(du(d,f,w),S6(d,w,f)),null!==l&&hu(f,w),B6}function U6(){let i=O2();Dr()?vr():(i=i.parent,_n(i,!1));const s=i;(function jl(i){return yt.skipHydrationRootTNode===i})(s)&&function _2(){yt.skipHydrationRootTNode=null}(),function bc(){yt.lFrame.elementDepthCount--}();const a=Ot();return a.firstCreatePass&&(ci(a,i),q4(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function kc(i){return 0!=(8&i.flags)}(s)&&Au(a,s,ve(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Xl(i){return 0!=(16&i.flags)}(s)&&Au(a,s,ve(),s.stylesWithoutHost,!1),U6}function j6(i,s,a,l){return B6(i,s,a,l),U6(),j6}let kh=(i,s,a,l,f,d)=>(xn(!0),s6(l,f,function Tc(){return yt.lFrame.currentNamespace}()));function Fh(){return ve()}function $6(i){return!!i&&"function"==typeof i.then}function Bh(i){return!!i&&"function"==typeof i.subscribe}function G6(i,s,a,l){const f=ve(),d=Ot(),v=O2();return function $h(i,s,a,l,f,d,v){const C=Bi(l),V=i.firstCreatePass&&function Yd(i){return i.cleanup||(i.cleanup=[])}(i),z=s[d2],A=function Kd(i){return i[zr]||(i[zr]=[])}(s);let j=!0;if(3&l.type||v){const Ve=p1(l,s),Be=v?v(Ve):Ve,ot=A.length,ge=v?At=>v(e2(At[l.index])):l.index;let _t=null;if(!v&&C&&(_t=function jh(i,s,a,l){const f=i.cleanup;if(null!=f)for(let d=0;d<f.length-1;d+=2){const v=f[d];if(v===a&&f[d+1]===l){const C=s[zr],w=f[d+2];return C.length>w?C[w]:null}"string"==typeof v&&(d+=2)}return null}(i,s,f,l.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=d,_t.__ngLastListenerFn__=d,j=!1;else{d=qh(l,s,z,d,!1);const At=a.listen(Be,f,d);A.push(d,At),V&&V.push(f,ge,ot,ot+1)}}else d=qh(l,s,z,d,!1);const W=l.outputs;let ce;if(j&&null!==W&&(ce=W[f])){const Ve=ce.length;if(Ve)for(let Be=0;Be<Ve;Be+=2){const t2=s[ce[Be]][ce[Be+1]].subscribe(d),G1=A.length;A.push(d,t2),V&&V.push(f,l.index,G1,-(G1+1))}}}(d,f,f[pt],v,i,s,l),G6}function Gh(i,s,a,l){try{return Kn(6,s,a),!1!==a(l)}catch(f){return Jd(i,f),!1}finally{Kn(7,s,a)}}function qh(i,s,a,l,f){return function d(v){if(v===Function)return l;Yo(i.componentOffset>-1?t1(i.index,s):s);let w=Gh(s,a,l,v),V=d.__ngNextListenerFn__;for(;V;)w=Gh(s,a,V,v)&&w,V=V.__ngNextListenerFn__;return f&&!1===w&&v.preventDefault(),w}}function Wh(i=1){return function Dc(i){return(yt.lFrame.contextLView=function Jf(i,s){for(;i>0;)s=s[H1],i--;return s}(i,yt.lFrame.contextLView))[d2]}(i)}function bw(i,s){let a=null;const l=function yl(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(i);for(let f=0;f<s.length;f++){const d=s[f];if("*"!==d){if(null===l?P4(i,d,!0):rc(l,d))return f}else a=f}return a}function Zh(i){const s=ve()[T2][u1];if(!s.projection){const l=s.projection=Xi(i?i.length:1,null),f=l.slice();let d=s.child;for(;null!==d;){const v=i?bw(d,i):0;null!==v&&(f[v]?f[v].projectionNext=d:l[v]=d,f[v]=d),d=d.next}}}function Kh(i,s=0,a){const l=ve(),f=Ot(),d=O3(f,Rt+i,16,null,a||null);null===d.projection&&(d.projection=s),vr(),(!l[qn]||gr())&&32!=(32&d.flags)&&function n_(i,s,a){R9(s[pt],0,s,a,V8(i,a,s),A9(a.parent||s[u1],a,s))}(f,l,d)}function W6(i,s){return i<<17|s<<2}function yi(i){return i>>17&32767}function Ou(i){return 2|i}function Ci(i){return(131068&i)>>2}function Fu(i,s){return-131069&i|s<<2}function Bu(i){return 1|i}function ip(i,s,a,l,f){const d=i[a+1],v=null===s;let C=l?yi(d):Ci(d),w=!1;for(;0!==C&&(!1===w||v);){const z=i[C+1];Iw(i[C],s)&&(w=!0,i[C+1]=l?Bu(z):Ou(z)),C=l?yi(z):Ci(z)}w&&(i[a+1]=l?Ou(d):Bu(d))}function Iw(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Qn(i,s)>=0}const k2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sp(i){return i.substring(k2.key,k2.keyEnd)}function Sw(i){return i.substring(k2.value,k2.valueEnd)}function ap(i,s){const a=k2.textEnd;let l=k2.key=ms(i,s,a);return a===l?-1:(l=k2.keyEnd=function lp(i,s,a){let l;for(;s<a&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,a),l=up(i,l,a),l=k2.value=ms(i,l,a),l=k2.valueEnd=function xw(i,s,a){let l=-1,f=-1,d=-1,v=s,C=v;for(;v<a;){const w=i.charCodeAt(v++);if(59===w)return C;34===w||39===w?C=v=ju(i,w,v,a):s===v-4&&85===d&&82===f&&76===l&&40===w?C=v=ju(i,41,v,a):w>32&&(C=v),d=f,f=l,l=-33&w}return C}(i,l,a),up(i,l,a))}function ms(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function up(i,s,a,l){return(s=ms(i,s,a))<a&&s++,s}function ju(i,s,a,l){let f=-1,d=a;for(;d<l;){const v=i.charCodeAt(d++);if(v==s&&92!==f)return d;f=92==v&&92===f?0:v}throw new Error}function $u(i,s){return function Tn(i,s,a,l){const f=ve(),d=Ot(),v=Mn(2);d.firstUpdatePass&&dp(d,i,v,l),s!==St&&v1(f,v,s)&&pp(d,d.data[z1()],f,f[pt],i,f[v+1]=function mp(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=re(Cr(i)))),i}(s,a),l,v)}(i,s,null,!0),$u}function tr(i){!function nr(i,s,a,l){const f=Ot(),d=Mn(2);f.firstUpdatePass&&dp(f,null,d,l);const v=ve();if(a!==St&&v1(v,d,a)){const C=f.data[z1()];if(gp(C,l)&&!qu(f,d)){let w=l?C.classesWithoutHost:C.stylesWithoutHost;null!==w&&(a=Re(w,a||"")),Au(f,C,v,a,l)}else!function Rw(i,s,a,l,f,d,v,C){f===St&&(f=Oe);let w=0,V=0,z=0<f.length?f[0]:null,A=0<d.length?d[0]:null;for(;null!==z||null!==A;){const j=w<f.length?f[w+1]:void 0,W=V<d.length?d[V+1]:void 0;let Ve,ce=null;z===A?(w+=2,V+=2,j!==W&&(ce=A,Ve=W)):null===A||null!==z&&z<A?(w+=2,ce=z):(V+=2,ce=A,Ve=W),null!==ce&&pp(i,s,a,l,ce,Ve,v,C),z=w<f.length?f[w]:null,A=V<d.length?d[V]:null}}(f,C,v,v[pt],v[d+1],v[d+1]=function kw(i,s,a){if(null==a||""===a)return Oe;const l=[],f=Cr(a);if(Array.isArray(f))for(let d=0;d<f.length;d++)i(l,f[d],!0);else if("object"==typeof f)for(const d in f)f.hasOwnProperty(d)&&i(l,d,f[d]);else"string"==typeof f&&s(l,f);return l}(i,s,a),l,d)}}(K6,Gu,i,!1)}function Gu(i,s){for(let a=function Ew(i){return function cp(i){k2.key=0,k2.keyEnd=0,k2.value=0,k2.valueEnd=0,k2.textEnd=i.length}(i),ap(i,ms(i,0,k2.textEnd))}(s);a>=0;a=ap(s,a))K6(i,sp(s),Sw(s))}function qu(i,s){return s>=i.expandoStartIndex}function dp(i,s,a,l){const f=i.data;if(null===f[a+1]){const d=f[z1()],v=qu(i,a);gp(d,l)&&null===s&&!v&&(s=!1),s=function hp(i,s,a,l){const f=function Ec(i){const s=yt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let d=l?s.residualClasses:s.residualStyles;if(null===f)0===(l?s.classBindings:s.styleBindings)&&(a=sa(a=Z6(null,i,s,a,l),s.attrs,l),d=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==f)if(a=Z6(f,i,s,a,l),null===d){let w=function Aw(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Ci(l))return i[yi(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=Z6(null,i,s,w[1],l),w=sa(w,s.attrs,l),function Tw(i,s,a,l){i[yi(a?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else d=function Nw(i,s,a){let l;const f=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<f;d++)l=sa(l,i[d].hostAttrs,a);return sa(l,s.attrs,a)}(i,s,l)}return void 0!==d&&(l?s.residualClasses=d:s.residualStyles=d),a}(f,d,s,l),function Vw(i,s,a,l,f,d){let v=d?s.classBindings:s.styleBindings,C=yi(v),w=Ci(v);i[l]=a;let z,V=!1;if(Array.isArray(a)?(z=a[1],(null===z||Qn(a,z)>0)&&(V=!0)):z=a,f)if(0!==w){const j=yi(i[C+1]);i[l+1]=W6(j,C),0!==j&&(i[j+1]=Fu(i[j+1],l)),i[C+1]=function Hw(i,s){return 131071&i|s<<17}(i[C+1],l)}else i[l+1]=W6(C,0),0!==C&&(i[C+1]=Fu(i[C+1],l)),C=l;else i[l+1]=W6(w,0),0===C?C=l:i[w+1]=Fu(i[w+1],l),w=l;V&&(i[l+1]=Ou(i[l+1])),ip(i,z,l,!0),ip(i,z,l,!1),function Uu(i,s,a,l,f){const d=f?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&Qn(d,s)>=0&&(a[l+1]=Bu(a[l+1]))}(s,z,i,l,d),v=W6(C,w),d?s.classBindings=v:s.styleBindings=v}(f,d,s,a,v,l)}}function Z6(i,s,a,l,f){let d=null;const v=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<v&&(d=s[C],l=sa(l,d.hostAttrs,f),d!==i);)C++;return null!==i&&(a.directiveStylingLast=C),l}function sa(i,s,a){const l=a?1:2;let f=-1;if(null!==s)for(let d=0;d<s.length;d++){const v=s[d];"number"==typeof v?f=v:f===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),m1(i,v,!!a||s[++d]))}return void 0===i?null:i}function K6(i,s,a){m1(i,s,Cr(a))}function pp(i,s,a,l,f,d,v,C){if(!(3&s.type))return;const w=i.data,V=w[C+1],z=function rp(i){return 1==(1&i)}(V)?Wu(w,s,a,f,Ci(V),v):void 0;Y6(z)||(Y6(d)||function np(i){return 2==(2&i)}(V)&&(d=Wu(w,null,a,f,C,v)),function i_(i,s,a,l,f){if(s)f?i.addClass(a,l):i.removeClass(a,l);else{let d=-1===l.indexOf("-")?void 0:t6.DashCase;null==f?i.removeStyle(a,l,d):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),d|=t6.Important),i.setStyle(a,l,f,d))}}(l,v,n3(z1(),a),f,d))}function Wu(i,s,a,l,f,d){const v=null===s;let C;for(;f>0;){const w=i[f],V=Array.isArray(w),z=V?w[1]:w,A=null===z;let j=a[f+1];j===St&&(j=A?Oe:void 0);let W=A?wo(j,l):z===l?j:void 0;if(V&&!Y6(W)&&(W=wo(w,l)),Y6(W)&&(C=W,v))return C;const ce=i[f+1];f=v?yi(ce):Ci(ce)}if(null!==s){let w=d?s.residualClasses:s.residualStyles;null!=w&&(C=wo(w,l))}return C}function Y6(i){return void 0!==i}function gp(i,s){return 0!=(i.flags&(s?8:16))}function vp(i,s=""){const a=ve(),l=Ot(),f=i+Rt,d=l.firstCreatePass?O3(l,f,1,s,null):l.data[f],v=Zu(l,a,d,s,i);a[f]=v,d3()&&u6(l,a,v,d),_n(d,!1)}let Zu=(i,s,a,l,f)=>(xn(!0),function i6(i,s){return i.createText(s)}(s[pt],l));function Ku(i){return oa("",i,""),Ku}function oa(i,s,a){const l=ve(),f=function B3(i,s,a,l){return v1(i,j1(),a)?s+J(a)+l:St}(l,i,s,a);return f!==St&&function _r(i,s,a){const l=n3(s,i);!function H9(i,s,a){i.setValue(s,a)}(i[pt],l,a)}(l,z1(),f),oa}function Q6(i,s,a){const l=ve();return v1(l,j1(),s)&&wn(Ot(),a2(),l,i,s,l[pt],a,!0),Q6}const gs=void 0;var rb=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nb(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let vs={};function J6(i){const s=function e5(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=kp(s);if(a)return a;const l=s.split("-")[0];if(a=kp(l),a)return a;if("en"===l)return rb;throw new Z(701,!1)}function Np(i){return J6(i)[Y3.PluralCase]}function kp(i){return i in vs||(vs[i]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[i]),vs[i]}var Y3=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Y3||{});const Q3="en-US";let t5=Q3;class ys{}class Gb{}function qb(i,s){return new f5(i,s??null,[])}class f5 extends ys{constructor(s,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ch(this);const f=function l1(i,s){const a=i[l2]||null;if(!a&&!0===s)throw new Error(`Type ${re(i)} does not have '\u0275mod' property.`);return a}(s);this._bootstrapComponents=function Ur(i){return i instanceof Function?i():i}(f.bootstrap),this._r3Injector=Md(s,a,[{provide:ys,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver},...l],re(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class d5 extends Gb{constructor(s){super(),this.moduleType=s}create(s){return new f5(this.moduleType,s,[])}}function Hm(i,s,a){const l=n1()+i,f=ve();return f[l]===St?Mr(f,l,a?s.call(a):s()):function ta(i,s){return i[s]}(f,l)}function Vm(i,s,a,l){return zm(ve(),n1(),i,s,a,l)}function e4(i,s){const a=i[s];return a===St?void 0:a}function zm(i,s,a,l,f,d){const v=s+a;return v1(i,v,f)?Mr(i,v+1,d?l.call(d,f):l(f)):e4(i,v+1)}function Am(i,s){const a=Ot();let l;const f=i+Rt;a.firstCreatePass?(l=function uH(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[f]=l,l.onDestroy&&(a.destroyHooks??=[]).push(f,l.onDestroy)):l=a.data[f];const d=l.factory||(l.factory=Zn(l.type)),C=jt(R3);try{const w=Dn(!1),V=d();return Dn(w),function yw(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,ve(),f,V),V}finally{jt(C)}}function Tm(i,s,a){const l=i+Rt,f=ve(),d=S1(f,l);return fa(f,l)?zm(f,n1(),s,d.transform,a,d):d.transform(a)}function Nm(i,s,a,l,f){const d=i+Rt,v=ve(),C=S1(v,d);return fa(v,d)?function Lm(i,s,a,l,f,d,v,C){const w=s+a;return N6(i,w,f,d,v)?Mr(i,w+3,C?l.call(C,f,d,v):l(f,d,v)):e4(i,w+3)}(v,n1(),s,C.transform,a,l,f,C):C.transform(a,l,f)}function fa(i,s){return i[Te].data[s].pure}function g5(i){return s=>{setTimeout(i,void 0,s)}}const jr=class mH extends m.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let f=s,d=a||(()=>null),v=l;if(s&&"object"==typeof s){const w=s;f=w.next?.bind(w),d=w.error?.bind(w),v=w.complete?.bind(w)}this.__isAsync&&(d=g5(d),f&&(f=g5(f)),v&&(v=g5(v)));const C=super.subscribe({next:f,error:d,complete:v});return s instanceof R.w0&&s.add(C),C}};function CH(i,s,a,l=!0){const f=s[Te];if(function I9(i,s,a,l){const f=N2+l,d=a.length;l>0&&(a[f-1][B1]=s),l<d-N2?(s[B1]=a[f],_o(a,N2+l,s)):(a.push(s),s[B1]=null),s[n2]=a;const v=s[ei];null!==v&&a!==v&&function e_(i,s){const a=i[ti];s[T2]!==s[n2][n2][T2]&&(i[Oi]=!0),null===a?i[ti]=[s]:a.push(s)}(v,s);const C=s[V1];null!==C&&C.insertView(i),s[wt]|=128}(f,s,i,a),l){const d=S8(a,i),v=s[pt],C=c6(v,i[f1]);null!==C&&function V9(i,s,a,l,f,d){l[f2]=f,l[u1]=s,Ro(i,l,a,1,f,d)}(f,i[u1],v,s,C,d)}}let da=(()=>{class s{}return s.__NG_ELEMENT_ID__=wH,s})();const km=da,MH=class extends km{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,l){const f=function vH(i,s,a,l){const f=s.tView,C=Qo(i,f,a,4096&i[wt]?4096:16,null,s,null,null,null,l?.injector??null,l?.hydrationInfo??null);C[ei]=i[s.index];const V=i[V1];return null!==V&&(C[V1]=V.createEmbeddedView(f)),_u(f,C,a),C}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:l});return new Xo(f)}};function wH(){return function ha(i,s){return 4&i.type?new MH(s,i,N3(i,s)):null}(O2(),ve())}let a0=(()=>{class s{}return s.__NG_ELEMENT_ID__=SH,s})();function SH(){return function jm(i,s){let a;const l=s[i.index];return h1(l)?a=l:(a=Zd(l,s,null,i),s[i.index]=a,L6(s,a)),$m(a,s,i,l),new Bm(a,i,s)}(O2(),ve())}const Fm=a0,Bm=class extends Fm{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return N3(this._hostTNode,this._hostLView)}get injector(){return new r1(this._hostTNode,this._hostLView)}get parentInjector(){const s=v3(this._hostTNode,this._hostLView);if(Ki(s)){const a=Nr(s,this._hostLView),l=Yi(s);return new r1(a[Te].data[l+8],a)}return new r1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Um(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-N2}createEmbeddedView(s,a,l){let f,d;"number"==typeof l?f=l:null!=l&&(f=l.index,d=l.injector);const C=s.createEmbeddedViewImpl(a||{},d,null);return this.insertImpl(C,f,false),C}createComponent(s,a,l,f,d){const v=s&&!function Ji(i){return"function"==typeof i}(s);let C;if(v)C=a;else{const Ve=a||{};C=Ve.index,l=Ve.injector,f=Ve.projectableNodes,d=Ve.environmentInjector||Ve.ngModuleRef}const w=v?s:new ea(Pt(s)),V=l||this.parentInjector;if(!d&&null==w.ngModule){const Be=(v?V:this.parentInjector).get(Br,null);Be&&(d=Be)}Pt(w.componentType??{});const W=w.create(V,f,null,d);return this.insertImpl(W.hostView,C,false),W}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,l){const f=s._lView;if(function Fl(i){return h1(i[n2])}(f)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const V=f[n2],z=new Bm(V,V[u1],V[n2]);z.detach(z.indexOf(s))}}const v=this._adjustIndex(a),C=this._lContainer;return CH(C,f,v,!l),s.attachToViewContainerRef(),_o(c0(C),v,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Um(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=o6(this._lContainer,a);l&&(b3(c0(this._lContainer),a),a6(l[Te],l))}detach(s){const a=this._adjustIndex(s,-1),l=o6(this._lContainer,a);return l&&null!=b3(c0(this._lContainer),a)?new Xo(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Um(i){return i[8]}function c0(i){return i[8]||(i[8]=[])}let $m=function Gm(i,s,a,l){if(i[f1])return;let f;f=8&a.type?e2(l):function zH(i,s){const a=i[pt],l=a.createComment(""),f=p1(s,i);return ss(a,c6(a,f),l,function D9(i,s){return i.nextSibling(s)}(a,f),!1),l}(s,a),i[f1]=f};const eV=new Yt("Application Initializer");let x5=(()=>{var i;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f}),this.appInits=$e(eV,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const d of this.appInits){const v=d();if($6(v))l.push(v);else if(Bh(v)){const C=new Promise((w,V)=>{v.subscribe({complete:w,error:V})});l.push(C)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{f()}).catch(d=>{this.reject(d)}),0===l.length&&f(),this.initialized=!0}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();const p0=new Yt("LocaleId",{providedIn:"root",factory:()=>$e(p0,ut.Optional|ut.SkipSelf)||function nV(){return typeof $localize<"u"&&$localize.locale||Q3}()}),rV=new Yt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let sV=(()=>{var i;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function zg(...i){}class E1{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jr(!1),this.onMicrotaskEmpty=new jr(!1),this.onStable=new jr(!1),this.onError=new jr(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&a,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function CV(){const i="function"==typeof Lt.requestAnimationFrame;let s=Lt[i?"requestAnimationFrame":"setTimeout"],a=Lt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function MV(i){const s=()=>{!function Lg(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Lt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,k5(i),i.isCheckStableRunning=!0,N5(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),k5(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,f,d,v,C)=>{try{return xg(i),a.invokeTask(f,d,v,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),Dg(i)}},onInvoke:(a,l,f,d,v,C,w)=>{try{return xg(i),a.invoke(f,d,v,C,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),Dg(i)}},onHasTask:(a,l,f,d)=>{a.hasTask(f,d),l===f&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,k5(i),N5(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(a,l,f,d)=>(a.handleError(f,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!E1.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(E1.isInAngularZone())throw new Z(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,f){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+f,s,_V,zg,zg);try{return d.runTask(v,a,l)}finally{d.cancelTask(v)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const _V={};function N5(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function k5(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function xg(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Dg(i){i._nesting--,N5(i)}class wV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jr,this.onMicrotaskEmpty=new jr,this.onStable=new jr,this.onError=new jr}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,f){return s.apply(a,l)}}const P5=new Yt("",{providedIn:"root",factory:Ag});function Ag(){const i=$e(E1);let s=!0;const a=new oe.y(f=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{f.next(s),f.complete()})}),l=new oe.y(f=>{let d;i.runOutsideAngular(()=>{d=i.onStable.subscribe(()=>{E1.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,f.next(!0))})})});const v=i.onUnstable.subscribe(()=>{E1.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{f.next(!1)}))});return()=>{d.unsubscribe(),v.unsubscribe()}});return(0,me.T)(a,l.pipe((0,xe.B)()))}const Tg=new Yt(""),Ng=new Yt("");let R5,bV=(()=>{var i;class s{constructor(l,f,d){this._ngZone=l,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,R5||(function HV(i){R5=i}(d),d.addToWindow(f)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{E1.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,d){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==v),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:v,updateCb:d})}whenStable(l,f,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,f,d){return[]}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(E1),Ne(kg),Ne(Ng))},i.\u0275prov=bt({token:i,factory:i.\u0275fac}),s})(),kg=(()=>{var i;class s{constructor(){this._applications=new Map}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return R5?.findTestabilityInTree(this,l,f)??null}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})(),$r=null;const Pg=new Yt("AllowMultipleToken"),O5=new Yt("PlatformDestroyListeners"),F5=new Yt("appBootstrapListener");function Fg(i,s,a=[]){const l=`Platform: ${s}`,f=new Yt(l);return(d=[])=>{let v=g0();if(!v||v.injector.get(Pg,!1)){const C=[...a,...d,{provide:f,useValue:!0}];i?i(C):function EV(i){if($r&&!$r.get(Pg,!1))throw new Z(400,!1);(function Rg(){!function X4(i){Js=i}(()=>{throw new Z(600,!1)})})(),$r=i;const s=i.get(Ug);(function Og(i){i.get(G8,null)?.forEach(a=>a())})(i)}(function Bg(i=[],s){return Xn.create({name:s,providers:[{provide:U8,useValue:"platform"},{provide:O5,useValue:new Set([()=>$r=null])},...i]})}(C,l))}return function B5(i){const s=g0();if(!s)throw new Z(401,!1);return s}()}}function g0(){return $r?.get(Ug)??null}let Ug=(()=>{var i;class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const d=function xV(i="zone.js",s){return"noop"===i?new wV:"zone.js"===i?new E1(s):i}(f?.ngZone,function jg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return d.run(()=>{const v=function Wb(i,s,a){return new f5(i,s,a)}(l.moduleType,this.injector,function Wg(i){return[{provide:E1,useFactory:i},{provide:Uo,multi:!0,useFactory:()=>{const s=$e(AV,{optional:!0});return()=>s.initialize()}},{provide:qg,useFactory:DV},{provide:P5,useFactory:Ag}]}(()=>d)),C=v.injector.get(fs,null);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:V=>{C.handleError(V)}});v.onDestroy(()=>{v0(this._modules,v),w.unsubscribe()})}),function $g(i,s,a){try{const l=a();return $6(l)?l.catch(f=>{throw s.runOutsideAngular(()=>i.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(C,d,()=>{const w=v.injector.get(x5);return w.runInitializers(),w.donePromise.then(()=>(function Rp(i){Qe(i,"Expected localeId to be defined"),"string"==typeof i&&(t5=i.toLowerCase().replace(/_/g,"-"))}(v.injector.get(p0,Q3)||Q3),this._moduleDoBootstrap(v),v))})})}bootstrapModule(l,f=[]){const d=U5({},f);return function VV(i,s,a){const l=new d5(a);return Promise.resolve(l)}(0,0,l).then(v=>this.bootstrapModuleFactory(v,d))}_moduleDoBootstrap(l){const f=l.injector.get(va);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>f.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Z(-403,!1);l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(O5,null);l&&(l.forEach(f=>f()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(Xn))},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();function U5(i,s){return Array.isArray(s)?s.reduce(U5,i):{...i,...s}}let va=(()=>{var i;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$e(qg),this.zoneIsStable=$e(P5),this.componentTypes=[],this.components=[],this.isStable=$e(sV).hasPendingTasks.pipe((0,Pe.w)(l=>l?(0,we.of)(!1):this.zoneIsStable),(0,Ee.x)(),(0,xe.B)()),this._injector=$e(Br)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,f){const d=l instanceof hd;if(!this._injector.get(x5).done)throw!d&&function Pi(i){const s=Pt(i)||q2(i)||W2(i);return null!==s&&s.standalone}(l),new Z(405,!1);let C;C=d?l:this._injector.get(Ko).resolveComponentFactory(l),this.componentTypes.push(C.componentType);const w=function SV(i){return i.isBoundToModule}(C)?void 0:this._injector.get(ys),z=C.create(Xn.NULL,[],f||C.selector,w),A=z.location.nativeElement,j=z.injector.get(Tg,null);return j?.registerApplication(A),z.onDestroy(()=>{this.detachView(z.hostView),v0(this.components,z),j?.unregisterApplication(A)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;v0(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const f=this._injector.get(F5,[]);f.push(...this._bootstrapListeners),f.forEach(d=>d(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>v0(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Z(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function v0(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const qg=new Yt("",{providedIn:"root",factory:()=>$e(fs).handleError.bind(void 0)});function DV(){const i=$e(E1),s=$e(fs);return a=>i.runOutsideAngular(()=>s.handleError(a))}let AV=(()=>{var i;class s{constructor(){this.zone=$e(E1),this.applicationRef=$e(va)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function TV(){return!1}let NV=(()=>{class s{}return s.__NG_ELEMENT_ID__=kV,s})();function kV(i){return function PV(i,s,a){if(Wn(i)&&!a){const l=t1(i.index,s);return new Xo(l,l)}return 47&i.type?new Xo(s[T2],s):null}(O2(),ve(),16==(16&i))}class Jg{constructor(){}supports(s){return T6(s)}create(s){return new jV(s)}}const Xg=(i,s)=>s;class jV{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Xg}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,f=0,d=null;for(;a||l;){const v=!l||a&&a.currentIndex<tv(l,f,d)?a:l,C=tv(v,f,d),w=v.currentIndex;if(v===l)f--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)f++;else{d||(d=[]);const V=C-f,z=w-f;if(V!=z){for(let j=0;j<V;j++){const W=j<d.length?d[j]:d[j]=0,ce=W+j;z<=ce&&ce<V&&(d[j]=W+1)}d[v.previousIndex]=z-V}}C!==w&&s(v,C,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!T6(s))throw new Z(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,d,v,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)d=s[C],v=this._trackByFn(C,d),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,d,v,C)),Object.is(a.item,d)||this._addIdentityChange(a,d)):(a=this._mismatch(a,d,v,C),l=!0),a=a._next}else f=0,function wh(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,C=>{v=this._trackByFn(f,C),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,C,v,f)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,v,f),l=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,f){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,d,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,d,f)):s=this._addAfter(new ev(a,l),d,f),s}_verifyReinsertion(s,a,l,f){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==d?s=this._reinsertAfter(d,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,d=s._nextRemoved;return null===f?this._removalsHead=d:f._nextRemoved=d,null===d?this._removalsTail=f:d._prevRemoved=f,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const f=null===a?this._itHead:a._next;return s._next=f,s._prev=a,null===f?this._itTail=s:f._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new W5),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new W5),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ev{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $V{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class W5{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new $V,this.map.set(a,l)),l.add(s)}get(s,a){const f=this.map.get(s);return f?f.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tv(i,s,a){const l=i.previousIndex;if(null===l)return l;let f=0;return a&&l<a.length&&(f=a[l]),l+s+f}class nv{constructor(){}supports(s){return s instanceof Map||wu(s)}create(){return new GV}}class GV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||wu(s)))throw new Z(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const d=this._getOrCreateRecordForKey(f,l);a=this._insertBeforeOrAppend(a,d)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,a);const d=f._prev,v=f._next;return d&&(d._next=v),v&&(v._prev=d),f._next=null,f._prev=null,f}const l=new rv(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class rv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iv(){return new Z5([new Jg])}let Z5=(()=>{var i;class s{constructor(l){this.factories=l}static create(l,f){if(null!=f){const d=f.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:f=>s.create(l,f||iv()),deps:[[s,new Io,new ts]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(null!=f)return f;throw new Z(901,!1)}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:iv}),s})();function sv(){return new K5([new nv])}let K5=(()=>{var i;class s{constructor(l){this.factories=l}static create(l,f){if(f){const d=f.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:f=>s.create(l,f||sv()),deps:[[s,new Io,new ts]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(f)return f;throw new Z(901,!1)}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:sv}),s})();const KV=Fg(null,"core",[]);let YV=(()=>{var i;class s{constructor(l){}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(va))},i.\u0275mod=B4({type:i}),i.\u0275inj=m2({}),s})()},3106:(ht,Ie,k)=>{k.d(Ie,{Z:()=>st});var m=k(9058),R=k(4537),T=k(534),oe=k(7879);class me{constructor(be,Ae){this._delegate=be,this.firebase=Ae,(0,T._addComponent)(be,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(be,Ae=T._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(be);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ke=Je.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Ae})}_removeServiceInstance(be,Ae=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ae)}_addComponent(be){(0,T._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,T._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function Ee(){const le=function Pe(le){const be={},Ae={__esModule:!0,initializeApp:function Z(Le,K={}){const et=T.initializeApp(Le,K);if((0,m.r3)(be,et.name))return be[et.name];const nt=new le(et,Ae);return be[et.name]=nt,nt},app:Je,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function J(Le){const K=Le.name,et=K.replace("-compat","");if(T._registerComponent(Le)&&"PUBLIC"===Le.type){const nt=(Dt=Je())=>{if("function"!=typeof Dt[et])throw xe.create("invalid-app-argument",{appName:K});return Dt[et]()};void 0!==Le.serviceProps&&(0,m.ZB)(nt,Le.serviceProps),Ae[et]=nt,le.prototype[et]=function(...Dt){return this._getService.bind(this,K).apply(this,Le.multipleInstances?Dt:[])}}return"PUBLIC"===Le.type?Ae[et]:null},removeApp:function Ke(Le){delete be[Le]},useAsService:function pe(Le,K){return"serverAuth"===K?null:K},modularAPIs:T}};function Je(Le){if(!(0,m.r3)(be,Le=Le||T._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Le});return be[Le]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ue(){return Object.keys(be).map(Le=>be[Le])}}),Je.App=le,Ae}(me);return le.INTERNAL=Object.assign(Object.assign({},le.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function be(Ae){(0,m.ZB)(le,Ae)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),le}(),B=new oe.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const le=self.firebase.SDK_VERSION;le&&le.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const st=O;!function He(le){(0,T.registerVersion)("@firebase/app-compat","0.2.13",le)}()},534:(ht,Ie,k)=>{k.r(Ie),k.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>mn,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>a1,_addOrOverwriteComponent:()=>R1,_apps:()=>Ct,_clearComponents:()=>$t,_components:()=>jt,_getProvider:()=>y2,_registerComponent:()=>Lt,_removeServiceInstance:()=>On,deleteApp:()=>R2,getApp:()=>vn,getApps:()=>P2,initializeApp:()=>gn,onLog:()=>c2,registerVersion:()=>w1,setLogLevel:()=>Fn});var m=k(5861),R=k(4537),T=k(7879),oe=k(9058);const me=(se,Y)=>Y.some(_e=>se instanceof _e);let we,xe;const O=new WeakMap,B=new WeakMap,re=new WeakMap,Re=new WeakMap,He=new WeakMap;let be={get(se,Y,_e){if(se instanceof IDBTransaction){if("done"===Y)return B.get(se);if("objectStoreNames"===Y)return se.objectStoreNames||re.get(se);if("store"===Y)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Z(se[Y])},set:(se,Y,_e)=>(se[Y]=_e,!0),has:(se,Y)=>se instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in se};function Je(se){return"function"==typeof se?function Ke(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...Y){return se.apply(ue(this),Y),Z(O.get(this))}:function(...Y){return Z(se.apply(ue(this),Y))}:function(Y,..._e){const Ye=se.call(ue(this),Y,..._e);return re.set(Ye,Y.sort?Y.sort():[Y]),Z(Ye)}}(se):(se instanceof IDBTransaction&&function le(se){if(B.has(se))return;const Y=new Promise((_e,Ye)=>{const Oe=()=>{se.removeEventListener("complete",Vt),se.removeEventListener("error",Bt),se.removeEventListener("abort",Bt)},Vt=()=>{_e(),Oe()},Bt=()=>{Ye(se.error||new DOMException("AbortError","AbortError")),Oe()};se.addEventListener("complete",Vt),se.addEventListener("error",Bt),se.addEventListener("abort",Bt)});B.set(se,Y)}(se),me(se,function Pe(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,be):se)}function Z(se){if(se instanceof IDBRequest)return function st(se){const Y=new Promise((_e,Ye)=>{const Oe=()=>{se.removeEventListener("success",Vt),se.removeEventListener("error",Bt)},Vt=()=>{_e(Z(se.result)),Oe()},Bt=()=>{Ye(se.error),Oe()};se.addEventListener("success",Vt),se.addEventListener("error",Bt)});return Y.then(_e=>{_e instanceof IDBCursor&&O.set(_e,se)}).catch(()=>{}),He.set(Y,se),Y}(se);if(Re.has(se))return Re.get(se);const Y=Je(se);return Y!==se&&(Re.set(se,Y),He.set(Y,se)),Y}const ue=se=>He.get(se),Le=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],et=new Map;function nt(se,Y){if(!(se instanceof IDBDatabase)||Y in se||"string"!=typeof Y)return;if(et.get(Y))return et.get(Y);const _e=Y.replace(/FromIndex$/,""),Ye=Y!==_e,Oe=K.includes(_e);if(!(_e in(Ye?IDBIndex:IDBObjectStore).prototype)||!Oe&&!Le.includes(_e))return;const Vt=function(){var Bt=(0,m.Z)(function*(A2,...l2){const e1=this.transaction(A2,Oe?"readwrite":"readonly");let Bn=e1.store;return Ye&&(Bn=Bn.index(l2.shift())),(yield Promise.all([Bn[_e](...l2),Oe&&e1.done]))[0]});return function(l2){return Bt.apply(this,arguments)}}();return et.set(Y,Vt),Vt}!function Ae(se){be=se(be)}(se=>({...se,get:(Y,_e,Ye)=>nt(Y,_e)||se.get(Y,_e,Ye),has:(Y,_e)=>!!nt(Y,_e)||se.has(Y,_e)}));class Dt{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function X2(se){const Y=se.getComponent();return"VERSION"===Y?.type}(_e)){const Ye=_e.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(_e=>_e).join(" ")}}const hn="@firebase/app",o2=new T.Yd("@firebase/app"),ut="[DEFAULT]",Mt={[hn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,jt=new Map;function a1(se,Y){try{se.container.addComponent(Y)}catch(_e){o2.debug(`Component ${Y.name} failed to register with FirebaseApp ${se.name}`,_e)}}function R1(se,Y){se.container.addOrOverwriteComponent(Y)}function Lt(se){const Y=se.name;if(jt.has(Y))return o2.debug(`There were multiple attempts to register component ${Y}.`),!1;jt.set(Y,se);for(const _e of Ct.values())a1(_e,se);return!0}function y2(se,Y){const _e=se.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),se.container.getProvider(Y)}function On(se,Y,_e=ut){y2(se,Y).clearInstance(_e)}function $t(){jt.clear()}const Ht=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class C2{constructor(Y,_e,Ye){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const mn="9.23.0";function gn(se,Y={}){let _e=se;"object"!=typeof Y&&(Y={name:Y});const Ye=Object.assign({name:ut,automaticDataCollectionEnabled:!1},Y),Oe=Ye.name;if("string"!=typeof Oe||!Oe)throw Ht.create("bad-app-name",{appName:String(Oe)});if(_e||(_e=(0,oe.aH)()),!_e)throw Ht.create("no-options");const Vt=Ct.get(Oe);if(Vt){if((0,oe.vZ)(_e,Vt.options)&&(0,oe.vZ)(Ye,Vt.config))return Vt;throw Ht.create("duplicate-app",{appName:Oe})}const Bt=new R.H0(Oe);for(const l2 of jt.values())Bt.addComponent(l2);const A2=new C2(_e,Ye,Bt);return Ct.set(Oe,A2),A2}function vn(se=ut){const Y=Ct.get(se);if(!Y&&se===ut&&(0,oe.aH)())return gn();if(!Y)throw Ht.create("no-app",{appName:se});return Y}function P2(){return Array.from(Ct.values())}function R2(se){return G2.apply(this,arguments)}function G2(){return(G2=(0,m.Z)(function*(se){const Y=se.name;Ct.has(Y)&&(Ct.delete(Y),yield Promise.all(se.container.getProviders().map(_e=>_e.delete())),se.isDeleted=!0)})).apply(this,arguments)}function w1(se,Y,_e){var Ye;let Oe=null!==(Ye=Mt[se])&&void 0!==Ye?Ye:se;_e&&(Oe+=`-${_e}`);const Vt=Oe.match(/\s|\//),Bt=Y.match(/\s|\//);if(Vt||Bt){const A2=[`Unable to register library "${Oe}" with version "${Y}":`];return Vt&&A2.push(`library name "${Oe}" contains illegal characters (whitespace or "/")`),Vt&&Bt&&A2.push("and"),Bt&&A2.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void o2.warn(A2.join(" "))}Lt(new R.wA(`${Oe}-version`,()=>({library:Oe,version:Y}),"VERSION"))}function c2(se,Y){if(null!==se&&"function"!=typeof se)throw Ht.create("invalid-log-argument");(0,T.Am)(se,Y)}function Fn(se){(0,T.Ub)(se)}const O1="firebase-heartbeat-database",yn=1,F="firebase-heartbeat-store";let P=null;function x(){return P||(P=function J(se,Y,{blocked:_e,upgrade:Ye,blocking:Oe,terminated:Vt}={}){const Bt=indexedDB.open(se,Y),A2=Z(Bt);return Ye&&Bt.addEventListener("upgradeneeded",l2=>{Ye(Z(Bt.result),l2.oldVersion,l2.newVersion,Z(Bt.transaction),l2)}),_e&&Bt.addEventListener("blocked",l2=>_e(l2.oldVersion,l2.newVersion,l2)),A2.then(l2=>{Vt&&l2.addEventListener("close",()=>Vt()),Oe&&l2.addEventListener("versionchange",e1=>Oe(e1.oldVersion,e1.newVersion,e1))}).catch(()=>{}),A2}(O1,yn,{upgrade:(se,Y)=>{0===Y&&se.createObjectStore(F)}}).catch(se=>{throw Ht.create("idb-open",{originalErrorMessage:se.message})})),P}function E(){return(E=(0,m.Z)(function*(se){try{return yield(yield x()).transaction(F).objectStore(F).get(Ne(se))}catch(Y){if(Y instanceof oe.ZR)o2.warn(Y.message);else{const _e=Ht.create("idb-get",{originalErrorMessage:Y?.message});o2.warn(_e.message)}}})).apply(this,arguments)}function q(se,Y){return de.apply(this,arguments)}function de(){return(de=(0,m.Z)(function*(se,Y){try{const Ye=(yield x()).transaction(F,"readwrite");yield Ye.objectStore(F).put(Y,Ne(se)),yield Ye.done}catch(_e){if(_e instanceof oe.ZR)o2.warn(_e.message);else{const Ye=Ht.create("idb-set",{originalErrorMessage:_e?.message});o2.warn(Ye.message)}}})).apply(this,arguments)}function Ne(se){return`${se.name}!${se.options.appId}`}class Ft{constructor(Y){this.container=Y,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new It(_e),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var Y=this;return(0,m.Z)(function*(){const Ye=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Oe=vt();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==Oe&&!Y._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Oe))return Y._heartbeatsCache.heartbeats.push({date:Oe,agent:Ye}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Vt=>{const Bt=new Date(Vt.date).valueOf();return Date.now()-Bt<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,m.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const _e=vt(),{heartbeatsToSend:Ye,unsentEntries:Oe}=function Xt(se,Y=1024){const _e=[];let Ye=se.slice();for(const Oe of se){const Vt=_e.find(Bt=>Bt.agent===Oe.agent);if(Vt){if(Vt.dates.push(Oe.date),c1(_e)>Y){Vt.dates.pop();break}}else if(_e.push({agent:Oe.agent,dates:[Oe.date]}),c1(_e)>Y){_e.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:_e,unsentEntries:Ye}}(Y._heartbeatsCache.heartbeats),Vt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Ye}));return Y._heartbeatsCache.lastSentHeartbeatDate=_e,Oe.length>0?(Y._heartbeatsCache.heartbeats=Oe,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Vt})()}}function vt(){return(new Date).toISOString().substring(0,10)}class It{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,m.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function D(se){return E.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var _e=this;return(0,m.Z)(function*(){var Ye;if(yield _e._canUseIndexedDBPromise){const Vt=yield _e.read();return q(_e.app,{lastSentHeartbeatDate:null!==(Ye=Y.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Vt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var _e=this;return(0,m.Z)(function*(){var Ye;if(yield _e._canUseIndexedDBPromise){const Vt=yield _e.read();return q(_e.app,{lastSentHeartbeatDate:null!==(Ye=Y.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Y.heartbeats]})}})()}}function c1(se){return(0,oe.L)(JSON.stringify({version:2,heartbeats:se})).length}!function Sr(se){Lt(new R.wA("platform-logger",Y=>new Dt(Y),"PRIVATE")),Lt(new R.wA("heartbeat",Y=>new Ft(Y),"PRIVATE")),w1(hn,"0.9.13",se),w1(hn,"0.9.13","esm2017"),w1("fire-js","")}("")},4537:(ht,Ie,k)=>{k.d(Ie,{H0:()=>Pe,wA:()=>T});var m=k(5861),R=k(9058);class T{constructor(O,B,re){this.name=O,this.instanceFactory=B,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const oe="[DEFAULT]";class me{constructor(O,B){this.name=O,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const B=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(B)){const re=new R.BH;if(this.instancesDeferred.set(B,re),this.isInitialized(B)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:B});Re&&re.resolve(Re)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(O){var B;const re=this.normalizeInstanceIdentifier(O?.identifier),Re=null!==(B=O?.optional)&&void 0!==B&&B;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(He){if(Re)return null;throw He}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function xe(Ee){return"EAGER"===Ee.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[B,re]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(B);try{const He=this.getOrInitializeService({instanceIdentifier:Re});re.resolve(He)}catch{}}}}clearInstance(O=oe){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,m.Z)(function*(){const B=Array.from(O.instances.values());yield Promise.all([...B.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...B.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=oe){return this.instances.has(O)}getOptions(O=oe){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:B={}}=O,re=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:re,options:B});for(const[He,st]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(He)&&st.resolve(Re);return Re}onInit(O,B){var re;const Re=this.normalizeInstanceIdentifier(B),He=null!==(re=this.onInitCallbacks.get(Re))&&void 0!==re?re:new Set;He.add(O),this.onInitCallbacks.set(Re,He);const st=this.instances.get(Re);return st&&O(st,Re),()=>{He.delete(O)}}invokeOnInitCallbacks(O,B){const re=this.onInitCallbacks.get(B);if(re)for(const Re of re)try{Re(O,B)}catch{}}getOrInitializeService({instanceIdentifier:O,options:B={}}){let re=this.instances.get(O);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=O,Ee===oe?void 0:Ee),options:B}),this.instances.set(O,re),this.instancesOptions.set(O,B),this.invokeOnInitCallbacks(re,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,re)}catch{}var Ee;return re||null}normalizeInstanceIdentifier(O=oe){return this.component?this.component.multipleInstances?O:oe:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const B=this.getProvider(O.name);if(B.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);B.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const B=new me(O,this);return this.providers.set(O,B),B}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,Ie,k)=>{k.d(Ie,{Am:()=>Ee,Ub:()=>Pe,Yd:()=>xe,in:()=>R});const m=[];var R=function(O){return O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",O}(R||{});const T={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},oe=R.INFO,me={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},we=(O,B,...re)=>{if(B<O.logLevel)return;const Re=(new Date).toISOString(),He=me[B];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[He](`[${Re}]  ${O.name}:`,...re)};class xe{constructor(B){this.name=B,this._logLevel=oe,this._logHandler=we,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in R))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?T[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...B),this._logHandler(this,R.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...B),this._logHandler(this,R.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,R.INFO,...B),this._logHandler(this,R.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,R.WARN,...B),this._logHandler(this,R.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...B),this._logHandler(this,R.ERROR,...B)}}function Pe(O){m.forEach(B=>{B.setLogLevel(O)})}function Ee(O,B){for(const re of m){let Re=null;B&&B.level&&(Re=T[B.level]),re.userLogHandler=null===O?null:(He,st,...le)=>{const be=le.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");st>=(Re??He.logLevel)&&O({level:R[st].toLowerCase(),message:be,args:le,type:He.name})}}}},7142:(ht,Ie,k)=>{k.d(Ie,{Z:()=>m.Z});var m=k(3106);m.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(ht,Ie,k)=>{k.r(Ie);var m=k(5861),R=k(3106),T=k(6878),oe=k(9058),xe=(k(534),k(7879),k(4537));function Pe(){return window}function B(){return B=(0,m.Z)(function*(x,D,E){var q;const{BuildInfo:de}=Pe();(0,T.as)(D.sessionId,"AuthEvent did not contain a session ID");const Ne=yield function Ae(x){return Ke.apply(this,arguments)}(D.sessionId),gt={};return(0,T.at)()?gt.ibi=de.packageName:(0,T.au)()?gt.apn=de.packageName:(0,T.av)(x,"operation-not-supported-in-this-environment"),de.displayName&&(gt.appDisplayName=de.displayName),gt.sessionId=Ne,(0,T.aw)(x,E,D.type,void 0,null!==(q=D.eventId)&&void 0!==q?q:void 0,gt)}),B.apply(this,arguments)}function Re(){return(Re=(0,m.Z)(function*(x){const{BuildInfo:D}=Pe(),E={};(0,T.at)()?E.iosBundleId=D.packageName:(0,T.au)()?E.androidPackageName=D.packageName:(0,T.av)(x,"operation-not-supported-in-this-environment"),yield(0,T.ax)(x,E)})).apply(this,arguments)}function le(){return(le=(0,m.Z)(function*(x,D,E){const{cordova:q}=Pe();let de=()=>{};try{yield new Promise((Ne,gt)=>{let $e=null;function Ft(){var It;Ne();const c1=null===(It=q.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof c1&&c1(),"function"==typeof E?.close&&E.close()}function vt(){$e||($e=window.setTimeout(()=>{gt((0,T.az)(x,"redirect-cancelled-by-user"))},2e3))}function Xt(){"visible"===document?.visibilityState&&vt()}D.addPassiveListener(Ft),document.addEventListener("resume",vt,!1),(0,T.au)()&&document.addEventListener("visibilitychange",Xt,!1),de=()=>{D.removePassiveListener(Ft),document.removeEventListener("resume",vt,!1),document.removeEventListener("visibilitychange",Xt,!1),$e&&window.clearTimeout($e)}})}finally{de()}})).apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(function*(x){const D=function Je(x){if((0,T.as)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const D=new ArrayBuffer(x.length),E=new Uint8Array(D);for(let q=0;q<x.length;q++)E[q]=x.charCodeAt(q);return E}(x),E=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(E)).map(de=>de.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ue extends T.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(D)),super.onEvent(D)}initialized(){var D=this;return(0,m.Z)(function*(){yield D.initPromise})()}}function Le(x){return K.apply(this,arguments)}function K(){return(K=(0,m.Z)(function*(x){const D=yield Dt()._get(X2(x));return D&&(yield Dt()._remove(X2(x))),D})).apply(this,arguments)}function nt(){const x=[];for(let E=0;E<20;E++){const q=Math.floor(62*Math.random());x.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(q))}return x.join("")}function Dt(){return(0,T.aC)(T.b)}function X2(x){return(0,T.aD)("authEvent",x.config.apiKey,x.name)}function o2(x){if(!x?.includes("?"))return{};const[D,...E]=x.split("?");return(0,oe.zd)(E.join("?"))}const te=class ur{constructor(){this._redirectPersistence=T.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=T.aE,this._overrideRedirectResult=T.aF}_initialize(D){var E=this;return(0,m.Z)(function*(){const q=D._key();let de=E.eventManagers.get(q);return de||(de=new ue(D),E.eventManagers.set(q,de),E.attachCallbackListeners(D,de)),de})()}_openPopup(D){(0,T.av)(D,"operation-not-supported-in-this-environment")}_openRedirect(D,E,q,de){var Ne=this;return(0,m.Z)(function*(){!function be(x){var D,E,q,de,Ne,gt,$e,Ft,vt,Xt;const It=Pe();(0,T.aA)("function"==typeof(null===(D=It?.universalLinks)||void 0===D?void 0:D.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,T.aA)(typeof(null===(E=It?.BuildInfo)||void 0===E?void 0:E.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,T.aA)("function"==typeof(null===(Ne=null===(de=null===(q=It?.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ne?void 0:Ne.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.aA)("function"==typeof(null===(Ft=null===($e=null===(gt=It?.cordova)||void 0===gt?void 0:gt.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===Ft?void 0:Ft.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.aA)("function"==typeof(null===(Xt=null===(vt=It?.cordova)||void 0===vt?void 0:vt.InAppBrowser)||void 0===Xt?void 0:Xt.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const gt=yield Ne._initialize(D);yield gt.initialized(),gt.resetRedirect(),(0,T.aG)(),yield Ne._originValidation(D);const $e=function J(x,D,E=null){return{type:D,eventId:E,urlResponse:null,sessionId:nt(),postBody:null,tenantId:x.tenantId,error:(0,T.az)(x,"no-auth-event")}}(D,q,de);yield function pe(x,D){return Dt()._set(X2(x),D)}(D,$e);const Ft=yield function O(x,D,E){return B.apply(this,arguments)}(D,$e,E),vt=yield function He(x){const{cordova:D}=Pe();return new Promise(E=>{D.plugins.browsertab.isAvailable(q=>{let de=null;q?D.plugins.browsertab.openUrl(x):de=D.InAppBrowser.open(x,(0,T.ay)()?"_blank":"_system","location=yes"),E(de)})})}(Ft);return function st(x,D,E){return le.apply(this,arguments)}(D,gt,vt)})()}_isIframeWebStorageSupported(D,E){throw new Error("Method not implemented.")}_originValidation(D){const E=D._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function re(x){return Re.apply(this,arguments)}(D)),this.originValidationPromises[E]}attachCallbackListeners(D,E){const{universalLinks:q,handleOpenURL:de,BuildInfo:Ne}=Pe(),gt=setTimeout((0,m.Z)(function*(){yield Le(D),E.onEvent(ie())}),500),$e=function(){var Xt=(0,m.Z)(function*(It){clearTimeout(gt);const c1=yield Le(D);let Sr=null;c1&&It?.url&&(Sr=function et(x,D){var E,q;const de=function Rn(x){const D=o2(x),E=D.link?decodeURIComponent(D.link):void 0,q=o2(E).link,de=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return o2(de).link||de||q||E||x}(D);if(de.includes("/__/auth/callback")){const Ne=o2(de),gt=Ne.firebaseError?function hn(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Ne.firebaseError)):null,$e=null===(q=null===(E=gt?.code)||void 0===E?void 0:E.split("auth/"))||void 0===q?void 0:q[1],Ft=$e?(0,T.az)($e):null;return Ft?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:de,postBody:null}}return null}(c1,It.url)),E.onEvent(Sr||ie())});return function(c1){return Xt.apply(this,arguments)}}();typeof q<"u"&&"function"==typeof q.subscribe&&q.subscribe(null,$e);const Ft=de,vt=`${Ne.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var Xt=(0,m.Z)(function*(It){if(It.toLowerCase().startsWith(vt)&&$e({url:It}),"function"==typeof Ft)try{Ft(It)}catch(c1){console.error(c1)}});return function(It){return Xt.apply(this,arguments)}}()}};function ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,T.az)("no-auth-event")}}function Qe(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Qt(x=(0,oe.z$)()){return!("file:"!==Qe()&&"ionic:"!==Qe()&&"capacitor:"!==Qe()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function m2(){try{const x=self.localStorage,D=T.aL();if(x)return x.setItem(D,"1"),x.removeItem(D),!function Kt(x=(0,oe.z$)()){return function Ut(){return(0,oe.w1)()&&11===document?.documentMode}()||function bt(x=(0,oe.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,oe.hl)()}catch{return g2()&&(0,oe.hl)()}return!1}function g2(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jt(){return(function ke(){return"http:"===Qe()||"https:"===Qe()}()||(0,oe.ru)()||Qt())&&!function mt(){return(0,oe.b$)()||(0,oe.UG)()}()&&m2()&&!g2()}function E2(){return Qt()&&typeof document<"u"}function P1(){return(P1=(0,m.Z)(function*(){return!!E2()&&new Promise(x=>{const D=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(D),x(!0)})})})).apply(this,arguments)}const v2={LOCAL:"local",NONE:"none",SESSION:"session"},o1=T.aA,zn="persistence";function Mt(x){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(x){yield x._initializationPromise;const D=a1(),E=T.aD(zn,x.config.apiKey,x.name);D&&D.setItem(E,x._getPersistence())})).apply(this,arguments)}function a1(){var x;try{return(null===(x=function s1(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const R1=T.aA;class Lt{constructor(){this.browserResolver=T.aC(T.k),this.cordovaResolver=T.aC(te),this.underlyingResolver=null,this._redirectPersistence=T.a,this._completeRedirectFn=T.aE,this._overrideRedirectResult=T.aF}_initialize(D){var E=this;return(0,m.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,E,q,de){var Ne=this;return(0,m.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openPopup(D,E,q,de)})()}_openRedirect(D,E,q,de){var Ne=this;return(0,m.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openRedirect(D,E,q,de)})()}_isIframeWebStorageSupported(D,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,E)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return E2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return R1(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,m.Z)(function*(){if(D.underlyingResolver)return;const E=yield function k1(){return P1.apply(this,arguments)}();D.underlyingResolver=E?D.cordovaResolver:D.browserResolver})()}}function y2(x){return x.unwrap()}function $t(x){return Ht(x)}function Ht(x){const{_tokenResponse:D}=x instanceof oe.ZR?x.customData:x;if(!D)return null;if(!(x instanceof oe.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return T.P.credentialFromResult(x);const E=D.providerId;if(!E||E===T.p.PASSWORD)return null;let q;switch(E){case T.p.GOOGLE:q=T.V;break;case T.p.FACEBOOK:q=T.U;break;case T.p.GITHUB:q=T.W;break;case T.p.TWITTER:q=T.Z;break;default:const{oauthIdToken:de,oauthAccessToken:Ne,oauthTokenSecret:gt,pendingToken:$e,nonce:Ft}=D;return Ne||gt||de||$e?$e?E.startsWith("saml.")?T.aO._create(E,$e):T.L._fromParams({providerId:E,signInMethod:E,pendingToken:$e,idToken:de,accessToken:Ne}):new T.X(E).credential({idToken:de,accessToken:Ne,rawNonce:Ft}):null}return x instanceof oe.ZR?q.credentialFromError(x):q.credentialFromResult(x)}function C2(x,D){return D.catch(E=>{throw E instanceof oe.ZR&&function fr(x,D){var E;const q=null===(E=D.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===D?.code)D.resolver=new vn(x,T.aq(x,D));else if(q){const de=Ht(D),Ne=D;de&&(Ne.credential=de,Ne.tenantId=q.tenantId||void 0,Ne.email=q.email||void 0,Ne.phoneNumber=q.phoneNumber||void 0)}}(x,E),E}).then(E=>{const de=E.user;return{operationType:E.operationType,credential:$t(E),additionalUserInfo:T.ao(E),user:P2.getOrCreate(de)}})}function mn(x,D){return gn.apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(x,D){const E=yield D;return{verificationId:E.verificationId,confirm:q=>C2(x,E.confirm(q))}})).apply(this,arguments)}class vn{constructor(D,E){this.resolver=E,this.auth=function On(x){return x.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return C2(y2(this.auth),this.resolver.resolveSignIn(D))}}class P2{constructor(D){this._delegate=D,this.multiFactor=T.ar(D)}static getOrCreate(D){return P2.USER_MAP.has(D)||P2.USER_MAP.set(D,new P2(D)),P2.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var E=this;return(0,m.Z)(function*(){return C2(E.auth,T.a0(E._delegate,D))})()}linkWithPhoneNumber(D,E){var q=this;return(0,m.Z)(function*(){return mn(q.auth,T.l(q._delegate,D,E))})()}linkWithPopup(D){var E=this;return(0,m.Z)(function*(){return C2(E.auth,T.d(E._delegate,D,Lt))})()}linkWithRedirect(D){var E=this;return(0,m.Z)(function*(){return yield Mt(T.aH(E.auth)),T.g(E._delegate,D,Lt)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var E=this;return(0,m.Z)(function*(){return C2(E.auth,T.a1(E._delegate,D))})()}reauthenticateWithPhoneNumber(D,E){return mn(this.auth,T.r(this._delegate,D,E))}reauthenticateWithPopup(D){return C2(this.auth,T.e(this._delegate,D,Lt))}reauthenticateWithRedirect(D){var E=this;return(0,m.Z)(function*(){return yield Mt(T.aH(E.auth)),T.h(E._delegate,D,Lt)})()}sendEmailVerification(D){return T.ae(this._delegate,D)}unlink(D){var E=this;return(0,m.Z)(function*(){return yield T.an(E._delegate,D),E})()}updateEmail(D){return T.aj(this._delegate,D)}updatePassword(D){return T.ak(this._delegate,D)}updatePhoneNumber(D){return T.u(this._delegate,D)}updateProfile(D){return T.ai(this._delegate,D)}verifyBeforeUpdateEmail(D,E){return T.af(this._delegate,D,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}P2.USER_MAP=new WeakMap;const R2=T.aA;let G2=(()=>{class x{constructor(E,q){if(this.app=E,q.isInitialized())return this._delegate=q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:de}=E.options;R2(de,"invalid-api-key",{appName:E.name}),R2(de,"invalid-api-key",{appName:E.name});const Ne=typeof window<"u"?Lt:void 0;this._delegate=q.initialize({options:{persistence:c2(de,E.name),popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(T.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?P2.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,q){T.I(this._delegate,E,q)}applyActionCode(E){return T.a5(this._delegate,E)}checkActionCode(E){return T.a6(this._delegate,E)}confirmPasswordReset(E,q){return T.a4(this._delegate,E,q)}createUserWithEmailAndPassword(E,q){var de=this;return(0,m.Z)(function*(){return C2(de._delegate,T.a8(de._delegate,E,q))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return T.ad(this._delegate,E)}isSignInWithEmailLink(E){return T.ab(this._delegate,E)}getRedirectResult(){var E=this;return(0,m.Z)(function*(){R2(Jt(),E._delegate,"operation-not-supported-in-this-environment");const q=yield T.j(E._delegate,Lt);return q?C2(E._delegate,Promise.resolve(q)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function fe(x,D){(0,T.aH)(x)._logFramework(D)}(this._delegate,E)}onAuthStateChanged(E,q,de){const{next:Ne,error:gt,complete:$e}=w1(E,q,de);return this._delegate.onAuthStateChanged(Ne,gt,$e)}onIdTokenChanged(E,q,de){const{next:Ne,error:gt,complete:$e}=w1(E,q,de);return this._delegate.onIdTokenChanged(Ne,gt,$e)}sendSignInLinkToEmail(E,q){return T.aa(this._delegate,E,q)}sendPasswordResetEmail(E,q){return T.a3(this._delegate,E,q||void 0)}setPersistence(E){var q=this;return(0,m.Z)(function*(){let de;switch(function ut(x,D){o1(Object.values(v2).includes(D),x,"invalid-persistence-type"),(0,oe.b$)()?o1(D!==v2.SESSION,x,"unsupported-persistence-type"):(0,oe.UG)()?o1(D===v2.NONE,x,"unsupported-persistence-type"):g2()?o1(D===v2.NONE||D===v2.LOCAL&&(0,oe.hl)(),x,"unsupported-persistence-type"):o1(D===v2.NONE||m2(),x,"unsupported-persistence-type")}(q._delegate,E),E){case v2.SESSION:de=T.a;break;case v2.LOCAL:de=(yield T.aC(T.i)._isAvailable())?T.i:T.b;break;case v2.NONE:de=T.N;break;default:return T.av("argument-error",{appName:q._delegate.name})}return q._delegate.setPersistence(de)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return C2(this._delegate,T._(this._delegate))}signInWithCredential(E){return C2(this._delegate,T.$(this._delegate,E))}signInWithCustomToken(E){return C2(this._delegate,T.a2(this._delegate,E))}signInWithEmailAndPassword(E,q){return C2(this._delegate,T.a9(this._delegate,E,q))}signInWithEmailLink(E,q){return C2(this._delegate,T.ac(this._delegate,E,q))}signInWithPhoneNumber(E,q){return mn(this._delegate,T.s(this._delegate,E,q))}signInWithPopup(E){var q=this;return(0,m.Z)(function*(){return R2(Jt(),q._delegate,"operation-not-supported-in-this-environment"),C2(q._delegate,T.c(q._delegate,E,Lt))})()}signInWithRedirect(E){var q=this;return(0,m.Z)(function*(){return R2(Jt(),q._delegate,"operation-not-supported-in-this-environment"),yield Mt(q._delegate),T.f(q._delegate,E,Lt)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return T.a7(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=v2,x})();function w1(x,D,E){let q=x;"function"!=typeof x&&({next:q,error:D,complete:E}=x);const de=q;return{next:gt=>de(gt&&P2.getOrCreate(gt)),error:D,complete:E}}function c2(x,D){const E=function jt(x,D){const E=a1();if(!E)return[];const q=T.aD(zn,x,D);switch(E.getItem(q)){case v2.NONE:return[T.N];case v2.LOCAL:return[T.i,T.a];case v2.SESSION:return[T.a];default:return[]}}(x,D);if(typeof self<"u"&&!E.includes(T.i)&&E.push(T.i),typeof window<"u")for(const q of[T.b,T.a])E.includes(q)||E.push(q);return E.includes(T.N)||E.push(T.N),E}class Fn{constructor(){this.providerId="phone",this._delegate=new T.P(y2(R.Z.auth()))}static credential(D,E){return T.P.credential(D,E)}verifyPhoneNumber(D,E){return this._delegate.verifyPhoneNumber(D,E)}unwrap(){return this._delegate}}Fn.PHONE_SIGN_IN_METHOD=T.P.PHONE_SIGN_IN_METHOD,Fn.PROVIDER_ID=T.P.PROVIDER_ID;const O1=T.aA;class yn{constructor(D,E,q=R.Z.app()){var de;O1(null===(de=q.options)||void 0===de?void 0:de.apiKey,"invalid-api-key",{appName:q.name}),this._delegate=new T.R(D,E,q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function P(x){x.INTERNAL.registerComponent(new xe.wA("auth-compat",D=>{const E=D.getProvider("app-compat").getImmediate(),q=D.getProvider("auth");return new G2(E,q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:T.A.EMAIL_SIGNIN,PASSWORD_RESET:T.A.PASSWORD_RESET,RECOVER_EMAIL:T.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:T.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:T.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:T.A.VERIFY_EMAIL}},EmailAuthProvider:T.Q,FacebookAuthProvider:T.U,GithubAuthProvider:T.W,GoogleAuthProvider:T.V,OAuthProvider:T.X,SAMLAuthProvider:T.Y,PhoneAuthProvider:Fn,PhoneMultiFactorGenerator:T.m,RecaptchaVerifier:yn,TwitterAuthProvider:T.Z,Auth:G2,AuthCredential:T.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.2")}(R.Z)},5861:(ht,Ie,k)=>{function m(T,oe,me,we,xe,Pe,Ee){try{var O=T[Pe](Ee),B=O.value}catch(re){return void me(re)}O.done?oe(B):Promise.resolve(B).then(we,xe)}function R(T){return function(){var oe=this,me=arguments;return new Promise(function(we,xe){var Pe=T.apply(oe,me);function Ee(B){m(Pe,we,xe,Ee,O,"next",B)}function O(B){m(Pe,we,xe,Ee,O,"throw",B)}Ee(void 0)})}}k.d(Ie,{Z:()=>R})},7582:(ht,Ie,k)=>{function oe(te,ie){var fe={};for(var X in te)Object.prototype.hasOwnProperty.call(te,X)&&ie.indexOf(X)<0&&(fe[X]=te[X]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(X=Object.getOwnPropertySymbols(te);he<X.length;he++)ie.indexOf(X[he])<0&&Object.prototype.propertyIsEnumerable.call(te,X[he])&&(fe[X[he]]=te[X[he]])}return fe}function re(te,ie,fe,X){return new(fe||(fe=Promise))(function(ze,Qe){function ke(Ut){try{mt(X.next(Ut))}catch(bt){Qe(bt)}}function Qt(Ut){try{mt(X.throw(Ut))}catch(bt){Qe(bt)}}function mt(Ut){Ut.done?ze(Ut.value):function he(ze){return ze instanceof fe?ze:new fe(function(Qe){Qe(ze)})}(Ut.value).then(ke,Qt)}mt((X=X.apply(te,ie||[])).next())})}function Z(te){return this instanceof Z?(this.v=te,this):new Z(te)}function ue(te,ie,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=fe.apply(te,ie||[]),ze=[];return he={},Qe("next"),Qe("throw"),Qe("return"),he[Symbol.asyncIterator]=function(){return this},he;function Qe(Kt){X[Kt]&&(he[Kt]=function(m2){return new Promise(function(g2,Jt){ze.push([Kt,m2,g2,Jt])>1||ke(Kt,m2)})})}function ke(Kt,m2){try{!function Qt(Kt){Kt.value instanceof Z?Promise.resolve(Kt.value.v).then(mt,Ut):bt(ze[0][2],Kt)}(X[Kt](m2))}catch(g2){bt(ze[0][3],g2)}}function mt(Kt){ke("next",Kt)}function Ut(Kt){ke("throw",Kt)}function bt(Kt,m2){Kt(m2),ze.shift(),ze.length&&ke(ze[0][0],ze[0][1])}}function pe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ie=te[Symbol.asyncIterator];return ie?ie.call(te):(te=function le(te){var ie="function"==typeof Symbol&&Symbol.iterator,fe=ie&&te[ie],X=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&X>=te.length&&(te=void 0),{value:te&&te[X++],done:!te}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},X("next"),X("throw"),X("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function X(ze){fe[ze]=te[ze]&&function(Qe){return new Promise(function(ke,Qt){!function he(ze,Qe,ke,Qt){Promise.resolve(Qt).then(function(mt){ze({value:mt,done:ke})},Qe)}(ke,Qt,(Qe=te[ze](Qe)).done,Qe.value)})}}}k.d(Ie,{FC:()=>ue,KL:()=>pe,_T:()=>oe,mG:()=>re,qq:()=>Z}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=9921)}]);