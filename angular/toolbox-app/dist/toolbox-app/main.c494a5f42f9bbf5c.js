"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{3:()=>{function Be(t){return"function"==typeof t}function ro(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const io=ro(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Wi(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class p1{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Be(r))try{r()}catch(s){e=s instanceof io?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{UC(s)}catch(a){e=e??[],a instanceof io?e=[...e,...a.errors]:e.push(a)}}if(e)throw new io(e)}}add(e){var n;if(e&&e!==this)if(this.closed)UC(e);else{if(e instanceof p1){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wi(n,e)}remove(e){const{_finalizers:n}=this;n&&Wi(n,e),e instanceof p1&&e._removeParent(this)}}p1.EMPTY=(()=>{const t=new p1;return t.closed=!0,t})();const FC=p1.EMPTY;function BC(t){return t instanceof p1||t&&"closed"in t&&Be(t.remove)&&Be(t.add)&&Be(t.unsubscribe)}function UC(t){Be(t)?t():t.unsubscribe()}const Fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},so={setTimeout(t,e,...n){const{delegate:r}=so;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=so;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jC(t){so.setTimeout(()=>{const{onUnhandledError:e}=Fr;if(!e)throw t;e(t)})}function $C(){}const TW=v5("C",void 0,void 0);function v5(t,e,n){return{kind:t,value:e,error:n}}let Br=null;function ao(t){if(Fr.useDeprecatedSynchronousErrorHandling){const e=!Br;if(e&&(Br={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Br;if(Br=null,n)throw r}}else t()}class _5 extends p1{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,BC(e)&&e.add(this)):this.destination=BW}static create(e,n,r){return new J3(e,n,r)}next(e){this.isStopped?C5(function kW(t){return v5("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?C5(function NW(t){return v5("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?C5(TW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const RW=Function.prototype.bind;function y5(t,e){return RW.call(t,e)}class OW{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){co(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){co(r)}else co(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){co(n)}}}class J3 extends _5{constructor(e,n,r){let i;if(super(),Be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Fr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&y5(e.next,s),error:e.error&&y5(e.error,s),complete:e.complete&&y5(e.complete,s)}):i=e}this.destination=new OW(i)}}function co(t){Fr.useDeprecatedSynchronousErrorHandling?function PW(t){Fr.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=t)}(t):jC(t)}function C5(t,e){const{onStoppedNotification:n}=Fr;n&&so.setTimeout(()=>n(t,e))}const BW={closed:!0,next:$C,error:function FW(t){throw t},complete:$C},M5="function"==typeof Symbol&&Symbol.observable||"@@observable";function oo(t){return t}let Ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function jW(t){return t&&t instanceof _5||function UW(t){return t&&Be(t.next)&&Be(t.error)&&Be(t.complete)}(t)&&BC(t)}(n)?n:new J3(n,r,i);return ao(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qC(r))((i,s)=>{const a=new J3({next:c=>{try{n(c)}catch(o){s(o),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[M5](){return this}pipe(...n){return function GC(t){return 0===t.length?oo:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=qC(n))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return t.create=e=>new t(e),t})();function qC(t){var e;return null!==(e=t??Fr.Promise)&&void 0!==e?e:Promise}const $W=ro(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lo=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new WC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $W}next(n){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?FC:(this.currentObservers=null,s.push(n),new p1(()=>{this.currentObservers=null,Wi(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ye;return n.source=this,n}}return t.create=(e,n)=>new WC(e,n),t})();class WC extends lo{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:FC}}class GW extends lo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function qn(t){return e=>{if(function qW(t){return Be(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function an(t,e,n,r,i){return new WW(t,e,n,r,i)}class WW extends _5{constructor(e,n,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(o){e.error(o)}}:super._next,this._error=i?function(c){try{i(c)}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Z3(t,e){return qn((n,r)=>{let i=0;n.subscribe(an(r,s=>{r.next(t.call(e,s,i++))}))})}function uo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Wn(t){return this instanceof Wn?(this.v=t,this):new Wn(t)}function XC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function H5(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,o){!function i(s,a,c,o){Promise.resolve(o).then(function(l){s({value:l,done:c})},a)}(c,o,(a=t[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const JC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ZC(t){return Be(t?.then)}function eM(t){return Be(t[M5])}function tM(t){return Symbol.asyncIterator&&Be(t?.[Symbol.asyncIterator])}function nM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rM=function pK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function iM(t){return Be(t?.[rM])}function sM(t){return function YC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||c(d,h)})})}function c(d,h){try{!function o(d){d.value instanceof Wn?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){c("next",d)}function u(d){c("throw",d)}function f(d,h){d(h),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Wn(n.read());if(i)return yield Wn(void 0);yield yield Wn(r)}}finally{n.releaseLock()}})}function aM(t){return Be(t?.getReader)}function E1(t){if(t instanceof Ye)return t;if(null!=t){if(eM(t))return function mK(t){return new Ye(e=>{const n=t[M5]();if(Be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(JC(t))return function gK(t){return new Ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(ZC(t))return function vK(t){return new Ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jC)})}(t);if(tM(t))return cM(t);if(iM(t))return function _K(t){return new Ye(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(aM(t))return function yK(t){return cM(sM(t))}(t)}throw nM(t)}function cM(t){return new Ye(e=>{(function CK(t,e){var n,r,i,s;return function KC(t,e,n,r){return new(n||(n=Promise))(function(s,a){function c(u){try{l(r.next(u))}catch(f){a(f)}}function o(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(a){a(s)})}(u.value).then(c,o)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=XC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Kn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function oM(t,e,n=1/0){return Be(e)?oM((r,i)=>Z3((s,a)=>e(r,s,i,a))(E1(t(r,i))),n):("number"==typeof e&&(n=e),qn((r,i)=>function MK(t,e,n,r,i,s,a,c){const o=[];let l=0,u=0,f=!1;const d=()=>{f&&!o.length&&!l&&e.complete()},h=g=>l<r?p(g):o.push(g),p=g=>{s&&e.next(g),l++;let v=!1;E1(n(g,u++)).subscribe(an(e,C=>{i?.(C),s?h(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;o.length&&l<r;){const C=o.shift();a?Kn(e,a,()=>p(C)):p(C)}d()}catch(C){e.error(C)}}))};return t.subscribe(an(e,h,()=>{f=!0,d()})),()=>{c?.()}}(r,i,t,n)))}const lM=new Ye(t=>t.complete());function z5(t){return t[t.length-1]}function uM(t){return function bK(t){return t&&Be(t.schedule)}(z5(t))?t.pop():void 0}function fo(t,e=0){return qn((n,r)=>{n.subscribe(an(r,i=>Kn(r,t,()=>r.next(i),e),()=>Kn(r,t,()=>r.complete(),e),i=>Kn(r,t,()=>r.error(i),e)))})}function ho(t,e=0){return qn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fM(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ye(n=>{Kn(n,e,()=>{const r=t[Symbol.asyncIterator]();Kn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function S5(t,e){return e?function DK(t,e){if(null!=t){if(eM(t))return function SK(t,e){return E1(t).pipe(ho(e),fo(e))}(t,e);if(JC(t))return function IK(t,e){return new Ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(ZC(t))return function xK(t,e){return E1(t).pipe(ho(e),fo(e))}(t,e);if(tM(t))return fM(t,e);if(iM(t))return function EK(t,e){return new Ye(n=>{let r;return Kn(n,e,()=>{r=t[rM](),Kn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void n.error(a)}s?n.complete():n.next(i)},0,!0)}),()=>Be(r?.return)&&r.return()})}(t,e);if(aM(t))return function LK(t,e){return fM(sM(t),e)}(t,e)}throw nM(t)}(t,e):E1(t)}function AK(...t){const e=uM(t),n=function zK(t,e){return"number"==typeof z5(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?E1(r[0]):function wK(t=1/0){return oM(oo,t)}(n)(S5(r,e)):lM}function dM(t={}){const{connector:e=(()=>new lo),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let a,c,o,l=0,u=!1,f=!1;const d=()=>{c?.unsubscribe(),c=void 0},h=()=>{d(),a=o=void 0,u=f=!1},p=()=>{const g=a;h(),g?.unsubscribe()};return qn((g,v)=>{l++,!f&&!u&&d();const C=o=o??e();v.add(()=>{l--,0===l&&!f&&!u&&(c=x5(p,i))}),C.subscribe(v),!a&&l>0&&(a=new J3({next:_=>C.next(_),error:_=>{f=!0,d(),c=x5(h,n,_),C.error(_)},complete:()=>{u=!0,d(),c=x5(h,r),C.complete()}}),E1(g).subscribe(a))})(s)}}function x5(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new J3({next:()=>{r.unsubscribe(),t()}});return E1(e(...n)).subscribe(r)}function PK(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function po(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function w2(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(w2).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function I5(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const RK=Me({__forward_ref__:Me});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return w2(this())},t}function Y(t){return E5(t)?t():t}function E5(t){return"function"==typeof t&&t.hasOwnProperty(RK)&&t.__forward_ref__===Se}function L5(t){return t&&!!t.\u0275providers}const hM="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function mo(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function D5(t,e){throw new S(-201,!1)}function e1(t,e){null==t&&function W(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function m2(t){return{providers:t.providers||[],imports:t.imports||[]}}function go(t){return pM(t,_o)||pM(t,mM)}function pM(t,e){return t.hasOwnProperty(e)?t[e]:null}function vo(t){return t&&(t.hasOwnProperty(A5)||t.hasOwnProperty(GK))?t[A5]:null}const _o=Me({\u0275prov:Me}),A5=Me({\u0275inj:Me}),mM=Me({ngInjectableDef:Me}),GK=Me({ngInjectorDef:Me});var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{});let T5;function St(t){const e=T5;return T5=t,e}function vM(t,e,n){const r=go(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&le.Optional?null:void 0!==e?e:void D5(w2(t))}const He=globalThis,es={},O5="__NG_DI_FLAG__",yo="ngTempTokenPath",KK=/\n/gm,yM="__source";let Ki;function Qn(t){const e=Ki;return Ki=t,e}function XK(t,e=le.Default){if(void 0===Ki)throw new S(-203,!1);return null===Ki?vM(t,void 0,e):Ki.get(t,e&le.Optional?null:void 0,e)}function ae(t,e=le.Default){return(function gM(){return T5}()||XK)(Y(t),e)}function O(t,e=le.Default){return ae(t,Co(e))}function Co(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function F5(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=le.Default;for(let a=0;a<r.length;a++){const c=r[a],o=JK(c);"number"==typeof o?-1===o?i=c.token:s|=o:i=c}e.push(ae(i,s))}else e.push(ae(r))}return e}function ts(t,e){return t[O5]=e,t.prototype[O5]=e,t}function JK(t){return t[O5]}function cn(t){return{toString:t}.toString()}var Mo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mo||{}),m1=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(m1||{});const L1={},ve=[],wo=Me({\u0275cmp:Me}),B5=Me({\u0275dir:Me}),U5=Me({\u0275pipe:Me}),MM=Me({\u0275mod:Me}),on=Me({\u0275fac:Me}),ns=Me({__NG_ELEMENT_ID__:Me}),wM=Me({__NG_ENV_ID__:Me});function VM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function j5(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,s)}else{const s=i,a=n[++r];HM(s)?t.setProperty(e,s,a):t.setAttribute(e,s,a),r++}}return r}function bM(t){return 3===t||4===t||6===t}function HM(t){return 64===t.charCodeAt(0)}function rs(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||zM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function zM(t,e,n,r,i){let s=0,a=t.length;if(-1===e)a=-1;else for(;s<t.length;){const c=t[s++];if("number"==typeof c){if(c===e){a=-1;break}if(c>e){a=s-1;break}}}for(;s<t.length;){const c=t[s];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(t.splice(a,0,e),s=a+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const SM="ng-template";function tQ(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const a=t[r++];if(n&&"class"===s&&-1!==VM(a.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function xM(t){return 4===t.type&&t.value!==SM}function nQ(t,e,n){return e===(4!==t.type||n?t.value:SM)}function rQ(t,e,n){let r=4;const i=t.attrs||[],s=function aQ(t){for(let e=0;e<t.length;e++)if(bM(t[e]))return e;return t.length}(i);let a=!1;for(let c=0;c<e.length;c++){const o=e[c];if("number"!=typeof o){if(!a)if(4&r){if(r=2|1&r,""!==o&&!nQ(t,o,n)||""===o&&1===e.length){if(g1(r))return!1;a=!0}}else{const l=8&r?o:e[++c];if(8&r&&null!==t.attrs){if(!tQ(t.attrs,l,n)){if(g1(r))return!1;a=!0}continue}const f=iQ(8&r?"class":o,i,xM(t),n);if(-1===f){if(g1(r))return!1;a=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==VM(h,l,0)||2&r&&l!==d){if(g1(r))return!1;a=!0}}}}else{if(!a&&!g1(r)&&!g1(o))return!1;if(a&&g1(o))continue;a=!1,r=o|1&r}}return g1(r)||a}function g1(t){return 0==(1&t)}function iQ(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const a=e[i];if(a===t)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function cQ(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function IM(t,e,n=!1){for(let r=0;r<e.length;r++)if(rQ(t,e[r],n))return!0;return!1}function oQ(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function EM(t,e){return t?":not("+e.trim()+")":e}function lQ(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!g1(a)&&(e+=EM(s,i),i=""),r=a,s=s||!g1(r);n++}return""!==i&&(e+=EM(s,i)),e}function D1(t){return cn(()=>{const e=DM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||m1.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};AM(n);const r=t.dependencies;return n.directiveDefs=Vo(r,!1),n.pipeDefs=Vo(r,!0),n.id=function vQ(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function hQ(t){return de(t)||j2(t)}function pQ(t){return null!==t}function V2(t){return cn(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function LM(t,e){if(null==t)return L1;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return cn(()=>{const e=DM(t);return AM(e),e})}function D2(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function de(t){return t[wo]||null}function j2(t){return t[B5]||null}function mt(t){return t[U5]||null}function DM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||L1,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LM(t.inputs,e),outputs:LM(t.outputs)}}function AM(t){t.features?.forEach(e=>e(t))}function Vo(t,e){if(!t)return null;const n=e?mt:hQ;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(pQ)}const a2=0,N=1,re=2,Ue=3,v1=4,ss=5,tt=6,Qi=7,c2=8,Yn=9,Yi=10,ee=11,as=12,TM=13,Xi=14,o2=15,cs=16,Ji=17,A1=18,os=19,NM=20,Xn=21,ln=22,bo=23,Ho=24,ce=25,$5=1,kM=2,T1=7,Zi=9,$2=11;function xt(t){return Array.isArray(t)&&"object"==typeof t[$5]}function It(t){return Array.isArray(t)&&!0===t[$5]}function G5(t){return 0!=(4&t.flags)}function jr(t){return t.componentOffset>-1}function So(t){return 1==(1&t.flags)}function _1(t){return!!t.template}function q5(t){return 0!=(512&t[re])}function $r(t,e){return t.hasOwnProperty(on)?t[on]:null}let VQ=He.WeakRef??class wQ{constructor(e){this.ref=e}deref(){return this.ref}},HQ=0,N1=null,xo=!1;function A2(t){const e=N1;return N1=t,e}class BM{constructor(){this.id=HQ++,this.ref=function bQ(t){return new VQ(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=xo;xo=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{xo=e}}producerAccessed(){if(xo)throw new Error("");if(null===N1)return;let e=N1.producers.get(this.id);void 0===e?(e={consumerNode:N1.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:N1.trackingVersion},N1.producers.set(this.id,e),this.consumers.set(N1.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=N1.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==N1?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let UM=null;function jM(t){const e=A2(null);try{return t()}finally{A2(e)}}const $M=()=>{};class IQ extends BM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=$M,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=A2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=$M,this.watch(this.registerOnCleanup)}finally{A2(e)}}cleanup(){this.cleanupFn()}}class EQ{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function t1(){return GM}function GM(t){return t.type.prototype.ngOnChanges&&(t.setInput=DQ),LQ}function LQ(){const t=WM(this),e=t?.current;if(e){const n=t.previous;if(n===L1)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DQ(t,e,n,r){const i=this.declaredInputs[n],s=WM(t)||function AQ(t,e){return t[qM]=e}(t,{previous:L1,current:null}),a=s.current||(s.current={}),c=s.previous,o=c[i];a[i]=new EQ(o&&o.currentValue,e,c===L1),t[r]=e}t1.ngInherit=!0;const qM="__ngSimpleChanges__";function WM(t){return t[qM]||null}const k1=function(t,e,n){},KM="svg";function xe(t){for(;Array.isArray(t);)t=t[a2];return t}function Lo(t,e){return xe(e[t])}function Et(t,e){return xe(e[t.index])}function YM(t,e){return t.data[e]}function e4(t,e){return t[e]}function jt(t,e){const n=e[t];return xt(n)?n:n[a2]}function Jn(t,e){return null==e?null:t[e]}function XM(t){t[Ji]=0}function FQ(t){1024&t[re]||(t[re]|=1024,ZM(t,1))}function JM(t){1024&t[re]&&(t[re]&=-1025,ZM(t,-1))}function ZM(t,e){let n=t[Ue];if(null===n)return;n[ss]+=e;let r=n;for(n=n[Ue];null!==n&&(1===e&&1===r[ss]||-1===e&&0===r[ss]);)n[ss]+=e,r=n,n=n[Ue]}const Q={lFrame:uw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nw(){return Q.bindingsEnabled}function t4(){return null!==Q.skipHydrationRootTNode}function V(){return Q.lFrame.lView}function he(){return Q.lFrame.tView}function n1(t){return Q.lFrame.contextLView=t,t[c2]}function r1(t){return Q.lFrame.contextLView=null,t}function G2(){let t=rw();for(;null!==t&&64===t.type;)t=t.parent;return t}function rw(){return Q.lFrame.currentTNode}function P1(t,e){const n=Q.lFrame;n.currentTNode=t,n.isParent=e}function J5(){return Q.lFrame.isParent}function Z5(){Q.lFrame.isParent=!1}function gt(){const t=Q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function n4(){return Q.lFrame.bindingIndex++}function fn(t){const e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JQ(t,e){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,e7(e)}function e7(t){Q.lFrame.currentDirectiveIndex=t}function n7(t){Q.lFrame.currentQueryIndex=t}function eY(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[tt]:null}function ow(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&le.Host||(i=eY(s),null===i||(s=s[Xi],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Q.lFrame=lw();return r.currentTNode=e,r.lView=t,!0}function r7(t){const e=lw(),n=t[N];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lw(){const t=Q.lFrame,e=null===t?null:t.child;return null===e?uw(t):e}function uw(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fw(){const t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const dw=fw;function i7(){const t=fw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vt(){return Q.lFrame.selectedIndex}function Gr(t){Q.lFrame.selectedIndex=t}function qe(){const t=Q.lFrame;return YM(t.tView,t.selectedIndex)}let gw=!0;function Do(){return gw}function Zn(t){gw=t}function Ao(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:o,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),o&&(t.viewHooks??=[]).push(-n,o),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function To(t,e,n){vw(t,e,3,n)}function No(t,e,n,r){(3&t[re])===n&&vw(t,e,n,r)}function s7(t,e){let n=t[re];(3&n)===e&&(n&=8191,n+=1,t[re]=n)}function vw(t,e,n,r){const s=r??-1,a=e.length-1;let c=0;for(let o=void 0!==r?65535&t[Ji]:0;o<a;o++)if("number"==typeof e[o+1]){if(c=e[o],null!=r&&c>=r)break}else e[o]<0&&(t[Ji]+=65536),(c<s||-1==s)&&(aY(t,n,e,o),t[Ji]=(4294901760&t[Ji])+o+2),o++}function _w(t,e){k1(4,t,e);const n=A2(null);try{e.call(t)}finally{A2(n),k1(5,t,e)}}function aY(t,e,n,r){const i=n[r]<0,s=n[r+1],c=t[i?-n[r]:n[r]];i?t[re]>>13<t[Ji]>>16&&(3&t[re])===e&&(t[re]+=8192,_w(c,s)):_w(c,s)}const r4=-1;class fs{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function c7(t){return t!==r4}function ds(t){return 32767&t}function hs(t,e){let n=function uY(t){return t>>16}(t),r=e;for(;n>0;)r=r[Xi],n--;return r}let o7=!0;function ko(t){const e=o7;return o7=t,e}const yw=255,Cw=5;let fY=0;const R1={};function Po(t,e){const n=Mw(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,l7(r.data,t),l7(e,null),l7(r.blueprint,null));const i=Ro(t,e),s=t.injectorIndex;if(c7(i)){const a=ds(i),c=hs(i,e),o=c[N].data;for(let l=0;l<8;l++)e[s+l]=c[a+l]|o[a+l]}return e[s+8]=i,s}function l7(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Mw(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ro(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=xw(i),null===r)return r4;if(n++,i=i[Xi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return r4}function u7(t,e,n){!function dY(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ns)&&(r=n[ns]),null==r&&(r=n[ns]=fY++);const i=r&yw;e.data[t+(i>>Cw)]|=1<<i}(t,e,n)}function ww(t,e,n){if(n&le.Optional||void 0!==t)return t;D5()}function Vw(t,e,n,r){if(n&le.Optional&&void 0===r&&(r=null),!(n&(le.Self|le.Host))){const i=t[Yn],s=St(void 0);try{return i?i.get(e,r,n&le.Optional):vM(e,r,n&le.Optional)}finally{St(s)}}return ww(r,0,n)}function bw(t,e,n,r=le.Default,i){if(null!==t){if(2048&e[re]&&!(r&le.Self)){const a=function _Y(t,e,n,r,i){let s=t,a=e;for(;null!==s&&null!==a&&2048&a[re]&&!(512&a[re]);){const c=Hw(s,a,n,r|le.Self,R1);if(c!==R1)return c;let o=s.parent;if(!o){const l=a[NM];if(l){const u=l.get(n,R1,r);if(u!==R1)return u}o=xw(a),a=a[Xi]}s=o}return i}(t,e,n,r,R1);if(a!==R1)return a}const s=Hw(t,e,n,r,R1);if(s!==R1)return s}return Vw(e,n,r,i)}function Hw(t,e,n,r,i){const s=function mY(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ns)?t[ns]:void 0;return"number"==typeof e?e>=0?e&yw:vY:e}(n);if("function"==typeof s){if(!ow(e,t,r))return r&le.Host?ww(i,0,r):Vw(e,n,r,i);try{let a;if(a=s(r),null!=a||r&le.Optional)return a;D5()}finally{dw()}}else if("number"==typeof s){let a=null,c=Mw(t,e),o=r4,l=r&le.Host?e[o2][tt]:null;for((-1===c||r&le.SkipSelf)&&(o=-1===c?Ro(t,e):e[c+8],o!==r4&&Sw(r,!1)?(a=e[N],c=ds(o),e=hs(o,e)):c=-1);-1!==c;){const u=e[N];if(zw(s,c,u.data)){const f=pY(c,e,n,a,r,l);if(f!==R1)return f}o=e[c+8],o!==r4&&Sw(r,e[N].data[c+8]===l)&&zw(s,c,e)?(a=u,c=ds(o),e=hs(o,e)):c=-1}}return i}function pY(t,e,n,r,i,s){const a=e[N],c=a.data[t+8],u=function Oo(t,e,n,r,i){const s=t.providerIndexes,a=e.data,c=1048575&s,o=t.directiveStart,u=s>>20,d=i?c+u:t.directiveEnd;for(let h=r?c:c+u;h<d;h++){const p=a[h];if(h<o&&n===p||h>=o&&p.type===n)return h}if(i){const h=a[o];if(h&&_1(h)&&h.type===n)return o}return null}(c,a,n,null==r?jr(c)&&o7:r!=a&&0!=(3&c.type),i&le.Host&&s===c);return null!==u?qr(e,a,u,c):R1}function qr(t,e,n,r){let i=t[n];const s=e.data;if(function cY(t){return t instanceof fs}(i)){const a=i;a.resolving&&function OK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(s[n]));const c=ko(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?St(a.injectImpl):null;ow(t,r,le.Default);try{i=t[n]=a.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function sY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=GM(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&St(l),ko(c),a.resolving=!1,dw()}}return i}function zw(t,e,n){return!!(n[e+(t>>Cw)]&1<<t)}function Sw(t,e){return!(t&le.Self||t&le.Host&&e)}class _t{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bw(this._tNode,this._lView,e,Co(r),n)}}function vY(){return new _t(G2(),V())}function f7(t){return E5(t)?()=>{const e=f7(Y(t));return e&&e()}:$r(t)}function xw(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[tt]:null}const s4="__parameters__";function c4(t,e,n){return cn(()=>{const r=function h7(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(o,l,u){const f=o.hasOwnProperty(s4)?o[s4]:Object.defineProperty(o,s4,{value:[]})[s4];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),o}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function l4(t,e){t.forEach(n=>Array.isArray(n)?l4(n,e):e(n))}function Ew(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gs(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function $t(t,e,n){let r=u4(t,e);return r>=0?t[1|r]=n:(r=~r,function HY(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function p7(t,e){const n=u4(t,e);if(n>=0)return t[1|n]}function u4(t,e){return function Lw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),a=t[s<<n];if(e===a)return s<<n;a>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Lt=ts(c4("Optional"),8),g7=ts(c4("SkipSelf"),4);function qo(t){return 128==(128&t.flags)}var er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(er||{});const qY=/^>|^->|<!--|-->|--!>|<!-$/g,WY=/(<|>)/,KY="\u200b$1\u200b";const C7=new Map;let QY=0;const w7="__ngContext__";function rt(t,e){xt(e)?(t[w7]=e[os],function XY(t){C7.set(t[os],t)}(e)):t[w7]=e}let V7;function b7(t,e){return V7(t,e)}function ys(t){const e=t[Ue];return It(e)?e[Ue]:e}function Xw(t){return Zw(t[as])}function Jw(t){return Zw(t[v1])}function Zw(t){for(;null!==t&&!It(t);)t=t[v1];return t}function h4(t,e,n,r,i){if(null!=r){let s,a=!1;It(r)?s=r:xt(r)&&(a=!0,r=r[a2]);const c=xe(r);0===t&&null!==n?null==i?rV(e,n,c):Wr(e,n,c,i||null,!0):1===t&&null!==n?Wr(e,n,c,i||null,!0):2===t?function Zo(t,e,n){const r=Xo(t,e);r&&function gX(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,c,a):3===t&&e.destroyNode(c),null!=s&&function yX(t,e,n,r,i){const s=n[T1];s!==xe(n)&&h4(e,t,r,s,i);for(let c=$2;c<n.length;c++){const o=n[c];Ms(o[N],o,t,e,r,s)}}(e,t,s,n,i)}}function H7(t,e){return t.createComment(function jw(t){return t.replace(qY,e=>e.replace(WY,KY))}(e))}function Qo(t,e,n){return t.createElement(e,n)}function tV(t,e){const n=t[Zi],r=n.indexOf(e);JM(e),n.splice(r,1)}function Yo(t,e){if(t.length<=$2)return;const n=$2+e,r=t[n];if(r){const i=r[cs];null!==i&&i!==t&&tV(i,r),e>0&&(t[n-1][v1]=r[v1]);const s=Fo(t,$2+e);!function oX(t,e){Ms(t,e,e[ee],2,null,null),e[a2]=null,e[tt]=null}(r[N],r);const a=s[A1];null!==a&&a.detachView(s[N]),r[Ue]=null,r[v1]=null,r[re]&=-129}return r}function z7(t,e){if(!(256&e[re])){const n=e[ee];e[bo]?.destroy(),e[Ho]?.destroy(),n.destroyNode&&Ms(t,e,n,3,null,null),function fX(t){let e=t[as];if(!e)return S7(t[N],t);for(;e;){let n=null;if(xt(e))n=e[as];else{const r=e[$2];r&&(n=r)}if(!n){for(;e&&!e[v1]&&e!==t;)xt(e)&&S7(e[N],e),e=e[Ue];null===e&&(e=t),xt(e)&&S7(e[N],e),n=e&&e[v1]}e=n}}(e)}}function S7(t,e){if(!(256&e[re])){e[re]&=-129,e[re]|=256,function mX(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof fs)){const s=n[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],o=s[a+1];k1(4,c,o);try{o.call(c)}finally{k1(5,c,o)}}else{k1(4,i,s);try{s.call(i)}finally{k1(5,i,s)}}}}}(t,e),function pX(t,e){const n=t.cleanup,r=e[Qi];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Qi]=null);const i=e[Xn];if(null!==i){e[Xn]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[N].type&&e[ee].destroy();const n=e[cs];if(null!==n&&It(e[Ue])){n!==e[Ue]&&tV(n,e);const r=e[A1];null!==r&&r.detachView(t)}!function JY(t){C7.delete(t[os])}(e)}}function x7(t,e,n){return function nV(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[a2];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===m1.None||s===m1.Emulated)return null}return Et(r,n)}}(t,e.parent,n)}function Wr(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rV(t,e,n){t.appendChild(e,n)}function iV(t,e,n,r,i){null!==r?Wr(t,e,n,r,i):rV(t,e,n)}function Xo(t,e){return t.parentNode(e)}function sV(t,e,n){return cV(t,e,n)}let I7,e6,A7,t6,cV=function aV(t,e,n){return 40&t.type?Et(t,n):null};function Jo(t,e,n,r){const i=x7(t,r,e),s=e[ee],c=sV(r.parent||e[tt],r,e);if(null!=i)if(Array.isArray(n))for(let o=0;o<n.length;o++)iV(s,i,n[o],c,!1);else iV(s,i,n,c,!1);void 0!==I7&&I7(s,r,e,n,i)}function Cs(t,e){if(null!==e){const n=e.type;if(3&n)return Et(e,t);if(4&n)return E7(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Cs(t,r);{const i=t[e.index];return It(i)?E7(-1,i):xe(i)}}if(32&n)return b7(e,t)()||xe(t[e.index]);{const r=lV(t,e);return null!==r?Array.isArray(r)?r[0]:Cs(ys(t[o2]),r):Cs(t,e.next)}}return null}function lV(t,e){return null!==e?t[o2][tt].projection[e.projection]:null}function E7(t,e){const n=$2+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return Cs(r,i)}return e[T1]}function L7(t,e,n,r,i,s,a){for(;null!=n;){const c=r[n.index],o=n.type;if(a&&0===e&&(c&&rt(xe(c),r),n.flags|=2),32!=(32&n.flags))if(8&o)L7(t,e,n.child,r,i,s,!1),h4(e,t,i,c,s);else if(32&o){const l=b7(n,r);let u;for(;u=l();)h4(e,t,i,u,s);h4(e,t,i,c,s)}else 16&o?fV(t,e,r,n,i,s):h4(e,t,i,c,s);n=a?n.projectionNext:n.next}}function Ms(t,e,n,r,i,s){L7(n,r,t.firstChild,e,i,s,!1)}function fV(t,e,n,r,i,s){const a=n[o2],o=a[tt].projection[r.projection];if(Array.isArray(o))for(let l=0;l<o.length;l++)h4(e,t,i,o[l],s);else{let l=o;const u=a[Ue];qo(r)&&(l.flags|=128),L7(t,e,l,u,i,s,!0)}}function dV(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hV(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&j5(t,e,r),null!==i&&dV(t,e,i),null!==s&&function MX(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function p4(t){return function D7(){if(void 0===e6&&(e6=null,He.trustedTypes))try{e6=He.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return e6}()?.createHTML(t)||t}function m4(){if(void 0!==A7)return A7;if(typeof document<"u")return document;throw new S(210,!1)}function pV(t){return function T7(){if(void 0===t6&&(t6=null,He.trustedTypes))try{t6=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return t6}()?.createHTML(t)||t}class Kr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hM})`}}class zX extends Kr{getTypeName(){return"HTML"}}class SX extends Kr{getTypeName(){return"Style"}}class xX extends Kr{getTypeName(){return"Script"}}class IX extends Kr{getTypeName(){return"URL"}}class EX extends Kr{getTypeName(){return"ResourceURL"}}function Gt(t){return t instanceof Kr?t.changingThisBreaksApplicationSecurity:t}function O1(t,e){const n=function LX(t){return t instanceof Kr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hM})`)}return n===e}class PX{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(p4(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class RX{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=p4(e),n}}const FX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function n6(t){return(t=String(t)).match(FX)?t:"unsafe:"+t}function dn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ws(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const _V=dn("area,br,col,hr,img,wbr"),yV=dn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),CV=dn("rp,rt"),N7=ws(_V,ws(yV,dn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ws(CV,dn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ws(CV,yV)),k7=dn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MV=ws(k7,dn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),BX=dn("script,style,template");class UX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!N7.hasOwnProperty(n))return this.sanitizedSomething=!0,!BX.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,c=a.toLowerCase();if(!MV.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let o=s.value;k7[c]&&(o=n6(o)),this.buf.push(" ",a,'="',wV(o),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();N7.hasOwnProperty(n)&&!_V.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(wV(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const jX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$X=/([^\#-~ |!])/g;function wV(t){return t.replace(/&/g,"&amp;").replace(jX,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($X,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let r6;function VV(t,e){let n=null;try{r6=r6||function vV(t){const e=new RX(t);return function OX(){try{return!!(new window.DOMParser).parseFromString(p4(""),"text/html")}catch{return!1}}()?new PX(e):e}(t);let r=e?String(e):"";n=r6.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=r6.getInertBodyElement(r)}while(r!==s);return p4((new UX).sanitizeChildren(P7(n)||n))}finally{if(n){const r=P7(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function P7(t){return"content"in t&&function GX(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var s1=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(s1||{});function bV(t){const e=Vs();return e?pV(e.sanitize(s1.HTML,t)||""):O1(t,"HTML")?pV(Gt(t)):VV(m4(),J(t))}function R7(t){const e=Vs();return e?e.sanitize(s1.URL,t)||"":O1(t,"URL")?Gt(t):n6(J(t))}function Vs(){const t=V();return t&&t[Yi].sanitizer}class ${constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const i6=new $("ENVIRONMENT_INITIALIZER"),zV=new $("INJECTOR",-1),SV=new $("INJECTOR_DEF_TYPES");class O7{get(e,n=es){if(n===es){const r=new Error(`NullInjectorError: No provider for ${w2(e)}!`);throw r.name="NullInjectorError",r}return n}}function JX(...t){return{\u0275providers:IV(0,t),\u0275fromNgModule:!0}}function IV(t,...e){const n=[],r=new Set;let i;const s=a=>{n.push(a)};return l4(e,a=>{const c=a;s6(c,s,[],r)&&(i||=[],i.push(c))}),void 0!==i&&EV(i,s),n}function EV(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];F7(i,s=>{e(s,r)})}}function s6(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,s=vo(t);const a=!s&&de(t);if(s||a){if(a&&!a.standalone)return!1;i=t}else{const o=t.ngModule;if(s=vo(o),!s)return!1;i=o}const c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){const o="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of o)s6(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let l;r.add(i);try{l4(s.imports,u=>{s6(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&EV(l,e)}if(!c){const l=$r(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:SV,useValue:i,multi:!0},i),e({provide:i6,useValue:()=>ae(i),multi:!0},i)}const o=s.providers;if(null!=o&&!c){const l=t;F7(o,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function F7(t,e){for(let n of t)L5(n)&&(n=n.\u0275providers),Array.isArray(n)?F7(n,e):e(n)}const ZX=Me({provide:String,useValue:Me});function B7(t){return null!==t&&"object"==typeof t&&ZX in t}function Qr(t){return"function"==typeof t}const U7=new $("Set Injector scope."),a6={},tJ={};let j7;function c6(){return void 0===j7&&(j7=new O7),j7}class hn{}class o6 extends hn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,G7(e,a=>this.processProvider(a)),this.records.set(zV,g4(void 0,this)),i.has("environment")&&this.records.set(hn,g4(void 0,this));const s=this.records.get(U7);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(SV.multi,ve,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Qn(this),r=St(void 0);try{return e()}finally{Qn(n),St(r)}}get(e,n=es,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wM))return e[wM](this);r=Co(r);const s=Qn(this),a=St(void 0);try{if(!(r&le.SkipSelf)){let o=this.records.get(e);if(void 0===o){const l=function aJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof $}(e)&&go(e);o=l&&this.injectableDefInScope(l)?g4($7(e),a6):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(r&le.Self?c6():this.parent).get(e,n=r&le.Optional&&n===es?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[yo]=c[yo]||[]).unshift(w2(e)),s)throw c;return function ZK(t,e,n,r){const i=t[yo];throw e[yM]&&i.unshift(e[yM]),t.message=function eQ(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=w2(e);if(Array.isArray(e))i=e.map(w2).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):w2(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[yo]=null,t}(c,e,"R3InjectorError",this.source)}throw c}finally{St(a),Qn(s)}}resolveInjectorInitializers(){const e=Qn(this),n=St(void 0);try{const i=this.get(i6.multi,ve,le.Self);for(const s of i)s()}finally{Qn(e),St(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(w2(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Qr(e=Y(e))?e:Y(e&&e.provide);const r=function rJ(t){return B7(t)?g4(void 0,t.useValue):g4(AV(t),a6)}(e);if(Qr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=g4(void 0,a6,!0),i.factory=()=>F5(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===a6&&(n.value=tJ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function sJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function $7(t){const e=go(t),n=null!==e?e.factory:$r(t);if(null!==n)return n;if(t instanceof $)throw new S(204,!1);if(t instanceof Function)return function nJ(t){const e=t.length;if(e>0)throw gs(e,"?"),new S(204,!1);const n=function $K(t){return t&&(t[_o]||t[mM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function AV(t,e,n){let r;if(Qr(t)){const i=Y(t);return $r(i)||$7(i)}if(B7(t))r=()=>Y(t.useValue);else if(function DV(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...F5(t.deps||[]));else if(function LV(t){return!(!t||!t.useExisting)}(t))r=()=>ae(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function iJ(t){return!!t.deps}(t))return $r(i)||$7(i);r=()=>new i(...F5(t.deps))}return r}function g4(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function G7(t,e){for(const n of t)Array.isArray(n)?G7(n,e):n&&L5(n)?G7(n.\u0275providers,e):e(n)}const l6=new $("AppId",{providedIn:"root",factory:()=>cJ}),cJ="ng",TV=new $("Platform Initializer"),pn=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NV=new $("CSP nonce",{providedIn:"root",factory:()=>m4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let PV=(t,e,n)=>null;function J7(t,e,n=!1){return PV(t,e,n)}class vJ{}class FV{}class yJ{resolveComponentFactory(e){throw function _J(t){const e=Error(`No component factory found for ${w2(t)}.`);return e.ngComponent=t,e}(e)}}let m6=(()=>{class e{}return e.NULL=new yJ,e})();function CJ(){return _4(G2(),V())}function _4(t,e){return new At(Et(t,e))}let At=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=CJ,e})();class UV{}let mn=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function wJ(){const t=V(),n=jt(G2().index,t);return(xt(n)?n:t)[ee]}(),e})(),VJ=(()=>{var t;class e{}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:()=>null}),e})();class Ss{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const jV=new Ss("16.2.1"),tu={};function WV(t,e=null,n=null,r){const i=KV(t,e,n,r);return i.resolveInjectorInitializers(),i}function KV(t,e=null,n=null,r,i=new Set){const s=[n||ve,JX(t)];return r=r||("object"==typeof t?void 0:w2(t)),new o6(s,e||c6(),r||null,i)}let it=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return WV({name:""},i,r,"");{const s=r.name??"";return WV({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=es,t.NULL=new O7,t.\u0275prov=Z({token:t,providedIn:"any",factory:()=>ae(zV)}),t.__NG_ELEMENT_ID__=-1,e})();let iu=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new S(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:()=>new t}),e})();function xs(t){for(;t;){t[re]|=64;const e=ys(t);if(q5(t)&&!e)return t;t=e}return null}function su(t){return t.ngOriginalError}class Yr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&su(e);for(;n&&su(n);)n=su(n);return n||null}}const ZV=new $("",{providedIn:"root",factory:()=>!1});class rb extends BM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){xs(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=A2(this);this.trackingVersion++;try{e(n,r)}finally{A2(i)}}destroy(){this.trackingVersion++}}let v6=null;function ib(){return v6??=new rb,v6}function sb(t,e){return t[e]??ib()}function ab(t,e){const n=ib();n.hasReadASignal&&(t[e]=v6,n.lView=t,v6=new rb)}const ie={};function k(t){cb(he(),V(),vt()+t,!1)}function cb(t,e,n,r){if(!r)if(3==(3&e[re])){const s=t.preOrderCheckHooks;null!==s&&To(e,s,n)}else{const s=t.preOrderHooks;null!==s&&No(e,s,0,n)}Gr(n)}function z(t,e=le.Default){const n=V();return null===n?ae(t,e):bw(G2(),n,Y(t),e)}function _6(t,e,n,r,i,s,a,c,o,l,u){const f=e.blueprint.slice();return f[a2]=i,f[re]=140|r,(null!==l||t&&2048&t[re])&&(f[re]|=2048),XM(f),f[Ue]=f[Xi]=t,f[c2]=n,f[Yi]=a||t&&t[Yi],f[ee]=c||t&&t[ee],f[Yn]=o||t&&t[Yn]||null,f[tt]=s,f[os]=function YY(){return QY++}(),f[ln]=u,f[NM]=l,f[o2]=2==e.type?t[o2]:f,f}function M4(t,e,n,r,i){let s=t.data[e];if(null===s)s=function au(t,e,n,r,i){const s=rw(),a=J5(),o=t.data[e]=function WJ(t,e,n,r,i,s){let a=e?e.injectorIndex:-1,c=0;return t4()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=o),null!==s&&(a?null==s.child&&null!==o.parent&&(s.child=o):null===s.next&&(s.next=o,o.prev=s)),o}(t,e,n,r,i),function XQ(){return Q.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const a=function us(){const t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return P1(s,!0),s}function Is(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ob(t,e,n,r,i){const s=sb(e,bo),a=vt(),c=2&r;try{if(Gr(-1),c&&e.length>ce&&cb(t,e,ce,!1),k1(c?2:0,i),c)s.runInContext(n,r,i);else{const l=A2(null);try{n(r,i)}finally{A2(l)}}}finally{c&&null===e[bo]&&ab(e,bo),Gr(a),k1(c?3:1,i)}}function cu(t,e,n){if(G5(e)){const r=A2(null);try{const s=e.directiveEnd;for(let a=e.directiveStart;a<s;a++){const c=t.data[a];c.contentQueries&&c.contentQueries(1,n[a],a)}}finally{A2(r)}}}function ou(t,e,n){nw()&&(function eZ(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;jr(n)&&function cZ(t,e,n){const r=Et(e,t),i=lb(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const c=y6(t,_6(t,i,null,a,r,e,null,t[Yi].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=c}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Po(n,e),rt(r,e);const a=n.initialInputs;for(let c=i;c<s;c++){const o=t.data[c],l=qr(e,t,c,n);rt(l,e),null!==a&&oZ(0,c-i,l,o,0,a),_1(o)&&(jt(n.index,e)[c2]=qr(e,t,c,n))}}(t,e,n,Et(n,e)),64==(64&n.flags)&&pb(t,e,n))}function lu(t,e,n=Et){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],c=-1===a?n(e,t):t[a];t[i++]=c}}}function lb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=uu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function uu(t,e,n,r,i,s,a,c,o,l,u){const f=ce+r,d=f+i,h=function BJ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(f,d),p="function"==typeof l?l():l;return h[N]={type:t,blueprint:h,template:n,queries:null,viewQuery:c,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:o,consts:p,incompleteFirstPass:!1,ssrId:u}}let ub=t=>null;function fb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?db(n,e,i,s):r.hasOwnProperty(i)&&db(n,e,r[i],s)}return n}function db(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function qt(t,e,n,r,i,s,a,c){const o=Et(e,n);let u,l=e.inputs;!c&&null!=l&&(u=l[r])?(mu(t,n,u,r,i),jr(e)&&function YJ(t,e){const n=jt(e,t);16&n[re]||(n[re]|=64)}(n,e.index)):3&e.type&&(r=function QJ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.value||"",r):i,s.setProperty(o,r,i))}function fu(t,e,n,r){if(nw()){const i=null===r?null:{"":-1},s=function nZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(IM(e,a.selectors,!1))if(r||(r=[]),_1(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a),du(t,e,c.length)}else r.unshift(a),du(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(t,n);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&hb(t,e,n,a,i,c),i&&function rZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=rs(n.mergedAttrs,n.attrs)}function hb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)u7(Po(n,e),t,r[l].type);!function sZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let a=!1,c=!1,o=Is(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=rs(n.mergedAttrs,u.hostAttrs),aZ(t,n,e,o,u),iZ(o,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),o++}!function KJ(t,e,n){const i=e.directiveEnd,s=t.data,a=e.attrs,c=[];let o=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=n?n.get(f):null,p=d?d.outputs:null;o=fb(f.inputs,u,o,d?d.inputs:null),l=fb(f.outputs,u,l,p);const g=null===o||null===a||xM(e)?null:lZ(o,u,a);c.push(g)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=8),o.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=o,e.outputs=l}(t,n,s)}function pb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function ZQ(){return Q.lFrame.currentDirectiveIndex}();try{Gr(s);for(let c=r;c<i;c++){const o=t.data[c],l=e[c];e7(c),(null!==o.hostBindings||0!==o.hostVars||null!==o.hostAttrs)&&tZ(o,l)}}finally{Gr(-1),e7(a)}}function tZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function du(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_1(e)&&(n[""]=t)}}function aZ(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=$r(i.type)),a=new fs(s,_1(i),z);t.blueprint[r]=a,n[r]=a,function JJ(t,e,n,r,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~e.index;(function ZJ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(n,r,s)}}(t,e,r,Is(t,n,i.hostVars,ie),i)}function F1(t,e,n,r,i,s){const a=Et(t,e);!function hu(t,e,n,r,i,s,a){if(null==s)t.removeAttribute(e,i,n);else{const c=null==a?J(s):a(s,r||"",i);t.setAttribute(e,i,c,n)}}(e[ee],a,s,t.value,n,r,i)}function oZ(t,e,n,r,i,s){const a=s[e];if(null!==a)for(let c=0;c<a.length;)mb(r,n,a[c++],a[c++],a[c++])}function mb(t,e,n,r,i){const s=A2(null);try{const a=t.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{A2(s)}}function lZ(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const a=t[s];for(let c=0;c<a.length;c+=2)if(a[c]===e){r.push(s,a[c+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function gb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function vb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const a=t.data[s];n7(n[r]),a.contentQueries(2,e[s],s)}}}function y6(t,e){return t[as]?t[TM][v1]=e:t[as]=e,t[TM]=e,e}function pu(t,e,n){n7(0);const r=A2(null);try{e(t,n)}finally{A2(r)}}function Mb(t,e){const n=t[Yn],r=n?n.get(Yr,null):null;r&&r.handleError(e)}function mu(t,e,n,r,i){for(let s=0;s<n.length;){const a=n[s++],c=n[s++];mb(t.data[a],e[a],r,c,i)}}function uZ(t,e){const n=jt(e,t),r=n[N];!function fZ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[a2];null!==i&&null===n[ln]&&(n[ln]=J7(i,n[Yn])),gu(r,n,n[c2])}function gu(t,e,n){r7(e);try{const r=t.viewQuery;null!==r&&pu(1,r,n);const i=t.template;null!==i&&ob(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vb(t,e),t.staticViewQueries&&pu(2,t.viewQuery,n);const s=t.components;null!==s&&function dZ(t,e){for(let n=0;n<e.length;n++)uZ(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,i7()}}let wb=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const a=typeof Zone>"u"?null:Zone.current,c=new IQ(r,u=>{this.all.has(u)&&this.queue.set(u,a)},s);let o;this.all.add(c),c.notify();const l=()=>{c.cleanup(),o?.(),this.all.delete(c),this.queue.delete(c)};return o=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:()=>new t}),e})();function C6(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const c=e[a];"number"==typeof c?s=c:1==s?i=I5(i,c):2==s&&(r=I5(r,c+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Es(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(xe(s)),It(s)){for(let c=$2;c<s.length;c++){const o=s[c],l=o[N].firstChild;null!==l&&Es(o[N],o,l,r)}s[T1]!==s[a2]&&r.push(s[T1])}const a=n.type;if(8&a)Es(t,e,n.child,r);else if(32&a){const c=b7(n,e);let o;for(;o=c();)r.push(o)}else if(16&a){const c=lV(e,n);if(Array.isArray(c))r.push(...c);else{const o=ys(e[o2]);Es(o[N],o,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function M6(t,e,n,r=!0){const i=e[Yi],s=i.rendererFactory,a=i.afterRenderEventManager;s.begin?.(),a?.begin();try{Vb(t,e,t.template,n)}catch(o){throw r&&Mb(e,o),o}finally{s.end?.(),i.effectManager?.flush(),a?.end()}}function Vb(t,e,n,r){const i=e[re];if(256!=(256&i)){e[Yi].effectManager?.flush(),r7(e);try{XM(e),function sw(t){return Q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ob(t,e,n,2,r);const a=3==(3&i);if(a){const l=t.preOrderCheckHooks;null!==l&&To(e,l,null)}else{const l=t.preOrderHooks;null!==l&&No(e,l,0,null),s7(e,0)}if(function mZ(t){for(let e=Xw(t);null!==e;e=Jw(e)){if(!e[kM])continue;const n=e[Zi];for(let r=0;r<n.length;r++){FQ(n[r])}}}(e),bb(e,2),null!==t.contentQueries&&vb(t,e),a){const l=t.contentCheckHooks;null!==l&&To(e,l)}else{const l=t.contentHooks;null!==l&&No(e,l,1),s7(e,1)}!function FJ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=sb(e,Ho);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Gr(~s);else{const a=s,c=n[++i],o=n[++i];JQ(c,a),r.runInContext(o,2,e[a])}}}finally{null===e[Ho]&&ab(e,Ho),Gr(-1)}}(t,e);const c=t.components;null!==c&&zb(e,c,0);const o=t.viewQuery;if(null!==o&&pu(2,o,r),a){const l=t.viewCheckHooks;null!==l&&To(e,l)}else{const l=t.viewHooks;null!==l&&No(e,l,2),s7(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[re]&=-73,JM(e)}finally{i7()}}}function bb(t,e){for(let n=Xw(t);null!==n;n=Jw(n))for(let r=$2;r<n.length;r++)Hb(n[r],e)}function gZ(t,e,n){Hb(jt(e,t),n)}function Hb(t,e){if(!function RQ(t){return 128==(128&t[re])}(t))return;const n=t[N];if(80&t[re]&&0===e||1024&t[re]||2===e)Vb(n,t,n.template,t[c2]);else if(t[ss]>0){bb(t,1);const i=t[N].components;null!==i&&zb(t,i,1)}}function zb(t,e,n){for(let r=0;r<e.length;r++)gZ(t,e[r],n)}class Ls{get rootNodes(){const e=this._lView,n=e[N];return Es(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[c2]}set context(e){this._lView[c2]=e}get destroyed(){return 256==(256&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ue];if(It(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Yo(e,r),Fo(n,r))}this._attachedToViewContainer=!1}z7(this._lView[N],this._lView)}onDestroy(e){!function ew(t,e){if(256==(256&t[re]))throw new S(911,!1);null===t[Xn]&&(t[Xn]=[]),t[Xn].push(e)}(this._lView,e)}markForCheck(){xs(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){this._lView[re]|=128}detectChanges(){M6(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uX(t,e){Ms(t,e,e[ee],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class vZ extends Ls{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;M6(e[N],e,e[c2],!1)}checkNoChanges(){}get context(){return null}}class Sb extends m6{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new Ds(n,this.ngModule)}}function xb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class yZ{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Co(r);const i=this.injector.get(e,tu,r);return i!==tu||n===tu?i:this.parentInjector.get(e,n,r)}}class Ds extends FV{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=xb(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return xb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function uQ(t){return t.map(lQ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof hn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new yZ(e,s):e,c=a.get(UV,null);if(null===c)throw new S(407,!1);const f={rendererFactory:c,sanitizer:a.get(VJ,null),effectManager:a.get(wb,null),afterRenderEventManager:a.get(iu,null)},d=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function UJ(t,e,n,r){const s=r.get(ZV,!1)||n===m1.ShadowDom,a=t.selectRootElement(e,s);return function jJ(t){ub(t)}(a),a}(d,r,this.componentDef.encapsulation,a):Qo(d,h,function _Z(t){const e=t.toLowerCase();return"svg"===e?KM:"math"===e?"math":null}(h)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=J7(p,a,!0));const w=uu(0,null,null,1,0,null,null,null,null,null,null),I=_6(null,w,null,C,null,null,f,d,a,null,_);let T,q;r7(I);try{const fe=this.componentDef;let M2,L2=null;fe.findHostDirectiveDefs?(M2=[],L2=new Map,fe.findHostDirectiveDefs(fe,M2,L2),M2.push(fe)):M2=[fe];const no=function MZ(t,e){const n=t[N],r=ce;return t[r]=e,M4(n,r,2,"#host",null)}(I,p),CGe=function wZ(t,e,n,r,i,s,a){const c=i[N];!function VZ(t,e,n,r){for(const i of t)e.mergedAttrs=rs(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(C6(e,e.mergedAttrs,!0),null!==n&&hV(r,n,e))}(r,t,e,a);let o=null;null!==e&&(o=J7(e,i[Yn]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=_6(i,lb(n),null,u,i[t.index],t,s,l,null,null,o);return c.firstCreatePass&&du(c,t,r.length-1),y6(i,f),i[t.index]=f}(no,p,fe,M2,I,f,d);q=YM(w,ce),p&&function HZ(t,e,n,r){if(r)j5(t,n,["ng-version",jV.full]);else{const{attrs:i,classes:s}=function fQ(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!g1(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&j5(t,n,i),s&&s.length>0&&dV(t,n,s.join(" "))}}(d,fe,p,r),void 0!==n&&function zZ(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(q,this.ngContentSelectors,n),T=function bZ(t,e,n,r,i,s){const a=G2(),c=i[N],o=Et(a,i);hb(c,i,a,n,null,r);for(let u=0;u<n.length;u++)rt(qr(i,c,a.directiveStart+u,a),i);pb(c,i,a),o&&rt(o,i);const l=qr(i,c,a.directiveStart+a.componentOffset,a);if(t[c2]=i[c2]=l,null!==s)for(const u of s)u(l,e);return cu(c,a,t),l}(CGe,fe,M2,L2,I,[SZ]),gu(w,I,null)}finally{i7()}return new CZ(this.componentType,T,_4(q,I),I,q)}}class CZ extends vJ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vZ(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;mu(s[N],s,i,e,n),this.previousInputValues.set(e,n),xs(jt(this._tNode.index,s))}}get injector(){return new _t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function SZ(){const t=G2();Ao(V()[N],t)}function we(t){let e=function Ib(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(_1(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const a=t;a.inputs=w6(t.inputs),a.inputTransforms=w6(t.inputTransforms),a.declaredInputs=w6(t.declaredInputs),a.outputs=w6(t.outputs);const c=i.hostBindings;c&&LZ(t,c);const o=i.viewQuery,l=i.contentQueries;if(o&&IZ(t,o),l&&EZ(t,l),po(t.inputs,i.inputs),po(t.declaredInputs,i.declaredInputs),po(t.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),po(a.inputTransforms,i.inputTransforms)),_1(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const c=s[a];c&&c.ngInherit&&c(t),c===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function xZ(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=rs(i.hostAttrs,n=rs(n,i.hostAttrs))}}(r)}function w6(t){return t===L1?{}:t===ve?[]:t}function IZ(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function EZ(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function LZ(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function V6(t){return!!vu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function vu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function B1(t,e,n){return t[e]=n}function st(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Xr(t,e,n,r){const i=st(t,e,n);return st(t,e+1,r)||i}function U1(t,e,n,r){const i=V();return st(i,n4(),e)&&(he(),F1(qe(),i,t,e,n,r)),U1}function V4(t,e,n,r){return st(t,n4(),n)?e+J(n)+r:ie}function at(t,e,n,r,i,s,a,c){const o=V(),l=he(),u=t+ce,f=l.firstCreatePass?function ree(t,e,n,r,i,s,a,c,o){const l=e.consts,u=M4(e,t,4,a||null,Jn(l,c));fu(e,n,u,Jn(l,o)),Ao(e,u);const f=u.tView=uu(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,o,e,n,r,i,s,a):l.data[u];P1(f,!1);const d=Gb(l,o,f,t);Do()&&Jo(l,o,d,f),rt(d,o),y6(o,o[u]=gb(d,o,d,f)),So(f)&&ou(l,o,f),null!=a&&lu(o,f,c)}let Gb=function qb(t,e,n,r){return Zn(!0),e[ee].createComment("")};function Vu(t){return e4(function YQ(){return Q.lFrame.contextLView}(),ce+t)}function G(t,e,n){const r=V();return st(r,n4(),e)&&qt(he(),qe(),r,t,e,r[ee],n,!1),G}function bu(t,e,n,r,i){const a=i?"class":"style";mu(t,n,e.inputs[a],a,r)}function E(t,e,n,r){const i=V(),s=he(),a=ce+t,c=i[ee],o=s.firstCreatePass?function cee(t,e,n,r,i,s){const a=e.consts,o=M4(e,t,2,r,Jn(a,i));return fu(e,n,o,Jn(a,s)),null!==o.attrs&&C6(o,o.attrs,!1),null!==o.mergedAttrs&&C6(o,o.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,o),o}(a,s,i,e,n,r):s.data[a],l=Wb(s,i,o,c,e,t);i[a]=l;const u=So(o);return P1(o,!0),hV(c,l,o),32!=(32&o.flags)&&Do()&&Jo(s,i,l,o),0===function UQ(){return Q.lFrame.elementDepthCount}()&&rt(l,i),function jQ(){Q.lFrame.elementDepthCount++}(),u&&(ou(s,i,o),cu(s,o,i)),null!==r&&lu(i,o),E}function F(){let t=G2();J5()?Z5():(t=t.parent,P1(t,!1));const e=t;(function GQ(t){return Q.skipHydrationRootTNode===t})(e)&&function QQ(){Q.skipHydrationRootTNode=null}(),function $Q(){Q.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(Ao(n,t),G5(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function oY(t){return 0!=(8&t.flags)}(e)&&bu(n,e,V(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lY(t){return 0!=(16&t.flags)}(e)&&bu(n,e,V(),e.stylesWithoutHost,!1),F}function Ie(t,e,n,r){return E(t,e,n,r),F(),Ie}let Wb=(t,e,n,r,i,s)=>(Zn(!0),Qo(r,i,function mw(){return Q.lFrame.currentNamespace}()));function x6(t,e,n){const r=V(),i=he(),s=t+ce,a=i.firstCreatePass?function uee(t,e,n,r,i){const s=e.consts,a=Jn(s,r),c=M4(e,t,8,"ng-container",a);return null!==a&&C6(c,a,!0),fu(e,n,c,Jn(s,i)),null!==e.queries&&e.queries.elementStart(e,c),c}(s,i,r,e,n):i.data[s];P1(a,!0);const c=Qb(i,r,a,t);return r[s]=c,Do()&&Jo(i,r,c,a),rt(c,r),So(a)&&(ou(i,r,a),cu(i,a,r)),null!=n&&lu(r,a),x6}function I6(){let t=G2();const e=he();return J5()?Z5():(t=t.parent,P1(t,!1)),e.firstCreatePass&&(Ao(e,t),G5(t)&&e.queries.elementEnd(t)),I6}let Qb=(t,e,n,r)=>(Zn(!0),H7(e[ee],""));function tr(){return V()}function E6(t){return!!t&&"function"==typeof t.then}function Yb(t){return!!t&&"function"==typeof t.subscribe}function je(t,e,n,r){const i=V(),s=he(),a=G2();return function Jb(t,e,n,r,i,s,a){const c=So(r),l=t.firstCreatePass&&function yb(t){return t.cleanup||(t.cleanup=[])}(t),u=e[c2],f=function _b(t){return t[Qi]||(t[Qi]=[])}(e);let d=!0;if(3&r.type||a){const g=Et(r,e),v=a?a(g):g,C=f.length,_=a?I=>a(xe(I[r.index])):r.index;let w=null;if(!a&&c&&(w=function hee(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===n&&i[s+1]===r){const c=e[Qi],o=i[s+2];return c.length>o?c[o]:null}"string"==typeof a&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,d=!1;else{s=eH(r,e,u,s,!1);const I=n.listen(v,i,s);f.push(s,I),l&&l.push(i,_,C,C+1)}}else s=eH(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const T=e[p[v]][p[v+1]].subscribe(s),q=f.length;f.push(s,T),l&&l.push(i,r.index,q,-(q+1))}}}(s,i,i[ee],a,t,e,r),je}function Zb(t,e,n,r){try{return k1(6,e,n),!1!==n(r)}catch(i){return Mb(t,i),!1}finally{k1(7,e,n)}}function eH(t,e,n,r,i){return function s(a){if(a===Function)return r;xs(t.componentOffset>-1?jt(t.index,e):e);let o=Zb(e,n,r,a),l=s.__ngNextListenerFn__;for(;l;)o=Zb(e,n,l,a)&&o,l=l.__ngNextListenerFn__;return i&&!1===o&&a.preventDefault(),o}}function Xe(t=1){return function tY(t){return(Q.lFrame.contextLView=function nY(t,e){for(;t>0;)e=e[Xi],t--;return e}(t,Q.lFrame.contextLView))[c2]}(t)}function pee(t,e){let n=null;const r=function sQ(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?IM(t,s,!0):oQ(r,s))return i}else n=i}return n}function Ps(t,e,n){return Hu(t,"",e,"",n),Ps}function Hu(t,e,n,r,i){const s=V(),a=V4(s,e,n,r);return a!==ie&&qt(he(),qe(),s,t,a,s[ee],i,!1),Hu}function L6(t,e){return t<<17|e<<2}function nr(t){return t>>17&32767}function zu(t){return 2|t}function Jr(t){return(131068&t)>>2}function Su(t,e){return-131069&t|e<<2}function xu(t){return 1|t}function fH(t,e,n,r,i){const s=t[n+1],a=null===e;let c=r?nr(s):Jr(s),o=!1;for(;0!==c&&(!1===o||a);){const u=t[c+1];Cee(t[c],e)&&(o=!0,t[c+1]=r?xu(u):zu(u)),c=r?nr(u):Jr(u)}o&&(t[n+1]=r?zu(s):xu(s))}function Cee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&u4(t,e)>=0}const H2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dH(t){return t.substring(H2.key,H2.keyEnd)}function Mee(t){return t.substring(H2.value,H2.valueEnd)}function pH(t,e){const n=H2.textEnd;let r=H2.key=L4(t,e,n);return n===r?-1:(r=H2.keyEnd=function Hee(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=gH(t,r,n),r=H2.value=L4(t,r,n),r=H2.valueEnd=function zee(t,e,n){let r=-1,i=-1,s=-1,a=e,c=a;for(;a<n;){const o=t.charCodeAt(a++);if(59===o)return c;34===o||39===o?c=a=vH(t,o,a,n):e===a-4&&85===s&&82===i&&76===r&&40===o?c=a=vH(t,41,a,n):o>32&&(c=a),s=i,i=r,r=-33&o}return c}(t,r,n),gH(t,r,n))}function L4(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function gH(t,e,n,r){return(e=L4(t,e,n))<n&&e++,e}function vH(t,e,n,r){let i=-1,s=n;for(;s<r;){const a=t.charCodeAt(s++);if(a==e&&92!==i)return s;i=92==a&&92===i?0:a}throw new Error}function Rs(t,e){return function y1(t,e,n,r){const i=V(),s=he(),a=fn(2);s.firstUpdatePass&&CH(s,t,a,r),e!==ie&&st(i,a,e)&&wH(s,s.data[vt()],i,i[ee],t,i[a+1]=function kee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=w2(Gt(t)))),t}(e,n),r,a)}(t,e,null,!0),Rs}function q2(t){!function C1(t,e,n,r){const i=he(),s=fn(2);i.firstUpdatePass&&CH(i,null,s,r);const a=V();if(n!==ie&&st(a,s,n)){const c=i.data[vt()];if(bH(c,r)&&!yH(i,s)){let o=r?c.classesWithoutHost:c.stylesWithoutHost;null!==o&&(n=I5(o,n||"")),bu(i,c,a,n,r)}else!function Nee(t,e,n,r,i,s,a,c){i===ie&&(i=ve);let o=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=o<i.length?i[o+1]:void 0,h=l<s.length?s[l+1]:void 0;let g,p=null;u===f?(o+=2,l+=2,d!==h&&(p=f,g=h)):null===f||null!==u&&u<f?(o+=2,p=u):(l+=2,p=f,g=h),null!==p&&wH(t,e,n,r,p,g,a,c),u=o<i.length?i[o]:null,f=l<s.length?s[l]:null}}(i,c,a,a[ee],a[s+1],a[s+1]=function Aee(t,e,n){if(null==n||""===n)return ve;const r=[],i=Gt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(MH,See,t,!1)}function See(t,e){for(let n=function Vee(t){return function mH(t){H2.key=0,H2.keyEnd=0,H2.value=0,H2.valueEnd=0,H2.textEnd=t.length}(t),pH(t,L4(t,0,H2.textEnd))}(e);n>=0;n=pH(e,n))MH(t,dH(e),Mee(e))}function yH(t,e){return e>=t.expandoStartIndex}function CH(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[vt()],a=yH(t,n);bH(s,r)&&null===e&&!a&&(e=!1),e=function Iee(t,e,n,r){const i=function t7(t){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Os(n=Iu(null,t,e,n,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Iu(i,t,e,n,r),null===s){let o=function Eee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Jr(r))return t[nr(r)]}(t,e,r);void 0!==o&&Array.isArray(o)&&(o=Iu(null,t,e,o[1],r),o=Os(o,e.attrs,r),function Lee(t,e,n,r){t[nr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,o))}else s=function Dee(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Os(r,t[s].hostAttrs,n);return Os(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function _ee(t,e,n,r,i,s){let a=s?e.classBindings:e.styleBindings,c=nr(a),o=Jr(a);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||u4(n,u)>0)&&(l=!0)):u=n,i)if(0!==o){const d=nr(t[c+1]);t[r+1]=L6(d,c),0!==d&&(t[d+1]=Su(t[d+1],r)),t[c+1]=function gee(t,e){return 131071&t|e<<17}(t[c+1],r)}else t[r+1]=L6(c,0),0!==c&&(t[c+1]=Su(t[c+1],r)),c=r;else t[r+1]=L6(o,0),0===c?c=r:t[o+1]=Su(t[o+1],r),o=r;l&&(t[r+1]=zu(t[r+1])),fH(t,u,r,!0),fH(t,u,r,!1),function yee(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&u4(s,e)>=0&&(n[r+1]=xu(n[r+1]))}(e,u,t,r,s),a=L6(c,o),s?e.classBindings=a:e.styleBindings=a}(i,s,e,n,a,r)}}function Iu(t,e,n,r,i){let s=null;const a=n.directiveEnd;let c=n.directiveStylingLast;for(-1===c?c=n.directiveStart:c++;c<a&&(s=e[c],r=Os(r,s.hostAttrs,i),s!==t);)c++;return null!==t&&(n.directiveStylingLast=c),r}function Os(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$t(t,a,!!n||e[++s]))}return void 0===t?null:t}function MH(t,e,n){$t(t,e,Gt(n))}function wH(t,e,n,r,i,s,a,c){if(!(3&e.type))return;const o=t.data,l=o[c+1],u=function vee(t){return 1==(1&t)}(l)?VH(o,e,n,i,Jr(l),a):void 0;D6(u)||(D6(s)||function mee(t){return 2==(2&t)}(l)&&(s=VH(o,null,n,i,c,a)),function CX(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:er.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=er.Important),t.setStyle(n,r,i,s))}}(r,a,Lo(vt(),n),i,s))}function VH(t,e,n,r,i,s){const a=null===e;let c;for(;i>0;){const o=t[i],l=Array.isArray(o),u=l?o[1]:o,f=null===u;let d=n[i+1];d===ie&&(d=f?ve:void 0);let h=f?p7(d,r):u===r?d:void 0;if(l&&!D6(h)&&(h=p7(o,r)),D6(h)&&(c=h,a))return c;const p=t[i+1];i=a?nr(p):Jr(p)}if(null!==e){let o=s?e.residualClasses:e.residualStyles;null!=o&&(c=p7(o,r))}return c}function D6(t){return void 0!==t}function bH(t,e){return 0!=(t.flags&(e?8:16))}function te(t,e=""){const n=V(),r=he(),i=t+ce,s=r.firstCreatePass?M4(r,i,1,e,null):r.data[i],a=HH(r,n,s,e,t);n[i]=a,Do()&&Jo(r,n,a,s),P1(s,!1)}let HH=(t,e,n,r,i)=>(Zn(!0),function Ko(t,e){return t.createText(e)}(e[ee],r));function Je(t){return Fs("",t,""),Je}function Fs(t,e,n){const r=V(),i=V4(r,t,e,n);return i!==ie&&function vn(t,e,n){const r=Lo(e,t);!function eV(t,e,n){t.setValue(e,n)}(t[ee],r,n)}(r,vt(),i),Fs}function Eu(t,e,n){const r=V();return st(r,n4(),e)&&qt(he(),qe(),r,t,e,r[ee],n,!0),Eu}const Zr=void 0;var i2e=["en",[["a","p"],["AM","PM"],Zr],[["AM","PM"],Zr,Zr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zr,"{1} 'at' {0}",Zr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function r2e(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let D4={};function yt(t){const e=function s2e(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=GH(e);if(n)return n;const r=e.split("-")[0];if(n=GH(r),n)return n;if("en"===r)return i2e;throw new S(701,!1)}function GH(t){return t in D4||(D4[t]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[t]),D4[t]}var Ee=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ee||{});const A4="en-US";let qH=A4;function Au(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let s=0;s<t.length;s++)Au(t[s],e,n,r,i);else{const s=he(),a=V(),c=G2();let o=Qr(t)?t:Y(t.provide);const l=AV(t),u=1048575&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>20;if(Qr(t)||!t.multi){const h=new fs(l,i,z),p=Nu(o,e,i?u:u+d,f);-1===p?(u7(Po(c,a),s,o),Tu(s,t,e.length),e.push(o),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(h),a.push(h)):(n[p]=h,a[p]=h)}else{const h=Nu(o,e,u+d,f),p=Nu(o,e,u,u+d),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){u7(Po(c,a),s,o);const C=function rte(t,e,n,r,i){const s=new fs(t,n,z);return s.multi=[],s.index=e,s.componentProviders=0,vz(s,i,r&&!n),s}(i?nte:tte,n.length,i,r,l);!i&&v&&(n[p].providerFactory=C),Tu(s,t,e.length,0),e.push(o),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(C),a.push(C)}else Tu(s,t,h>-1?h:p,vz(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function Tu(t,e,n,r){const i=Qr(e),s=function eJ(t){return!!t.useClass}(e);if(i||s){const o=(s?Y(e.useClass):e).prototype.ngOnDestroy;if(o){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,o]):l[u+1].push(r,o)}else l.push(n,o)}}}function vz(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Nu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function tte(t,e,n,r){return ku(this.multi,[])}function nte(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=qr(n,n[N],this.providerFactory.index,r);s=c.slice(0,a),ku(i,s);for(let o=a;o<c.length;o++)s.push(c[o])}else s=[],ku(i,s);return s}function ku(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $e(t,e=[]){return n=>{n.providersResolver=(r,i)=>function ete(t,e,n){const r=he();if(r.firstCreatePass){const i=_1(t);Au(n,r.data,r.blueprint,i,!0),Au(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ei{}class ite{}class Pu extends ei{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sb(this);const i=function Ut(t,e){const n=t[MM]||null;if(!n&&!0===e)throw new Error(`Type ${w2(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function gn(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=KV(e,n,[{provide:ei,useValue:this},{provide:m6,useValue:this.componentFactoryResolver},...r],w2(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ru extends ite{constructor(e){super(),this.moduleType=e}create(e){return new Pu(this.moduleType,e,[])}}function z2(t,e,n){const r=gt()+t,i=V();return i[r]===ie?B1(i,r,n?e.call(n):e()):function As(t,e){return t[e]}(i,r)}function Nt(t,e,n,r){return zz(V(),gt(),t,e,n,r)}function Hz(t,e,n,r,i){return function Sz(t,e,n,r,i,s,a){const c=e+n;return Xr(t,c,i,s)?B1(t,c+2,a?r.call(a,i,s):r(i,s)):qs(t,c+2)}(V(),gt(),t,e,n,r,i)}function qs(t,e){const n=t[e];return n===ie?void 0:n}function zz(t,e,n,r,i,s){const a=e+n;return st(t,a,i)?B1(t,a+1,s?r.call(s,i):r(i)):qs(t,a+1)}function xz(t,e,n,r,i,s,a,c){const o=e+n;return function b6(t,e,n,r,i){const s=Xr(t,e,n,r);return st(t,e+2,i)||s}(t,o,i,s,a)?B1(t,o+3,c?r.call(c,i,s,a):r(i,s,a)):qs(t,o+3)}function g2(t,e){const n=he();let r;const i=t+ce;n.firstCreatePass?(r=function Hte(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=$r(r.type)),c=St(z);try{const o=ko(!1),l=s();return ko(o),function aee(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,V(),i,l),l}finally{St(c)}}function Wt(t,e,n){const r=t+ce,i=V(),s=e4(i,r);return Ws(i,r)?zz(i,gt(),e,s.transform,n,s):s.transform(n)}function rr(t,e,n,r,i){const s=t+ce,a=V(),c=e4(a,s);return Ws(a,s)?xz(a,gt(),e,c.transform,n,r,i,c):c.transform(n,r,i)}function Ws(t,e){return t[N].data[e].pure}function Fu(t){return e=>{setTimeout(t,void 0,e)}}const W2=class Ite extends lo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),a=r;if(e&&"object"==typeof e){const o=e;i=o.next?.bind(o),s=o.error?.bind(o),a=o.complete?.bind(o)}this.__isAsync&&(s=Fu(s),i&&(i=Fu(i)),a&&(a=Fu(a)));const c=super.subscribe({next:i,error:s,complete:a});return e instanceof p1&&e.add(c),c}};function Dte(t,e,n,r=!0){const i=e[N];if(function dX(t,e,n,r){const i=$2+r,s=n.length;r>0&&(n[i-1][v1]=e),r<s-$2?(e[v1]=n[i],Ew(n,$2+r,e)):(n.push(e),e[v1]=null),e[Ue]=n;const a=e[cs];null!==a&&n!==a&&function hX(t,e){const n=t[Zi];e[o2]!==e[Ue][Ue][o2]&&(t[kM]=!0),null===n?t[Zi]=[e]:n.push(e)}(a,e);const c=e[A1];null!==c&&c.insertView(t),e[re]|=128}(i,e,t,n),r){const s=E7(n,t),a=e[ee],c=Xo(a,t[T1]);null!==c&&function lX(t,e,n,r,i,s){r[a2]=i,r[tt]=e,Ms(t,r,n,1,i,s)}(i,t[tt],a,e,c,s)}}let _n=(()=>{class e{}return e.__NG_ELEMENT_ID__=Nte,e})();const Ate=_n,Tte=class extends Ate{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Lte(t,e,n,r){const i=e.tView,c=_6(t,i,n,4096&t[re]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);c[cs]=t[e.index];const l=t[A1];return null!==l&&(c[A1]=l.createEmbeddedView(i)),gu(i,c,n),c}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Ls(i)}};function Nte(){return function P6(t,e){return 4&t.type?new Tte(e,t,_4(t,e)):null}(G2(),V())}let $1=(()=>{class e{}return e.__NG_ELEMENT_ID__=Bte,e})();function Bte(){return function Pz(t,e){let n;const r=e[t.index];return It(r)?n=r:(n=gb(r,e,null,t),e[t.index]=n,y6(e,n)),Rz(n,e,t,r),new Nz(n,t,e)}(G2(),V())}const Ute=$1,Nz=class extends Ute{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _4(this._hostTNode,this._hostLView)}get injector(){return new _t(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ro(this._hostTNode,this._hostLView);if(c7(e)){const n=hs(e,this._hostLView),r=ds(e);return new _t(n[N].data[r+8],n)}return new _t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=kz(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-$2}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const c=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(c,i,false),c}createComponent(e,n,r,i,s){const a=e&&!function ms(t){return"function"==typeof t}(e);let c;if(a)c=n;else{const g=n||{};c=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const o=a?e:new Ds(de(e)),l=r||this.parentInjector;if(!s&&null==o.ngModule){const v=(a?l:this.parentInjector).get(hn,null);v&&(s=v)}de(o.componentType??{});const h=o.create(l,i,null,s);return this.insertImpl(h.hostView,c,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function OQ(t){return It(t[Ue])}(i)){const o=this.indexOf(e);if(-1!==o)this.detach(o);else{const l=i[Ue],u=new Nz(l,l[tt],l[Ue]);u.detach(u.indexOf(e))}}const a=this._adjustIndex(n),c=this._lContainer;return Dte(c,i,a,!r),e.attachToViewContainerRef(),Ew(Uu(c),a,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=kz(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Yo(this._lContainer,n);r&&(Fo(Uu(this._lContainer),n),z7(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=Yo(this._lContainer,n);return r&&null!=Fo(Uu(this._lContainer),n)?new Ls(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function kz(t){return t[8]}function Uu(t){return t[8]||(t[8]=[])}let Rz=function Oz(t,e,n,r){if(t[T1])return;let i;i=8&n.type?xe(r):function jte(t,e){const n=t[ee],r=n.createComment(""),i=Et(e,t);return Wr(n,Xo(n,i),r,function vX(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[T1]=i};const V1e=new $("Application Initializer");let Ju=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(V1e,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const a=s();if(E6(a))r.push(a);else if(Yb(a)){const c=new Promise((o,l)=>{a.subscribe({complete:o,error:l})});r.push(c)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const yn=new $("LocaleId",{providedIn:"root",factory:()=>O(yn,le.Optional|le.SkipSelf)||function H1e(){return typeof $localize<"u"&&$localize.locale||A4}()});let x1e=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new GW(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function fS(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new W2(!1),this.onMicrotaskEmpty=new W2(!1),this.onStable=new W2(!1),this.onError=new W2(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Q1e(){const t="function"==typeof He.requestAnimationFrame;let e=He[t?"requestAnimationFrame":"setTimeout"],n=He[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function J1e(t){const e=()=>{!function X1e(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(He,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nf(t),t.isCheckStableRunning=!0,tf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,a,c)=>{try{return dS(t),n.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),hS(t)}},onInvoke:(n,r,i,s,a,c,o)=>{try{return dS(t),n.invoke(i,s,a,c,o)}finally{t.shouldCoalesceRunChangeDetection&&e(),hS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,nf(t),tf(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,Y1e,fS,fS);try{return s.runTask(a,n,r)}finally{s.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Y1e={};function tf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hS(t){t._nesting--,tf(t)}class Z1e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new W2,this.onMicrotaskEmpty=new W2,this.onStable=new W2,this.onError=new W2}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const pS=new $("",{providedIn:"root",factory:mS});function mS(){const t=O(Te);let e=!0;return AK(new Ye(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ye(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const a=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(dM()))}const gS=new $(""),B6=new $("");let af,rf=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,af||(function ene(t){af=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Te),ae(sf),ae(B6))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})(),sf=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return af?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ir=null;const vS=new $("AllowMultipleToken"),cf=new $("PlatformDestroyListeners"),_S=new $("appBootstrapListener");function MS(t,e,n=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let a=lf();if(!a||a.injector.get(vS,!1)){const c=[...n,...s,{provide:i,useValue:!0}];t?t(c):function rne(t){if(ir&&!ir.get(vS,!1))throw new S(400,!1);(function yS(){!function SQ(t){UM=t}(()=>{throw new S(600,!1)})})(),ir=t;const e=t.get(VS);(function CS(t){t.get(TV,null)?.forEach(n=>n())})(t)}(function wS(t=[],e){return it.create({name:e,providers:[{provide:U7,useValue:"platform"},{provide:cf,useValue:new Set([()=>ir=null])},...t]})}(c,r))}return function sne(t){const e=lf();if(!e)throw new S(401,!1);return e}()}}function lf(){return ir?.get(VS)??null}let VS=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function ane(t="zone.js",e){return"noop"===t?new Z1e:"zone.js"===t?new Te(e):t}(i?.ngZone,function bS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const a=function ate(t,e,n){return new Pu(t,e,n)}(r.moduleType,this.injector,function IS(t){return[{provide:Te,useFactory:t},{provide:i6,multi:!0,useFactory:()=>{const e=O(one,{optional:!0});return()=>e.initialize()}},{provide:xS,useFactory:cne},{provide:pS,useFactory:mS}]}(()=>s)),c=a.injector.get(Yr,null);return s.runOutsideAngular(()=>{const o=s.onError.subscribe({next:l=>{c.handleError(l)}});a.onDestroy(()=>{U6(this._modules,a),o.unsubscribe()})}),function HS(t,e,n){try{const r=n();return E6(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(c,s,()=>{const o=a.injector.get(Ju);return o.runInitializers(),o.donePromise.then(()=>(function WH(t){e1(t,"Expected localeId to be defined"),"string"==typeof t&&(qH=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(yn,A4)||A4),this._moduleDoBootstrap(a),a))})})}bootstrapModule(r,i=[]){const s=zS({},i);return function tne(t,e,n){const r=new Ru(n);return Promise.resolve(r)}(0,0,r).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(r){const i=r.injector.get(Ys);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(cf,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(it))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function zS(t,e){return Array.isArray(e)?e.reduce(zS,t):{...t,...e}}let Ys=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(xS),this.zoneIsStable=O(pS),this.componentTypes=[],this.components=[],this.isStable=O(x1e).hasPendingTasks.pipe(function NK(t,e){return qn((n,r)=>{let i=null,s=0,a=!1;const c=()=>a&&!i&&r.complete();n.subscribe(an(r,o=>{i?.unsubscribe();let l=0;const u=s++;E1(t(o,u)).subscribe(i=an(r,f=>r.next(e?e(o,f,u,l++):f),()=>{i=null,c()}))},()=>{a=!0,c()}))})}(r=>r?function TK(...t){return S5(t,uM(t))}(!1):this.zoneIsStable),function kK(t,e=oo){return t=t??PK,qn((n,r)=>{let i,s=!0;n.subscribe(an(r,a=>{const c=e(a);(s||!t(i,c))&&(s=!1,i=c,r.next(a))}))})}(),dM()),this._injector=O(hn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof FV;if(!this._injector.get(Ju).done)throw!s&&function is(t){const e=de(t)||j2(t)||mt(t);return null!==e&&e.standalone}(r),new S(405,!1);let c;c=s?r:this._injector.get(m6).resolveComponentFactory(r),this.componentTypes.push(c.componentType);const o=function nne(t){return t.isBoundToModule}(c)?void 0:this._injector.get(ei),u=c.create(it.NULL,[],i||c.selector,o),f=u.location.nativeElement,d=u.injector.get(gS,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),U6(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;U6(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(_S,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>U6(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function U6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xS=new $("",{providedIn:"root",factory:()=>O(Yr).handleError.bind(void 0)});function cne(){const t=O(Te),e=O(Yr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let one=(()=>{var t;class e{constructor(){this.zone=O(Te),this.applicationRef=O(Ys)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Xs=(()=>{class e{}return e.__NG_ELEMENT_ID__=fne,e})();function fne(t){return function dne(t,e,n){if(jr(t)&&!n){const r=jt(t.index,e);return new Ls(r,r)}return 47&t.type?new Ls(e[o2],e):null}(G2(),V(),16==(16&t))}class AS{constructor(){}supports(e){return V6(e)}create(e){return new _ne(e)}}const vne=(t,e)=>e;class _ne{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vne}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const a=!r||n&&n.currentIndex<NS(r,i,s)?n:r,c=NS(a,i,s),o=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,null==a.previousIndex)i++;else{s||(s=[]);const l=c-i,u=o-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[a.previousIndex]=u-l}}c!==o&&e(a,c,o)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!V6(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],a=this._trackByFn(c,s),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,s,a,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,a,c),r=!0),n=n._next}else i=0,function OZ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,c=>{a=this._trackByFn(i,c),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,c,a,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,a,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new yne(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new TS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yne{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cne{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class TS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Cne,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NS(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class kS{constructor(){}supports(e){return e instanceof Map||vu(e)}create(){return new Mne}}class Mne{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||vu(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new wne(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class wne{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PS(){return new G6([new AS])}let G6=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||PS()),deps:[[e,new g7,new Lt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:PS}),e})();function RS(){return new Js([new kS])}let Js=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||RS()),deps:[[e,new g7,new Lt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=Z({token:t,providedIn:"root",factory:RS}),e})();const Hne=MS(null,"core",[]);let zne=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Ys))},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({}),e})();let gf=null;function Zs(){return gf}class One{}const Cn=new $("DocumentToken");var W6=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(W6||{}),l2=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(l2||{});function c1(t,e){const n=yt(t),r=n[Ee.NumberSymbols][e];if(typeof r>"u"){if(e===l2.CurrencyDecimal)return n[Ee.NumberSymbols][l2.Decimal];if(e===l2.CurrencyGroup)return n[Ee.NumberSymbols][l2.Group]}return r}const pre=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function bf(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const zf=/\s+/,ex=[];let Sf=(()=>{var t;class e{constructor(r,i,s,a){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this.initialClasses=ex,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(zf):ex}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(zf):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(zf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(z(G6),z(Js),z(At),z(mn))},t.\u0275dir=K({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Sre{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let r0=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,a,c)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Sre(s.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const o=i.get(a);i.move(o,c),nx(o,s)}});for(let s=0,a=i.length;s<a;s++){const o=i.get(s).context;o.index=s,o.count=a,o.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{nx(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(z($1),z(_n),z(G6))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function nx(t,e){t.context.$implicit=e.item}let ni=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new xre,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){rx("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){rx("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(z($1),z(_n))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class xre{constructor(){this.$implicit=null,this.ngIf=null}}function rx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${w2(e)}'.`)}function w1(t,e){return new S(2100,!1)}class Lre{createSubscription(e,n){return jM(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){jM(()=>e.unsubscribe())}}class Dre{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Are=new Dre,Tre=new Lre;let s0=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(E6(r))return Are;if(Yb(r))return Tre;throw w1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Xs,16))},t.\u0275pipe=D2({name:"async",type:t,pure:!1,standalone:!0}),e})(),sx=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=ax}transform(r,i=ax){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),a=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(c=>{this.keyValues.push(function Wre(t,e){return{key:t,value:e}}(c.key,c.currentValue))})),(s||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Js,16))},t.\u0275pipe=D2({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function ax(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let P4=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function Ef(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function Cre(t,e,n){return function wf(t,e,n,r,i,s,a=!1){let c="",o=!1;if(isFinite(t)){let l=function wre(t){let r,i,s,a,c,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(c=e.length))r=[0],i=1;else{for(c--;"0"===e.charAt(c);)c--;for(i-=s,r=[],a=0;s<=c;s++,a++)r[a]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);a&&(l=function Mre(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const _=s.match(pre);if(null===_)throw new Error(`${s} is not a valid digit info`);const w=_[1],I=_[3],T=_[5];null!=w&&(u=bf(w)),null!=I&&(f=bf(I)),null!=T?d=bf(T):null!=I&&f>d&&(d=f)}!function Vre(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let a=s+t.integerLen,c=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let f=a;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let f=1;f<a;f++)r[f]=0}if(c>=5)if(a-1<0){for(let f=0;f>a;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,s);i++)r.push(0);let o=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,o&&(0===p[h]&&h>=l?p.pop():o=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(o=h.every(_=>!_);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const C=[];for(h.length>=e.lgSize&&C.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)C.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&C.unshift(h.join("")),c=C.join(c1(n,r)),v.length&&(c+=c1(n,i)+v.join("")),g&&(c+=c1(n,l2.Exponential)+"+"+g)}else c=c1(n,l2.Infinity);return c=t<0&&!o?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf,c}(t,function Vf(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],c=a[0],o=a[1]||"";n.posPre=c.substring(0,c.indexOf("#"));for(let u=0;u<o.length;u++){const f=o.charAt(u);"0"===f?n.minFrac=n.maxFrac=u+1:"#"===f?n.maxFrac=u+1:n.posSuf+=f}const l=c.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf("#");n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function vf(t,e){return yt(t)[Ee.NumberFormats][e]}(e,W6.Decimal),c1(e,l2.MinusSign)),e,l2.Group,l2.Decimal,n)}(function Lf(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(a){throw w1()}}}return(t=e).\u0275fac=function(r){return new(r||t)(z(yn,16))},t.\u0275pipe=D2({name:"number",type:t,pure:!0,standalone:!0}),e})();let Yre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({}),e})();const Xre="server";function Df(t){return t===Xre}class bie extends One{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Nf extends bie{static makeCurrent(){!function Rne(t){gf||(gf=t)}(new Nf)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Hie(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}();return null==n?null:function zie(t){o0=o0||document.createElement("a"),o0.setAttribute("href",t);const e=o0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Hre(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let o0,ra=null,xie=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();const kf=new $("EventManagerPlugins");let dx=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(kf),ae(Te))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();class hx{constructor(e){this._doc=e}}const Pf="ng-app-id";let px=(()=>{var t;class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Df(a),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Pf}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(Pf),a;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Pf,this.appId),c}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const a=this.styleRef,c=a.get(i)?.elements;c?c.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn),ae(l6),ae(NV,8),ae(pn))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();const Rf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Of=/%COMP%/g,Die=new $("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gx(t,e){return e.map(n=>n.replace(Of,t))}let vx=(()=>{var t;class e{constructor(r,i,s,a,c,o,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=o,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Df(o),this.defaultRenderer=new Ff(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===m1.ShadowDom&&(i={...i,encapsulation:m1.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof yx?s.applyToHost(r):s instanceof Bf&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let a=s.get(i.id);if(!a){const c=this.doc,o=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case m1.Emulated:a=new yx(l,u,i,this.appId,f,c,o,d);break;case m1.ShadowDom:return new kie(l,u,r,i,c,o,this.nonce,d);default:a=new Bf(l,u,i,f,c,o,d)}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(dx),ae(px),ae(l6),ae(Die),ae(Cn),ae(pn),ae(Te),ae(NV))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();class Ff{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Rf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_x(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_x(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Rf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Rf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(n,r,i&er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Zs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function _x(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class kie extends Ff{constructor(e,n,r,i,s,a,c,o){super(e,s,a,o),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=gx(i.id,i.styles);for(const u of l){const f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bf extends Ff{constructor(e,n,r,i,s,a,c,o){super(e,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=o?gx(o,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yx extends Bf{constructor(e,n,r,i,s,a,c,o){const l=i+"-"+r.id;super(e,n,r,s,a,c,o,l),this.contentAttr=function Aie(t){return"_ngcontent-%COMP%".replace(Of,t)}(l),this.hostAttr=function Tie(t){return"_nghost-%COMP%".replace(Of,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Pie=(()=>{var t;class e extends hx{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();const Cx=["alt","control","meta","shift"],Rie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oie={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Fie=(()=>{var t;class e extends hx{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const a=e.parseEventName(i),c=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zs().onAndCancel(r,a.domEventName,c))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(i.pop());let c="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),c="code."),Cx.forEach(u=>{const f=i.indexOf(u);f>-1&&(i.splice(f,1),c+=u+".")}),c+=a,0!=i.length||0===a.length)return null;const l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=Rie[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Cx.forEach(c=>{c!==s&&(0,Oie[c])(r)&&(a+=c+".")}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),e})();const wx=[{provide:pn,useValue:"browser"},{provide:TV,useValue:function Bie(){Nf.makeCurrent()},multi:!0},{provide:Cn,useFactory:function jie(){return function HX(t){A7=t}(document),document},deps:[]}],$ie=MS(Hne,"browser",wx),Gie=new $(""),Vx=[{provide:B6,useClass:class Sie{addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let s=i.length,a=!1;const c=function(o){a=a||o,s--,0==s&&r(a)};i.forEach(o=>{o.whenStable(c)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Zs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:gS,useClass:rf,deps:[Te,sf,B6]},{provide:rf,useClass:rf,deps:[Te,sf,B6]}],bx=[{provide:U7,useValue:"root"},{provide:Yr,useFactory:function Uie(){return new Yr},deps:[]},{provide:kf,useClass:Pie,multi:!0,deps:[Cn,Te,pn]},{provide:kf,useClass:Fie,multi:!0,deps:[Cn]},vx,px,dx,{provide:UV,useExisting:vx},{provide:class tie{},useClass:xie,deps:[]},[]];let ri=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:l6,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Gie,12))},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({providers:[...bx,...Vx],imports:[Yre,zne]}),e})();typeof window<"u"&&window;let Sx=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:function(r){let i=null;return i=r?new(r||t):ae(xx),i},providedIn:"root"}),e})(),xx=(()=>{var t;class e extends Sx{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case s1.NONE:return i;case s1.HTML:return O1(i,"HTML")?Gt(i):VV(this._doc,String(i)).toString();case s1.STYLE:return O1(i,"Style")?Gt(i):i;case s1.SCRIPT:if(O1(i,"Script"))return Gt(i);throw new S(5200,!1);case s1.URL:return O1(i,"URL")?Gt(i):n6(String(i));case s1.RESOURCE_URL:if(O1(i,"ResourceURL"))return Gt(i);throw new S(5201,!1);default:throw new S(5202,!1)}}bypassSecurityTrustHtml(r){return function DX(t){return new zX(t)}(r)}bypassSecurityTrustStyle(r){return function AX(t){return new SX(t)}(r)}bypassSecurityTrustScript(r){return function TX(t){return new xX(t)}(r)}bypassSecurityTrustUrl(r){return function NX(t){return new IX(t)}(r)}bypassSecurityTrustResourceUrl(r){return function kX(t){return new EX(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=Z({token:t,factory:function(r){let i=null;return i=r?new r:function Xie(t){return new xx(t.get(Cn))}(ae(it)),i},providedIn:"root"}),e})();var KI={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},GE={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},fD={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},c9={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},aa={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},xT={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},I9={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function ik(t,e,n,r,i,s,a){try{var c=t[s](a),o=c.value}catch(l){return void n(l)}c.done?e(o):Promise.resolve(o).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(o){ik(s,r,i,a,c,"next",o)}function c(o){ik(s,r,i,a,c,"throw",o)}a(void 0)})}}const sk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},R9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,o=i+2<t.length,l=o?t[i+2]:0;let d=(15&c)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[s>>2],n[(3&s)<<4|c>>4],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==c||null==l||null==f)throw new wbe;r.push(s<<2|c>>4),64!==l&&(r.push(c<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wbe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b0=function(t){return function(t){const e=sk(t);return R9.encodeByteArray(e,!0)}(t).replace(/\./g,"")},H0=function(t){try{return R9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ck(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const z0=()=>{try{return ck().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H0(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},ok=t=>{var e,n;return null===(n=null===(e=z0())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},lk=()=>{var t;return null===(t=z0())||void 0===t?void 0:t.config},uk=t=>{var e;return null===(e=z0())||void 0===e?void 0:e[`_${t}`]};class R4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function T2(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function O9(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ar(){try{return"object"==typeof indexedDB}catch{return!1}}function ua(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function F9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class l1 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,l1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G1.prototype.create)}}class G1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?function Nbe(t,e){return t.replace(kbe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new l1(i,`${this.serviceName}: ${a} (${i}).`,r)}}const kbe=/\{\$([^}]+)}/g;function x0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(dk(s)&&dk(a)){if(!x0(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dk(t){return null!==t&&"object"==typeof t}function fa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ha(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Obe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Fbe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=B9),void 0===i.error&&(i.error=B9),void 0===i.complete&&(i.complete=B9);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B9(){}const Bbe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},Ube=1e3,jbe=2,$be=144e5,Gbe=.5;function I0(t,e=Ube,n=jbe){const r=e*Math.pow(n,t),i=Math.round(Gbe*r*(Math.random()-.5)*2);return Math.min($be,r+i)}function u2(t){return t&&t._delegate?t._delegate:t}class ct{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ii="[DEFAULT]";class Wbe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new R4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qbe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&a.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ii?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ybe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wbe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const j9=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const hk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Xbe=ge.INFO,Jbe={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},Zbe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Jbe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class O4{constructor(e){this.name=e,this._logLevel=Xbe,this._logHandler=Zbe,this._userLogHandler=null,j9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?hk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const eHe=(t,e)=>e.some(n=>t instanceof n);let pk,mk;const gk=new WeakMap,$9=new WeakMap,vk=new WeakMap,G9=new WeakMap,q9=new WeakMap;let W9={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return $9.get(t);if("objectStoreNames"===e)return t.objectStoreNames||vk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function cHe(t){return"function"==typeof t?function aHe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nHe(){return mk||(mk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(K9(this),e),cr(gk.get(this))}:function(...e){return cr(t.apply(K9(this),e))}:function(e,...n){const r=t.call(K9(this),e,...n);return vk.set(r,e.sort?e.sort():[e]),cr(r)}}(t):(t instanceof IDBTransaction&&function iHe(t){if($9.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});$9.set(t,e)}(t),eHe(t,function tHe(){return pk||(pk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,W9):t)}function cr(t){if(t instanceof IDBRequest)return function rHe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(cr(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&gk.set(n,t)}).catch(()=>{}),q9.set(e,t),e}(t);if(G9.has(t))return G9.get(t);const e=cHe(t);return e!==t&&(G9.set(t,e),q9.set(e,t)),e}const K9=t=>q9.get(t),lHe=["get","getKey","getAll","getAllKeys","count"],uHe=["put","add","delete","clear"],Q9=new Map;function _k(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Q9.get(e))return Q9.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uHe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!lHe.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return Q9.set(e,s),s}!function sHe(t){W9=t(W9)}(t=>({...t,get:(e,n,r)=>_k(e,n)||t.get(e,n,r),has:(e,n)=>!!_k(e,n)||t.has(e,n)}));class fHe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function dHe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Y9="@firebase/app",si=new O4("@firebase/app"),E0="[DEFAULT]",RHe={[Y9]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ai=new Map,L0=new Map;function OHe(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wt(t){const e=t.name;if(L0.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;L0.set(e,t);for(const n of ai.values())OHe(n,t);return!0}function or(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Vn=new G1("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class BHe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const ci="9.23.0";function Ck(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:E0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Vn.create("bad-app-name",{appName:String(i)});if(n||(n=lk()),!n)throw Vn.create("no-options");const s=ai.get(i);if(s){if(x0(n,s.options)&&x0(r,s.config))return s;throw Vn.create("duplicate-app",{appName:i})}const a=new Ybe(i);for(const o of L0.values())a.addComponent(o);const c=new BHe(n,r,a);return ai.set(i,c),c}function pa(t=E0){const e=ai.get(t);if(!e&&t===E0&&lk())return Ck();if(!e)throw Vn.create("no-app",{appName:t});return e}function Mk(){return Array.from(ai.values())}function We(t,e,n){var r;let i=null!==(r=RHe[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];return s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void si.warn(c.join(" "))}wt(new ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const UHe="firebase-heartbeat-database",jHe=1,ma="firebase-heartbeat-store";let J9=null;function wk(){return J9||(J9=function oHe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=cr(a);return r&&a.addEventListener("upgradeneeded",o=>{r(cr(a.result),o.oldVersion,o.newVersion,cr(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}(UHe,jHe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ma)}}).catch(t=>{throw Vn.create("idb-open",{originalErrorMessage:t.message})})),J9}function Z9(){return(Z9=m(function*(t){try{return yield(yield wk()).transaction(ma).objectStore(ma).get(bk(t))}catch(e){if(e instanceof l1)si.warn(e.message);else{const n=Vn.create("idb-get",{originalErrorMessage:e?.message});si.warn(n.message)}}})).apply(this,arguments)}function Vk(t,e){return ed.apply(this,arguments)}function ed(){return(ed=m(function*(t,e){try{const r=(yield wk()).transaction(ma,"readwrite");yield r.objectStore(ma).put(e,bk(t)),yield r.done}catch(n){if(n instanceof l1)si.warn(n.message);else{const r=Vn.create("idb-set",{originalErrorMessage:n?.message});si.warn(r.message)}}})).apply(this,arguments)}function bk(t){return`${t.name}!${t.options.appId}`}class WHe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QHe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Hk(),{heartbeatsToSend:r,unsentEntries:i}=function KHe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),zk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=b0(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Hk(){return(new Date).toISOString().substring(0,10)}class QHe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!ar()&&ua().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function $He(t){return Z9.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Vk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Vk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function zk(t){return b0(JSON.stringify({version:2,heartbeats:t})).length}!function YHe(t){wt(new ct("platform-logger",e=>new fHe(e),"PRIVATE")),wt(new ct("heartbeat",e=>new WHe(e),"PRIVATE")),We(Y9,"0.9.13",t),We(Y9,"0.9.13","esm2017"),We("fire-js","")}(""),We("firebase","9.23.0","app");const ZHe=(t,e)=>e.some(n=>t instanceof n);let Sk,xk;const Ik=new WeakMap,td=new WeakMap,Ek=new WeakMap,nd=new WeakMap,rd=new WeakMap;let id={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return td.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ek.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function aze(t){return"function"==typeof t?function sze(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tze(){return xk||(xk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sd(this),e),lr(Ik.get(this))}:function(...e){return lr(t.apply(sd(this),e))}:function(e,...n){const r=t.call(sd(this),e,...n);return Ek.set(r,e.sort?e.sort():[e]),lr(r)}}(t):(t instanceof IDBTransaction&&function rze(t){if(td.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});td.set(t,e)}(t),ZHe(t,function eze(){return Sk||(Sk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,id):t)}function lr(t){if(t instanceof IDBRequest)return function nze(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(lr(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Ik.set(n,t)}).catch(()=>{}),rd.set(e,t),e}(t);if(nd.has(t))return nd.get(t);const e=aze(t);return e!==t&&(nd.set(t,e),rd.set(e,t)),e}const sd=t=>rd.get(t),oze=["get","getKey","getAll","getAllKeys","count"],lze=["put","add","delete","clear"],ad=new Map;function Lk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ad.get(e))return ad.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!oze.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return ad.set(e,s),s}!function ize(t){id=t(id)}(t=>({...t,get:(e,n,r)=>Lk(e,n)||t.get(e,n,r),has:(e,n)=>!!Lk(e,n)||t.has(e,n)}));const Dk="@firebase/installations",cd="0.6.4",Ak=1e4,Tk=`w:${cd}`,Nk="FIS_v2",uze="https://firebaseinstallations.googleapis.com/v1",fze=36e5,bn=new G1("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kk(t){return t instanceof l1&&t.code.includes("request-failed")}function od({projectId:t}){return`${uze}/projects/${t}/installations`}function Pk(t){return{token:t.token,requestStatus:2,expiresIn:mze(t.expiresIn),creationTime:Date.now()}}function ld(t,e){return ud.apply(this,arguments)}function ud(){return(ud=m(function*(t,e){const r=(yield e.json()).error;return bn.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Rk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fd(t){return dd.apply(this,arguments)}function dd(){return(dd=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function mze(t){return Number(t.replace("s","000"))}function hd(){return(hd=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=od(t),i=Rk(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const c={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Nk,appId:t.appId,sdkVersion:Tk})},o=yield fd(()=>fetch(r,c));if(o.ok){const l=yield o.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Pk(l.authToken)}}throw yield ld("Create Installation",o)})).apply(this,arguments)}function Fk(t){return new Promise(e=>{setTimeout(e,t)})}const yze=/^[cdef][\w-]{21}$/,pd="";function Cze(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Mze(t){return function _ze(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return yze.test(n)?n:pd}catch{return pd}}function F4(t){return`${t.appName}!${t.appId}`}const B4=new Map;function Bk(t,e){const n=F4(t);Uk(n,e),function bze(t,e){const n=function jk(){return!oi&&"BroadcastChannel"in self&&(oi=new BroadcastChannel("[Firebase] FID Change"),oi.onmessage=t=>{Uk(t.data.key,t.data.fid)}),oi}();n&&n.postMessage({key:t,fid:e}),function $k(){0===B4.size&&oi&&(oi.close(),oi=null)}()}(n,e)}function Uk(t,e){const n=B4.get(t);if(n)for(const r of n)r(e)}let oi=null;const Hze="firebase-installations-database",zze=1,li="firebase-installations-store";let md=null;function gd(){return md||(md=function cze(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=lr(a);return r&&a.addEventListener("upgradeneeded",o=>{r(lr(a.result),o.oldVersion,o.newVersion,lr(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}(Hze,zze,{upgrade:(t,e)=>{0===e&&t.createObjectStore(li)}})),md}function D0(t,e){return vd.apply(this,arguments)}function vd(){return(vd=m(function*(t,e){const n=F4(t),i=(yield gd()).transaction(li,"readwrite"),s=i.objectStore(li),a=yield s.get(n);return yield s.put(e,n),yield i.done,(!a||a.fid!==e.fid)&&Bk(t,e.fid),e})).apply(this,arguments)}function _d(t){return yd.apply(this,arguments)}function yd(){return(yd=m(function*(t){const e=F4(t),r=(yield gd()).transaction(li,"readwrite");yield r.objectStore(li).delete(e),yield r.done})).apply(this,arguments)}function ga(t,e){return Cd.apply(this,arguments)}function Cd(){return(Cd=m(function*(t,e){const n=F4(t),i=(yield gd()).transaction(li,"readwrite"),s=i.objectStore(li),a=yield s.get(n),c=e(a);return void 0===c?yield s.delete(n):yield s.put(c,n),yield i.done,c&&(!a||a.fid!==c.fid)&&Bk(t,c.fid),c})).apply(this,arguments)}function Md(t){return wd.apply(this,arguments)}function wd(){return wd=m(function*(t){let e;const n=yield ga(t.appConfig,r=>{const i=function Sze(t){return qk(t||{fid:Cze(),registrationStatus:0})}(r),s=function xze(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(bn.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Ize(t,e){return Vd.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Eze(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===pd?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),wd.apply(this,arguments)}function Vd(){return Vd=m(function*(t,e){try{const n=yield function vze(t,e){return hd.apply(this,arguments)}(t,e);return D0(t.appConfig,n)}catch(n){throw kk(n)&&409===n.customData.serverCode?yield _d(t.appConfig):yield D0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Vd.apply(this,arguments)}function Eze(t){return bd.apply(this,arguments)}function bd(){return(bd=m(function*(t){let e=yield Gk(t.appConfig);for(;1===e.registrationStatus;)yield Fk(100),e=yield Gk(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Md(t);return r||n}return e})).apply(this,arguments)}function Gk(t){return ga(t,e=>{if(!e)throw bn.create("installation-not-found");return qk(e)})}function qk(t){return function Lze(t){return 1===t.registrationStatus&&t.registrationTime+Ak<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Hd(){return(Hd=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Aze(t,{fid:e}){return`${od(t)}/${e}/authTokens:generate`}(t,n),i=function Ok(t,{refreshToken:e}){const n=Rk(t);return n.append("Authorization",function gze(t){return`${Nk} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const c={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Tk,appId:t.appId}})},o=yield fd(()=>fetch(r,c));if(o.ok)return Pk(yield o.json());throw yield ld("Generate Auth Token",o)})).apply(this,arguments)}function zd(t){return Sd.apply(this,arguments)}function Sd(){return Sd=m(function*(t,e=!1){let n;const r=yield ga(t.appConfig,s=>{if(!Kk(s))throw bn.create("not-registered");const a=s.authToken;if(!e&&function kze(t){return 2===t.requestStatus&&!function Pze(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fze}(t)}(a))return s;if(1===a.requestStatus)return n=function Tze(t,e){return xd.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw bn.create("app-offline");const c=function Rze(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Nze(t,e){return Id.apply(this,arguments)}(t,c),c}});return n?yield n:r.authToken}),Sd.apply(this,arguments)}function xd(){return(xd=m(function*(t,e){let n=yield Wk(t.appConfig);for(;1===n.authToken.requestStatus;)yield Fk(100),n=yield Wk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?zd(t,e):r})).apply(this,arguments)}function Wk(t){return ga(t,e=>{if(!Kk(e))throw bn.create("not-registered");return function Oze(t){return 1===t.requestStatus&&t.requestTime+Ak<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Id(){return Id=m(function*(t,e){try{const n=yield function Dze(t,e){return Hd.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield D0(t.appConfig,r),n}catch(n){if(!kk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield D0(t.appConfig,r)}else yield _d(t.appConfig);throw n}}),Id.apply(this,arguments)}function Kk(t){return void 0!==t&&2===t.registrationStatus}function Ed(){return(Ed=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Md(e);return r?r.catch(console.error):zd(e).catch(console.error),n.fid})).apply(this,arguments)}function Ld(){return Ld=m(function*(t,e=!1){const n=t;return yield function Uze(t){return Dd.apply(this,arguments)}(n),(yield zd(n,e)).token}),Ld.apply(this,arguments)}function Dd(){return(Dd=m(function*(t){const{registrationPromise:e}=yield Md(t);e&&(yield e)})).apply(this,arguments)}function Nd(t){return bn.create("missing-app-config-values",{valueName:t})}const Qk="installations",Wze=t=>{const e=t.getProvider("app").getImmediate(),n=function Gze(t){if(!t||!t.options)throw Nd("App Configuration");if(!t.name)throw Nd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Nd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:or(e,"heartbeat"),_delete:()=>Promise.resolve()}},Kze=t=>{const n=or(t.getProvider("app").getImmediate(),Qk).getImmediate();return{getId:()=>function Fze(t){return Ed.apply(this,arguments)}(n),getToken:i=>function Bze(t){return Ld.apply(this,arguments)}(n,i)}};(function Qze(){wt(new ct(Qk,Wze,"PUBLIC")),wt(new ct("installations-internal",Kze,"PRIVATE"))})(),We(Dk,cd),We(Dk,cd,"esm2017");const kd="@firebase/remote-config",Pt=new G1("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aSe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),a=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&a.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(a),s})()}}function cSe(t=navigator){return t.languages&&t.languages[0]||t.language}class oSe{constructor(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:cSe()},l={method:"POST",headers:c,body:JSON.stringify(o)},u=fetch(a,l),f=new Promise((C,_)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",_(w)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(C){let _="fetch-client-network";throw"AbortError"===C?.name&&(_="fetch-timeout"),Pt.create(_,{originalErrorMessage:C?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(200===d.status){let C;try{C=yield d.json()}catch(_){throw Pt.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=C.entries,v=C.state}if("INSTANCE_STATE_UNSPECIFIED"===v?h=500:"NO_CHANGE"===v?h=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==h&&200!==h)throw Pt.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class fSe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function lSe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Pt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function uSe(t){if(!(t instanceof l1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const a={throttleEndTimeMillis:Date.now()+I0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(a),i.attemptFetch(e,a)}})()}}class pSe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function T0(t,e){const n=t.target.error||void 0;return Pt.create(e,{originalErrorMessage:n&&n?.message})}const ui="app_namespace_store";class _Se{constructor(e,n,r,i=function vSe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(T0(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ui,{keyPath:"compositeKey"})}}catch(n){e(Pt.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const c=r.transaction([ui],"readonly").objectStore(ui),o=n.createCompositeKey(e);try{const l=c.get(o);l.onerror=u=>{s(T0(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(Pt.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,a)=>{const o=i.transaction([ui],"readwrite").objectStore(ui),l=r.createCompositeKey(e);try{const u=o.put({compositeKey:l,value:n});u.onerror=f=>{a(T0(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){a(Pt.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const c=r.transaction([ui],"readwrite").objectStore(ui),o=n.createCompositeKey(e);try{const l=c.delete(o);l.onerror=u=>{s(T0(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Pt.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ySe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const a=yield r;a&&(e.lastSuccessfulFetchTimestampMillis=a);const c=yield i;c&&(e.activeConfig=c)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function MSe(){return Bd.apply(this,arguments)}function Bd(){return(Bd=m(function*(){if(!ar())return!1;try{return yield ua()}catch{return!1}})).apply(this,arguments)}!function CSe(){wt(new ct("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pt.create("registration-window");if(!ar())throw Pt.create("indexed-db-unavailable");const{projectId:s,apiKey:a,appId:c}=r.options;if(!s)throw Pt.create("registration-project-id");if(!a)throw Pt.create("registration-api-key");if(!c)throw Pt.create("registration-app-id");const o=new _Se(c,r.name,n=n||"firebase"),l=new ySe(o),u=new O4(kd);u.logLevel=ge.ERROR;const f=new oSe(i,ci,n,s,a,c),d=new fSe(f,o),h=new aSe(d,o,l,u),p=new pSe(r,h,l,o,u);return function rSe(t){const e=u2(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),We(kd,"0.4.4"),We(kd,"0.4.4","esm2017")}();const wSe=(t,e)=>e.some(n=>t instanceof n);let Zk,eP;const tP=new WeakMap,Ud=new WeakMap,nP=new WeakMap,jd=new WeakMap,$d=new WeakMap;let Gd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ud.get(t);if("objectStoreNames"===e)return t.objectStoreNames||nP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ISe(t){return"function"==typeof t?function xSe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bSe(){return eP||(eP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(qd(this),e),Hn(tP.get(this))}:function(...e){return Hn(t.apply(qd(this),e))}:function(e,...n){const r=t.call(qd(this),e,...n);return nP.set(r,e.sort?e.sort():[e]),Hn(r)}}(t):(t instanceof IDBTransaction&&function zSe(t){if(Ud.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Ud.set(t,e)}(t),wSe(t,function VSe(){return Zk||(Zk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Gd):t)}function Hn(t){if(t instanceof IDBRequest)return function HSe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Hn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&tP.set(n,t)}).catch(()=>{}),$d.set(e,t),e}(t);if(jd.has(t))return jd.get(t);const e=ISe(t);return e!==t&&(jd.set(t,e),$d.set(e,t)),e}const qd=t=>$d.get(t);function rP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=Hn(a);return r&&a.addEventListener("upgradeneeded",o=>{r(Hn(a.result),o.oldVersion,o.newVersion,Hn(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}function Wd(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Hn(n).then(()=>{})}const ESe=["get","getKey","getAll","getAllKeys","count"],LSe=["put","add","delete","clear"],Kd=new Map;function iP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Kd.get(e))return Kd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LSe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ESe.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return Kd.set(e,s),s}!function SSe(t){Gd=t(Gd)}(t=>({...t,get:(e,n,r)=>iP(e,n)||t.get(e,n,r),has:(e,n)=>!!iP(e,n)||t.has(e,n)}));const DSe="/firebase-messaging-sw.js",ASe="/firebase-cloud-messaging-push-scope",sP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TSe="https://fcmregistrations.googleapis.com/v1",aP="google.c.a.c_id",NSe="google.c.a.c_l",kSe="google.c.a.ts";var N0=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(N0||{});function zn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function OSe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Qd="fcm_token_details_db",FSe=5,cP="fcm_token_object_Store";function Yd(){return Yd=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Qd))return null;let e=null;return(yield rP(Qd,FSe,{upgrade:(r=m(function*(i,s,a,c){var o;if(s<2||!i.objectStoreNames.contains(cP))return;const l=c.objectStore(cP),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(o=f.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:zn(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:zn(f.auth),p256dh:zn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:zn(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:zn(f.auth),p256dh:zn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:zn(f.vapidKey)}}}}),function(s,a,c,o){return r.apply(this,arguments)})})).close(),yield Wd(Qd),yield Wd("fcm_vapid_details_db"),yield Wd("undefined"),function USe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Yd.apply(this,arguments)}const jSe="firebase-messaging-database",$Se=1,fi="firebase-messaging-store";let Xd=null;function Jd(){return Xd||(Xd=rP(jSe,$Se,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fi)}})),Xd}function oP(t){return Zd.apply(this,arguments)}function Zd(){return Zd=m(function*(t){const e=rh(t),r=yield(yield Jd()).transaction(fi).objectStore(fi).get(e);if(r)return r;{const i=yield function BSe(t){return Yd.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield eh(t,i),i}}),Zd.apply(this,arguments)}function eh(t,e){return th.apply(this,arguments)}function th(){return(th=m(function*(t,e){const n=rh(t),i=(yield Jd()).transaction(fi,"readwrite");return yield i.objectStore(fi).put(e,n),yield i.done,e})).apply(this,arguments)}function nh(){return(nh=m(function*(t){const e=rh(t),r=(yield Jd()).transaction(fi,"readwrite");yield r.objectStore(fi).delete(e),yield r.done})).apply(this,arguments)}function rh({appConfig:t}){return t.appId}const K2=new G1("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function WSe(t,e){return ih.apply(this,arguments)}function ih(){return(ih=m(function*(t,e){const n=yield oh(t),r=uP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ch(t.appConfig),i)).json()}catch(a){throw K2.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(s.error)throw K2.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw K2.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function sh(){return(sh=m(function*(t,e){const n=yield oh(t),r=uP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ch(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw K2.create("token-update-failed",{errorInfo:a?.toString()})}if(s.error)throw K2.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw K2.create("token-update-no-token");return s.token})).apply(this,arguments)}function lP(t,e){return ah.apply(this,arguments)}function ah(){return(ah=m(function*(t,e){const r={method:"DELETE",headers:yield oh(t)};try{const s=yield(yield fetch(`${ch(t.appConfig)}/${e}`,r)).json();if(s.error)throw K2.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw K2.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function ch({projectId:t}){return`${TSe}/projects/${t}/registrations`}function oh(t){return lh.apply(this,arguments)}function lh(){return(lh=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function uP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==sP&&(i.web.applicationPubKey=r),i}const QSe=6048e5;function uh(){return uh=m(function*(t){const e=yield function JSe(t,e){return ph.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:zn(e.getKey("auth")),p256dh:zn(e.getKey("p256dh"))},r=yield oP(t.firebaseDependencies);if(r){if(function ZSe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+QSe?function XSe(t,e){return dh.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield lP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return dP(t.firebaseDependencies,n)}return dP(t.firebaseDependencies,n)}),uh.apply(this,arguments)}function fh(){return fh=m(function*(t){const e=yield oP(t.firebaseDependencies);e&&(yield lP(t.firebaseDependencies,e.token),yield function GSe(t){return nh.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),fh.apply(this,arguments)}function dh(){return dh=m(function*(t,e){try{const n=yield function KSe(t,e){return sh.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield eh(t.firebaseDependencies,r),n}catch(n){throw yield function fP(t){return fh.apply(this,arguments)}(t),n}}),dh.apply(this,arguments)}function dP(t,e){return hh.apply(this,arguments)}function hh(){return(hh=m(function*(t,e){const r={token:yield WSe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield eh(t,r),r.token})).apply(this,arguments)}function ph(){return(ph=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:OSe(e)})})).apply(this,arguments)}function hP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function exe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function txe(t,e){e.data&&(t.data=e.data)}(e,t),function nxe(t,e){var n,r,i,s,a;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const c=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;c&&(t.fcmOptions.link=c);const o=null===(a=e.fcmOptions)||void 0===a?void 0:a.analytics_label;o&&(t.fcmOptions.analyticsLabel=o)}(e,t),e}function pP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mh(t){return K2.create("missing-app-config-values",{valueName:t})}pP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sxe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function ixe(t){if(!t||!t.options)throw mh("App Configuration Object");if(!t.name)throw mh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mh(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function gh(){return(gh=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(DSe,{scope:ASe}),t.swRegistration.update().catch(()=>{})}catch(e){throw K2.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function vh(){return(vh=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function mP(t){return gh.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw K2.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function _h(){return(_h=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sP)})).apply(this,arguments)}function yh(){return yh=m(function*(t,e){if(!navigator)throw K2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw K2.create("permission-blocked");return yield function cxe(t,e){return _h.apply(this,arguments)}(t,e?.vapidKey),yield function axe(t,e){return vh.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function YSe(t){return uh.apply(this,arguments)}(t)}),yh.apply(this,arguments)}function Ch(){return(Ch=m(function*(t,e,n){const r=function lxe(t){switch(t){case N0.NOTIFICATION_CLICKED:return"notification_open";case N0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[aP],message_name:n[NSe],message_time:n[kSe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mh(){return Mh=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===N0.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(hP(n)):t.onMessageHandler.next(hP(n)));const r=n.data;(function rxe(t){return"object"==typeof t&&!!t&&aP in t})(r)&&"1"===r["google.c.a.e"]&&(yield function oxe(t,e,n){return Ch.apply(this,arguments)}(t,n.messageType,r))}),Mh.apply(this,arguments)}const vP="@firebase/messaging",fxe=t=>{const e=new sxe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function uxe(t,e){return Mh.apply(this,arguments)}(e,n)),e},dxe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function gP(t,e){return yh.apply(this,arguments)}(e,r)}};function yP(){return wh.apply(this,arguments)}function wh(){return(wh=m(function*(){try{yield ua()}catch{return!1}return typeof window<"u"&&ar()&&F9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hxe(){wt(new ct("messaging",fxe,"PUBLIC")),wt(new ct("messaging-internal",dxe,"PRIVATE")),We(vP,"0.12.4"),We(vP,"0.12.4","esm2017")}();const k0="analytics",gxe="firebase_id",vxe="origin",_xe=6e4,yxe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hh="https://www.googletagmanager.com/gtag/js",N2=new O4("@firebase/analytics"),Vt=new G1("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Mxe(t){if(!t.startsWith(Hh)){const e=Vt.create("invalid-gtag-resource",{gtagURL:t});return N2.warn(e.message),""}return t}function CP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zh(){return(zh=m(function*(t,e,n,r,i,s){const a=r[i];try{if(a)yield e[a];else{const o=(yield CP(n)).find(l=>l.measurementId===i);o&&(yield e[o.appId])}}catch(c){N2.error(c)}t("config",i,s)})).apply(this,arguments)}function Sh(){return(Sh=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const c=yield CP(n);for(const o of a){const l=c.find(f=>f.measurementId===o),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){N2.error(s)}})).apply(this,arguments)}const Exe=30,MP=new class Dxe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Axe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function xh(){return(xh=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Axe(r)},s=yxe.replace("{app-id}",n),a=yield fetch(s,i);if(200!==a.status&&304!==a.status){let c="";try{const o=yield a.json();null!==(e=o.error)&&void 0!==e&&e.message&&(c=o.error.message)}catch{}throw Vt.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()})).apply(this,arguments)}function Ih(){return(Ih=m(function*(t,e=MP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Vt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Vt.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Rxe;return setTimeout(m(function*(){c.abort()}),void 0!==n?n:_xe),wP({appId:r,apiKey:i,measurementId:s},a,c,e)})).apply(this,arguments)}function wP(t,e,n){return Eh.apply(this,arguments)}function Eh(){return Eh=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=MP){var s;const{appId:a,measurementId:c}=t;try{yield function kxe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(o){if(c)return N2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${o?.message}]`),{appId:a,measurementId:c};throw o}try{const o=yield function Txe(t){return xh.apply(this,arguments)}(t);return i.deleteThrottleMetadata(a),o}catch(o){const l=o;if(!function Pxe(t){if(!(t instanceof l1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(a),c)return N2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:c};throw o}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?I0(n,i.intervalMillis,Exe):I0(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,f),N2.debug(`Calling attemptFetch again in ${u} millis`),wP(t,f,r,i)}}),Eh.apply(this,arguments)}class Rxe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Lh,Rh;function Dh(){return(Dh=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Oh(){return(Oh=m(function*(){if(!ar())return N2.warn(Vt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ua()}catch(t){return N2.warn(Vt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fh(){return Fh=m(function*(t,e,n,r,i,s,a){var c;const o=function Nxe(t){return Ih.apply(this,arguments)}(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&N2.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>N2.error(h)),e.push(o);const l=function Gxe(){return Oh.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([o,l]);(function Ixe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Hh)&&n.src.includes(t))return n;return null})(s)||function Vxe(t,e){const n=function wxe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Mxe}),r=document.createElement("script"),i=`${Hh}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),Rh&&(i("consent","default",Rh),function VP(t){Rh=t}(void 0)),i("js",new Date);const d=null!==(c=a?.config)&&void 0!==c?c:{};return d[vxe]="firebase",d.update=!0,null!=f&&(d[gxe]=f),i("config",u.measurementId,d),Lh&&(i("set",Lh),function bP(t){Lh=t}(void 0)),u.measurementId}),Fh.apply(this,arguments)}class Wxe{constructor(e){this.app=e}_delete(){return delete q1[this.app.options.appId],Promise.resolve()}}let q1={},HP=[];const zP={};let xP,W1,P0="dataLayer",Bh=!1;function Qxe(t,e,n){!function Kxe(){const t=[];if(O9()&&t.push("This is a browser extension environment."),F9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vt.create("invalid-analytics-context",{errorInfo:e});N2.warn(n.message)}}();const r=t.options.appId;if(!r)throw Vt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Vt.create("no-api-key");N2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=q1[r])throw Vt.create("already-exists",{id:r});if(!Bh){!function bxe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(P0);const{wrappedGtag:s,gtagCore:a}=function xxe(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Sxe(t,e,n,r){function s(){return s=m(function*(a,...c){try{if("event"===a){const[o,l]=c;yield function zxe(t,e,n,r,i){return Sh.apply(this,arguments)}(t,e,n,o,l)}else if("config"===a){const[o,l]=c;yield function Hxe(t,e,n,r,i,s){return zh.apply(this,arguments)}(t,e,n,r,o,l)}else if("consent"===a){const[o]=c;t("consent","update",o)}else if("get"===a){const[o,l,u]=c;t("get",o,l,u)}else if("set"===a){const[o]=c;t("set",o)}else t(a,...c)}catch(o){N2.error(o)}}),s.apply(this,arguments)}return function i(a){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(q1,HP,zP,P0,"gtag");W1=s,xP=a,Bh=!0}return q1[r]=function qxe(t,e,n,r,i,s,a){return Fh.apply(this,arguments)}(t,HP,zP,e,xP,P0,n),new Wxe(t)}function Xxe(){return Uh.apply(this,arguments)}function Uh(){return(Uh=m(function*(){if(O9()||!F9()||!ar())return!1;try{return yield ua()}catch{return!1}})).apply(this,arguments)}const IP="@firebase/analytics";!function Zxe(){wt(new ct(k0,(e,{options:n})=>Qxe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wt(new ct("analytics-internal",function t(e){try{const n=e.getProvider(k0).getImmediate();return{logEvent:(r,i,s)=>function Jxe(t,e,n,r){t=u2(t),function Oxe(t,e,n,r,i){return Dh.apply(this,arguments)}(W1,q1[t.app.options.appId],e,n,r).catch(i=>N2.error(i))}(n,r,i,s)}}catch(n){throw Vt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),We(IP,"0.10.0"),We(IP,"0.10.0","esm2017")}();class eIe extends p1{constructor(e,n){super()}schedule(e,n=0){return this}}const R0={setInterval(t,e,...n){const{delegate:r}=R0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=R0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class LP extends eIe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return R0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&R0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wi(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const DP={now:()=>(DP.delegate||Date).now(),delegate:void 0};class va{constructor(e,n=va.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}va.now=DP.now;class AP extends va{constructor(e,n=va.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const rIe=new class nIe extends AP{}(class tIe extends LP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),iIe=new AP(LP),_a=new Ss("7.6.1"),$h="__angularfire_symbol__analyticsIsSupportedValue",Gh="__angularfire_symbol__analyticsIsSupported",qh="__angularfire_symbol__remoteConfigIsSupportedValue",Wh="__angularfire_symbol__remoteConfigIsSupported",Kh="__angularfire_symbol__messagingIsSupportedValue",Qh="__angularfire_symbol__messagingIsSupported";function Xh(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(a=>a.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Gh]||(globalThis[Gh]=Xxe().then(t=>globalThis[$h]=t).catch(()=>globalThis[$h]=!1)),globalThis[Qh]||(globalThis[Qh]=yP().then(t=>globalThis[Kh]=t).catch(()=>globalThis[Kh]=!1)),globalThis[Wh]||(globalThis[Wh]=MSe().then(t=>globalThis[qh]=t).catch(()=>globalThis[qh]=!1));const Jh=(t,e)=>{const n=e?[e]:Mk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r};function U4(){}class TP{constructor(e,n=rIe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(a){i.runGuarded(()=>{e.apply(this,[a])})},n,r)}}class aIe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",U4,{},U4,U4)),n.pipe(function sIe(t,e,n){const r=Be(t)||e||n?{next:t,error:e,complete:n}:t;return r?qn((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let c=!0;i.subscribe(an(s,o=>{var l;null===(l=r.next)||void 0===l||l.call(r,o),s.next(o)},()=>{var o;c=!1,null===(o=r.complete)||void 0===o||o.call(r),s.complete()},o=>{var l;c=!1,null===(l=r.error)||void 0===l||l.call(r,o),s.error(o)},()=>{var o,l;c&&(null===(o=r.unsubscribe)||void 0===o||o.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):oo}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let O0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new TP(Zone.current)),this.insideAngular=n.run(()=>new TP(Zone.current,iIe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ae(Te))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function di(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function hi(t){return di().ngZone.run(()=>t())}function oIe(t){return di(),function lIe(t){return function(n){return(n=n.lift(new aIe(t.ngZone))).pipe(ho(t.outsideAngular),fo(t.insideAngular))}}(di())(t)}const uIe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),hi(()=>t.apply(void 0,r))},k2=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=hi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",U4,{},U4,U4)))),r[s]=uIe(r[s],n));const i=function cIe(t){return di().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ye){const s=di();return i.pipe(ho(s.outsideAngular),fo(s.insideAngular))}return hi(()=>i)}return i instanceof Ye?i.pipe(oIe):i instanceof Promise?hi(()=>new Promise((s,a)=>i.then(c=>hi(()=>s(c)),c=>hi(()=>a(c))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:hi(()=>i)};class j4{constructor(e){return e}}class F0{constructor(){return Mk()}}const Zh=new $("angularfire2._apps"),dIe={provide:j4,useFactory:function fIe(t){return t&&1===t.length?t[0]:new j4(pa())},deps:[[new Lt,Zh]]},hIe={provide:F0,deps:[[new Lt,Zh]]};function pIe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new j4(r)}}let mIe=(()=>{class t{constructor(n){We("angularfire",_a.full,"core"),We("angularfire",_a.full,"app"),We("angular",jV.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ae(pn))},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({providers:[dIe,hIe]}),t})();function $4(t,...e){return{ngModule:mIe,providers:[{provide:Zh,useFactory:pIe(t),multi:!0,deps:[Te,it,O0,...e]}]}}const G4=k2(pa,!0),q4=k2(Ck,!0),ep=new Map,NP={activated:!1,tokenObservers:[]},gIe={initialized:!1,enabled:!1};function e2(t){return ep.get(t)||Object.assign({},NP)}function B0(){return gIe}const tp="https://content-firebaseappcheck.googleapis.com/v1",CIe="exchangeDebugToken",kP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wIe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new R4,yield function VIe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new R4,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Q2=new G1("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function U0(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function np(t){if(!e2(t).activated)throw Q2.create("use-before-activation",{appName:t.name})}function rp(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let a="";return n&&(a+=j0(n)+"d:"),r&&(a+=j0(r)+"h:"),a+=j0(i)+"m:"+j0(s)+"s",a}function j0(t){return 0===t?"00":t>=10?t.toString():"0"+t}function $0(t,e){return ip.apply(this,arguments)}function ip(){return(ip=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let a,c;try{a=yield fetch(t,s)}catch(f){throw Q2.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==a.status)throw Q2.create("fetch-status-error",{httpStatus:a.status});try{c=yield a.json()}catch(f){throw Q2.create("fetch-parse-error",{originalErrorMessage:f?.message})}const o=c.ttl.match(/^([\d.]+)(s)$/);if(!o||!o[2]||isNaN(Number(o[1])))throw Q2.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const l=1e3*Number(o[1]),u=Date.now();return{token:c.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function PP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tp}/projects/${n}/apps/${r}:${CIe}?key=${i}`,body:{debug_token:e}}}const SIe="firebase-app-check-database",xIe=1,ya="firebase-app-check-store",RP="debug-token";let G0=null;function OP(){return G0||(G0=new Promise((t,e)=>{try{const n=indexedDB.open(SIe,xIe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Q2.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ya,{keyPath:"compositeKey"})}}catch(n){e(Q2.create("storage-open",{originalErrorMessage:n?.message}))}}),G0)}function FP(t,e){return sp.apply(this,arguments)}function sp(){return(sp=m(function*(t,e){const r=(yield OP()).transaction(ya,"readwrite"),s=r.objectStore(ya).put({compositeKey:t,value:e});return new Promise((a,c)=>{s.onsuccess=o=>{a()},r.onerror=o=>{var l;c(Q2.create("storage-set",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}function BP(t){return ap.apply(this,arguments)}function ap(){return(ap=m(function*(t){const n=(yield OP()).transaction(ya,"readonly"),i=n.objectStore(ya).get(t);return new Promise((s,a)=>{i.onsuccess=c=>{const o=c.target.result;s(o?o.value:void 0)},n.onerror=c=>{var o;a(Q2.create("storage-get",{originalErrorMessage:null===(o=c.target.error)||void 0===o?void 0:o.message}))}})})).apply(this,arguments)}function UP(t){return`${t.options.appId}-${t.name}`}const Ca=new O4("@firebase/app-check");function cp(){return(cp=m(function*(t){if(ar()){let e;try{e=yield function IIe(t){return BP(UP(t))}(t)}catch(n){Ca.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function op(t,e){return ar()?function EIe(t,e){return FP(UP(t),e)}(t,e).catch(n=>{Ca.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function lp(){return(lp=m(function*(){let t;try{t=yield function DIe(){return BP(RP)}()}catch{}if(t)return t;{const e=Bbe();return function LIe(t){return FP(RP,t)}(e).catch(n=>Ca.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function up(){return B0().enabled}function fp(){return dp.apply(this,arguments)}function dp(){return(dp=m(function*(){const t=B0();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const kIe={error:"UNKNOWN_ERROR"};function PIe(t){return R9.encodeString(JSON.stringify(t),!1)}function q0(t){return hp.apply(this,arguments)}function hp(){return(hp=m(function*(t,e=!1){const n=t.app;np(n);const r=e2(n);let s,i=r.token;if(i&&!W4(i)&&(r.token=void 0,i=void 0),!i){const o=yield r.cachedTokenPromise;o&&(W4(o)?i=o:yield op(n,void 0))}if(!e&&i&&W4(i))return{token:i.token};let c,a=!1;if(up()){r.exchangeTokenPromise||(r.exchangeTokenPromise=$0(PP(n,yield fp()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);const o=yield r.exchangeTokenPromise;return yield op(n,o),r.token=o,{token:o.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),i=yield e2(n).exchangeTokenPromise}catch(o){"appCheck/throttled"===o.code?Ca.warn(o.message):Ca.error(o),s=o}return i?s?c=W4(i)?{token:i.token,internalError:s}:qP(s):(c={token:i.token},r.token=i,yield op(n,i)):c=qP(s),a&&GP(n,c),c})).apply(this,arguments)}function jP(t){return pp.apply(this,arguments)}function pp(){return(pp=m(function*(t){const e=t.app;np(e);const{provider:n}=e2(e);if(up()){const r=yield fp(),{token:i}=yield $0(PP(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function mp(t,e,n,r){const{app:i}=t,s=e2(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&W4(s.token)){const c=s.token;Promise.resolve().then(()=>{n({token:c.token}),$P(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$P(t))}function gp(t,e){const n=e2(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $P(t){const{app:e}=t,n=e2(e);let r=n.tokenRefresher;r||(r=function RIe(t){const{app:e}=t;return new wIe(m(function*(){let r;if(r=e2(e).token?yield q0(t,!0):yield q0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=e2(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},kP.RETRIAL_MIN_WAIT,kP.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function GP(t,e){const n=e2(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function W4(t){return t.expireTimeMillis-Date.now()>0}function qP(t){return{token:PIe(kIe),error:t}}class OIe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=e2(this.app);for(const n of e)gp(this.app,n.next);return Promise.resolve()}}function qIe(t,e){const n=new R4;e2(t).reCAPTCHAState={initialized:n};const i=function WP(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=U0(!1);return s?W0(t,e,s,i,n):function QIe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const a=U0(!1);if(!a)throw new Error("no recaptcha");W0(t,e,a,i,n)}),n.promise}function W0(t,e,n,r,i){n.ready(()=>{(function KIe(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{e2(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{e2(t).reCAPTCHAState.succeeded=!1}}),s=e2(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function KP(t){return vp.apply(this,arguments)}function vp(){return(vp=m(function*(t){np(t);const n=yield e2(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=e2(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class ur{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function JP(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Q2.create("throttled",{time:rp(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield KP(e._app).catch(c=>{throw Q2.create("recaptcha-error")});if(null===(n=e2(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw Q2.create("recaptcha-error");let a;try{a=yield $0(function HIe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tp}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(c){throw null!==(r=c.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function XP(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=I0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=c.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),Q2.create("throttled",{time:rp(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):c}return e._throttleData=null,a})()}initialize(e){this._app=e,this._heartbeatServiceProvider=or(e,"heartbeat"),qIe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof ur&&this._siteKey===e._siteKey}}function XIe(t=pa(),e){const n=or(t=u2(t),"app-check");if(B0().initialized||function NIe(){const t=ck(),e=B0();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new R4;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function TIe(){return lp.apply(this,arguments)}())}(),up()&&fp().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Q2.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function JIe(t,e,n){const r=function vIe(t,e){return ep.set(t,e),ep.get(t)}(t,Object.assign({},NP));r.activated=!0,r.provider=e,r.cachedTokenPromise=function AIe(t){return cp.apply(this,arguments)}(t).then(i=>(i&&W4(i)&&(r.token=i,GP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),e2(t).isTokenAutoRefreshEnabled&&mp(r,"INTERNAL",()=>{}),r}const ZP="app-check-internal";!function eEe(){wt(new ct("app-check",t=>function FIe(t,e){return new OIe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZP).initialize()})),wt(new ct(ZP,t=>function BIe(t){return{getToken:e=>q0(t,e),getLimitedUseToken:()=>jP(t),addTokenListener:e=>mp(t,"INTERNAL",e),removeTokenListener:e=>gp(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),We("@firebase/app-check","0.8.0")}();const eR="app-check";class yp{constructor(e){return e}}class Cp{constructor(){return Jh(eR)}}const Mp=new $("angularfire2.app-check-instances"),nEe=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function rEe(t){return(e,n,r)=>{var i;!Df(r)&&nEe&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new yp(s)}}const iEe={provide:Cp,deps:[[new Lt,Mp]]},sEe={provide:yp,useFactory:function tEe(t,e){const n=Xh(eR,t,e);return n&&new yp(n)},deps:[[new Lt,Mp],j4,pn]};let aEe=(()=>{class t{constructor(){We("angularfire",_a.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({providers:[sEe,iEe]}),t})();function K4(t,...e){return{ngModule:aEe,providers:[{provide:Mp,useFactory:rEe(t),multi:!0,deps:[Te,it,pn,O0,F0,...e]}]}}const Q4=k2(XIe,!0);const cEe=function tR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nR=new G1("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),K0=new O4("@firebase/auth");function Q0(t,...e){K0.logLevel<=ge.ERROR&&K0.error(`Auth (${ci}): ${t}`,...e)}function Rt(t,...e){throw wp(t,...e)}function Qt(t,...e){return wp(t,...e)}function rR(t,e,n){const r=Object.assign(Object.assign({},cEe()),{[e]:n});return new G1("auth","Firebase",r).create(e,{appName:t.name})}function wp(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nR.create(t,...e)}function x(t,e,...n){if(!t)throw wp(e,...n)}function K1(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Q0(e),new Error(e)}function Sn(t,e){t||K1(e)}function Ma(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function iR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class wa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sn(n>e,"Short delay should be less than long delay!"),this.isMobile=function Ebe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T2())}()||function Dbe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function lEe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Vp(){return"http:"===iR()||"https:"===iR()}()||O9()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bp(t,e){Sn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class sR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void K1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void K1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void K1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fEe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dEe=new wa(3e4,6e4);function Ke(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function t2(t,e,n,r){return Hp.apply(this,arguments)}function Hp(){return(Hp=m(function*(t,e,n,r,i={}){return aR(t,i,m(function*(){let s={},a={};r&&("GET"===e?a=r:s={body:JSON.stringify(r)});const c=fa(Object.assign({key:t.config.apiKey},a)).slice(1),o=yield t._getAdditionalHeaders();return o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode),sR.fetch()(cR(t,t.config.apiHost,n,c),Object.assign({method:e,headers:o,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function aR(t,e,n){return zp.apply(this,arguments)}function zp(){return(zp=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fEe),e);try{const i=new hEe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=yield s.json();if("needConfirmation"in a)throw Va(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[o,l]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===o)throw Va(t,"credential-already-in-use",a);if("EMAIL_EXISTS"===o)throw Va(t,"email-already-in-use",a);if("USER_DISABLED"===o)throw Va(t,"user-disabled",a);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw rR(t,u,l);Rt(t,u)}}catch(i){if(i instanceof l1)throw i;Rt(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function xn(t,e,n,r){return Sp.apply(this,arguments)}function Sp(){return(Sp=m(function*(t,e,n,r,i={}){const s=yield t2(t,e,n,r,i);return"mfaPendingCredential"in s&&Rt(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function cR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bp(t.config,i):`${t.config.apiScheme}://${i}`}class hEe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qt(this.auth,"network-request-failed")),dEe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Va(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qt(t,e,r);return i.customData._tokenResponse=n,i}function xp(){return(xp=m(function*(t,e){return t2(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Ep(){return(Ep=m(function*(t,e){return t2(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lp(){return(Lp=m(function*(t,e=!1){const n=u2(t),r=yield n.getIdToken(e),i=Y0(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:ba(Dp(i.auth_time)),issuedAtTime:ba(Dp(i.iat)),expirationTime:ba(Dp(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Dp(t){return 1e3*Number(t)}function Y0(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Q0("JWT malformed, contained fewer than 3 sections"),null;try{const i=H0(n);return i?JSON.parse(i):(Q0("Failed to decode base64 JWT payload"),null)}catch(i){return Q0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function In(t,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof l1&&function yEe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class CEe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class oR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ha(t){return Tp.apply(this,arguments)}function Tp(){return Tp=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield In(t,function gEe(t,e){return Ep.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function VEe(t){return t.map(e=>{var{providerId:n}=e,r=uo(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],c=function wEe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,a),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||c?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new oR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}),Tp.apply(this,arguments)}function Np(){return(Np=m(function*(t){const e=u2(t);yield Ha(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kp(){return(kp=m(function*(t,e){const n=yield aR(t,{},m(function*(){const r=fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=cR(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",sR.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function _Ee(t){const e=Y0(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:a}=yield function bEe(t,e){return kp.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(a))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new za;return r&&(x("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return K1("not implemented")}}function fr(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CEe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield In(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function vEe(t){return Lp.apply(this,arguments)}(this,e)}reload(){return function MEe(t){return Np.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ha(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield In(e,function pEe(t,e){return xp.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,o,l,u;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,g=null!==(c=n.tenantId)&&void 0!==c?c:void 0,v=null!==(o=n._redirectEventId)&&void 0!==o?o:void 0,C=null!==(l=n.createdAt)&&void 0!==l?l:void 0,_=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:I,isAnonymous:T,providerData:q,stsTokenManager:fe}=n;x(w&&fe,e,"internal-error");const M2=za.fromJSON(this.name,fe);x("string"==typeof w,e,"internal-error"),fr(f,e.name),fr(d,e.name),x("boolean"==typeof I,e,"internal-error"),x("boolean"==typeof T,e,"internal-error"),fr(h,e.name),fr(p,e.name),fr(g,e.name),fr(v,e.name),fr(C,e.name),fr(_,e.name);const L2=new pi({uid:w,auth:e,email:d,emailVerified:I,displayName:f,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:M2,createdAt:C,lastLoginAt:_});return q&&Array.isArray(q)&&(L2.providerData=q.map(no=>Object.assign({},no))),v&&(L2._redirectEventId=v),L2}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new za;i.updateFromServerResponse(n);const s=new pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ha(s),s})()}}const lR=new Map;function En(t){Sn(t instanceof Function,"Expected a class definition");let e=lR.get(t);return e?(Sn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lR.set(t,e),e)}const uR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function X0(t,e,n){return`firebase:${t}:${e}:${n}`}class X4{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=X0(this.userKey,i.apiKey,s),this.fullPersistenceKey=X0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?pi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new X4(En(uR),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||En(uR);const a=X0(r,e.config.apiKey,e.name);let c=null;for(const l of n)try{const u=yield l._get(a);if(u){const f=pi._fromJSON(e,u);l!==s&&(c=f),s=l;break}}catch{}const o=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],c&&(yield s._set(a,c.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(a)}catch{}});return function(u){return l.apply(this,arguments)}}())),new X4(s,e,r)):new X4(s,e,r)})()}}function fR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gR(e))return"Blackberry";if(vR(e))return"Webos";if(Pp(e))return"Safari";if((e.includes("chrome/")||hR(e))&&!e.includes("edge/"))return"Chrome";if(mR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dR(t=T2()){return/firefox\//i.test(t)}function Pp(t=T2()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hR(t=T2()){return/crios\//i.test(t)}function pR(t=T2()){return/iemobile/i.test(t)}function mR(t=T2()){return/android/i.test(t)}function gR(t=T2()){return/blackberry/i.test(t)}function vR(t=T2()){return/webos/i.test(t)}function J0(t=T2()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _R(t=T2()){return J0(t)||mR(t)||vR(t)||gR(t)||/windows phone/i.test(t)||pR(t)}function yR(t,e=[]){let n;switch(t){case"Browser":n=fR(T2());break;case"Worker":n=`${fR(T2())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ci}/${r}`}function CR(t,e){return Op.apply(this,arguments)}function Op(){return(Op=m(function*(t,e){return t2(t,"GET","/v2/recaptchaConfig",Ke(t,e))})).apply(this,arguments)}function wR(t){return void 0!==t&&void 0!==t.enterprise}class VR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function Fp(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function IEe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function bR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class HR{constructor(e){this.type="recaptcha-enterprise",this.auth=P2(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(c){if(!n){if(null==c.tenantId&&null!=c._agentRecaptchaConfig)return c._agentRecaptchaConfig.siteKey;if(null!=c.tenantId&&void 0!==c._tenantRecaptchaConfigs[c.tenantId])return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(function(){var o=m(function*(l,u){CR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new VR(f);return null==c.tenantId?c._agentRecaptchaConfig=d:c._tenantRecaptchaConfigs[c.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return o.apply(this,arguments)}}())}),s.apply(this,arguments)}function a(c,o,l){const u=window.grecaptcha;wR(u)?u.enterprise.ready(()=>{u.enterprise.execute(c,{action:e}).then(f=>{o(f)}).catch(()=>{o("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,o)=>{(function i(c){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&wR(window.grecaptcha))a(l,c,o);else{if(typeof window>"u")return void o(new Error("RecaptchaVerifier is only supported in browser"));Fp("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{a(l,c,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})})()}}function dr(t,e,n){return Bp.apply(this,arguments)}function Bp(){return(Bp=m(function*(t,e,n,r=!1){const i=new HR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const a=Object.assign({},e);return Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})).apply(this,arguments)}class AEe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{a(e(s))}catch(o){c(o)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class TEe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zR(this),this.idTokenSubscription=new zR(this),this.beforeStateQueue=new AEe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=En(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield X4.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const c=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!c||c===o)&&l?.user&&(s=l.user,a=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{yield n.beforeStateQueue.runMiddleware(s)}catch(c){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(c))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Ha(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function uEe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?u2(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(En(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield CR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new VR(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new HR(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new G1("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&En(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield X4.create(n,[En(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return x(a,this,"internal-error"),a.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function oEe(t,...e){K0.logLevel<=ge.WARN&&K0.warn(`Auth (${ci}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function P2(t){return u2(t)}class zR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Rbe(t,e){const n=new Obe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function SR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return K1("not implemented")}_getIdTokenResponse(e){return K1("not implemented")}_linkToIdToken(e,n){return K1("not implemented")}_getReauthenticationResolver(e){return K1("not implemented")}}function ER(t,e){return $p.apply(this,arguments)}function $p(){return($p=m(function*(t,e){return t2(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function qp(t,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=m(function*(t,e){return xn(t,"POST","/v1/accounts:signInWithPassword",Ke(t,e))})).apply(this,arguments)}function tm(){return(tm=m(function*(t,e){return xn(t,"POST","/v1/accounts:signInWithEmailLink",Ke(t,e))})).apply(this,arguments)}function nm(){return(nm=m(function*(t,e){return xn(t,"POST","/v1/accounts:signInWithEmailLink",Ke(t,e))})).apply(this,arguments)}class Sa extends Up{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield dr(e,i,"signInWithPassword");return qp(e,s)}return qp(e,i).catch(function(){var s=m(function*(a){if("auth/missing-recaptcha-token"===a.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const c=yield dr(e,i,"signInWithPassword");return qp(e,c)}return Promise.reject(a)});return function(a){return s.apply(this,arguments)}}());case"emailLink":return function jEe(t,e){return tm.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Rt(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return ER(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function $Ee(t,e){return nm.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Rt(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ln(t,e){return rm.apply(this,arguments)}function rm(){return(rm=m(function*(t,e){return xn(t,"POST","/v1/accounts:signInWithIdp",Ke(t,e))})).apply(this,arguments)}class J4 extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new J4(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uo(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new J4(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return Ln(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ln(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ln(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fa(n)}return e}}class Ia{constructor(e){var n,r,i,s,a,c;const o=da(ha(e)),l=null!==(n=o.apiKey)&&void 0!==n?n:null,u=null!==(r=o.oobCode)&&void 0!==r?r:null,f=function XEe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=o.mode)&&void 0!==i?i:null);x(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(c=o.tenantId)&&void 0!==c?c:null}static parseLink(e){const n=function JEe(t){const e=da(ha(t)).link,n=e?da(ha(e)).deep_link_id:null,r=da(ha(t)).deep_link_id;return(r?da(ha(r)).link:null)||r||n||e||t}(e);try{return new Ia(n)}catch{return null}}}let LR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Sa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Ia.parseLink(r);return x(i,"argument-error"),Sa._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class hr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class DR extends hr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let ZEe=(()=>{class t extends DR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return J4._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class u1{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield pi._fromIdTokenResponse(e,r,i),a=AR(r);return new u1({user:s,providerId:a,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=AR(r);return new u1({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function AR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class n8 extends l1{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n8.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new n8(e,n,r,i)}}function TR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?n8._fromErrorAndOperation(t,s,e,r):s})}function hm(){return(hm=m(function*(t,e,n=!1){const r=yield In(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return u1._forOperation(t,"link",r)})).apply(this,arguments)}function mm(){return(mm=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield In(t,TR(r,i,e,t),n);x(s.idToken,r,"internal-error");const a=Y0(s.idToken);x(a,r,"internal-error");const{sub:c}=a;return x(t.uid===c,r,"user-mismatch"),u1._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Rt(r,"user-mismatch"),s}})).apply(this,arguments)}function PR(t,e){return gm.apply(this,arguments)}function gm(){return(gm=m(function*(t,e,n=!1){const r="signIn",i=yield TR(t,r,e),s=yield u1._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function _m(){return(_m=m(function*(t,e){return PR(P2(t),e)})).apply(this,arguments)}function aLe(t,e,n){return function vm(t,e){return _m.apply(this,arguments)}(u2(t),LR.credential(e,n))}const i8="__sak";class OR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(i8,"1"),this.storage.removeItem(i8),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bLe=(()=>{class t extends OR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function MLe(){const t=T2();return Pp(t)||J0(t)}()&&function SEe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_R(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((c,o,l)=>{this.notifyListeners(c,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(i);if(n.newValue!==c)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);!function zEe(){return function Abe(){const t=T2();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||a===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),FR=(()=>{class t extends OR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let zLe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:a,data:c}=i.data,o=r.handlersMap[a];if(!o?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(o).map(function(){var f=m(function*(d){return d(i.origin,c)});return function(d){return f.apply(this,arguments)}}()),u=yield function HLe(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function s8(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class SLe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((o,l)=>{const u=s8("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"))}}},i.handlers.add(c),s.port1.addEventListener("message",c.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{c&&i.removeMessageHandler(c)})})()}}function _2(){return window}function qm(){return typeof _2().WorkerGlobalScope<"u"&&"function"==typeof _2().importScripts}function Wm(){return(Wm=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const BR="firebaseLocalStorageDb",a8="firebaseLocalStorage",UR="fbase_key";class La{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function c8(t,e){return t.transaction([a8],e?"readwrite":"readonly").objectStore(a8)}function Km(){const t=indexedDB.open(BR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(a8,{keyPath:UR})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(a8)?e(r):(r.close(),yield function ALe(){const t=indexedDB.deleteDatabase(BR);return new La(t).toPromise()}(),e(yield Km()))}))})}function jR(t,e,n){return Qm.apply(this,arguments)}function Qm(){return(Qm=m(function*(t,e,n){const r=c8(t,!0).put({[UR]:e,value:n});return new La(r).toPromise()})).apply(this,arguments)}function Ym(){return(Ym=m(function*(t,e){const n=c8(t,!1).get(e),r=yield new La(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function $R(t,e){const n=c8(t,!0).delete(e);return new La(n).toPromise()}const PLe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield Km()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return qm()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=zLe._getInstance(function LLe(){return qm()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function ILe(){return Wm.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new SLe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function ELe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield Km();return yield jR(n,i8,"1"),yield $R(n,i8),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>jR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function TLe(t,e){return Ym.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>$R(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(a=>{const c=c8(a,!1).getAll();return new La(c).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:a,value:c}of r)s.add(a),JSON.stringify(n.localCache[a])!==JSON.stringify(c)&&(n.notifyListeners(a,c),i.push(a));for(const a of Object.keys(n.localCache))n.localCache[a]&&!s.has(a)&&(n.notifyListeners(a,null),i.push(a));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function gi(t,e){return e?En(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}bR("rcb"),new wa(3e4,6e4);class sg extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ln(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ln(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ln(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZLe(t){return PR(t.auth,new sg(t),t.bypassAuthState)}function eDe(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function kR(t,e){return mm.apply(this,arguments)}(n,new sg(t),t.bypassAuthState)}function tDe(t){return ag.apply(this,arguments)}function ag(){return(ag=m(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function dm(t,e){return hm.apply(this,arguments)}(n,new sg(t),t.bypassAuthState)})).apply(this,arguments)}class qR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:a,error:c,type:o}=e;if(c)return void n.reject(c);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(o)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZLe;case"linkViaPopup":case"linkViaRedirect":return tDe;case"reauthViaPopup":case"reauthViaRedirect":return eDe;default:Rt(this.auth,"internal-error")}}resolve(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nDe=new wa(2e3,1e4);function rDe(t,e,n){return cg.apply(this,arguments)}function cg(){return(cg=m(function*(t,e,n){const r=P2(t);!function Y4(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Rt(t,"argument-error"),rR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,hr);const i=gi(r,n);return new ug(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let ug=(()=>{class t extends qR{constructor(n,r,i,s,a){super(n,r,s,a),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return x(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){Sn(1===n.filter.length,"Popup operations only handle one event");const r=s8();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Qt(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,nDe.get())};n()}}return t.currentPopupAction=null,t})();const iDe="pendingRedirect",Da=new Map;class sDe extends qR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Da.get(n.auth._key());if(!r){try{const s=(yield function aDe(t,e){return fg.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Da.set(n.auth._key(),r)}return n.bypassAuthState||Da.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function fg(){return(fg=m(function*(t,e){const n=function KR(t){return X0(iDe,t.config.apiKey,t.name)}(e),r=function WR(t){return En(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function cDe(t,e){Da.set(t._key(),e)}function QR(t,e){return _g.apply(this,arguments)}function _g(){return(_g=m(function*(t,e,n=!1){const r=P2(t),i=gi(r,e),a=yield new sDe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})).apply(this,arguments)}class dDe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function hDe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(XR(e))}saveEventToCache(e){this.cachedEventUids.add(XR(e)),this.lastProcessedEventTime=Date.now()}}function XR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Cg(){return(Cg=m(function*(t,e={}){return t2(t,"GET","/v1/projects",e)})).apply(this,arguments)}const mDe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gDe=/^https?/;function Mg(){return Mg=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function pDe(t){return Cg.apply(this,arguments)}(t);for(const n of e)try{if(_De(n))return}catch{}Rt(t,"unauthorized-domain")}),Mg.apply(this,arguments)}function _De(t){const e=Ma(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return""===a.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!gDe.test(n))return!1;if(mDe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yDe=new wa(3e4,6e4);function ZR(){const t=_2().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let l8=null;const wDe=new wa(5e3,15e3),VDe="__/auth/iframe",bDe="emulator/auth/iframe",HDe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zDe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SDe(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bp(e,bDe):`https://${t.config.authDomain}/${VDe}`,r={apiKey:e.apiKey,appName:t.name,v:ci},i=zDe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fa(r).slice(1)}`}function wg(){return wg=m(function*(t){const e=yield function MDe(t){return l8=l8||function CDe(t){return new Promise((e,n)=>{var r,i,s;function a(){ZR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZR(),n(Qt(t,"network-request-failed"))},timeout:yDe.get()})}if(null!==(i=null===(r=_2().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=_2().gapi)||void 0===s||!s.load){const c=bR("iframefcb");return _2()[c]=()=>{gapi.load?a():n(Qt(t,"network-request-failed"))},Fp(`https://apis.google.com/js/api.js?onload=${c}`).catch(o=>n(o))}a()}}).catch(e=>{throw l8=null,e})}(t),l8}(t),n=_2().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:SDe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HDe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,a){yield r.restyle({setHideOnLeave:!1});const c=Qt(t,"network-request-failed"),o=_2().setTimeout(()=>{a(c)},wDe.get());function l(){_2().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{a(c)})});return function(s,a){return i.apply(this,arguments)}}()))}),wg.apply(this,arguments)}const IDe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kDe="__/auth/handler",PDe="emulator/auth/handler",RDe=encodeURIComponent("fac");function tO(t,e,n,r,i,s){return Vg.apply(this,arguments)}function Vg(){return(Vg=m(function*(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ci,eventId:i};if(e instanceof hr){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function Pbe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof DR){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const u of Object.keys(c))void 0===c[u]&&delete c[u];const o=yield t._getAppCheckToken(),l=o?`#${RDe}=${encodeURIComponent(o)}`:"";return`${function ODe({config:t}){return t.emulator?bp(t,PDe):`https://${t.authDomain}/${kDe}`}(t)}?${fa(c).slice(1)}${l}`})).apply(this,arguments)}const bg="webStorageSupport",BDe=class FDe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FR,this._completeRedirectFn=QR,this._overrideRedirectResult=cDe}_openPopup(e,n,r,i){var s=this;return m(function*(){var a;Sn(null===(a=s.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const c=yield tO(e,n,r,Ma(),i);return function TDe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const o=Object.assign(Object.assign({},IDe),{width:r.toString(),height:i.toString(),top:s,left:a}),l=T2().toLowerCase();n&&(c=hR(l)?"_blank":n),dR(l)&&(e=e||"http://localhost",o.scrollbars="yes");const u=Object.entries(o).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function HEe(t=T2()){var e;return J0(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==c)return function NDe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",c),new eO(null);const f=window.open(e||"",c,u);x(f,t,"popup-blocked");try{f.focus()}catch{}return new eO(f)}(e,c,s8())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function xLe(t){_2().location.href=t}(yield tO(e,n,r,Ma(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function xDe(t){return wg.apply(this,arguments)}(e),i=new dDe(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bg,{type:bg},i=>{var s;const a=null===(s=i?.[0])||void 0===s?void 0:s[bg];void 0!==a&&n(!!a),Rt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function vDe(t){return Mg.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _R()||Pp()||J0()}};var iO="@firebase/auth";class UDe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qDe=uk("authIdTokenMaxAge")||300;let aO=null;const WDe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>qDe)return;const s=r?.token;aO!==s&&(aO=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function KDe(t=pa()){const e=or(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function NEe(t,e){const n=or(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(x0(n.getOptions(),e??{}))return i;Rt(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:BDe,persistence:[PLe,bLe,FR]}),r=uk("authTokenSyncURL");if(r){const s=WDe(r);(function mLe(t,e,n){u2(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function pLe(t,e,n,r){u2(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}const i=ok("auth");return i&&function PEe(t,e,n){const r=P2(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=SR(e),{host:a,port:c}=function REe(t){const e=SR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xR(r.substr(s.length+1))}}{const[s,a]=r.split(":");return{host:s,port:xR(a)}}}(e);r.config.emulator={url:`${s}//${a}${null===c?"":`:${c}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function OEe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function QDe(t){return new Ye(function(e){var n=function gLe(t,e,n,r){return u2(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function $De(t){wt(new ct("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;x(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yR(t)},l=new TEe(r,i,s,o);return function kEe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(En);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wt(new ct("auth-internal",e=>{const n=P2(e.getProvider("auth").getImmediate());return new UDe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(iO,"0.23.2",function jDe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),We(iO,"0.23.2","esm2017")}("Browser");class f8{constructor(e){return e}}class oO{constructor(){return Jh("auth")}}const zg=new $("angularfire2.auth-instances");function JDe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new f8(r)}}const ZDe={provide:oO,deps:[[new Lt,zg]]},eAe={provide:f8,useFactory:function XDe(t,e){const n=Xh("auth",t,e);return n&&new f8(n)},deps:[[new Lt,zg],j4]};let tAe=(()=>{class t{constructor(){We("angularfire",_a.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({providers:[eAe,ZDe]}),t})();function e3(t,...e){return{ngModule:tAe,providers:[{provide:zg,useFactory:JDe(t),multi:!0,deps:[Te,it,O0,F0,[new Lt,Cp],...e]}]}}const nAe=k2(QDe,!0),t3=k2(KDe,!0),rAe=k2(aLe,!0),iAe=k2(rDe,!0);var A,sAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V1={},Sg=Sg||{},ne=sAe||self;function d8(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Aa(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var xg="closure_uid_"+(1e9*Math.random()>>>0),cAe=0;function oAe(t,e,n){return t.call.apply(t.bind,arguments)}function lAe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ot(t,e,n){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oAe:lAe).apply(null,arguments)}function h8(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function R2(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function pr(){this.s=this.s,this.o=this.o}pr.prototype.s=!1,pr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function aAe(t){Object.prototype.hasOwnProperty.call(t,xg)&&t[xg]||(t[xg]=++cAe)}(this)},pr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ig(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(d8(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var fAe=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function Ta(t){return/^[\s\xa0]*$/.test(t)}function p8(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function Q1(t){return-1!=p8().indexOf(t)}function Eg(t){return Eg[" "](t),t}Eg[" "]=function(){};var Dg,t,hAe=Q1("Opera"),n3=Q1("Trident")||Q1("MSIE"),fO=Q1("Edge"),Lg=fO||n3,dO=Q1("Gecko")&&!(-1!=p8().toLowerCase().indexOf("webkit")&&!Q1("Edge"))&&!(Q1("Trident")||Q1("MSIE"))&&!Q1("Edge"),pAe=-1!=p8().toLowerCase().indexOf("webkit")&&!Q1("Edge");function hO(){var t=ne.document;return t?t.documentMode:void 0}e:{var Ag="",Tg=(t=p8(),dO?/rv:([^\);]+)(\)|;)/.exec(t):fO?/Edge\/([\d\.]+)/.exec(t):n3?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):pAe?/WebKit\/(\S+)/.exec(t):hAe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Tg&&(Ag=Tg?Tg[1]:""),n3){var Ng=hO();if(null!=Ng&&Ng>parseFloat(Ag)){Dg=String(Ng);break e}}Dg=Ag}var mAe=ne.document&&n3&&(hO()||parseInt(Dg,10))||void 0;function Na(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dO){e:{try{Eg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gAe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Na.$.h.call(this)}}R2(Na,lt);var gAe={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ka="closure_listenable_"+(1e6*Math.random()|0),vAe=0;function _Ae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vAe,this.fa=this.ia=!1}function m8(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function mO(t){const e={};for(const n in t)e[n]=t[n];return e}const gO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<gO.length;s++)n=gO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function g8(t){this.src=t,this.g={},this.h=0}function Rg(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=lO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(m8(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Og(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}g8.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var a=Og(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new _Ae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Fg="closure_lm_"+(1e6*Math.random()|0),Bg={};function _O(t,e,n,r,i){if(r&&r.once)return CO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_O(t,e[s],n,r,i);return null}return n=Gg(n),t&&t[ka]?t.O(e,n,Aa(r)?!!r.capture:!!r,i):yO(t,e,n,!1,r,i)}function yO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=Aa(i)?!!i.capture:!!i,c=jg(t);if(c||(t[Fg]=c=new g8(t)),(n=c.add(e,n,r,a,s)).proxy)return n;if(r=function CAe(){const e=MAe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fAe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function CO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)CO(t,e[s],n,r,i);return null}return n=Gg(n),t&&t[ka]?t.P(e,n,Aa(r)?!!r.capture:!!r,i):yO(t,e,n,!0,r,i)}function MO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)MO(t,e[s],n,r,i);else r=Aa(r)?!!r.capture:!!r,n=Gg(n),t&&t[ka]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Og(s=t.g[e],n,r,i))&&(m8(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=jg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Og(e,n,r,i)),(n=-1<t?e[t]:null)&&Ug(n))}function Ug(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ka])Rg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jg(e))?(Rg(n,t),0==n.h&&(n.src=null,e[Fg]=null)):m8(t)}}}function wO(t){return t in Bg?Bg[t]:Bg[t]="on"+t}function MAe(t,e){if(t.fa)t=!0;else{e=new Na(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ug(t),t=n.call(r,e)}return t}function jg(t){return(t=t[Fg])instanceof g8?t:null}var $g="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(t){return"function"==typeof t?t:(t[$g]||(t[$g]=function(e){return t.handleEvent(e)}),t[$g])}function O2(){pr.call(this),this.i=new g8(this),this.S=this,this.J=null}function Y2(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;vO(e=new lt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=v8(a,r,!0,e)&&i}if(i=v8(a=e.g=t,r,!0,e)&&i,i=v8(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=v8(a=e.g=n[s],r,!1,e)&&i}function v8(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,o=a.la||a.src;a.ia&&Rg(t.i,a),i=!1!==c.call(o,r)&&i}}return i&&!r.defaultPrevented}R2(O2,pr),O2.prototype[ka]=!0,O2.prototype.removeEventListener=function(t,e,n,r){MO(this,t,e,n,r)},O2.prototype.N=function(){if(O2.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)m8(n[r]);delete t.g[e],t.h--}}this.J=null},O2.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},O2.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var qg=ne.JSON.stringify;function VAe(){var t=Wg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var VO=new class wAe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new HAe,t=>t.reset());class HAe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zAe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function SAe(t){ne.setTimeout(()=>{throw t},0)}let Pa,Ra=!1,Wg=new class bAe{constructor(){this.h=this.g=null}add(e,n){const r=VO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},bO=()=>{const t=ne.Promise.resolve(void 0);Pa=()=>{t.then(xAe)}};var xAe=()=>{for(var t;t=VAe();){try{t.h.call(t.g)}catch(n){SAe(n)}var e=VO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ra=!1};function _8(t,e){O2.call(this),this.h=t||1,this.g=e||ne,this.j=ot(this.qb,this),this.l=Date.now()}function Kg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Qg(t,e,n){if("function"==typeof t)n&&(t=ot(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ot(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function HO(t){t.g=Qg(()=>{t.g=null,t.i&&(t.i=!1,HO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}R2(_8,O2),(A=_8.prototype).ga=!1,A.T=null,A.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Y2(this,"tick"),this.ga&&(Kg(this),this.start()))}},A.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},A.N=function(){_8.$.N.call(this),Kg(this),delete this.g};class IAe extends pr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HO(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(t){pr.call(this),this.h=t,this.g={}}R2(Oa,pr);var zO=[];function SO(t,e,n,r){Array.isArray(n)||(n&&(zO[0]=n.toString()),n=zO);for(var i=0;i<n.length;i++){var s=_O(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function xO(t){Pg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ug(e)},t),t.g={}}function y8(){this.g=!0}function r3(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function AAe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return qg(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Oa.prototype.N=function(){Oa.$.N.call(this),xO(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},y8.prototype.Ea=function(){this.g=!1},y8.prototype.info=function(){};var vi={},IO=null;function C8(){return IO=IO||new O2}function EO(t){lt.call(this,vi.Ta,t)}function Fa(t){const e=C8();Y2(e,new EO(e))}function LO(t,e){lt.call(this,vi.STAT_EVENT,t),this.stat=e}function bt(t){const e=C8();Y2(e,new LO(e,t))}function DO(t,e){lt.call(this,vi.Ua,t),this.size=e}function Ba(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}vi.Ta="serverreachability",R2(EO,lt),vi.STAT_EVENT="statevent",R2(LO,lt),vi.Ua="timingevent",R2(DO,lt);var M8={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yg(){}function NO(){}Yg.prototype.h=null;var Zg,Ua={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xg(){lt.call(this,"d")}function Jg(){lt.call(this,"c")}function w8(){}function ja(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oa(this),this.P=TAe,this.V=new _8(t=Lg?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kO}function kO(){this.i=null,this.g="",this.h=!1}R2(Xg,lt),R2(Jg,lt),R2(w8,Yg),w8.prototype.g=function(){return new XMLHttpRequest},w8.prototype.i=function(){return{}},Zg=new w8;var TAe=45e3,ev={},V8={};function tv(t,e,n){t.L=1,t.v=S8(Dn(e)),t.s=n,t.S=!0,PO(t,null)}function PO(t,e){t.G=Date.now(),$a(t),t.A=Dn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),WO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new kO,t.g=vF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new IAe(ot(t.Pa,t,t.g),t.O)),SO(t.U,t.g,"readystatechange",t.nb),e=t.I?mO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fa(),function EAe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),o=0;o<c.length;o++){var l=c[o].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");a=2<=f.length&&"type"==f[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.W,t.s)}function RO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function OO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=NAe(t,n),i==V8){4==e&&(t.o=4,bt(14),r=!1),r3(t.j,t.m,null,"[Incomplete Response]");break}if(i==ev){t.o=4,bt(15),r3(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}r3(t.j,t.m,i,null),nv(t,i)}RO(t)&&i!=V8&&i!=ev&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,bt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),lv(e),e.M=!0,bt(11))):(r3(t.j,t.m,n,"[Invalid Chunked Response]"),_i(t),Ga(t))}function NAe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?V8:(n=Number(e.substring(n,r)),isNaN(n)?ev:(r+=1)+n>e.length?V8:(e=e.slice(r,r+n),t.C=r+n,e))}function $a(t){t.Y=Date.now()+t.P,FO(t,t.P)}function FO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ba(ot(t.lb,t),e)}function b8(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}function Ga(t){0==t.l.H||t.J||hF(t.l,t)}function _i(t){b8(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Kg(t.V),xO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function nv(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||rv(n.i,t)))if(!t.K&&rv(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;A8(n),L8(n)}ov(n),bt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ba(ot(n.ib,n),6e3));if(1>=YO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ci(n,11)}else if((t.K||n.g==t)&&A8(n),!Ta(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(n.L=r=1.5*d,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(iv(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ne(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=t;if((r=n).wa=gF(r,r.J?r.pa:null,r.Y),a.K){XO(r.i,a);var c=a,o=r.L;o&&c.setTimeout(o),c.B&&(b8(c),$a(c)),r.g=a}else fF(r);0<n.j.length&&D8(n)}else"stop"!=l[0]&&"close"!=l[0]||Ci(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ci(n,7):cv(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Fa()}catch{}}function BO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d8(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function PAe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(d8(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function kAe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(d8(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(A=ja.prototype).setTimeout=function(t){this.P=t},A.nb=function(t){t=t.target;const e=this.M;e&&3==Y1(t)?e.l():this.Pa(t)},A.Pa=function(t){try{if(t==this.g)e:{const u=Y1(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Lg||this.g&&(this.h.h||this.g.ja()||sF(this.g)))){this.J||4!=u||7==e||Fa(),b8(this);var n=this.g.da();this.ca=n;t:if(RO(this)){var r=sF(this.g);t="";var i=r.length,s=4==Y1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),Ga(this);var a="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function LAe(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,o=this.g;if((c=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ta(c)){var l=c;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,bt(12),_i(this),Ga(this);break e}r3(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nv(this,n)}this.S?(OO(this,u,a),Lg&&this.i&&3==u&&(SO(this.U,this.V,"tick",this.mb),this.V.start())):(r3(this.j,this.m,a,null),nv(this,a)),4==u&&_i(this),this.i&&!this.J&&(4==u?hF(this.l,this):(this.i=!1,$a(this)))}else(function tTe(t){const e={};t=(t.g&&2<=Y1(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ta(t[r]))continue;var n=zAe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function yAe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,bt(12)):(this.o=0,bt(13)),_i(this),Ga(this)}}}catch{}},A.mb=function(){if(this.g){var t=Y1(this.g),e=this.g.ja();this.C<e.length&&(b8(this),OO(this,t,e),this.i&&4!=t&&$a(this))}},A.cancel=function(){this.J=!0,_i(this)},A.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function DAe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fa(),bt(17)),_i(this),this.o=2,Ga(this)):FO(this,this.Y-t)};var UO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yi){this.h=t.h,H8(this,t.j),this.s=t.s,this.g=t.g,z8(this,t.m),this.l=t.l;var e=t.i,n=new Ka;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jO(this,n),this.o=t.o}else t&&(e=String(t).match(UO))?(this.h=!1,H8(this,e[1]||"",!0),this.s=qa(e[2]||""),this.g=qa(e[3]||"",!0),z8(this,e[4]),this.l=qa(e[5]||"",!0),jO(this,e[6]||"",!0),this.o=qa(e[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}function Dn(t){return new yi(t)}function H8(t,e,n){t.j=n?qa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function z8(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jO(t,e,n){e instanceof Ka?(t.i=e,function $Ae(t,e){e&&!t.j&&(mr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(GO(this,r),WO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Wa(e,UAe)),t.i=new Ka(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function S8(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,OAe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function OAe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wa(e,$O,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wa(e,$O,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wa(n,"/"==n.charAt(0)?BAe:FAe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wa(n,jAe)),t.join("")};var $O=/[#\/\?@]/g,FAe=/[#\?:]/g,BAe=/[#\?]/g,UAe=/[#\?@]/g,jAe=/#/g;function Ka(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mr(t){t.g||(t.g=new Map,t.h=0,t.i&&function RAe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function GO(t,e){mr(t),e=i3(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function qO(t,e){return mr(t),e=i3(t,e),t.g.has(e)}function WO(t,e,n){GO(t,e),0<n.length&&(t.i=null,t.g.set(i3(t,e),Ig(n)),t.h+=n.length)}function i3(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KO(t){this.l=t||qAe,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(A=Ka.prototype).add=function(t,e){mr(this),this.i=null,t=i3(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},A.forEach=function(t,e){mr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},A.ta=function(){mr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},A.Z=function(t){mr(this);let e=[];if("string"==typeof t)qO(this,t)&&(e=e.concat(this.g.get(i3(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},A.set=function(t,e){return mr(this),this.i=null,qO(this,t=i3(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},A.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},A.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var qAe=10;function QO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function YO(t){return t.h?1:t.g?t.g.size:0}function rv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function iv(t,e){t.g?t.g.add(e):t.h=e}function XO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function JO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ig(t.i)}KO.prototype.cancel=function(){if(this.i=JO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var WAe=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function KAe(){this.g=new WAe}function QAe(t,e,n){const r=n||"";try{BO(t,function(i,s){let a=i;Aa(i)&&(a=qg(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function x8(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qa(t){this.l=t.fc||null,this.j=t.ob||!1}function I8(t,e){O2.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=sv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}R2(Qa,Yg),Qa.prototype.g=function(){return new I8(this.l,this.j)},Qa.prototype.i=function(t){return function(){return t}}({}),R2(I8,O2);var sv=0;function ZO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ya(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xa(t)}function Xa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(A=I8.prototype).open=function(t,e){if(this.readyState!=sv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xa(this)},A.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},A.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ya(this)),this.readyState=sv},A.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},A.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ya(this):Xa(this),3==this.readyState&&ZO(this)}},A.Za=function(t){this.g&&(this.response=this.responseText=t,Ya(this))},A.Ya=function(t){this.g&&(this.response=t,Ya(this))},A.ka=function(){this.g&&Ya(this)},A.setRequestHeader=function(t,e){this.v.append(t,e)},A.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},A.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(I8.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var XAe=ne.JSON.parse;function n2(t){O2.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=eF,this.L=this.M=!1}R2(n2,O2);var eF="",JAe=/^https?$/i,ZAe=["POST","PUT"];function tF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nF(t),E8(t)}function nF(t){t.F||(t.F=!0,Y2(t,"complete"),Y2(t,"error"))}function rF(t){if(t.h&&typeof Sg<"u"&&(!t.C[1]||4!=Y1(t)||2!=t.da()))if(t.v&&4==Y1(t))Qg(t.La,0,t);else if(Y2(t,"readystatechange"),4==Y1(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(UO)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!JAe.test(i?i.toLowerCase():"")}n=r}if(n)Y2(t,"complete"),Y2(t,"success");else{t.m=6;try{var s=2<Y1(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",nF(t)}}finally{E8(t)}}}function E8(t,e){if(t.g){iF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Y2(t,"ready");try{n.onreadystatechange=r}catch{}}}function iF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function Y1(t){return t.g?t.g.readyState:0}function sF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case eF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function aF(t){let e="";return Pg(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function av(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function Ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cF(t){this.Ga=0,this.j=[],this.l=new y8,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ja("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ja("baseRetryDelayMs",5e3,t),this.hb=Ja("retryDelaySeedMs",1e4,t),this.eb=Ja("forwardChannelMaxRetries",2,t),this.xa=Ja("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new KO(t&&t.concurrentRequestLimit),this.Ja=new KAe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cv(t){if(oF(t),3==t.H){var e=t.W++,n=Dn(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Za(t,n),(e=new ja(t,t.l,e)).L=2,e.v=S8(Dn(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=vF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$a(e)}mF(t)}function L8(t){t.g&&(lv(t),t.g.cancel(),t.g=null)}function oF(t){L8(t),t.u&&(ne.clearTimeout(t.u),t.u=null),A8(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function D8(t){if(!QO(t.i)&&!t.m){t.m=!0;var e=t.Na;Pa||bO(),Ra||(Pa(),Ra=!0),Wg.add(e,t),t.C=0}}function lF(t,e){var n;n=e?e.m:t.W++;const r=Dn(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),Za(t,r),t.o&&t.s&&av(r,t.o,t.s),n=new ja(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),iv(t.i,n),tv(n,r,e)}function Za(t,e){t.na&&Pg(t.na,function(n,r){Ne(e,r,n)}),t.h&&BO({},function(n,r){Ne(e,r,n)})}function uF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ot(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];-1==s?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let o=0;o<n;o++){let l=i[o].g;const u=i[o].map;if(l-=s,0>l)s=Math.max(0,i[o].g-100),c=!1;else try{QAe(u,a,"req"+l+"_")}catch{r&&r(u)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pa||bO(),Ra||(Pa(),Ra=!0),Wg.add(e,t),t.A=0}}function ov(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ba(ot(t.Ma,t),pF(t,t.A)),t.A++,0))}function lv(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function dF(t){t.g=new ja(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Dn(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),Za(t,e),t.o&&t.s&&av(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=S8(Dn(e)),n.s=null,n.S=!0,PO(n,t)}function A8(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function hF(t,e){var n=null;if(t.g==e){A8(t),lv(t),t.g=null;var r=2}else{if(!rv(t.i,e))return;n=e.F,XO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Y2(r=C8(),new DO(r,n)),D8(t)}else fF(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function nTe(t,e){return!(YO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ba(ot(t.Na,t,e),pF(t,t.C)),t.C++,0)))}(t,e)||2==r&&ov(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ci(t,5);break;case 4:Ci(t,10);break;case 3:Ci(t,6);break;default:Ci(t,2)}}function pF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ci(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ot(t.pb,t);n||(n=new yi("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||H8(n,"https"),S8(n)),function YAe(t,e){const n=new y8;if(ne.Image){const r=new Image;r.onload=h8(x8,n,r,"TestLoadImage: loaded",!0,e),r.onerror=h8(x8,n,r,"TestLoadImage: error",!1,e),r.onabort=h8(x8,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=h8(x8,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else bt(2);t.H=0,t.h&&t.h.za(e),mF(t),oF(t)}function mF(t){if(t.H=0,t.ma=[],t.h){const e=JO(t.i);(0!=e.length||0!=t.j.length)&&(uO(t.ma,e),uO(t.ma,t.j),t.i.i.length=0,Ig(t.j),t.j.length=0),t.h.ya()}}function gF(t,e,n){var r=n instanceof yi?Dn(n):new yi(n);if(""!=r.g)e&&(r.g=e+"."+r.g),z8(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new yi(null);r&&H8(s,r),e&&(s.g=e),i&&z8(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),Za(t,r),r}function vF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new n2(n&&t.Ha&&!t.va?new Qa({ob:!0}):t.va)).Oa(t.J),e}function _F(){}function T8(){if(n3&&!(10<=Number(mAe)))throw Error("Environmental error: no available transport.")}function Yt(t,e){O2.call(this),this.g=new cF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ta(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ta(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new s3(this)}function yF(t){Xg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function CF(){Jg.call(this),this.status=1}function s3(t){this.g=t}function b1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uv(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],a=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=n+((a=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(A=n2.prototype).Oa=function(t){this.M=t},A.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zg.g(),this.C=function TO(t){return t.h||(t.h=t.i())}(this.u?this.u:Zg),this.g.onreadystatechange=ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void tF(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ne.FormData&&t instanceof ne.FormData,!(0<=lO(ZAe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iF(this),0<this.B&&((this.L=function eTe(t){return n3&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ot(this.ua,this)):this.A=Qg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){tF(this,s)}},A.ua=function(){typeof Sg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Y2(this,"timeout"),this.abort(8))},A.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Y2(this,"complete"),Y2(this,"abort"),E8(this))},A.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),E8(this,!0)),n2.$.N.call(this)},A.La=function(){this.s||(this.G||this.v||this.l?rF(this):this.kb())},A.kb=function(){rF(this)},A.isActive=function(){return!!this.g},A.da=function(){try{return 2<Y1(this)?this.g.status:-1}catch{return-1}},A.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},A.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),XAe(e)}},A.Ia=function(){return this.m},A.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(A=cF.prototype).ra=8,A.H=1,A.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ja(this,this.l,t);let s=this.s;if(this.U&&(s?(s=mO(s),vO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uF(this,i,e),Ne(n=Dn(this.I),"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),Za(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(aF(s)))+"&"+e:this.o&&av(n,this.o,s)),iv(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,tv(i,n,null)):tv(i,n,e),this.H=2}}else 3==this.H&&(t?lF(this,t):0==this.j.length||QO(this.i)||lF(this))},A.Ma=function(){if(this.u=null,dF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ba(ot(this.jb,this),t)}},A.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bt(10),L8(this),dF(this))},A.ib=function(){null!=this.v&&(this.v=null,L8(this),ov(this),bt(19))},A.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bt(2)):(this.l.info("Failed to ping google.com"),bt(1))},A.isActive=function(){return!!this.h&&this.h.isActive(this)},(A=_F.prototype).Ba=function(){},A.Aa=function(){},A.za=function(){},A.ya=function(){},A.isActive=function(){return!0},A.Va=function(){},T8.prototype.g=function(t,e){return new Yt(t,e)},R2(Yt,O2),Yt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=gF(t,null,t.Y),D8(t)},Yt.prototype.close=function(){cv(this.g)},Yt.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=qg(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&D8(e)},Yt.prototype.N=function(){this.g.h=null,delete this.j,cv(this.g),delete this.g,Yt.$.N.call(this)},R2(yF,Xg),R2(CF,Jg),R2(s3,_F),s3.prototype.Ba=function(){Y2(this.g,"a")},s3.prototype.Aa=function(t){Y2(this.g,new yF(t))},s3.prototype.za=function(t){Y2(this.g,new CF)},s3.prototype.ya=function(){Y2(this.g,"b")},R2(b1,function rTe(){this.blockSize=-1}),b1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},b1.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)uv(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){uv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){uv(this,r),i=0;break}}this.h=i,this.i+=e},b1.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var iTe={};function fv(t){return-128<=t&&128>t?function dAe(t,e){var n=iTe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ve([0|e],0>e?-1:0)}):new Ve([0|t],0>t?-1:0)}function X1(t){if(isNaN(t)||!isFinite(t))return a3;if(0>t)return X2(X1(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dv;return new Ve(e,0)}var dv=4294967296,a3=fv(0),hv=fv(1),wF=fv(16777216);function An(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function f1(t){return-1==t.h}function X2(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(hv)}function N8(t,e){return t.add(X2(e))}function k8(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ec(t,e){this.g=t,this.h=e}function P8(t,e){if(An(e))throw Error("division by zero");if(An(t))return new ec(a3,a3);if(f1(t))return e=P8(X2(t),e),new ec(X2(e.g),X2(e.h));if(f1(e))return e=P8(t,X2(e)),new ec(X2(e.g),e.h);if(30<t.g.length){if(f1(t)||f1(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hv,r=e;0>=r.X(t);)n=VF(n),r=VF(r);var i=c3(n,1),s=c3(r,1);for(r=c3(r,2),n=c3(n,2);!An(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=c3(r,1),n=c3(n,1)}return e=N8(t,i.R(e)),new ec(i,e)}for(i=a3;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=X1(n)).R(e);f1(a)||0<a.X(t);)a=(s=X1(n-=r)).R(e);An(s)&&(s=hv),i=i.add(s),t=N8(t,a)}return new ec(i,t)}function VF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function c3(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ve(i,t.h)}(A=Ve.prototype).ea=function(){if(f1(this))return-X2(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dv+r)*e,e*=dv}return t},A.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(An(this))return"0";if(f1(this))return"-"+X2(this).toString(t);for(var e=X1(Math.pow(t,6)),n=this,r="";;){var i=P8(n,e).g,s=((0<(n=N8(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(An(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},A.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},A.X=function(t){return f1(t=N8(this,t))?-1:An(t)?0:1},A.abs=function(){return f1(this)?X2(this):this},A.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,n[i]=(a&=65535)<<16|(s&=65535)}return new Ve(n,-2147483648&n[n.length-1]?-1:0)},A.R=function(t){if(An(this)||An(t))return a3;if(f1(this))return f1(t)?X2(this).R(X2(t)):X2(X2(this).R(t));if(f1(t))return X2(this.R(X2(t)));if(0>this.X(wF)&&0>t.X(wF))return X1(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),c=t.D(i)>>>16,o=65535&t.D(i);n[2*r+2*i]+=a*o,k8(n,2*r+2*i),n[2*r+2*i+1]+=s*o,k8(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,k8(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,k8(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)},A.gb=function(t){return P8(this,t).h},A.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)},A.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)},A.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)},T8.prototype.createWebChannel=T8.prototype.g,Yt.prototype.send=Yt.prototype.u,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,M8.NO_ERROR=0,M8.TIMEOUT=8,M8.HTTP_ERROR=6,AO.COMPLETE="complete",NO.EventType=Ua,Ua.OPEN="a",Ua.CLOSE="b",Ua.ERROR="c",Ua.MESSAGE="d",O2.prototype.listen=O2.prototype.O,n2.prototype.listenOnce=n2.prototype.P,n2.prototype.getLastError=n2.prototype.Sa,n2.prototype.getLastErrorCode=n2.prototype.Ia,n2.prototype.getStatus=n2.prototype.da,n2.prototype.getResponseJson=n2.prototype.Wa,n2.prototype.getResponseText=n2.prototype.ja,n2.prototype.send=n2.prototype.ha,n2.prototype.setWithCredentials=n2.prototype.Oa,b1.prototype.digest=b1.prototype.l,b1.prototype.reset=b1.prototype.reset,b1.prototype.update=b1.prototype.j,Ve.prototype.add=Ve.prototype.add,Ve.prototype.multiply=Ve.prototype.R,Ve.prototype.modulo=Ve.prototype.gb,Ve.prototype.compare=Ve.prototype.X,Ve.prototype.toNumber=Ve.prototype.ea,Ve.prototype.toString=Ve.prototype.toString,Ve.prototype.getBits=Ve.prototype.D,Ve.fromNumber=X1,Ve.fromString=function MF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return X2(MF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=X1(Math.pow(e,8)),r=a3,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=X1(Math.pow(e,s)),r=r.R(s).add(X1(a))):r=(r=r.R(n)).add(X1(a))}return r};var sTe=V1.createWebChannelTransport=function(){return new T8},aTe=V1.getStatEventTarget=function(){return C8()},pv=V1.ErrorCode=M8,cTe=V1.EventType=AO,oTe=V1.Event=vi,bF=V1.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lTe=V1.FetchXmlHttpFactory=Qa,R8=V1.WebChannel=NO,uTe=V1.XhrIo=n2,fTe=V1.Md5=b1,o3=V1.Integer=Ve;const HF="@firebase/firestore";class F2{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}F2.UNAUTHENTICATED=new F2(null),F2.GOOGLE_CREDENTIALS=new F2("google-credentials-uid"),F2.FIRST_PARTY=new F2("first-party-uid"),F2.MOCK_USER=new F2("mock-user");let l3="9.23.0";const gr=new O4("@firebase/firestore");function mv(){return gr.logLevel}function H(t,...e){if(gr.logLevel<=ge.DEBUG){const n=e.map(gv);gr.debug(`Firestore (${l3}): ${t}`,...n)}}function f2(t,...e){if(gr.logLevel<=ge.ERROR){const n=e.map(gv);gr.error(`Firestore (${l3}): ${t}`,...n)}}function H1(t,...e){if(gr.logLevel<=ge.WARN){const n=e.map(gv);gr.warn(`Firestore (${l3}): ${t}`,...n)}}function gv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${l3}) INTERNAL ASSERTION FAILED: `+t;throw f2(e),new Error(e)}function B(t,e){t||P()}function D(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends l1{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class S2{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dTe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(F2.UNAUTHENTICATED))}shutdown(){}}class hTe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pTe{constructor(e){this.t=e,this.currentUser=F2.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let a=new S2;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new S2,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const l=a;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},o=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new S2)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new zF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new F2(e)}}class mTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=F2.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new mTe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(F2.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vTe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.T=n.token,new SF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _Te(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class xF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=_Te(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function u3(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Qe(0,0))}static max(){return new j(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tc{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===tc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends tc{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const yTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class d2 extends tc{construct(e,n,r){return new d2(e,n,r)}static isValidIdentifier(e){return yTe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),d2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new d2(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if("\\"===c){if(i+1===e.length)throw new b(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[i+1];if("\\"!==o&&"."!==o&&"`"!==o)throw new b(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,i+=2}else"`"===c?(a=!a,i++):"."!==c||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new b(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new d2(n)}static emptyPath(){return new d2([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(pe.fromString(e))}static fromName(e){return new L(pe.fromString(e).popFirst(5))}static empty(){return new L(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new pe(e.slice()))}}function LF(t){return new Xt(t.readTime,t.key,-1)}class Xt{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xt(j.min(),L.empty(),-1)}static max(){return new Xt(j.max(),L.empty(),-1)}}function _v(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=L.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}const DF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wTe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vr(t){return yv.apply(this,arguments)}function yv(){return yv=m(function*(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==DF)throw t;H("LocalStore","Unexpectedly lost primary lease")}),yv.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},o=>r(o))}),a=!0,s===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let o=0;o<s;o++){const l=o;n(e[l]).next(u=>{a[l]=u,++c,c===s&&r(a)},u=>i(u))}})}static doWhile(e,n){return new y((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function _r(t){return"IndexedDbTransactionError"===t.name}let Jt=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function ic(t){return null==t}function sc(t){return 0===t&&1/t==-1/0}function BF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class De{constructor(e,n){this.comparator=e,this.root=n||J2.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,J2.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,J2.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new j8(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new j8(this.root,e,this.comparator,!1)}getReverseIterator(){return new j8(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new j8(this.root,e,this.comparator,!0)}}class j8{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class J2{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??J2.RED,this.left=i??J2.EMPTY,this.right=s??J2.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new J2(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return J2.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return J2.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,J2.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,J2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}J2.EMPTY=null,J2.RED=!0,J2.BLACK=!1,J2.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new J2(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jF(this.data.getIterator())}getIteratorFrom(e){return new jF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ke(this.comparator);return n.data=e,n}}class jF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ot{constructor(e){this.fields=e,e.sort(d2.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new ke(d2.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return u3(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class $F extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class x2{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $F("Invalid base64 string: "+i):i}}(e);return new x2(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new x2(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}x2.EMPTY_BYTE_STRING=new x2("");const GTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(B(!!t),"string"==typeof t){let e=0;const n=GTe.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:r2(t.seconds),nanos:r2(t.nanos)}}function r2(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Tn(t){return"string"==typeof t?x2.fromBase64String(t):x2.fromUint8Array(t)}function $8(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function G8(t){const e=t.mapValue.fields.__previous_value__;return $8(e)?G8(e):e}function ac(t){const e=Cr(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class qTe{constructor(e,n,r,i,s,a,c,o,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=o,this.useFetchStreams=l}}class Vi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vi&&e.projectId===this.projectId&&e.database===this.database}}const Mr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$8(t)?4:KF(t)?9007199254740991:10:P()}function Z1(t,e){if(t===e)return!0;const n=wr(t);if(n!==wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Cr(r.timestampValue),a=Cr(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Tn(t.bytesValue).isEqual(Tn(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return r2(r.geoPointValue.latitude)===r2(i.geoPointValue.latitude)&&r2(r.geoPointValue.longitude)===r2(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return r2(r.integerValue)===r2(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=r2(r.doubleValue),a=r2(i.doubleValue);return s===a?sc(s)===sc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return u3(t.arrayValue.values||[],e.arrayValue.values||[],Z1);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(BF(s)!==BF(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Z1(s[c],a[c])))return!1;return!0}(t,e);default:return P()}var i}function cc(t,e){return void 0!==(t.values||[]).find(n=>Z1(n,e))}function Vr(t,e){if(t===e)return 0;const n=wr(t),r=wr(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=r2(i.integerValue||i.doubleValue),c=r2(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return GF(t.timestampValue,e.timestampValue);case 4:return GF(ac(t),ac(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,s){const a=Tn(i),c=Tn(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),c=s.split("/");for(let o=0;o<a.length&&o<c.length;o++){const l=X(a[o],c[o]);if(0!==l)return l}return X(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=X(r2(i.latitude),r2(s.latitude));return 0!==a?a:X(r2(i.longitude),r2(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],c=s.values||[];for(let o=0;o<a.length&&o<c.length;++o){const l=Vr(a[o],c[o]);if(l)return l}return X(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Mr.mapValue&&s===Mr.mapValue)return 0;if(i===Mr.mapValue)return 1;if(s===Mr.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),o=s.fields||{},l=Object.keys(o);c.sort(),l.sort();for(let u=0;u<c.length&&u<l.length;++u){const f=X(c[u],l[u]);if(0!==f)return f;const d=Vr(a[c[u]],o[l[u]]);if(0!==d)return d}return X(c.length,l.length)}(t.mapValue,e.mapValue);default:throw P()}}function GF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=Cr(t),r=Cr(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function d3(t){return wv(t)}function wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Cr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Tn(t.bytesValue).toBase64():"referenceValue"in t?L.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const a of r.values||[])s?s=!1:i+=",",i+=wv(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const c of i)a?a=!1:s+=",",s+=`${c}:${wv(r.fields[c])}`;return s+"}"}(t.mapValue):P();var e}function bi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vv(t){return!!t&&"integerValue"in t}function oc(t){return!!t&&"arrayValue"in t}function qF(t){return!!t&&"nullValue"in t}function WF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function K8(t){return!!t&&"mapValue"in t}function lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Z2{constructor(e){this.value=e}static empty(){return new Z2({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!K8(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(n)}setAll(e){let n=d2.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const o=this.getFieldsMap(n);this.applyChanges(o,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=lc(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());K8(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Z1(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];K8(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Z2(lc(this.value))}}function XF(t){const e=[];return yr(t.fields,(n,r)=>{const i=new d2([n]);if(K8(r)){const s=XF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ot(e)}class Pe{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Pe(e,0,j.min(),j.min(),j.min(),Z2.empty(),0)}static newFoundDocument(e,n,r,i){return new Pe(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Pe(e,2,n,j.min(),j.min(),Z2.empty(),0)}static newUnknownDocument(e,n){return new Pe(e,3,n,j.min(),j.min(),Z2.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Z2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Z2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class br{constructor(e,n){this.position=e,this.inclusive=n}}function JF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(r=s.field.isKeyField()?L.comparator(L.fromName(a.referenceValue),n.key):Vr(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ZF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Z1(t.position[n],e.position[n]))return!1;return!0}class h3{constructor(e,n="asc"){this.field=e,this.dir=n}}function QTe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class eB{}class oe extends eB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new YTe(e,n,r):"array-contains"===n?new ZTe(e,r):"in"===n?new aB(e,r):"not-in"===n?new eNe(e,r):"array-contains-any"===n?new tNe(e,r):new oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new XTe(e,r):new JTe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Vr(n,this.value)):null!==n&&wr(this.value)===wr(n)&&this.matchesComparison(Vr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends eB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new be(e,n)}matches(e){return p3(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function p3(t){return"and"===t.op}function Hv(t){return function tB(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}(t)&&p3(t)}function zv(t){if(t instanceof oe)return t.field.canonicalString()+t.op.toString()+d3(t.value);if(Hv(t))return t.filters.map(e=>zv(e)).join(",");{const e=t.filters.map(n=>zv(n)).join(",");return`${t.op}(${e})`}}function nB(t,e){return t instanceof oe?(n=t,(r=e)instanceof oe&&n.op===r.op&&n.field.isEqual(r.field)&&Z1(n.value,r.value)):t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,a)=>i&&nB(s,r.filters[a]),!0)}(t,e):void P();var n,r}function iB(t){return t instanceof oe?`${(e=t).field.canonicalString()} ${e.op} ${d3(e.value)}`:t instanceof be?function(e){return e.op.toString()+" {"+e.getFilters().map(iB).join(" ,")+"}"}(t):"Filter";var e}class YTe extends oe{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class XTe extends oe{constructor(e,n){super(e,"in",n),this.keys=sB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JTe extends oe{constructor(e,n){super(e,"not-in",n),this.keys=sB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class ZTe extends oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oc(n)&&cc(n.arrayValue,this.value)}}class aB extends oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&cc(this.value.arrayValue,n)}}class eNe extends oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!cc(this.value.arrayValue,n)}}class tNe extends oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}}class nNe{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.dt=null}}function Sv(t,e=null,n=[],r=[],i=null,s=null,a=null){return new nNe(t,e,n,r,i,s,a)}function Hi(t){const e=D(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ic(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>d3(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>d3(r)).join(",")),e.dt=n}return e.dt}function uc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QTe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZF(t.startAt,e.startAt)&&ZF(t.endAt,e.endAt)}function Q8(t){return L.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Nn{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=o,this.wt=null,this._t=null}}function m3(t){return new Nn(t)}function uB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function xv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function X8(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Iv(t){return null!==t.collectionGroup}function zi(t){const e=D(t);if(null===e.wt){e.wt=[];const n=X8(e),r=xv(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new h3(n)),e.wt.push(new h3(d2.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new h3(d2.keyField(),s))}}}return e.wt}function Ht(t){const e=D(t);if(!e._t)if("F"===e.limitType)e._t=Sv(e.path,e.collectionGroup,zi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of zi(e))n.push(new h3(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new br(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new br(e.startAt.position,e.startAt.inclusive):null;e._t=Sv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Ev(t,e){e.getFirstInequalityField(),X8(t);const n=t.filters.concat([e]);return new Nn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function J8(t,e,n){return new Nn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fc(t,e){return uc(Ht(t),Ht(e))&&t.limitType===e.limitType}function fB(t){return`${Hi(Ht(t))}|lt:${t.limitType}`}function Lv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>iB(r)).join(", ")}]`),ic(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>d3(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>d3(r)).join(",")),`Target(${n})`}(Ht(t))}; limitType=${t.limitType})`}function dc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):L.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of zi(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,a){const c=JF(i,s,a);return i.inclusive?c<=0:c<0}(n.startAt,zi(n),r)||n.endAt&&!function(i,s,a){const c=JF(i,s,a);return i.inclusive?c>=0:c>0}(n.endAt,zi(n),r)));var n,r}function hB(t){return(e,n)=>{let r=!1;for(const i of zi(t)){const s=rNe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function rNe(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(i,s,a){const c=s.data.field(i),o=a.data.field(i);return null!==c&&null!==o?Vr(c,o):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class kn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return UF(this.inner)}size(){return this.innerSize}}const iNe=new De(L.comparator);function Ft(){return iNe}const pB=new De(L.comparator);function hc(...t){let e=pB;for(const n of t)e=e.insert(n.key,n);return e}function mB(t){let e=pB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function en(){return pc()}function gB(){return pc()}function pc(){return new kn(t=>t.toString(),(t,e)=>t.isEqual(e))}const sNe=new De(L.comparator),aNe=new ke(L.comparator);function se(...t){let e=aNe;for(const n of t)e=e.add(n);return e}const cNe=new ke(X);function vB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function _B(t){return{integerValue:""+t}}function yB(t,e){return function TF(t){return"number"==typeof t&&Number.isInteger(t)&&!sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?_B(e):vB(t,e)}class Z8{constructor(){this._=void 0}}function oNe(t,e,n){return t instanceof g3?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&$8(i)&&(i=G8(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Si?MB(t,e):t instanceof xi?wB(t,e):function(r,i){const s=CB(r,i),a=VB(s)+VB(r.gt);return Vv(s)&&Vv(r.gt)?_B(a):vB(r.serializer,a)}(t,e)}function lNe(t,e,n){return t instanceof Si?MB(t,e):t instanceof xi?wB(t,e):n}function CB(t,e){return t instanceof v3?Vv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class g3 extends Z8{}class Si extends Z8{constructor(e){super(),this.elements=e}}function MB(t,e){const n=bB(e);for(const r of t.elements)n.some(i=>Z1(i,r))||n.push(r);return{arrayValue:{values:n}}}class xi extends Z8{constructor(e){super(),this.elements=e}}function wB(t,e){let n=bB(e);for(const r of t.elements)n=n.filter(i=>!Z1(i,r));return{arrayValue:{values:n}}}class v3 extends Z8{constructor(e,n){super(),this.serializer=e,this.gt=n}}function VB(t){return r2(t.integerValue||t.doubleValue)}function bB(t){return oc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class fNe{constructor(e,n){this.version=e,this.transformResults=n}}class Ge{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function el(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class tl{}function HB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new y3(t.key,Ge.none()):new _3(t.key,t.data,Ge.none());{const n=t.data,r=Z2.empty();let i=new ke(d2.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);null===a&&s.length>1&&(s=s.popLast(),a=n.field(s)),null===a?r.delete(s):r.set(s,a),i=i.add(s)}return new Pn(t.key,r,new Ot(i.toArray()),Ge.none())}}function dNe(t,e,n){t instanceof _3?function(r,i,s){const a=r.value.clone(),c=xB(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pn?function(r,i,s){if(!el(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=xB(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(SB(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function gc(t,e,n,r){return t instanceof _3?function(i,s,a,c){if(!el(i.precondition,s))return a;const o=i.value.clone(),l=IB(i.fieldTransforms,c,s);return o.setAll(l),s.convertToFoundDocument(s.version,o).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pn?function(i,s,a,c){if(!el(i.precondition,s))return a;const o=IB(i.fieldTransforms,c,s),l=s.data;return l.setAll(SB(i)),l.setAll(o),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(a=n,el(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function hNe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=CB(r.transform,i||null);null!=s&&(null===n&&(n=Z2.empty()),n.set(r.field,s))}return n||null}function zB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&u3(n,r,(i,s)=>function uNe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Si&&r instanceof Si||n instanceof xi&&r instanceof xi?u3(n.elements,r.elements,Z1):n instanceof v3&&r instanceof v3?Z1(n.gt,r.gt):n instanceof g3&&r instanceof g3);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class _3 extends tl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pn extends tl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xB(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,lNe(a,c,n[i]))}return r}function IB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,oNe(s,a,e))}return r}class y3 extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Av extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dNe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gB();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const o=HB(a,c);null!==o&&r.set(i.key,o),a.isValidDocument()||a.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&u3(this.mutations,e.mutations,(n,r)=>zB(n,r))&&u3(this.baseMutations,e.baseMutations,(n,r)=>zB(n,r))}}class Nv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=sNe;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Nv(e,n,r,i)}}class kv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mNe{constructor(e,n){this.count=e,this.unchangedNames=n}}var y2,me;function LB(t){if(void 0===t)return f2("GRPC error has no .code"),M.UNKNOWN;switch(t){case y2.OK:return M.OK;case y2.CANCELLED:return M.CANCELLED;case y2.UNKNOWN:return M.UNKNOWN;case y2.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case y2.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case y2.INTERNAL:return M.INTERNAL;case y2.UNAVAILABLE:return M.UNAVAILABLE;case y2.UNAUTHENTICATED:return M.UNAUTHENTICATED;case y2.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case y2.NOT_FOUND:return M.NOT_FOUND;case y2.ALREADY_EXISTS:return M.ALREADY_EXISTS;case y2.PERMISSION_DENIED:return M.PERMISSION_DENIED;case y2.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case y2.ABORTED:return M.ABORTED;case y2.OUT_OF_RANGE:return M.OUT_OF_RANGE;case y2.UNIMPLEMENTED:return M.UNIMPLEMENTED;case y2.DATA_LOSS:return M.DATA_LOSS;default:return P()}}(me=y2||(y2={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class Pv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return nl}static getOrCreateInstance(){return null===nl&&(nl=new Pv),nl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let nl=null;const gNe=new o3([4294967295,4294967295],0);function AB(t){const e=function DB(){return new TextEncoder}().encode(t),n=new fTe;return n.update(e),new Uint8Array(n.digest())}function TB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new o3([n,r],0),new o3([i,s],0)]}class Rv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vc(`Invalid padding: ${n}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new vc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new vc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=o3.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(o3.fromNumber(r)));return 1===i.compare(gNe)&&(i=new o3([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=AB(e),[r,i]=TB(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);if(!this.At(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Rv(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(0===this.It)return;const n=AB(e),[r,i]=TB(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);this.Rt(a)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _c{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _c(j.min(),i,new De(X),Ft(),se())}}class yc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yc(r,n,se(),se(),se())}}class rl{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class NB{constructor(e,n){this.targetId=e,this.Vt=n}}class kB{constructor(e,n,r=x2.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PB{constructor(){this.St=0,this.Dt=OB(),this.Ct=x2.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new yc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=OB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vNe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ft(),this.zt=RB(),this.Wt=new De(X)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const a=s.target;if(Q8(a))if(0===i){const c=new L(a.path);this.Yt(r,c,Pe.newNoDocument(c,j.min()))}else B(1===i);else{const c=this.ie(r);if(c!==i){const o=this.re(e,c);0!==o&&(this.ee(r),this.Wt=this.Wt.insert(r,2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Pv.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,g,v,C;const _={localCacheCount:u,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(_.bloomFilter={applied:0===l,hashCount:null!==(d=w?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(g=null===(p=null===(h=w?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(C=null===(v=w?.bits)||void 0===v?void 0:v.padding)&&void 0!==C?C:0}),_}(o,c,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=r;let o,l;try{o=Tn(s).toUint8Array()}catch(u){if(u instanceof $F)return H1("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new Rv(o,a,c)}catch(u){return H1(u instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const a=this.Gt.ue(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(c)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,a)=>{const c=this.se(a);if(c){if(s.current&&Q8(c.target)){const o=new L(c.target.path);null!==this.jt.get(o)||this.ae(a,o)||this.Yt(a,o,Pe.newNoDocument(o,e))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let r=se();this.zt.forEach((s,a)=>{let c=!0;a.forEachWhile(o=>{const l=this.se(o);return!l||"TargetPurposeLimboResolution"===l.purpose||(c=!1,!1)}),c&&(r=r.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const i=new _c(e,n,this.Wt,this.jt,r);return this.jt=Ft(),this.zt=RB(),this.Wt=new De(X),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new PB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ke(X),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new PB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function RB(){return new De(L.comparator)}function OB(){return new De(L.comparator)}const _Ne={asc:"ASCENDING",desc:"DESCENDING"},yNe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CNe={and:"AND",or:"OR"};class MNe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ov(t,e){return t.useProto3Json||ic(e)?e:{value:e}}function C3(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wNe(t,e){return C3(t,e.toTimestamp())}function h2(t){return B(!!t),j.fromTimestamp(function(e){const n=Cr(e);return new Qe(n.seconds,n.nanos)}(t))}function Fv(t,e){return(n=t,new pe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function BB(t){const e=pe.fromString(t);return B(YB(e)),e}function Cc(t,e){return Fv(t.databaseId,e.path)}function tn(t,e){const n=BB(e);if(n.get(1)!==t.databaseId.projectId)throw new b(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(jB(n))}function Bv(t,e){return Fv(t.databaseId,e)}function Mc(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jB(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $B(t,e,n){return{name:Cc(t,e),fields:n.value.mapValue.fields}}function qB(t,e){return{documents:[Bv(t,e.path)]}}function jv(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Bv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(o){if(0!==o.length)return QB(be.create(o,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(o){if(0!==o.length)return o.map(l=>{return{field:Hr((u=l).field),direction:SNe(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ov(t,e.limit);var c,o;return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt={before:!(o=e.endAt).inclusive,values:o.position}),n}function WB(t){let e=function UB(t){const e=BB(t);return 4===e.length?pe.emptyPath():jB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const f=KB(u);return f instanceof be&&Hv(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(u=>{return new h3(M3((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let c=null;n.limit&&(c=function(u){let f;return f="object"==typeof u?u.value:u,ic(f)?null:f}(n.limit));let o=null;var u;n.startAt&&(o=new br((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new br(u.values||[],!u.before)}(n.endAt)),function lB(t,e,n,r,i,s,a,c){return new Nn(t,e,n,r,i,s,a,c)}(e,i,a,s,c,"F",o,l)}function KB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=M3(e.unaryFilter.field);return oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=M3(e.unaryFilter.field);return oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=M3(e.unaryFilter.field);return oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=M3(e.unaryFilter.field);return oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):void 0!==t.fieldFilter?oe.create(M3((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return be.create(e.compositeFilter.filters.map(n=>KB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(t):P();var e}function SNe(t){return _Ne[t]}function xNe(t){return yNe[t]}function INe(t){return CNe[t]}function Hr(t){return{fieldPath:t.canonicalString()}}function M3(t){return d2.fromServerFormat(t.fieldPath)}function QB(t){return t instanceof oe?function(e){if("=="===e.op){if(WF(e.value))return{unaryFilter:{field:Hr(e.field),op:"IS_NAN"}};if(qF(e.value))return{unaryFilter:{field:Hr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(WF(e.value))return{unaryFilter:{field:Hr(e.field),op:"IS_NOT_NAN"}};if(qF(e.value))return{unaryFilter:{field:Hr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(e.field),op:xNe(e.op),value:e.value}}}(t):t instanceof be?function(e){const n=e.getFilters().map(r=>QB(r));return 1===n.length?n[0]:{compositeFilter:{op:INe(e.op),filters:n}}}(t):P()}function ENe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Rn{constructor(e,n,r,i,s=j.min(),a=j.min(),c=x2.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=o}withSequenceNumber(e){return new Rn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class XB{constructor(e){this.fe=e}}function $v(t){const e=WB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?J8(e,e.limit,"L"):e}class Di{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(r2(e.integerValue));else if("doubleValue"in e){const r=r2(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),sc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Tn(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?KF(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),L.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Di.Ve=new Di;class ONe{constructor(){this.rn=new Yv}addToCollectionParentIndex(e,n){return this.rn.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Xt.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Xt.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class Yv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ke(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(pe.comparator)).toArray()}}new Uint8Array(0);class ft{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ft(e,ft.DEFAULT_COLLECTION_PERCENTILE,ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ft.DEFAULT_COLLECTION_PERCENTILE=10,ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ft.DEFAULT=new ft(41943040,ft.DEFAULT_COLLECTION_PERCENTILE,ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ft.DISABLED=new ft(-1,0,0);class Ti{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ti(0)}static Mn(){return new Ti(-1)}}class GNe{constructor(){this.changes=new kn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KNe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class VU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&gc(r.mutation,i,Ot.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=en();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=hc();return s.forEach((c,o)=>{a=a.insert(c,o.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=en();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=Ft();const a=pc(),c=pc();return n.forEach((o,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof Pn)?s=s.insert(l.key,l):void 0!==u?(a.set(l.key,u.mutation.getFieldMask()),gc(u.mutation,l,u.mutation.getFieldMask(),Qe.now())):a.set(l.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,s).next(o=>(o.forEach((l,u)=>a.set(l,u)),n.forEach((l,u)=>{var f;return c.set(l,new KNe(u,null!==(f=a.get(l))&&void 0!==f?f:null))}),c))}recalculateAndSaveOverlays(e,n){const r=pc();let i=new De((a,c)=>a-c),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(o=>{const l=n.get(o);if(null===l)return;let u=r.get(o)||Ot.empty();u=c.applyToLocalView(l,u),r.set(o,u);const f=(i.get(c.batchId)||se()).add(o);i=i.insert(c.batchId,f)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const o=c.getNext(),l=o.key,u=o.value,f=gB();u.forEach(d=>{if(!s.has(d)){const h=HB(n.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,f))}return y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return L.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Iv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(en());let c=-1,o=s;return a.next(l=>y.forEach(l,(u,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),s.get(u)?y.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{o=o.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,o,l,se())).next(u=>({batchId:c,changes:mB(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=hc();return this.indexManager.getCollectionParents(e,i).next(a=>y.forEach(a,c=>{const o=(l=n,u=c.child(i),new Nn(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,o,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((c,o)=>{const l=o.getKey();null===s.get(l)&&(s=s.insert(l,Pe.newInvalidDocument(l)))});let a=hc();return s.forEach((c,o)=>{const l=i.get(c);void 0!==l&&gc(l.mutation,o,Ot.empty(),Qe.now()),dc(n,o)&&(a=a.insert(c,o))}),a})}}class QNe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return y.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:h2(r.createTime)}),y.resolve()}getNamedQuery(e,n){return y.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:$v(r.bundledQuery),readTime:h2(r.readTime)}),y.resolve();var r}}class YNe{constructor(){this.overlays=new De(L.comparator),this.ls=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=en();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=en(),s=n.length+1,a=new L(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const o=c.getNext().value,l=o.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&o.largestBatchId>r&&i.set(o.getKey(),o)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=en(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const c=en(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,u)=>c.set(l,u)),!(c.size()>=i)););return y.resolve(c)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new kv(n,r));let s=this.ls.get(n);void 0===s&&(s=se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class Xv{constructor(){this.fs=new ke(U2.ds),this.ws=new ke(U2._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new U2(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new U2(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new L(new pe([])),r=new U2(n,e),i=new U2(n,e+1),s=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new L(new pe([])),r=new U2(n,e),i=new U2(n,e+1);let s=se();return this.ws.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new U2(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class U2{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return L.comparator(e.key,n.key)||X(e.As,n.As)}static _s(e,n){return X(e.As,n.As)||L.comparator(e.key,n.key)}}class XNe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ke(U2.ds)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const a=new Tv(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.Rs=this.Rs.add(new U2(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return y.resolve(a)}lookupMutationBatch(e,n){return y.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new U2(n,0),i=new U2(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],a=>{const c=this.Ps(a.As);s.push(c)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(X);return n.forEach(i=>{const s=new U2(i,0),a=new U2(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],c=>{r=r.add(c.As)})}),y.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const a=new U2(new L(s),0);let c=new ke(X);return this.Rs.forEachWhile(o=>{const l=o.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(o.As)),!0)},a),y.resolve(this.Vs(c))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return y.forEach(n.mutations,i=>{const s=new U2(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new U2(n,0),i=this.Rs.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JNe{constructor(e){this.Ds=e,this.docs=new De(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Pe.newInvalidDocument(n))}getEntries(e,n){let r=Ft();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pe.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ft();const a=n.path,c=new L(a.child("")),o=this.docs.getIteratorFrom(c);for(;o.hasNext();){const{key:l,value:{document:u}}=o.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||_v(LF(u),r)<=0||(i.has(u.key)||dc(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Cs(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZNe(this)}getSize(e){return y.resolve(this.size)}}class ZNe extends GNe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class eke{constructor(e){this.persistence=e,this.xs=new kn(n=>Hi(n),uc),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Xv,this.targetCount=0,this.Ms=Ti.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),y.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ti(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.Fn(n),y.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((a,c)=>{c.sequenceNumber<=n&&null===r.get(c.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.ks.containsKey(n))}}class Jv{constructor(e,n){this.$s={},this.overlays={},this.Os=new Jt(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new eke(this),this.indexManager=new ONe,this.remoteDocumentCache=new JNe(r=>this.referenceDelegate.Ls(r)),this.serializer=new XB(n),this.qs=new QNe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YNe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new XNe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new tke(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return y.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class tke extends wTe{constructor(e){super(),this.currentSequenceNumber=e}}class dl{constructor(e){this.persistence=e,this.Qs=new Xv,this.js=null}static zs(e){return new dl(e)}get Ws(){if(this.js)return this.js;throw P()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),y.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Ws,r=>{const i=L.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return y.or([()=>y.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class n_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n_(e,n.fromCache,r,i)}}class HU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(uB(n))return y.resolve(null);let r=Ht(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=J8(n,null,"F"),r=Ht(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=se(...s);return this.Ui.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(o=>{const l=this.ji(n,c);return this.zi(n,l,a,o.readTime)?this.Ki(e,J8(n,null,"F")):this.Wi(e,l,n,o)}))})))}Gi(e,n,r,i){return uB(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const a=this.ji(n,s);return this.zi(n,a,r,i)?this.Qi(e,n):(mv()<=ge.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lv(n)),this.Wi(e,a,n,function EF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new Xt(i,L.empty(),e)}(i,-1)))})}ji(e,n){let r=new ke(hB(e));return n.forEach((i,s)=>{dc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return mv()<=ge.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Lv(n)),this.Ui.getDocumentsMatchingQuery(e,n,Xt.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}class rke{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new De(X),this.Yi=new kn(s=>Hi(s),uc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function SU(t,e){return r_.apply(this,arguments)}function r_(){return r_=m(function*(t,e){const n=D(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let o=se();for(const l of i){a.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}for(const l of s){c.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(l=>({er:l,removedBatchIds:a,addedBatchIds:c}))})})}),r_.apply(this,arguments)}function xU(t){const e=D(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ake(t,e){const n=D(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H3(t,e,n){return i_.apply(this,arguments)}function i_(){return i_=m(function*(t,e,n){const r=D(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!_r(a))throw a;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),i_.apply(this,arguments)}function ml(t,e,n){const r=D(t);let i=j.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",a=>function(c,o,l){const u=D(c),f=u.Yi.get(l);return void 0!==f?y.resolve(u.Ji.get(f)):u.Bs.getTargetData(o,l)}(r,a,Ht(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,c.targetId).next(o=>{s=o})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,e,n?i:j.min(),n?s:se())).next(c=>(function DU(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function dB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),c),{documents:c,ir:s})))}class l_{constructor(){this.activeTargetIds=function Dv(){return cNe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NU{constructor(){this.Hr=new l_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new l_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lke{Yr(e){}shutdown(){}}class kU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _l=null;function f_(){return null===_l?_l=268435456+Math.round(2147483648*Math.random()):_l++,"0x"+_l.toString(16)}const uke={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fke{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const dt="WebChannelConnection";class dke extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const a=f_(),c=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const o={};return this.Eo(o,i,s),this.Ao(e,c,o,r).then(l=>(H("RestConnection",`Received RPC '${e}' ${a}: `,l),l),l=>{throw H1("RestConnection",`RPC '${e}' ${a} failed with error: `,l,"url: ",c,"request:",r),l})}vo(e,n,r,i,s,a){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+l3,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${uke[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=f_();return new Promise((a,c)=>{const o=new uTe;o.setWithCredentials(!0),o.listenOnce(cTe.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case pv.NO_ERROR:const u=o.getResponseJson();H(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case pv.TIMEOUT:H(dt,`RPC '${e}' ${s} timed out`),c(new b(M.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const f=o.getStatus();if(H(dt,`RPC '${e}' ${s} failed with status:`,f,"response text:",o.getResponseText()),f>0){let d=o.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(h.status);c(new b(p,h.message))}else c(new b(M.UNKNOWN,"Server responded with status "+o.getStatus()))}else c(new b(M.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{H(dt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);H(dt,`RPC '${e}' ${s} sending request:`,i),o.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=f_(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=sTe(),c=aTe(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new lTe({})),this.Eo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=s.join("");H(dt,`Creating RPC '${e}' stream ${i}: ${u}`,o);const f=a.createWebChannel(u,o);let d=!1,h=!1;const p=new fke({ro:v=>{h?H(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(H(dt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),H(dt,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},oo:()=>f.close()}),g=(v,C,_)=>{v.listen(C,w=>{try{_(w)}catch(I){setTimeout(()=>{throw I},0)}})};return g(f,R8.EventType.OPEN,()=>{h||H(dt,`RPC '${e}' stream ${i} transport opened.`)}),g(f,R8.EventType.CLOSE,()=>{h||(h=!0,H(dt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(f,R8.EventType.ERROR,v=>{h||(h=!0,H1(dt,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new b(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,R8.EventType.MESSAGE,v=>{var C;if(!h){const _=v.data[0];B(!!_);const I=_.error||(null===(C=_[0])||void 0===C?void 0:C.error);if(I){H(dt,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let q=function(M2){const L2=y2[M2];if(void 0!==L2)return LB(L2)}(T),fe=I.message;void 0===q&&(q=M.INTERNAL,fe="Unknown error status: "+T+" with message "+I.message),h=!0,p.wo(new b(q,fe)),f.close()}else H(dt,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(c,oTe.STAT_EVENT,v=>{v.stat===bF.PROXY?H(dt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===bF.NOPROXY&&H(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function yl(){return typeof document<"u"?document:null}function Lc(t){return new MNe(t,!0)}class d_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class RU{constructor(e,n,r,i,s,a,c,o){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new d_(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(f2(n.toString()),f2("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hke extends RU{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function bNe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:P(),i=e.targetChange.targetIds||[],s=function(o,l){return o.useProto3Json?(B(void 0===l||"string"==typeof l),x2.fromBase64String(l||"")):(B(void 0===l||l instanceof Uint8Array),x2.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(o){const l=void 0===o.code?M.UNKNOWN:LB(o.code);return new b(l,o.message||"")}(a);n=new kB(r,i,s,c||null)}else if("documentChange"in e){const r=e.documentChange,i=tn(t,r.document.name),s=h2(r.document.updateTime),a=r.document.createTime?h2(r.document.createTime):j.min(),c=new Z2({mapValue:{fields:r.document.fields}}),o=Pe.newFoundDocument(i,s,a,c);n=new rl(r.targetIds||[],r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e){const r=e.documentDelete,i=tn(t,r.document),s=r.readTime?h2(r.readTime):j.min(),a=Pe.newNoDocument(i,s);n=new rl([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const r=e.documentRemove,i=tn(t,r.document);n=new rl([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,{count:i=0,unchangedNames:s}=r,a=new mNe(i,s);n=new NB(r.targetId,a)}}var o;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?h2(s.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Mc(this.serializer),n.addTarget=function(i,s){let a;const c=s.target;if(a=Q8(c)?{documents:qB(i,c)}:{query:jv(i,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=FB(i,s.resumeToken);const o=Ov(i,s.expectedCount);null!==o&&(a.expectedCount=o)}else if(s.snapshotVersion.compareTo(j.min())>0){a.readTime=C3(i,s.snapshotVersion.toTimestamp());const o=Ov(i,s.expectedCount);null!==o&&(a.expectedCount=o)}return a}(this.serializer,e);const r=function zNe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Mc(this.serializer),n.removeTarget=e,this.Wo(n)}}class pke extends RU{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function HNe(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let s=h2(r.updateTime?r.updateTime:i);return s.isEqual(j.min())&&(s=h2(i)),new fNe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=h2(e.commitTime);return this.listener.cu(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Mc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function wc(t,e){let n;if(e instanceof _3)n={update:$B(t,e.key,e.value)};else if(e instanceof y3)n={delete:Cc(t,e.key)};else if(e instanceof Pn)n={update:$B(t,e.key,e.data),updateMask:ENe(e.fieldMask)};else{if(!(e instanceof Av))return P();n={verify:Cc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof g3)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Si)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof v3)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:wNe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.serializer,r))};this.Wo(n)}}class mke extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,n,r,s,a,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class vke{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(f2(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _ke{constructor(e,n,r,i,s){var a=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(c=>{r.enqueueAndForget(m(function*(){var o;Ir(a)&&(H("RemoteStore","Restarting streams for network reachability change."),yield(o=m(function*(l){const u=D(l);u.vu.add(4),yield z3(u),u.bu.set("Unknown"),u.vu.delete(4),yield Dc(u)}),function(l){return o.apply(this,arguments)})(a))}))}),this.bu=new vke(r,i)}}function Dc(t){return p_.apply(this,arguments)}function p_(){return p_=m(function*(t){if(Ir(t))for(const e of t.Ru)yield e(!0)}),p_.apply(this,arguments)}function z3(t){return m_.apply(this,arguments)}function m_(){return m_=m(function*(t){for(const e of t.Ru)yield e(!1)}),m_.apply(this,arguments)}function Cl(t,e){const n=D(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),__(n)?v_(n):x3(n).Ko()&&g_(n,e))}function Ac(t,e){const n=D(t),r=x3(n);n.Au.delete(e),r.Ko()&&OU(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ir(n)&&n.bu.set("Unknown"))}function g_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}x3(t).su(e)}function OU(t,e){t.Vu.qt(e),x3(t).iu(e)}function v_(t){t.Vu=new vNe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),x3(t).start(),t.bu.gu()}function __(t){return Ir(t)&&!x3(t).Uo()&&t.Au.size>0}function Ir(t){return 0===D(t).vu.size}function FU(t){t.Vu=void 0}function yke(t){return y_.apply(this,arguments)}function y_(){return y_=m(function*(t){t.Au.forEach((e,n)=>{g_(t,e)})}),y_.apply(this,arguments)}function Cke(t,e){return C_.apply(this,arguments)}function C_(){return C_=m(function*(t,e){FU(t),__(t)?(t.bu.Iu(e),v_(t)):t.bu.set("Unknown")}),C_.apply(this,arguments)}function Mke(t,e,n){return M_.apply(this,arguments)}function M_(){return M_=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof kB&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const a=s.cause;for(const c of s.targetIds)i.Au.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i.Au.delete(c),i.Vu.removeTarget(c))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ml(t,r)}else if(e instanceof rl?t.Vu.Ht(e):e instanceof NB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(j.min()))try{const r=yield xU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const a=i.Vu.ce(s);return a.targetChanges.forEach((c,o)=>{if(c.resumeToken.approximateByteSize()>0){const l=i.Au.get(o);l&&i.Au.set(o,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,o)=>{const l=i.Au.get(c);if(!l)return;i.Au.set(c,l.withResumeToken(x2.EMPTY_BYTE_STRING,l.snapshotVersion)),OU(i,c);const u=new Rn(l.target,c,o,l.sequenceNumber);g_(i,u)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield Ml(t,r)}var r}),M_.apply(this,arguments)}function Ml(t,e,n){return w_.apply(this,arguments)}function w_(){return w_=m(function*(t,e,n){if(!_r(e))throw e;t.vu.add(1),yield z3(t),t.bu.set("Offline"),n||(n=()=>xU(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Dc(t)}))}),w_.apply(this,arguments)}function BU(t,e){return e().catch(n=>Ml(t,n,e))}function S3(t){return V_.apply(this,arguments)}function V_(){return V_=m(function*(t){const e=D(t),n=Er(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;wke(e);)try{const i=yield ake(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Vke(e,i)}catch(i){yield Ml(e,i)}UU(e)&&jU(e)}),V_.apply(this,arguments)}function wke(t){return Ir(t)&&t.Eu.length<10}function Vke(t,e){t.Eu.push(e);const n=Er(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function UU(t){return Ir(t)&&!Er(t).Uo()&&t.Eu.length>0}function jU(t){Er(t).start()}function bke(t){return b_.apply(this,arguments)}function b_(){return b_=m(function*(t){Er(t).hu()}),b_.apply(this,arguments)}function Hke(t){return H_.apply(this,arguments)}function H_(){return H_=m(function*(t){const e=Er(t);for(const n of t.Eu)e.uu(n.mutations)}),H_.apply(this,arguments)}function zke(t,e,n){return z_.apply(this,arguments)}function z_(){return z_=m(function*(t,e,n){const r=t.Eu.shift(),i=Nv.from(r,e,n);yield BU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield S3(t)}),z_.apply(this,arguments)}function Ske(t,e){return S_.apply(this,arguments)}function S_(){return S_=m(function*(t,e){var n;e&&Er(t).ou&&(yield(n=m(function*(r,i){if(function EB(t){switch(t){default:return P();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(s=i.code)&&s!==M.ABORTED){const a=r.Eu.shift();Er(r).Qo(),yield BU(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),yield S3(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),UU(t)&&jU(t)}),S_.apply(this,arguments)}function $U(t,e){return x_.apply(this,arguments)}function x_(){return x_=m(function*(t,e){const n=D(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Ir(n);n.vu.add(3),yield z3(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Dc(n)}),x_.apply(this,arguments)}function E_(){return E_=m(function*(t,e){const n=D(t);e?(n.vu.delete(2),yield Dc(n)):e||(n.vu.add(2),yield z3(n),n.bu.set("Unknown"))}),E_.apply(this,arguments)}function x3(t){return t.Su||(t.Su=function(e,n,r){const i=D(e);return i.fu(),new hke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:yke.bind(null,t),ao:Cke.bind(null,t),nu:Mke.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),__(t)?v_(t):t.bu.set("Unknown")):(yield t.Su.stop(),FU(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Er(t){return t.Du||(t.Du=function(e,n,r){const i=D(e);return i.fu(),new pke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:bke.bind(null,t),ao:Ske.bind(null,t),au:Hke.bind(null,t),cu:zke.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield S3(t)):(yield t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class L_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new S2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new L_(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I3(t,e){if(f2("AsyncQueue",`${e}: ${t}`),_r(t))return new b(M.UNAVAILABLE,`${e}: ${t}`);throw t}class E3{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new E3(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof E3)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new E3;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class GU{constructor(){this.Cu=new De(L.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):P():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class L3{constructor(e,n,r,i,s,a,c,o,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new L3(e,n,E3.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class xke{constructor(){this.Nu=void 0,this.listeners=[]}}class Ike{constructor(){this.queries=new kn(e=>fB(e),fc),this.onlineState="Unknown",this.ku=new Set}}function A_(){return A_=m(function*(t,e){const n=D(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xke),i)try{s.Nu=yield n.onListen(r)}catch(a){const c=I3(a,`Initialization of query '${Lv(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&k_(n)}),A_.apply(this,arguments)}function N_(){return N_=m(function*(t,e){const n=D(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),N_.apply(this,arguments)}function Eke(t,e){const n=D(t);let r=!1;for(const i of e){const a=n.queries.get(i.query);if(a){for(const c of a.listeners)c.$u(i)&&(r=!0);a.Nu=i}}r&&k_(n)}function Lke(t,e,n){const r=D(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function k_(t){t.ku.forEach(e=>{e.next()})}class P_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new L3(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=L3.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class KU{constructor(e){this.key=e}}class QU{constructor(e){this.key=e}}class YU{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=hB(e),this.ec=new E3(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new GU,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const o="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=dc(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.rc(d,h)||(r.track({type:2,doc:h}),v=!0,(o&&this.tc(h,o)>0||l&&this.tc(h,l)<0)&&(c=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(o||l)&&(c=!0)),v&&(h?(a=a.add(h),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const u="F"===this.query.limitType?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:a,ic:r,zi:c,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return h(f)-h(d)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const a=n?this.uc():[],c=0===this.Zu.size&&this.current?1:0,o=c!==this.Xu;return this.Xu=c,0!==s.length||o?{snapshot:new L3(this.query,e.ec,i,s,e.mutatedKeys,0===c,o,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new GU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new QU(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new KU(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return L3.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Tke{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nke{constructor(e){this.key=e,this.fc=!1}}class kke{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new kn(c=>fB(c),fc),this._c=new Map,this.mc=new Set,this.gc=new De(L.comparator),this.yc=new Map,this.Ic=new Xv,this.Tc={},this.Ec=new Map,this.Ac=Ti.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Pke(t,e){return R_.apply(this,arguments)}function R_(){return R_=m(function*(t,e){const n=function cy(t){const e=D(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qke.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fke.bind(null,e),e.dc.nu=Eke.bind(null,e.eventManager),e.dc.Pc=Lke.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const a=yield function b3(t,e){const n=D(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Bs.allocateTargetId(r).next(a=>(i=new Rn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Ht(e)),c=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=yield function O_(t,e,n,r,i){return F_.apply(this,arguments)}(n,e,r,"current"===c,a.resumeToken),n.isPrimaryClient&&Cl(n.remoteStore,a)}return i}),R_.apply(this,arguments)}function F_(){return F_=m(function*(t,e,n,r,i){t.Rc=(f,d,h)=>{return(p=m(function*(g,v,C,_){let w=v.view.sc(C);w.zi&&(w=yield ml(g.localStore,v.query,!1).then(({documents:q})=>v.view.sc(q,w)));const I=_&&_.targetChanges.get(v.targetId),T=v.view.applyChanges(w,g.isPrimaryClient,I);return Y_(g,v.targetId,T.cc),T.snapshot}),function(g,v,C,_){return p.apply(this,arguments)})(t,f,d,h);var p};const s=yield ml(t.localStore,e,!0),a=new YU(e,s.ir),c=a.sc(s.documents),o=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=a.applyChanges(c,t.isPrimaryClient,o);Y_(t,n,l.cc);const u=new Tke(e,n,a);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),F_.apply(this,arguments)}function Rke(t,e){return B_.apply(this,arguments)}function B_(){return B_=m(function*(t,e){const n=D(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!fc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield H3(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ac(n.remoteStore,r.targetId),D3(n,r.targetId)}).catch(vr))):(D3(n,r.targetId),yield H3(n.localStore,r.targetId,!0))}),B_.apply(this,arguments)}function U_(){return U_=m(function*(t,e,n){const r=function oy(t){const e=D(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bke.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uke.bind(null,e),e}(t);try{const i=yield function(s,a){const c=D(s),o=Qe.now(),l=a.reduce((d,h)=>d.add(h.key),se());let u,f;return c.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=Ft(),p=se();return c.Zi.getEntries(d,l).next(g=>{h=g,h.forEach((v,C)=>{C.isValidDocument()||(p=p.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(d,h)).next(g=>{u=g;const v=[];for(const C of a){const _=hNe(C,u.get(C.key).overlayedDocument);null!=_&&v.push(new Pn(C.key,_,XF(_.value.mapValue),Ge.exists(!0)))}return c.mutationQueue.addMutationBatch(d,o,v,a)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(u,p);return c.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:mB(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let o=s.Tc[s.currentUser.toKey()];o||(o=new De(X)),o=o.insert(a,c),s.Tc[s.currentUser.toKey()]=o}(r,i.batchId,n),yield On(r,i.changes),yield S3(r.remoteStore)}catch(i){const s=I3(i,"Failed to persist write");n.reject(s)}}),U_.apply(this,arguments)}function XU(t,e){return j_.apply(this,arguments)}function j_(){return j_=m(function*(t,e){const n=D(t);try{const r=yield function ske(t,e){const n=D(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const c=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;c.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,g,v;null!==e.targetMismatches.get(f)?h=h.withResumeToken(x2.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),g=h,v=u,(0===(p=d).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&c.push(n.Bs.updateTargetData(s,h))});let o=Ft(),l=se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),c.push(function IU(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ft();return n.forEach((c,o)=>{const l=s.get(c);o.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),o.isNoDocument()&&o.version.isEqual(j.min())?(e.removeEntry(c,o.readTime),a=a.insert(c,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||0===o.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(o),a=a.insert(c,o)):H("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",o.version)}),{nr:a,sr:i}})}(s,a,e.documentUpdates).next(u=>{o=u.nr,l=u.sr})),!r.isEqual(j.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(u)}return y.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,o,l)).next(()=>o)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.yc.get(s);a&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?B(a.fc):i.removedDocuments.size>0&&(B(a.fc),a.fc=!1))}),yield On(n,r,e)}catch(r){yield vr(r)}}),j_.apply(this,arguments)}function JU(t,e,n){const r=D(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,a)=>{const c=a.view.Mu(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){const c=D(s);c.onlineState=a;let o=!1;c.queries.forEach((l,u)=>{for(const f of u.listeners)f.Mu(a)&&(o=!0)}),o&&k_(c)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Fke(t,e,n){return $_.apply(this,arguments)}function $_(){return $_=m(function*(t,e,n){const r=D(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let a=new De(L.comparator);a=a.insert(s,Pe.newNoDocument(s,j.min()));const c=se().add(s),o=new _c(j.min(),new Map,new De(X),a,c);yield XU(r,o),r.gc=r.gc.remove(s),r.yc.delete(e),X_(r)}else yield H3(r.localStore,e,!1).then(()=>D3(r,e,n)).catch(vr)}),$_.apply(this,arguments)}function Bke(t,e){return G_.apply(this,arguments)}function G_(){return G_=m(function*(t,e){const n=D(t),r=e.batch.batchId;try{const i=yield function ike(t,e){const n=D(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,c,o,l){const u=o.batch,f=u.keys();let d=y.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(c,h)).next(p=>{const g=o.docVersions.get(h);B(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,o),p.isValidDocument()&&(p.setReadTime(o.commitVersion),l.addEntry(p)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(c,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=se();for(let o=0;o<a.mutationResults.length;++o)a.mutationResults[o].transformResults.length>0&&(c=c.add(a.batch.mutations[o].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Q_(n,r,null),K_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield On(n,i)}catch(i){yield vr(i)}}),G_.apply(this,arguments)}function Uke(t,e,n){return q_.apply(this,arguments)}function q_(){return q_=m(function*(t,e,n){const r=D(t);try{const i=yield function(s,a){const c=D(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",o=>{let l;return c.mutationQueue.lookupMutationBatch(o,a).next(u=>(B(null!==u),l=u.keys(),c.mutationQueue.removeMutationBatch(o,u))).next(()=>c.mutationQueue.performConsistencyCheck(o)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(o,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,l)).next(()=>c.localDocuments.getDocuments(o,l))})}(r.localStore,e);Q_(r,e,n),K_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield On(r,i)}catch(i){yield vr(i)}}),q_.apply(this,arguments)}function K_(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Q_(t,e,n){const r=D(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function D3(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||ZU(t,r)})}function ZU(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Ac(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),X_(t))}function Y_(t,e,n){for(const r of n)r instanceof KU?(t.Ic.addReference(r.key,e),$ke(t,r)):r instanceof QU?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||ZU(t,r.key)):P()}function $ke(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),X_(t))}function X_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new L(pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Nke(n)),t.gc=t.gc.insert(n,r),Cl(t.remoteStore,new Rn(Ht(m3(n.path)),r,"TargetPurposeLimboResolution",Jt.ct))}}function On(t,e,n){return J_.apply(this,arguments)}function J_(){return J_=m(function*(t,e,n){const r=D(t),i=[],s=[],a=[];var c;r.wc.isEmpty()||(r.wc.forEach((c,o)=>{a.push(r.Rc(o,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=n_.Li(o.targetId,l);s.push(u)}}))}),yield Promise.all(a),r.dc.nu(i),yield(c=m(function*(o,l){const u=D(o);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>y.forEach(l,d=>y.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>y.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!_r(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Ji.get(d),g=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Ji=u.Ji.insert(d,g)}}}),function(o,l){return c.apply(this,arguments)})(r.localStore,s))}),J_.apply(this,arguments)}function Gke(t,e){return Z_.apply(this,arguments)}function Z_(){return Z_=m(function*(t,e){const n=D(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=yield SU(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(a=>{a.forEach(c=>{c.reject(new b(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield On(n,r.er)}var i}),Z_.apply(this,arguments)}function qke(t,e){const n=D(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const s=n._c.get(e);if(!s)return i;for(const a of s){const c=n.wc.get(a);i=i.unionWith(c.view.nc)}return i}}class wl{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=Lc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function zU(t,e,n,r){return new rke(t,e,n,r)}(this.persistence,new HU,e.initialUser,this.serializer)}createPersistence(e){return new Jv(dl.zs,this.serializer)}createSharedClientState(e){return new NU}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class A3{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>JU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Gke.bind(null,r.syncEngine),yield function I_(t,e){return E_.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ike}createDatastore(e){const n=Lc(e.databaseInfo.databaseId),r=new dke(e.databaseInfo);return new mke(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=c=>JU(this.syncEngine,c,0),a=kU.D()?new kU:new lke,new _ke(n,r,i,s,a);var n,r,i,s,a}createSyncEngine(e,n){return function(r,i,s,a,c,o,l){const u=new kke(r,i,s,a,c,o);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=D(n);H("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield z3(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Vl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):f2("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class sPe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=F2.UNAUTHENTICATED,this.clientId=xF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var a=m(function*(c){H("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(H("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new S2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=I3(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function bl(t,e){return ly.apply(this,arguments)}function ly(){return ly=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield SU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),ly.apply(this,arguments)}function uy(t,e){return fy.apply(this,arguments)}function fy(){return fy=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function dy(t){return hy.apply(this,arguments)}(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>$U(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$U(e.remoteStore,s)),t._onlineComponents=e}),fy.apply(this,arguments)}function hy(){return hy=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function sj(t){return"FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;H1("Error using user provided cache. Falling back to memory cache: "+n),yield bl(t,new wl)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield bl(t,new wl);return t._offlineComponents}),hy.apply(this,arguments)}function Hl(t){return py.apply(this,arguments)}function py(){return py=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield uy(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield uy(t,new A3))),t._onlineComponents}),py.apply(this,arguments)}function T3(t){return gy.apply(this,arguments)}function gy(){return gy=m(function*(t){const e=yield Hl(t),n=e.eventManager;return n.onListen=Pke.bind(null,e.syncEngine),n.onUnlisten=Rke.bind(null,e.syncEngine),n}),gy.apply(this,arguments)}function fj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const dj=new Map;function vy(t,e,n){if(!n)throw new b(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hj(t){if(!L.isDocumentKey(t))throw new b(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pj(t){if(L.isDocumentKey(t))throw new b(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sl(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sl(t);throw new b(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class gj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function pPe(t,e,n,r){if(!0===e&&!0===r)throw new b(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new dTe;switch(n.type){case"firstParty":return new gTe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=dj.get(e);n&&(H("ComponentProvider","Removing Datastore"),dj.delete(e),n.terminate())}(this),Promise.resolve()}}class p2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new p2(this.firestore,e,this._key)}}class et{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new et(this.firestore,e,this._query)}}class nn extends et{constructor(e,n,r){super(e,n,m3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new p2(this.firestore,null,new L(e))}withConverter(e){return new nn(this.firestore,e,this._path)}}function gPe(t,e,...n){if(t=u2(t),vy("collection","path",e),t instanceof Tc){const r=pe.fromString(e,...n);return pj(r),new nn(t,null,r)}{if(!(t instanceof p2||t instanceof nn))throw new b(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return pj(r),new nn(t.firestore,null,r)}}function vj(t,e,...n){if(t=u2(t),1===arguments.length&&(e=xF.A()),vy("doc","path",e),t instanceof Tc){const r=pe.fromString(e,...n);return hj(r),new p2(t,null,new L(r))}{if(!(t instanceof p2||t instanceof nn))throw new b(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return hj(r),new p2(t.firestore,t instanceof nn?t.converter:null,new L(r))}}class vPe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new d_(this,"async_queue_retry"),this.Xc=()=>{const n=yl();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=yl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=yl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new S2;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!_r(n))throw n;H("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,f2("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=L_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function _y(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends Tc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vPe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yj(this),this._firestoreClient.terminate()}}function yPe(t,e){const r="string"==typeof t?t:e||"(default)",i=or("object"==typeof t?t:pa(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=ok("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function mPe(t,e,n,r={}){var i;const s=(t=ue(t,Tc))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&H1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,o;if("string"==typeof r.mockUserToken)c=r.mockUserToken,o=F2.MOCK_USER;else{c=function Ibe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[b0(JSON.stringify({alg:"none",type:"JWT"})),b0(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new b(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new F2(l)}t._authCredentials=new hTe(new zF(c,o))}}(i,...s)}return i}function C2(t){return t._firestoreClient||yj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yj(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new qTe(t._databaseId,c,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,fj(l.experimentalLongPollingOptions),l.useFetchStreams));var c,l;t._firestoreClient=new sPe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(x2.fromBase64String(e))}catch(n){throw new b(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(x2.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class N3{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new d2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yy{constructor(e){this._methodName=e}}class Cy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const MPe=/^__.*__$/;class wPe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Pn(e,this.data,this.fieldMask,n,this.fieldTransforms):new _3(e,this.data,n,this.fieldTransforms)}}class wj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class xl{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return El(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Vj(this.ca)&&MPe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class VPe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lc(e)}ya(e,n,r,i=!1){return new xl({ca:e,methodName:n,ga:r,path:d2.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k3(t){const e=t._freezeSettings(),n=Lc(t._databaseId);return new VPe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function My(t,e,n,r,i,s={}){const a=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Vy("Data must be an object, but it was:",a,r);const c=xj(r,a);let o,l;if(s.merge)o=new Ot(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=Pc(e,f,n);if(!a.contains(d))throw new b(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Ej(u,d)||u.push(d)}o=new Ot(u),l=a.fieldTransforms.filter(f=>o.covers(f.field))}else o=null,l=a.fieldTransforms;return new wPe(new Z2(c),o,l)}class kc extends yy{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}function Pi(t,e){if(Ij(t=u2(t)))return Vy("Unsupported field value:",e,t),xj(t,e);if(t instanceof yy)return function(n,r){if(!Vj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let c=Pi(a,r.wa(s));null==c&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=u2(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return yB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Qe.fromDate(n);return{timestampValue:C3(r.serializer,i)}}if(n instanceof Qe){const i=new Qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:C3(r.serializer,i)}}if(n instanceof Cy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ki)return{bytesValue:FB(r.serializer,n._byteString)};if(n instanceof p2){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Sl(n)}`)}(t,e)}function xj(t,e){const n={};return UF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(t,(r,i)=>{const s=Pi(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Ij(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Cy||t instanceof ki||t instanceof p2||t instanceof yy)}function Vy(t,e,n){if(!Ij(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sl(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Pc(t,e,n){if((e=u2(e))instanceof N3)return e._internalPath;if("string"==typeof e)return Il(t,e);throw El("Field path arguments must be of type string or ",t,!1,void 0,n)}const SPe=new RegExp("[~\\*/\\[\\]]");function Il(t,e,n){if(e.search(SPe)>=0)throw El(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new N3(...e.split("."))._internalPath}catch{throw El(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function El(t,e,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let o="";return(s||a)&&(o+=" (found",s&&(o+=` in field ${r}`),a&&(o+=` in document ${i}`),o+=")"),new b(M.INVALID_ARGUMENT,c+t+o)}function Ej(t,e){return t.some(n=>n.isEqual(e))}class by{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new p2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xPe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ll("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class xPe extends by{data(){return super.data()}}function Ll(t,e){return"string"==typeof e?Il(t,e):e instanceof N3?e._internalPath:e._delegate._internalPath}class Hy{}class zy extends Hy{}function IPe(t,e,...n){let r=[];e instanceof Hy&&r.push(e),r=r.concat(n),function(i){const s=i.filter(c=>c instanceof P3).length,a=i.filter(c=>c instanceof Rc).length;if(s>1||s>0&&a>0)throw new b(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Rc extends zy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rc(e,n,r)}_apply(e){const n=this._parse(e);return Nj(e._query,n),new et(e.firestore,e.converter,Ev(e._query,n))}_parse(e){const n=k3(e.firestore);return function(i,s,a,c,o,l,u){let f;if(o.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new b(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){Tj(u,l);const d=[];for(const h of u)d.push(Aj(c,i,h));f={arrayValue:{values:d}}}else f=Aj(c,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||Tj(u,l),f=function Sj(t,e,n,r=!1){return Pi(n,t.ya(r?4:3,e))}(a,"where",u,"in"===l||"not-in"===l);return oe.create(o,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function EPe(t,e,n){const r=e,i=Ll("where",t);return Rc._create(i,r,n)}class P3 extends Hy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P3(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const c of a)Nj(s,c),s=Ev(s,c)}(e._query,n),new et(e.firestore,e.converter,Ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Sy extends zy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sy(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new b(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new b(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new h3(i,s);return function(c,o){if(null===xv(c)){const l=X8(c);null!==l&&kj(0,l,o.field)}}(r,a),a}(e._query,this._field,this._direction);return new et(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Nn(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function LPe(t,e="asc"){const n=e,r=Ll("orderBy",t);return Sy._create(r,n)}class Dl extends zy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dl(e,n,r)}_apply(e){return new et(e.firestore,e.converter,J8(e._query,this._limit,this._limitType))}}function DPe(t){return function mj(t,e){if(e<=0)throw new b(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Dl._create("limit",t,"F")}function Aj(t,e,n){if("string"==typeof(n=u2(n))){if(""===n)throw new b(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iv(e)&&-1!==n.indexOf("/"))throw new b(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!L.isDocumentKey(r))throw new b(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bi(t,new L(r))}if(n instanceof p2)return bi(t,n._key);throw new b(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sl(n)}.`)}function Tj(t,e){if(!Array.isArray(t)||0===t.length)throw new b(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nj(t,e){if(e.isInequality()){const r=X8(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=xv(t);null!==s&&kj(0,i,s)}const n=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(M.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function kj(t,e,n){if(!n.isEqual(e))throw new b(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class APe{convertValue(e,n="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return r2(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Cy(r2(e.latitude),r2(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=G8(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=Cr(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);B(YB(r));const i=new Vi(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||f2(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ri{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R3 extends by{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ll("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nl extends R3{data(e={}){return super.data(e)}}class O3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ri(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nl(this._firestore,this._userDataWriter,r.key,r,new Ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Nl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ri(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||3!==a.type).map(a=>{const c=new Nl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ri(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let o=-1,l=-1;return 0!==a.type&&(o=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:NPe(a.type),doc:c,oldIndex:o,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NPe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class Lr extends APe{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new p2(this.firestore,null,n)}}function kPe(t,e,n,...r){t=ue(t,p2);const i=ue(t.firestore,Re),s=k3(i);let a;return a="string"==typeof(e=u2(e))||e instanceof N3?function zj(t,e,n,r,i,s){const a=t.ya(1,e,n),c=[Pc(e,r,n)],o=[i];if(s.length%2!=0)throw new b(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)c.push(Pc(e,s[d])),o.push(s[d+1]);const l=[],u=Z2.empty();for(let d=c.length-1;d>=0;--d)if(!Ej(l,c[d])){const h=c[d];let p=o[d];p=u2(p);const g=a.da(h);if(p instanceof kc)l.push(h);else{const v=Pi(p,g);null!=v&&(l.push(h),u.set(h,v))}}const f=new Ot(l);return new wj(u,f,a.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Hj(t,e,n,r){const i=t.ya(1,e,n);Vy("Data must be an object, but it was:",i,r);const s=[],a=Z2.empty();yr(r,(o,l)=>{const u=Il(e,o,n);l=u2(l);const f=i.da(u);if(l instanceof kc)s.push(u);else{const d=Pi(l,f);null!=d&&(s.push(u),a.set(u,d))}});const c=new Ot(s);return new wj(a,c,i.fieldTransforms)}(s,"updateDoc",t._key,e),Oc(i,[a.toMutation(t._key,Ge.exists(!0))])}function PPe(t){return Oc(ue(t.firestore,Re),[new y3(t._key,Ge.none())])}function RPe(t,e){const n=ue(t.firestore,Re),r=vj(t),i=function xy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Oc(n,[My(k3(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ge.exists(!1))]).then(()=>r)}function Oc(t,e){return function(n,r){const i=new S2;return n.asyncQueue.enqueueAndForget(m(function*(){return function Oke(t,e,n){return U_.apply(this,arguments)}(yield function my(t){return Hl(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(C2(t),e)}!function(t,e=!0){l3=ci,wt(new ct("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new Re(new pTe(n.getProvider("auth-internal")),new vTe(n.getProvider("app-check-internal")),function(c,o){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new b(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vi(c.options.projectId,o)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),We(HF,"3.13.0",t),We(HF,"3.13.0","esm2017")}();var XPe={includeMetadataChanges:!1};function Ey(t,e){return void 0===e&&(e=XPe),new Ye(function(n){var r=function OPe(t,...e){var n,r,i;t=u2(t);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||_y(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges};if(_y(e[a])){const f=e[a];e[a]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[a+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[a+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let o,l,u;if(t instanceof p2)l=ue(t.firestore,Re),u=m3(t._key.path),o={next:f=>{e[a]&&e[a](function Iy(t,e,n){const r=n.docs.get(e._key),i=new Lr(t);return new R3(t,i,e._key,r,new Ri(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,f))},error:e[a+1],complete:e[a+2]};else{const f=ue(t,et);l=ue(f.firestore,Re),u=f._query;const d=new Lr(l);o={next:h=>{e[a]&&e[a](new O3(l,d,f,h))},error:e[a+1],complete:e[a+2]},function Lj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,d,h,p){const g=new Vl(p),v=new P_(d,g,h);return f.asyncQueue.enqueueAndForget(m(function*(){return function D_(t,e){return A_.apply(this,arguments)}(yield T3(f),v)})),()=>{g.Dc(),f.asyncQueue.enqueueAndForget(m(function*(){return function T_(t,e){return N_.apply(this,arguments)}(yield T3(f),v)}))}}(C2(l),u,c,o)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function iRe(t,e){return void 0===e&&(e={}),function rRe(t){return Ey(t,{includeMetadataChanges:!0}).pipe(Z3(function(e){return e.docs}))}(t).pipe(Z3(function(n){return n.map(function(r){return function Oj(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Fn{constructor(e){return e}}const jj="firestore",Ay=new $("angularfire2.firestore-instances");function cRe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fn(r)}}const oRe={provide:class sRe{constructor(){return Jh(jj)}},deps:[[new Lt,Ay]]},lRe={provide:Fn,useFactory:function aRe(t,e){const n=Xh(jj,t,e);return n&&new Fn(n)},deps:[[new Lt,Ay],j4]};let uRe=(()=>{class t{constructor(){We("angularfire",_a.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({providers:[lRe,oRe]}),t})();function F3(t,...e){return{ngModule:uRe,providers:[{provide:Ay,useFactory:cRe(t),multi:!0,deps:[Te,it,O0,F0,[new Lt,oO],[new Lt,Cp],...e]}]}}const B3=k2(iRe,!0),$j=k2(RPe,!0),Bn=k2(gPe,!0),fRe=k2(PPe,!0),Ty=k2(vj,!0),U3=k2(yPe,!0),Gj=k2(DPe,!0),dRe=k2(LPe,!0),j3=k2(IPe,!0),qj=k2(kPe,!0),Dr=k2(EPe,!0);let Wj=(()=>{var t;class e{constructor(){this.firestore=O(Fn)}subscribeToFleetOrders(r,i,s){let a=Bn(this.firestore,"orders");B3(j3(a,Dr("user","==",r),Dr("executed","==",!1)),{idField:"id"}).forEach(c=>{i.next(c.length),s.detectChanges()}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Ny{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class Kj{constructor(){this._orbit=0,this._ground=0,this._workers=new Ny,this._soldiers=new Ny,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class ky{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let hRe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new Kj,a=i.querySelectorAll(".resourceLine .left > span"),c=[];a.forEach(l=>{let u=l.textContent.split(/\s+/),f=new ky;f.name=l.parentElement.className.split(/\s+/)[2],f.stored=parseInt(u[0].replace(/,/g,"")),f.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),f.abundance=parseInt(u[2].replace(/,/g,"")),c.push(f)}),s.resources=c;let o=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(o.substring(1,o.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Qj{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new Ny,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var ht=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(ht||{});class pRe{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class mRe{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ae=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ae||{});class gRe{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let vRe=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new Qj,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=ht.SURFACE;break;case 2:s=ht.RESOURCE;break;case 0:s=ht.FLEET;break;default:s=ht.UNKNOWN}let a=new pRe(r,s);if(s!==ht.UNKNOWN){a.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";a.planetScan.owner=new gRe(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),c.substring(1,c.length-1))}if((s===ht.RESOURCE||s===ht.SURFACE)&&(a.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),a.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),a.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===ht.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let o=new ky;o.name=c.textContent.trim().toLowerCase(),a.planetScan.resources.push(o)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,o)=>{a.planetScan.resources[o].abundance=parseInt(c.textContent.trim())})),s===ht.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(o=>{let l=new ky;l.name=o.textContent.trim().toLowerCase(),a.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((o,l)=>{a.planetScan.resources[l].stored=parseInt(o.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((o,l)=>{a.planetScan.resources[l].abundance=parseInt(o.textContent.trim())});let c=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];a.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),a.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),a.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),a.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(o=>{a.planetScan.structures.push(new mRe(o.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(o.textContent.split(/x\s+/)[0].trim())))}),a.planetScan.structures.forEach(o=>{switch(o.name){case Ae.OUTPOST:a.planetScan.resources[0].production+=300,a.planetScan.resources[1].production+=200,a.planetScan.resources[2].production+=100;break;case Ae.METAL_MINE:a.planetScan.resources[0].production+=300*o.quantity;break;case Ae.MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=200*o.quantity;break;case Ae.FARM:a.planetScan.resources[2].production+=300*o.quantity;break;case Ae.SOLAR_GENERATOR:a.planetScan.resources[3].production+=100*o.quantity;break;case Ae.CORE_METAL_MINE:a.planetScan.resources[0].production+=900*o.quantity;break;case Ae.CORE_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=600*o.quantity;break;case Ae.HYDROPONICS_LAB:a.planetScan.resources[2].production+=900*o.quantity;break;case Ae.SOLAR_ARRAY:a.planetScan.resources[3].production+=300*o.quantity;break;case Ae.STRIP_METAL_MINE:a.planetScan.resources[0].production+=9e3*o.quantity;break;case Ae.STRIP_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=6e3*o.quantity;break;case Ae.HYDROPONICS_DOME:a.planetScan.resources[2].production+=9e3*o.quantity;break;case Ae.SOLAR_STATION:a.planetScan.resources[3].production+=3e3*o.quantity}})}return a.planetScan.resources.forEach(c=>{c.production=Math.ceil(c.production*c.abundance/100)}),a}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),_Re=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new Kj;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class yRe{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}}let CRe=(()=>{var t;class e{constructor(){}extract(){let r=[];return document.querySelector('[action="/alliances/join/"]')||document.querySelectorAll(".allianceBox > .playerList").forEach(i=>{"member list"===i.parentElement.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let a=new yRe;if(null!=s.querySelector("div.note")?a.note=s.querySelector("div.note").childNodes[0].textContent.trim():null!=s.querySelector('input[name="note"]')&&(a.note=s.querySelector('input[name="note"]').value.trim()),null!=s.querySelector('[action^="/alliances/note/"]')){let c=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);a.dgId=c[c.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(a.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(a.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(a))})}),r}cleanAfterExtract(){document.querySelectorAll(".allianceBox > .playerList").forEach(r=>{"member list"===r.parentElement.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.parentNode.querySelector(".plainHeader").remove(),r.remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),S1=(()=>{var t;class e{constructor(){this.planetListExtractor=O(hRe),this.planetScanExtractor=O(vRe),this.navigationSystemPlanetsExtractor=O(_Re),this.allianceMembersExtractor=O(CRe)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(r){let i=this.allianceMembersExtractor.extract();return r&&this.allianceMembersExtractor.cleanAfterExtract(),i}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(){let r=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==r.indexOf("[")&&4==r.indexOf("]")&&(r=r.substring(5,r.length)),r.toLowerCase()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Py{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Ry=function(t){return t.USER="user",t.ADMIN="admin",t}(Ry||{});let $3=(()=>{var t;class e{constructor(){this._authState=new W2,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=nAe(r).subscribe(s=>{null!=s?B3(j3(Bn(i,"valid-users"),Dr("email","==",s.email),Gj(1))).subscribe(a=>{if(a.length>0){let c=Object.assign({email:"",enabled:!1,role:Ry.USER},a[0]);c.enabled?(localStorage.setItem("user",JSON.stringify(s)),this._authState.emit(new Py(!0,c.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(localStorage.removeItem("user"),this._authState.emit(new Py(!1,null)))})}signInWithEmailAndPassword(r,i,s,a){rAe(r,i,s).then(()=>{a&&location.reload()}).catch(c=>{window.alert(c.message)})}signInWithGoogle(r,i){iAe(r,new ZEe).then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}signOut(r,i){this._authState.emit(new Py(!0,null)),localStorage.removeItem("user"),this._refreshInProgress=i,r.signOut().then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yj(Object(n),!0).forEach(function(r){I2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pl(t){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Xj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oy(t,e){return function HRe(t){if(Array.isArray(t))return t}(t)||function SRe(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,c,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(o){s=!0,c=o}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw c}}return r}}(t,e)||Jj(t,e)||function IRe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bc(t){return function bRe(t){if(Array.isArray(t))return Fy(t)}(t)||function zRe(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Jj(t)||function xRe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jj(t,e){if(t){if("string"==typeof t)return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(t,e)}}function Fy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zj=function(){},By={},e$={},t$=null,n$={mark:Zj,measure:Zj};try{typeof window<"u"&&(By=window),typeof document<"u"&&(e$=document),typeof MutationObserver<"u"&&(t$=MutationObserver),typeof performance<"u"&&(n$=performance)}catch{}var Fl,Bl,Ul,jl,$l,r$=(By.navigator||{}).userAgent,i$=void 0===r$?"":r$,Ar=By,Oe=e$,s$=t$,Ol=n$,Un=!!Oe.documentElement&&!!Oe.head&&"function"==typeof Oe.addEventListener&&"function"==typeof Oe.createElement,a$=~i$.indexOf("MSIE")||~i$.indexOf("Trident/"),jn="___FONT_AWESOME___",c$="fa",o$="svg-inline--fa",Oi="data-fa-i2svg",jy="data-fa-pseudo-element",LRe="data-fa-pseudo-element-pending",$y="data-prefix",Gy="data-icon",l$="fontawesome-i2svg",DRe="async",ARe=["HTML","HEAD","STYLE","SCRIPT"],u$=function(){try{return!0}catch{return!1}}(),Fe="classic",s2="sharp",qy=[Fe,s2];function Uc(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Fe]}})}var jc=Uc((I2(Fl={},Fe,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),I2(Fl,s2,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Fl)),$c=Uc((I2(Bl={},Fe,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),I2(Bl,s2,{solid:"fass",regular:"fasr",light:"fasl"}),Bl)),Gc=Uc((I2(Ul={},Fe,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),I2(Ul,s2,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Ul)),TRe=Uc((I2(jl={},Fe,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),I2(jl,s2,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),jl)),NRe=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,f$="fa-layers-text",kRe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,PRe=Uc((I2($l={},Fe,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),I2($l,s2,{900:"fass",400:"fasr",300:"fasl"}),$l)),d$=[1,2,3,4,5,6,7,8,9,10],RRe=d$.concat([11,12,13,14,15,16,17,18,19,20]),ORe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Fi={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qc=new Set;Object.keys($c[Fe]).map(qc.add.bind(qc)),Object.keys($c[s2]).map(qc.add.bind(qc));var FRe=[].concat(qy,Bc(qc),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Fi.GROUP,Fi.SWAP_OPACITY,Fi.PRIMARY,Fi.SECONDARY]).concat(d$.map(function(t){return"".concat(t,"x")})).concat(RRe.map(function(t){return"w-".concat(t)})),Wc=Ar.FontAwesomeConfig||{};Oe&&"function"==typeof Oe.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=Oy(t,2),r=e[1],i=function URe(t){return""===t||"false"!==t&&("true"===t||t)}(function BRe(t){var e=Oe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Wc[r]=i)});var h$={styleDefault:"solid",familyDefault:"classic",cssPrefix:c$,replacementClass:o$,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Wc.familyPrefix&&(Wc.cssPrefix=Wc.familyPrefix);var G3=R(R({},h$),Wc);G3.autoReplaceSvg||(G3.observeMutations=!1);var U={};Object.keys(h$).forEach(function(t){Object.defineProperty(U,t,{enumerable:!0,set:function(n){G3[t]=n,Kc.forEach(function(r){return r(U)})},get:function(){return G3[t]}})}),Object.defineProperty(U,"familyPrefix",{enumerable:!0,set:function(e){G3.cssPrefix=e,Kc.forEach(function(n){return n(U)})},get:function(){return G3.cssPrefix}}),Ar.FontAwesomeConfig=U;var Kc=[],rn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},qRe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Qc(){for(var t=12,e="";t-- >0;)e+=qRe[62*Math.random()|0];return e}function q3(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Wy(t){return t.classList?q3(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function p$(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gl(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Ky(t){return t.size!==rn.size||t.x!==rn.x||t.y!==rn.y||t.rotate!==rn.rotate||t.flipX||t.flipY}var YRe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function m$(){var t=c$,e=o$,n=U.cssPrefix,r=U.replacementClass,i=YRe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(c,".".concat(r))}return i}var g$=!1;function Qy(){U.autoAddCss&&!g$&&(function GRe(t){if(t&&Un){var e=Oe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Oe.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}Oe.head.insertBefore(e,r)}}(m$()),g$=!0)}var XRe={mixout:function(){return{dom:{css:m$,insertCss:Qy}}},hooks:function(){return{beforeDOMElementCreation:function(){Qy()},beforeI2svg:function(){Qy()}}}},$n=Ar||{};$n[jn]||($n[jn]={}),$n[jn].styles||($n[jn].styles={}),$n[jn].hooks||($n[jn].hooks={}),$n[jn].shims||($n[jn].shims=[]);var x1=$n[jn],v$=[],ql=!1;function Yc(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?p$(t):"<".concat(e," ").concat(function WRe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(p$(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Yc).join(""),"</").concat(e,">")}function _$(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Un&&((ql=(Oe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Oe.readyState))||Oe.addEventListener("DOMContentLoaded",function t(){Oe.removeEventListener("DOMContentLoaded",t),ql=1,v$.map(function(e){return e()})}));var Yy=function(e,n,r,i){var o,l,u,s=Object.keys(e),a=s.length,c=void 0!==i?function(e,n){return function(r,i,s,a){return e.call(n,r,i,s,a)}}(n,i):n;for(void 0===r?(o=1,u=e[s[0]]):(o=0,u=r);o<a;o++)u=c(u,e[l=s[o]],l,e);return u};function Xy(t){var e=function tOe(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function y$(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Jy(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=y$(e);"function"!=typeof x1.hooks.addPack||i?x1.styles[t]=R(R({},x1.styles[t]||{}),s):x1.hooks.addPack(t,y$(e)),"fas"===t&&Jy("fa",e)}var Wl,Kl,Ql,W3=x1.styles,rOe=x1.shims,iOe=(I2(Wl={},Fe,Object.values(Gc[Fe])),I2(Wl,s2,Object.values(Gc[s2])),Wl),Zy=null,C$={},M$={},w$={},V$={},b$={},sOe=(I2(Kl={},Fe,Object.keys(jc[Fe])),I2(Kl,s2,Object.keys(jc[s2])),Kl);var H$=function(){var e=function(s){return Yy(W3,function(a,c,o){return a[o]=Yy(c,s,{}),a},{})};C$=e(function(i,s,a){return s[3]&&(i[s[3]]=a),s[2]&&s[2].filter(function(o){return"number"==typeof o}).forEach(function(o){i[o.toString(16)]=a}),i}),M$=e(function(i,s,a){return i[a]=a,s[2]&&s[2].filter(function(o){return"string"==typeof o}).forEach(function(o){i[o]=a}),i}),b$=e(function(i,s,a){var c=s[2];return i[a]=a,c.forEach(function(o){i[o]=a}),i});var n="far"in W3||U.autoFetchSvg,r=Yy(rOe,function(i,s){var a=s[0],c=s[1],o=s[2];return"far"===c&&!n&&(c="fas"),"string"==typeof a&&(i.names[a]={prefix:c,iconName:o}),"number"==typeof a&&(i.unicodes[a.toString(16)]={prefix:c,iconName:o}),i},{names:{},unicodes:{}});w$=r.names,V$=r.unicodes,Zy=Yl(U.styleDefault,{family:U.familyDefault})};function eC(t,e){return(C$[t]||{})[e]}function Bi(t,e){return(b$[t]||{})[e]}function z$(t){return w$[t]||{prefix:null,iconName:null}}function Nr(){return Zy}(function $Re(t){Kc.push(t)})(function(t){Zy=Yl(t.styleDefault,{family:U.familyDefault})}),H$();var tC=function(){return{prefix:null,iconName:null,rest:[]}};function Yl(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Fe:n;return $c[r][t]||$c[r][jc[r][t]]||(t in x1.styles?t:null)||null}var S$=(I2(Ql={},Fe,Object.keys(Gc[Fe])),I2(Ql,s2,Object.keys(Gc[s2])),Ql);function Xl(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(I2(e={},Fe,"".concat(U.cssPrefix,"-").concat(Fe)),I2(e,s2,"".concat(U.cssPrefix,"-").concat(s2)),e),a=null,c=Fe;(t.includes(s[Fe])||t.some(function(l){return S$[Fe].includes(l)}))&&(c=Fe),(t.includes(s[s2])||t.some(function(l){return S$[s2].includes(l)}))&&(c=s2);var o=t.reduce(function(l,u){var f=function cOe(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function aOe(t){return~FRe.indexOf(t)}(i)?null:i}(U.cssPrefix,u);if(W3[u]?(u=iOe[c].includes(u)?TRe[c][u]:u,a=u,l.prefix=u):sOe[c].indexOf(u)>-1?(a=u,l.prefix=Yl(u,{family:c})):f?l.iconName=f:u!==U.replacementClass&&u!==s[Fe]&&u!==s[s2]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===a?z$(l.iconName):{},h=Bi(l.prefix,l.iconName);d.prefix&&(a=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!W3.far&&W3.fas&&!U.autoFetchSvg&&(l.prefix="fas")}return l},tC());return(t.includes("fa-brands")||t.includes("fab"))&&(o.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(o.prefix="fad"),!o.prefix&&c===s2&&(W3.fass||U.autoFetchSvg)&&(o.prefix="fass",o.iconName=Bi(o.prefix,o.iconName)||o.iconName),("fa"===o.prefix||"fa"===a)&&(o.prefix=Nr()||"fas"),o}var uOe=function(){function t(){(function MRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function wRe(t,e,n){e&&Xj(t.prototype,e),n&&Xj(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(c){n.definitions[c]=R(R({},n.definitions[c]||{}),a[c]),Jy(c,a[c]);var o=Gc[Fe][c];o&&Jy(o,a[c]),H$()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var a=i[s],c=a.prefix,o=a.iconName,l=a.icon,u=l[2];n[c]||(n[c]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[c][f]=l)}),n[c][o]=l}),n}}]),t}(),x$=[],K3={},Q3={},fOe=Object.keys(Q3);function nC(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(K3[t]||[]).forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function Ui(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(K3[t]||[]).forEach(function(s){s.apply(null,n)})}function Gn(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Q3[t]?Q3[t].apply(null,e):void 0}function rC(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Nr();if(e)return e=Bi(n,e)||e,_$(I$.definitions,n,e)||_$(x1.styles,n,e)}var I$=new uOe,pOe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Un?(Ui("beforeI2svg",e),Gn("pseudoElements2svg",e),Gn("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===U.autoReplaceSvg&&(U.autoReplaceSvg=!0),U.observeMutations=!0,function ZRe(t){Un&&(ql?setTimeout(t,0):v$.push(t))}(function(){gOe({autoReplaceSvgRoot:n}),Ui("watch",e)})}},Zt={noAuto:function(){U.autoReplaceSvg=!1,U.observeMutations=!1,Ui("noAuto")},config:U,dom:pOe,parse:{icon:function(e){if(null===e)return null;if("object"===Pl(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Bi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Yl(e[0]);return{prefix:r,iconName:Bi(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(U.cssPrefix,"-"))>-1||e.match(NRe))){var i=Xl(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Nr(),iconName:Bi(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=Nr();return{prefix:s,iconName:Bi(s,e)||e}}}},library:I$,findIconDefinition:rC,toHtml:Yc},gOe=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Oe:n;(Object.keys(x1.styles).length>0||U.autoFetchSvg)&&Un&&U.autoReplaceSvg&&Zt.dom.i2svg({node:r})};function Jl(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Yc(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Un){var r=Oe.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function iC(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,c=t.symbol,o=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=void 0!==d&&d,p=r.found?r:n,g=p.width,v=p.height,C="fak"===i,_=[U.replacementClass,s?"".concat(U.cssPrefix,"-").concat(s):""].filter(function(L2){return-1===f.classes.indexOf(L2)}).filter(function(L2){return""!==L2||!!L2}).concat(f.classes).join(" "),w={children:[],attributes:R(R({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:_,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},I=C&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(w.attributes[Oi]=""),o&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||Qc())},children:[o]}),delete w.attributes.title);var T=R(R({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:a,symbol:c,styles:R(R({},I),f.styles)}),q=r.found&&n.found?Gn("generateAbstractMask",T)||{children:[],attributes:{}}:Gn("generateAbstractIcon",T)||{children:[],attributes:{}},M2=q.attributes;return T.children=q.children,T.attributes=M2,c?function _Oe(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,a=!0===s?"".concat(t.prefix,"-").concat(U.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:R(R({},i),{},{id:a}),children:r}]}]}(T):function vOe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(Ky(a)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=Gl(R(R({},s),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(T)}function E$(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,a=t.extra,c=t.watchable,o=void 0!==c&&c,l=R(R(R({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});o&&(l[Oi]="");var u=R({},a.styles);Ky(i)&&(u.transform=function QRe(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,a=t.startCentered,c=void 0!==a&&a,o="";return o+=c&&a$?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):c?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(o+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=Gl(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var sC=x1.styles;function aC(t){var e=t[0],n=t[1],s=Oy(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(U.cssPrefix,"-").concat(Fi.GROUP)},children:[{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat(Fi.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat(Fi.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var COe={found:!1,width:512,height:512};function cC(t,e){var n=e;return"fa"===e&&null!==U.styleDefault&&(e=Nr()),new Promise(function(r,i){if(Gn("missingIconAbstract"),"fa"===n){var a=z$(t)||{};t=a.iconName||t,e=a.prefix||e}if(t&&e&&sC[e]&&sC[e][t])return r(aC(sC[e][t]));(function MOe(t,e){!u$&&!U.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(R(R({},COe),{},{icon:U.showMissingIcons&&t&&Gn("missingIconAbstract")||{}}))})}var L$=function(){},oC=U.measurePerformance&&Ol&&Ol.mark&&Ol.measure?Ol:{mark:L$,measure:L$},Xc='FA "6.4.2"',D$=function(e){oC.mark("".concat(Xc," ").concat(e," ends")),oC.measure("".concat(Xc," ").concat(e),"".concat(Xc," ").concat(e," begins"),"".concat(Xc," ").concat(e," ends"))},lC={begin:function(e){return oC.mark("".concat(Xc," ").concat(e," begins")),function(){return D$(e)}},end:D$},Zl=function(){};function A$(t){return"string"==typeof(t.getAttribute?t.getAttribute(Oi):null)}function zOe(t){return Oe.createElementNS("http://www.w3.org/2000/svg",t)}function SOe(t){return Oe.createElement(t)}function T$(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?zOe:SOe:n;if("string"==typeof t)return Oe.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])}),(t.children||[]).forEach(function(a){i.appendChild(T$(a,{ceFn:r}))}),i}var e5={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(T$(i),n)}),null===n.getAttribute(Oi)&&U.keepOriginalSource){var r=Oe.createComment(function xOe(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Wy(n).indexOf(U.replacementClass))return e5.replace(e);var i=new RegExp("".concat(U.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(c,o){return o===U.replacementClass||o.match(i)?c.toSvg.push(o):c.toNode.push(o),c},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var a=r.map(function(c){return Yc(c)}).join("\n");n.setAttribute(Oi,""),n.innerHTML=a}};function N$(t){t()}function k$(t,e){var n="function"==typeof e?e:Zl;if(0===t.length)n();else{var r=N$;U.mutateApproach===DRe&&(r=Ar.requestAnimationFrame||N$),r(function(){var i=function HOe(){return!0===U.autoReplaceSvg?e5.replace:e5[U.autoReplaceSvg]||e5.replace}(),s=lC.begin("mutate");t.map(i),s(),n()})}}var uC=!1;function P$(){uC=!0}function fC(){uC=!1}var t5=null;function R$(t){if(s$&&U.observeMutations){var e=t.treeCallback,n=void 0===e?Zl:e,r=t.nodeCallback,i=void 0===r?Zl:r,s=t.pseudoElementsCallback,a=void 0===s?Zl:s,c=t.observeMutationsRoot,o=void 0===c?Oe:c;t5=new s$(function(l){if(!uC){var u=Nr();q3(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!A$(f.addedNodes[0])&&(U.searchPseudoElements&&a(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&U.searchPseudoElements&&a(f.target.parentNode),"attributes"===f.type&&A$(f.target)&&~ORe.indexOf(f.attributeName))if("class"===f.attributeName&&function VOe(t){var e=t.getAttribute?t.getAttribute($y):null,n=t.getAttribute?t.getAttribute(Gy):null;return e&&n}(f.target)){var d=Xl(Wy(f.target)),p=d.iconName;f.target.setAttribute($y,d.prefix||u),p&&f.target.setAttribute(Gy,p)}else(function bOe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(U.replacementClass)})(f.target)&&i(f.target)})}}),Un&&t5.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function O$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function LOe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=Xl(Wy(t));return i.prefix||(i.prefix=Nr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function oOe(t,e){return(M$[t]||{})[e]}(i.prefix,t.innerText)||eC(i.prefix,Xy(t.innerText))),!i.iconName&&U.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,a=function DOe(t){var e=q3(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return U.autoA11y&&(n?e["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(r||Qc()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),c=nC("parseNodeAttributes",{},t),o=e.styleParser?function EOe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),a=s[0],c=s.slice(1);return a&&c.length>0&&(r[a]=c.join(":").trim()),r},{})),n}(t):[];return R({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:rn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:a}},c)}var TOe=x1.styles;function F$(t){var e="nest"===U.autoReplaceSvg?O$(t,{styleParser:!1}):O$(t);return~e.extra.classes.indexOf(f$)?Gn("generateLayersText",t,e):Gn("generateSvgReplacementMutation",t,e)}var kr=new Set;function B$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Un)return Promise.resolve();var n=Oe.documentElement.classList,r=function(f){return n.add("".concat(l$,"-").concat(f))},i=function(f){return n.remove("".concat(l$,"-").concat(f))},s=U.autoFetchSvg?kr:qy.map(function(u){return"fa-".concat(u)}).concat(Object.keys(TOe));s.includes("fa")||s.push("fa");var a=[".".concat(f$,":not([").concat(Oi,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Oi,"])")})).join(", ");if(0===a.length)return Promise.resolve();var c=[];try{c=q3(t.querySelectorAll(a))}catch{}if(!(c.length>0))return Promise.resolve();r("pending"),i("complete");var o=lC.begin("onTree"),l=c.reduce(function(u,f){try{var d=F$(f);d&&u.push(d)}catch(h){u$||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){k$(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),o(),u()})}).catch(function(d){o(),f(d)})})}function NOe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;F$(t).then(function(n){n&&k$([n],e)})}function kOe(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:rC(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:rC(i||{})),t(r,R(R({},n),{},{mask:i}))}}qy.map(function(t){kr.add("fa-".concat(t))}),Object.keys(jc[Fe]).map(kr.add.bind(kr)),Object.keys(jc[s2]).map(kr.add.bind(kr)),kr=Bc(kr);var POe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?rn:r,s=n.symbol,a=void 0!==s&&s,c=n.mask,o=void 0===c?null:c,l=n.maskId,u=void 0===l?null:l,f=n.title,d=void 0===f?null:f,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,C=n.attributes,_=void 0===C?{}:C,w=n.styles,I=void 0===w?{}:w;if(e){var T=e.prefix,q=e.iconName,fe=e.icon;return Jl(R({type:"icon"},e),function(){return Ui("beforeDOMElementCreation",{iconDefinition:e,params:n}),U.autoA11y&&(d?_["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(p||Qc()):(_["aria-hidden"]="true",_.focusable="false")),iC({icons:{main:aC(fe),mask:o?aC(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:T,iconName:q,transform:R(R({},rn),i),symbol:a,title:d,maskId:u,titleId:p,extra:{attributes:_,styles:I,classes:v}})})}},ROe={mixout:function(){return{icon:kOe(POe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=B$,n.nodeCallback=NOe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return B$(void 0===r?Oe:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,a=r.titleId,c=r.prefix,o=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([cC(i,c),u.iconName?cC(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=Oy(g,2);h([n,iC({icons:{main:v[0],mask:v[1]},prefix:c,iconName:i,transform:o,symbol:l,maskId:f,title:s,titleId:a,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,a=n.transform,o=Gl(n.styles);return o.length>0&&(i.style=o),Ky(a)&&(l=Gn("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},OOe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return Jl({type:"layer"},function(){Ui("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(c){Array.isArray(c)?c.map(function(o){a=a.concat(o.abstract)}):a=a.concat(c.abstract)}),[{tag:"span",attributes:{class:["".concat(U.cssPrefix,"-layers")].concat(Bc(s)).join(" ")},children:a}]})}}}},FOe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,a=r.classes,c=void 0===a?[]:a,o=r.attributes,l=void 0===o?{}:o,u=r.styles,f=void 0===u?{}:u;return Jl({type:"counter",content:n},function(){return Ui("beforeDOMElementCreation",{content:n,params:r}),function yOe(t){var e=t.content,n=t.title,r=t.extra,i=R(R(R({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Gl(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(U.cssPrefix,"-layers-counter")].concat(Bc(c))}})})}}}},BOe={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?rn:i,a=r.title,c=void 0===a?null:a,o=r.classes,l=void 0===o?[]:o,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return Jl({type:"text",content:n},function(){return Ui("beforeDOMElementCreation",{content:n,params:r}),E$({content:n,transform:R(R({},rn),s),title:c,extra:{attributes:f,styles:h,classes:["".concat(U.cssPrefix,"-layers-text")].concat(Bc(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,a=r.extra,c=null,o=null;if(a$){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();c=u.width/l,o=u.height/l}return U.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,E$({content:n.innerHTML,width:c,height:o,transform:s,title:i,extra:a,watchable:!0})])}}},UOe=new RegExp('"',"ug"),U$=[1105920,1112319];function j$(t,e){var n="".concat(LRe).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var a=q3(t.children).filter(function(fe){return fe.getAttribute(jy)===e})[0],c=Ar.getComputedStyle(t,e),o=c.getPropertyValue("font-family").match(kRe),l=c.getPropertyValue("font-weight"),u=c.getPropertyValue("content");if(a&&!o)return t.removeChild(a),r();if(o&&"none"!==u&&""!==u){var f=c.getPropertyValue("content"),d=~["Sharp"].indexOf(o[2])?s2:Fe,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(o[2])?$c[d][o[2].toLowerCase()]:PRe[d][l],p=function jOe(t){var e=t.replace(UOe,""),n=function nOe(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=U$[0]&&n<=U$[1],i=2===e.length&&e[0]===e[1];return{value:Xy(i?e[0]:e),isSecondary:r||i}}(f),g=p.value,v=p.isSecondary,C=o[0].startsWith("FontAwesome"),_=eC(h,g),w=_;if(C){var I=function lOe(t){var e=V$[t],n=eC("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);I.iconName&&I.prefix&&(_=I.iconName,h=I.prefix)}if(!_||v||a&&a.getAttribute($y)===h&&a.getAttribute(Gy)===w)r();else{t.setAttribute(n,w),a&&t.removeChild(a);var T=function AOe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:rn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),q=T.extra;q.attributes[jy]=e,cC(_,h).then(function(fe){var M2=iC(R(R({},T),{},{icons:{main:fe,mask:tC()},prefix:h,iconName:w,extra:q,watchable:!0})),L2=Oe.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(L2,t.firstChild):t.appendChild(L2),L2.outerHTML=M2.map(function(no){return Yc(no)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function $Oe(t){return Promise.all([j$(t,"::before"),j$(t,"::after")])}function GOe(t){return!(t.parentNode===document.head||~ARe.indexOf(t.tagName.toUpperCase())||t.getAttribute(jy)||t.parentNode&&"svg"===t.parentNode.tagName)}function $$(t){if(Un)return new Promise(function(e,n){var r=q3(t.querySelectorAll("*")).filter(GOe).map($Oe),i=lC.begin("searchPseudoElements");P$(),Promise.all(r).then(function(){i(),fC(),e()}).catch(function(){i(),fC(),n()})})}var G$=!1,q$=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),a=s[0],c=s.slice(1).join("-");if(a&&"h"===c)return r.flipX=!0,r;if(a&&"v"===c)return r.flipY=!0,r;if(c=parseFloat(c),isNaN(c))return r;switch(a){case"grow":r.size=r.size+c;break;case"shrink":r.size=r.size-c;break;case"left":r.x=r.x-c;break;case"right":r.x=r.x+c;break;case"up":r.y=r.y-c;break;case"down":r.y=r.y+c;break;case"rotate":r.rotate=r.rotate+c}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},dC={x:0,y:0,width:"100%",height:"100%"};function W$(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function QOe(t){return"g"===t.tag?t.children:[t]}var YOe={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?Xl(i.split(" ").map(function(a){return a.trim()})):tC();return s.prefix||(s.prefix=Nr()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.mask,c=n.maskId,u=s.icon,d=a.icon,h=function KRe(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(c)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:a.width,iconWidth:s.width}),p={tag:"rect",attributes:R(R({},dC),{},{fill:"white"})},g=u.children?{children:u.children.map(W$)}:{},v={tag:"g",attributes:R({},h.inner),children:[W$(R({tag:u.tag,attributes:R(R({},u.attributes),h.path)},g))]},C={tag:"g",attributes:R({},h.outer),children:[v]},_="mask-".concat(c||Qc()),w="clip-".concat(c||Qc()),I={tag:"mask",attributes:R(R({},dC),{},{id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,C]},T={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:QOe(d)},I]};return r.push(T,{tag:"rect",attributes:R({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(_,")")},dC)}),{children:r,attributes:i}}}};!function dOe(t,e){var n=e.mixoutsTo;x$=t,K3={},Object.keys(Q3).forEach(function(r){-1===fOe.indexOf(r)&&delete Q3[r]}),x$.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){"function"==typeof i[a]&&(n[a]=i[a]),"object"===Pl(i[a])&&Object.keys(i[a]).forEach(function(c){n[a]||(n[a]={}),n[a][c]=i[a][c]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(a){K3[a]||(K3[a]=[]),K3[a].push(s[a])})}r.provides&&r.provides(Q3)})}([XRe,ROe,OOe,FOe,BOe,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=$$,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;U.searchPseudoElements&&$$(void 0===r?Oe:r)}}},{mixout:function(){return{dom:{unwatch:function(){P$(),G$=!0}}}},hooks:function(){return{bootstrap:function(){R$(nC("mutationObserverCallbacks",{}))},noAuto:function(){!function IOe(){t5&&t5.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;G$?fC():R$(nC("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return q$(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=q$(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,a=n.iconWidth,c={transform:"translate(".concat(n.containerWidth/2," 256)")},o="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:c,inner:{transform:"".concat(o," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:R({},h.outer),children:[{tag:"g",attributes:R({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:R(R({},r.icon.attributes),h.path)}]}]}}}},YOe,{provides:function(e){var n=!1;Ar.matchMedia&&(n=Ar.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:R(R({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=R(R({},s),{},{attributeName:"opacity"}),c={tag:"circle",attributes:R(R({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||c.children.push({tag:"animate",attributes:R(R({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:R(R({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(c),r.push({tag:"path",attributes:R(R({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:R(R({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:R(R({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:R(R({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:Zt});var eFe=Zt.parse,tFe=Zt.icon;const nFe=["*"],sFe=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let oFe=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),hC=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(a=>i[a]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),lFe=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[t1]}),e})(),uFe=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(At))},t.\u0275cmp=D1({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[t1],ngContentSelectors:nFe,decls:1,vars:0,template:function(r,i){1&r&&(function tH(t){const e=V()[o2][tt];if(!e.projection){const r=e.projection=gs(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const a=t?pee(s,t):0;null!==a&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}(),function nH(t,e=0,n){const r=V(),i=he(),s=M4(i,ce+t,16,null,n||null);null===s.projection&&(s.projection=e),Z5(),(!r[ln]||t4())&&32!=(32&s.flags)&&function _X(t,e,n){fV(e[ee],0,e,n,x7(t,n,e),sV(n.parent||e[tt],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),K$=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,a,c){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=a,this.classes=[],null!=c&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const a=this.buildParams();this.renderIcon(s,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?eFe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...sFe(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=tFe(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Sx),z(oFe),z(hC),z(lFe,8),z(uFe,8))},t.\u0275cmp=D1({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Eu("innerHTML",i.renderedIconHTML,bV),U1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[t1],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),n5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({}),e})(),fFe=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Rs("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function dFe(t,e){if(1&t&&(E(0,"span",13),te(1),g2(2,"async"),F()),2&t){const n=Xe();k(1),Je(Wt(2,1,n.fleetOrdersNotification))}}const ji=function(){return{color:"#eee"}},hFe=function(){return["fas","house-chimney"]},pFe=function(){return["fas","earth-americas"]},mFe=function(){return["fas","satellite-dish"]},gFe=function(){return["fas","jet-fighter-up"]},vFe=function(){return["fas","chess-board"]},_Fe=function(){return["fas","flask-vial"]},yFe=function(){return["fas","hand-fist"]};let CFe=(()=>{var t;class e{constructor(r){this.renderer=O(mn),this.badgeService=O(Wj),this.dgAPI=O(S1),this.changeDetection=O(Xs),this.authService=O($3),r.addIcons(c9,aa,fD,xT,GE,KI,I9),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new Ye(s=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),s,this.changeDetection)})),this.changeDetection.detectChanges()})}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(hC))},t.\u0275cmp=D1({type:t,selectors:[["dgt-navbar"]],decls:39,vars:45,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"],[1,"notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),Ie(4,"fa-icon",4),E(5,"span",5),te(6,"home"),F()()(),E(7,"li",2)(8,"a",6),Ie(9,"fa-icon",4),E(10,"span",5),te(11,"planets"),F()()(),E(12,"li",2)(13,"a",7),Ie(14,"fa-icon",4),E(15,"span",5),te(16,"radar"),F()()(),E(17,"li",2),at(18,dFe,3,3,"span",8),g2(19,"async"),E(20,"a",9),Ie(21,"fa-icon",4),E(22,"span",5),te(23,"fleets"),F()()(),E(24,"li",2)(25,"a",10),Ie(26,"fa-icon",4),E(27,"span",5),te(28,"navigation"),F()()(),E(29,"li",2)(30,"a",11),Ie(31,"fa-icon",4),E(32,"span",5),te(33,"research"),F()()(),E(34,"li",2)(35,"a",12),Ie(36,"fa-icon",4),E(37,"span",5),te(38,"alliances"),F()()()()()),2&r&&(k(2),G("tabName","home"),k(2),q2(z2(31,ji)),G("icon",z2(32,hFe)),k(3),G("tabName","planets"),k(2),q2(z2(33,ji)),G("icon",z2(34,pFe)),k(3),G("tabName","radar"),k(2),q2(z2(35,ji)),G("icon",z2(36,mFe)),k(3),G("tabName","fleets"),k(1),G("ngIf",i.active&&Wt(19,29,i.fleetOrdersNotification)),k(3),q2(z2(37,ji)),G("icon",z2(38,gFe)),k(3),G("tabName","navigation"),k(2),q2(z2(39,ji)),G("icon",z2(40,vFe)),k(3),G("tabName","research"),k(2),q2(z2(41,ji)),G("icon",z2(42,_Fe)),k(3),G("tabName","alliances"),k(2),q2(z2(43,ji)),G("icon",z2(44,yFe)))},dependencies:[ni,K$,fFe,s0],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const d1_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let MFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t,bootstrap:[CFe]}),t.\u0275inj=m2({providers:[Wj],imports:[ri,n5,$4(()=>q4(d1_firebase)),e3(()=>t3()),F3(()=>U3()),K4(()=>Q4(G4(),{provider:new ur(d1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class wFe{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class VFe{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class Q${constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class Y${constructor(){this._resources=new VFe,this._workers=new Q$,this._soldiers=new Q$}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var E2=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(E2||{});let X$=(()=>{var t;class e{constructor(){this.dgAPI=O(S1)}extractStats(){let r=new wFe;return r.stats.set(E2.ALL,new Y$),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new Y$),r.stats.get(E2.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(E2.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(E2.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(E2.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(E2.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case E2.METAL:r.stats.get(E2.ALL).resources.metalStored+=s.stored,r.stats.get(E2.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case E2.MINERAL:r.stats.get(E2.ALL).resources.mineralStored+=s.stored,r.stats.get(E2.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case E2.FOOD:r.stats.get(E2.ALL).resources.foodStored+=s.stored,r.stats.get(E2.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case E2.ENERGY:r.stats.get(E2.ALL).resources.energyStored+=s.stored,r.stats.get(E2.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bFe=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=D2({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),pC=(()=>{var t;class e{constructor(){this.decimalPipe=O(P4)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=D2({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const HFe=function(t){return{"dgt-stats-totals-last-row":t}},h1=function(t){return{"dgt-padding-bottom-xs":t}};function zFe(t,e){if(1&t&&(E(0,"tr",4)(1,"th",5),te(2),g2(3,"galaxyNameFormatter"),F(),E(4,"td",6)(5,"div",7),Ie(6,"img",8),E(7,"span",9),te(8),g2(9,"number"),F()()(),E(10,"td",10)(11,"div",7)(12,"span",9),te(13),g2(14,"resourceProductionFormatter"),F()()(),E(15,"td",11)(16,"div",12),Ie(17,"img",13),E(18,"span",9),te(19),g2(20,"number"),F()()(),E(21,"td",10)(22,"div",12)(23,"span",9),te(24),g2(25,"resourceProductionFormatter"),F()()(),E(26,"td",11)(27,"div",14),Ie(28,"img",15),E(29,"span",9),te(30),g2(31,"number"),F()()(),E(32,"td",10)(33,"div",14)(34,"span",9),te(35),g2(36,"resourceProductionFormatter"),F()()(),E(37,"td",11)(38,"div",16),Ie(39,"img",17),E(40,"span",9),te(41),g2(42,"number"),F()()(),E(43,"td",18)(44,"div",16)(45,"span",9),te(46),g2(47,"resourceProductionFormatter"),F()()(),E(48,"td",19)(49,"div",20),Ie(50,"img",21),E(51,"span",9),te(52),g2(53,"number"),F()()(),E(54,"td",22)(55,"div",23),Ie(56,"img",24),E(57,"span",9),te(58),g2(59,"number"),F()()(),E(60,"td",25)(61,"div",26),Ie(62,"img",27),E(63,"span",9),te(64),g2(65,"number"),F()()()()),2&t){const n=e.$implicit,r=e.index,i=Xe();G("ngClass",Nt(63,HFe,r==i.panel.stats.size-1)),k(1),G("ngClass",Nt(65,h1,r==i.panel.stats.size-2)),k(1),Je(Wt(3,25,n.key)),k(2),G("ngClass",Nt(67,h1,r==i.panel.stats.size-2)),k(4),Je(rr(9,27,n.value.resources.metalStored,"1.0","en-US")),k(2),G("ngClass",Nt(69,h1,r==i.panel.stats.size-2)),k(3),Je(Wt(14,31,n.value.resources.metalProduction)),k(2),G("ngClass",Nt(71,h1,r==i.panel.stats.size-2)),k(4),Je(rr(20,33,n.value.resources.mineralStored,"1.0","en-US")),k(2),G("ngClass",Nt(73,h1,r==i.panel.stats.size-2)),k(3),Je(Wt(25,37,n.value.resources.mineralProduction)),k(2),G("ngClass",Nt(75,h1,r==i.panel.stats.size-2)),k(4),Je(rr(31,39,n.value.resources.foodStored,"1.0","en-US")),k(2),G("ngClass",Nt(77,h1,r==i.panel.stats.size-2)),k(3),Je(Wt(36,43,n.value.resources.foodProduction)),k(2),G("ngClass",Nt(79,h1,r==i.panel.stats.size-2)),k(4),Je(rr(42,45,n.value.resources.energyStored,"1.0","en-US")),k(2),G("ngClass",Nt(81,h1,r==i.panel.stats.size-2)),k(3),Je(Wt(47,49,n.value.resources.energyProduction)),k(2),G("ngClass",Nt(83,h1,r==i.panel.stats.size-2)),k(4),Je(rr(53,51,n.value.resources.ground,"1.0","en-US")),k(2),G("ngClass",Nt(85,h1,r==i.panel.stats.size-2)),k(4),Je(rr(59,55,n.value.resources.orbit,"1.0","en-US")),k(2),G("ngClass",Nt(87,h1,r==i.panel.stats.size-2)),k(4),Je(rr(65,59,n.value.soldiers.total,"1.0","en-US"))}}let SFe=(()=>{var t;class e{constructor(){this.statsPanelService=O(X$)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"table",2),at(3,zFe,66,89,"tr",3),g2(4,"keyvalue"),F()()()),2&r&&(k(3),G("ngForOf",Wt(4,1,i.panel.stats)))},dependencies:[Sf,r0,P4,sx,bFe,pC],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #626262;height:15px;width:15px;vertical-align:middle}"]}),e})(),xFe=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t,bootstrap:[SFe]}),t.\u0275inj=m2({providers:[P4,X$,S1],imports:[ri,n5]}),e})(),J$=(()=>{var t;class e{constructor(){this.firestore=O(Fn),this.dgAPI=O(S1)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=Bn(this.firestore,"scans");B3(j3(i,Dr("location","==",r.planetScan.location),Gj(1)),{idField:"id"}).forEach(s=>{let a=Object.assign(new Qj,s[0]);a.location=r.planetScan.location,a.turn=r.planetScan.turn,a.owner=r.planetScan.owner,(r.type==ht.RESOURCE||r.type==ht.SURFACE)&&(a.orbit=r.planetScan.orbit,a.ground=r.planetScan.ground),r.type==ht.RESOURCE&&(a.resources.length>0?a.resources.forEach((c,o)=>{c.abundance=r.planetScan.resources[o].abundance,c.name=r.planetScan.resources[o].name}):a.resources=r.planetScan.resources),r.type==ht.SURFACE&&(a.resources=r.planetScan.resources,a.workers=r.planetScan.workers,a.soldiers=r.planetScan.soldiers,a.structures=r.planetScan.structures),r.type==ht.FLEET&&(a.fleets=r.planetScan.fleets),0==s.length?$j(i,JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}):qj(Ty(i,a.id),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function IFe(t,e){1&t&&(E(0,"p",1),te(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),F())}let EFe=(()=>{var t;class e{constructor(){this.scanService=O(J$),this.authService=O($3),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&at(0,IFe,2,0,"p",0),2&r&&G("ngIf",i.active)},dependencies:[ni]}),e})(),LFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t,bootstrap:[EFe]}),t.\u0275inj=m2({providers:[J$,S1],imports:[ri,$4(()=>q4(d1_firebase)),e3(()=>t3()),F3(()=>U3()),K4(()=>Q4(G4(),{provider:new ur(d1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),Z$=(()=>{var t;class e{constructor(){this.firestore=O(Fn),this.dgAPI=O(S1),this.resourceProductionFormatterPipe=O(pC),this.decimalPipe=O(P4)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));B3(j3(Bn(this.firestore,"scans"),Dr("location","in",i))).forEach(s=>{let c=Object.assign([],s).reduce((o,l)=>o.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(o=>{let l=o.querySelector("div.coords > span").textContent.trim(),u=c.get(l);if(o.querySelector(".dgt-navigation-scan-turn").style.display="contents",o.querySelector("img:first-child").style.filter="grayscale(100%)",u){o.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(u.turn,"1.0","en_US"),u.resources.forEach(h=>{o.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",o.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let f=u.structures.map(h=>h.name);f.includes(Ae.JUMP_GATE)&&(o.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),f.includes(Ae.HYPERSPACE_BEACON)&&(o.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),f.includes(Ae.LIGHT_WEAPONS_FACTORY)&&(o.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),f.includes(Ae.HEAVY_WEAPONS_FACTORY)&&(o.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),f.includes(Ae.SHIP_YARD)&&(o.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),f.includes(Ae.SPACE_DOCK)&&(o.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),f.includes(Ae.HOLO_GENERATOR)&&(o.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),f.includes(Ae.ARMY_BARRACKS)&&(o.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),f.includes(Ae.COMMS_SATELLITE)&&(o.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let d=1;if(f.includes(Ae.MEDICAL_CENTRE)&&(d+=.3),f.includes(Ae.LEISURE_CENTRE)&&(d+=.4),f.includes(Ae.HOSPITAL)&&(d+=.3),u.workers.currentNumber>0||u.soldiers>0){o.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),o.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(d,"1.0","en_US"),o.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;o.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),o.querySelector(".dgt-navigation-scan-population").style.display="",o.querySelector(".dgt-navigation-scan-structures").style.display=""}}else o.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",o.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DFe(t,e){1&t&&(E(0,"p",1),te(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),F())}let AFe=(()=>{var t;class e{constructor(){this.scanService=O(Z$),this.authService=O($3),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&at(0,DFe,2,0,"p",0),2&r&&G("ngIf",i.active)},dependencies:[ni]}),e})(),TFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t,bootstrap:[AFe]}),t.\u0275inj=m2({providers:[P4,pC,Z$,S1],imports:[ri,$4(()=>q4(d1_firebase)),e3(()=>t3()),F3(()=>U3()),K4(()=>Q4(G4(),{provider:new ur(d1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function NFe(t,e){if(1&t){const n=tr();E(0,"div",2)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"span"),te(6,"DGT Login"),F()()(),E(7,"tr",4)(8,"td"),Ie(9,"input",5,6),F(),E(11,"td"),Ie(12,"input",7,8),F()(),E(14,"tr",9)(15,"td",3)(16,"button",10),je("click",function(){n1(n);const i=Vu(10),s=Vu(13);return r1(Xe().signInWithEmailAndPassword(i.value,s.value,!0))}),te(17,"Login"),F(),E(18,"button",11),je("click",function(){return n1(n),r1(Xe().signInWithGoogle(!0))}),Ie(19,"img",12),F()()()()()()}}function kFe(t,e){if(1&t){const n=tr();E(0,"div",13)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"button",14),je("click",function(){return n1(n),r1(Xe().signOut(!0))}),te(6,"Logout"),F()()()()()()}}let PFe=(()=>{var t;class e{constructor(){this.authService=O($3),this.auth=O(f8),this.firestore=O(Fn),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore)}signInWithEmailAndPassword(r,i,s){this.authService.signInWithEmailAndPassword(this.auth,r,i,s)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}displayLogin(){return null==localStorage.getItem("user")&&!this.authService.refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"],["id","dgt-logout",1,"logout"],[1,"dgt-logout-button",3,"click"]],template:function(r,i){1&r&&(at(0,NFe,20,0,"div",0),at(1,kFe,7,0,"div",1)),2&r&&(G("ngIf",i.displayLogin()),k(1),G("ngIf",!i.displayLogin()))},dependencies:[ni],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),RFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t,bootstrap:[PFe]}),t.\u0275inj=m2({imports:[ri,$4(()=>q4(d1_firebase)),e3(()=>t3()),F3(()=>U3()),K4(()=>Q4(G4(),{provider:new ur(d1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),eG=(()=>{var t;class e{constructor(){this.firestore=O(Fn)}updateOrder(r){let i=Bn(this.firestore,"orders");$j(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){fRe(Ty(Bn(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,a){let c=Bn(this.firestore,"orders");B3(j3(c,Dr("user","==",r),dRe("executed","asc")),{idField:"id"}).forEach(o=>{let l=Object.assign([],o);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges()}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class OFe{get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target}}}var yC={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},i5={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};const{isArray:Qje}=Array,{getPrototypeOf:Yje,prototype:Xje,keys:Jje}=Object;const{isArray:t$e}=Array;function i$e(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function s$e(...t){const e=function HK(t){return Be(z5(t))?t.pop():void 0}(t),{args:n,keys:r}=function Zje(t){if(1===t.length){const e=t[0];if(Qje(e))return{args:e,keys:null};if(function e$e(t){return t&&"object"==typeof t&&Yje(t)===Xje}(e)){const n=Jje(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new Ye(s=>{const{length:a}=n;if(!a)return void s.complete();const c=new Array(a);let o=a,l=a;for(let u=0;u<a;u++){let f=!1;E1(n[u]).subscribe(an(s,d=>{f||(f=!0,l--),c[u]=d},()=>o--,void 0,()=>{(!o||!f)&&(l||s.next(r?i$e(r,c):c),s.complete())}))}});return e?i.pipe(function r$e(t){return Z3(e=>function n$e(t,e){return t$e(e)?t(...e):t(e)}(t,e))}(e)):i}let Hq=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(At))},t.\u0275dir=K({type:t}),e})(),$i=(()=>{var t;class e extends Hq{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function nt(t){return cn(()=>{const e=t.prototype.constructor,n=e[on]||f7(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[on]||f7(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275dir=K({type:t,features:[we]}),e})();const sn=new $("NgValueAccessor"),c$e={provide:sn,useExisting:Se(()=>s5),multi:!0},l$e=new $("CompositionEventMode");let s5=(()=>{var t;class e extends Hq{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function o$e(){const t=Zs()?Zs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(At),z(l$e,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&je("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[$e([c$e]),we]}),e})();const pt=new $("NgValidators"),Rr=new $("NgAsyncValidators");function kq(t){return null!=t}function Pq(t){return E6(t)?S5(t):t}function Rq(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Oq(t,e){return e.map(n=>n(t))}function Fq(t){return t.map(e=>function f$e(t){return!t.validate}(e)?e:n=>e.validate(n))}function MC(t){return null!=t?function Bq(t){if(!t)return null;const e=t.filter(kq);return 0==e.length?null:function(n){return Rq(Oq(n,e))}}(Fq(t)):null}function wC(t){return null!=t?function Uq(t){if(!t)return null;const e=t.filter(kq);return 0==e.length?null:function(n){return s$e(Oq(n,e).map(Pq)).pipe(Z3(Rq))}}(Fq(t)):null}function jq(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function VC(t){return t?Array.isArray(t)?t:[t]:[]}function c5(t,e){return Array.isArray(t)?t.includes(e):t===e}function qq(t,e){const n=VC(e);return VC(t).forEach(i=>{c5(n,i)||n.push(i)}),n}function Wq(t,e){return VC(e).filter(n=>!c5(t,n))}class Kq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class zt extends Kq{get formDirective(){return null}get path(){return null}}class Or extends Kq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qq{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yq=(()=>{var t;class e extends Qq{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Or,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Rs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]}),e})(),Xq=(()=>{var t;class e extends Qq{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(zt,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Rs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[we]}),e})();const Jc="VALID",l5="INVALID",Y3="PENDING",Zc="DISABLED";function zC(t){return(u5(t)?t.validators:t)||null}function SC(t,e){return(u5(e)?e.asyncValidators:t)||null}function u5(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class tW{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jc}get invalid(){return this.status===l5}get pending(){return this.status==Y3}get disabled(){return this.status===Zc}get enabled(){return this.status!==Zc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qq(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qq(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wq(e,this._rawAsyncValidators))}hasValidator(e){return c5(this._rawValidators,e)}hasAsyncValidator(e){return c5(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Y3,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jc||this.status===Y3)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zc:Jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Y3,this._hasOwnPendingAsyncValidator=!0;const n=Pq(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new W2,this.statusChanges=new W2}_calculateStatus(){return this._allControlsDisabled()?Zc:this.errors?l5:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Y3)?Y3:this._anyControlsHaveStatus(l5)?l5:Jc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){u5(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function m$e(t){return Array.isArray(t)?MC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function g$e(t){return Array.isArray(t)?wC(t):t||null}(this._rawAsyncValidators)}}class xC extends tW{constructor(e,n,r){super(zC(n),SC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function eW(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Zq(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const X3=new $("CallSetDisabledState",{providedIn:"root",factory:()=>f5}),f5="always";function eo(t,e,n=f5){IC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function y$e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nW(t,e)})}(t,e),function M$e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function C$e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nW(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function _$e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function p5(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function IC(t,e){const n=function $q(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(jq(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Gq(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(jq(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();p5(e._rawValidators,i),p5(e._rawAsyncValidators,i)}function nW(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const z$e={provide:zt,useExisting:Se(()=>g5)},to=(()=>Promise.resolve())();let g5=(()=>{var t;class e extends zt{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new W2,this.form=new xC({},MC(r),wC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){to.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),eo(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){to.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){to.then(()=>{const i=this._findContainer(r.path),s=new xC({});(function rW(t,e){IC(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){to.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){to.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function iW(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(z(pt,10),z(Rr,10),z(X3,8))},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&je("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([z$e]),we]}),e})();function sW(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function aW(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const cW=class extends tW{constructor(e=null,n,r){super(zC(n),SC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),u5(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=aW(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){aW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},I$e={provide:Or,useExisting:Se(()=>AC)},uW=(()=>Promise.resolve())();let AC=(()=>{var t;class e extends Or{constructor(r,i,s,a,c,o){super(),this._changeDetectorRef=c,this.callSetDisabledState=o,this.control=new cW,this._registered=!1,this.name="",this.update=new W2,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function DC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===s5?n=s:function b$e(t){return Object.getPrototypeOf(t.constructor)===$i}(s)?r=s:i=s}),i||r||n||null}(0,a)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function LC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){uW.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function mf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);uW.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function d5(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(z(zt,9),z(pt,10),z(Rr,10),z(sn,10),z(Xs,8),z(X3,8))},t.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([I$e]),we,t1]}),e})(),fW=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),hW=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({}),e})(),Z$e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({imports:[hW]}),e})(),tGe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:X3,useValue:r.callSetDisabledState??f5}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t}),t.\u0275inj=m2({imports:[Z$e]}),e})(),nGe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(At))},t.\u0275dir=K({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&je("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),rGe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(At))},t.\u0275dir=K({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&je("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),iGe=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=D2({name:"kickMemberFormatter",type:t,pure:!0}),e})(),sGe=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=D2({name:"updateNoteFormatter",type:t,pure:!0}),e})();const LW=function(){return["far","circle-xmark"]};function aGe(t,e){if(1&t){const n=tr();E(0,"div",20)(1,"form",21,22),je("ngSubmit",function(i){return n1(n),r1(Xe(2).onSubmitKickMember(i))}),Ie(3,"input",23),g2(4,"kickMemberFormatter"),E(5,"button",24),Ie(6,"fa-icon",18),F()()()}if(2&t){const n=Xe().$implicit;k(3),Ps("name",Wt(4,2,n.dgId)),k(3),G("icon",z2(4,LW))}}function cGe(t,e){if(1&t&&(E(0,"span",25),te(1),F()),2&t){const n=Xe().$implicit;k(1),Fs("[",n.kickEta,"]")}}function oGe(t,e){if(1&t&&(E(0,"span",26),te(1),F()),2&t){const n=Xe().$implicit;k(1),Fs("[note: ",n.note,"]")}}const DW=function(){return["far","circle-right"]};function lGe(t,e){if(1&t){const n=tr();E(0,"div",27)(1,"span",28),te(2,"Note:"),F(),E(3,"form",29,22),je("ngSubmit",function(i){return n1(n),r1(Xe(2).onSubmitUpdateNote(i))}),g2(5,"updateNoteFormatter"),Ie(6,"input",30),E(7,"button",24),Ie(8,"fa-icon",18),F()()()}if(2&t){const n=Xe().$implicit;k(3),Ps("action",Wt(5,3,n.dgId),R7),k(3),Ps("value",n.note),k(2),G("icon",z2(5,DW))}}const uGe=function(t,e){return{executed:t,"in-progress":e}};function fGe(t,e){if(1&t){const n=tr();E(0,"div",33)(1,"div",10)(2,"span",28),te(3,"Target:"),F(),E(4,"span",34),te(5),F()(),E(6,"div",12)(7,"span",28),te(8,"Wait:"),F(),E(9,"span",34),te(10),F()(),E(11,"div",14)(12,"span",28),te(13,"Instructions:"),F(),E(14,"span",34),te(15),F()(),E(16,"div",35)(17,"button",17),je("click",function(){const s=n1(n).$implicit;return r1(Xe(3).deleteOrder(s.id))}),Ie(18,"fa-icon",18),F()()()}if(2&t){const n=e.$implicit;G("ngClass",Hz(5,uGe,n.executed,!n.executed)),k(5),Je(n.target),k(5),Je(n.wait),k(5),Je(n.instructions),k(3),G("icon",z2(8,LW))}}function dGe(t,e){if(1&t&&(E(0,"div",31),at(1,fGe,19,9,"div",32),g2(2,"async"),F()),2&t){const n=Xe().$implicit,r=Xe();k(1),G("ngForOf",Wt(2,1,r.orders.get(n.name.toLowerCase())))}}function hGe(t,e){if(1&t){const n=tr();E(0,"div",2)(1,"div",3)(2,"span",4),te(3),F(),at(4,aGe,7,5,"div",5),at(5,cGe,2,1,"span",6),at(6,oGe,2,1,"span",7),at(7,lGe,9,6,"div",8),F(),E(8,"div",9)(9,"div",10)(10,"span",10),te(11,"Target:"),F(),E(12,"input",11),je("ngModelChange",function(i){const a=n1(n).index;return r1(Xe().controls.target[a]=i)}),F()(),E(13,"div",12)(14,"span",12),te(15,"Wait:"),F(),E(16,"input",13),je("ngModelChange",function(i){const a=n1(n).index;return r1(Xe().controls.wait[a]=i)}),F()(),E(17,"div",14)(18,"span",14),te(19,"Instructions:"),F(),E(20,"textarea",15),je("ngModelChange",function(i){const a=n1(n).index;return r1(Xe().controls.instructions[a]=i)}),F()(),E(21,"div",16)(22,"button",17),je("click",function(){const s=n1(n).index;return r1(Xe().createOrder(s))}),Ie(23,"fa-icon",18),F()()(),at(24,dGe,3,3,"div",19),F()}if(2&t){const n=e.$implicit,r=e.index,i=Xe();k(3),Je(n.name),k(1),G("ngIf",null==n.kickEta&&null!=n.dgId),k(1),G("ngIf",null!=n.kickEta),k(1),G("ngIf",null!=n.note&&null==n.dgId),k(1),G("ngIf",null!=n.dgId),k(5),G("ngModel",i.controls.target[r]),k(4),G("ngModel",i.controls.wait[r]),k(4),G("ngModel",i.controls.instructions[r]),k(3),G("icon",z2(10,DW)),k(1),G("ngIf",i.orders.size>0)}}let pGe=(()=>{var t;class e{constructor(r){this.orderService=O(eG),this.dgAPI=O(S1),this.authService=O($3),this.changeDetection=O(Xs),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(i5,yC),this.authService.authState.subscribe(i=>{i.status&&i.role===Ry.ADMIN&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.allianceMembers.forEach(s=>{this.orders.set(s.name.toLowerCase(),new Ye(a=>{this.orderService.getAllOrders(s.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,a)}))}),this.changeDetection.detectChanges())})}createOrder(r){let i=new OFe;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){r.target.submit()}onSubmitUpdateNote(r){r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(hC))},t.\u0275cmp=D1({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:2,vars:1,consts:[[1,"dgt-orders-manager-panel"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],["class","dgt-orders-history",4,"ngIf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(E(0,"div",0),at(1,hGe,25,11,"div",1),F()),2&r&&(k(1),G("ngForOf",i.allianceMembers))},dependencies:[Sf,r0,ni,fW,s5,Yq,Xq,AC,g5,K$,nGe,rGe,s0,iGe,sGe],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:5px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:372px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);border-radius:5px;margin-bottom:10px;padding:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffd46f;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#e46045;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid #fff;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{border-color:#7bbd1a;background:#7BBD1A2E}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{border-color:#ff3b30;background:#FF3B302B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;border-top:1px solid rgba(0,0,0,.25);margin-top:5px;margin-left:5px;margin-right:5px}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffd46f;font-weight:700}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46f!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px}"]}),e})(),mGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t,bootstrap:[pGe]}),t.\u0275inj=m2({providers:[eG,S1],imports:[ri,tGe,n5,$4(()=>q4(d1_firebase)),e3(()=>t3()),F3(()=>U3()),K4(()=>Q4(G4(),{provider:new ur(d1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),n5]}),e})(),AW=(()=>{var t;class e{constructor(){this.firestore=O(Fn)}getActiveOrders(r,i,s,a){let c=Bn(this.firestore,"orders");B3(j3(c,Dr("user","==",r),Dr("executed","==",!1)),{idField:"id"}).forEach(o=>{let l=Object.assign([],o);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges()}).catch(o=>{console.log(o)})}completeOrder(r){let i=Bn(this.firestore,"orders");qj(Ty(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function gGe(t,e){if(1&t){const n=tr();E(0,"div",2)(1,"div",3)(2,"button",4),je("click",function(){const s=n1(n).$implicit;return r1(Xe(2).onCompleteClick(s.id))}),function hw(){Q.lFrame.currentNamespace=KM}(),E(3,"svg",5),Ie(4,"path",6),F()()(),function pw(){!function iY(){Q.lFrame.currentNamespace=null}()}(),E(5,"div",7)(6,"span",8),te(7,"Target:"),F(),E(8,"span",9),te(9),F()(),E(10,"div",10)(11,"span",8),te(12,"Wait:"),F(),E(13,"span",9),te(14),F()(),E(15,"div",11)(16,"span",8),te(17,"Instructions:"),F(),E(18,"span",9),te(19),F()()()}if(2&t){const n=e.$implicit;k(9),Je(n.target),k(5),Je(n.wait),k(5),Je(n.instructions)}}function vGe(t,e){if(1&t&&(x6(0),at(1,gGe,20,3,"div",1),g2(2,"async"),I6()),2&t){const n=Xe();k(1),G("ngForOf",Wt(2,1,n.orders))}}let _Ge=(()=>{var t;class e{constructor(){this.orderService=O(AW),this.dgAPI=O(S1),this.changeDetection=O(Xs),this.authService=O($3),this.active=!1,this.authService.authState.subscribe(r=>{this.active=r.status,r.status&&(this.orders=new Ye(i=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,i)})),this.changeDetection.detectChanges()})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D1({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alert-animation dgt-fleet-order",4,"ngFor","ngForOf"],[1,"alert-animation","dgt-fleet-order"],[1,"complete"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"],[1,"target"],[1,"label"],[1,"value"],[1,"wait"],[1,"instructions"]],template:function(r,i){1&r&&at(0,vGe,3,3,"ng-container",0),2&r&&G("ngIf",i.active)},dependencies:[r0,ni,s0],styles:[".dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#FF3B302B;border:1px solid #FF3B30;margin:5px 10px;width:calc(100% - 20px);border-radius:5px;height:40px;line-height:40px}.dgt-fleet-order[_ngcontent-%COMP%]:first-child{margin-top:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;line-height:40px;width:20px;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{fill:#c8a960;height:20px;align-content:center;display:flex}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]{fill:#ffd46f!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:40px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;font-weight:700;color:#ffd46f;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}"]}),e})(),yGe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=V2({type:t,bootstrap:[_Ge]}),t.\u0275inj=m2({providers:[AW,S1],imports:[ri,$4(()=>q4(d1_firebase)),e3(()=>t3()),F3(()=>U3()),K4(()=>Q4(G4(),{provider:new ur(d1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const qi=$ie();let I1=window.location.pathname.split(/\//g);qi.bootstrapModule(RFe).catch(t=>console.error(t)),qi.bootstrapModule(MFe).catch(t=>console.error(t)),"planets"===I1[1]&&qi.bootstrapModule(xFe).catch(t=>console.error(t)),"planet"===I1[1]&&"comms"===(5===I1.length&&I1[3])&&qi.bootstrapModule(LFe).catch(t=>console.error(t)),"navigation"===I1[1]&&6===I1.length&&!isNaN(+I1[2])&&!isNaN(+I1[3])&&!isNaN(+I1[4])&&qi.bootstrapModule(TFe).catch(t=>console.error(t)),"alliances"===I1[1]&&qi.bootstrapModule(mGe).catch(t=>console.error(t)),"fleets"===I1[1]&&qi.bootstrapModule(yGe).catch(t=>console.error(t))}},Be=>{Be(Be.s=3)}]);