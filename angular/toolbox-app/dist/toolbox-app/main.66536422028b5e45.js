"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{860:()=>{function Be(t){return"function"==typeof t}function ec(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const tc=ec(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ji(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class un{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Be(r))try{r()}catch(s){e=s instanceof tc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{HC(s)}catch(o){e=e??[],o instanceof tc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new tc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)HC(e);else{if(e instanceof un){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ji(n,e)}remove(e){const{_finalizers:n}=this;n&&ji(n,e),e instanceof un&&e._removeParent(this)}}un.EMPTY=(()=>{const t=new un;return t.closed=!0,t})();const bC=un.EMPTY;function VC(t){return t instanceof un||t&&"closed"in t&&Be(t.remove)&&Be(t.add)&&Be(t.unsubscribe)}function HC(t){Be(t)?t():t.unsubscribe()}const Pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nc={setTimeout(t,e,...n){const{delegate:r}=nc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=nc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function SC(t){nc.setTimeout(()=>{const{onUnhandledError:e}=Pr;if(!e)throw t;e(t)})}function zC(){}const ZG=uu("C",void 0,void 0);function uu(t,e,n){return{kind:t,value:e,error:n}}let Rr=null;function rc(t){if(Pr.useDeprecatedSynchronousErrorHandling){const e=!Rr;if(e&&(Rr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Rr;if(Rr=null,n)throw r}}else t()}class fu extends un{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,VC(e)&&e.add(this)):this.destination=oq}static create(e,n,r){return new Qo(e,n,r)}next(e){this.isStopped?hu(function tq(t){return uu("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?hu(function eq(t){return uu("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hu(ZG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rq=Function.prototype.bind;function du(t,e){return rq.call(t,e)}class iq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ic(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ic(r)}else ic(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ic(n)}}}class Qo extends fu{constructor(e,n,r){let i;if(super(),Be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Pr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&du(e.next,s),error:e.error&&du(e.error,s),complete:e.complete&&du(e.complete,s)}):i=e}this.destination=new iq(i)}}function ic(t){Pr.useDeprecatedSynchronousErrorHandling?function nq(t){Pr.useDeprecatedSynchronousErrorHandling&&Rr&&(Rr.errorThrown=!0,Rr.error=t)}(t):SC(t)}function hu(t,e){const{onStoppedNotification:n}=Pr;n&&nc.setTimeout(()=>n(t,e))}const oq={closed:!0,next:zC,error:function sq(t){throw t},complete:zC},pu="function"==typeof Symbol&&Symbol.observable||"@@observable";function sc(t){return t}let tt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function cq(t){return t&&t instanceof fu||function aq(t){return t&&Be(t.next)&&Be(t.error)&&Be(t.complete)}(t)&&VC(t)}(n)?n:new Qo(n,r,i);return rc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=EC(r))((i,s)=>{const o=new Qo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[pu](){return this}pipe(...n){return function IC(t){return 0===t.length?sc:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=EC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function EC(t){var e;return null!==(e=t??Pr.Promise)&&void 0!==e?e:Promise}const lq=ec(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let oc=(()=>{class t extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new xC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lq}next(n){rc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){rc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){rc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?bC:(this.currentObservers=null,s.push(n),new un(()=>{this.currentObservers=null,ji(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new tt;return n.source=this,n}}return t.create=(e,n)=>new xC(e,n),t})();class xC extends oc{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:bC}}class uq extends oc{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function U1(t){return e=>{if(function fq(t){return Be(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function n1(t,e,n,r,i){return new dq(t,e,n,r,i)}class dq extends fu{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Xo(t,e){return U1((n,r)=>{let i=0;n.subscribe(n1(r,s=>{r.next(t.call(e,s,i++))}))})}function ac(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function j1(t){return this instanceof j1?(this.v=t,this):new j1(t)}function TC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function yu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function kC(t){return Be(t?.then)}function PC(t){return Be(t[pu])}function RC(t){return Symbol.asyncIterator&&Be(t?.[Symbol.asyncIterator])}function OC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const FC=function Aq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function BC(t){return Be(t?.[FC])}function UC(t){return function AC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{!function c(d){d.value instanceof j1?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield j1(n.read());if(i)return yield j1(void 0);yield yield j1(r)}}finally{n.releaseLock()}})}function jC(t){return Be(t?.getReader)}function Sn(t){if(t instanceof tt)return t;if(null!=t){if(PC(t))return function Tq(t){return new tt(e=>{const n=t[pu]();if(Be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(NC(t))return function Nq(t){return new tt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(kC(t))return function kq(t){return new tt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,SC)})}(t);if(RC(t))return $C(t);if(BC(t))return function Pq(t){return new tt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(jC(t))return function Rq(t){return $C(UC(t))}(t)}throw OC(t)}function $C(t){return new tt(e=>{(function Oq(t,e){var n,r,i,s;return function DC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=TC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function $1(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function GC(t,e,n=1/0){return Be(e)?GC((r,i)=>Xo((s,o)=>e(r,s,i,o))(Sn(t(r,i))),n):("number"==typeof e&&(n=e),U1((r,i)=>function Fq(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let v=!1;Sn(n(g,u++)).subscribe(n1(e,C=>{i?.(C),s?h(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){const C=c.shift();o?$1(e,o,()=>p(C)):p(C)}d()}catch(C){e.error(C)}}))};return t.subscribe(n1(e,h,()=>{f=!0,d()})),()=>{a?.()}}(r,i,t,n)))}const qC=new tt(t=>t.complete());function _u(t){return t[t.length-1]}function WC(t){return function jq(t){return t&&Be(t.schedule)}(_u(t))?t.pop():void 0}function cc(t,e=0){return U1((n,r)=>{n.subscribe(n1(r,i=>$1(r,t,()=>r.next(i),e),()=>$1(r,t,()=>r.complete(),e),i=>$1(r,t,()=>r.error(i),e)))})}function lc(t,e=0){return U1((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function KC(t,e){if(!t)throw new Error("Iterable cannot be null");return new tt(n=>{$1(n,e,()=>{const r=t[Symbol.asyncIterator]();$1(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Cu(t,e){return e?function Xq(t,e){if(null!=t){if(PC(t))return function qq(t,e){return Sn(t).pipe(lc(e),cc(e))}(t,e);if(NC(t))return function Kq(t,e){return new tt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(kC(t))return function Wq(t,e){return Sn(t).pipe(lc(e),cc(e))}(t,e);if(RC(t))return KC(t,e);if(BC(t))return function Yq(t,e){return new tt(n=>{let r;return $1(n,e,()=>{r=t[FC](),$1(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Be(r?.return)&&r.return()})}(t,e);if(jC(t))return function Qq(t,e){return KC(UC(t),e)}(t,e)}throw OC(t)}(t,e):Sn(t)}function Jq(...t){const e=WC(t),n=function Gq(t,e){return"number"==typeof _u(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Sn(r[0]):function Bq(t=1/0){return GC(sc,t)}(n)(Cu(r,e)):qC}function YC(t={}){const{connector:e=(()=>new oc),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},h=()=>{d(),o=c=void 0,u=f=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return U1((g,v)=>{l++,!f&&!u&&d();const C=c=c??e();v.add(()=>{l--,0===l&&!f&&!u&&(a=Mu(p,i))}),C.subscribe(v),!o&&l>0&&(o=new Qo({next:y=>C.next(y),error:y=>{f=!0,d(),a=Mu(h,n,y),C.error(y)},complete:()=>{u=!0,d(),a=Mu(h,r),C.complete()}}),Sn(g).subscribe(o))})(s)}}function Mu(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Qo({next:()=>{r.unsubscribe(),t()}});return Sn(e(...n)).subscribe(r)}function nW(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function uc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function wu(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rW=Me({__forward_ref__:Me});function Ie(t){return t.__forward_ref__=Ie,t.toString=function(){return vt(this())},t}function q(t){return bu(t)?t():t}function bu(t){return"function"==typeof t&&t.hasOwnProperty(rW)&&t.__forward_ref__===Ie}function Vu(t){return t&&!!t.\u0275providers}const QC="https://g.co/ng/security#xss";class z extends Error{constructor(e,n){super(function fc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function X(t){return"string"==typeof t?t:null==t?"":String(t)}function Hu(t,e){throw new z(-201,!1)}function Q2(t,e){null==t&&function $(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function dc(t){return XC(t,pc)||XC(t,JC)}function XC(t,e){return t.hasOwnProperty(e)?t[e]:null}function hc(t){return t&&(t.hasOwnProperty(Su)||t.hasOwnProperty(uW))?t[Su]:null}const pc=Me({\u0275prov:Me}),Su=Me({\u0275inj:Me}),JC=Me({ngInjectableDef:Me}),uW=Me({ngInjectorDef:Me});var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{});let zu;function H2(t){const e=zu;return zu=t,e}function eM(t,e,n){const r=dc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ce.Optional?null:void 0!==e?e:void Hu(vt(t))}const He=globalThis,Jo={},Lu="__NG_DI_FLAG__",mc="ngTempTokenPath",hW=/\n/gm,nM="__source";let $i;function G1(t){const e=$i;return $i=t,e}function gW(t,e=ce.Default){if(void 0===$i)throw new z(-203,!1);return null===$i?eM(t,void 0,e):$i.get(t,e&ce.Optional?null:void 0,e)}function ie(t,e=ce.Default){return(function ZC(){return zu}()||gW)(q(t),e)}function R(t,e=ce.Default){return ie(t,gc(e))}function gc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Au(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new z(900,!1);let i,s=ce.Default;for(let o=0;o<r.length;o++){const a=r[o],c=vW(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(ie(i,s))}else e.push(ie(r))}return e}function Zo(t,e){return t[Lu]=e,t.prototype[Lu]=e,t}function vW(t){return t[Lu]}function r1(t){return{toString:t}.toString()}var vc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vc||{}),fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fn||{});const zn={},ve=[],yc=Me({\u0275cmp:Me}),Tu=Me({\u0275dir:Me}),Nu=Me({\u0275pipe:Me}),iM=Me({\u0275mod:Me}),i1=Me({\u0275fac:Me}),e3=Me({__NG_ELEMENT_ID__:Me}),sM=Me({__NG_ENV_ID__:Me});function oM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ku(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];cM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function aM(t){return 3===t||4===t||6===t}function cM(t){return 64===t.charCodeAt(0)}function t3(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||lM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function lM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const uM="ng-template";function CW(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==oM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function fM(t){return 4===t.type&&t.value!==uM}function MW(t,e,n){return e===(4!==t.type||n?t.value:uM)}function wW(t,e,n){let r=4;const i=t.attrs||[],s=function HW(t){for(let e=0;e<t.length;e++)if(aM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!MW(t,c,n)||""===c&&1===e.length){if(dn(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!CW(t.attrs,l,n)){if(dn(r))return!1;o=!0}continue}const f=bW(8&r?"class":c,i,fM(t),n);if(-1===f){if(dn(r))return!1;o=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==oM(h,l,0)||2&r&&l!==d){if(dn(r))return!1;o=!0}}}}else{if(!o&&!dn(r)&&!dn(c))return!1;if(o&&dn(c))continue;o=!1,r=c|1&r}}return dn(r)||o}function dn(t){return 0==(1&t)}function bW(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function SW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function dM(t,e,n=!1){for(let r=0;r<e.length;r++)if(wW(t,e[r],n))return!0;return!1}function zW(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function hM(t,e){return t?":not("+e.trim()+")":e}function IW(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!dn(o)&&(e+=hM(s,i),i=""),r=o,s=s||!dn(r);n++}return""!==i&&(e+=hM(s,i)),e}function In(t){return r1(()=>{const e=mM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fn.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};gM(n);const r=t.dependencies;return n.directiveDefs=_c(r,!1),n.pipeDefs=_c(r,!0),n.id=function kW(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function LW(t){return fe(t)||kt(t)}function AW(t){return null!==t}function yt(t){return r1(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pM(t,e){if(null==t)return zn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Y(t){return r1(()=>{const e=mM(t);return gM(e),e})}function Yt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function fe(t){return t[yc]||null}function kt(t){return t[Tu]||null}function d2(t){return t[Nu]||null}function mM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pM(t.inputs,e),outputs:pM(t.outputs)}}function gM(t){t.features?.forEach(e=>e(t))}function _c(t,e){if(!t)return null;const n=e?d2:LW;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(AW)}const nt=0,T=1,te=2,Ue=3,hn=4,r3=5,Qt=6,Gi=7,rt=8,q1=9,qi=10,J=11,i3=12,vM=13,Wi=14,it=15,s3=16,Ki=17,En=18,o3=19,yM=20,W1=21,s1=22,Cc=23,Mc=24,se=25,Pu=1,_M=2,xn=7,Yi=9,Pt=11;function S2(t){return Array.isArray(t)&&"object"==typeof t[Pu]}function z2(t){return Array.isArray(t)&&!0===t[Pu]}function Ru(t){return 0!=(4&t.flags)}function Fr(t){return t.componentOffset>-1}function bc(t){return 1==(1&t.flags)}function pn(t){return!!t.template}function Ou(t){return 0!=(512&t[te])}function Br(t,e){return t.hasOwnProperty(i1)?t[i1]:null}let UW=He.WeakRef??class BW{constructor(e){this.ref=e}deref(){return this.ref}},$W=0,Dn=null,Vc=!1;function St(t){const e=Dn;return Dn=t,e}class VM{constructor(){this.id=$W++,this.ref=function jW(t){return new UW(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Vc;Vc=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Vc=e}}producerAccessed(){if(Vc)throw new Error("");if(null===Dn)return;let e=Dn.producers.get(this.id);void 0===e?(e={consumerNode:Dn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Dn.trackingVersion},Dn.producers.set(this.id,e),this.consumers.set(Dn.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Dn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Dn?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let HM=null;function SM(t){const e=St(null);try{return t()}finally{St(e)}}const zM=()=>{};class KW extends VM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=zM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=St(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=zM,this.watch(this.registerOnCleanup)}finally{St(e)}}cleanup(){this.cleanupFn()}}class YW{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function X2(){return IM}function IM(t){return t.type.prototype.ngOnChanges&&(t.setInput=XW),QW}function QW(){const t=xM(this),e=t?.current;if(e){const n=t.previous;if(n===zn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function XW(t,e,n,r){const i=this.declaredInputs[n],s=xM(t)||function JW(t,e){return t[EM]=e}(t,{previous:zn,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new YW(c&&c.currentValue,e,a===zn),t[r]=e}X2.ngInherit=!0;const EM="__ngSimpleChanges__";function xM(t){return t[EM]||null}const Ln=function(t,e,n){},DM="svg";function Ee(t){for(;Array.isArray(t);)t=t[nt];return t}function zc(t,e){return Ee(e[t])}function I2(t,e){return Ee(e[t.index])}function AM(t,e){return t.data[e]}function Qi(t,e){return t[e]}function F2(t,e){const n=e[t];return S2(n)?n:n[nt]}function K1(t,e){return null==e?null:t[e]}function TM(t){t[Ki]=0}function sK(t){1024&t[te]||(t[te]|=1024,kM(t,1))}function NM(t){1024&t[te]&&(t[te]&=-1025,kM(t,-1))}function kM(t,e){let n=t[Ue];if(null===n)return;n[r3]+=e;let r=n;for(n=n[Ue];null!==n&&(1===e&&1===r[r3]||-1===e&&0===r[r3]);)n[r3]+=e,r=n,n=n[Ue]}const G={lFrame:WM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OM(){return G.bindingsEnabled}function Xi(){return null!==G.skipHydrationRootTNode}function b(){return G.lFrame.lView}function de(){return G.lFrame.tView}function c3(t){return G.lFrame.contextLView=t,t[rt]}function l3(t){return G.lFrame.contextLView=null,t}function Rt(){let t=FM();for(;null!==t&&64===t.type;)t=t.parent;return t}function FM(){return G.lFrame.currentTNode}function An(t,e){const n=G.lFrame;n.currentTNode=t,n.isParent=e}function Gu(){return G.lFrame.isParent}function qu(){G.lFrame.isParent=!1}function h2(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ji(){return G.lFrame.bindingIndex++}function a1(t){const e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vK(t,e){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wu(e)}function Wu(t){G.lFrame.currentDirectiveIndex=t}function $M(){return G.lFrame.currentQueryIndex}function Yu(t){G.lFrame.currentQueryIndex=t}function _K(t){const e=t[T];return 2===e.type?e.declTNode:1===e.type?t[Qt]:null}function GM(t,e,n){if(n&ce.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ce.Host||(i=_K(s),null===i||(s=s[Wi],10&i.type))););if(null===i)return!1;e=i,t=s}const r=G.lFrame=qM();return r.currentTNode=e,r.lView=t,!0}function Qu(t){const e=qM(),n=t[T];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qM(){const t=G.lFrame,e=null===t?null:t.child;return null===e?WM(t):e}function WM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function KM(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const YM=KM;function Xu(){const t=KM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function p2(){return G.lFrame.selectedIndex}function Ur(t){G.lFrame.selectedIndex=t}function Ge(){const t=G.lFrame;return AM(t.tView,t.selectedIndex)}let ZM=!0;function Ic(){return ZM}function Y1(t){ZM=t}function Ec(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function xc(t,e,n){ew(t,e,3,n)}function Dc(t,e,n,r){(3&t[te])===n&&ew(t,e,n,r)}function Ju(t,e){let n=t[te];(3&n)===e&&(n&=8191,n+=1,t[te]=n)}function ew(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Ki]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Ki]+=65536),(a<s||-1==s)&&(HK(t,n,e,c),t[Ki]=(4294901760&t[Ki])+c+2),c++}function tw(t,e){Ln(4,t,e);const n=St(null);try{e.call(t)}finally{St(n),Ln(5,t,e)}}function HK(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[te]>>13<t[Ki]>>16&&(3&t[te])===e&&(t[te]+=8192,tw(a,s)):tw(a,s)}const Zi=-1;class f3{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function e5(t){return t!==Zi}function d3(t){return 32767&t}function h3(t,e){let n=function EK(t){return t>>16}(t),r=e;for(;n>0;)r=r[Wi],n--;return r}let t5=!0;function Lc(t){const e=t5;return t5=t,e}const nw=255,rw=5;let xK=0;const Tn={};function Ac(t,e){const n=iw(t,e);if(-1!==n)return n;const r=e[T];r.firstCreatePass&&(t.injectorIndex=e.length,n5(r.data,t),n5(e,null),n5(r.blueprint,null));const i=Tc(t,e),s=t.injectorIndex;if(e5(i)){const o=d3(i),a=h3(i,e),c=a[T].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function n5(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iw(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Tc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=fw(i),null===r)return Zi;if(n++,i=i[Wi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Zi}function r5(t,e,n){!function DK(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(e3)&&(r=n[e3]),null==r&&(r=n[e3]=xK++);const i=r&nw;e.data[t+(i>>rw)]|=1<<i}(t,e,n)}function sw(t,e,n){if(n&ce.Optional||void 0!==t)return t;Hu()}function ow(t,e,n,r){if(n&ce.Optional&&void 0===r&&(r=null),!(n&(ce.Self|ce.Host))){const i=t[q1],s=H2(void 0);try{return i?i.get(e,r,n&ce.Optional):eM(e,r,n&ce.Optional)}finally{H2(s)}}return sw(r,0,n)}function aw(t,e,n,r=ce.Default,i){if(null!==t){if(2048&e[te]&&!(r&ce.Self)){const o=function PK(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[te]&&!(512&o[te]);){const a=cw(s,o,n,r|ce.Self,Tn);if(a!==Tn)return a;let c=s.parent;if(!c){const l=o[yM];if(l){const u=l.get(n,Tn,r);if(u!==Tn)return u}c=fw(o),o=o[Wi]}s=c}return i}(t,e,n,r,Tn);if(o!==Tn)return o}const s=cw(t,e,n,r,Tn);if(s!==Tn)return s}return ow(e,n,r,i)}function cw(t,e,n,r,i){const s=function TK(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(e3)?t[e3]:void 0;return"number"==typeof e?e>=0?e&nw:kK:e}(n);if("function"==typeof s){if(!GM(e,t,r))return r&ce.Host?sw(i,0,r):ow(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ce.Optional)return o;Hu()}finally{YM()}}else if("number"==typeof s){let o=null,a=iw(t,e),c=Zi,l=r&ce.Host?e[it][Qt]:null;for((-1===a||r&ce.SkipSelf)&&(c=-1===a?Tc(t,e):e[a+8],c!==Zi&&uw(r,!1)?(o=e[T],a=d3(c),e=h3(c,e)):a=-1);-1!==a;){const u=e[T];if(lw(s,a,u.data)){const f=AK(a,e,n,o,r,l);if(f!==Tn)return f}c=e[a+8],c!==Zi&&uw(r,e[T].data[a+8]===l)&&lw(s,a,e)?(o=u,a=d3(c),e=h3(c,e)):a=-1}}return i}function AK(t,e,n,r,i,s){const o=e[T],a=o.data[t+8],u=Nc(a,o,n,null==r?Fr(a)&&t5:r!=o&&0!=(3&a.type),i&ce.Host&&s===a);return null!==u?jr(e,o,u,a):Tn}function Nc(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,d=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<d;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&pn(h)&&h.type===n)return c}return null}function jr(t,e,n,r){let i=t[n];const s=e.data;if(function SK(t){return t instanceof f3}(i)){const o=i;o.resolving&&function iW(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():X(t)}(s[n]));const a=Lc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?H2(o.injectImpl):null;GM(t,r,ce.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function VK(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=IM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&H2(l),Lc(a),o.resolving=!1,YM()}}return i}function lw(t,e,n){return!!(n[e+(t>>rw)]&1<<t)}function uw(t,e){return!(t&ce.Self||t&ce.Host&&e)}class m2{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aw(this._tNode,this._lView,e,gc(r),n)}}function kK(){return new m2(Rt(),b())}function i5(t){return bu(t)?()=>{const e=i5(q(t));return e&&e()}:Br(t)}function fw(t){const e=t[T],n=e.type;return 2===n?e.declTNode:1===n?t[Qt]:null}const ts="__parameters__";function rs(t,e,n){return r1(()=>{const r=function o5(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const f=c.hasOwnProperty(ts)?c[ts]:Object.defineProperty(c,ts,{value:[]})[ts];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ss(t,e){t.forEach(n=>Array.isArray(n)?ss(n,e):e(n))}function hw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function g3(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function B2(t,e,n){let r=os(t,e);return r>=0?t[1|r]=n:(r=~r,function $K(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function a5(t,e){const n=os(t,e);if(n>=0)return t[1|n]}function os(t,e){return function pw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const E2=Zo(rs("Optional"),8),l5=Zo(rs("SkipSelf"),4);function Uc(t){return 128==(128&t.flags)}var Q1=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Q1||{});const fY=/^>|^->|<!--|-->|--!>|<!-$/g,dY=/(<|>)/,hY="\u200b$1\u200b";const h5=new Map;let pY=0;const m5="__ngContext__";function Jt(t,e){S2(e)?(t[m5]=e[o3],function gY(t){h5.set(t[o3],t)}(e)):t[m5]=e}let g5;function v5(t,e){return g5(t,e)}function _3(t){const e=t[Ue];return z2(e)?e[Ue]:e}function Tw(t){return kw(t[i3])}function Nw(t){return kw(t[hn])}function kw(t){for(;null!==t&&!z2(t);)t=t[hn];return t}function ls(t,e,n,r,i){if(null!=r){let s,o=!1;z2(r)?s=r:S2(r)&&(o=!0,r=r[nt]);const a=Ee(r);0===t&&null!==n?null==i?Fw(e,n,a):$r(e,n,a,i||null,!0):1===t&&null!==n?$r(e,n,a,i||null,!0):2===t?function Yc(t,e,n){const r=Wc(t,e);r&&function NY(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function RY(t,e,n,r,i){const s=n[xn];s!==Ee(n)&&ls(e,t,r,s,i);for(let a=Pt;a<n.length;a++){const c=n[a];M3(c[T],c,t,e,r,s)}}(e,t,s,n,i)}}function y5(t,e){return t.createComment(function Sw(t){return t.replace(fY,e=>e.replace(dY,hY))}(e))}function Gc(t,e,n){return t.createElement(e,n)}function Rw(t,e){const n=t[Yi],r=n.indexOf(e);NM(e),n.splice(r,1)}function qc(t,e){if(t.length<=Pt)return;const n=Pt+e,r=t[n];if(r){const i=r[s3];null!==i&&i!==t&&Rw(i,r),e>0&&(t[n-1][hn]=r[hn]);const s=kc(t,Pt+e);!function zY(t,e){M3(t,e,e[J],2,null,null),e[nt]=null,e[Qt]=null}(r[T],r);const o=s[En];null!==o&&o.detachView(s[T]),r[Ue]=null,r[hn]=null,r[te]&=-129}return r}function _5(t,e){if(!(256&e[te])){const n=e[J];e[Cc]?.destroy(),e[Mc]?.destroy(),n.destroyNode&&M3(t,e,n,3,null,null),function xY(t){let e=t[i3];if(!e)return C5(t[T],t);for(;e;){let n=null;if(S2(e))n=e[i3];else{const r=e[Pt];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)S2(e)&&C5(e[T],e),e=e[Ue];null===e&&(e=t),S2(e)&&C5(e[T],e),n=e&&e[hn]}e=n}}(e)}}function C5(t,e){if(!(256&e[te])){e[te]&=-129,e[te]|=256,function TY(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof f3)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Ln(4,a,c);try{c.call(a)}finally{Ln(5,a,c)}}else{Ln(4,i,s);try{s.call(i)}finally{Ln(5,i,s)}}}}}(t,e),function AY(t,e){const n=t.cleanup,r=e[Gi];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Gi]=null);const i=e[W1];if(null!==i){e[W1]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[T].type&&e[J].destroy();const n=e[s3];if(null!==n&&z2(e[Ue])){n!==e[Ue]&&Rw(n,e);const r=e[En];null!==r&&r.detachView(t)}!function vY(t){h5.delete(t[o3])}(e)}}function M5(t,e,n){return function Ow(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[nt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===fn.None||s===fn.Emulated)return null}return I2(r,n)}}(t,e.parent,n)}function $r(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Fw(t,e,n){t.appendChild(e,n)}function Bw(t,e,n,r,i){null!==r?$r(t,e,n,r,i):Fw(t,e,n)}function Wc(t,e){return t.parentNode(e)}function Uw(t,e,n){return $w(t,e,n)}let w5,Qc,S5,Xc,$w=function jw(t,e,n){return 40&t.type?I2(t,n):null};function Kc(t,e,n,r){const i=M5(t,r,e),s=e[J],a=Uw(r.parent||e[Qt],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Bw(s,i,n[c],a,!1);else Bw(s,i,n,a,!1);void 0!==w5&&w5(s,r,e,n,i)}function C3(t,e){if(null!==e){const n=e.type;if(3&n)return I2(e,t);if(4&n)return b5(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return C3(t,r);{const i=t[e.index];return z2(i)?b5(-1,i):Ee(i)}}if(32&n)return v5(e,t)()||Ee(t[e.index]);{const r=qw(t,e);return null!==r?Array.isArray(r)?r[0]:C3(_3(t[it]),r):C3(t,e.next)}}return null}function qw(t,e){return null!==e?t[it][Qt].projection[e.projection]:null}function b5(t,e){const n=Pt+t+1;if(n<e.length){const r=e[n],i=r[T].firstChild;if(null!==i)return C3(r,i)}return e[xn]}function V5(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Jt(Ee(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)V5(t,e,n.child,r,i,s,!1),ls(e,t,i,a,s);else if(32&c){const l=v5(n,r);let u;for(;u=l();)ls(e,t,i,u,s);ls(e,t,i,a,s)}else 16&c?Kw(t,e,r,n,i,s):ls(e,t,i,a,s);n=o?n.projectionNext:n.next}}function M3(t,e,n,r,i,s){V5(n,r,t.firstChild,e,i,s,!1)}function Kw(t,e,n,r,i,s){const o=n[it],c=o[Qt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ls(e,t,i,c[l],s);else{let l=c;const u=o[Ue];Uc(r)&&(l.flags|=128),V5(t,e,l,u,i,s,!0)}}function Yw(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Qw(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&ku(t,e,r),null!==i&&Yw(t,e,i),null!==s&&function FY(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function us(t){return function H5(){if(void 0===Qc&&(Qc=null,He.trustedTypes))try{Qc=He.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qc}()?.createHTML(t)||t}function fs(){if(void 0!==S5)return S5;if(typeof document<"u")return document;throw new z(210,!1)}function Xw(t){return function z5(){if(void 0===Xc&&(Xc=null,He.trustedTypes))try{Xc=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xc}()?.createHTML(t)||t}class Gr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${QC})`}}class GY extends Gr{getTypeName(){return"HTML"}}class qY extends Gr{getTypeName(){return"Style"}}class WY extends Gr{getTypeName(){return"Script"}}class KY extends Gr{getTypeName(){return"URL"}}class YY extends Gr{getTypeName(){return"ResourceURL"}}function U2(t){return t instanceof Gr?t.changingThisBreaksApplicationSecurity:t}function Nn(t,e){const n=function QY(t){return t instanceof Gr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${QC})`)}return n===e}class nQ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(us(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class rQ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=us(e),n}}const sQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jc(t){return(t=String(t)).match(sQ)?t:"unsafe:"+t}function c1(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function w3(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const tb=c1("area,br,col,hr,img,wbr"),nb=c1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rb=c1("rp,rt"),I5=w3(tb,w3(nb,c1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),w3(rb,c1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),w3(rb,nb)),E5=c1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ib=w3(E5,c1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),c1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oQ=c1("script,style,template");class aQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!I5.hasOwnProperty(n))return this.sanitizedSomething=!0,!oQ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!ib.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;E5[a]&&(c=Jc(c)),this.buf.push(" ",o,'="',sb(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();I5.hasOwnProperty(n)&&!tb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(sb(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const cQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lQ=/([^\#-~ |!])/g;function sb(t){return t.replace(/&/g,"&amp;").replace(cQ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(lQ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zc;function ob(t,e){let n=null;try{Zc=Zc||function eb(t){const e=new rQ(t);return function iQ(){try{return!!(new window.DOMParser).parseFromString(us(""),"text/html")}catch{return!1}}()?new nQ(e):e}(t);let r=e?String(e):"";n=Zc.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Zc.getInertBodyElement(r)}while(r!==s);return us((new aQ).sanitizeChildren(x5(n)||n))}finally{if(n){const r=x5(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function x5(t){return"content"in t&&function uQ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Z2=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Z2||{});function ab(t){const e=function b3(){const t=b();return t&&t[qi].sanitizer}();return e?Xw(e.sanitize(Z2.HTML,t)||""):Nn(t,"HTML")?Xw(U2(t)):ob(fs(),X(t))}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const e6=new U("ENVIRONMENT_INITIALIZER"),ub=new U("INJECTOR",-1),fb=new U("INJECTOR_DEF_TYPES");class D5{get(e,n=Jo){if(n===Jo){const r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}}function vQ(...t){return{\u0275providers:hb(0,t),\u0275fromNgModule:!0}}function hb(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ss(e,o=>{const a=o;t6(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&pb(i,s),n}function pb(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];L5(i,s=>{e(s,r)})}}function t6(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=hc(t);const o=!s&&fe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=hc(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)t6(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{ss(s.imports,u=>{t6(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&pb(l,e)}if(!a){const l=Br(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:fb,useValue:i,multi:!0},i),e({provide:e6,useValue:()=>ie(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;L5(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function L5(t,e){for(let n of t)Vu(n)&&(n=n.\u0275providers),Array.isArray(n)?L5(n,e):e(n)}const yQ=Me({provide:String,useValue:Me});function A5(t){return null!==t&&"object"==typeof t&&yQ in t}function qr(t){return"function"==typeof t}const T5=new U("Set Injector scope."),n6={},CQ={};let N5;function r6(){return void 0===N5&&(N5=new D5),N5}class l1{}class i6 extends l1{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,P5(e,o=>this.processProvider(o)),this.records.set(ub,ds(void 0,this)),i.has("environment")&&this.records.set(l1,ds(void 0,this));const s=this.records.get(T5);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fb.multi,ve,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=G1(this),r=H2(void 0);try{return e()}finally{G1(n),H2(r)}}get(e,n=Jo,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sM))return e[sM](this);r=gc(r);const s=G1(this),o=H2(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function HQ(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&dc(e);c=l&&this.injectableDefInScope(l)?ds(k5(e),n6):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ce.Self?r6():this.parent).get(e,n=r&ce.Optional&&n===Jo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[mc]=a[mc]||[]).unshift(vt(e)),s)throw a;return function yW(t,e,n,r){const i=t[mc];throw e[nM]&&i.unshift(e[nM]),t.message=function _W(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hW,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[mc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{H2(o),G1(s)}}resolveInjectorInitializers(){const e=G1(this),n=H2(void 0);try{const i=this.get(e6.multi,ve,ce.Self);for(const s of i)s()}finally{G1(e),H2(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){let n=qr(e=q(e))?e:q(e&&e.provide);const r=function wQ(t){return A5(t)?ds(void 0,t.useValue):ds(vb(t),n6)}(e);if(qr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ds(void 0,n6,!0),i.factory=()=>Au(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===n6&&(n.value=CQ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function VQ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function k5(t){const e=dc(t),n=null!==e?e.factory:Br(t);if(null!==n)return n;if(t instanceof U)throw new z(204,!1);if(t instanceof Function)return function MQ(t){const e=t.length;if(e>0)throw g3(e,"?"),new z(204,!1);const n=function lW(t){return t&&(t[pc]||t[JC])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new z(204,!1)}function vb(t,e,n){let r;if(qr(t)){const i=q(t);return Br(i)||k5(i)}if(A5(t))r=()=>q(t.useValue);else if(function gb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Au(t.deps||[]));else if(function mb(t){return!(!t||!t.useExisting)}(t))r=()=>ie(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function bQ(t){return!!t.deps}(t))return Br(i)||k5(i);r=()=>new i(...Au(t.deps))}return r}function ds(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function P5(t,e){for(const n of t)Array.isArray(n)?P5(n,e):n&&Vu(n)?P5(n.\u0275providers,e):e(n)}const s6=new U("AppId",{providedIn:"root",factory:()=>SQ}),SQ="ng",yb=new U("Platform Initializer"),u1=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_b=new U("CSP nonce",{providedIn:"root",factory:()=>fs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Mb=(t,e,n)=>null;function $5(t,e,n=!1){return Mb(t,e,n)}class kQ{}class Vb{}class RQ{resolveComponentFactory(e){throw function PQ(t){const e=Error(`No component factory found for ${vt(t)}.`);return e.ngComponent=t,e}(e)}}let f6=(()=>{class e{}return e.NULL=new RQ,e})();function OQ(){return ps(Rt(),b())}function ps(t,e){return new en(I2(t,e))}let en=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=OQ,e})();function FQ(t){return t instanceof en?t.nativeElement:t}class Sb{}let f1=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function BQ(){const t=b(),n=F2(Rt().index,t);return(S2(n)?n:t)[J]}(),e})(),UQ=(()=>{var t;class e{}return(t=e).\u0275prov=ee({token:t,providedIn:"root",factory:()=>null}),e})();class z3{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zb=new z3("16.2.1"),W5={};function Db(t,e=null,n=null,r){const i=Lb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Lb(t,e=null,n=null,r,i=new Set){const s=[n||ve,vQ(t)];return r=r||("object"==typeof t?void 0:vt(t)),new i6(s,e||r6(),r||null,i)}let Zt=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return Db({name:""},i,r,"");{const s=r.name??"";return Db({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Jo,t.NULL=new D5,t.\u0275prov=ee({token:t,providedIn:"any",factory:()=>ie(ub)}),t.__NG_ELEMENT_ID__=-1,e})();let Q5=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new z(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=ee({token:t,providedIn:"root",factory:()=>new t}),e})();function I3(t){for(;t;){t[te]|=64;const e=_3(t);if(Ou(t)&&!e)return t;t=e}return null}function X5(t){return t.ngOriginalError}class Wr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&X5(e);for(;n&&X5(n);)n=X5(n);return n||null}}const Pb=new U("",{providedIn:"root",factory:()=>!1});class Bb extends VM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){I3(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=St(this);this.trackingVersion++;try{e(n,r)}finally{St(i)}}destroy(){this.trackingVersion++}}let h6=null;function Ub(){return h6??=new Bb,h6}function jb(t,e){return t[e]??Ub()}function $b(t,e){const n=Ub();n.hasReadASignal&&(t[e]=h6,n.lView=t,h6=new Bb)}const ne={};function W(t){Gb(de(),b(),p2()+t,!1)}function Gb(t,e,n,r){if(!r)if(3==(3&e[te])){const s=t.preOrderCheckHooks;null!==s&&xc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Dc(e,s,0,n)}Ur(n)}function S(t,e=ce.Default){const n=b();return null===n?ie(t,e):aw(Rt(),n,q(t),e)}function p6(t,e,n,r,i,s,o,a,c,l,u){const f=e.blueprint.slice();return f[nt]=i,f[te]=140|r,(null!==l||t&&2048&t[te])&&(f[te]|=2048),TM(f),f[Ue]=f[Wi]=t,f[rt]=n,f[qi]=o||t&&t[qi],f[J]=a||t&&t[J],f[q1]=c||t&&t[q1]||null,f[Qt]=s,f[o3]=function mY(){return pY++}(),f[s1]=u,f[yM]=l,f[it]=2==e.type?t[it]:f,f}function vs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function J5(t,e,n,r,i){const s=FM(),o=Gu(),c=t.data[e]=function dX(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Xi()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function gK(){return G.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function u3(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return An(s,!0),s}function E3(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qb(t,e,n,r,i){const s=jb(e,Cc),o=p2(),a=2&r;try{if(Ur(-1),a&&e.length>se&&Gb(t,e,se,!1),Ln(a?2:0,i),a)s.runInContext(n,r,i);else{const l=St(null);try{n(r,i)}finally{St(l)}}}finally{a&&null===e[Cc]&&$b(e,Cc),Ur(o),Ln(a?3:1,i)}}function Z5(t,e,n){if(Ru(e)){const r=St(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{St(r)}}}function e7(t,e,n){OM()&&(function _X(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Fr(n)&&function SX(t,e,n){const r=I2(e,t),i=Wb(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=m6(t,p6(t,i,null,o,r,e,null,t[qi].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ac(n,e),Jt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=jr(e,t,a,n);Jt(l,e),null!==o&&zX(0,a-i,l,c,0,o),pn(c)&&(F2(n.index,e)[rt]=jr(e,t,a,n))}}(t,e,n,I2(n,e)),64==(64&n.flags)&&Jb(t,e,n))}function t7(t,e,n=I2){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Wb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=n7(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function n7(t,e,n,r,i,s,o,a,c,l,u){const f=se+r,d=f+i,h=function oX(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ne);return n}(f,d),p="function"==typeof l?l():l;return h[T]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let Kb=t=>null;function Yb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Qb(n,e,i,s):r.hasOwnProperty(i)&&Qb(n,e,r[i],s)}return n}function Qb(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function j2(t,e,n,r,i,s,o,a){const c=I2(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(a7(t,n,u,r,i),Fr(e)&&function mX(t,e){const n=F2(e,t);16&n[te]||(n[te]|=64)}(n,e.index)):3&e.type&&(r=function pX(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function r7(t,e,n,r){if(OM()){const i=null===r?null:{"":-1},s=function MX(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(dM(e,o.selectors,!1))if(r||(r=[]),pn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),i7(t,e,a.length)}else r.unshift(o),i7(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Xb(t,e,n,o,i,a),i&&function wX(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new z(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=t3(n.mergedAttrs,n.attrs)}function Xb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)r5(Ac(n,e),t,r[l].type);!function VX(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=E3(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=t3(n.mergedAttrs,u.hostAttrs),HX(t,n,e,c,u),bX(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function hX(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=n?n.get(f):null,p=d?d.outputs:null;c=Yb(f.inputs,u,c,d?d.inputs:null),l=Yb(f.outputs,u,l,p);const g=null===c||null===o||fM(e)?null:IX(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function Jb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function yK(){return G.lFrame.currentDirectiveIndex}();try{Ur(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];Wu(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&CX(c,l)}}finally{Ur(-1),Wu(o)}}function CX(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function i7(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bX(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pn(e)&&(n[""]=t)}}function HX(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Br(i.type)),o=new f3(s,pn(i),S);t.blueprint[r]=o,n[r]=o,function vX(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function yX(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,E3(t,n,i.hostVars,ne),i)}function kn(t,e,n,r,i,s){const o=I2(t,e);!function s7(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?X(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[J],o,s,t.value,n,r,i)}function zX(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)Zb(r,n,o[a++],o[a++],o[a++])}function Zb(t,e,n,r,i){const s=St(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{St(s)}}function IX(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function eV(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function tV(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Yu(n[r]),o.contentQueries(2,e[s],s)}}}function m6(t,e){return t[i3]?t[vM][hn]=e:t[i3]=e,t[vM]=e,e}function o7(t,e,n){Yu(0);const r=St(null);try{e(t,n)}finally{St(r)}}function nV(t){return t[Gi]||(t[Gi]=[])}function rV(t){return t.cleanup||(t.cleanup=[])}function sV(t,e){const n=t[q1],r=n?n.get(Wr,null):null;r&&r.handleError(e)}function a7(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];Zb(t.data[o],e[o],r,a,i)}}function EX(t,e){const n=F2(e,t),r=n[T];!function xX(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[nt];null!==i&&null===n[s1]&&(n[s1]=$5(i,n[q1])),c7(r,n,n[rt])}function c7(t,e,n){Qu(e);try{const r=t.viewQuery;null!==r&&o7(1,r,n);const i=t.template;null!==i&&qb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tV(t,e),t.staticViewQueries&&o7(2,t.viewQuery,n);const s=t.components;null!==s&&function DX(t,e){for(let n=0;n<e.length;n++)EX(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,Xu()}}let oV=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=new KW(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=ee({token:t,providedIn:"root",factory:()=>new t}),e})();function g6(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=wu(i,a):2==s&&(r=wu(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function x3(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ee(s)),z2(s)){for(let a=Pt;a<s.length;a++){const c=s[a],l=c[T].firstChild;null!==l&&x3(c[T],c,l,r)}s[xn]!==s[nt]&&r.push(s[xn])}const o=n.type;if(8&o)x3(t,e,n.child,r);else if(32&o){const a=v5(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=qw(e,n);if(Array.isArray(a))r.push(...a);else{const c=_3(e[it]);x3(c[T],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function v6(t,e,n,r=!0){const i=e[qi],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{aV(t,e,t.template,n)}catch(c){throw r&&sV(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function aV(t,e,n,r){const i=e[te];if(256!=(256&i)){e[qi].effectManager?.flush(),Qu(e);try{TM(e),function UM(t){return G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&qb(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&xc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Dc(e,l,0,null),Ju(e,0)}if(function TX(t){for(let e=Tw(t);null!==e;e=Nw(e)){if(!e[_M])continue;const n=e[Yi];for(let r=0;r<n.length;r++){sK(n[r])}}}(e),cV(e,2),null!==t.contentQueries&&tV(t,e),o){const l=t.contentCheckHooks;null!==l&&xc(e,l)}else{const l=t.contentHooks;null!==l&&Dc(e,l,1),Ju(e,1)}!function sX(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=jb(e,Mc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ur(~s);else{const o=s,a=n[++i],c=n[++i];vK(a,o),r.runInContext(c,2,e[o])}}}finally{null===e[Mc]&&$b(e,Mc),Ur(-1)}}(t,e);const a=t.components;null!==a&&uV(e,a,0);const c=t.viewQuery;if(null!==c&&o7(2,c,r),o){const l=t.viewCheckHooks;null!==l&&xc(e,l)}else{const l=t.viewHooks;null!==l&&Dc(e,l,2),Ju(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[te]&=-73,NM(e)}finally{Xu()}}}function cV(t,e){for(let n=Tw(t);null!==n;n=Nw(n))for(let r=Pt;r<n.length;r++)lV(n[r],e)}function NX(t,e,n){lV(F2(e,t),n)}function lV(t,e){if(!function rK(t){return 128==(128&t[te])}(t))return;const n=t[T];if(80&t[te]&&0===e||1024&t[te]||2===e)aV(n,t,n.template,t[rt]);else if(t[r3]>0){cV(t,1);const i=t[T].components;null!==i&&uV(t,i,1)}}function uV(t,e,n){for(let r=0;r<e.length;r++)NX(t,e[r],n)}class D3{get rootNodes(){const e=this._lView,n=e[T];return x3(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return 256==(256&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ue];if(z2(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(qc(e,r),kc(n,r))}this._attachedToViewContainer=!1}_5(this._lView[T],this._lView)}onDestroy(e){!function PM(t,e){if(256==(256&t[te]))throw new z(911,!1);null===t[W1]&&(t[W1]=[]),t[W1].push(e)}(this._lView,e)}markForCheck(){I3(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){this._lView[te]|=128}detectChanges(){v6(this._lView[T],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EY(t,e){M3(t,e,e[J],2,null,null)}(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e}}class kX extends D3{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;v6(e[T],e,e[rt],!1)}checkNoChanges(){}get context(){return null}}class fV extends f6{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=fe(e);return new L3(n,this.ngModule)}}function dV(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class RX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=gc(r);const i=this.injector.get(e,W5,r);return i!==W5||n===W5?i:this.parentInjector.get(e,n,r)}}class L3 extends Vb{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=dV(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return dV(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function EW(t){return t.map(IW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof l1?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new RX(e,s):e,a=o.get(Sb,null);if(null===a)throw new z(407,!1);const f={rendererFactory:a,sanitizer:o.get(UQ,null),effectManager:o.get(oV,null),afterRenderEventManager:o.get(Q5,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function aX(t,e,n,r){const s=r.get(Pb,!1)||n===fn.ShadowDom,o=t.selectRootElement(e,s);return function cX(t){Kb(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Gc(d,h,function PX(t){const e=t.toLowerCase();return"svg"===e?DM:"math"===e?"math":null}(h)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=$5(p,o,!0));const w=n7(0,null,null,1,0,null,null,null,null,null,null),E=p6(null,w,null,C,null,null,f,d,o,null,y);let A,j;Qu(E);try{const ue=this.componentDef;let gt,Ht=null;ue.findHostDirectiveDefs?(gt=[],Ht=new Map,ue.findHostDirectiveDefs(ue,gt,Ht),gt.push(ue)):gt=[ue];const Z4=function FX(t,e){const n=t[T],r=se;return t[r]=e,vs(n,r,2,"#host",null)}(E,p),dFe=function BX(t,e,n,r,i,s,o){const a=i[T];!function UX(t,e,n,r){for(const i of t)e.mergedAttrs=t3(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(g6(e,e.mergedAttrs,!0),null!==n&&Qw(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=$5(e,i[q1]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=p6(i,Wb(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&i7(a,t,r.length-1),m6(i,f),i[t.index]=f}(Z4,p,ue,gt,E,f,d);j=AM(w,se),p&&function $X(t,e,n,r){if(r)ku(t,n,["ng-version",zb.full]);else{const{attrs:i,classes:s}=function xW(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!dn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ku(t,n,i),s&&s.length>0&&Yw(t,n,s.join(" "))}}(d,ue,p,r),void 0!==n&&function GX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(j,this.ngContentSelectors,n),A=function jX(t,e,n,r,i,s){const o=Rt(),a=i[T],c=I2(o,i);Xb(a,i,o,n,null,r);for(let u=0;u<n.length;u++)Jt(jr(i,a,o.directiveStart+u,o),i);Jb(a,i,o),c&&Jt(c,i);const l=jr(i,a,o.directiveStart+o.componentOffset,o);if(t[rt]=i[rt]=l,null!==s)for(const u of s)u(l,e);return Z5(a,o,t),l}(dFe,ue,gt,Ht,E,[qX]),c7(w,E,null)}finally{Xu()}return new OX(this.componentType,A,ps(j,E),E,j)}}class OX extends kQ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new kX(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;a7(s[T],s,i,e,n),this.previousInputValues.set(e,n),I3(F2(this._tNode.index,s))}}get injector(){return new m2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qX(){const t=Rt();Ec(b()[T],t)}function we(t){let e=function hV(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(pn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=y6(t.inputs),o.inputTransforms=y6(t.inputTransforms),o.declaredInputs=y6(t.declaredInputs),o.outputs=y6(t.outputs);const a=i.hostBindings;a&&QX(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&KX(t,c),l&&YX(t,l),uc(t.inputs,i.inputs),uc(t.declaredInputs,i.declaredInputs),uc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),uc(o.inputTransforms,i.inputTransforms)),pn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function WX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=t3(i.hostAttrs,n=t3(n,i.hostAttrs))}}(r)}function y6(t){return t===zn?{}:t===ve?[]:t}function KX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function YX(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function QX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function _6(t){return!!l7(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function l7(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Pn(t,e,n){return t[e]=n}function e2(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function C6(t,e,n,r,i){const s=function Kr(t,e,n,r){const i=e2(t,e,n);return e2(t,e+1,r)||i}(t,e,n,r);return e2(t,e+2,i)||s}function Rn(t,e,n,r){const i=b();return e2(i,Ji(),e)&&(de(),kn(Ge(),i,t,e,n,r)),Rn}function p1(t,e,n,r,i,s,o,a){const c=b(),l=de(),u=t+se,f=l.firstCreatePass?function wJ(t,e,n,r,i,s,o,a,c){const l=e.consts,u=vs(e,t,4,o||null,K1(l,a));r7(e,n,u,K1(l,c)),Ec(e,u);const f=u.tView=n7(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];An(f,!1);const d=EV(l,c,f,t);Ic()&&Kc(l,c,d,f),Jt(d,c),m6(c,c[u]=eV(d,c,d,f)),bc(f)&&e7(l,c,f),null!=o&&t7(c,f,a)}let EV=function xV(t,e,n,r){return Y1(!0),e[J].createComment("")};function m7(t){return Qi(function mK(){return G.lFrame.contextLView}(),se+t)}function oe(t,e,n){const r=b();return e2(r,Ji(),e)&&j2(de(),Ge(),r,t,e,r[J],n,!1),oe}function g7(t,e,n,r,i){const o=i?"class":"style";a7(t,n,e.inputs[o],o,r)}function P(t,e,n,r){const i=b(),s=de(),o=se+t,a=i[J],c=s.firstCreatePass?function SJ(t,e,n,r,i,s){const o=e.consts,c=vs(e,t,2,r,K1(o,i));return r7(e,n,c,K1(o,s)),null!==c.attrs&&g6(c,c.attrs,!1),null!==c.mergedAttrs&&g6(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=DV(s,i,c,a,e,t);i[o]=l;const u=bc(c);return An(c,!0),Qw(a,l,c),32!=(32&c.flags)&&Ic()&&Kc(s,i,l,c),0===function aK(){return G.lFrame.elementDepthCount}()&&Jt(l,i),function cK(){G.lFrame.elementDepthCount++}(),u&&(e7(s,i,c),Z5(s,c,i)),null!==r&&t7(i,c),P}function K(){let t=Rt();Gu()?qu():(t=t.parent,An(t,!1));const e=t;(function uK(t){return G.skipHydrationRootTNode===t})(e)&&function pK(){G.skipHydrationRootTNode=null}(),function lK(){G.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(Ec(n,t),Ru(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function zK(t){return 0!=(8&t.flags)}(e)&&g7(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function IK(t){return 0!=(16&t.flags)}(e)&&g7(n,e,b(),e.stylesWithoutHost,!1),K}function Se(t,e,n,r){return P(t,e,n,r),K(),Se}let DV=(t,e,n,r,i,s)=>(Y1(!0),Gc(r,i,function JM(){return G.lFrame.currentNamespace}()));function V6(t,e,n){const r=b(),i=de(),s=t+se,o=i.firstCreatePass?function EJ(t,e,n,r,i){const s=e.consts,o=K1(s,r),a=vs(e,t,8,"ng-container",o);return null!==o&&g6(a,o,!0),r7(e,n,a,K1(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];An(o,!0);const a=AV(i,r,o,t);return r[s]=a,Ic()&&Kc(i,r,a,o),Jt(a,r),bc(o)&&(e7(i,r,o),Z5(i,o,r)),null!=n&&t7(r,o),V6}function H6(){let t=Rt();const e=de();return Gu()?qu():(t=t.parent,An(t,!1)),e.firstCreatePass&&(Ec(e,t),Ru(t)&&e.queries.elementEnd(t)),H6}let AV=(t,e,n,r)=>(Y1(!0),y5(e[J],""));function S6(){return b()}function z6(t){return!!t&&"function"==typeof t.then}function TV(t){return!!t&&"function"==typeof t.subscribe}function t2(t,e,n,r){const i=b(),s=de(),o=Rt();return function kV(t,e,n,r,i,s,o){const a=bc(r),l=t.firstCreatePass&&rV(t),u=e[rt],f=nV(e);let d=!0;if(3&r.type||o){const g=I2(r,e),v=o?o(g):g,C=f.length,y=o?E=>o(Ee(E[r.index])):r.index;let w=null;if(!o&&a&&(w=function LJ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Gi],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,d=!1;else{s=RV(r,e,u,s,!1);const E=n.listen(v,i,s);f.push(s,E),l&&l.push(i,y,C,C+1)}}else s=RV(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const A=e[p[v]][p[v+1]].subscribe(s),j=f.length;f.push(s,A),l&&l.push(i,r.index,j,-(j+1))}}}(s,i,i[J],o,t,e,r),t2}function PV(t,e,n,r){try{return Ln(6,e,n),!1!==n(r)}catch(i){return sV(t,i),!1}finally{Ln(7,e,n)}}function RV(t,e,n,r,i){return function s(o){if(o===Function)return r;I3(t.componentOffset>-1?F2(t.index,e):e);let c=PV(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=PV(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function X1(t=1){return function CK(t){return(G.lFrame.contextLView=function MK(t,e){for(;t>0;)e=e[Wi],t--;return e}(t,G.lFrame.contextLView))[rt]}(t)}function AJ(t,e){let n=null;const r=function VW(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?dM(t,s,!0):zW(r,s))return i}else n=i}return n}function I6(t,e){return t<<17|e<<2}function J1(t){return t>>17&32767}function y7(t){return 2|t}function Yr(t){return(131068&t)>>2}function _7(t,e){return-131069&t|e<<2}function C7(t){return 1|t}function QV(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?J1(s):Yr(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];OJ(t[a],e)&&(c=!0,t[a+1]=r?C7(u):y7(u)),a=r?J1(u):Yr(u)}c&&(t[n+1]=r?y7(s):C7(s))}function OJ(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&os(t,e)>=0}const Ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XV(t){return t.substring(Ct.key,Ct.keyEnd)}function FJ(t){return t.substring(Ct.value,Ct.valueEnd)}function ZV(t,e){const n=Ct.textEnd;let r=Ct.key=zs(t,e,n);return n===r?-1:(r=Ct.keyEnd=function $J(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=tH(t,r,n),r=Ct.value=zs(t,r,n),r=Ct.valueEnd=function GJ(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const c=t.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=nH(t,c,o,n):e===o-4&&85===s&&82===i&&76===r&&40===c?a=o=nH(t,41,o,n):c>32&&(a=o),s=i,i=r,r=-33&c}return a}(t,r,n),tH(t,r,n))}function zs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function tH(t,e,n,r){return(e=zs(t,e,n))<n&&e++,e}function nH(t,e,n,r){let i=-1,s=n;for(;s<r;){const o=t.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function P3(t,e){return function mn(t,e,n,r){const i=b(),s=de(),o=a1(2);s.firstUpdatePass&&sH(s,t,o,r),e!==ne&&e2(i,o,e)&&aH(s,s.data[p2()],i,i[J],t,i[o+1]=function tZ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=vt(U2(t)))),t}(e,n),r,o)}(t,e,null,!0),P3}function Ot(t){!function gn(t,e,n,r){const i=de(),s=a1(2);i.firstUpdatePass&&sH(i,null,s,r);const o=b();if(n!==ne&&e2(o,s,n)){const a=i.data[p2()];if(lH(a,r)&&!iH(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=wu(c,n||"")),g7(i,a,o,n,r)}else!function eZ(t,e,n,r,i,s,o,a){i===ne&&(i=ve);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let g,p=null;u===f?(c+=2,l+=2,d!==h&&(p=f,g=h)):null===f||null!==u&&u<f?(c+=2,p=u):(l+=2,p=f,g=h),null!==p&&aH(t,e,n,r,p,g,o,a),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}(i,a,o,o[J],o[s+1],o[s+1]=function JJ(t,e,n){if(null==n||""===n)return ve;const r=[],i=U2(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(oH,qJ,t,!1)}function qJ(t,e){for(let n=function UJ(t){return function eH(t){Ct.key=0,Ct.keyEnd=0,Ct.value=0,Ct.valueEnd=0,Ct.textEnd=t.length}(t),ZV(t,zs(t,0,Ct.textEnd))}(e);n>=0;n=ZV(e,n))oH(t,XV(e),FJ(e))}function iH(t,e){return e>=t.expandoStartIndex}function sH(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[p2()],o=iH(t,n);lH(s,r)&&null===e&&!o&&(e=!1),e=function KJ(t,e,n,r){const i=function Ku(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=R3(n=M7(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=M7(i,t,e,n,r),null===s){let c=function YJ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Yr(r))return t[J1(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=M7(null,t,e,c[1],r),c=R3(c,e.attrs,r),function QJ(t,e,n,r){t[J1(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function XJ(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=R3(r,t[s].hostAttrs,n);return R3(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function PJ(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=J1(o),c=Yr(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||os(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const d=J1(t[a+1]);t[r+1]=I6(d,a),0!==d&&(t[d+1]=_7(t[d+1],r)),t[a+1]=function NJ(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=I6(a,0),0!==a&&(t[a+1]=_7(t[a+1],r)),a=r;else t[r+1]=I6(c,0),0===a?a=r:t[c+1]=_7(t[c+1],r),c=r;l&&(t[r+1]=y7(t[r+1])),QV(t,u,r,!0),QV(t,u,r,!1),function RJ(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&os(s,e)>=0&&(n[r+1]=C7(n[r+1]))}(e,u,t,r,s),o=I6(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function M7(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=R3(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function R3(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),B2(t,o,!!n||e[++s]))}return void 0===t?null:t}function oH(t,e,n){B2(t,e,U2(n))}function aH(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function kJ(t){return 1==(1&t)}(l)?cH(c,e,n,i,Yr(l),o):void 0;E6(u)||(E6(s)||function TJ(t){return 2==(2&t)}(l)&&(s=cH(c,null,n,i,a,o)),function OY(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Q1.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Q1.Important),t.setStyle(n,r,i,s))}}(r,o,zc(p2(),n),i,s))}function cH(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=n[i+1];d===ne&&(d=f?ve:void 0);let h=f?a5(d,r):u===r?d:void 0;if(l&&!E6(h)&&(h=a5(c,r)),E6(h)&&(a=h,o))return a;const p=t[i+1];i=o?J1(p):Yr(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=a5(c,r))}return a}function E6(t){return void 0!==t}function lH(t,e){return 0!=(t.flags&(e?8:16))}function me(t,e=""){const n=b(),r=de(),i=t+se,s=r.firstCreatePass?vs(r,i,1,e,null):r.data[i],o=uH(r,n,s,e,t);n[i]=o,Ic()&&Kc(r,n,o,s),An(s,!1)}let uH=(t,e,n,r,i)=>(Y1(!0),function $c(t,e){return t.createText(e)}(e[J],r));function zt(t){return w7("",t,""),zt}function w7(t,e,n){const r=b(),i=function _s(t,e,n,r){return e2(t,Ji(),n)?e+X(n)+r:ne}(r,t,e,n);return i!==ne&&function h1(t,e,n){const r=zc(e,t);!function Pw(t,e,n){t.setValue(e,n)}(t[J],r,n)}(r,p2(),i),w7}function b7(t,e,n){const r=b();return e2(r,Ji(),e)&&j2(de(),Ge(),r,t,e,r[J],n,!0),b7}const Qr=void 0;var bZ=["en",[["a","p"],["AM","PM"],Qr],[["AM","PM"],Qr,Qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qr,"{1} 'at' {0}",Qr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wZ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Is={};function g2(t){const e=function VZ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xH(e);if(n)return n;const r=e.split("-")[0];if(n=xH(r),n)return n;if("en"===r)return bZ;throw new z(701,!1)}function xH(t){return t in Is||(Is[t]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[t]),Is[t]}var xe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(xe||{});const Es="en-US";let DH=Es;function S7(t,e,n,r,i){if(t=q(t),Array.isArray(t))for(let s=0;s<t.length;s++)S7(t[s],e,n,r,i);else{const s=de(),o=b(),a=Rt();let c=qr(t)?t:q(t.provide);const l=vb(t),u=1048575&a.providerIndexes,f=a.directiveStart,d=a.providerIndexes>>20;if(qr(t)||!t.multi){const h=new f3(l,i,S),p=I7(c,e,i?u:u+d,f);-1===p?(r5(Ac(a,o),s,c),z7(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=I7(c,e,u+d,f),p=I7(c,e,u,u+d),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){r5(Ac(a,o),s,c);const C=function wee(t,e,n,r,i){const s=new f3(t,n,S);return s.multi=[],s.index=e,s.componentProviders=0,nS(s,i,r&&!n),s}(i?Mee:Cee,n.length,i,r,l);!i&&v&&(n[p].providerFactory=C),z7(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else z7(s,t,h>-1?h:p,nS(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function z7(t,e,n,r){const i=qr(e),s=function _Q(t){return!!t.useClass}(e);if(i||s){const c=(s?q(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function nS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function I7(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Cee(t,e,n,r){return E7(this.multi,[])}function Mee(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=jr(n,n[T],this.providerFactory.index,r);s=a.slice(0,o),E7(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],E7(i,s);return s}function E7(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function je(t,e=[]){return n=>{n.providersResolver=(r,i)=>function _ee(t,e,n){const r=de();if(r.firstCreatePass){const i=pn(t);S7(n,r.data,r.blueprint,i,!0),S7(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Xr{}class bee{}class x7 extends Xr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fV(this);const i=function O2(t,e){const n=t[iM]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function d1(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=Lb(e,n,[{provide:Xr,useValue:this},{provide:f6,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class D7 extends bee{constructor(e){super(),this.moduleType=e}create(e){return new x7(this.moduleType,e,[])}}function v2(t,e,n){const r=h2()+t,i=b();return i[r]===ne?Pn(i,r,n?e.call(n):e()):function A3(t,e){return t[e]}(i,r)}function L2(t,e,n,r){return uS(b(),h2(),t,e,n,r)}function $3(t,e){const n=t[e];return n===ne?void 0:n}function uS(t,e,n,r,i,s){const o=e+n;return e2(t,o,i)?Pn(t,o+1,s?r.call(s,i):r(i)):$3(t,o+1)}function Ft(t,e){const n=de();let r;const i=t+se;n.firstCreatePass?(r=function Gee(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Br(r.type)),a=H2(S);try{const c=Lc(!1),l=s();return Lc(c),function HJ(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),i,l),l}finally{H2(a)}}function Fn(t,e,n){const r=t+se,i=b(),s=Qi(i,r);return G3(i,r)?uS(i,h2(),e,s.transform,n,s):s.transform(n)}function Z1(t,e,n,r,i){const s=t+se,o=b(),a=Qi(o,s);return G3(o,s)?function dS(t,e,n,r,i,s,o,a){const c=e+n;return C6(t,c,i,s,o)?Pn(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):$3(t,c+3)}(o,h2(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function G3(t,e){return t[T].data[e].pure}function A7(t){return e=>{setTimeout(t,void 0,e)}}const Bt=class Yee extends oc{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=A7(s),i&&(i=A7(i)),o&&(o=A7(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof un&&e.add(a),a}};function Qee(){return this._results[Symbol.iterator]()}class T7{get changes(){return this._changes||(this._changes=new Bt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=T7.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Qee)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function J2(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function UK(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Jee(t,e,n,r=!0){const i=e[T];if(function DY(t,e,n,r){const i=Pt+r,s=n.length;r>0&&(n[i-1][hn]=e),r<s-Pt?(e[hn]=n[i],hw(n,Pt+r,e)):(n.push(e),e[hn]=null),e[Ue]=n;const o=e[s3];null!==o&&n!==o&&function LY(t,e){const n=t[Yi];e[it]!==e[Ue][Ue][it]&&(t[_M]=!0),null===n?t[Yi]=[e]:n.push(e)}(o,e);const a=e[En];null!==a&&a.insertView(t),e[te]|=128}(i,e,t,n),r){const s=b5(n,t),o=e[J],a=Wc(o,t[xn]);null!==a&&function IY(t,e,n,r,i,s){r[nt]=i,r[Qt]=e,M3(t,r,n,1,i,s)}(i,t[Qt],o,e,a,s)}}let m1=(()=>{class e{}return e.__NG_ELEMENT_ID__=tte,e})();const Zee=m1,ete=class extends Zee{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Xee(t,e,n,r){const i=e.tView,a=p6(t,i,n,4096&t[te]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[s3]=t[e.index];const l=t[En];return null!==l&&(a[En]=l.createEmbeddedView(i)),c7(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new D3(i)}};function tte(){return T6(Rt(),b())}function T6(t,e){return 4&t.type?new ete(e,t,ps(t,e)):null}let Bn=(()=>{class e{}return e.__NG_ELEMENT_ID__=ate,e})();function ate(){return MS(Rt(),b())}const cte=Bn,_S=class extends cte{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ps(this._hostTNode,this._hostLView)}get injector(){return new m2(this._hostTNode,this._hostLView)}get parentInjector(){const e=Tc(this._hostTNode,this._hostLView);if(e5(e)){const n=h3(e,this._hostLView),r=d3(e);return new m2(n[T].data[r+8],n)}return new m2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=CS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Pt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function m3(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new L3(fe(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const v=(o?l:this.parentInjector).get(l1,null);v&&(s=v)}fe(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function iK(t){return z2(t[Ue])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Ue],u=new _S(l,l[Qt],l[Ue]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return Jee(a,i,o,!r),e.attachToViewContainerRef(),hw(N7(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=CS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=qc(this._lContainer,n);r&&(kc(N7(this._lContainer),n),_5(r[T],r))}detach(e){const n=this._adjustIndex(e,-1),r=qc(this._lContainer,n);return r&&null!=kc(N7(this._lContainer),n)?new D3(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function CS(t){return t[8]}function N7(t){return t[8]||(t[8]=[])}function MS(t,e){let n;const r=e[t.index];return z2(r)?n=r:(n=eV(r,e,null,t),e[t.index]=n,m6(e,n)),wS(n,e,t,r),new _S(n,t,e)}let wS=function bS(t,e,n,r){if(t[xn])return;let i;i=8&n.type?Ee(r):function lte(t,e){const n=t[J],r=n.createComment(""),i=I2(e,t);return $r(n,Wc(n,i),r,function kY(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[xn]=i};class k7{constructor(e){this.queryList=e,this.matches=null}clone(){return new k7(this.queryList)}setDirty(){this.queryList.setDirty()}}class P7{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new P7(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==DS(e,n).matches&&this.queries[n].setDirty()}}class VS{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class R7{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new R7(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class O7{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new O7(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,dte(n,s)),this.matchTNodeWithReadOption(e,n,Nc(n,e,s,!1,!1))}else r===m1?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Nc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===en||i===Bn||i===m1&&4&n.type)this.addMatch(n.index,-2);else{const s=Nc(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function dte(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function pte(t,e,n,r){return-1===n?function hte(t,e){return 11&t.type?ps(t,e):4&t.type?T6(t,e):null}(e,t):-2===n?function mte(t,e,n){return n===en?ps(e,t):n===m1?T6(e,t):n===Bn?MS(e,t):void 0}(t,e,r):jr(t,t[T],n,e)}function HS(t,e,n,r){const i=e[En].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:pte(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function F7(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=HS(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let f=Pt;f<u.length;f++){const d=u[f];d[s3]===d[Ue]&&F7(d[T],d,l,r)}if(null!==u[Yi]){const f=u[Yi];for(let d=0;d<f.length;d++){const h=f[d];F7(h[T],h,l,r)}}}}}return r}function SS(t){const e=b(),n=de(),r=$M();Yu(r+1);const i=DS(n,r);if(t.dirty&&function nK(t){return 4==(4&t[te])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?F7(n,e,r,[]):HS(n,e,i,r);t.reset(s,FQ),t.notifyOnChanges()}return!0}return!1}function zS(t,e,n){const r=de();r.firstCreatePass&&(function xS(t,e,n){null===t.queries&&(t.queries=new R7),t.queries.track(new O7(e,n))}(r,new VS(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function ES(t,e,n){const r=new T7(4==(4&n));(function fX(t,e,n,r){const i=nV(e);i.push(n),t.firstCreatePass&&rV(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[En]&&(e[En]=new P7),e[En].queries.push(new k7(r))}(r,b(),e)}function DS(t,e){return t.queries.getByIndex(e)}const Fte=new U("Application Initializer");let G7=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(Fte,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(z6(o))r.push(o);else if(TV(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const g1=new U("LocaleId",{providedIn:"root",factory:()=>R(g1,ce.Optional|ce.SkipSelf)||function Ute(){return typeof $localize<"u"&&$localize.locale||Es}()});let Gte=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new uq(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function JS(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bt(!1),this.onMicrotaskEmpty=new Bt(!1),this.onStable=new Bt(!1),this.onError=new Bt(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function d2e(){const t="function"==typeof He.requestAnimationFrame;let e=He[t?"requestAnimationFrame":"setTimeout"],n=He[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function m2e(t){const e=()=>{!function p2e(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(He,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Y7(t),t.isCheckStableRunning=!0,K7(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Y7(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ZS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ez(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return ZS(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),ez(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Y7(t),K7(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,h2e,JS,JS);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const h2e={};function K7(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Y7(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ZS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ez(t){t._nesting--,K7(t)}class g2e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bt,this.onMicrotaskEmpty=new Bt,this.onStable=new Bt,this.onError=new Bt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const tz=new U("",{providedIn:"root",factory:nz});function nz(){const t=R(Te);let e=!0;return Jq(new tt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new tt(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(YC()))}const rz=new U(""),R6=new U("");let J7,Q7=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,J7||(function v2e(t){J7=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Te),ie(X7),ie(R6))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),e})(),X7=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return J7?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),er=null;const iz=new U("AllowMultipleToken"),Z7=new U("PlatformDestroyListeners"),sz=new U("appBootstrapListener");function cz(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let o=ef();if(!o||o.injector.get(iz,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function C2e(t){if(er&&!er.get(iz,!1))throw new z(400,!1);(function oz(){!function qW(t){HM=t}(()=>{throw new z(600,!1)})})(),er=t;const e=t.get(uz);(function az(t){t.get(yb,null)?.forEach(n=>n())})(t)}(function lz(t=[],e){return Zt.create({name:e,providers:[{provide:T5,useValue:"platform"},{provide:Z7,useValue:new Set([()=>er=null])},...t]})}(a,r))}return function w2e(t){const e=ef();if(!e)throw new z(401,!1);return e}()}}function ef(){return er?.get(uz)??null}let uz=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function b2e(t="zone.js",e){return"noop"===t?new g2e:"zone.js"===t?new Te(e):t}(i?.ngZone,function fz(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function Hee(t,e,n){return new x7(t,e,n)}(r.moduleType,this.injector,function gz(t){return[{provide:Te,useFactory:t},{provide:e6,multi:!0,useFactory:()=>{const e=R(H2e,{optional:!0});return()=>e.initialize()}},{provide:mz,useFactory:V2e},{provide:tz,useFactory:nz}]}(()=>s)),a=o.injector.get(Wr,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{O6(this._modules,o),c.unsubscribe()})}),function dz(t,e,n){try{const r=n();return z6(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(G7);return c.runInitializers(),c.donePromise.then(()=>(function LH(t){Q2(t,"Expected localeId to be defined"),"string"==typeof t&&(DH=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(g1,Es)||Es),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=hz({},i);return function y2e(t,e,n){const r=new D7(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(K3);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new z(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Z7,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Zt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function hz(t,e){return Array.isArray(e)?e.reduce(hz,t):{...t,...e}}let K3=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(mz),this.zoneIsStable=R(tz),this.componentTypes=[],this.components=[],this.isStable=R(Gte).hasPendingTasks.pipe(function eW(t,e){return U1((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(n1(r,c=>{i?.unsubscribe();let l=0;const u=s++;Sn(t(c,u)).subscribe(i=n1(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}(r=>r?function Zq(...t){return Cu(t,WC(t))}(!1):this.zoneIsStable),function tW(t,e=sc){return t=t??nW,U1((n,r)=>{let i,s=!0;n.subscribe(n1(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),YC()),this._injector=R(l1)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof Vb;if(!this._injector.get(G7).done)throw!s&&function n3(t){const e=fe(t)||kt(t)||d2(t);return null!==e&&e.standalone}(r),new z(405,!1);let a;a=s?r:this._injector.get(f6).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function _2e(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Xr),u=a.create(Zt.NULL,[],i||a.selector,c),f=u.location.nativeElement,d=u.injector.get(rz,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),O6(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;O6(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(sz,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>O6(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new z(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function O6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mz=new U("",{providedIn:"root",factory:()=>R(Wr).handleError.bind(void 0)});function V2e(){const t=R(Te),e=R(Wr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let H2e=(()=>{var t;class e{constructor(){this.zone=R(Te),this.applicationRef=R(K3)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let F6=(()=>{class e{}return e.__NG_ELEMENT_ID__=I2e,e})();function I2e(t){return function E2e(t,e,n){if(Fr(t)&&!n){const r=F2(t.index,e);return new D3(r,r)}return 47&t.type?new D3(e[it],e):null}(Rt(),b(),16==(16&t))}class Cz{constructor(){}supports(e){return _6(e)}create(e){return new N2e(e)}}const T2e=(t,e)=>e;class N2e{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||T2e}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<wz(r,i,s)?n:r,a=wz(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!_6(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function iJ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new k2e(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Mz),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mz),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class k2e{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class P2e{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Mz{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new P2e,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wz(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class bz{constructor(){}supports(e){return e instanceof Map||l7(e)}create(){return new R2e}}class R2e{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||l7(e)))throw new z(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new O2e(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class O2e{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vz(){return new j6([new Cz])}let j6=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Vz()),deps:[[e,new l5,new E2]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new z(901,!1)}}return(t=e).\u0275prov=ee({token:t,providedIn:"root",factory:Vz}),e})();function Hz(){return new Y3([new bz])}let Y3=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Hz()),deps:[[e,new l5,new E2]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new z(901,!1)}}return(t=e).\u0275prov=ee({token:t,providedIn:"root",factory:Hz}),e})();const U2e=cz(null,"core",[]);let j2e=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(K3))},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({}),e})();let lf=null;function Q3(){return lf}class nne{}const v1=new U("DocumentToken");var G6=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(G6||{}),st=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(st||{});function nn(t,e){const n=g2(t),r=n[xe.NumberSymbols][e];if(typeof r>"u"){if(e===st.CurrencyDecimal)return n[xe.NumberSymbols][st.Decimal];if(e===st.CurrencyGroup)return n[xe.NumberSymbols][st.Group]}return r}const Dne=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function vf(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const _f=/\s+/,Bz=[];let Uz=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=Bz,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(_f):Bz}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(_f):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(_f).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(S(j6),S(Y3),S(en),S(f1))},t.\u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class $ne{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cf=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new $ne(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),$z(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{$z(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Bn),S(m1),S(j6))},t.\u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function $z(t,e){t.context.$implicit=e.item}let As=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Gne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Gz("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Gz("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Bn),S(m1))},t.\u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Gne{constructor(){this.$implicit=null,this.ngIf=null}}function Gz(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}function yn(t,e){return new z(2100,!1)}class Kne{createSubscription(e,n){return SM(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){SM(()=>e.unsubscribe())}}class Yne{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Qne=new Yne,Xne=new Kne;let bf=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(z6(r))return Qne;if(TV(r))return Xne;throw yn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(S(F6,16))},t.\u0275pipe=Yt({name:"async",type:t,pure:!1,standalone:!0}),e})(),Wz=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=Kz}transform(r,i=Kz){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function u1e(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Y3,16))},t.\u0275pipe=Yt({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function Kz(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Ts=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function Vf(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function Pne(t,e,n){return function mf(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function One(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function Rne(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const y=s.match(Dne);if(null===y)throw new Error(`${s} is not a valid digit info`);const w=y[1],E=y[3],A=y[5];null!=w&&(u=vf(w)),null!=E&&(f=vf(E)),null!=A?d=vf(A):null!=E&&f>d&&(d=f)}!function Fne(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(c=h.every(y=>!y);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const C=[];for(h.length>=e.lgSize&&C.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)C.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&C.unshift(h.join("")),a=C.join(nn(n,r)),v.length&&(a+=nn(n,i)+v.join("")),g&&(a+=nn(n,st.Exponential)+"+"+g)}else a=nn(n,st.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function gf(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const f=c.charAt(u);"0"===f?n.minFrac=n.maxFrac=u+1:"#"===f?n.maxFrac=u+1:n.posSuf+=f}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf("#");n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function uf(t,e){return g2(t)[xe.NumberFormats][e]}(e,G6.Decimal),nn(e,st.MinusSign)),e,st.Group,st.Decimal,n)}(function Hf(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw yn()}}}return(t=e).\u0275fac=function(r){return new(r||t)(S(g1,16))},t.\u0275pipe=Yt({name:"number",type:t,pure:!0,standalone:!0}),e})();let h1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({}),e})();const p1e="server";function Sf(t){return t===p1e}class B1e extends nne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ef extends B1e{static makeCurrent(){!function tne(t){lf||(lf=t)}(new Ef)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function U1e(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}();return null==n?null:function j1e(t){r0=r0||document.createElement("a"),r0.setAttribute("href",t);const e=r0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Une(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let r0,ea=null,G1e=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),e})();const xf=new U("EventManagerPlugins");let eI=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(xf),ie(Te))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),e})();class tI{constructor(e){this._doc=e}}const Df="ng-app-id";let nI=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sf(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Df}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Df),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Df,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(v1),ie(s6),ie(_b,8),ie(u1))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),e})();const Lf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Af=/%COMP%/g,Y1e=new U("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function iI(t,e){return e.map(n=>n.replace(Af,t))}let sI=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Sf(c),this.defaultRenderer=new Tf(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===fn.ShadowDom&&(i={...i,encapsulation:fn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof aI?s.applyToHost(r):s instanceof Nf&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case fn.Emulated:o=new aI(l,u,i,this.appId,f,a,c,d);break;case fn.ShadowDom:return new Z1e(l,u,r,i,a,c,this.nonce,d);default:o=new Nf(l,u,i,f,a,c,d)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(eI),ie(nI),ie(s6),ie(Y1e),ie(v1),ie(u1),ie(Te),ie(_b))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),e})();class Tf{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Lf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Lf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Lf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Q1.DashCase|Q1.Important)?e.style.setProperty(n,r,i&Q1.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Q1.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Q3().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function oI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Z1e extends Tf{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=iI(i.id,i.styles);for(const u of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nf extends Tf{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?iI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class aI extends Nf{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function Q1e(t){return"_ngcontent-%COMP%".replace(Af,t)}(l),this.hostAttr=function X1e(t){return"_nghost-%COMP%".replace(Af,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let ere=(()=>{var t;class e extends tI{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(v1))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),e})();const cI=["alt","control","meta","shift"],tre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nre={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let rre=(()=>{var t;class e extends tI{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Q3().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),cI.forEach(u=>{const f=i.indexOf(u);f>-1&&(i.splice(f,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=tre[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),cI.forEach(a=>{a!==s&&(0,nre[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(v1))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),e})();const uI=[{provide:u1,useValue:"browser"},{provide:yb,useValue:function ire(){Ef.makeCurrent()},multi:!0},{provide:v1,useFactory:function ore(){return function $Y(t){S5=t}(document),document},deps:[]}],are=cz(U2e,"browser",uI),cre=new U(""),fI=[{provide:R6,useClass:class $1e{addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new z(5103,!1);return s},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Q3().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:rz,useClass:Q7,deps:[Te,X7,R6]},{provide:Q7,useClass:Q7,deps:[Te,X7,R6]}],dI=[{provide:T5,useValue:"root"},{provide:Wr,useFactory:function sre(){return new Wr},deps:[]},{provide:xf,useClass:ere,multi:!0,deps:[v1,Te,u1]},{provide:xf,useClass:rre,multi:!0,deps:[v1]},sI,nI,eI,{provide:Sb,useExisting:sI},{provide:class y1e{},useClass:G1e,deps:[]},[]];let Zr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:s6,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(cre,12))},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[...dI,...fI],imports:[h1e,j2e]}),e})();typeof window<"u"&&window;let mI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:function(r){let i=null;return i=r?new(r||t):ie(gI),i},providedIn:"root"}),e})(),gI=(()=>{var t;class e extends mI{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case Z2.NONE:return i;case Z2.HTML:return Nn(i,"HTML")?U2(i):ob(this._doc,String(i)).toString();case Z2.STYLE:return Nn(i,"Style")?U2(i):i;case Z2.SCRIPT:if(Nn(i,"Script"))return U2(i);throw new z(5200,!1);case Z2.URL:return Nn(i,"URL")?U2(i):Jc(String(i));case Z2.RESOURCE_URL:if(Nn(i,"ResourceURL"))return U2(i);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(r){return function XY(t){return new GY(t)}(r)}bypassSecurityTrustStyle(r){return function JY(t){return new qY(t)}(r)}bypassSecurityTrustScript(r){return function ZY(t){return new WY(t)}(r)}bypassSecurityTrustUrl(r){return function eQ(t){return new KY(t)}(r)}bypassSecurityTrustResourceUrl(r){return function tQ(t){return new YY(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(v1))},t.\u0275prov=ee({token:t,factory:function(r){let i=null;return i=r?new r:function pre(t){return new gI(t.get(v1))}(ie(Zt)),i},providedIn:"root"}),e})();var kE={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},Ax={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},ZD={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},td={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},ra={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},gT={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},bd={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function qN(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){qN(s,r,i,o,a,"next",c)}function a(c){qN(s,r,i,o,a,"throw",c)}o(void 0)})}}const WN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ld={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let d=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(d=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==f)throw new Owe;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Owe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C0=function(t){return function(t){const e=WN(t);return Ld.encodeByteArray(e,!0)}(t).replace(/\./g,"")},M0=function(t){try{return Ld.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const w0=()=>{try{return YN().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M0(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},QN=t=>{var e,n;return null===(n=null===(e=w0())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},XN=()=>{var t;return null===(t=w0())||void 0===t?void 0:t.config},JN=t=>{var e;return null===(e=w0())||void 0===e?void 0:e[`_${t}`]};class Ns{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function It(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ad(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function nr(){try{return"object"==typeof indexedDB}catch{return!1}}function aa(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Td(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class sn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}}class Un{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Jwe(t,e){return t.replace(Zwe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new sn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Zwe=/\{\$([^}]+)}/g;function V0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ek(s)&&ek(o)){if(!V0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ek(t){return null!==t&&"object"==typeof t}function ca(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function la(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ua(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class nbe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function rbe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Nd),void 0===i.error&&(i.error=Nd),void 0===i.complete&&(i.complete=Nd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nd(){}const ibe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},sbe=1e3,obe=2,abe=144e5,cbe=.5;function H0(t,e=sbe,n=obe){const r=e*Math.pow(n,t),i=Math.round(cbe*r*(Math.random()-.5)*2);return Math.min(abe,r+i)}function ot(t){return t&&t._delegate?t._delegate:t}class n2{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ei="[DEFAULT]";class ube{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ns;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function dbe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ei?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class hbe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ube(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Pd=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const tk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},pbe=ge.INFO,mbe={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},gbe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=mbe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ks{constructor(e){this.name=e,this._logLevel=pbe,this._logHandler=gbe,this._userLogHandler=null,Pd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const vbe=(t,e)=>e.some(n=>t instanceof n);let nk,rk;const ik=new WeakMap,Rd=new WeakMap,sk=new WeakMap,Od=new WeakMap,Fd=new WeakMap;let Bd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Rd.get(t);if("objectStoreNames"===e)return t.objectStoreNames||sk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Vbe(t){return"function"==typeof t?function bbe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _be(){return rk||(rk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ud(this),e),rr(ik.get(this))}:function(...e){return rr(t.apply(Ud(this),e))}:function(e,...n){const r=t.call(Ud(this),e,...n);return sk.set(r,e.sort?e.sort():[e]),rr(r)}}(t):(t instanceof IDBTransaction&&function Mbe(t){if(Rd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rd.set(t,e)}(t),vbe(t,function ybe(){return nk||(nk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Bd):t)}function rr(t){if(t instanceof IDBRequest)return function Cbe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ik.set(n,t)}).catch(()=>{}),Fd.set(e,t),e}(t);if(Od.has(t))return Od.get(t);const e=Vbe(t);return e!==t&&(Od.set(t,e),Fd.set(e,t)),e}const Ud=t=>Fd.get(t),Sbe=["get","getKey","getAll","getAllKeys","count"],zbe=["put","add","delete","clear"],jd=new Map;function ok(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zbe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Sbe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return jd.set(e,s),s}!function wbe(t){Bd=t(Bd)}(t=>({...t,get:(e,n,r)=>ok(e,n)||t.get(e,n,r),has:(e,n)=>!!ok(e,n)||t.has(e,n)}));class Ibe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Ebe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const $d="@firebase/app",ti=new ks("@firebase/app"),S0="[DEFAULT]",tVe={[$d]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ni=new Map,z0=new Map;function nVe(t,e){try{t.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function C2(t){const e=t.name;if(z0.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;z0.set(e,t);for(const n of ni.values())nVe(n,t);return!0}function ir(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const C1=new Un("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class iVe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new n2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw C1.create("app-deleted",{appName:this._name})}}const ri="9.23.0";function ck(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:S0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw C1.create("bad-app-name",{appName:String(i)});if(n||(n=XN()),!n)throw C1.create("no-options");const s=ni.get(i);if(s){if(V0(n,s.options)&&V0(r,s.config))return s;throw C1.create("duplicate-app",{appName:i})}const o=new hbe(i);for(const c of z0.values())o.addComponent(c);const a=new iVe(n,r,o);return ni.set(i,a),a}function fa(t=S0){const e=ni.get(t);if(!e&&t===S0&&XN())return ck();if(!e)throw C1.create("no-app",{appName:t});return e}function lk(){return Array.from(ni.values())}function qe(t,e,n){var r;let i=null!==(r=tVe[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ti.warn(a.join(" "))}C2(new n2(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const sVe="firebase-heartbeat-database",oVe=1,da="firebase-heartbeat-store";let qd=null;function uk(){return qd||(qd=function Hbe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=rr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(rr(o.result),c.oldVersion,c.newVersion,rr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(sVe,oVe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(da)}}).catch(t=>{throw C1.create("idb-open",{originalErrorMessage:t.message})})),qd}function Wd(){return(Wd=m(function*(t){try{return yield(yield uk()).transaction(da).objectStore(da).get(dk(t))}catch(e){if(e instanceof sn)ti.warn(e.message);else{const n=C1.create("idb-get",{originalErrorMessage:e?.message});ti.warn(n.message)}}})).apply(this,arguments)}function fk(t,e){return Kd.apply(this,arguments)}function Kd(){return(Kd=m(function*(t,e){try{const r=(yield uk()).transaction(da,"readwrite");yield r.objectStore(da).put(e,dk(t)),yield r.done}catch(n){if(n instanceof sn)ti.warn(n.message);else{const r=C1.create("idb-set",{originalErrorMessage:n?.message});ti.warn(r.message)}}})).apply(this,arguments)}function dk(t){return`${t.name}!${t.options.appId}`}class uVe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dVe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=hk(),{heartbeatsToSend:r,unsentEntries:i}=function fVe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=C0(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function hk(){return(new Date).toISOString().substring(0,10)}class dVe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!nr()&&aa().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function aVe(t){return Wd.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return fk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return fk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function pk(t){return C0(JSON.stringify({version:2,heartbeats:t})).length}!function hVe(t){C2(new n2("platform-logger",e=>new Ibe(e),"PRIVATE")),C2(new n2("heartbeat",e=>new uVe(e),"PRIVATE")),qe($d,"0.9.13",t),qe($d,"0.9.13","esm2017"),qe("fire-js","")}(""),qe("firebase","9.23.0","app");const gVe=(t,e)=>e.some(n=>t instanceof n);let mk,gk;const vk=new WeakMap,Yd=new WeakMap,yk=new WeakMap,Qd=new WeakMap,Xd=new WeakMap;let Jd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Yd.get(t);if("objectStoreNames"===e)return t.objectStoreNames||yk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function bVe(t){return"function"==typeof t?function wVe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yVe(){return gk||(gk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Zd(this),e),sr(vk.get(this))}:function(...e){return sr(t.apply(Zd(this),e))}:function(e,...n){const r=t.call(Zd(this),e,...n);return yk.set(r,e.sort?e.sort():[e]),sr(r)}}(t):(t instanceof IDBTransaction&&function CVe(t){if(Yd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yd.set(t,e)}(t),gVe(t,function vVe(){return mk||(mk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Jd):t)}function sr(t){if(t instanceof IDBRequest)return function _Ve(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(sr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vk.set(n,t)}).catch(()=>{}),Xd.set(e,t),e}(t);if(Qd.has(t))return Qd.get(t);const e=bVe(t);return e!==t&&(Qd.set(t,e),Xd.set(e,t)),e}const Zd=t=>Xd.get(t),HVe=["get","getKey","getAll","getAllKeys","count"],SVe=["put","add","delete","clear"],e9=new Map;function _k(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(e9.get(e))return e9.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SVe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!HVe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return e9.set(e,s),s}!function MVe(t){Jd=t(Jd)}(t=>({...t,get:(e,n,r)=>_k(e,n)||t.get(e,n,r),has:(e,n)=>!!_k(e,n)||t.has(e,n)}));const Ck="@firebase/installations",t9="0.6.4",Mk=1e4,wk=`w:${t9}`,bk="FIS_v2",zVe="https://firebaseinstallations.googleapis.com/v1",IVe=36e5,M1=new Un("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vk(t){return t instanceof sn&&t.code.includes("request-failed")}function n9({projectId:t}){return`${zVe}/projects/${t}/installations`}function Hk(t){return{token:t.token,requestStatus:2,expiresIn:LVe(t.expiresIn),creationTime:Date.now()}}function r9(t,e){return i9.apply(this,arguments)}function i9(){return(i9=m(function*(t,e){const r=(yield e.json()).error;return M1.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Sk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function s9(t){return o9.apply(this,arguments)}function o9(){return(o9=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function LVe(t){return Number(t.replace("s","000"))}function a9(){return(a9=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=n9(t),i=Sk(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:bk,appId:t.appId,sdkVersion:wk})},c=yield s9(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Hk(l.authToken)}}throw yield r9("Create Installation",c)})).apply(this,arguments)}function Ik(t){return new Promise(e=>{setTimeout(e,t)})}const kVe=/^[cdef][\w-]{21}$/,c9="";function PVe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function RVe(t){return function NVe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return kVe.test(n)?n:c9}catch{return c9}}function Ps(t){return`${t.appName}!${t.appId}`}const Rs=new Map;function Ek(t,e){const n=Ps(t);xk(n,e),function BVe(t,e){const n=function Dk(){return!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=t=>{xk(t.data.key,t.data.fid)}),ii}();n&&n.postMessage({key:t,fid:e}),function Lk(){0===Rs.size&&ii&&(ii.close(),ii=null)}()}(n,e)}function xk(t,e){const n=Rs.get(t);if(n)for(const r of n)r(e)}let ii=null;const UVe="firebase-installations-database",jVe=1,si="firebase-installations-store";let l9=null;function u9(){return l9||(l9=function VVe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=sr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(sr(o.result),c.oldVersion,c.newVersion,sr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(UVe,jVe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(si)}})),l9}function I0(t,e){return f9.apply(this,arguments)}function f9(){return(f9=m(function*(t,e){const n=Ps(t),i=(yield u9()).transaction(si,"readwrite"),s=i.objectStore(si),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&Ek(t,e.fid),e})).apply(this,arguments)}function d9(t){return h9.apply(this,arguments)}function h9(){return(h9=m(function*(t){const e=Ps(t),r=(yield u9()).transaction(si,"readwrite");yield r.objectStore(si).delete(e),yield r.done})).apply(this,arguments)}function ha(t,e){return p9.apply(this,arguments)}function p9(){return(p9=m(function*(t,e){const n=Ps(t),i=(yield u9()).transaction(si,"readwrite"),s=i.objectStore(si),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&Ek(t,a.fid),a})).apply(this,arguments)}function m9(t){return g9.apply(this,arguments)}function g9(){return g9=m(function*(t){let e;const n=yield ha(t.appConfig,r=>{const i=function $Ve(t){return Tk(t||{fid:PVe(),registrationStatus:0})}(r),s=function GVe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(M1.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function qVe(t,e){return v9.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:WVe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===c9?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),g9.apply(this,arguments)}function v9(){return v9=m(function*(t,e){try{const n=yield function TVe(t,e){return a9.apply(this,arguments)}(t,e);return I0(t.appConfig,n)}catch(n){throw Vk(n)&&409===n.customData.serverCode?yield d9(t.appConfig):yield I0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),v9.apply(this,arguments)}function WVe(t){return y9.apply(this,arguments)}function y9(){return(y9=m(function*(t){let e=yield Ak(t.appConfig);for(;1===e.registrationStatus;)yield Ik(100),e=yield Ak(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield m9(t);return r||n}return e})).apply(this,arguments)}function Ak(t){return ha(t,e=>{if(!e)throw M1.create("installation-not-found");return Tk(e)})}function Tk(t){return function KVe(t){return 1===t.registrationStatus&&t.registrationTime+Mk<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function _9(){return(_9=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function QVe(t,{fid:e}){return`${n9(t)}/${e}/authTokens:generate`}(t,n),i=function zk(t,{refreshToken:e}){const n=Sk(t);return n.append("Authorization",function AVe(t){return`${bk} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:wk,appId:t.appId}})},c=yield s9(()=>fetch(r,a));if(c.ok)return Hk(yield c.json());throw yield r9("Generate Auth Token",c)})).apply(this,arguments)}function C9(t){return M9.apply(this,arguments)}function M9(){return M9=m(function*(t,e=!1){let n;const r=yield ha(t.appConfig,s=>{if(!kk(s))throw M1.create("not-registered");const o=s.authToken;if(!e&&function ZVe(t){return 2===t.requestStatus&&!function eHe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IVe}(t)}(o))return s;if(1===o.requestStatus)return n=function XVe(t,e){return w9.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw M1.create("app-offline");const a=function tHe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function JVe(t,e){return b9.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),M9.apply(this,arguments)}function w9(){return(w9=m(function*(t,e){let n=yield Nk(t.appConfig);for(;1===n.authToken.requestStatus;)yield Ik(100),n=yield Nk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?C9(t,e):r})).apply(this,arguments)}function Nk(t){return ha(t,e=>{if(!kk(e))throw M1.create("not-registered");return function nHe(t){return 1===t.requestStatus&&t.requestTime+Mk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function b9(){return b9=m(function*(t,e){try{const n=yield function YVe(t,e){return _9.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield I0(t.appConfig,r),n}catch(n){if(!Vk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield I0(t.appConfig,r)}else yield d9(t.appConfig);throw n}}),b9.apply(this,arguments)}function kk(t){return void 0!==t&&2===t.registrationStatus}function V9(){return(V9=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield m9(e);return r?r.catch(console.error):C9(e).catch(console.error),n.fid})).apply(this,arguments)}function H9(){return H9=m(function*(t,e=!1){const n=t;return yield function sHe(t){return S9.apply(this,arguments)}(n),(yield C9(n,e)).token}),H9.apply(this,arguments)}function S9(){return(S9=m(function*(t){const{registrationPromise:e}=yield m9(t);e&&(yield e)})).apply(this,arguments)}function E9(t){return M1.create("missing-app-config-values",{valueName:t})}const Pk="installations",uHe=t=>{const e=t.getProvider("app").getImmediate(),n=function cHe(t){if(!t||!t.options)throw E9("App Configuration");if(!t.name)throw E9("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw E9(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ir(e,"heartbeat"),_delete:()=>Promise.resolve()}},fHe=t=>{const n=ir(t.getProvider("app").getImmediate(),Pk).getImmediate();return{getId:()=>function rHe(t){return V9.apply(this,arguments)}(n),getToken:i=>function iHe(t){return H9.apply(this,arguments)}(n,i)}};(function dHe(){C2(new n2(Pk,uHe,"PUBLIC")),C2(new n2("installations-internal",fHe,"PRIVATE"))})(),qe(Ck,t9),qe(Ck,t9,"esm2017");const x9="@firebase/remote-config",T2=new Un("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bHe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function VHe(t=navigator){return t.languages&&t.languages[0]||t.language}class HHe{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:VHe()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),f=new Promise((C,y)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",y(w)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(C){let y="fetch-client-network";throw"AbortError"===C?.name&&(y="fetch-timeout"),T2.create(y,{originalErrorMessage:C?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(200===d.status){let C;try{C=yield d.json()}catch(y){throw T2.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=C.entries,v=C.state}if("INSTANCE_STATE_UNSPECIFIED"===v?h=500:"NO_CHANGE"===v?h=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==h&&200!==h)throw T2.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class IHe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function SHe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(T2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function zHe(t){if(!(t instanceof sn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+H0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class DHe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function x0(t,e){const n=t.target.error||void 0;return T2.create(e,{originalErrorMessage:n&&n?.message})}const oi="app_namespace_store";class NHe{constructor(e,n,r,i=function THe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(x0(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oi,{keyPath:"compositeKey"})}}catch(n){e(T2.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([oi],"readonly").objectStore(oi),c=n.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(x0(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(T2.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([oi],"readwrite").objectStore(oi),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:n});u.onerror=f=>{o(x0(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(T2.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([oi],"readwrite").objectStore(oi),c=n.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(x0(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(T2.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class kHe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function RHe(){return N9.apply(this,arguments)}function N9(){return(N9=m(function*(){if(!nr())return!1;try{return yield aa()}catch{return!1}})).apply(this,arguments)}!function PHe(){C2(new n2("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw T2.create("registration-window");if(!nr())throw T2.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw T2.create("registration-project-id");if(!o)throw T2.create("registration-api-key");if(!a)throw T2.create("registration-app-id");const c=new NHe(a,r.name,n=n||"firebase"),l=new kHe(c),u=new ks(x9);u.logLevel=ge.ERROR;const f=new HHe(i,ri,n,s,o,a),d=new IHe(f,c),h=new bHe(d,c,l,u),p=new DHe(r,h,l,c,u);return function CHe(t){const e=ot(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),qe(x9,"0.4.4"),qe(x9,"0.4.4","esm2017")}();const OHe=(t,e)=>e.some(n=>t instanceof n);let Bk,Uk;const jk=new WeakMap,k9=new WeakMap,$k=new WeakMap,P9=new WeakMap,R9=new WeakMap;let O9={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return k9.get(t);if("objectStoreNames"===e)return t.objectStoreNames||$k.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return w1(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qHe(t){return"function"==typeof t?function GHe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function BHe(){return Uk||(Uk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(F9(this),e),w1(jk.get(this))}:function(...e){return w1(t.apply(F9(this),e))}:function(e,...n){const r=t.call(F9(this),e,...n);return $k.set(r,e.sort?e.sort():[e]),w1(r)}}(t):(t instanceof IDBTransaction&&function jHe(t){if(k9.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});k9.set(t,e)}(t),OHe(t,function FHe(){return Bk||(Bk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,O9):t)}function w1(t){if(t instanceof IDBRequest)return function UHe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(w1(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jk.set(n,t)}).catch(()=>{}),R9.set(e,t),e}(t);if(P9.has(t))return P9.get(t);const e=qHe(t);return e!==t&&(P9.set(t,e),R9.set(e,t)),e}const F9=t=>R9.get(t);function Gk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=w1(o);return r&&o.addEventListener("upgradeneeded",c=>{r(w1(o.result),c.oldVersion,c.newVersion,w1(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function B9(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),w1(n).then(()=>{})}const WHe=["get","getKey","getAll","getAllKeys","count"],KHe=["put","add","delete","clear"],U9=new Map;function qk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(U9.get(e))return U9.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KHe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!WHe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return U9.set(e,s),s}!function $He(t){O9=t(O9)}(t=>({...t,get:(e,n,r)=>qk(e,n)||t.get(e,n,r),has:(e,n)=>!!qk(e,n)||t.has(e,n)}));const YHe="/firebase-messaging-sw.js",QHe="/firebase-cloud-messaging-push-scope",Wk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",XHe="https://fcmregistrations.googleapis.com/v1",Kk="google.c.a.c_id",JHe="google.c.a.c_l",ZHe="google.c.a.ts";var D0=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(D0||{});function b1(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nSe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const j9="fcm_token_details_db",rSe=5,Yk="fcm_token_object_Store";function $9(){return $9=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(j9))return null;let e=null;return(yield Gk(j9,rSe,{upgrade:(r=m(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(Yk))return;const l=a.objectStore(Yk),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(c=f.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:b1(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:b1(f.auth),p256dh:b1(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:b1(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:b1(f.auth),p256dh:b1(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:b1(f.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield B9(j9),yield B9("fcm_vapid_details_db"),yield B9("undefined"),function sSe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),$9.apply(this,arguments)}const oSe="firebase-messaging-database",aSe=1,ai="firebase-messaging-store";let G9=null;function q9(){return G9||(G9=Gk(oSe,aSe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ai)}})),G9}function Qk(t){return W9.apply(this,arguments)}function W9(){return W9=m(function*(t){const e=X9(t),r=yield(yield q9()).transaction(ai).objectStore(ai).get(e);if(r)return r;{const i=yield function iSe(t){return $9.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield K9(t,i),i}}),W9.apply(this,arguments)}function K9(t,e){return Y9.apply(this,arguments)}function Y9(){return(Y9=m(function*(t,e){const n=X9(t),i=(yield q9()).transaction(ai,"readwrite");return yield i.objectStore(ai).put(e,n),yield i.done,e})).apply(this,arguments)}function Q9(){return(Q9=m(function*(t){const e=X9(t),r=(yield q9()).transaction(ai,"readwrite");yield r.objectStore(ai).delete(e),yield r.done})).apply(this,arguments)}function X9({appConfig:t}){return t.appId}const Ut=new Un("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uSe(t,e){return J9.apply(this,arguments)}function J9(){return(J9=m(function*(t,e){const n=yield nh(t),r=Jk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(th(t.appConfig),i)).json()}catch(o){throw Ut.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Ut.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ut.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Z9(){return(Z9=m(function*(t,e){const n=yield nh(t),r=Jk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${th(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ut.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Ut.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ut.create("token-update-no-token");return s.token})).apply(this,arguments)}function Xk(t,e){return eh.apply(this,arguments)}function eh(){return(eh=m(function*(t,e){const r={method:"DELETE",headers:yield nh(t)};try{const s=yield(yield fetch(`${th(t.appConfig)}/${e}`,r)).json();if(s.error)throw Ut.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ut.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function th({projectId:t}){return`${XHe}/projects/${t}/registrations`}function nh(t){return rh.apply(this,arguments)}function rh(){return(rh=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function Jk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Wk&&(i.web.applicationPubKey=r),i}const dSe=6048e5;function ih(){return ih=m(function*(t){const e=yield function mSe(t,e){return ch.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:b1(e.getKey("auth")),p256dh:b1(e.getKey("p256dh"))},r=yield Qk(t.firebaseDependencies);if(r){if(function gSe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+dSe?function pSe(t,e){return oh.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Xk(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return eP(t.firebaseDependencies,n)}return eP(t.firebaseDependencies,n)}),ih.apply(this,arguments)}function sh(){return sh=m(function*(t){const e=yield Qk(t.firebaseDependencies);e&&(yield Xk(t.firebaseDependencies,e.token),yield function cSe(t){return Q9.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),sh.apply(this,arguments)}function oh(){return oh=m(function*(t,e){try{const n=yield function fSe(t,e){return Z9.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield K9(t.firebaseDependencies,r),n}catch(n){throw yield function Zk(t){return sh.apply(this,arguments)}(t),n}}),oh.apply(this,arguments)}function eP(t,e){return ah.apply(this,arguments)}function ah(){return(ah=m(function*(t,e){const r={token:yield uSe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield K9(t,r),r.token})).apply(this,arguments)}function ch(){return(ch=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nSe(e)})})).apply(this,arguments)}function tP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function vSe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function ySe(t,e){e.data&&(t.data=e.data)}(e,t),function _Se(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function nP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function lh(t){return Ut.create("missing-app-config-values",{valueName:t})}nP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wSe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function MSe(t){if(!t||!t.options)throw lh("App Configuration Object");if(!t.name)throw lh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw lh(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function uh(){return(uh=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(YHe,{scope:QHe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ut.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function fh(){return(fh=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function rP(t){return uh.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ut.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function dh(){return(dh=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Wk)})).apply(this,arguments)}function hh(){return hh=m(function*(t,e){if(!navigator)throw Ut.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ut.create("permission-blocked");return yield function VSe(t,e){return dh.apply(this,arguments)}(t,e?.vapidKey),yield function bSe(t,e){return fh.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function hSe(t){return ih.apply(this,arguments)}(t)}),hh.apply(this,arguments)}function ph(){return(ph=m(function*(t,e,n){const r=function SSe(t){switch(t){case D0.NOTIFICATION_CLICKED:return"notification_open";case D0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Kk],message_name:n[JHe],message_time:n[ZHe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mh(){return mh=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===D0.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(tP(n)):t.onMessageHandler.next(tP(n)));const r=n.data;(function CSe(t){return"object"==typeof t&&!!t&&Kk in t})(r)&&"1"===r["google.c.a.e"]&&(yield function HSe(t,e,n){return ph.apply(this,arguments)}(t,n.messageType,r))}),mh.apply(this,arguments)}const sP="@firebase/messaging",ISe=t=>{const e=new wSe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function zSe(t,e){return mh.apply(this,arguments)}(e,n)),e},ESe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function iP(t,e){return hh.apply(this,arguments)}(e,r)}};function aP(){return gh.apply(this,arguments)}function gh(){return(gh=m(function*(){try{yield aa()}catch{return!1}return typeof window<"u"&&nr()&&Td()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xSe(){C2(new n2("messaging",ISe,"PUBLIC")),C2(new n2("messaging-internal",ESe,"PRIVATE")),qe(sP,"0.12.4"),qe(sP,"0.12.4","esm2017")}();const L0="analytics",ASe="firebase_id",TSe="origin",NSe=6e4,kSe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_h="https://www.googletagmanager.com/gtag/js",Et=new ks("@firebase/analytics"),M2=new Un("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function RSe(t){if(!t.startsWith(_h)){const e=M2.create("invalid-gtag-resource",{gtagURL:t});return Et.warn(e.message),""}return t}function cP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Ch(){return(Ch=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield cP(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Et.error(a)}t("config",i,s)})).apply(this,arguments)}function Mh(){return(Mh=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield cP(n);for(const c of o){const l=a.find(f=>f.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Et.error(s)}})).apply(this,arguments)}const WSe=30,lP=new class YSe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function QSe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function wh(){return(wh=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:QSe(r)},s=kSe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw M2.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function bh(){return(bh=m(function*(t,e=lP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw M2.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw M2.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new tze;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:NSe),uP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function uP(t,e,n){return Vh.apply(this,arguments)}function Vh(){return Vh=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=lP){var s;const{appId:o,measurementId:a}=t;try{yield function ZSe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(M2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Et.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function XSe(t){return wh.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function eze(t){if(!(t instanceof sn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Et.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?H0(n,i.intervalMillis,WSe):H0(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,f),Et.debug(`Calling attemptFetch again in ${u} millis`),uP(t,f,r,i)}}),Vh.apply(this,arguments)}class tze{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Hh,Lh;function Sh(){return(Sh=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Ah(){return(Ah=m(function*(){if(!nr())return Et.warn(M2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield aa()}catch(t){return Et.warn(M2.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Th(){return Th=m(function*(t,e,n,r,i,s,o){var a;const c=function JSe(t){return bh.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Et.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Et.error(h)),e.push(c);const l=function cze(){return Ah.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([c,l]);(function qSe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_h)&&n.src.includes(t))return n;return null})(s)||function FSe(t,e){const n=function OSe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:RSe}),r=document.createElement("script"),i=`${_h}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),Lh&&(i("consent","default",Lh),function fP(t){Lh=t}(void 0)),i("js",new Date);const d=null!==(a=o?.config)&&void 0!==a?a:{};return d[TSe]="firebase",d.update=!0,null!=f&&(d[ASe]=f),i("config",u.measurementId,d),Hh&&(i("set",Hh),function dP(t){Hh=t}(void 0)),u.measurementId}),Th.apply(this,arguments)}class uze{constructor(e){this.app=e}_delete(){return delete jn[this.app.options.appId],Promise.resolve()}}let jn={},hP=[];const pP={};let gP,$n,A0="dataLayer",Nh=!1;function dze(t,e,n){!function fze(){const t=[];if(Ad()&&t.push("This is a browser extension environment."),Td()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=M2.create("invalid-analytics-context",{errorInfo:e});Et.warn(n.message)}}();const r=t.options.appId;if(!r)throw M2.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw M2.create("no-api-key");Et.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jn[r])throw M2.create("already-exists",{id:r});if(!Nh){!function BSe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(A0);const{wrappedGtag:s,gtagCore:o}=function GSe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function $Se(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function jSe(t,e,n,r,i){return Mh.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function USe(t,e,n,r,i,s){return Ch.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Et.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(jn,hP,pP,A0,"gtag");$n=s,gP=o,Nh=!0}return jn[r]=function lze(t,e,n,r,i,s,o){return Th.apply(this,arguments)}(t,hP,pP,e,gP,A0,n),new uze(t)}function pze(){return kh.apply(this,arguments)}function kh(){return(kh=m(function*(){if(Ad()||!Td()||!nr())return!1;try{return yield aa()}catch{return!1}})).apply(this,arguments)}const vP="@firebase/analytics";!function gze(){C2(new n2(L0,(e,{options:n})=>dze(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),C2(new n2("analytics-internal",function t(e){try{const n=e.getProvider(L0).getImmediate();return{logEvent:(r,i,s)=>function mze(t,e,n,r){t=ot(t),function nze(t,e,n,r,i){return Sh.apply(this,arguments)}($n,jn[t.app.options.appId],e,n,r).catch(i=>Et.error(i))}(n,r,i,s)}}catch(n){throw M2.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),qe(vP,"0.10.0"),qe(vP,"0.10.0","esm2017")}();class vze extends un{constructor(e,n){super()}schedule(e,n=0){return this}}const T0={setInterval(t,e,...n){const{delegate:r}=T0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=T0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class _P extends vze{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return T0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&T0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ji(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const CP={now:()=>(CP.delegate||Date).now(),delegate:void 0};class pa{constructor(e,n=pa.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}pa.now=CP.now;class MP extends pa{constructor(e,n=pa.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Cze=new class _ze extends MP{}(class yze extends _P{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Mze=new MP(_P),ma=new z3("7.6.1"),Rh="__angularfire_symbol__analyticsIsSupportedValue",Oh="__angularfire_symbol__analyticsIsSupported",Fh="__angularfire_symbol__remoteConfigIsSupportedValue",Bh="__angularfire_symbol__remoteConfigIsSupported",Uh="__angularfire_symbol__messagingIsSupportedValue",jh="__angularfire_symbol__messagingIsSupported";function Gh(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Oh]||(globalThis[Oh]=pze().then(t=>globalThis[Rh]=t).catch(()=>globalThis[Rh]=!1)),globalThis[jh]||(globalThis[jh]=aP().then(t=>globalThis[Uh]=t).catch(()=>globalThis[Uh]=!1)),globalThis[Bh]||(globalThis[Bh]=RHe().then(t=>globalThis[Fh]=t).catch(()=>globalThis[Fh]=!1));const qh=(t,e)=>{const n=e?[e]:lk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Os(){}class wP{constructor(e,n=Cze){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class bze{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)),n.pipe(function wze(t,e,n){const r=Be(t)||e||n?{next:t,error:e,complete:n}:t;return r?U1((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(n1(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):sc}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let N0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wP(Zone.current)),this.insideAngular=n.run(()=>new wP(Zone.current,Mze)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ie(Te))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ci(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function li(t){return ci().ngZone.run(()=>t())}function Hze(t){return ci(),function Sze(t){return function(n){return(n=n.lift(new bze(t.ngZone))).pipe(lc(t.outsideAngular),cc(t.insideAngular))}}(ci())(t)}const zze=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),li(()=>t.apply(void 0,r))},r2=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)))),r[s]=zze(r[s],n));const i=function Vze(t){return ci().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof tt){const s=ci();return i.pipe(lc(s.outsideAngular),cc(s.insideAngular))}return li(()=>i)}return i instanceof tt?i.pipe(Hze):i instanceof Promise?li(()=>new Promise((s,o)=>i.then(a=>li(()=>s(a)),a=>li(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:li(()=>i)};class Fs{constructor(e){return e}}class k0{constructor(){return lk()}}const Wh=new U("angularfire2._apps"),Eze={provide:Fs,useFactory:function Ize(t){return t&&1===t.length?t[0]:new Fs(fa())},deps:[[new E2,Wh]]},xze={provide:k0,deps:[[new E2,Wh]]};function Dze(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fs(r)}}let Lze=(()=>{class t{constructor(n){qe("angularfire",ma.full,"core"),qe("angularfire",ma.full,"app"),qe("angular",zb.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ie(u1))},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[Eze,xze]}),t})();function Bs(t,...e){return{ngModule:Lze,providers:[{provide:Wh,useFactory:Dze(t),multi:!0,deps:[Te,Zt,N0,...e]}]}}const Us=r2(fa,!0),js=r2(ck,!0),Kh=new Map,bP={activated:!1,tokenObservers:[]},Aze={initialized:!1,enabled:!1};function Qe(t){return Kh.get(t)||Object.assign({},bP)}function P0(){return Aze}const Yh="https://content-firebaseappcheck.googleapis.com/v1",Pze="exchangeDebugToken",VP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Oze{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Ns,yield function Fze(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ns,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const jt=new Un("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function R0(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function Qh(t){if(!Qe(t).activated)throw jt.create("use-before-activation",{appName:t.name})}function Xh(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=O0(n)+"d:"),r&&(o+=O0(r)+"h:"),o+=O0(i)+"m:"+O0(s)+"s",o}function O0(t){return 0===t?"00":t>=10?t.toString():"0"+t}function F0(t,e){return Jh.apply(this,arguments)}function Jh(){return(Jh=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(f){throw jt.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==o.status)throw jt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(f){throw jt.create("fetch-parse-error",{originalErrorMessage:f?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function HP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Yh}/projects/${n}/apps/${r}:${Pze}?key=${i}`,body:{debug_token:e}}}const $ze="firebase-app-check-database",Gze=1,ga="firebase-app-check-store",SP="debug-token";let B0=null;function zP(){return B0||(B0=new Promise((t,e)=>{try{const n=indexedDB.open($ze,Gze);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(jt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ga,{keyPath:"compositeKey"})}}catch(n){e(jt.create("storage-open",{originalErrorMessage:n?.message}))}}),B0)}function IP(t,e){return Zh.apply(this,arguments)}function Zh(){return(Zh=m(function*(t,e){const r=(yield zP()).transaction(ga,"readwrite"),s=r.objectStore(ga).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(jt.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}function EP(t){return ep.apply(this,arguments)}function ep(){return(ep=m(function*(t){const n=(yield zP()).transaction(ga,"readonly"),i=n.objectStore(ga).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(jt.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}function xP(t){return`${t.options.appId}-${t.name}`}const va=new ks("@firebase/app-check");function tp(){return(tp=m(function*(t){if(nr()){let e;try{e=yield function qze(t){return EP(xP(t))}(t)}catch(n){va.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function np(t,e){return nr()?function Wze(t,e){return IP(xP(t),e)}(t,e).catch(n=>{va.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function rp(){return(rp=m(function*(){let t;try{t=yield function Yze(){return EP(SP)}()}catch{}if(t)return t;{const e=ibe();return function Kze(t){return IP(SP,t)}(e).catch(n=>va.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function ip(){return P0().enabled}function sp(){return op.apply(this,arguments)}function op(){return(op=m(function*(){const t=P0();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zze={error:"UNKNOWN_ERROR"};function eIe(t){return Ld.encodeString(JSON.stringify(t),!1)}function U0(t){return ap.apply(this,arguments)}function ap(){return(ap=m(function*(t,e=!1){const n=t.app;Qh(n);const r=Qe(n);let s,i=r.token;if(i&&!$s(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&($s(c)?i=c:yield np(n,void 0))}if(!e&&i&&$s(i))return{token:i.token};let a,o=!1;if(ip()){r.exchangeTokenPromise||(r.exchangeTokenPromise=F0(HP(n,yield sp()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield np(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Qe(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?va.warn(c.message):va.error(c),s=c}return i?s?a=$s(i)?{token:i.token,internalError:s}:TP(s):(a={token:i.token},r.token=i,yield np(n,i)):a=TP(s),o&&AP(n,a),a})).apply(this,arguments)}function DP(t){return cp.apply(this,arguments)}function cp(){return(cp=m(function*(t){const e=t.app;Qh(e);const{provider:n}=Qe(e);if(ip()){const r=yield sp(),{token:i}=yield F0(HP(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function lp(t,e,n,r){const{app:i}=t,s=Qe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&$s(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),LP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>LP(t))}function up(t,e){const n=Qe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function LP(t){const{app:e}=t,n=Qe(e);let r=n.tokenRefresher;r||(r=function tIe(t){const{app:e}=t;return new Oze(m(function*(){let r;if(r=Qe(e).token?yield U0(t,!0):yield U0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Qe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},VP.RETRIAL_MIN_WAIT,VP.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function AP(t,e){const n=Qe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function $s(t){return t.expireTimeMillis-Date.now()>0}function TP(t){return{token:eIe(Zze),error:t}}class nIe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Qe(this.app);for(const n of e)up(this.app,n.next);return Promise.resolve()}}function lIe(t,e){const n=new Ns;Qe(t).reCAPTCHAState={initialized:n};const i=function NP(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=R0(!1);return s?j0(t,e,s,i,n):function dIe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=R0(!1);if(!o)throw new Error("no recaptcha");j0(t,e,o,i,n)}),n.promise}function j0(t,e,n,r,i){n.ready(()=>{(function fIe(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Qe(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Qe(t).reCAPTCHAState.succeeded=!1}}),s=Qe(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function kP(t){return fp.apply(this,arguments)}function fp(){return(fp=m(function*(t){Qh(t);const n=yield Qe(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Qe(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class or{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function FP(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw jt.create("throttled",{time:Xh(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield kP(e._app).catch(a=>{throw jt.create("recaptcha-error")});if(null===(n=Qe(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw jt.create("recaptcha-error");let o;try{o=yield F0(function Uze(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Yh}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function OP(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=H0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),jt.create("throttled",{time:Xh(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=ir(e,"heartbeat"),lIe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof or&&this._siteKey===e._siteKey}}function pIe(t=fa(),e){const n=ir(t=ot(t),"app-check");if(P0().initialized||function Jze(){const t=YN(),e=P0();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Ns;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Xze(){return rp.apply(this,arguments)}())}(),ip()&&sp().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw jt.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function mIe(t,e,n){const r=function Tze(t,e){return Kh.set(t,e),Kh.get(t)}(t,Object.assign({},bP));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Qze(t){return tp.apply(this,arguments)}(t).then(i=>(i&&$s(i)&&(r.token=i,AP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),Qe(t).isTokenAutoRefreshEnabled&&lp(r,"INTERNAL",()=>{}),r}const BP="app-check-internal";!function vIe(){C2(new n2("app-check",t=>function rIe(t,e){return new nIe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(BP).initialize()})),C2(new n2(BP,t=>function iIe(t){return{getToken:e=>U0(t,e),getLimitedUseToken:()=>DP(t),addTokenListener:e=>lp(t,"INTERNAL",e),removeTokenListener:e=>up(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),qe("@firebase/app-check","0.8.0")}();const UP="app-check";class hp{constructor(e){return e}}class pp{constructor(){return qh(UP)}}const mp=new U("angularfire2.app-check-instances"),_Ie=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function CIe(t){return(e,n,r)=>{var i;!Sf(r)&&_Ie&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new hp(s)}}const MIe={provide:pp,deps:[[new E2,mp]]},wIe={provide:hp,useFactory:function yIe(t,e){const n=Gh(UP,t,e);return n&&new hp(n)},deps:[[new E2,mp],Fs,u1]};let bIe=(()=>{class t{constructor(){qe("angularfire",ma.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[wIe,MIe]}),t})();function Gs(t,...e){return{ngModule:bIe,providers:[{provide:mp,useFactory:CIe(t),multi:!0,deps:[Te,Zt,u1,N0,k0,...e]}]}}const qs=r2(pIe,!0);const VIe=function jP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$P=new Un("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$0=new ks("@firebase/auth");function G0(t,...e){$0.logLevel<=ge.ERROR&&$0.error(`Auth (${ri}): ${t}`,...e)}function N2(t,...e){throw gp(t,...e)}function G2(t,...e){return gp(t,...e)}function GP(t,e,n){const r=Object.assign(Object.assign({},VIe()),{[e]:n});return new Un("auth","Firebase",r).create(e,{appName:t.name})}function gp(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $P.create(t,...e)}function I(t,e,...n){if(!t)throw gp(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw G0(e),new Error(e)}function V1(t,e){t||Gn(e)}function ya(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function qP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class _a{constructor(e,n){this.shortDelay=e,this.longDelay=n,V1(n>e,"Short delay should be less than long delay!"),this.isMobile=function Wwe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}()||function Ywe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function SIe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function vp(){return"http:"===qP()||"https:"===qP()}()||Ad()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yp(t,e){V1(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class WP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IIe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},EIe=new _a(3e4,6e4);function We(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xe(t,e,n,r){return _p.apply(this,arguments)}function _p(){return(_p=m(function*(t,e,n,r,i={}){return KP(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ca(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),WP.fetch()(YP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function KP(t,e,n){return Cp.apply(this,arguments)}function Cp(){return(Cp=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IIe),e);try{const i=new xIe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ca(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Ca(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Ca(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Ca(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GP(t,u,l);N2(t,u)}}catch(i){if(i instanceof sn)throw i;N2(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function H1(t,e,n,r){return Mp.apply(this,arguments)}function Mp(){return(Mp=m(function*(t,e,n,r,i={}){const s=yield Xe(t,e,n,r,i);return"mfaPendingCredential"in s&&N2(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function YP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yp(t.config,i):`${t.config.apiScheme}://${i}`}class xIe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(G2(this.auth,"network-request-failed")),EIe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ca(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=G2(t,e,r);return i.customData._tokenResponse=n,i}function wp(){return(wp=m(function*(t,e){return Xe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Vp(){return(Vp=m(function*(t,e){return Xe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ma(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hp(){return(Hp=m(function*(t,e=!1){const n=ot(t),r=yield n.getIdToken(e),i=q0(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ma(Sp(i.auth_time)),issuedAtTime:Ma(Sp(i.iat)),expirationTime:Ma(Sp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Sp(t){return 1e3*Number(t)}function q0(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return G0("JWT malformed, contained fewer than 3 sections"),null;try{const i=M0(n);return i?JSON.parse(i):(G0("Failed to decode base64 JWT payload"),null)}catch(i){return G0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function S1(t,e){return zp.apply(this,arguments)}function zp(){return(zp=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof sn&&function kIe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class PIe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class QP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wa(t){return Ip.apply(this,arguments)}function Ip(){return Ip=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield S1(t,function AIe(t,e){return Vp.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function FIe(t){return t.map(e=>{var{providerId:n}=e,r=ac(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function OIe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new QP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}),Ip.apply(this,arguments)}function Ep(){return(Ep=m(function*(t){const e=ot(t);yield wa(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function xp(){return(xp=m(function*(t,e){const n=yield KP(t,{},m(function*(){const r=ca({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function NIe(t){const e=q0(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function BIe(t,e){return xp.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ba;return r&&(I("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(I("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return Gn("not implemented")}}function ar(t,e){I("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ac(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PIe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new QP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield S1(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function TIe(t){return Hp.apply(this,arguments)}(this,e)}reload(){return function RIe(t){return Ep.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wa(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield S1(e,function DIe(t,e){return wp.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,C=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:E,isAnonymous:A,providerData:j,stsTokenManager:ue}=n;I(w&&ue,e,"internal-error");const gt=ba.fromJSON(this.name,ue);I("string"==typeof w,e,"internal-error"),ar(f,e.name),ar(d,e.name),I("boolean"==typeof E,e,"internal-error"),I("boolean"==typeof A,e,"internal-error"),ar(h,e.name),ar(p,e.name),ar(g,e.name),ar(v,e.name),ar(C,e.name),ar(y,e.name);const Ht=new ui({uid:w,auth:e,email:d,emailVerified:E,displayName:f,isAnonymous:A,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:gt,createdAt:C,lastLoginAt:y});return j&&Array.isArray(j)&&(Ht.providerData=j.map(Z4=>Object.assign({},Z4))),v&&(Ht._redirectEventId=v),Ht}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new ba;i.updateFromServerResponse(n);const s=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wa(s),s})()}}const XP=new Map;function z1(t){V1(t instanceof Function,"Expected a class definition");let e=XP.get(t);return e?(V1(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XP.set(t,e),e)}const JP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function W0(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=W0(this.userKey,i.apiKey,s),this.fullPersistenceKey=W0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ui._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Ks(z1(JP),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||z1(JP);const o=W0(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const f=ui._fromJSON(e,u);l!==s&&(a=f),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Ks(s,e,r)):new Ks(s,e,r)})()}}function ZP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iR(e))return"Blackberry";if(sR(e))return"Webos";if(Dp(e))return"Safari";if((e.includes("chrome/")||tR(e))&&!e.includes("edge/"))return"Chrome";if(rR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function eR(t=It()){return/firefox\//i.test(t)}function Dp(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tR(t=It()){return/crios\//i.test(t)}function nR(t=It()){return/iemobile/i.test(t)}function rR(t=It()){return/android/i.test(t)}function iR(t=It()){return/blackberry/i.test(t)}function sR(t=It()){return/webos/i.test(t)}function K0(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oR(t=It()){return K0(t)||rR(t)||sR(t)||iR(t)||/windows phone/i.test(t)||nR(t)}function aR(t,e=[]){let n;switch(t){case"Browser":n=ZP(It());break;case"Worker":n=`${ZP(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ri}/${r}`}function cR(t,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=m(function*(t,e){return Xe(t,"GET","/v2/recaptchaConfig",We(t,e))})).apply(this,arguments)}function uR(t){return void 0!==t&&void 0!==t.enterprise}class fR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function Tp(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=G2("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function qIe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function dR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class hR{constructor(e){this.type="recaptcha-enterprise",this.auth=xt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){cR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new fR(f);return null==a.tenantId?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;uR(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&uR(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));Tp("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function cr(t,e,n){return Np.apply(this,arguments)}function Np(){return(Np=m(function*(t,e,n,r=!1){const i=new hR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class QIe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class XIe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pR(this),this.idTokenSubscription=new pR(this),this.beforeStateQueue=new QIe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$P,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=z1(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ks.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield wa(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zIe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?ot(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(z1(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield cR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fR(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new hR(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&z1(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield Ks.create(n,[z1(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return I(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function HIe(t,...e){$0.logLevel<=ge.WARN&&$0.warn(`Auth (${ri}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xt(t){return ot(t)}class pR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function tbe(t,e){const n=new nbe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}function yR(t,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=m(function*(t,e){return Xe(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Fp(t,e){return Bp.apply(this,arguments)}function Bp(){return(Bp=m(function*(t,e){return H1(t,"POST","/v1/accounts:signInWithPassword",We(t,e))})).apply(this,arguments)}function Yp(){return(Yp=m(function*(t,e){return H1(t,"POST","/v1/accounts:signInWithEmailLink",We(t,e))})).apply(this,arguments)}function Qp(){return(Qp=m(function*(t,e){return H1(t,"POST","/v1/accounts:signInWithEmailLink",We(t,e))})).apply(this,arguments)}class Va extends kp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Va(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Va(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield cr(e,i,"signInWithPassword");return Fp(e,s)}return Fp(e,i).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield cr(e,i,"signInWithPassword");return Fp(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function oEe(t,e){return Yp.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:N2(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return yR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function aEe(t,e){return Qp.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:N2(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function I1(t,e){return Xp.apply(this,arguments)}function Xp(){return(Xp=m(function*(t,e){return H1(t,"POST","/v1/accounts:signInWithIdp",We(t,e))})).apply(this,arguments)}class Ys extends kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):N2("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ac(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return I1(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,I1(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,I1(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ca(n)}return e}}class Sa{constructor(e){var n,r,i,s,o,a;const c=la(ua(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,f=function pEe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);I(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function mEe(t){const e=la(ua(t)).link,n=e?la(ua(e)).deep_link_id:null,r=la(ua(t)).deep_link_id;return(r?la(ua(r)).link:null)||r||n||e||t}(e);try{return new Sa(n)}catch{return null}}}let _R=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Va._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Sa.parseLink(r);return I(i,"argument-error"),Va._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class lr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class CR extends lr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let gEe=(()=>{class t extends CR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ys._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class on{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield ui._fromIdTokenResponse(e,r,i),o=MR(r);return new on({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=MR(r);return new on({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function MR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class J0 extends sn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,J0.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new J0(e,n,r,i)}}function wR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?J0._fromErrorAndOperation(t,s,e,r):s})}function am(){return(am=m(function*(t,e,n=!1){const r=yield S1(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return on._forOperation(t,"link",r)})).apply(this,arguments)}function lm(){return(lm=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield S1(t,wR(r,i,e,t),n);I(s.idToken,r,"internal-error");const o=q0(s.idToken);I(o,r,"internal-error");const{sub:a}=o;return I(t.uid===a,r,"user-mismatch"),on._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&N2(r,"user-mismatch"),s}})).apply(this,arguments)}function HR(t,e){return um.apply(this,arguments)}function um(){return(um=m(function*(t,e,n=!1){const r="signIn",i=yield wR(t,r,e),s=yield on._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function dm(){return(dm=m(function*(t,e){return HR(xt(t),e)})).apply(this,arguments)}function bEe(t,e,n){return function fm(t,e){return dm.apply(this,arguments)}(ot(t),_R.credential(e,n))}const el="__sak";class zR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(el,"1"),this.storage.removeItem(el),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BEe=(()=>{class t extends zR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function REe(){const t=It();return Dp(t)||K0(t)}()&&function $Ie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=oR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function jIe(){return function Qwe(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),IR=(()=>{class t extends zR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let jEe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var f=m(function*(d){return d(i.origin,a)});return function(d){return f.apply(this,arguments)}}()),u=yield function UEe(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function tl(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class $Ee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=tl("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ht(){return window}function Fm(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function Bm(){return(Bm=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ER="firebaseLocalStorageDb",nl="firebaseLocalStorage",xR="fbase_key";class Ia{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rl(t,e){return t.transaction([nl],e?"readwrite":"readonly").objectStore(nl)}function Um(){const t=indexedDB.open(ER,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nl,{keyPath:xR})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(nl)?e(r):(r.close(),yield function QEe(){const t=indexedDB.deleteDatabase(ER);return new Ia(t).toPromise()}(),e(yield Um()))}))})}function DR(t,e,n){return jm.apply(this,arguments)}function jm(){return(jm=m(function*(t,e,n){const r=rl(t,!0).put({[xR]:e,value:n});return new Ia(r).toPromise()})).apply(this,arguments)}function $m(){return($m=m(function*(t,e){const n=rl(t,!1).get(e),r=yield new Ia(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function LR(t,e){const n=rl(t,!0).delete(e);return new Ia(n).toPromise()}const exe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield Um()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return Fm()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=jEe._getInstance(function KEe(){return Fm()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function qEe(){return Bm.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new $Ee(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function WEe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield Um();return yield DR(n,el,"1"),yield LR(n,el),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>DR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function XEe(t,e){return $m.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>LR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=rl(o,!1).getAll();return new Ia(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function di(t,e){return e?z1(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}dR("rcb"),new _a(3e4,6e4);class Zm extends kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return I1(e,this._buildIdpRequest())}_linkToIdToken(e,n){return I1(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return I1(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gxe(t){return HR(t.auth,new Zm(t),t.bypassAuthState)}function vxe(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function VR(t,e){return lm.apply(this,arguments)}(n,new Zm(t),t.bypassAuthState)}function yxe(t){return eg.apply(this,arguments)}function eg(){return(eg=m(function*(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function om(t,e){return am.apply(this,arguments)}(n,new Zm(t),t.bypassAuthState)})).apply(this,arguments)}class TR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gxe;case"linkViaPopup":case"linkViaRedirect":return yxe;case"reauthViaPopup":case"reauthViaRedirect":return vxe;default:N2(this.auth,"internal-error")}}resolve(e){V1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){V1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _xe=new _a(2e3,1e4);function Cxe(t,e,n){return tg.apply(this,arguments)}function tg(){return(tg=m(function*(t,e,n){const r=xt(t);!function Ws(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&N2(t,"argument-error"),GP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,lr);const i=di(r,n);return new ig(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let ig=(()=>{class t extends TR{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return I(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){V1(1===n.filter.length,"Popup operations only handle one event");const r=tl();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(G2(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(G2(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(G2(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,_xe.get())};n()}}return t.currentPopupAction=null,t})();const Mxe="pendingRedirect",Ea=new Map;class wxe extends TR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Ea.get(n.auth._key());if(!r){try{const s=(yield function bxe(t,e){return sg.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ea.set(n.auth._key(),r)}return n.bypassAuthState||Ea.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function sg(){return(sg=m(function*(t,e){const n=function kR(t){return W0(Mxe,t.config.apiKey,t.name)}(e),r=function NR(t){return z1(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Vxe(t,e){Ea.set(t._key(),e)}function PR(t,e){return dg.apply(this,arguments)}function dg(){return(dg=m(function*(t,e,n=!1){const r=xt(t),i=di(r,e),o=yield new wxe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Exe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function xxe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(G2(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(OR(e))}saveEventToCache(e){this.cachedEventUids.add(OR(e)),this.lastProcessedEventTime=Date.now()}}function OR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function pg(){return(pg=m(function*(t,e={}){return Xe(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Lxe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Axe=/^https?/;function mg(){return mg=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Dxe(t){return pg.apply(this,arguments)}(t);for(const n of e)try{if(Nxe(n))return}catch{}N2(t,"unauthorized-domain")}),mg.apply(this,arguments)}function Nxe(t){const e=ya(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Axe.test(n))return!1;if(Lxe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const kxe=new _a(3e4,6e4);function BR(){const t=ht().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let sl=null;const Oxe=new _a(5e3,15e3),Fxe="__/auth/iframe",Bxe="emulator/auth/iframe",Uxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $xe(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yp(e,Bxe):`https://${t.config.authDomain}/${Fxe}`,r={apiKey:e.apiKey,appName:t.name,v:ri},i=jxe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ca(r).slice(1)}`}function gg(){return gg=m(function*(t){const e=yield function Rxe(t){return sl=sl||function Pxe(t){return new Promise((e,n)=>{var r,i,s;function o(){BR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BR(),n(G2(t,"network-request-failed"))},timeout:kxe.get()})}if(null!==(i=null===(r=ht().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ht().gapi)||void 0===s||!s.load){const a=dR("iframefcb");return ht()[a]=()=>{gapi.load?o():n(G2(t,"network-request-failed"))},Tp(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw sl=null,e})}(t),sl}(t),n=ht().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:$xe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uxe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=G2(t,"network-request-failed"),c=ht().setTimeout(()=>{o(a)},Oxe.get());function l(){ht().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),gg.apply(this,arguments)}const qxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class UR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zxe="__/auth/handler",eDe="emulator/auth/handler",tDe=encodeURIComponent("fac");function jR(t,e,n,r,i,s){return vg.apply(this,arguments)}function vg(){return(vg=m(function*(t,e,n,r,i,s){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ri,eventId:i};if(e instanceof lr){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function ebe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof CR){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${tDe}=${encodeURIComponent(c)}`:"";return`${function nDe({config:t}){return t.emulator?yp(t,eDe):`https://${t.authDomain}/${Zxe}`}(t)}?${ca(a).slice(1)}${l}`})).apply(this,arguments)}const yg="webStorageSupport",iDe=class rDe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IR,this._completeRedirectFn=PR,this._overrideRedirectResult=Vxe}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;V1(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield jR(e,n,r,ya(),i);return function Xxe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},qxe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=It().toLowerCase();n&&(a=tR(l)?"_blank":n),eR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function UIe(t=It()){var e;return K0(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Jxe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new UR(null);const f=window.open(e||"",a,u);I(f,t,"popup-blocked");try{f.focus()}catch{}return new UR(f)}(e,a,tl())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function GEe(t){ht().location.href=t}(yield jR(e,n,r,ya(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(V1(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function Gxe(t){return gg.apply(this,arguments)}(e),i=new Exe(e);return r.register("authEvent",s=>(I(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yg,{type:yg},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[yg];void 0!==o&&n(!!o),N2(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Txe(t){return mg.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oR()||Dp()||K0()}};var qR="@firebase/auth";class sDe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const lDe=JN("authIdTokenMaxAge")||300;let KR=null;const uDe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>lDe)return;const s=r?.token;KR!==s&&(KR=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function fDe(t=fa()){const e=ir(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function JIe(t,e){const n=ir(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(V0(n.getOptions(),e??{}))return i;N2(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:iDe,persistence:[exe,BEe,IR]}),r=JN("authTokenSyncURL");if(r){const s=uDe(r);(function LEe(t,e,n){ot(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function DEe(t,e,n,r){ot(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=QN("auth");return i&&function eEe(t,e,n){const r=xt(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=mR(e),{host:o,port:a}=function tEe(t){const e=mR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:gR(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:gR(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function nEe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function dDe(t){return new tt(function(e){var n=function AEe(t,e,n,r){return ot(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function aDe(t){C2(new n2("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;I(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aR(t)},l=new XIe(r,i,s,c);return function ZIe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(z1);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),C2(new n2("auth-internal",e=>{const n=xt(e.getProvider("auth").getImmediate());return new sDe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(qR,"0.23.2",function oDe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),qe(qR,"0.23.2","esm2017")}("Browser");class al{constructor(e){return e}}class QR{constructor(){return qh("auth")}}const Cg=new U("angularfire2.auth-instances");function mDe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new al(r)}}const gDe={provide:QR,deps:[[new E2,Cg]]},vDe={provide:al,useFactory:function pDe(t,e){const n=Gh("auth",t,e);return n&&new al(n)},deps:[[new E2,Cg],Fs]};let yDe=(()=>{class t{constructor(){qe("angularfire",ma.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[vDe,gDe]}),t})();function Xs(t,...e){return{ngModule:yDe,providers:[{provide:Cg,useFactory:mDe(t),multi:!0,deps:[Te,Zt,N0,k0,[new E2,pp],...e]}]}}const _De=r2(dDe,!0),Js=r2(fDe,!0),CDe=r2(bEe,!0),MDe=r2(Cxe,!0);var L,wDe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_n={},Mg=Mg||{},Z=wDe||self;function cl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xa(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var wg="closure_uid_"+(1e9*Math.random()>>>0),VDe=0;function HDe(t,e,n){return t.call.apply(t.bind,arguments)}function SDe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function s2(t,e,n){return(s2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HDe:SDe).apply(null,arguments)}function ll(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ur(){this.s=this.s,this.o=this.o}ur.prototype.s=!1,ur.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bDe(t){Object.prototype.hasOwnProperty.call(t,wg)&&t[wg]||(t[wg]=++VDe)}(this)},ur.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function JR(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(cl(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function o2(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}o2.prototype.h=function(){this.defaultPrevented=!0};var IDe=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",()=>{},e),Z.removeEventListener("test",()=>{},e)}catch{}return t}();function Da(t){return/^[\s\xa0]*$/.test(t)}function ul(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function qn(t){return-1!=ul().indexOf(t)}function Vg(t){return Vg[" "](t),t}Vg[" "]=function(){};var Sg,t,xDe=qn("Opera"),Zs=qn("Trident")||qn("MSIE"),ZR=qn("Edge"),Hg=ZR||Zs,eO=qn("Gecko")&&!(-1!=ul().toLowerCase().indexOf("webkit")&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),DDe=-1!=ul().toLowerCase().indexOf("webkit")&&!qn("Edge");function tO(){var t=Z.document;return t?t.documentMode:void 0}e:{var zg="",Ig=(t=ul(),eO?/rv:([^\);]+)(\)|;)/.exec(t):ZR?/Edge\/([\d\.]+)/.exec(t):Zs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):DDe?/WebKit\/(\S+)/.exec(t):xDe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Ig&&(zg=Ig?Ig[1]:""),Zs){var Eg=tO();if(null!=Eg&&Eg>parseFloat(zg)){Sg=String(Eg);break e}}Sg=zg}var LDe=Z.document&&Zs&&(tO()||parseInt(Sg,10))||void 0;function La(t,e){if(o2.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eO){e:{try{Vg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ADe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&La.$.h.call(this)}}Dt(La,o2);var ADe={2:"touch",3:"pen",4:"mouse"};La.prototype.h=function(){La.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Aa="closure_listenable_"+(1e6*Math.random()|0),TDe=0;function NDe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++TDe,this.fa=this.ia=!1}function fl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Dg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function rO(t){const e={};for(const n in t)e[n]=t[n];return e}const iO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<iO.length;s++)n=iO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dl(t){this.src=t,this.g={},this.h=0}function Lg(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=XR(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(fl(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ag(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}dl.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Ag(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new NDe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Tg="closure_lm_"+(1e6*Math.random()|0),Ng={};function oO(t,e,n,r,i){if(r&&r.once)return cO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)oO(t,e[s],n,r,i);return null}return n=Og(n),t&&t[Aa]?t.O(e,n,xa(r)?!!r.capture:!!r,i):aO(t,e,n,!1,r,i)}function aO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xa(i)?!!i.capture:!!i,a=Pg(t);if(a||(t[Tg]=a=new dl(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function PDe(){const e=RDe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)IDe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(uO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function cO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cO(t,e[s],n,r,i);return null}return n=Og(n),t&&t[Aa]?t.P(e,n,xa(r)?!!r.capture:!!r,i):aO(t,e,n,!0,r,i)}function lO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lO(t,e[s],n,r,i);else r=xa(r)?!!r.capture:!!r,n=Og(n),t&&t[Aa]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Ag(s=t.g[e],n,r,i))&&(fl(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Pg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ag(e,n,r,i)),(n=-1<t?e[t]:null)&&kg(n))}function kg(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Aa])Lg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(uO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pg(e))?(Lg(n,t),0==n.h&&(n.src=null,e[Tg]=null)):fl(t)}}}function uO(t){return t in Ng?Ng[t]:Ng[t]="on"+t}function RDe(t,e){if(t.fa)t=!0;else{e=new La(e,this);var n=t.listener,r=t.la||t.src;t.ia&&kg(t),t=n.call(r,e)}return t}function Pg(t){return(t=t[Tg])instanceof dl?t:null}var Rg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Og(t){return"function"==typeof t?t:(t[Rg]||(t[Rg]=function(e){return t.handleEvent(e)}),t[Rg])}function Lt(){ur.call(this),this.i=new dl(this),this.S=this,this.J=null}function $t(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new o2(e,t);else if(e instanceof o2)e.target=e.target||t;else{var i=e;sO(e=new o2(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=hl(o,r,!0,e)&&i}if(i=hl(o=e.g=t,r,!0,e)&&i,i=hl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=hl(o=e.g=n[s],r,!1,e)&&i}function hl(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Lg(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Dt(Lt,ur),Lt.prototype[Aa]=!0,Lt.prototype.removeEventListener=function(t,e,n,r){lO(this,t,e,n,r)},Lt.prototype.N=function(){if(Lt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fl(n[r]);delete t.g[e],t.h--}}this.J=null},Lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Fg=Z.JSON.stringify;function FDe(){var t=Bg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var fO=new class ODe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new UDe,t=>t.reset());class UDe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jDe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function $De(t){Z.setTimeout(()=>{throw t},0)}let Ta,Na=!1,Bg=new class BDe{constructor(){this.h=this.g=null}add(e,n){const r=fO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},dO=()=>{const t=Z.Promise.resolve(void 0);Ta=()=>{t.then(GDe)}};var GDe=()=>{for(var t;t=FDe();){try{t.h.call(t.g)}catch(n){$De(n)}var e=fO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Na=!1};function pl(t,e){Lt.call(this),this.h=t||1,this.g=e||Z,this.j=s2(this.qb,this),this.l=Date.now()}function Ug(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function jg(t,e,n){if("function"==typeof t)n&&(t=s2(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=s2(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function hO(t){t.g=jg(()=>{t.g=null,t.i&&(t.i=!1,hO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dt(pl,Lt),(L=pl.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$t(this,"tick"),this.ga&&(Ug(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){pl.$.N.call(this),Ug(this),delete this.g};class qDe extends ur{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hO(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(t){ur.call(this),this.h=t,this.g={}}Dt(ka,ur);var pO=[];function mO(t,e,n,r){Array.isArray(n)||(n&&(pO[0]=n.toString()),n=pO);for(var i=0;i<n.length;i++){var s=oO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function gO(t){Dg(t.g,function(e,n){this.g.hasOwnProperty(n)&&kg(e)},t),t.g={}}function ml(){this.g=!0}function eo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function QDe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Fg(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ka.prototype.N=function(){ka.$.N.call(this),gO(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ml.prototype.Ea=function(){this.g=!1},ml.prototype.info=function(){};var hi={},vO=null;function gl(){return vO=vO||new Lt}function yO(t){o2.call(this,hi.Ta,t)}function Pa(t){const e=gl();$t(e,new yO(e))}function _O(t,e){o2.call(this,hi.STAT_EVENT,t),this.stat=e}function w2(t){const e=gl();$t(e,new _O(e,t))}function CO(t,e){o2.call(this,hi.Ua,t),this.size=e}function Ra(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}hi.Ta="serverreachability",Dt(yO,o2),hi.STAT_EVENT="statevent",Dt(_O,o2),hi.Ua="timingevent",Dt(CO,o2);var vl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},MO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $g(){}function bO(){}$g.prototype.h=null;var Wg,Oa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gg(){o2.call(this,"d")}function qg(){o2.call(this,"c")}function yl(){}function Fa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ka(this),this.P=XDe,this.V=new pl(t=Hg?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VO}function VO(){this.i=null,this.g="",this.h=!1}Dt(Gg,o2),Dt(qg,o2),Dt(yl,$g),yl.prototype.g=function(){return new XMLHttpRequest},yl.prototype.i=function(){return{}},Wg=new yl;var XDe=45e3,Kg={},_l={};function Yg(t,e,n){t.L=1,t.v=bl(E1(e)),t.s=n,t.S=!0,HO(t,null)}function HO(t,e){t.G=Date.now(),Ba(t),t.A=E1(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),NO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new VO,t.g=sF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new qDe(s2(t.Pa,t,t.g),t.O)),mO(t.U,t.g,"readystatechange",t.nb),e=t.I?rO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Pa(),function WDe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");o=2<=f.length&&"type"==f[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function SO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function zO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=JDe(t,n),i==_l){4==e&&(t.o=4,w2(14),r=!1),eo(t.j,t.m,null,"[Incomplete Response]");break}if(i==Kg){t.o=4,w2(15),eo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}eo(t.j,t.m,i,null),Qg(t,i)}SO(t)&&i!=_l&&i!=Kg&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,w2(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rv(e),e.M=!0,w2(11))):(eo(t.j,t.m,n,"[Invalid Chunked Response]"),pi(t),Ua(t))}function JDe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?_l:(n=Number(e.substring(n,r)),isNaN(n)?Kg:(r+=1)+n>e.length?_l:(e=e.slice(r,r+n),t.C=r+n,e))}function Ba(t){t.Y=Date.now()+t.P,IO(t,t.P)}function IO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ra(s2(t.lb,t),e)}function Cl(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function Ua(t){0==t.l.H||t.J||tF(t.l,t)}function pi(t){Cl(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Ug(t.V),gO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Qg(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Xg(n.i,t)))if(!t.K&&Xg(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;El(n),zl(n)}nv(n),w2(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ra(s2(n.ib,n),6e3));if(1>=RO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gi(n,11)}else if((t.K||n.g==t)&&El(n),!Da(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(n.L=r=1.5*d,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Jg(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ne(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=iF(r,r.J?r.pa:null,r.Y),o.K){OO(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Cl(a),Ba(a)),r.g=o}else ZO(r);0<n.j.length&&Il(n)}else"stop"!=l[0]&&"close"!=l[0]||gi(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?gi(n,7):tv(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Pa()}catch{}}function EO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(cl(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function eLe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cl(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function ZDe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(cl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(L=Fa.prototype).setTimeout=function(t){this.P=t},L.nb=function(t){t=t.target;const e=this.M;e&&3==Wn(t)?e.l():this.Pa(t)},L.Pa=function(t){try{if(t==this.g)e:{const u=Wn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Hg||this.g&&(this.h.h||this.g.ja()||WO(this.g)))){this.J||4!=u||7==e||Pa(),Cl(this);var n=this.g.da();this.ca=n;t:if(SO(this)){var r=WO(this.g);t="";var i=r.length,s=4==Wn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),Ua(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function KDe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Da(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,w2(12),pi(this),Ua(this);break e}eo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qg(this,n)}this.S?(zO(this,u,o),Hg&&this.i&&3==u&&(mO(this.U,this.V,"tick",this.mb),this.V.start())):(eo(this.j,this.m,o,null),Qg(this,o)),4==u&&pi(this),this.i&&!this.J&&(4==u?tF(this.l,this):(this.i=!1,Ba(this)))}else(function yLe(t){const e={};t=(t.g&&2<=Wn(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Da(t[r]))continue;var n=jDe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function kDe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,w2(12)):(this.o=0,w2(13)),pi(this),Ua(this)}}}catch{}},L.mb=function(){if(this.g){var t=Wn(this.g),e=this.g.ja();this.C<e.length&&(Cl(this),zO(this,t,e),this.i&&4!=t&&Ba(this))}},L.cancel=function(){this.J=!0,pi(this)},L.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function YDe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pa(),w2(17)),pi(this),this.o=2,Ua(this)):IO(this,this.Y-t)};var xO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mi){this.h=t.h,Ml(this,t.j),this.s=t.s,this.g=t.g,wl(this,t.m),this.l=t.l;var e=t.i,n=new Ga;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DO(this,n),this.o=t.o}else t&&(e=String(t).match(xO))?(this.h=!1,Ml(this,e[1]||"",!0),this.s=ja(e[2]||""),this.g=ja(e[3]||"",!0),wl(this,e[4]),this.l=ja(e[5]||"",!0),DO(this,e[6]||"",!0),this.o=ja(e[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}function E1(t){return new mi(t)}function Ml(t,e,n){t.j=n?ja(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DO(t,e,n){e instanceof Ga?(t.i=e,function aLe(t,e){e&&!t.j&&(fr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(AO(this,r),NO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=$a(e,sLe)),t.i=new Ga(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function bl(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ja(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $a(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nLe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nLe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push($a(e,LO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push($a(e,LO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push($a(n,"/"==n.charAt(0)?iLe:rLe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$a(n,oLe)),t.join("")};var LO=/[#\/\?@]/g,rLe=/[#\?:]/g,iLe=/[#\?]/g,sLe=/[#\?@]/g,oLe=/#/g;function Ga(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fr(t){t.g||(t.g=new Map,t.h=0,t.i&&function tLe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function AO(t,e){fr(t),e=to(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function TO(t,e){return fr(t),e=to(t,e),t.g.has(e)}function NO(t,e,n){AO(t,e),0<n.length&&(t.i=null,t.g.set(to(t,e),bg(n)),t.h+=n.length)}function to(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kO(t){this.l=t||lLe,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=Ga.prototype).add=function(t,e){fr(this),this.i=null,t=to(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){fr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},L.ta=function(){fr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},L.Z=function(t){fr(this);let e=[];if("string"==typeof t)TO(this,t)&&(e=e.concat(this.g.get(to(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return fr(this),this.i=null,TO(this,t=to(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var lLe=10;function PO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function RO(t){return t.h?1:t.g?t.g.size:0}function Xg(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Jg(t,e){t.g?t.g.add(e):t.h=e}function OO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function FO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bg(t.i)}kO.prototype.cancel=function(){if(this.i=FO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var uLe=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function fLe(){this.g=new uLe}function dLe(t,e,n){const r=n||"";try{EO(t,function(i,s){let o=i;xa(i)&&(o=Fg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qa(t){this.l=t.fc||null,this.j=t.ob||!1}function Hl(t,e){Lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Zg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(qa,$g),qa.prototype.g=function(){return new Hl(this.l,this.j)},qa.prototype.i=function(t){return function(){return t}}({}),Dt(Hl,Lt);var Zg=0;function BO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Wa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ka(t)}function Ka(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=Hl.prototype).open=function(t,e){if(this.readyState!=Zg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ka(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wa(this)),this.readyState=Zg},L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wa(this):Ka(this),3==this.readyState&&BO(this)}},L.Za=function(t){this.g&&(this.response=this.responseText=t,Wa(this))},L.Ya=function(t){this.g&&(this.response=t,Wa(this))},L.ka=function(){this.g&&Wa(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var pLe=Z.JSON.parse;function Je(t){Lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UO,this.L=this.M=!1}Dt(Je,Lt);var UO="",mLe=/^https?$/i,gLe=["POST","PUT"];function jO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$O(t),Sl(t)}function $O(t){t.F||(t.F=!0,$t(t,"complete"),$t(t,"error"))}function GO(t){if(t.h&&typeof Mg<"u"&&(!t.C[1]||4!=Wn(t)||2!=t.da()))if(t.v&&4==Wn(t))jg(t.La,0,t);else if($t(t,"readystatechange"),4==Wn(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(xO)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!mLe.test(i?i.toLowerCase():"")}n=r}if(n)$t(t,"complete"),$t(t,"success");else{t.m=6;try{var s=2<Wn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",$O(t)}}finally{Sl(t)}}}function Sl(t,e){if(t.g){qO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||$t(t,"ready");try{n.onreadystatechange=r}catch{}}}function qO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Wn(t){return t.g?t.g.readyState:0}function WO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case UO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function KO(t){let e="";return Dg(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ev(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=KO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function Ya(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YO(t){this.Ga=0,this.j=[],this.l=new ml,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ya("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ya("baseRetryDelayMs",5e3,t),this.hb=Ya("retryDelaySeedMs",1e4,t),this.eb=Ya("forwardChannelMaxRetries",2,t),this.xa=Ya("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new kO(t&&t.concurrentRequestLimit),this.Ja=new fLe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tv(t){if(QO(t),3==t.H){var e=t.W++,n=E1(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Qa(t,n),(e=new Fa(t,t.l,e)).L=2,e.v=bl(E1(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=sF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ba(e)}rF(t)}function zl(t){t.g&&(rv(t),t.g.cancel(),t.g=null)}function QO(t){zl(t),t.u&&(Z.clearTimeout(t.u),t.u=null),El(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function Il(t){if(!PO(t.i)&&!t.m){t.m=!0;var e=t.Na;Ta||dO(),Na||(Ta(),Na=!0),Bg.add(e,t),t.C=0}}function XO(t,e){var n;n=e?e.m:t.W++;const r=E1(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),Qa(t,r),t.o&&t.s&&ev(r,t.o,t.s),n=new Fa(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=JO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Jg(t.i,n),Yg(n,r,e)}function Qa(t,e){t.na&&Dg(t.na,function(n,r){Ne(e,r,n)}),t.h&&EO({},function(n,r){Ne(e,r,n)})}function JO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?s2(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{dLe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ZO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ta||dO(),Na||(Ta(),Na=!0),Bg.add(e,t),t.A=0}}function nv(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ra(s2(t.Ma,t),nF(t,t.A)),t.A++,0))}function rv(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function eF(t){t.g=new Fa(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=E1(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),Qa(t,e),t.o&&t.s&&ev(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=bl(E1(e)),n.s=null,n.S=!0,HO(n,t)}function El(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function tF(t,e){var n=null;if(t.g==e){El(t),rv(t),t.g=null;var r=2}else{if(!Xg(t.i,e))return;n=e.F,OO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;$t(r=gl(),new CO(r,n)),Il(t)}else ZO(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function _Le(t,e){return!(RO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ra(s2(t.Na,t,e),nF(t,t.C)),t.C++,0)))}(t,e)||2==r&&nv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gi(t,5);break;case 4:gi(t,10);break;case 3:gi(t,6);break;default:gi(t,2)}}function nF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gi(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=s2(t.pb,t);n||(n=new mi("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Ml(n,"https"),bl(n)),function hLe(t,e){const n=new ml;if(Z.Image){const r=new Image;r.onload=ll(Vl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ll(Vl,n,r,"TestLoadImage: error",!1,e),r.onabort=ll(Vl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ll(Vl,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else w2(2);t.H=0,t.h&&t.h.za(e),rF(t),QO(t)}function rF(t){if(t.H=0,t.ma=[],t.h){const e=FO(t.i);(0!=e.length||0!=t.j.length)&&(JR(t.ma,e),JR(t.ma,t.j),t.i.i.length=0,bg(t.j),t.j.length=0),t.h.ya()}}function iF(t,e,n){var r=n instanceof mi?E1(n):new mi(n);if(""!=r.g)e&&(r.g=e+"."+r.g),wl(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new mi(null);r&&Ml(s,r),e&&(s.g=e),i&&wl(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),Qa(t,r),r}function sF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ha&&!t.va?new qa({ob:!0}):t.va)).Oa(t.J),e}function oF(){}function xl(){if(Zs&&!(10<=Number(LDe)))throw Error("Environmental error: no available transport.")}function q2(t,e){Lt.call(this),this.g=new YO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Da(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Da(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new no(this)}function aF(t){Gg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function cF(){qg.call(this),this.status=1}function no(t){this.g=t}function Cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function iv(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(L=Je.prototype).Oa=function(t){this.M=t},L.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wg.g(),this.C=function wO(t){return t.h||(t.h=t.i())}(this.u?this.u:Wg),this.g.onreadystatechange=s2(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void jO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Z.FormData&&t instanceof Z.FormData,!(0<=XR(gLe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qO(this),0<this.B&&((this.L=function vLe(t){return Zs&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=s2(this.ua,this)):this.A=jg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jO(this,s)}},L.ua=function(){typeof Mg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$t(this,"complete"),$t(this,"abort"),Sl(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sl(this,!0)),Je.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?GO(this):this.kb())},L.kb=function(){GO(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pLe(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=YO.prototype).ra=8,L.H=1,L.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Fa(this,this.l,t);let s=this.s;if(this.U&&(s?(s=rO(s),sO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=JO(this,i,e),Ne(n=E1(this.I),"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),Qa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(KO(s)))+"&"+e:this.o&&ev(n,this.o,s)),Jg(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,Yg(i,n,null)):Yg(i,n,e),this.H=2}}else 3==this.H&&(t?XO(this,t):0==this.j.length||PO(this.i)||XO(this))},L.Ma=function(){if(this.u=null,eF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ra(s2(this.jb,this),t)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,w2(10),zl(this),eF(this))},L.ib=function(){null!=this.v&&(this.v=null,zl(this),nv(this),w2(19))},L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),w2(2)):(this.l.info("Failed to ping google.com"),w2(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=oF.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},xl.prototype.g=function(t,e){return new q2(t,e)},Dt(q2,Lt),q2.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;w2(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iF(t,null,t.Y),Il(t)},q2.prototype.close=function(){tv(this.g)},q2.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Fg(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Il(e)},q2.prototype.N=function(){this.g.h=null,delete this.j,tv(this.g),delete this.g,q2.$.N.call(this)},Dt(aF,Gg),Dt(cF,qg),Dt(no,oF),no.prototype.Ba=function(){$t(this.g,"a")},no.prototype.Aa=function(t){$t(this.g,new aF(t))},no.prototype.za=function(t){$t(this.g,new cF)},no.prototype.ya=function(){$t(this.g,"b")},Dt(Cn,function CLe(){this.blockSize=-1}),Cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)iv(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){iv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){iv(this,r),i=0;break}}this.h=i,this.i+=e},Cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var MLe={};function sv(t){return-128<=t&&128>t?function EDe(t,e){var n=MLe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new be([0|e],0>e?-1:0)}):new be([0|t],0>t?-1:0)}function Kn(t){if(isNaN(t)||!isFinite(t))return ro;if(0>t)return Gt(Kn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ov;return new be(e,0)}var ov=4294967296,ro=sv(0),av=sv(1),uF=sv(16777216);function x1(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function an(t){return-1==t.h}function Gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(av)}function Dl(t,e){return t.add(Gt(e))}function Ll(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xa(t,e){this.g=t,this.h=e}function Al(t,e){if(x1(e))throw Error("division by zero");if(x1(t))return new Xa(ro,ro);if(an(t))return e=Al(Gt(t),e),new Xa(Gt(e.g),Gt(e.h));if(an(e))return e=Al(t,Gt(e)),new Xa(Gt(e.g),e.h);if(30<t.g.length){if(an(t)||an(e))throw Error("slowDivide_ only works with positive integers.");for(var n=av,r=e;0>=r.X(t);)n=fF(n),r=fF(r);var i=io(n,1),s=io(r,1);for(r=io(r,2),n=io(n,2);!x1(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=io(r,1),n=io(n,1)}return e=Dl(t,i.R(e)),new Xa(i,e)}for(i=ro;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Kn(n)).R(e);an(o)||0<o.X(t);)o=(s=Kn(n-=r)).R(e);x1(s)&&(s=av),i=i.add(s),t=Dl(t,o)}return new Xa(i,t)}function fF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function io(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}(L=be.prototype).ea=function(){if(an(this))return-Gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ov+r)*e,e*=ov}return t},L.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(x1(this))return"0";if(an(this))return"-"+Gt(this).toString(t);for(var e=Kn(Math.pow(t,6)),n=this,r="";;){var i=Al(n,e).g,s=((0<(n=Dl(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(x1(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},L.X=function(t){return an(t=Dl(this,t))?-1:x1(t)?0:1},L.abs=function(){return an(this)?Gt(this):this},L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new be(n,-2147483648&n[n.length-1]?-1:0)},L.R=function(t){if(x1(this)||x1(t))return ro;if(an(this))return an(t)?Gt(this).R(Gt(t)):Gt(Gt(this).R(t));if(an(t))return Gt(this.R(Gt(t)));if(0>this.X(uF)&&0>t.X(uF))return Kn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,Ll(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Ll(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ll(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ll(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)},L.gb=function(t){return Al(this,t).h},L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)},L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)},L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)},xl.prototype.createWebChannel=xl.prototype.g,q2.prototype.send=q2.prototype.u,q2.prototype.open=q2.prototype.m,q2.prototype.close=q2.prototype.close,vl.NO_ERROR=0,vl.TIMEOUT=8,vl.HTTP_ERROR=6,MO.COMPLETE="complete",bO.EventType=Oa,Oa.OPEN="a",Oa.CLOSE="b",Oa.ERROR="c",Oa.MESSAGE="d",Lt.prototype.listen=Lt.prototype.O,Je.prototype.listenOnce=Je.prototype.P,Je.prototype.getLastError=Je.prototype.Sa,Je.prototype.getLastErrorCode=Je.prototype.Ia,Je.prototype.getStatus=Je.prototype.da,Je.prototype.getResponseJson=Je.prototype.Wa,Je.prototype.getResponseText=Je.prototype.ja,Je.prototype.send=Je.prototype.ha,Je.prototype.setWithCredentials=Je.prototype.Oa,Cn.prototype.digest=Cn.prototype.l,Cn.prototype.reset=Cn.prototype.reset,Cn.prototype.update=Cn.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=Kn,be.fromString=function lF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Gt(lF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kn(Math.pow(e,8)),r=ro,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Kn(Math.pow(e,s)),r=r.R(s).add(Kn(o))):r=(r=r.R(n)).add(Kn(o))}return r};var wLe=_n.createWebChannelTransport=function(){return new xl},bLe=_n.getStatEventTarget=function(){return gl()},cv=_n.ErrorCode=vl,VLe=_n.EventType=MO,HLe=_n.Event=hi,dF=_n.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},SLe=_n.FetchXmlHttpFactory=qa,Tl=_n.WebChannel=bO,zLe=_n.XhrIo=Je,ILe=_n.Md5=Cn,so=_n.Integer=be;const hF="@firebase/firestore";class At{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");let oo="9.23.0";const dr=new ks("@firebase/firestore");function lv(){return dr.logLevel}function H(t,...e){if(dr.logLevel<=ge.DEBUG){const n=e.map(uv);dr.debug(`Firestore (${oo}): ${t}`,...n)}}function at(t,...e){if(dr.logLevel<=ge.ERROR){const n=e.map(uv);dr.error(`Firestore (${oo}): ${t}`,...n)}}function Mn(t,...e){if(dr.logLevel<=ge.WARN){const n=e.map(uv);dr.warn(`Firestore (${oo}): ${t}`,...n)}}function uv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function N(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw at(e),new Error(e)}function O(t,e){t||N()}function D(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ELe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class xLe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DLe{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O("string"==typeof r.accessToken),new pF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e),new At(e)}}class LLe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ALe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new LLe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TLe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(O("string"==typeof n.token),this.T=n.token,new mF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function NLe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class gF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=NLe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}function ao(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Ke(0,0))}static max(){return new B(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ja{constructor(e,n,r){void 0===n?n=0:n>e.length&&N(),void 0===r?r=e.length-n:r>e.length-n&&N(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ja.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ja?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Ja{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const kLe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Ja{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return kLe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(he.fromString(e))}static fromName(e){return new x(he.fromString(e).popFirst(5))}static empty(){return new x(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new he(e.slice()))}}function _F(t){return new W2(t.readTime,t.key,-1)}class W2{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new W2(B.min(),x.empty(),-1)}static max(){return new W2(B.max(),x.empty(),-1)}}function dv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Q(t.largestBatchId,e.largestBatchId))}const CF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OLe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hr(t){return hv.apply(this,arguments)}function hv(){return hv=m(function*(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==CF)throw t;H("LocalStore","Unexpectedly lost primary lease")}),hv.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function pr(t){return"IndexedDbTransactionError"===t.name}let K2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function t4(t){return null==t}function n4(t){return 0===t&&1/t==-1/0}function EF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Le{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}}class Ol{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw N();const e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw N()}get value(){throw N()}get color(){throw N()}get left(){throw N()}get right(){throw N()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DF(this.data.getIterator())}getIteratorFrom(e){return new DF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ke(this.comparator);return n.data=e,n}}class DF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class k2{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new k2([])}unionWith(e){let n=new ke(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new k2(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class LF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LF("Invalid base64 string: "+i):i}}(e);return new wt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const cAe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(O(!!t),"string"==typeof t){let e=0;const n=cAe.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function D1(t){return"string"==typeof t?wt.fromBase64String(t):wt.fromUint8Array(t)}function Fl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bl(t){const e=t.mapValue.fields.__previous_value__;return Fl(e)?Bl(e):e}function r4(t){const e=gr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}class lAe{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class _i{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _i("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _i&&e.projectId===this.projectId&&e.database===this.database}}const vr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fl(t)?4:kF(t)?9007199254740991:10:N()}function Qn(t,e){if(t===e)return!0;const n=yr(t);if(n!==yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return r4(t).isEqual(r4(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=gr(r.timestampValue),o=gr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,D1(t.bytesValue).isEqual(D1(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?n4(s)===n4(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ao(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(EF(s)!==EF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Qn(s[a],o[a])))return!1;return!0}(t,e);default:return N()}var i}function i4(t,e){return void 0!==(t.values||[]).find(n=>Qn(n,e))}function _r(t,e){if(t===e)return 0;const n=yr(t),r=yr(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return AF(t.timestampValue,e.timestampValue);case 4:return AF(r4(t),r4(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=D1(i),a=D1(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=Q(o[c],a[c]);if(0!==l)return l}return Q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Q(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:Q(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=_r(o[c],a[c]);if(l)return l}return Q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===vr.mapValue&&s===vr.mapValue)return 0;if(i===vr.mapValue)return 1;if(s===vr.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const f=Q(a[u],l[u]);if(0!==f)return f;const d=_r(o[a[u]],c[l[u]]);if(0!==d)return d}return Q(a.length,l.length)}(t.mapValue,e.mapValue);default:throw N()}}function AF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Q(t,e);const n=gr(t),r=gr(e),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function lo(t){return gv(t)}function gv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=gr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?D1(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=gv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${gv(r.fields[a])}`;return s+"}"}(t.mapValue):N();var e}function Ci(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vv(t){return!!t&&"integerValue"in t}function s4(t){return!!t&&"arrayValue"in t}function TF(t){return!!t&&"nullValue"in t}function NF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $l(t){return!!t&&"mapValue"in t}function o4(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=o4(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=o4(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=o4(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=o4(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$l(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(o4(this.value))}}function OF(t){const e=[];return mr(t.fields,(n,r)=>{const i=new ct([n]);if($l(r)){const s=OF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new k2(e)}class Pe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pe(e,0,B.min(),B.min(),B.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Pe(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Pe(e,2,n,B.min(),B.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Pe(e,3,n,B.min(),B.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cr{constructor(e,n){this.position=e,this.inclusive=n}}function FF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):_r(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function BF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}class uo{constructor(e,n="asc"){this.field=e,this.dir=n}}function dAe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class UF{}class ae extends UF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new hAe(e,n,r):"array-contains"===n?new gAe(e,r):"in"===n?new KF(e,r):"not-in"===n?new vAe(e,r):"array-contains-any"===n?new yAe(e,r):new ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new pAe(e,r):new mAe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(_r(n,this.value)):null!==n&&yr(this.value)===yr(n)&&this.matchesComparison(_r(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ve extends UF{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ve(e,n)}matches(e){return fo(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function fo(t){return"and"===t.op}function _v(t){return function jF(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}(t)&&fo(t)}function Cv(t){if(t instanceof ae)return t.field.canonicalString()+t.op.toString()+lo(t.value);if(_v(t))return t.filters.map(e=>Cv(e)).join(",");{const e=t.filters.map(n=>Cv(n)).join(",");return`${t.op}(${e})`}}function $F(t,e){return t instanceof ae?(n=t,(r=e)instanceof ae&&n.op===r.op&&n.field.isEqual(r.field)&&Qn(n.value,r.value)):t instanceof Ve?function(n,r){return r instanceof Ve&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&$F(s,r.filters[o]),!0)}(t,e):void N();var n,r}function qF(t){return t instanceof ae?`${(e=t).field.canonicalString()} ${e.op} ${lo(e.value)}`:t instanceof Ve?function(e){return e.op.toString()+" {"+e.getFilters().map(qF).join(" ,")+"}"}(t):"Filter";var e}class hAe extends ae{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class pAe extends ae{constructor(e,n){super(e,"in",n),this.keys=WF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mAe extends ae{constructor(e,n){super(e,"not-in",n),this.keys=WF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class gAe extends ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s4(n)&&i4(n.arrayValue,this.value)}}class KF extends ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&i4(this.value.arrayValue,n)}}class vAe extends ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(i4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!i4(this.value.arrayValue,n)}}class yAe extends ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>i4(this.value.arrayValue,r))}}class _Ae{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Mv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _Ae(t,e,n,r,i,s,o)}function Mi(t){const e=D(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),t4(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lo(r)).join(",")),e.dt=n}return e.dt}function a4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dAe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$F(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BF(t.startAt,e.startAt)&&BF(t.endAt,e.endAt)}function Gl(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class L1{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function ho(t){return new L1(t)}function JF(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function wv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wl(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function bv(t){return null!==t.collectionGroup}function wi(t){const e=D(t);if(null===e.wt){e.wt=[];const n=Wl(e),r=wv(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new uo(n)),e.wt.push(new uo(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new uo(ct.keyField(),s))}}}return e.wt}function b2(t){const e=D(t);if(!e._t)if("F"===e.limitType)e._t=Mv(e.path,e.collectionGroup,wi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of wi(e))n.push(new uo(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Cr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cr(e.startAt.position,e.startAt.inclusive):null;e._t=Mv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vv(t,e){e.getFirstInequalityField(),Wl(t);const n=t.filters.concat([e]);return new L1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kl(t,e,n){return new L1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function c4(t,e){return a4(b2(t),b2(e))&&t.limitType===e.limitType}function ZF(t){return`${Mi(b2(t))}|lt:${t.limitType}`}function Hv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>qF(r)).join(", ")}]`),t4(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lo(r)).join(",")),`Target(${n})`}(b2(t))}; limitType=${t.limitType})`}function l4(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of wi(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=FF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,wi(n),r)||n.endAt&&!function(i,s,o){const a=FF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,wi(n),r)));var n,r}function tB(t){return(e,n)=>{let r=!1;for(const i of wi(t)){const s=CAe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function CAe(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?_r(a,c):N()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}class A1{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xF(this.inner)}size(){return this.innerSize}}const MAe=new Le(x.comparator);function P2(){return MAe}const nB=new Le(x.comparator);function u4(...t){let e=nB;for(const n of t)e=e.insert(n.key,n);return e}function rB(t){let e=nB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xn(){return f4()}function iB(){return f4()}function f4(){return new A1(t=>t.toString(),(t,e)=>t.isEqual(e))}const wAe=new Le(x.comparator),bAe=new ke(x.comparator);function re(...t){let e=bAe;for(const n of t)e=e.add(n);return e}const VAe=new ke(Q);function sB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:n4(e)?"-0":e}}function oB(t){return{integerValue:""+t}}function aB(t,e){return function wF(t){return"number"==typeof t&&Number.isInteger(t)&&!n4(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?oB(e):sB(t,e)}class Yl{constructor(){this._=void 0}}function HAe(t,e,n){return t instanceof po?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Fl(i)&&(i=Bl(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof bi?lB(t,e):t instanceof Vi?uB(t,e):function(r,i){const s=cB(r,i),o=fB(s)+fB(r.gt);return vv(s)&&vv(r.gt)?oB(o):sB(r.serializer,o)}(t,e)}function SAe(t,e,n){return t instanceof bi?lB(t,e):t instanceof Vi?uB(t,e):n}function cB(t,e){return t instanceof mo?vv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class po extends Yl{}class bi extends Yl{constructor(e){super(),this.elements=e}}function lB(t,e){const n=dB(e);for(const r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vi extends Yl{constructor(e){super(),this.elements=e}}function uB(t,e){let n=dB(e);for(const r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}class mo extends Yl{constructor(e,n){super(),this.serializer=e,this.gt=n}}function fB(t){return Ze(t.integerValue||t.doubleValue)}function dB(t){return s4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class IAe{constructor(e,n){this.version=e,this.transformResults=n}}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ql(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Xl{}function hB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new vo(t.key,$e.none()):new go(t.key,t.data,$e.none());{const n=t.data,r=Wt.empty();let i=new ke(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new T1(t.key,r,new k2(i.toArray()),$e.none())}}function EAe(t,e,n){t instanceof go?function(r,i,s){const o=r.value.clone(),a=gB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof T1?function(r,i,s){if(!Ql(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=gB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(mB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function h4(t,e,n,r){return t instanceof go?function(i,s,o,a){if(!Ql(i.precondition,s))return o;const c=i.value.clone(),l=vB(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof T1?function(i,s,o,a){if(!Ql(i.precondition,s))return o;const c=vB(i.fieldTransforms,a,s),l=s.data;return l.setAll(mB(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(o=n,Ql(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function xAe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=cB(r.transform,i||null);null!=s&&(null===n&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function pB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ao(n,r,(i,s)=>function zAe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof bi&&r instanceof bi||n instanceof Vi&&r instanceof Vi?ao(n.elements,r.elements,Qn):n instanceof mo&&r instanceof mo?Qn(n.gt,r.gt):n instanceof po&&r instanceof po);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class go extends Xl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class T1 extends Xl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gB(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,SAe(o,a,n[i]))}return r}function vB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,HAe(s,o,e))}return r}class vo extends Xl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zv extends Xl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Iv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EAe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=h4(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=h4(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=hB(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,r)=>pB(n,r))&&ao(this.baseMutations,e.baseMutations,(n,r)=>pB(n,r))}}class Ev{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){O(e.mutations.length===r.length);let i=wAe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ev(e,n,r,i)}}class xv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class LAe{constructor(e,n){this.count=e,this.unchangedNames=n}}var pt,pe;function _B(t){if(void 0===t)return at("GRPC error has no .code"),M.UNKNOWN;switch(t){case pt.OK:return M.OK;case pt.CANCELLED:return M.CANCELLED;case pt.UNKNOWN:return M.UNKNOWN;case pt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case pt.INTERNAL:return M.INTERNAL;case pt.UNAVAILABLE:return M.UNAVAILABLE;case pt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case pt.NOT_FOUND:return M.NOT_FOUND;case pt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case pt.ABORTED:return M.ABORTED;case pt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case pt.DATA_LOSS:return M.DATA_LOSS;default:return N()}}(pe=pt||(pt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class Dv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jl}static getOrCreateInstance(){return null===Jl&&(Jl=new Dv),Jl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Jl=null;const AAe=new so([4294967295,4294967295],0);function MB(t){const e=function CB(){return new TextEncoder}().encode(t),n=new ILe;return n.update(e),new Uint8Array(n.digest())}function wB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new so([n,r],0),new so([i,s],0)]}class Lv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new p4(`Invalid padding: ${n}`);if(r<0)throw new p4(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new p4(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new p4(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=so.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(so.fromNumber(r)));return 1===i.compare(AAe)&&(i=new so([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=MB(e),[r,i]=wB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Lv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=MB(e),[r,i]=wB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class p4 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class m4{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,g4.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new m4(B.min(),i,new Le(Q),P2(),re())}}class g4{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new g4(r,n,re(),re(),re())}}class Zl{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class bB{constructor(e,n){this.targetId=e,this.Vt=n}}class VB{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class HB{constructor(){this.St=0,this.Dt=zB(),this.Ct=wt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=re(),n=re(),r=re();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:N()}}),new g4(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=zB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class TAe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=P2(),this.zt=SB(),this.Wt=new Le(Q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:N()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Gl(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Pe.newNoDocument(a,B.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Dv.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,g,v,C;const y={localCacheCount:u,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(y.bloomFilter={applied:0===l,hashCount:null!==(d=w?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(g=null===(p=null===(h=w?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(C=null===(v=w?.bits)||void 0===v?void 0:v.padding)&&void 0!==C?C:0}),y}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,l;try{c=D1(s).toUint8Array()}catch(u){if(u instanceof LF)return Mn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new Lv(c,o,a)}catch(u){return Mn(u instanceof p4?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Gl(a.target)){const c=new x(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,Pe.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=re();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new m4(e,n,this.Wt,this.jt,r);return this.jt=P2(),this.zt=SB(),this.Wt=new Le(Q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new HB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ke(Q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new HB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function SB(){return new Le(x.comparator)}function zB(){return new Le(x.comparator)}const NAe={asc:"ASCENDING",desc:"DESCENDING"},kAe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PAe={and:"AND",or:"OR"};class RAe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Av(t,e){return t.useProto3Json||t4(e)?e:{value:e}}function yo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OAe(t,e){return yo(t,e.toTimestamp())}function lt(t){return O(!!t),B.fromTimestamp(function(e){const n=gr(e);return new Ke(n.seconds,n.nanos)}(t))}function Tv(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function EB(t){const e=he.fromString(t);return O(RB(e)),e}function v4(t,e){return Tv(t.databaseId,e.path)}function Jn(t,e){const n=EB(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(DB(n))}function Nv(t,e){return Tv(t.databaseId,e)}function y4(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DB(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function LB(t,e,n){return{name:v4(t,e),fields:n.value.mapValue.fields}}function TB(t,e){return{documents:[Nv(t,e.path)]}}function Pv(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Nv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Nv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return PB(Ve.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Mr((u=l).field),direction:$Ae(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Av(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function NB(t){let e=function xB(t){const e=EB(t);return 4===e.length?he.emptyPath():DB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const f=kB(u);return f instanceof Ve&&_v(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>{return new uo(_o((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let a=null;n.limit&&(a=function(u){let f;return f="object"==typeof u?u.value:u,t4(f)?null:f}(n.limit));let c=null;var u;n.startAt&&(c=new Cr((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new Cr(u.values||[],!u.before)}(n.endAt)),function XF(t,e,n,r,i,s,o,a){return new L1(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function kB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=_o(e.unaryFilter.field);return ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=_o(e.unaryFilter.field);return ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_o(e.unaryFilter.field);return ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=_o(e.unaryFilter.field);return ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return N()}}(t):void 0!==t.fieldFilter?ae.create(_o((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ve.create(e.compositeFilter.filters.map(n=>kB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return N()}}(e.compositeFilter.op))}(t):N();var e}function $Ae(t){return NAe[t]}function GAe(t){return kAe[t]}function qAe(t){return PAe[t]}function Mr(t){return{fieldPath:t.canonicalString()}}function _o(t){return ct.fromServerFormat(t.fieldPath)}function PB(t){return t instanceof ae?function(e){if("=="===e.op){if(NF(e.value))return{unaryFilter:{field:Mr(e.field),op:"IS_NAN"}};if(TF(e.value))return{unaryFilter:{field:Mr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NF(e.value))return{unaryFilter:{field:Mr(e.field),op:"IS_NOT_NAN"}};if(TF(e.value))return{unaryFilter:{field:Mr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mr(e.field),op:GAe(e.op),value:e.value}}}(t):t instanceof Ve?function(e){const n=e.getFilters().map(r=>PB(r));return 1===n.length?n[0]:{compositeFilter:{op:qAe(e.op),filters:n}}}(t):N()}function WAe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class N1{constructor(e,n,r,i,s=B.min(),o=B.min(),a=wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new N1(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new N1(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class OB{constructor(e){this.fe=e}}function Rv(t){const e=NB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Kl(e,e.limit,"L"):e}class Ii{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),n4(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(D1(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?kF(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):N()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ii.Ve=new Ii;class nTe{constructor(){this.rn=new $v}addToCollectionParentIndex(e,n){return this.rn.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(W2.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(W2.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class $v{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ke(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(he.comparator)).toArray()}}new Uint8Array(0);class c2{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new c2(e,c2.DEFAULT_COLLECTION_PERCENTILE,c2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}c2.DEFAULT_COLLECTION_PERCENTILE=10,c2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,c2.DEFAULT=new c2(41943040,c2.DEFAULT_COLLECTION_PERCENTILE,c2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),c2.DISABLED=new c2(-1,0,0);class xi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xi(0)}static Mn(){return new xi(-1)}}class cTe{constructor(){this.changes=new A1(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fTe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&h4(r.mutation,i,k2.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Xn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=u4();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=P2();const o=f4(),a=f4();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof T1)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),h4(u.mutation,l,u.mutation.getFieldMask(),Ke.now())):o.set(l.key,k2.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new fTe(u,null!==(f=o.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=f4();let i=new Le((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||k2.empty();u=a.applyToLocalView(l,u),r.set(c,u);const f=(i.get(a.batchId)||re()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,f=iB();u.forEach(d=>{if(!s.has(d)){const h=hB(n.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):bv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(Xn());let a=-1,c=s;return o.next(l=>_.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?_.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,re())).next(u=>({batchId:a,changes:rB(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=u4();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=u4();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const c=(l=n,u=a.child(i),new L1(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Pe.newInvalidDocument(l)))});let o=u4();return s.forEach((a,c)=>{const l=i.get(a);void 0!==l&&h4(l.mutation,c,k2.empty(),Ke.now()),l4(n,c)&&(o=o.insert(a,c))}),o})}}class dTe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return _.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:lt(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Rv(r.bundledQuery),readTime:lt(r.readTime)}),_.resolve();var r}}class hTe{constructor(){this.overlays=new Le(x.comparator),this.ls=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xn();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=Xn(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Xn(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Xn(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return _.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xv(n,r));let s=this.ls.get(n);void 0===s&&(s=re(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class Gv{constructor(){this.fs=new ke(Nt.ds),this.ws=new ke(Nt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Nt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new he([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new he([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||Q(e.As,n.As)}static _s(e,n){return Q(e.As,n.As)||x.comparator(e.key,n.key)}}class pTe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ke(Nt.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new Iv(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(Q);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new x(s),0);let a=new ke(Q);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},o),_.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mTe{constructor(e){this.Ds=e,this.docs=new Le(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Pe.newInvalidDocument(n))}getEntries(e,n){let r=P2();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pe.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=P2();const o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||dv(_F(u),r)<=0||(i.has(u.key)||l4(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){N()}Cs(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gTe(this)}getSize(e){return _.resolve(this.size)}}class gTe extends cTe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class vTe{constructor(e){this.persistence=e,this.xs=new A1(n=>Mi(n),a4),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gv,this.targetCount=0,this.Ms=xi.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),_.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new xi(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Fn(n),_.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.ks.containsKey(n))}}class qv{constructor(e,n){this.$s={},this.overlays={},this.Os=new K2(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new vTe(this),this.indexManager=new nTe,this.remoteDocumentCache=new mTe(r=>this.referenceDelegate.Ls(r)),this.serializer=new OB(n),this.qs=new dTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new pTe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new yTe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class yTe extends OLe{constructor(e){super(),this.currentSequenceNumber=e}}class c8{constructor(e){this.persistence=e,this.Qs=new Gv,this.js=null}static zs(e){return new c8(e)}get Ws(){if(this.js)return this.js;throw N()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),_.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return _.or([()=>_.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Qv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qv(e,n.fromCache,r,i)}}class hU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(JF(n))return _.resolve(null);let r=b2(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Kl(n,null,"F"),r=b2(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(n,a);return this.zi(n,l,o,c.readTime)?this.Ki(e,Kl(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,r,i){return JF(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(lv()<=ge.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hv(n)),this.Wi(e,o,n,function yF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Ke(n+1,0):new Ke(n,r));return new W2(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new ke(tB(e));return n.forEach((i,s)=>{l4(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return lv()<=ge.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Hv(n)),this.Ui.getDocumentsMatchingQuery(e,n,W2.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class CTe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Le(Q),this.Yi=new A1(s=>Mi(s),a4),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function mU(t,e){return Xv.apply(this,arguments)}function Xv(){return Xv=m(function*(t,e){const n=D(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=re();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}),Xv.apply(this,arguments)}function gU(t){const e=D(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function bTe(t,e){const n=D(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bo(t,e,n){return Jv.apply(this,arguments)}function Jv(){return Jv=m(function*(t,e,n){const r=D(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!pr(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Jv.apply(this,arguments)}function f8(t,e,n){const r=D(t);let i=B.min(),s=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=D(a),f=u.Yi.get(l);return void 0!==f?_.resolve(u.Ji.get(f)):u.Bs.getTargetData(c,l)}(r,o,b2(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:re())).next(a=>(function CU(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function eB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class ry{constructor(){this.activeTargetIds=function Sv(){return VAe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bU{constructor(){this.Hr=new ry,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ry,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class STe{Yr(e){}shutdown(){}}class VU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let p8=null;function sy(){return null===p8?p8=268435456+Math.round(2147483648*Math.random()):p8++,"0x"+p8.toString(16)}const zTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ITe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const l2="WebChannelConnection";class ETe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=sy(),a=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(l=>(H("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Mn("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${zTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=sy();return new Promise((o,a)=>{const c=new zLe;c.setWithCredentials(!0),c.listenOnce(VLe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cv.NO_ERROR:const u=c.getResponseJson();H(l2,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case cv.TIMEOUT:H(l2,`RPC '${e}' ${s} timed out`),a(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case cv.HTTP_ERROR:const f=c.getStatus();if(H(l2,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(h.status);a(new V(p,h.message))}else a(new V(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(M.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{H(l2,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);H(l2,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=sy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wLe(),a=bLe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new SLe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");H(l2,`Creating RPC '${e}' stream ${i}: ${u}`,c);const f=o.createWebChannel(u,c);let d=!1,h=!1;const p=new ITe({ro:v=>{h?H(l2,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(H(l2,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),H(l2,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},oo:()=>f.close()}),g=(v,C,y)=>{v.listen(C,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,Tl.EventType.OPEN,()=>{h||H(l2,`RPC '${e}' stream ${i} transport opened.`)}),g(f,Tl.EventType.CLOSE,()=>{h||(h=!0,H(l2,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(f,Tl.EventType.ERROR,v=>{h||(h=!0,Mn(l2,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new V(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,Tl.EventType.MESSAGE,v=>{var C;if(!h){const y=v.data[0];O(!!y);const E=y.error||(null===(C=y[0])||void 0===C?void 0:C.error);if(E){H(l2,`RPC '${e}' stream ${i} received error:`,E);const A=E.status;let j=function(gt){const Ht=pt[gt];if(void 0!==Ht)return _B(Ht)}(A),ue=E.message;void 0===j&&(j=M.INTERNAL,ue="Unknown error status: "+A+" with message "+E.message),h=!0,p.wo(new V(j,ue)),f.close()}else H(l2,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,HLe.STAT_EVENT,v=>{v.stat===dF.PROXY?H(l2,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===dF.NOPROXY&&H(l2,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function m8(){return typeof document<"u"?document:null}function I4(t){return new RAe(t,!0)}class oy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class SU{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new oy(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xTe extends SU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function BAe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:N(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(O(void 0===l||"string"==typeof l),wt.fromBase64String(l||"")):(O(void 0===l||l instanceof Uint8Array),wt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?M.UNKNOWN:_B(c.code);return new V(l,c.message||"")}(o);n=new VB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Jn(t,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):B.min(),a=new Wt({mapValue:{fields:r.document.fields}}),c=Pe.newFoundDocument(i,s,o,a);n=new Zl(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Jn(t,r.document),s=r.readTime?lt(r.readTime):B.min(),o=Pe.newNoDocument(i,s);n=new Zl([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Jn(t,r.document);n=new Zl([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return N();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new LAe(i,s);n=new bB(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?lt(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=y4(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Gl(a)?{documents:TB(i,a)}:{query:Pv(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=IB(i,s.resumeToken);const c=Av(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=yo(i,s.snapshotVersion.toTimestamp());const c=Av(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function jAe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return N()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=y4(this.serializer),n.removeTarget=e,this.Wo(n)}}class DTe extends SU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(O(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function UAe(t,e){return t&&t.length>0?(O(void 0!==e),t.map(n=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=lt(i)),new IAe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,n)}return O(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=y4(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function _4(t,e){let n;if(e instanceof go)n={update:LB(t,e.key,e.value)};else if(e instanceof vo)n={delete:v4(t,e.key)};else if(e instanceof T1)n={update:LB(t,e.key,e.data),updateMask:WAe(e.fieldMask)};else{if(!(e instanceof zv))return N();n={verify:v4(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof po)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof mo)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw N()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:OAe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:N()),n;var i}(this.serializer,r))};this.Wo(n)}}class LTe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class TTe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(at(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class NTe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var c;Hr(o)&&(H("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=D(l);u.vu.add(4),yield Vo(u),u.bu.set("Unknown"),u.vu.delete(4),yield E4(u)}),function(l){return c.apply(this,arguments)})(o))}))}),this.bu=new TTe(r,i)}}function E4(t){return cy.apply(this,arguments)}function cy(){return cy=m(function*(t){if(Hr(t))for(const e of t.Ru)yield e(!0)}),cy.apply(this,arguments)}function Vo(t){return ly.apply(this,arguments)}function ly(){return ly=m(function*(t){for(const e of t.Ru)yield e(!1)}),ly.apply(this,arguments)}function g8(t,e){const n=D(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),dy(n)?fy(n):So(n).Ko()&&uy(n,e))}function x4(t,e){const n=D(t),r=So(n);n.Au.delete(e),r.Ko()&&zU(n,e),0===n.Au.size&&(r.Ko()?r.jo():Hr(n)&&n.bu.set("Unknown"))}function uy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(t).su(e)}function zU(t,e){t.Vu.qt(e),So(t).iu(e)}function fy(t){t.Vu=new TAe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),So(t).start(),t.bu.gu()}function dy(t){return Hr(t)&&!So(t).Uo()&&t.Au.size>0}function Hr(t){return 0===D(t).vu.size}function IU(t){t.Vu=void 0}function kTe(t){return hy.apply(this,arguments)}function hy(){return hy=m(function*(t){t.Au.forEach((e,n)=>{uy(t,e)})}),hy.apply(this,arguments)}function PTe(t,e){return py.apply(this,arguments)}function py(){return py=m(function*(t,e){IU(t),dy(t)?(t.bu.Iu(e),fy(t)):t.bu.set("Unknown")}),py.apply(this,arguments)}function RTe(t,e,n){return my.apply(this,arguments)}function my(){return my=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof VB&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield v8(t,r)}else if(e instanceof Zl?t.Vu.Ht(e):e instanceof bB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield gU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(wt.EMPTY_BYTE_STRING,l.snapshotVersion)),zU(i,a);const u=new N1(l.target,a,c,l.sequenceNumber);uy(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield v8(t,r)}var r}),my.apply(this,arguments)}function v8(t,e,n){return gy.apply(this,arguments)}function gy(){return gy=m(function*(t,e,n){if(!pr(e))throw e;t.vu.add(1),yield Vo(t),t.bu.set("Offline"),n||(n=()=>gU(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield E4(t)}))}),gy.apply(this,arguments)}function EU(t,e){return e().catch(n=>v8(t,n,e))}function Ho(t){return vy.apply(this,arguments)}function vy(){return vy=m(function*(t){const e=D(t),n=Sr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;OTe(e);)try{const i=yield bTe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,FTe(e,i)}catch(i){yield v8(e,i)}xU(e)&&DU(e)}),vy.apply(this,arguments)}function OTe(t){return Hr(t)&&t.Eu.length<10}function FTe(t,e){t.Eu.push(e);const n=Sr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function xU(t){return Hr(t)&&!Sr(t).Uo()&&t.Eu.length>0}function DU(t){Sr(t).start()}function BTe(t){return yy.apply(this,arguments)}function yy(){return yy=m(function*(t){Sr(t).hu()}),yy.apply(this,arguments)}function UTe(t){return _y.apply(this,arguments)}function _y(){return _y=m(function*(t){const e=Sr(t);for(const n of t.Eu)e.uu(n.mutations)}),_y.apply(this,arguments)}function jTe(t,e,n){return Cy.apply(this,arguments)}function Cy(){return Cy=m(function*(t,e,n){const r=t.Eu.shift(),i=Ev.from(r,e,n);yield EU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ho(t)}),Cy.apply(this,arguments)}function $Te(t,e){return My.apply(this,arguments)}function My(){return My=m(function*(t,e){var n;e&&Sr(t).ou&&(yield(n=m(function*(r,i){if(function yB(t){switch(t){default:return N();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(s=i.code)&&s!==M.ABORTED){const o=r.Eu.shift();Sr(r).Qo(),yield EU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ho(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),xU(t)&&DU(t)}),My.apply(this,arguments)}function LU(t,e){return wy.apply(this,arguments)}function wy(){return wy=m(function*(t,e){const n=D(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Hr(n);n.vu.add(3),yield Vo(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield E4(n)}),wy.apply(this,arguments)}function Vy(){return Vy=m(function*(t,e){const n=D(t);e?(n.vu.delete(2),yield E4(n)):e||(n.vu.add(2),yield Vo(n),n.bu.set("Unknown"))}),Vy.apply(this,arguments)}function So(t){return t.Su||(t.Su=function(e,n,r){const i=D(e);return i.fu(),new xTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:kTe.bind(null,t),ao:PTe.bind(null,t),nu:RTe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),dy(t)?fy(t):t.bu.set("Unknown")):(yield t.Su.stop(),IU(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Sr(t){return t.Du||(t.Du=function(e,n,r){const i=D(e);return i.fu(),new DTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:BTe.bind(null,t),ao:$Te.bind(null,t),au:UTe.bind(null,t),cu:jTe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield Ho(t)):(yield t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Hy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Hy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zo(t,e){if(at("AsyncQueue",`${e}: ${t}`),pr(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}class Io{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=u4(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new Io(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class AU{constructor(){this.Cu=new Le(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):N():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Eo{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Eo(e,n,Io.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&c4(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class GTe{constructor(){this.Nu=void 0,this.listeners=[]}}class qTe{constructor(){this.queries=new A1(e=>ZF(e),c4),this.onlineState="Unknown",this.ku=new Set}}function zy(){return zy=m(function*(t,e){const n=D(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new GTe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=zo(o,`Initialization of query '${Hv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&xy(n)}),zy.apply(this,arguments)}function Ey(){return Ey=m(function*(t,e){const n=D(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Ey.apply(this,arguments)}function WTe(t,e){const n=D(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&xy(n)}function KTe(t,e,n){const r=D(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xy(t){t.ku.forEach(e=>{e.next()})}class Dy{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class kU{constructor(e){this.key=e}}class PU{constructor(e){this.key=e}}class RU{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=re(),this.mutatedKeys=re(),this.tc=tB(e),this.ec=new Io(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new AU,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=l4(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.rc(d,h)||(r.track({type:2,doc:h}),v=!0,(c&&this.tc(h,c)>0||l&&this.tc(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(c||l)&&(a=!0)),v&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return h(f)-h(d)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new Eo(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new AU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new PU(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new kU(r))}),n}hc(e){this.Yu=e.ir,this.Zu=re();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Eo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class XTe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JTe{constructor(e){this.key=e,this.fc=!1}}class ZTe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new A1(a=>ZF(a),c4),this._c=new Map,this.mc=new Set,this.gc=new Le(x.comparator),this.yc=new Map,this.Ic=new Gv,this.Tc={},this.Ec=new Map,this.Ac=xi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function eNe(t,e){return Ly.apply(this,arguments)}function Ly(){return Ly=m(function*(t,e){const n=function t_(t){const e=D(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lNe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rNe.bind(null,e),e.dc.nu=WTe.bind(null,e.eventManager),e.dc.Pc=KTe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function wo(t,e){const n=D(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new N1(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,b2(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Ay(t,e,n,r,i){return Ty.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&g8(n.remoteStore,o)}return i}),Ly.apply(this,arguments)}function Ty(){return Ty=m(function*(t,e,n,r,i){t.Rc=(f,d,h)=>{return(p=m(function*(g,v,C,y){let w=v.view.sc(C);w.zi&&(w=yield f8(g.localStore,v.query,!1).then(({documents:j})=>v.view.sc(j,w)));const E=y&&y.targetChanges.get(v.targetId),A=v.view.applyChanges(w,g.isPrimaryClient,E);return $y(g,v.targetId,A.cc),A.snapshot}),function(g,v,C,y){return p.apply(this,arguments)})(t,f,d,h);var p};const s=yield f8(t.localStore,e,!0),o=new RU(e,s.ir),a=o.sc(s.documents),c=g4.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);$y(t,n,l.cc);const u=new XTe(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),Ty.apply(this,arguments)}function tNe(t,e){return Ny.apply(this,arguments)}function Ny(){return Ny=m(function*(t,e){const n=D(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!c4(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),x4(n.remoteStore,r.targetId),xo(n,r.targetId)}).catch(hr))):(xo(n,r.targetId),yield bo(n.localStore,r.targetId,!0))}),Ny.apply(this,arguments)}function ky(){return ky=m(function*(t,e,n){const r=function n_(t){const e=D(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iNe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sNe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=D(s),c=Ke.now(),l=o.reduce((d,h)=>d.add(h.key),re());let u,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=P2(),p=re();return a.Zi.getEntries(d,l).next(g=>{h=g,h.forEach((v,C)=>{C.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,h)).next(g=>{u=g;const v=[];for(const C of o){const y=xAe(C,u.get(C.key).overlayedDocument);null!=y&&v.push(new T1(C.key,y,OF(y.value.mapValue),$e.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,v,o)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:rB(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new Le(Q)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield k1(r,i.changes),yield Ho(r.remoteStore)}catch(i){const s=zo(i,"Failed to persist write");n.reject(s)}}),ky.apply(this,arguments)}function OU(t,e){return Py.apply(this,arguments)}function Py(){return Py=m(function*(t,e){const n=D(t);try{const r=yield function wTe(t,e){const n=D(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,g,v;null!==e.targetMismatches.get(f)?h=h.withResumeToken(wt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),g=h,v=u,(0===(p=d).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,h))});let c=P2(),l=re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function vU(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=P2();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(B.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(B.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield k1(n,r,e)}catch(r){yield hr(r)}}),Py.apply(this,arguments)}function FU(t,e,n){const r=D(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=D(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const f of u.listeners)f.Mu(o)&&(c=!0)}),c&&xy(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rNe(t,e,n){return Ry.apply(this,arguments)}function Ry(){return Ry=m(function*(t,e,n){const r=D(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Le(x.comparator);o=o.insert(s,Pe.newNoDocument(s,B.min()));const a=re().add(s),c=new m4(B.min(),new Map,new Le(Q),o,a);yield OU(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),Gy(r)}else yield bo(r.localStore,e,!1).then(()=>xo(r,e,n)).catch(hr)}),Ry.apply(this,arguments)}function iNe(t,e){return Oy.apply(this,arguments)}function Oy(){return Oy=m(function*(t,e){const n=D(t),r=e.batch.batchId;try{const i=yield function MTe(t,e){const n=D(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,f=u.keys();let d=_.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(a,h)).next(p=>{const g=c.docVersions.get(h);O(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=re();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);jy(n,r,null),Uy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield k1(n,i)}catch(i){yield hr(i)}}),Oy.apply(this,arguments)}function sNe(t,e,n){return Fy.apply(this,arguments)}function Fy(){return Fy=m(function*(t,e,n){const r=D(t);try{const i=yield function(s,o){const a=D(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(O(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);jy(r,e,n),Uy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield k1(r,i)}catch(i){yield hr(i)}}),Fy.apply(this,arguments)}function Uy(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function jy(t,e,n){const r=D(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function xo(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||BU(t,r)})}function BU(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(x4(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Gy(t))}function $y(t,e,n){for(const r of n)r instanceof kU?(t.Ic.addReference(r.key,e),aNe(t,r)):r instanceof PU?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||BU(t,r.key)):N()}function aNe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),Gy(t))}function Gy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(he.fromString(e)),r=t.Ac.next();t.yc.set(r,new JTe(n)),t.gc=t.gc.insert(n,r),g8(t.remoteStore,new N1(b2(ho(n.path)),r,"TargetPurposeLimboResolution",K2.ct))}}function k1(t,e,n){return qy.apply(this,arguments)}function qy(){return qy=m(function*(t,e,n){const r=D(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=Qv.Li(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(c,l){const u=D(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>_.forEach(l,d=>_.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>_.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!pr(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Ji.get(d),g=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Ji=u.Ji.insert(d,g)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,s))}),qy.apply(this,arguments)}function cNe(t,e){return Wy.apply(this,arguments)}function Wy(){return Wy=m(function*(t,e){const n=D(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=yield mU(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new V(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield k1(n,r.er)}var i}),Wy.apply(this,arguments)}function lNe(t,e){const n=D(t),r=n.yc.get(e);if(r&&r.fc)return re().add(r.key);{let i=re();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class y8{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=I4(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function pU(t,e,n,r){return new CTe(t,e,n,r)}(this.persistence,new hU,e.initialUser,this.serializer)}createPersistence(e){return new qv(c8.zs,this.serializer)}createSharedClientState(e){return new bU}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Do{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cNe.bind(null,r.syncEngine),yield function by(t,e){return Vy.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qTe}createDatastore(e){const n=I4(e.databaseInfo.databaseId),r=new ETe(e.databaseInfo);return new LTe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>FU(this.syncEngine,a,0),o=VU.D()?new VU:new STe,new NTe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,l){const u=new ZTe(r,i,s,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=D(n);H("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Vo(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class _8{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wNe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=gF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){H("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=zo(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function C8(t,e){return r_.apply(this,arguments)}function r_(){return r_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield mU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),r_.apply(this,arguments)}function i_(t,e){return s_.apply(this,arguments)}function s_(){return s_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function o_(t){return a_.apply(this,arguments)}(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>LU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>LU(e.remoteStore,s)),t._onlineComponents=e}),s_.apply(this,arguments)}function a_(){return a_=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield C8(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function WU(t){return"FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Mn("Error using user provided cache. Falling back to memory cache: "+n),yield C8(t,new y8)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield C8(t,new y8);return t._offlineComponents}),a_.apply(this,arguments)}function M8(t){return c_.apply(this,arguments)}function c_(){return c_=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield i_(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield i_(t,new Do))),t._onlineComponents}),c_.apply(this,arguments)}function Lo(t){return u_.apply(this,arguments)}function u_(){return u_=m(function*(t){const e=yield M8(t),n=e.eventManager;return n.onListen=eNe.bind(null,e.syncEngine),n.onUnlisten=tNe.bind(null,e.syncEngine),n}),u_.apply(this,arguments)}function ZU(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const ej=new Map;function f_(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tj(t){if(!x.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nj(t){if(x.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b8(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":N()}function le(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b8(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class ij{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function DNe(t,e,n,r){if(!0===e&&!0===r)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ZU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D4{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ij({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ij(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ELe;switch(n.type){case"firstParty":return new ALe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=ej.get(e);n&&(H("ComponentProvider","Removing Datastore"),ej.delete(e),n.terminate())}(this),Promise.resolve()}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Zn extends Kt{constructor(e,n,r){super(e,n,ho(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new x(e))}withConverter(e){return new Zn(this.firestore,e,this._path)}}function ANe(t,e,...n){if(t=ot(t),f_("collection","path",e),t instanceof D4){const r=he.fromString(e,...n);return nj(r),new Zn(t,null,r)}{if(!(t instanceof ut||t instanceof Zn))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return nj(r),new Zn(t.firestore,null,r)}}function sj(t,e,...n){if(t=ot(t),1===arguments.length&&(e=gF.A()),f_("doc","path",e),t instanceof D4){const r=he.fromString(e,...n);return tj(r),new ut(t,null,new x(r))}{if(!(t instanceof ut||t instanceof Zn))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return tj(r),new ut(t.firestore,t instanceof Zn?t.converter:null,new x(r))}}class TNe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new oy(this,"async_queue_retry"),this.Xc=()=>{const n=m8();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=m8();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=m8();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Mt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!pr(n))throw n;H("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Hy.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&N()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function d_(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends D4{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new TNe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aj(this),this._firestoreClient.terminate()}}function kNe(t,e){const r="string"==typeof t?t:e||"(default)",i=ir("object"==typeof t?t:fa(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=QN("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function LNe(t,e,n,r={}){var i;const s=(t=le(t,D4))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=At.MOCK_USER;else{a=function qwe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[C0(JSON.stringify({alg:"none",type:"JWT"})),C0(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new At(l)}t._authCredentials=new xLe(new pF(a,c))}}(i,...s)}return i}function mt(t){return t._firestoreClient||aj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aj(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new lAe(t._databaseId,a,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,ZU(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;t._firestoreClient=new wNe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Li(wt.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Li(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ao{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class h_{constructor(e){this._methodName=e}}class p_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}const RNe=/^__.*__$/;class ONe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new T1(e,this.data,this.fieldMask,n,this.fieldTransforms):new go(e,this.data,n,this.fieldTransforms)}}class uj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new T1(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}class V8{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new V8(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return S8(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(fj(this.ca)&&RNe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class FNe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||I4(e)}ya(e,n,r,i=!1){return new V8({ca:e,methodName:n,ga:r,path:ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function To(t){const e=t._freezeSettings(),n=I4(t._databaseId);return new FNe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m_(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);v_("Data must be an object, but it was:",o,r);const a=gj(r,o);let c,l;if(s.merge)c=new k2(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=T4(e,f,n);if(!o.contains(d))throw new V(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);yj(u,d)||u.push(d)}c=new k2(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new ONe(new Wt(a),c,l)}class A4 extends h_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof A4}}function Ai(t,e){if(vj(t=ot(t)))return v_("Unsupported field value:",e,t),gj(t,e);if(t instanceof h_)return function(n,r){if(!fj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ai(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=ot(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return aB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ke.fromDate(n);return{timestampValue:yo(r.serializer,i)}}if(n instanceof Ke){const i=new Ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yo(r.serializer,i)}}if(n instanceof p_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Li)return{bytesValue:IB(r.serializer,n._byteString)};if(n instanceof ut){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${b8(n)}`)}(t,e)}function gj(t,e){const n={};return xF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(t,(r,i)=>{const s=Ai(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function vj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof p_||t instanceof Li||t instanceof ut||t instanceof h_)}function v_(t,e,n){if(!vj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=b8(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function T4(t,e,n){if((e=ot(e))instanceof Ao)return e._internalPath;if("string"==typeof e)return H8(t,e);throw S8("Field path arguments must be of type string or ",t,!1,void 0,n)}const $Ne=new RegExp("[~\\*/\\[\\]]");function H8(t,e,n){if(e.search($Ne)>=0)throw S8(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ao(...e.split("."))._internalPath}catch{throw S8(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function S8(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new V(M.INVALID_ARGUMENT,a+t+c)}function yj(t,e){return t.some(n=>n.isEqual(e))}class y_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GNe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(z8("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class GNe extends y_{data(){return super.data()}}function z8(t,e){return"string"==typeof e?H8(t,e):e instanceof Ao?e._internalPath:e._delegate._internalPath}class __{}class Cj extends __{}function qNe(t,e,...n){let r=[];e instanceof __&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof No).length,o=i.filter(a=>a instanceof N4).length;if(s>1||s>0&&o>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class N4 extends Cj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new N4(e,n,r)}_apply(e){const n=this._parse(e);return Vj(e._query,n),new Kt(e.firestore,e.converter,Vv(e._query,n))}_parse(e){const n=To(e.firestore);return function(i,s,o,a,c,l,u){let f;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){bj(u,l);const d=[];for(const h of u)d.push(wj(a,i,h));f={arrayValue:{values:d}}}else f=wj(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||bj(u,l),f=function mj(t,e,n,r=!1){return Ai(n,t.ya(r?4:3,e))}(o,"where",u,"in"===l||"not-in"===l);return ae.create(c,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function WNe(t,e,n){const r=e,i=z8("where",t);return N4._create(i,r,n)}class No extends __{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new No(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Vj(s,a),s=Vv(s,a)}(e._query,n),new Kt(e.firestore,e.converter,Vv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class I8 extends Cj{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new I8(e,n,r)}_apply(e){return new Kt(e.firestore,e.converter,Kl(e._query,this._limit,this._limitType))}}function KNe(t){return function rj(t,e){if(e<=0)throw new V(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),I8._create("limit",t,"F")}function wj(t,e,n){if("string"==typeof(n=ot(n))){if(""===n)throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bv(e)&&-1!==n.indexOf("/"))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(he.fromString(n));if(!x.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ci(t,new x(r))}if(n instanceof ut)return Ci(t,n._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b8(n)}.`)}function bj(t,e){if(!Array.isArray(t)||0===t.length)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vj(t,e){if(e.isInequality()){const r=Wl(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new V(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=wv(t);null!==s&&function Hj(t,e,n){if(!n.isEqual(e))throw new V(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new V(M.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YNe{convertValue(e,n="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(D1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw N()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new p_(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bl(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(r4(e));default:return null}}convertTimestamp(e){const n=gr(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);O(RB(r));const i=new _i(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ti{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ko extends y_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new D8(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(z8("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class D8 extends ko{data(e={}){return super.data(e)}}class Po{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new D8(this._firestore,this._userDataWriter,r.key,r,new Ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new D8(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ti(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new D8(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ti(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:XNe(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XNe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}class zr extends YNe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function JNe(t,e,n,...r){t=le(t,ut);const i=le(t.firestore,Re),s=To(i);let o;return o="string"==typeof(e=ot(e))||e instanceof Ao?function pj(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[T4(e,r,n)],c=[i];if(s.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(T4(e,s[d])),c.push(s[d+1]);const l=[],u=Wt.empty();for(let d=a.length-1;d>=0;--d)if(!yj(l,a[d])){const h=a[d];let p=c[d];p=ot(p);const g=o.da(h);if(p instanceof A4)l.push(h);else{const v=Ai(p,g);null!=v&&(l.push(h),u.set(h,v))}}const f=new k2(l);return new uj(u,f,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function hj(t,e,n,r){const i=t.ya(1,e,n);v_("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();mr(r,(c,l)=>{const u=H8(e,c,n);l=ot(l);const f=i.da(u);if(l instanceof A4)s.push(u);else{const d=Ai(l,f);null!=d&&(s.push(u),o.set(u,d))}});const a=new k2(s);return new uj(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),k4(i,[o.toMutation(t._key,$e.exists(!0))])}function ZNe(t,e){const n=le(t.firestore,Re),r=sj(t),i=function M_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return k4(n,[m_(To(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function k4(t,e){return function(n,r){const i=new Mt;return n.asyncQueue.enqueueAndForget(m(function*(){return function nNe(t,e,n){return ky.apply(this,arguments)}(yield function l_(t){return M8(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(mt(t),e)}!function(t,e=!0){oo=ri,C2(new n2("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Re(new DLe(n.getProvider("auth-internal")),new TLe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _i(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qe(hF,"3.13.0",t),qe(hF,"3.13.0","esm2017")}();var dke={includeMetadataChanges:!1};function b_(t,e){return void 0===e&&(e=dke),new tt(function(n){var r=function eke(t,...e){var n,r,i;t=ot(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||d_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(d_(e[o])){const f=e[o];e[o]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,u;if(t instanceof ut)l=le(t.firestore,Re),u=ho(t._key.path),c={next:f=>{e[o]&&e[o](function w_(t,e,n){const r=n.docs.get(e._key),i=new zr(t);return new ko(t,i,e._key,r,new Ti(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,f))},error:e[o+1],complete:e[o+2]};else{const f=le(t,Kt);l=le(f.firestore,Re),u=f._query;const d=new zr(l);c={next:h=>{e[o]&&e[o](new Po(l,d,f,h))},error:e[o+1],complete:e[o+2]},function _j(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,d,h,p){const g=new _8(p),v=new Dy(d,g,h);return f.asyncQueue.enqueueAndForget(m(function*(){return function Sy(t,e){return zy.apply(this,arguments)}(yield Lo(f),v)})),()=>{g.Dc(),f.asyncQueue.enqueueAndForget(m(function*(){return function Iy(t,e){return Ey.apply(this,arguments)}(yield Lo(f),v)}))}}(mt(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function _ke(t,e){return void 0===e&&(e={}),function yke(t){return b_(t,{includeMetadataChanges:!0}).pipe(Xo(function(e){return e.docs}))}(t).pipe(Xo(function(n){return n.map(function(r){return function Ij(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class P1{constructor(e){return e}}const Lj="firestore",S_=new U("angularfire2.firestore-instances");function wke(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new P1(r)}}const bke={provide:class Cke{constructor(){return qh(Lj)}},deps:[[new E2,S_]]},Vke={provide:P1,useFactory:function Mke(t,e){const n=Gh(Lj,t,e);return n&&new P1(n)},deps:[[new E2,S_],Fs]};let Hke=(()=>{class t{constructor(){qe("angularfire",ma.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({providers:[Vke,bke]}),t})();function Ro(t,...e){return{ngModule:Hke,providers:[{provide:S_,useFactory:wke(t),multi:!0,deps:[Te,Zt,N0,k0,[new E2,QR],[new E2,pp],...e]}]}}const Oo=r2(_ke,!0),Aj=r2(ZNe,!0),Ir=r2(ANe,!0),Tj=r2(sj,!0),Fo=r2(kNe,!0),Nj=r2(KNe,!0),Bo=r2(qNe,!0),kj=r2(JNe,!0),Er=r2(WNe,!0);let Pj=(()=>{var t;class e{constructor(){this.firestore=R(P1)}subscribeToFleetOrders(r,i,s){let o=Ir(this.firestore,"orders");Oo(Bo(o,Er("user","==",r),Er("executed","==",!1)),{idField:"id"}).forEach(a=>{i.next(a.length),s.detectChanges()}).catch(a=>{console.log(a)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class z_{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class Rj{constructor(){this._orbit=0,this._ground=0,this._workers=new z_,this._soldiers=new z_,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class I_{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Ske=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new Rj,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),f=new I_;f.name=l.parentElement.className.split(/\s+/)[2],f.stored=parseInt(u[0].replace(/,/g,"")),f.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),f.abundance=parseInt(u[2].replace(/,/g,"")),a.push(f)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Oj{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new z_,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var u2=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(u2||{});class zke{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Ike{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ae=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ae||{});class Eke{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let xke=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new Oj,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=u2.SURFACE;break;case 2:s=u2.RESOURCE;break;case 0:s=u2.FLEET;break;default:s=u2.UNKNOWN}let o=new zke(r,s);if(s!==u2.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";o.planetScan.owner=new Eke(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),a.substring(1,a.length-1))}if((s===u2.RESOURCE||s===u2.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===u2.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new I_;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===u2.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new I_;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.workers.available=parseInt(a.substring(1,a.length).replace(/,/g,"")),o.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Ike(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Ae.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Ae.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Ae.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Ae.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Ae.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Ae.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Ae.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Ae.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Ae.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Ae.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Ae.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Ae.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Ae.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Dke=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new Rj;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bn=(()=>{var t;class e{constructor(){this.planetListExtractor=R(Ske),this.planetScanExtractor=R(xke),this.navigationSystemPlanetsExtractor=R(Dke)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(){let r=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==r.indexOf("[")&&4==r.indexOf("]")&&(r=r.substring(5,r.length)),r.toLowerCase()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Uo=(()=>{var t;class e{constructor(){this._loggedStatus=new Bt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=_De(r).subscribe(s=>{null!=s?Oo(Bo(Ir(i,"valid-users"),Er("email","==",s.email),Nj(1))).subscribe(o=>{o.length>0&&Object.assign({email:"",enabled:!1},o[0]).enabled?(localStorage.setItem("user",JSON.stringify(s)),this._loggedStatus.emit(!0)):this.signOut(r,!1)}):(localStorage.removeItem("user"),this._loggedStatus.emit(!1))})}signInWithEmailAndPassword(r,i,s){CDe(r,i,s).catch(o=>{window.alert(o.message)})}signInWithGoogle(r){MDe(r,new gEe).catch(i=>{window.alert(i.message)})}signOut(r,i){this._loggedStatus.emit(!1),localStorage.removeItem("user"),this._refreshInProgress=i,r.signOut().catch(s=>{window.alert(s.message)}),i&&location.reload()}get loggedStatus(){return this._loggedStatus}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){bt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A8(t){return(A8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E_(t,e){return function kke(t){if(Array.isArray(t))return t}(t)||function Rke(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||Uj(t,e)||function Fke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R4(t){return function Nke(t){if(Array.isArray(t))return x_(t)}(t)||function Pke(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Uj(t)||function Oke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uj(t,e){if(t){if("string"==typeof t)return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(t,e)}}function x_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jj=function(){},D_={},$j={},Gj=null,qj={mark:jj,measure:jj};try{typeof window<"u"&&(D_=window),typeof document<"u"&&($j=document),typeof MutationObserver<"u"&&(Gj=MutationObserver),typeof performance<"u"&&(qj=performance)}catch{}var k8,P8,R8,O8,F8,Wj=(D_.navigator||{}).userAgent,Kj=void 0===Wj?"":Wj,xr=D_,Oe=$j,Yj=Gj,N8=qj,R1=!!Oe.documentElement&&!!Oe.head&&"function"==typeof Oe.addEventListener&&"function"==typeof Oe.createElement,Qj=~Kj.indexOf("MSIE")||~Kj.indexOf("Trident/"),O1="___FONT_AWESOME___",Xj="fa",Jj="svg-inline--fa",Ni="data-fa-i2svg",A_="data-fa-pseudo-element",Uke="data-fa-pseudo-element-pending",T_="data-prefix",N_="data-icon",Zj="fontawesome-i2svg",jke="async",$ke=["HTML","HEAD","STYLE","SCRIPT"],e$=function(){try{return!0}catch{return!1}}(),Fe="classic",et="sharp",k_=[Fe,et];function O4(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Fe]}})}var F4=O4((bt(k8={},Fe,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),bt(k8,et,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),k8)),B4=O4((bt(P8={},Fe,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),bt(P8,et,{solid:"fass",regular:"fasr",light:"fasl"}),P8)),U4=O4((bt(R8={},Fe,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),bt(R8,et,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),R8)),Gke=O4((bt(O8={},Fe,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),bt(O8,et,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),O8)),qke=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,t$="fa-layers-text",Wke=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Kke=O4((bt(F8={},Fe,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),bt(F8,et,{900:"fass",400:"fasr",300:"fasl"}),F8)),n$=[1,2,3,4,5,6,7,8,9,10],Yke=n$.concat([11,12,13,14,15,16,17,18,19,20]),Qke=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ki={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},j4=new Set;Object.keys(B4[Fe]).map(j4.add.bind(j4)),Object.keys(B4[et]).map(j4.add.bind(j4));var Xke=[].concat(k_,R4(j4),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ki.GROUP,ki.SWAP_OPACITY,ki.PRIMARY,ki.SECONDARY]).concat(n$.map(function(t){return"".concat(t,"x")})).concat(Yke.map(function(t){return"w-".concat(t)})),$4=xr.FontAwesomeConfig||{};Oe&&"function"==typeof Oe.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=E_(t,2),r=e[1],i=function Zke(t){return""===t||"false"!==t&&("true"===t||t)}(function Jke(t){var e=Oe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&($4[r]=i)});var r$={styleDefault:"solid",familyDefault:"classic",cssPrefix:Xj,replacementClass:Jj,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};$4.familyPrefix&&($4.cssPrefix=$4.familyPrefix);var jo=k(k({},r$),$4);jo.autoReplaceSvg||(jo.observeMutations=!1);var F={};Object.keys(r$).forEach(function(t){Object.defineProperty(F,t,{enumerable:!0,set:function(n){jo[t]=n,G4.forEach(function(r){return r(F)})},get:function(){return jo[t]}})}),Object.defineProperty(F,"familyPrefix",{enumerable:!0,set:function(e){jo.cssPrefix=e,G4.forEach(function(n){return n(F)})},get:function(){return jo.cssPrefix}}),xr.FontAwesomeConfig=F;var G4=[],e1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},rPe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function q4(){for(var t=12,e="";t-- >0;)e+=rPe[62*Math.random()|0];return e}function $o(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function P_(t){return t.classList?$o(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function i$(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function B8(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function R_(t){return t.size!==e1.size||t.x!==e1.x||t.y!==e1.y||t.rotate!==e1.rotate||t.flipX||t.flipY}var aPe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function s$(){var t=Xj,e=Jj,n=F.cssPrefix,r=F.replacementClass,i=aPe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var o$=!1;function O_(){F.autoAddCss&&!o$&&(function nPe(t){if(t&&R1){var e=Oe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Oe.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Oe.head.insertBefore(e,r)}}(s$()),o$=!0)}var cPe={mixout:function(){return{dom:{css:s$,insertCss:O_}}},hooks:function(){return{beforeDOMElementCreation:function(){O_()},beforeI2svg:function(){O_()}}}},F1=xr||{};F1[O1]||(F1[O1]={}),F1[O1].styles||(F1[O1].styles={}),F1[O1].hooks||(F1[O1].hooks={}),F1[O1].shims||(F1[O1].shims=[]);var Vn=F1[O1],a$=[],U8=!1;function W4(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?i$(t):"<".concat(e," ").concat(function iPe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(i$(t[n]),'" ')},"").trim()}(r),">").concat(s.map(W4).join(""),"</").concat(e,">")}function c$(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}R1&&((U8=(Oe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Oe.readyState))||Oe.addEventListener("DOMContentLoaded",function t(){Oe.removeEventListener("DOMContentLoaded",t),U8=1,a$.map(function(e){return e()})}));var F_=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function B_(t){var e=function dPe(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function l$(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function U_(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=l$(e);"function"!=typeof Vn.hooks.addPack||i?Vn.styles[t]=k(k({},Vn.styles[t]||{}),s):Vn.hooks.addPack(t,l$(e)),"fas"===t&&U_("fa",e)}var j8,$8,G8,Go=Vn.styles,pPe=Vn.shims,mPe=(bt(j8={},Fe,Object.values(U4[Fe])),bt(j8,et,Object.values(U4[et])),j8),j_=null,u$={},f$={},d$={},h$={},p$={},gPe=(bt($8={},Fe,Object.keys(F4[Fe])),bt($8,et,Object.keys(F4[et])),$8);var m$=function(){var e=function(s){return F_(Go,function(o,a,c){return o[c]=F_(a,s,{}),o},{})};u$=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),f$=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),p$=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Go||F.autoFetchSvg,r=F_(pPe,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});d$=r.names,h$=r.unicodes,j_=q8(F.styleDefault,{family:F.familyDefault})};function $_(t,e){return(u$[t]||{})[e]}function Pi(t,e){return(p$[t]||{})[e]}function g$(t){return d$[t]||{prefix:null,iconName:null}}function Lr(){return j_}(function tPe(t){G4.push(t)})(function(t){j_=q8(t.styleDefault,{family:F.familyDefault})}),m$();var G_=function(){return{prefix:null,iconName:null,rest:[]}};function q8(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Fe:n;return B4[r][t]||B4[r][F4[r][t]]||(t in Vn.styles?t:null)||null}var v$=(bt(G8={},Fe,Object.keys(U4[Fe])),bt(G8,et,Object.keys(U4[et])),G8);function W8(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(bt(e={},Fe,"".concat(F.cssPrefix,"-").concat(Fe)),bt(e,et,"".concat(F.cssPrefix,"-").concat(et)),e),o=null,a=Fe;(t.includes(s[Fe])||t.some(function(l){return v$[Fe].includes(l)}))&&(a=Fe),(t.includes(s[et])||t.some(function(l){return v$[et].includes(l)}))&&(a=et);var c=t.reduce(function(l,u){var f=function yPe(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function vPe(t){return~Xke.indexOf(t)}(i)?null:i}(F.cssPrefix,u);if(Go[u]?(u=mPe[a].includes(u)?Gke[a][u]:u,o=u,l.prefix=u):gPe[a].indexOf(u)>-1?(o=u,l.prefix=q8(u,{family:a})):f?l.iconName=f:u!==F.replacementClass&&u!==s[Fe]&&u!==s[et]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===o?g$(l.iconName):{},h=Pi(l.prefix,l.iconName);d.prefix&&(o=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!Go.far&&Go.fas&&!F.autoFetchSvg&&(l.prefix="fas")}return l},G_());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===et&&(Go.fass||F.autoFetchSvg)&&(c.prefix="fass",c.iconName=Pi(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=Lr()||"fas"),c}var MPe=function(){function t(){(function Lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Ake(t,e,n){e&&Bj(t.prototype,e),n&&Bj(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=k(k({},n.definitions[a]||{}),o[a]),U_(a,o[a]);var c=U4[Fe][a];c&&U_(c,o[a]),m$()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[a][f]=l)}),n[a][c]=l}),n}}]),t}(),y$=[],qo={},Wo={},wPe=Object.keys(Wo);function q_(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(qo[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Ri(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(qo[t]||[]).forEach(function(s){s.apply(null,n)})}function B1(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Wo[t]?Wo[t].apply(null,e):void 0}function W_(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Lr();if(e)return e=Pi(n,e)||e,c$(_$.definitions,n,e)||c$(Vn.styles,n,e)}var _$=new MPe,HPe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R1?(Ri("beforeI2svg",e),B1("pseudoElements2svg",e),B1("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===F.autoReplaceSvg&&(F.autoReplaceSvg=!0),F.observeMutations=!0,function uPe(t){R1&&(U8?setTimeout(t,0):a$.push(t))}(function(){zPe({autoReplaceSvgRoot:n}),Ri("watch",e)})}},Y2={noAuto:function(){F.autoReplaceSvg=!1,F.observeMutations=!1,Ri("noAuto")},config:F,dom:HPe,parse:{icon:function(e){if(null===e)return null;if("object"===A8(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Pi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=q8(e[0]);return{prefix:r,iconName:Pi(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(F.cssPrefix,"-"))>-1||e.match(qke))){var i=W8(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Lr(),iconName:Pi(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=Lr();return{prefix:s,iconName:Pi(s,e)||e}}}},library:_$,findIconDefinition:W_,toHtml:W4},zPe=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Oe:n;(Object.keys(Vn.styles).length>0||F.autoFetchSvg)&&R1&&F.autoReplaceSvg&&Y2.dom.i2svg({node:r})};function K8(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return W4(r)})}}),Object.defineProperty(t,"node",{get:function(){if(R1){var r=Oe.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function K_(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=void 0!==d&&d,p=r.found?r:n,g=p.width,v=p.height,C="fak"===i,y=[F.replacementClass,s?"".concat(F.cssPrefix,"-").concat(s):""].filter(function(Ht){return-1===f.classes.indexOf(Ht)}).filter(function(Ht){return""!==Ht||!!Ht}).concat(f.classes).join(" "),w={children:[],attributes:k(k({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},E=C&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(w.attributes[Ni]=""),c&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||q4())},children:[c]}),delete w.attributes.title);var A=k(k({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:k(k({},E),f.styles)}),j=r.found&&n.found?B1("generateAbstractMask",A)||{children:[],attributes:{}}:B1("generateAbstractIcon",A)||{children:[],attributes:{}},gt=j.attributes;return A.children=j.children,A.attributes=gt,a?function EPe(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(F.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:k(k({},i),{},{id:o}),children:r}]}]}(A):function IPe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(R_(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=B8(k(k({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(A)}function C$(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=k(k(k({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Ni]="");var u=k({},o.styles);R_(i)&&(u.transform=function oPe(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&Qj?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=B8(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var Y_=Vn.styles;function Q_(t){var e=t[0],n=t[1],s=E_(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(F.cssPrefix,"-").concat(ki.GROUP)},children:[{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat(ki.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat(ki.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var DPe={found:!1,width:512,height:512};function X_(t,e){var n=e;return"fa"===e&&null!==F.styleDefault&&(e=Lr()),new Promise(function(r,i){if(B1("missingIconAbstract"),"fa"===n){var o=g$(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Y_[e]&&Y_[e][t])return r(Q_(Y_[e][t]));(function LPe(t,e){!e$&&!F.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(k(k({},DPe),{},{icon:F.showMissingIcons&&t&&B1("missingIconAbstract")||{}}))})}var M$=function(){},J_=F.measurePerformance&&N8&&N8.mark&&N8.measure?N8:{mark:M$,measure:M$},K4='FA "6.4.2"',w$=function(e){J_.mark("".concat(K4," ").concat(e," ends")),J_.measure("".concat(K4," ").concat(e),"".concat(K4," ").concat(e," begins"),"".concat(K4," ").concat(e," ends"))},Z_={begin:function(e){return J_.mark("".concat(K4," ").concat(e," begins")),function(){return w$(e)}},end:w$},Y8=function(){};function b$(t){return"string"==typeof(t.getAttribute?t.getAttribute(Ni):null)}function PPe(t){return Oe.createElementNS("http://www.w3.org/2000/svg",t)}function RPe(t){return Oe.createElement(t)}function V$(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?PPe:RPe:n;if("string"==typeof t)return Oe.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(V$(o,{ceFn:r}))}),i}var Q8={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(V$(i),n)}),null===n.getAttribute(Ni)&&F.keepOriginalSource){var r=Oe.createComment(function OPe(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~P_(n).indexOf(F.replacementClass))return Q8.replace(e);var i=new RegExp("".concat(F.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===F.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return W4(a)}).join("\n");n.setAttribute(Ni,""),n.innerHTML=o}};function H$(t){t()}function S$(t,e){var n="function"==typeof e?e:Y8;if(0===t.length)n();else{var r=H$;F.mutateApproach===jke&&(r=xr.requestAnimationFrame||H$),r(function(){var i=function kPe(){return!0===F.autoReplaceSvg?Q8.replace:Q8[F.autoReplaceSvg]||Q8.replace}(),s=Z_.begin("mutate");t.map(i),s(),n()})}}var eC=!1;function z$(){eC=!0}function tC(){eC=!1}var X8=null;function I$(t){if(Yj&&F.observeMutations){var e=t.treeCallback,n=void 0===e?Y8:e,r=t.nodeCallback,i=void 0===r?Y8:r,s=t.pseudoElementsCallback,o=void 0===s?Y8:s,a=t.observeMutationsRoot,c=void 0===a?Oe:a;X8=new Yj(function(l){if(!eC){var u=Lr();$o(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!b$(f.addedNodes[0])&&(F.searchPseudoElements&&o(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&F.searchPseudoElements&&o(f.target.parentNode),"attributes"===f.type&&b$(f.target)&&~Qke.indexOf(f.attributeName))if("class"===f.attributeName&&function TPe(t){var e=t.getAttribute?t.getAttribute(T_):null,n=t.getAttribute?t.getAttribute(N_):null;return e&&n}(f.target)){var d=W8(P_(f.target)),p=d.iconName;f.target.setAttribute(T_,d.prefix||u),p&&f.target.setAttribute(N_,p)}else(function NPe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(F.replacementClass)})(f.target)&&i(f.target)})}}),R1&&X8.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function E$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function UPe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=W8(P_(t));return i.prefix||(i.prefix=Lr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function _Pe(t,e){return(f$[t]||{})[e]}(i.prefix,t.innerText)||$_(i.prefix,B_(t.innerText))),!i.iconName&&F.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function jPe(t){var e=$o(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return F.autoA11y&&(n?e["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(r||q4()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=q_("parseNodeAttributes",{},t),c=e.styleParser?function BPe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return k({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:e1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var GPe=Vn.styles;function x$(t){var e="nest"===F.autoReplaceSvg?E$(t,{styleParser:!1}):E$(t);return~e.extra.classes.indexOf(t$)?B1("generateLayersText",t,e):B1("generateSvgReplacementMutation",t,e)}var Ar=new Set;function D$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!R1)return Promise.resolve();var n=Oe.documentElement.classList,r=function(f){return n.add("".concat(Zj,"-").concat(f))},i=function(f){return n.remove("".concat(Zj,"-").concat(f))},s=F.autoFetchSvg?Ar:k_.map(function(u){return"fa-".concat(u)}).concat(Object.keys(GPe));s.includes("fa")||s.push("fa");var o=[".".concat(t$,":not([").concat(Ni,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Ni,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=$o(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Z_.begin("onTree"),l=a.reduce(function(u,f){try{var d=x$(f);d&&u.push(d)}catch(h){e$||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){S$(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(d){c(),f(d)})})}function qPe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;x$(t).then(function(n){n&&S$([n],e)})}function WPe(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:W_(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:W_(i||{})),t(r,k(k({},n),{},{mask:i}))}}k_.map(function(t){Ar.add("fa-".concat(t))}),Object.keys(F4[Fe]).map(Ar.add.bind(Ar)),Object.keys(F4[et]).map(Ar.add.bind(Ar)),Ar=R4(Ar);var KPe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?e1:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,f=n.title,d=void 0===f?null:f,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,C=n.attributes,y=void 0===C?{}:C,w=n.styles,E=void 0===w?{}:w;if(e){var A=e.prefix,j=e.iconName,ue=e.icon;return K8(k({type:"icon"},e),function(){return Ri("beforeDOMElementCreation",{iconDefinition:e,params:n}),F.autoA11y&&(d?y["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(p||q4()):(y["aria-hidden"]="true",y.focusable="false")),K_({icons:{main:Q_(ue),mask:c?Q_(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:A,iconName:j,transform:k(k({},e1),i),symbol:o,title:d,maskId:u,titleId:p,extra:{attributes:y,styles:E,classes:v}})})}},YPe={mixout:function(){return{icon:WPe(KPe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=D$,n.nodeCallback=qPe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return D$(void 0===r?Oe:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([X_(i,a),u.iconName?X_(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=E_(g,2);h([n,K_({icons:{main:v[0],mask:v[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=B8(n.styles);return c.length>0&&(i.style=c),R_(o)&&(l=B1("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},QPe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return K8({type:"layer"},function(){Ri("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(F.cssPrefix,"-layers")].concat(R4(s)).join(" ")},children:o}]})}}}},XPe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,f=void 0===u?{}:u;return K8({type:"counter",content:n},function(){return Ri("beforeDOMElementCreation",{content:n,params:r}),function xPe(t){var e=t.content,n=t.title,r=t.extra,i=k(k(k({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=B8(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(F.cssPrefix,"-layers-counter")].concat(R4(a))}})})}}}},JPe={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?e1:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return K8({type:"text",content:n},function(){return Ri("beforeDOMElementCreation",{content:n,params:r}),C$({content:n,transform:k(k({},e1),s),title:a,extra:{attributes:f,styles:h,classes:["".concat(F.cssPrefix,"-layers-text")].concat(R4(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(Qj){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return F.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,C$({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},ZPe=new RegExp('"',"ug"),L$=[1105920,1112319];function A$(t,e){var n="".concat(Uke).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=$o(t.children).filter(function(ue){return ue.getAttribute(A_)===e})[0],a=xr.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(Wke),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?et:Fe,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?B4[d][c[2].toLowerCase()]:Kke[d][l],p=function eRe(t){var e=t.replace(ZPe,""),n=function hPe(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=L$[0]&&n<=L$[1],i=2===e.length&&e[0]===e[1];return{value:B_(i?e[0]:e),isSecondary:r||i}}(f),g=p.value,v=p.isSecondary,C=c[0].startsWith("FontAwesome"),y=$_(h,g),w=y;if(C){var E=function CPe(t){var e=h$[t],n=$_("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);E.iconName&&E.prefix&&(y=E.iconName,h=E.prefix)}if(!y||v||o&&o.getAttribute(T_)===h&&o.getAttribute(N_)===w)r();else{t.setAttribute(n,w),o&&t.removeChild(o);var A=function $Pe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:e1,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),j=A.extra;j.attributes[A_]=e,X_(y,h).then(function(ue){var gt=K_(k(k({},A),{},{icons:{main:ue,mask:G_()},prefix:h,iconName:w,extra:j,watchable:!0})),Ht=Oe.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Ht,t.firstChild):t.appendChild(Ht),Ht.outerHTML=gt.map(function(Z4){return W4(Z4)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function tRe(t){return Promise.all([A$(t,"::before"),A$(t,"::after")])}function nRe(t){return!(t.parentNode===document.head||~$ke.indexOf(t.tagName.toUpperCase())||t.getAttribute(A_)||t.parentNode&&"svg"===t.parentNode.tagName)}function T$(t){if(R1)return new Promise(function(e,n){var r=$o(t.querySelectorAll("*")).filter(nRe).map(tRe),i=Z_.begin("searchPseudoElements");z$(),Promise.all(r).then(function(){i(),tC(),e()}).catch(function(){i(),tC(),n()})})}var N$=!1,k$=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},nC={x:0,y:0,width:"100%",height:"100%"};function P$(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function oRe(t){return"g"===t.tag?t.children:[t]}var aRe={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?W8(i.split(" ").map(function(o){return o.trim()})):G_();return s.prefix||(s.prefix=Lr()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,d=o.icon,h=function sPe(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:k(k({},nC),{},{fill:"white"})},g=u.children?{children:u.children.map(P$)}:{},v={tag:"g",attributes:k({},h.inner),children:[P$(k({tag:u.tag,attributes:k(k({},u.attributes),h.path)},g))]},C={tag:"g",attributes:k({},h.outer),children:[v]},y="mask-".concat(a||q4()),w="clip-".concat(a||q4()),E={tag:"mask",attributes:k(k({},nC),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,C]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:oRe(d)},E]};return r.push(A,{tag:"rect",attributes:k({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},nC)}),{children:r,attributes:i}}}};!function bPe(t,e){var n=e.mixoutsTo;y$=t,qo={},Object.keys(Wo).forEach(function(r){-1===wPe.indexOf(r)&&delete Wo[r]}),y$.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===A8(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){qo[o]||(qo[o]=[]),qo[o].push(s[o])})}r.provides&&r.provides(Wo)})}([cPe,YPe,QPe,XPe,JPe,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=T$,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;F.searchPseudoElements&&T$(void 0===r?Oe:r)}}},{mixout:function(){return{dom:{unwatch:function(){z$(),N$=!0}}}},hooks:function(){return{bootstrap:function(){I$(q_("mutationObserverCallbacks",{}))},noAuto:function(){!function FPe(){X8&&X8.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;N$?tC():I$(q_("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return k$(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=k$(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:k({},h.outer),children:[{tag:"g",attributes:k({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:k(k({},r.icon.attributes),h.path)}]}]}}}},aRe,{provides:function(e){var n=!1;xr.matchMedia&&(n=xr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:k(k({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=k(k({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:k(k({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:k(k({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:k(k({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:k(k({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:k(k({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:k(k({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:k(k({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:Y2});var fRe=Y2.parse,dRe=Y2.icon;const hRe=["*"],gRe=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let _Re=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),R$=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),CRe=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[X2]}),e})(),MRe=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(S(f1),S(en))},t.\u0275cmp=In({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[X2],ngContentSelectors:hRe,decls:1,vars:0,template:function(r,i){1&r&&(function OV(t){const e=b()[it][Qt];if(!e.projection){const r=e.projection=g3(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?AJ(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function FV(t,e=0,n){const r=b(),i=de(),s=vs(i,se+t,16,null,n||null);null===s.projection&&(s.projection=e),qu(),(!r[s1]||Xi())&&32!=(32&s.flags)&&function PY(t,e,n){Kw(e[J],0,e,n,M5(t,n,e),Uw(n.parent||e[Qt],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),wRe=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?fRe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...gRe(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=dRe(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(S(mI),S(_Re),S(R$),S(CRe,8),S(MRe,8))},t.\u0275cmp=In({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(b7("innerHTML",i.renderedIconHTML,ab),Rn("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[X2],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),O$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({}),e})(),bRe=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&P3("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function VRe(t,e){if(1&t&&(P(0,"span",13),me(1),Ft(2,"async"),K()),2&t){const n=X1();W(1),zt(Fn(2,1,n.fleetOrdersNotification))}}const Oi=function(){return{color:"#eee"}},HRe=function(){return["fas","house-chimney"]},SRe=function(){return["fas","earth-americas"]},zRe=function(){return["fas","satellite-dish"]},IRe=function(){return["fas","jet-fighter-up"]},ERe=function(){return["fas","chess-board"]},xRe=function(){return["fas","flask-vial"]},DRe=function(){return["fas","hand-fist"]};let LRe=(()=>{var t;class e{constructor(r){this.renderer=R(f1),this.badgeService=R(Pj),this.dgAPI=R(bn),this.changeDetection=R(F6),this.authService=R(Uo),r.addIcons(td,ra,ZD,gT,Ax,kE,bd),this.authService.loggedStatus.subscribe(i=>{this.active=i,i&&(this.fleetOrdersNotification=new tt(s=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),s,this.changeDetection)})),this.changeDetection.detectChanges()})}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}}return(t=e).\u0275fac=function(r){return new(r||t)(S(R$))},t.\u0275cmp=In({type:t,selectors:[["dgt-navbar"]],decls:39,vars:45,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"],[1,"notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),Se(4,"fa-icon",4),P(5,"span",5),me(6,"home"),K()()(),P(7,"li",2)(8,"a",6),Se(9,"fa-icon",4),P(10,"span",5),me(11,"planets"),K()()(),P(12,"li",2)(13,"a",7),Se(14,"fa-icon",4),P(15,"span",5),me(16,"radar"),K()()(),P(17,"li",2),p1(18,VRe,3,3,"span",8),Ft(19,"async"),P(20,"a",9),Se(21,"fa-icon",4),P(22,"span",5),me(23,"fleets"),K()()(),P(24,"li",2)(25,"a",10),Se(26,"fa-icon",4),P(27,"span",5),me(28,"navigation"),K()()(),P(29,"li",2)(30,"a",11),Se(31,"fa-icon",4),P(32,"span",5),me(33,"research"),K()()(),P(34,"li",2)(35,"a",12),Se(36,"fa-icon",4),P(37,"span",5),me(38,"alliances"),K()()()()()),2&r&&(W(2),oe("tabName","home"),W(2),Ot(v2(31,Oi)),oe("icon",v2(32,HRe)),W(3),oe("tabName","planets"),W(2),Ot(v2(33,Oi)),oe("icon",v2(34,SRe)),W(3),oe("tabName","radar"),W(2),Ot(v2(35,Oi)),oe("icon",v2(36,zRe)),W(3),oe("tabName","fleets"),W(1),oe("ngIf",i.active&&Fn(19,29,i.fleetOrdersNotification)),W(3),Ot(v2(37,Oi)),oe("icon",v2(38,IRe)),W(3),oe("tabName","navigation"),W(2),Ot(v2(39,Oi)),oe("icon",v2(40,ERe)),W(3),oe("tabName","research"),W(2),Ot(v2(41,Oi)),oe("icon",v2(42,xRe)),W(3),oe("tabName","alliances"),W(2),Ot(v2(43,Oi)),oe("icon",v2(44,DRe)))},dependencies:[As,wRe,bRe,bf],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const cn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let ARe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[LRe]}),t.\u0275inj=ft({providers:[Pj],imports:[Zr,O$,Bs(()=>js(cn_firebase)),Xs(()=>Js()),Ro(()=>Fo()),Gs(()=>qs(Us(),{provider:new or(cn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class TRe{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class NRe{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class F${constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class B${constructor(){this._resources=new NRe,this._workers=new F$,this._soldiers=new F$}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Vt=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Vt||{});let U$=(()=>{var t;class e{constructor(){this.dgAPI=R(bn)}extractStats(){let r=new TRe;return r.stats.set(Vt.ALL,new B$),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new B$),r.stats.get(Vt.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Vt.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Vt.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Vt.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Vt.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Vt.METAL:r.stats.get(Vt.ALL).resources.metalStored+=s.stored,r.stats.get(Vt.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Vt.MINERAL:r.stats.get(Vt.ALL).resources.mineralStored+=s.stored,r.stats.get(Vt.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Vt.FOOD:r.stats.get(Vt.ALL).resources.foodStored+=s.stored,r.stats.get(Vt.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Vt.ENERGY:r.stats.get(Vt.ALL).resources.energyStored+=s.stored,r.stats.get(Vt.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),kRe=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Yt({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),rC=(()=>{var t;class e{constructor(){this.decimalPipe=R(Ts)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Yt({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const PRe=function(t){return{"dgt-stats-totals-last-row":t}},ln=function(t){return{"dgt-padding-bottom-xs":t}};function RRe(t,e){if(1&t&&(P(0,"tr",4)(1,"th",5),me(2),Ft(3,"galaxyNameFormatter"),K(),P(4,"td",6)(5,"div",7),Se(6,"img",8),P(7,"span",9),me(8),Ft(9,"number"),K()()(),P(10,"td",10)(11,"div",7)(12,"span",9),me(13),Ft(14,"resourceProductionFormatter"),K()()(),P(15,"td",11)(16,"div",12),Se(17,"img",13),P(18,"span",9),me(19),Ft(20,"number"),K()()(),P(21,"td",10)(22,"div",12)(23,"span",9),me(24),Ft(25,"resourceProductionFormatter"),K()()(),P(26,"td",11)(27,"div",14),Se(28,"img",15),P(29,"span",9),me(30),Ft(31,"number"),K()()(),P(32,"td",10)(33,"div",14)(34,"span",9),me(35),Ft(36,"resourceProductionFormatter"),K()()(),P(37,"td",11)(38,"div",16),Se(39,"img",17),P(40,"span",9),me(41),Ft(42,"number"),K()()(),P(43,"td",18)(44,"div",16)(45,"span",9),me(46),Ft(47,"resourceProductionFormatter"),K()()(),P(48,"td",19)(49,"div",20),Se(50,"img",21),P(51,"span",9),me(52),Ft(53,"number"),K()()(),P(54,"td",22)(55,"div",23),Se(56,"img",24),P(57,"span",9),me(58),Ft(59,"number"),K()()(),P(60,"td",25)(61,"div",26),Se(62,"img",27),P(63,"span",9),me(64),Ft(65,"number"),K()()()()),2&t){const n=e.$implicit,r=e.index,i=X1();oe("ngClass",L2(63,PRe,r==i.panel.stats.size-1)),W(1),oe("ngClass",L2(65,ln,r==i.panel.stats.size-2)),W(1),zt(Fn(3,25,n.key)),W(2),oe("ngClass",L2(67,ln,r==i.panel.stats.size-2)),W(4),zt(Z1(9,27,n.value.resources.metalStored,"1.0","en-US")),W(2),oe("ngClass",L2(69,ln,r==i.panel.stats.size-2)),W(3),zt(Fn(14,31,n.value.resources.metalProduction)),W(2),oe("ngClass",L2(71,ln,r==i.panel.stats.size-2)),W(4),zt(Z1(20,33,n.value.resources.mineralStored,"1.0","en-US")),W(2),oe("ngClass",L2(73,ln,r==i.panel.stats.size-2)),W(3),zt(Fn(25,37,n.value.resources.mineralProduction)),W(2),oe("ngClass",L2(75,ln,r==i.panel.stats.size-2)),W(4),zt(Z1(31,39,n.value.resources.foodStored,"1.0","en-US")),W(2),oe("ngClass",L2(77,ln,r==i.panel.stats.size-2)),W(3),zt(Fn(36,43,n.value.resources.foodProduction)),W(2),oe("ngClass",L2(79,ln,r==i.panel.stats.size-2)),W(4),zt(Z1(42,45,n.value.resources.energyStored,"1.0","en-US")),W(2),oe("ngClass",L2(81,ln,r==i.panel.stats.size-2)),W(3),zt(Fn(47,49,n.value.resources.energyProduction)),W(2),oe("ngClass",L2(83,ln,r==i.panel.stats.size-2)),W(4),zt(Z1(53,51,n.value.resources.ground,"1.0","en-US")),W(2),oe("ngClass",L2(85,ln,r==i.panel.stats.size-2)),W(4),zt(Z1(59,55,n.value.resources.orbit,"1.0","en-US")),W(2),oe("ngClass",L2(87,ln,r==i.panel.stats.size-2)),W(4),zt(Z1(65,59,n.value.soldiers.total,"1.0","en-US"))}}let ORe=(()=>{var t;class e{constructor(){this.statsPanelService=R(U$)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=In({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"div",1)(2,"table",2),p1(3,RRe,66,89,"tr",3),Ft(4,"keyvalue"),K()()()),2&r&&(W(3),oe("ngForOf",Fn(4,1,i.panel.stats)))},dependencies:[Uz,Cf,Ts,Wz,kRe,rC],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #626262;height:15px;width:15px;vertical-align:middle}"]}),e})(),FRe=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[ORe]}),t.\u0275inj=ft({providers:[Ts,U$,bn],imports:[Zr,O$]}),e})(),j$=(()=>{var t;class e{constructor(){this.firestore=R(P1),this.dgAPI=R(bn)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=Ir(this.firestore,"scans");Oo(Bo(i,Er("location","==",r.planetScan.location),Nj(1)),{idField:"id"}).forEach(s=>{let o=Object.assign(new Oj,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==u2.RESOURCE||r.type==u2.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==u2.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==u2.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==u2.FLEET&&(o.fleets=r.planetScan.fleets),0==s.length?Aj(i,JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):kj(Tj(i,o.id),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function BRe(t,e){1&t&&(P(0,"p",1),me(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),K())}let URe=(()=>{var t;class e{constructor(){this.scanService=R(j$),this.authService=R(Uo),this.active=!1}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{if(this.active=r,r){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i)}})}ngOnDestroy(){this.authService.loggedStatus.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=In({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&p1(0,BRe,2,0,"p",0),2&r&&oe("ngIf",i.active)},dependencies:[As]}),e})(),jRe=(()=>{var t;class e{ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[URe]}),t.\u0275inj=ft({providers:[j$,bn],imports:[Zr,Bs(()=>js(cn_firebase)),Xs(()=>Js()),Ro(()=>Fo()),Gs(()=>qs(Us(),{provider:new or(cn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),$$=(()=>{var t;class e{constructor(){this.firestore=R(P1),this.dgAPI=R(bn),this.resourceProductionFormatterPipe=R(rC),this.decimalPipe=R(Ts)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));Oo(Bo(Ir(this.firestore,"scans"),Er("location","in",i))).forEach(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector(".dgt-navigation-scan-turn").style.display="contents",c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(u.turn,"1.0","en_US"),u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let f=u.structures.map(h=>h.name);f.includes(Ae.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),f.includes(Ae.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),f.includes(Ae.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),f.includes(Ae.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),f.includes(Ae.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),f.includes(Ae.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),f.includes(Ae.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),f.includes(Ae.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),f.includes(Ae.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let d=1;if(f.includes(Ae.MEDICAL_CENTRE)&&(d+=.3),f.includes(Ae.LEISURE_CENTRE)&&(d+=.4),f.includes(Ae.HOSPITAL)&&(d+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(d,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}}else c.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $Re(t,e){1&t&&(P(0,"p",1),me(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),K())}let GRe=(()=>{var t;class e{constructor(){this.scanService=R($$),this.authService=R(Uo),this.active=!1}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{if(this.active=r,r){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.loggedStatus.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=In({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&p1(0,$Re,2,0,"p",0),2&r&&oe("ngIf",i.active)},dependencies:[As]}),e})(),qRe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[GRe]}),t.\u0275inj=ft({providers:[Ts,rC,$$,bn],imports:[Zr,Bs(()=>js(cn_firebase)),Xs(()=>Js()),Ro(()=>Fo()),Gs(()=>qs(Us(),{provider:new or(cn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function WRe(t,e){if(1&t){const n=S6();P(0,"div",2)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"span"),me(6,"DGT Login"),K()()(),P(7,"tr",4)(8,"td"),Se(9,"input",5,6),K(),P(11,"td"),Se(12,"input",7,8),K()(),P(14,"tr",9)(15,"td",3)(16,"button",10),t2("click",function(){c3(n);const i=m7(10),s=m7(13);return l3(X1().signInWithEmailAndPassword(i.value,s.value))}),me(17,"Login"),K(),P(18,"button",11),t2("click",function(){return c3(n),l3(X1().signInWithGoogle())}),Se(19,"img",12),K()()()()()()}}function KRe(t,e){if(1&t){const n=S6();P(0,"div",13)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"button",14),t2("click",function(){return c3(n),l3(X1().signOut(!0))}),me(6,"Logout"),K()()()()()()}}let YRe=(()=>{var t;class e{constructor(){this.authService=R(Uo),this.auth=R(al),this.firestore=R(P1),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore)}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(r){this.authService.signOut(this.auth,r)}displayLogin(){return null==localStorage.getItem("user")&&!this.authService.refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=In({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"],["id","dgt-logout",1,"logout"],[1,"dgt-logout-button",3,"click"]],template:function(r,i){1&r&&(p1(0,WRe,20,0,"div",0),p1(1,KRe,7,0,"div",1)),2&r&&(oe("ngIf",i.displayLogin()),W(1),oe("ngIf",!i.displayLogin()))},dependencies:[As],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-logout-button[_ngcontent-%COMP%], .dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),QRe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[YRe]}),t.\u0275inj=ft({imports:[Zr,Bs(()=>js(cn_firebase)),Xs(()=>Js()),Ro(()=>Fo()),Gs(()=>qs(Us(),{provider:new or(cn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),G$=(()=>{var t;class e{constructor(){this.firestore=R(P1)}updateOrder(r){let i=Ir(this.firestore,"orders");Aj(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}fillActiveOrders(r,i,s){let o=Ir(this.firestore,"orders");console.log(r),Oo(Bo(o,Er("user","==",r.toLowerCase())),{idField:"id"}).forEach(a=>{let c=Object.assign([],a),l=document.getElementById("dgt-orders-list-table-"+s).querySelector("tbody");l.innerHTML="",c.forEach(u=>{u.wait-=i-u.turn;let f=document.createElement("tr");f.innerHTML='<td class="status">'+this.status(u.executed)+'</td><td class="target">'+u.target+'</td><td class="wait">'+u.wait+'</td><td class="flying">'+(u.turn+u.wait+1)+'</td><td class="instructions">'+u.instructions+"</td>",l.append(f)})}).catch(a=>{console.log(a)})}status(r){switch(r){case!0:return'<svg style="fill: #7BBD1A; height: 11px; vertical-align: middle; align-content: center; display: inline-flex;" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"/></svg><span>sent</span>';case!1:return'<svg style="fill: #ff8484; height: 11px; vertical-align: middle; align-content: center; display: inline-flex;" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"/></svg><span>not sent</span>';default:return""}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class XRe{get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target}}}const{isArray:JRe}=Array,{getPrototypeOf:ZRe,prototype:eOe,keys:tOe}=Object;const{isArray:iOe}=Array;function aOe(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function cOe(...t){const e=function $q(t){return Be(_u(t))?t.pop():void 0}(t),{args:n,keys:r}=function nOe(t){if(1===t.length){const e=t[0];if(JRe(e))return{args:e,keys:null};if(function rOe(t){return t&&"object"==typeof t&&ZRe(t)===eOe}(e)){const n=tOe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new tt(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let f=!1;Sn(n[u]).subscribe(n1(s,d=>{f||(f=!0,l--),a[u]=d},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?aOe(r,a):a),s.complete())}))}});return e?i.pipe(function oOe(t){return Xo(e=>function sOe(t,e){return iOe(e)?t(...e):t(e)}(t,e))}(e)):i}let q$=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(f1),S(en))},t.\u0275dir=Y({type:t}),e})(),Fi=(()=>{var t;class e extends q${}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function Xt(t){return r1(()=>{const e=t.prototype.constructor,n=e[i1]||i5(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[i1]||i5(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275dir=Y({type:t,features:[we]}),e})();const t1=new U("NgValueAccessor"),uOe={provide:t1,useExisting:Ie(()=>J8),multi:!0},dOe=new U("CompositionEventMode");let J8=(()=>{var t;class e extends q${constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fOe(){const t=Q3()?Q3().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(f1),S(en),S(dOe,8))},t.\u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&t2("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[je([uOe]),we]}),e})();const f2=new U("NgValidators"),Nr=new U("NgAsyncValidators");function rG(t){return null!=t}function iG(t){return z6(t)?Cu(t):t}function sG(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function oG(t,e){return e.map(n=>n(t))}function aG(t){return t.map(e=>function pOe(t){return!t.validate}(e)?e:n=>e.validate(n))}function iC(t){return null!=t?function cG(t){if(!t)return null;const e=t.filter(rG);return 0==e.length?null:function(n){return sG(oG(n,e))}}(aG(t)):null}function sC(t){return null!=t?function lG(t){if(!t)return null;const e=t.filter(rG);return 0==e.length?null:function(n){return cOe(oG(n,e).map(iG)).pipe(Xo(sG))}}(aG(t)):null}function uG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function oC(t){return t?Array.isArray(t)?t:[t]:[]}function eu(t,e){return Array.isArray(t)?t.includes(e):t===e}function hG(t,e){const n=oC(e);return oC(t).forEach(i=>{eu(n,i)||n.push(i)}),n}function pG(t,e){return oC(e).filter(n=>!eu(t,n))}class mG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class V2 extends mG{get formDirective(){return null}get path(){return null}}class kr extends mG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vG=(()=>{var t;class e extends gG{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(kr,2))},t.\u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&P3("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]}),e})(),yG=(()=>{var t;class e extends gG{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(V2,10))},t.\u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&P3("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[we]}),e})();const Y4="VALID",nu="INVALID",Ko="PENDING",Q4="DISABLED";function lC(t){return(ru(t)?t.validators:t)||null}function uC(t,e){return(ru(e)?e.asyncValidators:t)||null}function ru(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class wG{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Y4}get invalid(){return this.status===nu}get pending(){return this.status==Ko}get disabled(){return this.status===Q4}get enabled(){return this.status!==Q4}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pG(e,this._rawAsyncValidators))}hasValidator(e){return eu(this._rawValidators,e)}hasAsyncValidator(e){return eu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ko,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Q4,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Y4,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Y4||this.status===Ko)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q4:Y4}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ko,this._hasOwnPendingAsyncValidator=!0;const n=iG(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Bt,this.statusChanges=new Bt}_calculateStatus(){return this._allControlsDisabled()?Q4:this.errors?nu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ko)?Ko:this._anyControlsHaveStatus(nu)?nu:Y4}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ru(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function yOe(t){return Array.isArray(t)?iC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function _Oe(t){return Array.isArray(t)?sC(t):t||null}(this._rawAsyncValidators)}}class fC extends wG{constructor(e,n,r){super(lC(n),uC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function MG(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new z(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function CG(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Yo=new U("CallSetDisabledState",{providedIn:"root",factory:()=>iu}),iu="always";function X4(t,e,n=iu){dC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function wOe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bG(t,e)})}(t,e),function VOe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function bOe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function MOe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function au(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function dC(t,e){const n=function fG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(uG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function dG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(uG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();au(e._rawValidators,i),au(e._rawAsyncValidators,i)}function bG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const EOe={provide:V2,useExisting:Ie(()=>lu)},J4=(()=>Promise.resolve())();let lu=(()=>{var t;class e extends V2{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Bt,this.form=new fC({},iC(r),sC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){J4.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),X4(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){J4.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){J4.then(()=>{const i=this._findContainer(r.path),s=new fC({});(function VG(t,e){dC(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){J4.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){J4.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function HG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(S(f2,10),S(Nr,10),S(Yo,8))},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&t2("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[je([EOe]),we]}),e})();function SG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function zG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const IG=class extends wG{constructor(e=null,n,r){super(lC(n),uC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ru(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=zG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){zG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},LOe={provide:kr,useExisting:Ie(()=>gC)},DG=(()=>Promise.resolve())();let gC=(()=>{var t;class e extends kr{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new IG,this._registered=!1,this.name="",this.update=new Bt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function mC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===J8?n=s:function zOe(t){return Object.getPrototypeOf(t.constructor)===Fi}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function pC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){X4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){DG.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function cf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);DG.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function su(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(S(V2,9),S(f2,10),S(Nr,10),S(t1,10),S(F6,8),S(Yo,8))},t.\u0275dir=Y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([LOe]),we,X2]}),e})(),LG=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),TG=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({}),e})(),nFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({imports:[TG]}),e})(),iFe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Yo,useValue:r.callSetDisabledState??iu}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ft({imports:[nFe]}),e})();const sFe=["dgtOrdersForm"];let oFe=(()=>{var t;class e{constructor(){this.orderService=R(G$),this.dgAPI=R(bn),this.authService=R(Uo)}onSubmit(){let r=new XRe;r.target=[this.ordersForm.value.galaxy,this.ordersForm.value.sector,this.ordersForm.value.system,this.ordersForm.value.planet].join("."),r.wait=parseInt(this.ordersForm.value.wait),r.instructions=this.ordersForm.value.instructions,r.executed=!1,r.turn=this.dgAPI.gameTurn(),r.user=this.ordersForm.value.user.toLowerCase(),this.orderService.updateOrder(r)}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{r&&document.querySelectorAll(".allianceBox .playerList div.name").forEach((i,s)=>{this.orderService.fillActiveOrders(i.childNodes[0].textContent.trim(),this.dgAPI.gameTurn(),s)})})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=In({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],viewQuery:function(r,i){if(1&r&&zS(sFe,5),2&r){let s;SS(s=function IS(){return function vte(t,e){return t[En].queries[e].queryList}(b(),$M())}())&&(i.ordersForm=s.first)}},decls:22,vars:0,consts:[["id","dgt-orders-panel-data-form",2,"display","none !important",3,"ngSubmit"],["dgtOrdersForm","ngForm"],[1,"dgt-orders-table"],[1,"dgt-orders-data"],[1,"galaxy"],["type","text","ngModel","","name","galaxy"],[1,"sector"],["type","text","ngModel","","name","sector"],[1,"system"],["type","text","ngModel","","name","system"],[1,"planet"],["type","text","ngModel","","name","planet"],[1,"wait"],["type","text","ngModel","","name","wait"],[1,"user"],["type","text","ngModel","","name","user"],[1,"instructions"],["placeholder","Ex: minim 100 fighters","ngModel","","name","instructions"],[1,"submit"],["type","submit"]],template:function(r,i){1&r&&(P(0,"form",0,1),t2("ngSubmit",function(){return i.onSubmit()}),P(2,"table",2)(3,"tbody")(4,"tr",3)(5,"td",4),Se(6,"input",5),K(),P(7,"td",6),Se(8,"input",7),K(),P(9,"td",8),Se(10,"input",9),K(),P(11,"td",10),Se(12,"input",11),K(),P(13,"td",12),Se(14,"input",13),K(),P(15,"td",14),Se(16,"input",15),K(),P(17,"td",16),Se(18,"textarea",17),K(),P(19,"td",18)(20,"button",19),me(21,"Send"),K()()()()()())},dependencies:[LG,J8,vG,yG,gC,lu]}),e})(),aFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[oFe]}),t.\u0275inj=ft({providers:[G$,bn],imports:[Zr,iFe,Bs(()=>js(cn_firebase)),Xs(()=>Js()),Ro(()=>Fo()),Gs(()=>qs(Us(),{provider:new or(cn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),JG=(()=>{var t;class e{constructor(){this.firestore=R(P1)}getOrders(r,i,s,o){let a=Ir(this.firestore,"orders");Oo(Bo(a,Er("user","==",r),Er("executed","==",!1)),{idField:"id"}).forEach(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),s.next(l),o.detectChanges()}).catch(c=>{console.log(c)})}completeOrder(r){let i=Ir(this.firestore,"orders");kj(Tj(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function cFe(t,e){if(1&t){const n=S6();P(0,"div",2)(1,"div",3)(2,"button",4),t2("click",function(){const s=c3(n).$implicit;return l3(X1(2).onCompleteClick(s.id))}),function QM(){G.lFrame.currentNamespace=DM}(),P(3,"svg",5),Se(4,"path",6),K()()(),function XM(){!function bK(){G.lFrame.currentNamespace=null}()}(),P(5,"div",7)(6,"span",8),me(7,"Target:"),K(),P(8,"span",9),me(9),K()(),P(10,"div",10)(11,"span",8),me(12,"Wait:"),K(),P(13,"span",9),me(14),K()(),P(15,"div",11)(16,"span",8),me(17,"Instructions:"),K(),P(18,"span",9),me(19),K()()()}if(2&t){const n=e.$implicit;W(9),zt(n.target),W(5),zt(n.wait),W(5),zt(n.instructions)}}function lFe(t,e){if(1&t&&(V6(0),p1(1,cFe,20,3,"div",1),Ft(2,"async"),H6()),2&t){const n=X1();W(1),oe("ngForOf",Fn(2,1,n.orders))}}let uFe=(()=>{var t;class e{constructor(){this.orderService=R(JG),this.dgAPI=R(bn),this.changeDetection=R(F6),this.authService=R(Uo),this.active=!1,this.authService.loggedStatus.subscribe(r=>{this.active=r,r&&(this.orders=new tt(i=>{this.orderService.getOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),i,this.changeDetection)})),this.changeDetection.detectChanges()})}onCompleteClick(r){this.orderService.completeOrder(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=In({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alert-animation dgt-fleet-order",4,"ngFor","ngForOf"],[1,"alert-animation","dgt-fleet-order"],[1,"complete"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"],[1,"target"],[1,"label"],[1,"value"],[1,"wait"],[1,"instructions"]],template:function(r,i){1&r&&p1(0,lFe,3,3,"ng-container",0),2&r&&oe("ngIf",i.active)},dependencies:[Cf,As,bf],styles:[".dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#FF3B302B;border:1px solid #FF3B30;margin:5px 10px;width:calc(100% - 20px);border-radius:5px;height:40px;line-height:40px}.dgt-fleet-order[_ngcontent-%COMP%]:first-child{margin-top:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;line-height:40px;height:40px;width:20px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{fill:#7a7a7a;height:20px;align-content:center;display:flex}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]{fill:#7bbd1a!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:40px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;font-weight:700;color:#ffd46f}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),fFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t,bootstrap:[uFe]}),t.\u0275inj=ft({providers:[JG,bn],imports:[Zr,Bs(()=>js(cn_firebase)),Xs(()=>Js()),Ro(()=>Fo()),Gs(()=>qs(Us(),{provider:new or(cn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Ui=are();let Hn=window.location.pathname.split(/\//g);Ui.bootstrapModule(QRe).catch(t=>console.error(t)),Ui.bootstrapModule(ARe).catch(t=>console.error(t)),"planets"===Hn[1]&&Ui.bootstrapModule(FRe).catch(t=>console.error(t)),"planet"===Hn[1]&&"comms"===(5===Hn.length&&Hn[3])&&Ui.bootstrapModule(jRe).catch(t=>console.error(t)),"navigation"===Hn[1]&&6===Hn.length&&!isNaN(+Hn[2])&&!isNaN(+Hn[3])&&!isNaN(+Hn[4])&&Ui.bootstrapModule(qRe).catch(t=>console.error(t)),"alliances"===Hn[1]&&Ui.bootstrapModule(aFe).catch(t=>console.error(t)),"fleets"===Hn[1]&&Ui.bootstrapModule(fFe).catch(t=>console.error(t))}},Be=>{Be(Be.s=860)}]);