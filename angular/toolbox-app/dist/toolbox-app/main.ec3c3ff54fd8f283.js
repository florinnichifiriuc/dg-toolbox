"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{6304:(ht,Se,k)=>{k.d(Se,{Dh:()=>xe,GT:()=>me,cc:()=>Re,on:()=>ze,pX:()=>ae,xv:()=>Pe});var m=k(7989),R=k(7142);ht=k.hmd(ht);const T=["ngOnDestroy"],ae=(be,Ae,Ke,Je={})=>new Proxy(be,{get:(Z,ue)=>Ke.runOutsideAngular(()=>{var J;if(be[ue])return!(null===(J=Je?.spy)||void 0===J)&&J.get&&Je.spy.get(ue,be[ue]),be[ue];if(T.indexOf(ue)>-1)return()=>{};const pe=Ae.toPromise().then(Le=>{const K=Le&&Le[ue];return"function"==typeof K?K.bind(Le):K&&K.then?K.then(et=>Ke.run(()=>et)):Ke.run(()=>K)});return new Proxy(()=>{},{get:(Le,K)=>pe[K],apply:(Le,K,et)=>pe.then(nt=>{var Dt;const X2=nt&&nt(...et);return!(null===(Dt=Je?.spy)||void 0===Dt)&&Dt.apply&&Je.spy.apply(ue,et,X2),X2})})})}),me=(be,Ae)=>{Ae.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Je=>{Object.defineProperty(be.prototype,Je,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Je))})})};class we{constructor(Ae){return Ae}}const xe=new m.OlP("angularfire2.app.options"),Pe=new m.OlP("angularfire2.app.name");function ze(be,Ae,Ke){const Z="object"==typeof Ke&&Ke||{};Z.name=Z.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const J=R.Z.apps.filter(pe=>pe&&pe.name===Z.name)[0]||Ae.runOutsideAngular(()=>R.Z.initializeApp(be,Z));try{JSON.stringify(be)!==JSON.stringify(J.options)&&O("error",`${J.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(J)}const O=(be,...Ae)=>{(0,m.X6Q)()&&typeof console<"u"&&console[be](...Ae)};function Re(be,Ae,Ke,Je,Z){const[,ue,J]=globalThis.\u0275AngularfireInstanceCache.find(pe=>pe[0]===be)||[];if(ue)return function He(be,Ae){try{return be.toString()===Ae.toString()}catch{return be===Ae}}(Z,J)||(le("error",`${Ae} was already initialized on the ${Ke} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:Z,was:J})),ue;{const pe=Je();return globalThis.\u0275AngularfireInstanceCache.push([be,pe,Z]),pe}}const st=!!ht.hot,le=(be,...Ae)=>{(0,m.X6Q)()&&typeof console<"u"&&console[be](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6878:(ht,Se,k)=>{k.d(Se,{$:()=>Y4,A:()=>B,D:()=>He,I:()=>k4,J:()=>Ri,L:()=>Te,N:()=>O1,P:()=>Pc,Q:()=>ti,R:()=>s9,U:()=>lc,V:()=>xr,W:()=>Wn,X:()=>pr,Y:()=>G4,Z:()=>q4,_:()=>Ui,a:()=>gr,a0:()=>Yf,a1:()=>d2,a2:()=>kC,a3:()=>PC,a4:()=>Dl,a5:()=>hc,a6:()=>mr,a7:()=>Qf,a8:()=>pc,a9:()=>Jf,aA:()=>K,aB:()=>Uc,aC:()=>c2,aD:()=>yn,aE:()=>M3,aF:()=>fi,aG:()=>s8,aH:()=>u2,aL:()=>a3,aO:()=>Cn,aa:()=>Ln,ab:()=>Z2,ac:()=>Tl,ad:()=>X4,ae:()=>RC,af:()=>vc,ai:()=>OC,aj:()=>Xf,ak:()=>Pl,an:()=>W4,ao:()=>ta,aq:()=>Ul,ar:()=>i3,as:()=>nt,at:()=>$e,au:()=>de,av:()=>Z,aw:()=>Ma,ax:()=>va,ay:()=>Ft,az:()=>ue,b:()=>Vc,c:()=>r8,d:()=>Ji,e:()=>i8,f:()=>y3,g:()=>pa,h:()=>Bc,i:()=>aa,j:()=>yr,k:()=>ba,l:()=>h3,m:()=>h8,o:()=>Jc,p:()=>Pe,r:()=>Xl,s:()=>kc,u:()=>ca,x:()=>e2});var m=k(5861),R=k(9058),T=k(534),ae=k(7582),me=k(7879),we=k(4537);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},st=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},le=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new me.Yd("@firebase/auth");function Je(_,...h){Ae.logLevel<=me.in.ERROR&&Ae.error(`Auth (${T.SDK_VERSION}): ${_}`,...h)}function Z(_,...h){throw Le(_,...h)}function ue(_,...h){return Le(_,...h)}function J(_,h,g){const M=Object.assign(Object.assign({},st()),{[h]:g});return new R.LL("auth","Firebase",M).create(h,{appName:_.name})}function pe(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Z(_,"argument-error"),J(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(_,...h){if("string"!=typeof _){const g=h[0],M=[...h.slice(1)];return M[0]&&(M[0].appName=_.name),_._errorFactory.create(g,...M)}return le.create(_,...h)}function K(_,h,...g){if(!_)throw Le(h,...g)}function et(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Je(h),new Error(h)}function nt(_,h){_||et(h)}function Dt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function X2(){return"http:"===hn()||"https:"===hn()}function hn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class pn{constructor(h,g){this.shortDelay=h,this.longDelay=g,nt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function On(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(X2()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ur(_,h){nt(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class te{static initialize(h,g,M){this.fetchImpl=h,g&&(this.headersImpl=g),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=new pn(3e4,6e4);function X(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function he(_,h,g,M){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,m.Z)(function*(_,h,g,M,S={}){return Qe(_,S,(0,m.Z)(function*(){let L={},$={};M&&("GET"===h?$=M:L={body:JSON.stringify(M)});const ee=(0,R.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),De=yield _._getAdditionalHeaders();return De["Content-Type"]="application/json",_.languageCode&&(De["X-Firebase-Locale"]=_.languageCode),te.fetch()(Ut(_,_.config.apiHost,g,ee),Object.assign({method:h,headers:De,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Qe(_,h,g){return ke.apply(this,arguments)}function ke(){return(ke=(0,m.Z)(function*(_,h,g){_._canInitEmulator=!1;const M=Object.assign(Object.assign({},ie),h);try{const S=new bt(_),L=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const $=yield L.json();if("needConfirmation"in $)throw Kt(_,"account-exists-with-different-credential",$);if(L.ok&&!("errorMessage"in $))return $;{const ee=L.ok?$.errorMessage:$.error.message,[De,Fe]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw Kt(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===De)throw Kt(_,"email-already-in-use",$);if("USER_DISABLED"===De)throw Kt(_,"user-disabled",$);const it=M[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw J(_,it,Fe);Z(_,it)}}catch(S){if(S instanceof R.ZR)throw S;Z(_,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Qt(_,h,g,M){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(_,h,g,M,S={}){const L=yield he(_,h,g,M,S);return"mfaPendingCredential"in L&&Z(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Ut(_,h,g,M){const S=`${h}${g}?${M}`;return _.config.emulator?ur(_.config,S):`${_.config.apiScheme}://${S}`}class bt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,M)=>{this.timer=setTimeout(()=>M(ue(this.auth,"network-request-failed")),fe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(_,h,g){const M={appName:_.name};g.email&&(M.email=g.email),g.phoneNumber&&(M.phoneNumber=g.phoneNumber);const S=ue(_,h,M);return S.customData._tokenResponse=g,S}function m2(){return(m2=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function z2(){return(z2=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function P1(){return(P1=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function s1(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function zn(){return(zn=(0,m.Z)(function*(_,h=!1){const g=(0,R.m9)(_),M=yield g.getIdToken(h),S=Mt(M);K(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const L="object"==typeof S.firebase?S.firebase:void 0,$=L?.sign_in_provider;return{claims:S,token:M,authTime:s1(ut(S.auth_time)),issuedAtTime:s1(ut(S.iat)),expirationTime:s1(ut(S.exp)),signInProvider:$||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(_){return 1e3*Number(_)}function Mt(_){const[h,g,M]=_.split(".");if(void 0===h||void 0===g||void 0===M)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,R.tV)(g);return S?JSON.parse(S):(Je("Failed to decode base64 JWT payload"),null)}catch(S){return Je("Caught error parsing JWT payload as JSON",S?.toString()),null}}function jt(_,h){return o1.apply(this,arguments)}function o1(){return(o1=(0,m.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(M){throw M instanceof R.ZR&&function R1({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(M)&&_.auth.currentUser===_&&(yield _.auth.signOut()),M}})).apply(this,arguments)}class Lt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const M=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield g.iteration()}),M)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class v2{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=s1(this.lastLoginAt),this.creationTime=s1(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(_){return $t.apply(this,arguments)}function $t(){return $t=(0,m.Z)(function*(_){var h;const g=_.auth,M=yield _.getIdToken(),S=yield jt(_,function k1(_,h){return P1.apply(this,arguments)}(g,{idToken:M}));K(S?.users.length,g,"internal-error");const L=S.users[0];_._notifyReloadListener(L);const $=null!==(h=L.providerUserInfo)&&void 0!==h&&h.length?function mn(_){return _.map(h=>{var{providerId:g}=h,M=(0,ae._T)(h,["providerId"]);return{providerId:g,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(L.providerUserInfo):[],ee=function y2(_,h){return[..._.filter(M=>!h.some(S=>S.providerId===M.providerId)),...h]}(_.providerData,$),it=!!_.isAnonymous&&!(_.email&&L.passwordHash||ee?.length),kt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ee,metadata:new v2(L.createdAt,L.lastLoginAt),isAnonymous:it};Object.assign(_,kt)}),$t.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(_){const h=(0,R.m9)(_);yield Fn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function vn(){return(vn=(0,m.Z)(function*(_,h){const g=yield Qe(_,{},(0,m.Z)(function*(){const M=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:L}=_.config,$=Ut(_,S,"/v1/token",`key=${L}`),ee=yield _._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",te.fetch()($,{method:"POST",headers:ee,body:M})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class P2{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){K(h.idToken,"internal-error"),K(typeof h.idToken<"u","internal-error"),K(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ct(_){const h=Mt(_);return K(h,"internal-error"),K(typeof h.exp<"u","internal-error"),K(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var M=this;return(0,m.Z)(function*(){return K(!M.accessToken||M.refreshToken,h,"user-token-expired"),g||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(h,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var M=this;return(0,m.Z)(function*(){const{accessToken:S,refreshToken:L,expiresIn:$}=yield function gn(_,h){return vn.apply(this,arguments)}(h,g);M.updateTokensAndExpiration(S,L,Number($))})()}updateTokensAndExpiration(h,g,M){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(h,g){const{refreshToken:M,accessToken:S,expirationTime:L}=g,$=new P2;return M&&(K("string"==typeof M,"internal-error",{appName:h}),$.refreshToken=M),S&&(K("string"==typeof S,"internal-error",{appName:h}),$.accessToken=S),L&&(K("number"==typeof L,"internal-error",{appName:h}),$.expirationTime=L),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new P2,this.toJSON())}_performRefresh(){return et("not implemented")}}function R2(_,h){K("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class G2{constructor(h){var{uid:g,auth:M,stsTokenManager:S}=h,L=(0,ae._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=M,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new v2(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,m.Z)(function*(){const M=yield jt(g,g.stsTokenManager.getToken(g.auth,h));return K(M,g.auth,"internal-error"),g.accessToken!==M&&(g.accessToken=M,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),M})()}getIdTokenResult(h){return function a1(_){return zn.apply(this,arguments)}(this,h)}reload(){return function fr(_){return Ht.apply(this,arguments)}(this)}_assign(h){this!==h&&(K(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new G2(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var M=this;return(0,m.Z)(function*(){let S=!1;h.idToken&&h.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(h),S=!0),g&&(yield Fn(M)),yield M.auth._persistUserIfCurrent(M),S&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var h=this;return(0,m.Z)(function*(){const g=yield h.getIdToken();return yield jt(h,function p2(_,h){return m2.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var M,S,L,$,ee,De,Fe,it;const kt=null!==(M=g.displayName)&&void 0!==M?M:void 0,K2=null!==(S=g.email)&&void 0!==S?S:void 0,Xn=null!==(L=g.phoneNumber)&&void 0!==L?L:void 0,ss=null!==($=g.photoURL)&&void 0!==$?$:void 0,Ia=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,S3=null!==(De=g._redirectEventId)&&void 0!==De?De:void 0,Ea=null!==(Fe=g.createdAt)&&void 0!==Fe?Fe:void 0,v8=null!==(it=g.lastLoginAt)&&void 0!==it?it:void 0,{uid:za,emailVerified:La,isAnonymous:I3,providerData:Xc,stsTokenManager:xa}=g;K(za&&xa,h,"internal-error");const Da=P2.fromJSON(this.name,xa);K("string"==typeof za,h,"internal-error"),R2(kt,h.name),R2(K2,h.name),K("boolean"==typeof La,h,"internal-error"),K("boolean"==typeof I3,h,"internal-error"),R2(Xn,h.name),R2(ss,h.name),R2(Ia,h.name),R2(S3,h.name),R2(Ea,h.name),R2(v8,h.name);const e6=new G2({uid:za,auth:h,email:K2,emailVerified:La,displayName:kt,isAnonymous:I3,photoURL:ss,phoneNumber:Xn,tenantId:Ia,stsTokenManager:Da,createdAt:Ea,lastLoginAt:v8});return Xc&&Array.isArray(Xc)&&(e6.providerData=Xc.map(y8=>Object.assign({},y8))),S3&&(e6._redirectEventId=S3),e6}static _fromIdTokenResponse(h,g,M=!1){return(0,m.Z)(function*(){const S=new P2;S.updateFromServerResponse(g);const L=new G2({uid:g.localId,auth:h,stsTokenManager:S,isAnonymous:M});return yield Fn(L),L})()}}const w1=new Map;function c2(_){nt(_ instanceof Function,"Expected a class definition");let h=w1.get(_);return h?(nt(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,w1.set(_,h),h)}const O1=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(g,M){var S=this;return(0,m.Z)(function*(){S.storage[g]=M})()}_get(g){var M=this;return(0,m.Z)(function*(){const S=M.storage[g];return void 0===S?null:S})()}_remove(g){var M=this;return(0,m.Z)(function*(){delete M.storage[g]})()}_addListener(g,M){}_removeListener(g,M){}}return _.type="NONE",_})();function yn(_,h,g){return`firebase:${_}:${h}:${g}`}class F{constructor(h,g,M){this.persistence=h,this.auth=g,this.userKey=M;const{config:S,name:L}=this.auth;this.fullUserKey=yn(this.userKey,S.apiKey,L),this.fullPersistenceKey=yn("persistence",S.apiKey,L),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?G2._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,m.Z)(function*(){if(g.persistence===h)return;const M=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,M?g.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,M="authUser"){return(0,m.Z)(function*(){if(!g.length)return new F(c2(O1),h,M);const S=(yield Promise.all(g.map(function(){var Fe=(0,m.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let L=S[0]||c2(O1);const $=yn(M,h.config.apiKey,h.name);let ee=null;for(const Fe of g)try{const it=yield Fe._get($);if(it){const kt=G2._fromJSON(h,it);Fe!==L&&(ee=kt),L=Fe;break}}catch{}const De=S.filter(Fe=>Fe._shouldAllowMigration);return L._shouldAllowMigration&&De.length?(L=De[0],ee&&(yield L._set($,ee.toJSON())),yield Promise.all(g.map(function(){var Fe=(0,m.Z)(function*(it){if(it!==L)try{yield it._remove($)}catch{}});return function(it){return Fe.apply(this,arguments)}}())),new F(L,h,M)):new F(L,h,M)})()}}function P(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(q(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(x(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ne(h))return"Blackberry";if(gt(h))return"Webos";if(D(h))return"Safari";if((h.includes("chrome/")||z(h))&&!h.includes("edge/"))return"Chrome";if(de(h))return"Android";{const M=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function x(_=(0,R.z$)()){return/firefox\//i.test(_)}function D(_=(0,R.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function z(_=(0,R.z$)()){return/crios\//i.test(_)}function q(_=(0,R.z$)()){return/iemobile/i.test(_)}function de(_=(0,R.z$)()){return/android/i.test(_)}function Ne(_=(0,R.z$)()){return/blackberry/i.test(_)}function gt(_=(0,R.z$)()){return/webos/i.test(_)}function $e(_=(0,R.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ft(_=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function St(_=(0,R.z$)()){return $e(_)||de(_)||gt(_)||Ne(_)||/windows phone/i.test(_)||q(_)}function zr(_,h=[]){let g;switch(_){case"Browser":g=P((0,R.z$)());break;case"Worker":g=`${P((0,R.z$)())}-${_}`;break;default:g=_}const M=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${T.SDK_VERSION}/${M}`}function Y(){return(Y=(0,m.Z)(function*(_){return(yield he(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _e(_,h){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,m.Z)(function*(_,h){return he(_,"GET","/v2/recaptchaConfig",X(_,h))})).apply(this,arguments)}function Oe(_){return void 0!==_&&void 0!==_.getResponse}function Vt(_){return void 0!==_&&void 0!==_.enterprise}class Bt{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function l2(_){return new Promise((h,g)=>{const M=document.createElement("script");M.setAttribute("src",_),M.onload=h,M.onerror=S=>{const L=ue("internal-error");L.customData=S,g(L)},M.type="text/javascript",M.charset="UTF-8",function A2(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(M)})}function e1(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Ti{constructor(h){this.type="recaptcha-enterprise",this.auth=u2(h)}verify(h="verify",g=!1){var M=this;return(0,m.Z)(function*(){function L(){return L=(0,m.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var De=(0,m.Z)(function*(Fe,it){_e(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kt=>{if(void 0!==kt.recaptchaKey){const K2=new Bt(kt);return null==ee.tenantId?ee._agentRecaptchaConfig=K2:ee._tenantRecaptchaConfigs[ee.tenantId]=K2,Fe(K2.siteKey)}it(new Error("recaptcha Enterprise site key undefined"))}).catch(kt=>{it(kt)})});return function(Fe,it){return De.apply(this,arguments)}}())}),L.apply(this,arguments)}function $(ee,De,Fe){const it=window.grecaptcha;Vt(it)?it.enterprise.ready(()=>{it.enterprise.execute(ee,{action:h}).then(kt=>{De(kt)}).catch(()=>{De("NO_RECAPTCHA")})}):Fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,De)=>{(function S(ee){return L.apply(this,arguments)})(M.auth).then(Fe=>{if(!g&&Vt(window.grecaptcha))$(Fe,ee,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));l2("https://www.google.com/recaptcha/enterprise.js?render="+Fe).then(()=>{$(Fe,ee,De)}).catch(it=>{De(it)})}}).catch(Fe=>{De(Fe)})})})()}}function jn(_,h,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(_,h,g,M=!1){const S=new Ti(_);let L;try{L=yield S.verify(g)}catch{L=yield S.verify(g,!0)}const $=Object.assign({},h);return Object.assign($,M?{captchaResp:L}:{captchaResponse:L}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class ki{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const M=L=>new Promise(($,ee)=>{try{$(h(L))}catch(De){ee(De)}});M.onAbort=g,this.queue.push(M);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,m.Z)(function*(){if(g.auth.currentUser===h)return;const M=[];try{for(const S of g.queue)yield S(h),S.onAbort&&M.push(S.onAbort)}catch(S){M.reverse();for(const L of M)try{L()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class N4{constructor(h,g,M,S){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=M,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _l(this),this.idTokenSubscription=new _l(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=le,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(h,g){var M=this;return g&&(this._popupRedirectResolver=c2(g)),this._initializationPromise=this.queue((0,m.Z)(function*(){var S,L;if(!M._deleted&&(M.persistenceManager=yield F.create(M,h),!M._deleted)){if(null!==(S=M._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(g),M.lastNotifiedUid=(null===(L=M.currentUser)||void 0===L?void 0:L.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,m.Z)(function*(){var M;const S=yield g.assertedPersistence.getCurrentUser();let L=S,$=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId,De=L?._redirectEventId,Fe=yield g.tryRedirectSignIn(h);(!ee||ee===De)&&Fe?.user&&(L=Fe.user,$=!0)}if(!L)return g.directlySetCurrentUser(null);if(!L._redirectEventId){if($)try{yield g.beforeStateQueue.runMiddleware(L)}catch(ee){L=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return L?g.reloadAndSetCurrentUserOrClear(L):g.directlySetCurrentUser(null)}return K(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===L._redirectEventId?g.directlySetCurrentUser(L):g.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(h){var g=this;return(0,m.Z)(function*(){let M=null;try{M=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,m.Z)(function*(){try{yield Fn(h)}catch(M){if("auth/network-request-failed"!==M?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function a2(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,m.Z)(function*(){const M=h?(0,R.m9)(h):null;return M&&K(M.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(M&&M._clone(g))})()}_updateCurrentUser(h,g=!1){var M=this;return(0,m.Z)(function*(){if(!M._deleted)return h&&K(M.tenantId===h.tenantId,M,"tenant-id-mismatch"),g||(yield M.beforeStateQueue.runMiddleware(h)),M.queue((0,m.Z)(function*(){yield M.directlySetCurrentUser(h),M.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,m.Z)(function*(){yield g.assertedPersistence.setPersistence(c2(h))}))}initializeRecaptchaConfig(){var h=this;return(0,m.Z)(function*(){const g=yield _e(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new Bt(g);null==h.tenantId?h._agentRecaptchaConfig=M:h._tenantRecaptchaConfigs[h.tenantId]=M,M.emailPasswordEnabled&&new Ti(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,g,M){return this.registerStateListener(this.authStateSubscription,h,g,M)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,M){return this.registerStateListener(this.idTokenSubscription,h,g,M)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var M=this;return(0,m.Z)(function*(){const S=yield M.getOrInitRedirectPersistenceManager(g);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,m.Z)(function*(){if(!g.redirectPersistenceManager){const M=h&&c2(h)||g._popupRedirectResolver;K(M,g,"argument-error"),g.redirectPersistenceManager=yield F.create(g,[c2(M._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,m.Z)(function*(){var M,S;return g._isInitialized&&(yield g.queue((0,m.Z)(function*(){}))),(null===(M=g._currentUser)||void 0===M?void 0:M._redirectEventId)===h?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,m.Z)(function*(){if(h===g.currentUser)return g.queue((0,m.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,M,S){if(this._deleted)return()=>{};const L="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return K($,this,"internal-error"),$.then(()=>L(this.currentUser)),"function"==typeof g?h.addObserver(g,M,S):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,m.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=zr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var g;const M={"X-Client-Version":h.clientVersion};h.app.options.appId&&(M["X-Firebase-gmpid"]=h.app.options.appId);const S=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();S&&(M["X-Firebase-Client"]=S);const L=yield h._getAppCheckToken();return L&&(M["X-Firebase-AppCheck"]=L),M})()}_getAppCheckToken(){var h=this;return(0,m.Z)(function*(){var g;const M=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return M?.error&&function Ke(_,...h){Ae.logLevel<=me.in.WARN&&Ae.warn(`Auth (${T.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function u2(_){return(0,R.m9)(_)}class _l{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function k4(_,h,g){const M=u2(_);K(M._canInitEmulator,M,"emulator-config-failed"),K(/^https?:\/\//.test(h),M,"invalid-emulator-scheme");const S=!!g?.disableWarnings,L=b1(h),{host:$,port:ee}=function P4(_){const h=b1(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const M=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(M);if(S){const L=S[1];return{host:L,port:R4(M.substr(L.length+1))}}{const[L,$]=M.split(":");return{host:L,port:R4($)}}}(h);M.config.emulator={url:`${L}//${$}${null===ee?"":`:${ee}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:$,port:ee,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function wl(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function b1(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function R4(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Ri{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return et("not implemented")}_getIdTokenResponse(h){return et("not implemented")}_linkToIdToken(h,g){return et("not implemented")}_getReauthenticationResolver(h){return et("not implemented")}}function O4(_,h){return sc.apply(this,arguments)}function sc(){return(sc=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:resetPassword",X(_,h))})).apply(this,arguments)}function ac(_,h){return oc.apply(this,arguments)}function oc(){return(oc=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function F1(){return(F1=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",X(_,h))})).apply(this,arguments)}function Us(_,h){return F4.apply(this,arguments)}function F4(){return(F4=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPassword",X(_,h))})).apply(this,arguments)}function js(_,h){return B4.apply(this,arguments)}function B4(){return(B4=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:sendOobCode",X(_,h))})).apply(this,arguments)}function j4(){return(j4=(0,m.Z)(function*(_,h){return js(_,h)})).apply(this,arguments)}function $s(_,h){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,m.Z)(function*(_,h){return js(_,h)})).apply(this,arguments)}function qs(_,h){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(_,h){return js(_,h)})).apply(this,arguments)}function W2(){return(W2=(0,m.Z)(function*(_,h){return js(_,h)})).apply(this,arguments)}function l1(){return(l1=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithEmailLink",X(_,h))})).apply(this,arguments)}function Ws(){return(Ws=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithEmailLink",X(_,h))})).apply(this,arguments)}class dr extends Ri{constructor(h,g,M,S=null){super("password",M),this._email=h,this._password=g,this._tenantId=S}static _fromEmailAndPassword(h,g){return new dr(h,g,"password")}static _fromEmailAndCode(h,g,M=null){return new dr(h,g,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,m.Z)(function*(){var M;switch(g.signInMethod){case"password":const S={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=h._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const L=yield jn(h,S,"signInWithPassword");return Us(h,L)}return Us(h,S).catch(function(){var L=(0,m.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield jn(h,S,"signInWithPassword");return Us(h,ee)}return Promise.reject($)});return function($){return L.apply(this,arguments)}}());case"emailLink":return function Oi(_,h){return l1.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Z(h,"internal-error")}})()}_linkToIdToken(h,g){var M=this;return(0,m.Z)(function*(){switch(M.signInMethod){case"password":return ac(h,{idToken:g,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function cc(_,h){return Ws.apply(this,arguments)}(h,{idToken:g,email:M._email,oobCode:M._password});default:Z(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function $n(_,h){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithIdp",X(_,h))})).apply(this,arguments)}class Te extends Ri{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Te(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Z("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:S}=g,L=(0,ae._T)(g,["providerId","signInMethod"]);if(!M||!S)return null;const $=new Te(M,S);return $.idToken=L.idToken||void 0,$.accessToken=L.accessToken||void 0,$.secret=L.secret,$.nonce=L.nonce,$.pendingToken=L.pendingToken||null,$}_getIdTokenResponse(h){return $n(h,this.buildRequest())}_linkToIdToken(h,g){const M=this.buildRequest();return M.idToken=g,$n(h,M)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,$n(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,R.xO)(g)}return h}}function n2(){return(n2=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:sendVerificationCode",X(_,h))})).apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,h))})).apply(this,arguments)}function Lr(){return(Lr=(0,m.Z)(function*(_,h){const g=yield Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,h));if(g.temporaryProof)throw Kt(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const C2={USER_NOT_FOUND:"user-not-found"};function hr(){return(hr=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),C2)})).apply(this,arguments)}class pt extends Ri{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new pt({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new pt({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function B1(_,h){return Gn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function u1(_,h){return Lr.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function qn(_,h){return hr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:M,verificationCode:S}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:M,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:M,phoneNumber:S,temporaryProof:L}=h;return M||g||S||L?new pt({verificationId:g,verificationCode:M,phoneNumber:S,temporaryProof:L}):null}}class H1{constructor(h){var g,M,S,L,$,ee;const De=(0,R.zd)((0,R.pd)(h)),Fe=null!==(g=De.apiKey)&&void 0!==g?g:null,it=null!==(M=De.oobCode)&&void 0!==M?M:null,kt=function Fi(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=De.mode)&&void 0!==S?S:null);K(Fe&&it&&kt,"argument-error"),this.apiKey=Fe,this.operation=kt,this.code=it,this.continueUrl=null!==(L=De.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==($=De.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ee=De.tenantId)&&void 0!==ee?ee:null}static parseLink(h){const g=function bl(_){const h=(0,R.zd)((0,R.pd)(_)).link,g=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,M=(0,R.zd)((0,R.pd)(_)).deep_link_id;return(M?(0,R.zd)((0,R.pd)(M)).link:null)||M||g||h||_}(h);try{return new H1(g)}catch{return null}}}let ti=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,M){return dr._fromEmailAndPassword(g,M)}static credentialWithLink(g,M){const S=H1.parseLink(M);return K(S,"argument-error"),dr._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class U1{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class V1 extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class pr extends V1{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return K("providerId"in g&&"signInMethod"in g,"argument-error"),Te._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return K(h.idToken||h.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return pr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return pr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:M,oauthTokenSecret:S,pendingToken:L,nonce:$,providerId:ee}=h;if(!M&&!S&&!g&&!L||!ee)return null;try{return new pr(ee)._credential({idToken:g,accessToken:M,nonce:$,pendingToken:L})}catch{return null}}}let lc=(()=>{class _ extends V1{constructor(){super("facebook.com")}static credential(g){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),xr=(()=>{class _ extends V1{constructor(){super("google.com"),this.addScope("profile")}static credential(g,M){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:M})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:M,oauthAccessToken:S}=g;if(!M&&!S)return null;try{return _.credential(M,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Wn=(()=>{class _ extends V1{constructor(){super("github.com")}static credential(g){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Cn extends Ri{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return $n(h,this.buildRequest())}_linkToIdToken(h,g){const M=this.buildRequest();return M.idToken=g,$n(h,M)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,$n(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:S,pendingToken:L}=g;return M&&S&&L&&M===S?new Cn(M,L):null}static _create(h,g){return new Cn(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class G4 extends U1{constructor(h){K(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return G4.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return G4.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Cn.fromJSON(h);return K(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:M}=h;if(!g||!M)return null;try{return Cn._create(M,g)}catch{return null}}}let q4=(()=>{class _ extends V1{constructor(){super("twitter.com")}static credential(g,M){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:M})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:M,oauthTokenSecret:S}=g;if(!M||!S)return null;try{return _.credential(M,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Bi(_,h){return f1.apply(this,arguments)}function f1(){return(f1=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signUp",X(_,h))})).apply(this,arguments)}class d1{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,M,S=!1){return(0,m.Z)(function*(){const L=yield G2._fromIdTokenResponse(h,M,S),$=ni(M);return new d1({user:L,providerId:$,_tokenResponse:M,operationType:g})})()}static _forOperation(h,g,M){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(M,!0);const S=ni(M);return new d1({user:h,providerId:S,_tokenResponse:M,operationType:g})})()}}function ni(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ui(_){return N2.apply(this,arguments)}function N2(){return(N2=(0,m.Z)(function*(_){var h;const g=u2(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new d1({user:g.currentUser,providerId:null,operationType:"signIn"});const M=yield Bi(g,{returnSecureToken:!0}),S=yield d1._fromIdTokenResponse(g,"signIn",M,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class uc extends R.ZR{constructor(h,g,M,S){var L;super(g.code,g.message),this.operationType=M,this.user=S,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:h.name,tenantId:null!==(L=h.tenantId)&&void 0!==L?L:void 0,_serverResponse:g.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(h,g,M,S){return new uc(h,g,M,S)}}function S1(_,h,g,M){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?uc._fromErrorAndOperation(_,L,h,M):L})}function h1(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function W4(_,h){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,m.Z)(function*(_,h){const g=(0,R.m9)(_);yield ri(!0,g,h);const{providerUserInfo:M}=yield function Jt(_,h){return z2.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),S=h1(M||[]);return g.providerData=g.providerData.filter(L=>S.has(L.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Zn.apply(this,arguments)}function ji(_,h){return X1.apply(this,arguments)}function X1(){return(X1=(0,m.Z)(function*(_,h,g=!1){const M=yield jt(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return d1._forOperation(_,"link",M)})).apply(this,arguments)}function ri(_,h,g){return Z4.apply(this,arguments)}function Z4(){return(Z4=(0,m.Z)(function*(_,h,g){yield Fn(h);const S=!1===_?"provider-already-linked":"no-such-provider";K(h1(h.providerData).has(g)===_,h.auth,S)})).apply(this,arguments)}function fc(_,h){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,m.Z)(function*(_,h,g=!1){const{auth:M}=_,S="reauthenticate";try{const L=yield jt(_,S1(M,S,h,_),g);K(L.idToken,M,"internal-error");const $=Mt(L.idToken);K($,M,"internal-error");const{sub:ee}=$;return K(_.uid===ee,M,"user-mismatch"),d1._forOperation(_,S,L)}catch(L){throw"auth/user-not-found"===L?.code&&Z(M,"user-mismatch"),L}})).apply(this,arguments)}function Vl(_,h){return K4.apply(this,arguments)}function K4(){return(K4=(0,m.Z)(function*(_,h,g=!1){const M="signIn",S=yield S1(_,M,h),L=yield d1._fromIdTokenResponse(_,M,S);return g||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Y4(_,h){return dc.apply(this,arguments)}function dc(){return(dc=(0,m.Z)(function*(_,h){return Vl(u2(_),h)})).apply(this,arguments)}function Yf(_,h){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,m.Z)(function*(_,h){const g=(0,R.m9)(_);return yield ri(!1,g,h.providerId),ji(g,h)})).apply(this,arguments)}function d2(_,h){return Il.apply(this,arguments)}function Il(){return(Il=(0,m.Z)(function*(_,h){return fc((0,R.m9)(_),h)})).apply(this,arguments)}function El(){return(El=(0,m.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithCustomToken",X(_,h))})).apply(this,arguments)}function kC(_,h){return zl.apply(this,arguments)}function zl(){return zl=(0,m.Z)(function*(_,h){const g=u2(_),M=yield function NC(_,h){return El.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),S=yield d1._fromIdTokenResponse(g,"signIn",M);return yield g._updateCurrentUser(S.user),S}),zl.apply(this,arguments)}class Q4{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Ll._fromServerResponse(h,g):"totpInfo"in g?Ks._fromServerResponse(h,g):Z(h,"internal-error")}}class Ll extends Q4{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Ll(g)}}class Ks extends Q4{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Ks(g)}}function ii(_,h,g){var M;K((null===(M=g.url)||void 0===M?void 0:M.length)>0,_,"invalid-continue-uri"),K(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(K(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(K(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function PC(_,h,g){return xl.apply(this,arguments)}function xl(){return xl=(0,m.Z)(function*(_,h,g){var M;const S=u2(_),L={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=S._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const $=yield jn(S,L,"getOobCode",!0);g&&ii(S,$,g),yield $s(S,$)}else g&&ii(S,L,g),yield $s(S,L).catch(function(){var $=(0,m.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const De=yield jn(S,L,"getOobCode",!0);g&&ii(S,De,g),yield $s(S,De)}});return function(ee){return $.apply(this,arguments)}}())}),xl.apply(this,arguments)}function Dl(_,h,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,m.Z)(function*(_,h,g){yield O4((0,R.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function hc(_,h){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,m.Z)(function*(_,h){yield function Kf(_,h){return F1.apply(this,arguments)}((0,R.m9)(_),{oobCode:h})}),Ys.apply(this,arguments)}function mr(_,h){return J4.apply(this,arguments)}function J4(){return(J4=(0,m.Z)(function*(_,h){const g=(0,R.m9)(_),M=yield O4(g,{oobCode:h}),S=M.requestType;switch(K(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(M.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(M.mfaInfo,g,"internal-error");default:K(M.email,g,"internal-error")}let L=null;return M.mfaInfo&&(L=Q4._fromServerResponse(u2(g),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:L},operation:S}})).apply(this,arguments)}function Qf(_,h){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,m.Z)(function*(_,h){const{data:g}=yield mr((0,R.m9)(_),h);return g.email})).apply(this,arguments)}function pc(_,h,g){return Al.apply(this,arguments)}function Al(){return Al=(0,m.Z)(function*(_,h,g){var M;const S=u2(_),L={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(M=S._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Fe=yield jn(S,L,"signUpPassword");$=Bi(S,Fe)}else $=Bi(S,L).catch(function(){var Fe=(0,m.Z)(function*(it){if("auth/missing-recaptcha-token"===it.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kt=yield jn(S,L,"signUpPassword");return Bi(S,kt)}return Promise.reject(it)});return function(it){return Fe.apply(this,arguments)}}());const ee=yield $.catch(Fe=>Promise.reject(Fe)),De=yield d1._fromIdTokenResponse(S,"signIn",ee);return yield S._updateCurrentUser(De.user),De}),Al.apply(this,arguments)}function Jf(_,h,g){return Y4((0,R.m9)(_),ti.credential(h,g))}function Ln(_,h,g){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,m.Z)(function*(_,h,g){var M;const S=u2(_),L={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function $(ee,De){K(De.handleCodeInApp,S,"argument-error"),De&&ii(S,ee,De)}if(null!==(M=S._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const ee=yield jn(S,L,"getOobCode",!0);$(ee,g),yield qs(S,ee)}else $(L,g),yield qs(S,L).catch(function(){var ee=(0,m.Z)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Fe=yield jn(S,L,"getOobCode",!0);$(Fe,g),yield qs(S,Fe)}});return function(De){return ee.apply(this,arguments)}}())}),Dr.apply(this,arguments)}function Z2(_,h){const g=H1.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}function Tl(_,h,g){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_),S=ti.credentialWithLink(h,g||Dt());return K(S._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Y4(M,S)})).apply(this,arguments)}function Js(){return(Js=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:createAuthUri",X(_,h))})).apply(this,arguments)}function X4(_,h){return gc.apply(this,arguments)}function gc(){return gc=(0,m.Z)(function*(_,h){const M={identifier:h,continueUri:X2()?Dt():"http://localhost"},{signinMethods:S}=yield function mc(_,h){return Js.apply(this,arguments)}((0,R.m9)(_),M);return S||[]}),gc.apply(this,arguments)}function RC(_,h){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,m.Z)(function*(_,h){const g=(0,R.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&ii(g.auth,S,h);const{email:L}=yield function U4(_,h){return j4.apply(this,arguments)}(g.auth,S);L!==_.email&&(yield _.reload())}),Xs.apply(this,arguments)}function vc(_,h,g){return ea.apply(this,arguments)}function ea(){return ea=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&ii(M.auth,L,g);const{email:$}=yield function q2(_,h){return W2.apply(this,arguments)}(M.auth,L);$!==_.email&&(yield _.reload())}),ea.apply(this,arguments)}function yc(){return(yc=(0,m.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function OC(_,h){return kl.apply(this,arguments)}function kl(){return kl=(0,m.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const M=(0,R.m9)(_),L={idToken:yield M.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},$=yield jt(M,function e3(_,h){return yc.apply(this,arguments)}(M.auth,L));M.displayName=$.displayName||null,M.photoURL=$.photoUrl||null;const ee=M.providerData.find(({providerId:De})=>"password"===De);ee&&(ee.displayName=M.displayName,ee.photoURL=M.photoURL),yield M._updateTokensIfNecessary($)}),kl.apply(this,arguments)}function Xf(_,h){return Rl((0,R.m9)(_),h,null)}function Pl(_,h){return Rl((0,R.m9)(_),null,h)}function Rl(_,h,g){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,m.Z)(function*(_,h,g){const{auth:M}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(L.email=h),g&&(L.password=g);const $=yield jt(_,ac(M,L));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class si{constructor(h,g,M={}){this.isNewUser=h,this.providerId=g,this.profile=M}}class Ol extends si{constructor(h,g,M,S){super(h,g,M),this.username=S}}class t3 extends si{constructor(h,g){super(h,"facebook.com",g)}}class Mc extends Ol{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class n3 extends si{constructor(h,g){super(h,"google.com",g)}}class $i extends Ol{constructor(h,g,M){super(h,"twitter.com",g,M)}}function ta(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function _c(_){var h,g;if(!_)return null;const{providerId:M}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!M&&_?.idToken){const $=null===(g=null===(h=Mt(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new si(L,"anonymous"!==$&&"custom"!==$?$:null)}if(!M)return null;switch(M){case"facebook.com":return new t3(L,S);case"github.com":return new Mc(L,S);case"google.com":return new n3(L,S);case"twitter.com":return new $i(L,S,_.screenName||null);case"custom":case"anonymous":return new si(L,null);default:return new si(L,M,S)}}(g)}function e2(_,h,g,M){return(0,R.m9)(_).onAuthStateChanged(h,g,M)}class I1{constructor(h,g,M){this.type=h,this.credential=g,this.auth=M}static _fromIdtoken(h,g){return new I1("enroll",h,g)}static _fromMfaPendingCredential(h){return new I1("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,M;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return I1._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(M=h.multiFactorSession)&&void 0!==M&&M.idToken)return I1._fromIdtoken(h.multiFactorSession.idToken)}return null}}class t1{constructor(h,g,M){this.session=h,this.hints=g,this.signInResolver=M}static _fromError(h,g){const M=u2(h),S=g.customData._serverResponse,L=(S.mfaInfo||[]).map(ee=>Q4._fromServerResponse(M,ee));K(S.mfaPendingCredential,M,"internal-error");const $=I1._fromMfaPendingCredential(S.mfaPendingCredential);return new t1($,L,function(){var ee=(0,m.Z)(function*(De){const Fe=yield De._process(M,$);delete S.mfaInfo,delete S.mfaPendingCredential;const it=Object.assign(Object.assign({},S),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(g.operationType){case"signIn":const kt=yield d1._fromIdTokenResponse(M,g.operationType,it);return yield M._updateCurrentUser(kt.user),kt;case"reauthenticate":return K(g.user,M,"internal-error"),d1._forOperation(g.user,g.operationType,it);default:Z(M,"internal-error")}});return function(De){return ee.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,m.Z)(function*(){return g.signInResolver(h)})()}}function Ul(_,h){var g;const M=(0,R.m9)(_),S=h;return K(h.customData.operationType,M,"argument-error"),K(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,M,"argument-error"),t1._fromError(M,S)}class Gi{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(M=>Q4._fromServerResponse(h.auth,M)))})}static _fromUser(h){return new Gi(h)}getSession(){var h=this;return(0,m.Z)(function*(){return I1._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var M=this;return(0,m.Z)(function*(){const S=h,L=yield M.getSession(),$=yield jt(M.user,S._process(M.user.auth,L,g));return yield M.user._updateTokensIfNecessary($),M.user.reload()})()}unenroll(h){var g=this;return(0,m.Z)(function*(){const M="string"==typeof h?h:h.uid,S=yield g.user.getIdToken();try{const L=yield jt(g.user,function Gl(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:withdraw",X(_,h))}(g.user.auth,{idToken:S,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==M),yield g.user._updateTokensIfNecessary(L),yield g.user.reload()}catch(L){throw L}})()}}const qi=new WeakMap;function i3(_){const h=(0,R.m9)(_);return qi.has(h)||qi.set(h,Gi._fromUser(h)),qi.get(h)}const s3="__sak";class yt{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(s3,"1"),this.storage.removeItem(s3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vc=(()=>{class _ extends yt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,M)=>this.onStorageEvent(g,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ra(){const _=(0,R.z$)();return D(_)||$e(_)}()&&function c1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=St(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const M of Object.keys(this.listeners)){const S=this.storage.getItem(M),L=this.localCache[M];S!==L&&g(M,L,S)}}onStorageEvent(g,M=!1){if(!g.key)return void this.forAllChangedKeys((ee,De,Fe)=>{this.notifyListeners(ee,Fe)});const S=g.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(S);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!M)return}const L=()=>{const ee=this.storage.getItem(S);!M&&this.localCache[S]===ee||this.notifyListeners(S,ee)},$=this.storage.getItem(S);!function Xt(){return(0,R.w1)()&&10===document.documentMode}()||$===g.newValue||g.newValue===g.oldValue?L():setTimeout(L,10)}notifyListeners(g,M){this.localCache[g]=M;const S=this.listeners[g];if(S)for(const L of Array.from(S))L(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,M,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:M,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,M){var S=()=>super._set,L=this;return(0,m.Z)(function*(){yield S().call(L,g,M),L.localCache[g]=JSON.stringify(M)})()}_get(g){var M=()=>super._get,S=this;return(0,m.Z)(function*(){const L=yield M().call(S,g);return S.localCache[g]=JSON.stringify(L),L})()}_remove(g){var M=()=>super._remove,S=this;return(0,m.Z)(function*(){yield M().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),gr=(()=>{class _ extends yt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,M){}_removeListener(g,M){}}return _.type="SESSION",_})();let Zl=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const M=this.receivers.find(L=>L.isListeningto(g));if(M)return M;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var M=this;return(0,m.Z)(function*(){const S=g,{eventId:L,eventType:$,data:ee}=S.data,De=M.handlersMap[$];if(!De?.size)return;S.ports[0].postMessage({status:"ack",eventId:L,eventType:$});const Fe=Array.from(De).map(function(){var kt=(0,m.Z)(function*(K2){return K2(S.origin,ee)});return function(K2){return kt.apply(this,arguments)}}()),it=yield function Wl(_){return Promise.all(_.map(function(){var h=(0,m.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(M){return{fulfilled:!1,reason:M}}});return function(g){return h.apply(this,arguments)}}()))}(Fe);S.ports[0].postMessage({status:"done",eventId:L,eventType:$,response:it})})()}_subscribe(g,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(M)}_unsubscribe(g,M){this.handlersMap[g]&&M&&this.handlersMap[g].delete(M),(!M||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function a3(_="",h=10){let g="";for(let M=0;M<h;M++)g+=Math.floor(10*Math.random());return _+g}class t9{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,M=50){var S=this;return(0,m.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let $,ee;return new Promise((De,Fe)=>{const it=a3("",20);L.port1.start();const kt=setTimeout(()=>{Fe(new Error("unsupported_event"))},M);ee={messageChannel:L,onMessage(K2){const Xn=K2;if(Xn.data.eventId===it)switch(Xn.data.status){case"ack":clearTimeout(kt),$=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout($),De(Xn.data.response);break;default:clearTimeout(kt),clearTimeout($),Fe(new Error("invalid_response"))}}},S.handlers.add(ee),L.port1.addEventListener("message",ee.onMessage),S.target.postMessage({eventType:h,eventId:it,data:g},[L.port2])}).finally(()=>{ee&&S.removeMessageHandler(ee)})})()}}function _2(){return window}function Ot(){return typeof _2().WorkerGlobalScope<"u"&&"function"==typeof _2().importScripts}function o3(){return(o3=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oi="firebaseLocalStorageDb",Tr="firebaseLocalStorage",vr="fbase_key";class c3{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function sa(_,h){return _.transaction([Tr],h?"readwrite":"readonly").objectStore(Tr)}function n1(){const _=indexedDB.open(oi,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const M=_.result;try{M.createObjectStore(Tr,{keyPath:vr})}catch(S){g(S)}}),_.addEventListener("success",(0,m.Z)(function*(){const M=_.result;M.objectStoreNames.contains(Tr)?h(M):(M.close(),yield function Kl(){const _=indexedDB.deleteDatabase(oi);return new c3(_).toPromise()}(),h(yield n1()))}))})}function xn(_,h,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,m.Z)(function*(_,h,g){const M=sa(_,!0).put({[vr]:h,value:g});return new c3(M).toPromise()})).apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(_,h){const g=sa(_,!1).get(h),M=yield new c3(g).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function zc(_,h){const g=sa(_,!0).delete(h);return new c3(g).toPromise()}const aa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,m.Z)(function*(){return g.db||(g.db=yield n1()),g.db})()}_withRetries(g){var M=this;return(0,m.Z)(function*(){let S=0;for(;;)try{const L=yield M._openDb();return yield g(L)}catch(L){if(S++>3)throw L;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,m.Z)(function*(){return Ot()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,m.Z)(function*(){g.receiver=Zl._getInstance(function Ec(){return Ot()?self:null}()),g.receiver._subscribe("keyChanged",function(){var M=(0,m.Z)(function*(S,L){return{keyProcessed:(yield g._poll()).includes(L.key)}});return function(S,L){return M.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var M=(0,m.Z)(function*(S,L){return["keyChanged"]});return function(S,L){return M.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,m.Z)(function*(){var M,S;if(g.activeServiceWorker=yield function Ic(){return o3.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new t9(g.activeServiceWorker);const L=yield g.sender._send("ping",{},800);L&&null!==(M=L[0])&&void 0!==M&&M.fulfilled&&null!==(S=L[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var M=this;return(0,m.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function O2(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:g},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const g=yield n1();return yield xn(g,s3,"1"),yield zc(g,s3),!0}catch{}return!1})()}_withPendingWrite(g){var M=this;return(0,m.Z)(function*(){M.pendingWrites++;try{yield g()}finally{M.pendingWrites--}})()}_set(g,M){var S=this;return(0,m.Z)(function*(){return S._withPendingWrite((0,m.Z)(function*(){return yield S._withRetries(L=>xn(L,g,M)),S.localCache[g]=M,S.notifyServiceWorker(g)}))})()}_get(g){var M=this;return(0,m.Z)(function*(){const S=yield M._withRetries(L=>function j1(_,h){return Mn.apply(this,arguments)}(L,g));return M.localCache[g]=S,S})()}_remove(g){var M=this;return(0,m.Z)(function*(){return M._withPendingWrite((0,m.Z)(function*(){return yield M._withRetries(S=>zc(S,g)),delete M.localCache[g],M.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,m.Z)(function*(){const M=yield g._withRetries($=>{const ee=sa($,!1).getAll();return new c3(ee).toPromise()});if(!M)return[];if(0!==g.pendingWrites)return[];const S=[],L=new Set;for(const{fbase_key:$,value:ee}of M)L.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(ee)&&(g.notifyListeners($,ee),S.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!L.has($)&&(g.notifyListeners($,null),S.push($));return S})()}notifyListeners(g,M){this.localCache[g]=M;const S=this.listeners[g];if(S)for(const L of Array.from(S))L(M)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Zi=1e12;class Ql{constructor(h){this.auth=h,this.counter=Zi,this._widgets=new Map}render(h,g){const M=this.counter;return this._widgets.set(M,new Jl(h,this.auth.name,g||{})),this.counter++,M}reset(h){var g;const M=h||Zi;null===(g=this._widgets.get(M))||void 0===g||g.delete(),this._widgets.delete(M)}getResponse(h){var g;return(null===(g=this._widgets.get(h||Zi))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,m.Z)(function*(){var M;return null===(M=g._widgets.get(h||Zi))||void 0===M||M.execute(),""})()}}class Jl{constructor(h,g,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;K(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oa(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<_;M++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const u3=e1("rcb"),f3=new pn(3e4,6e4);class r9{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=_2().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return K(function E1(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Oe(_2().grecaptcha)?Promise.resolve(_2().grecaptcha):new Promise((M,S)=>{const L=_2().setTimeout(()=>{S(ue(h,"network-request-failed"))},f3.get());_2()[u3]=()=>{_2().clearTimeout(L),delete _2()[u3];const ee=_2().grecaptcha;if(!ee||!Oe(ee))return void S(ue(h,"internal-error"));const De=ee.render;ee.render=(Fe,it)=>{const kt=De(Fe,it);return this.counter++,kt},this.hostLanguage=g,M(ee)},l2(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:u3,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(L),S(ue(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=_2().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ci{load(h){return(0,m.Z)(function*(){return new Ql(h)})()}clearedOneInstance(){}}const o2="recaptcha",i9={theme:"light",type:"image"};class s9{constructor(h,g=Object.assign({},i9),M){this.parameters=g,this.type=o2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=u2(M),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;K(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ci:new r9,this.validateStartingState()}verify(){var h=this;return(0,m.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),M=h.getAssertedRecaptcha();return M.getResponse(g)||new Promise(L=>{const $=ee=>{ee&&(h.tokenChangeListeners.delete($),L(ee))};h.tokenChangeListeners.add($),h.isInvisible&&M.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(M=>M(g)),"function"==typeof h)h(g);else if("string"==typeof h){const M=_2()[h];"function"==typeof M&&M(g)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,m.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const M=document.createElement("div");g.appendChild(M),g=M}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,m.Z)(function*(){K(X2()&&!Ot(),h.auth,"internal-error"),yield function a9(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function se(_){return Y.apply(this,arguments)}(h.auth);K(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nc{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=pt._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function kc(_,h,g){return d3.apply(this,arguments)}function d3(){return(d3=(0,m.Z)(function*(_,h,g){const M=u2(_),S=yield Nr(M,h,(0,R.m9)(g));return new Nc(S,L=>Y4(M,L))})).apply(this,arguments)}function h3(_,h,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);yield ri(!1,M,"phone");const S=yield Nr(M.auth,h,(0,R.m9)(g));return new Nc(S,L=>Yf(M,L))})).apply(this,arguments)}function Xl(_,h,g){return li.apply(this,arguments)}function li(){return(li=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_),S=yield Nr(M.auth,h,(0,R.m9)(g));return new Nc(S,L=>d2(M,L))})).apply(this,arguments)}function Nr(_,h,g){return ui.apply(this,arguments)}function ui(){return ui=(0,m.Z)(function*(_,h,g){var M;const S=yield g.verify();try{let L;if(K("string"==typeof S,_,"argument-error"),K(g.type===o2,_,"argument-error"),L="string"==typeof h?{phoneNumber:h}:h,"session"in L){const $=L.session;if("phoneNumber"in L)return K("enroll"===$.type,_,"internal-error"),(yield function jl(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:start",X(_,h))}(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{K("signin"===$.type,_,"internal-error");const ee=(null===(M=L.multiFactorHint)||void 0===M?void 0:M.uid)||L.multiFactorUid;return K(ee,_,"missing-multi-factor-info"),(yield function xc(_,h){return he(_,"POST","/v2/accounts/mfaSignIn:start",X(_,h))}(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function wt(_,h){return n2.apply(this,arguments)}(_,{phoneNumber:L.phoneNumber,recaptchaToken:S});return $}}finally{g._reset()}}),ui.apply(this,arguments)}function ca(_,h){return p3.apply(this,arguments)}function p3(){return(p3=(0,m.Z)(function*(_,h){yield ji((0,R.m9)(_),h)})).apply(this,arguments)}let Pc=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=u2(g)}verifyPhoneNumber(g,M){return Nr(this.auth,g,(0,R.m9)(M))}static credential(g,M){return pt._fromVerification(g,M)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:M,temporaryProof:S}=g;return M&&S?pt._fromTokenResponse(M,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function kr(_,h){return h?c2(h):(K(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Qn extends Ri{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return $n(h,this._buildIdpRequest())}_linkToIdToken(h,g){return $n(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return $n(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Ki(_){return Vl(_.auth,new Qn(_),_.bypassAuthState)}function e8(_){const{auth:h,user:g}=_;return K(g,h,"internal-error"),fc(g,new Qn(_),_.bypassAuthState)}function t8(_){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,m.Z)(function*(_){const{auth:h,user:g}=_;return K(g,h,"internal-error"),ji(g,new Qn(_),_.bypassAuthState)})).apply(this,arguments)}class n8{constructor(h,g,M,S,L=!1){this.auth=h,this.resolver=M,this.user=S,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,m.Z)(function*(M,S){h.pendingPromise={resolve:M,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(L){h.reject(L)}});return function(M,S){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,m.Z)(function*(){const{urlResponse:M,sessionId:S,postBody:L,tenantId:$,error:ee,type:De}=h;if(ee)return void g.reject(ee);const Fe={auth:g.auth,requestUri:M,sessionId:S,tenantId:$||void 0,postBody:L||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(De)(Fe))}catch(it){g.reject(it)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ki;case"linkViaPopup":case"linkViaRedirect":return t8;case"reauthViaPopup":case"reauthViaRedirect":return e8;default:Z(this.auth,"internal-error")}}resolve(h){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rc=new pn(2e3,1e4);function r8(_,h,g){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,m.Z)(function*(_,h,g){const M=u2(_);pe(_,h,U1);const S=kr(M,g);return new Pr(M,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function i8(_,h,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);pe(M.auth,h,U1);const S=kr(M.auth,g);return new Pr(M.auth,"reauthViaPopup",h,S,M).executeNotNull()})).apply(this,arguments)}function Ji(_,h,g){return m3.apply(this,arguments)}function m3(){return(m3=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);pe(M.auth,h,U1);const S=kr(M.auth,g);return new Pr(M.auth,"linkViaPopup",h,S,M).executeNotNull()})).apply(this,arguments)}let Pr=(()=>{class _ extends n8{constructor(g,M,S,L,$){super(g,M,L,$),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,m.Z)(function*(){const M=yield g.execute();return K(M,g.auth,"internal-error"),M})()}onExecution(){var g=this;return(0,m.Z)(function*(){nt(1===g.filter.length,"Popup operations only handle one event");const M=a3();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],M),g.authWindow.associatedEvent=M,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ue(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var M,S;this.pollId=null!==(S=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Rc.get())};g()}}return _.currentPopupAction=null,_})();const la="pendingRedirect",An=new Map;class o9 extends n8{constructor(h,g,M=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,M),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,m.Z)(function*(){let M=An.get(g.auth._key());if(!M){try{const L=(yield function Fc(_,h){return g3.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;M=()=>Promise.resolve(L)}catch(S){M=()=>Promise.reject(S)}An.set(g.auth._key(),M)}return g.bypassAuthState||An.set(g.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,M=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(M,h);if("unknown"!==h.type){if(h.eventId){const S=yield M.auth._redirectUserForId(h.eventId);if(S)return M.user=S,g().call(M,h);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function g3(){return(g3=(0,m.Z)(function*(_,h){const g=fa(h),M=v3(_);if(!(yield M._isAvailable()))return!1;const S="true"===(yield M._get(g));return yield M._remove(g),S})).apply(this,arguments)}function ua(_,h){return en.apply(this,arguments)}function en(){return(en=(0,m.Z)(function*(_,h){return v3(_)._set(fa(h),"true")})).apply(this,arguments)}function s8(){An.clear()}function fi(_,h){An.set(_._key(),h)}function v3(_){return c2(_._redirectPersistence)}function fa(_){return yn(la,_.config.apiKey,_.name)}function y3(_,h,g){return function C3(_,h,g){return da.apply(this,arguments)}(_,h,g)}function da(){return(da=(0,m.Z)(function*(_,h,g){const M=u2(_);pe(_,h,U1),yield M._initializationPromise;const S=kr(M,g);return yield ua(S,M),S._openRedirect(M,h,"signInViaRedirect")})).apply(this,arguments)}function Bc(_,h,g){return function ha(_,h,g){return _3.apply(this,arguments)}(_,h,g)}function _3(){return(_3=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);pe(M.auth,h,U1),yield M.auth._initializationPromise;const S=kr(M.auth,g);yield ua(S,M.auth);const L=yield Rr(M);return S._openRedirect(M.auth,h,"reauthViaRedirect",L)})).apply(this,arguments)}function pa(_,h,g){return function a8(_,h,g){return di.apply(this,arguments)}(_,h,g)}function di(){return(di=(0,m.Z)(function*(_,h,g){const M=(0,R.m9)(_);pe(M.auth,h,U1),yield M.auth._initializationPromise;const S=kr(M.auth,g);yield ri(!1,M,h.providerId),yield ua(S,M.auth);const L=yield Rr(M);return S._openRedirect(M.auth,h,"linkViaRedirect",L)})).apply(this,arguments)}function yr(_,h){return ma.apply(this,arguments)}function ma(){return(ma=(0,m.Z)(function*(_,h){return yield u2(_)._initializationPromise,M3(_,h,!1)})).apply(this,arguments)}function M3(_,h){return w3.apply(this,arguments)}function w3(){return(w3=(0,m.Z)(function*(_,h,g=!1){const M=u2(_),S=kr(M,h),$=yield new o9(M,S,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield M._persistUserIfCurrent($.user),yield M._setRedirectUser(null,h)),$})).apply(this,arguments)}function Rr(_){return ga.apply(this,arguments)}function ga(){return(ga=(0,m.Z)(function*(_){const h=a3(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Uc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(h,M)&&(g=!0,this.sendToConsumer(h,M),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function o8(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b3(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var M;if(h.error&&!b3(h)){const S=(null===(M=h.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";g.onError(ue(this.auth,S))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const M=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&M}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jc(h))}saveEventToCache(h){this.cachedEventUids.add(jc(h)),this.lastProcessedEventTime=Date.now()}}function jc(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function b3({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function va(_){return hi.apply(this,arguments)}function hi(){return(hi=(0,m.Z)(function*(_,h={}){return he(_,"GET","/v1/projects",h)})).apply(this,arguments)}const pi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Or=/^https?/;function Xi(){return(Xi=(0,m.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield va(_);for(const g of h)try{if(ya(g))return}catch{}Z(_,"unauthorized-domain")})).apply(this,arguments)}function ya(_){const h=Dt(),{protocol:g,hostname:M}=new URL(h);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===M?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===M}if(!Or.test(g))return!1;if(pi.test(_))return M===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(M)}const gi=new pn(3e4,6e4);function $c(){const _=_2().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ca=null;const l8=new pn(5e3,15e3),l9="__/auth/iframe",u9="emulator/auth/iframe",f9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gc(_){const h=_.config;K(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?ur(h,u9):`https://${_.config.authDomain}/${l9}`,M={apiKey:h.apiKey,appName:_.name,v:T.SDK_VERSION},S=vi.get(_.config.apiHost);S&&(M.eid=S);const L=_._getFrameworks();return L.length&&(M.fw=L.join(",")),`${g}?${(0,R.xO)(M).slice(1)}`}function M2(){return M2=(0,m.Z)(function*(_){const h=yield function c9(_){return Ca=Ca||function c8(_){return new Promise((h,g)=>{var M,S,L;function $(){$c(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{$c(),g(ue(_,"network-request-failed"))},timeout:gi.get()})}if(null!==(S=null===(M=_2().gapi)||void 0===M?void 0:M.iframes)&&void 0!==S&&S.Iframe)h(gapi.iframes.getContext());else{if(null===(L=_2().gapi)||void 0===L||!L.load){const ee=e1("iframefcb");return _2()[ee]=()=>{gapi.load?$():g(ue(_,"network-request-failed"))},l2(`https://apis.google.com/js/api.js?onload=${ee}`).catch(De=>g(De))}$()}}).catch(h=>{throw Ca=null,h})}(_),Ca}(_),g=_2().gapi;return K(g,_,"internal-error"),h.open({where:document.body,url:Gc(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f9,dontclear:!0},M=>new Promise(function(){var S=(0,m.Z)(function*(L,$){yield M.restyle({setHideOnLeave:!1});const ee=ue(_,"network-request-failed"),De=_2().setTimeout(()=>{$(ee)},l8.get());function Fe(){_2().clearTimeout(De),L(M)}M.ping(Fe).then(Fe,()=>{$(ee)})});return function(L,$){return S.apply(this,arguments)}}()))}),M2.apply(this,arguments)}const qc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _a{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const f8="__/auth/handler",d9="emulator/auth/handler",d8=encodeURIComponent("fac");function Ma(_,h,g,M,S,L){return m1.apply(this,arguments)}function m1(){return(m1=(0,m.Z)(function*(_,h,g,M,S,L){K(_.config.authDomain,_,"auth-domain-config-required"),K(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:M,v:T.SDK_VERSION,eventId:S};if(h instanceof U1){h.setDefaultLanguage(_.languageCode),$.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||($.customParameters=JSON.stringify(h.getCustomParameters()));for(const[it,kt]of Object.entries(L||{}))$[it]=kt}if(h instanceof V1){const it=h.getScopes().filter(kt=>""!==kt);it.length>0&&($.scopes=it.join(","))}_.tenantId&&($.tid=_.tenantId);const ee=$;for(const it of Object.keys(ee))void 0===ee[it]&&delete ee[it];const De=yield _._getAppCheckToken(),Fe=De?`#${d8}=${encodeURIComponent(De)}`:"";return`${function wa({config:_}){return _.emulator?ur(_,d9):`https://${_.authDomain}/${f8}`}(_)}?${(0,R.xO)(ee).slice(1)}${Fe}`})).apply(this,arguments)}const Jn="webStorageSupport",ba=class h9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gr,this._completeRedirectFn=M3,this._overrideRedirectResult=fi}_openPopup(h,g,M,S){var L=this;return(0,m.Z)(function*(){var $;nt(null===($=L.eventManagers[h._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ee=yield Ma(h,g,M,Dt(),S);return function H3(_,h,g,M=500,S=600){const L=Math.max((window.screen.availHeight-S)/2,0).toString(),$=Math.max((window.screen.availWidth-M)/2,0).toString();let ee="";const De=Object.assign(Object.assign({},qc),{width:M.toString(),height:S.toString(),top:L,left:$}),Fe=(0,R.z$)().toLowerCase();g&&(ee=z(Fe)?"_blank":g),x(Fe)&&(h=h||"http://localhost",De.scrollbars="yes");const it=Object.entries(De).reduce((K2,[Xn,ss])=>`${K2}${Xn}=${ss},`,"");if(function vt(_=(0,R.z$)()){var h;return $e(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Fe)&&"_self"!==ee)return function ts(_,h){const g=document.createElement("a");g.href=_,g.target=h;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(M)}(h||"",ee),new _a(null);const kt=window.open(h||"",ee,it);K(kt,_,"popup-blocked");try{kt.focus()}catch{}return new _a(kt)}(h,ee,a3())})()}_openRedirect(h,g,M,S){var L=this;return(0,m.Z)(function*(){return yield L._originValidation(h),function ve(_){_2().location.href=_}(yield Ma(h,g,M,Dt(),S)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:S,promise:L}=this.eventManagers[g];return S?Promise.resolve(S):(nt(L,"If manager is not set, promise should be"),L)}const M=this.initAndGetManager(h);return this.eventManagers[g]={promise:M},M.catch(()=>{delete this.eventManagers[g]}),M}initAndGetManager(h){var g=this;return(0,m.Z)(function*(){const M=yield function u8(_){return M2.apply(this,arguments)}(h),S=new Uc(h);return M.register("authEvent",L=>(K(L?.authEvent,h,"invalid-auth-event"),{status:S.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:S},g.iframes[h._key()]=M,S})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Jn,{type:Jn},S=>{var L;const $=null===(L=S?.[0])||void 0===L?void 0:L[Jn];void 0!==$&&g(!!$),Z(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function mi(_){return Xi.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return St()||D()||$e()}};class Zc{constructor(h){this.factorId=h}_process(h,g,M){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,M);case"signin":return this._finalizeSignIn(h,g.credential);default:return et("unexpected MultiFactorSessionType")}}}class Ha extends Zc{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ha(h)}_finalizeEnroll(h,g,M){return function $l(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:finalize",X(_,h))}(h,{idToken:g,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Dc(_,h){return he(_,"POST","/v2/accounts/mfaSignIn:finalize",X(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let h8=(()=>{class _{constructor(){}static assertion(g){return Ha._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var ns="@firebase/auth";class rs{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,m.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(M=>{h(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Qc=(0,R.Pz)("authIdTokenMaxAge")||300;let is=null;const V3=_=>function(){var h=(0,m.Z)(function*(g){const M=g&&(yield g.getIdTokenResult()),S=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(S&&S>Qc)return;const L=M?.token;is!==L&&(is=L,yield fetch(_,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function Jc(_=(0,T.getApp)()){const h=(0,T._getProvider)(_,"auth");if(h.isInitialized())return h.getImmediate();const g=function Pi(_,h){const g=(0,T._getProvider)(_,"auth");if(g.isInitialized()){const S=g.getImmediate(),L=g.getOptions();if((0,R.vZ)(L,h??{}))return S;Z(S,"already-initialized")}return g.initialize({options:h})}(_,{popupRedirectResolver:ba,persistence:[aa,Vc,gr]}),M=(0,R.Pz)("authTokenSyncURL");if(M){const L=V3(M);(function bc(_,h,g){(0,R.m9)(_).beforeAuthStateChanged(h,g)})(g,L,()=>L(g.currentUser)),function wc(_,h,g,M){(0,R.m9)(_).onIdTokenChanged(h,g,M)}(g,$=>L($))}const S=(0,R.q4)("auth");return S&&k4(g,`http://${S}`),g}!function Sa(_){(0,T._registerComponent)(new we.wA("auth",(h,{options:g})=>{const M=h.getProvider("app").getImmediate(),S=h.getProvider("heartbeat"),L=h.getProvider("app-check-internal"),{apiKey:$,authDomain:ee}=M.options;K($&&!$.includes(":"),"invalid-api-key",{appName:M.name});const De={apiKey:$,authDomain:ee,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zr(_)},Fe=new N4(M,S,L,De);return function Ml(_,h){const g=h?.persistence||[],M=(Array.isArray(g)?g:[g]).map(c2);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(M,h?.popupRedirectResolver)}(Fe,g),Fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,M)=>{h.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new we.wA("auth-internal",h=>{const g=u2(h.getProvider("auth").getImmediate());return new rs(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(ns,"0.23.2",function m8(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,T.registerVersion)(ns,"0.23.2","esm2017")}("Browser")},9058:(ht,Se,k)=>{k.d(Se,{$s:()=>c2,BH:()=>J,G6:()=>ur,L:()=>ze,LL:()=>Ee,P0:()=>Je,Pz:()=>ue,Rd:()=>He,Sg:()=>pe,UG:()=>et,US:()=>we,ZB:()=>re,ZR:()=>he,aH:()=>Z,b$:()=>X2,eu:()=>ie,hl:()=>te,jU:()=>nt,k$:()=>vn,m9:()=>yn,ne:()=>jt,pd:()=>Mt,q4:()=>Ke,r3:()=>Jt,ru:()=>Dt,tV:()=>O,uI:()=>K,vZ:()=>s1,w1:()=>On,xO:()=>zn,xb:()=>k1,z$:()=>Le,zI:()=>fe,zd:()=>ut});const ae=function(F){const P=[];let x=0;for(let D=0;D<F.length;D++){let z=F.charCodeAt(D);z<128?P[x++]=z:z<2048?(P[x++]=z>>6|192,P[x++]=63&z|128):55296==(64512&z)&&D+1<F.length&&56320==(64512&F.charCodeAt(D+1))?(z=65536+((1023&z)<<10)+(1023&F.charCodeAt(++D)),P[x++]=z>>18|240,P[x++]=z>>12&63|128,P[x++]=z>>6&63|128,P[x++]=63&z|128):(P[x++]=z>>12|224,P[x++]=z>>6&63|128,P[x++]=63&z|128)}return P},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,D=[];for(let z=0;z<F.length;z+=3){const q=F[z],de=z+1<F.length,Ne=de?F[z+1]:0,gt=z+2<F.length,$e=gt?F[z+2]:0;let Xt=(15&Ne)<<2|$e>>6,St=63&$e;gt||(St=64,de||(Xt=64)),D.push(x[q>>2],x[(3&q)<<4|Ne>>4],x[Xt],x[St])}return D.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(ae(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let x=0,D=0;for(;x<F.length;){const z=F[x++];if(z<128)P[D++]=String.fromCharCode(z);else if(z>191&&z<224){const q=F[x++];P[D++]=String.fromCharCode((31&z)<<6|63&q)}else if(z>239&&z<365){const gt=((7&z)<<18|(63&F[x++])<<12|(63&F[x++])<<6|63&F[x++])-65536;P[D++]=String.fromCharCode(55296+(gt>>10)),P[D++]=String.fromCharCode(56320+(1023&gt))}else{const q=F[x++],de=F[x++];P[D++]=String.fromCharCode((15&z)<<12|(63&q)<<6|63&de)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const x=P?this.charToByteMapWebSafe_:this.charToByteMap_,D=[];for(let z=0;z<F.length;){const q=x[F.charAt(z++)],Ne=z<F.length?x[F.charAt(z)]:0;++z;const $e=z<F.length?x[F.charAt(z)]:64;++z;const vt=z<F.length?x[F.charAt(z)]:64;if(++z,null==q||null==Ne||null==$e||null==vt)throw new xe;D.push(q<<2|Ne>>4),64!==$e&&(D.push(Ne<<4&240|$e>>2),64!==vt&&D.push($e<<6&192|vt))}return D},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(F){return function(F){const P=ae(F);return we.encodeByteArray(P,!0)}(F).replace(/\./g,"")},O=function(F){try{return we.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function re(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const x in P)!P.hasOwnProperty(x)||!Re(x)||(F[x]=re(F[x],P[x]));return F}function Re(F){return"__proto__"!==F}function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ae=()=>{try{return He().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&O(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Ke=F=>{var P,x;return null===(x=null===(P=Ae())||void 0===P?void 0:P.emulatorHosts)||void 0===x?void 0:x[F]},Je=F=>{const P=Ke(F);if(!P)return;const x=P.lastIndexOf(":");if(x<=0||x+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const D=parseInt(P.substring(x+1),10);return"["===P[0]?[P.substring(1,x-1),D]:[P.substring(0,x),D]},Z=()=>{var F;return null===(F=Ae())||void 0===F?void 0:F.config},ue=F=>{var P;return null===(P=Ae())||void 0===P?void 0:P[`_${F}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,x)=>{this.resolve=P,this.reject=x})}wrapCallback(P){return(x,D)=>{x?this.reject(x):this.resolve(D),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(x):P(x,D))}}}function pe(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const D=P||"demo-project",z=F.iat||0,q=F.sub||F.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${D}`,aud:D,iat:z,exp:z+3600,auth_time:z,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},F);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(de)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function et(){var F;const P=null===(F=Ae())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function Dt(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function X2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function On(){const F=Le();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function ur(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function ie(){return new Promise((F,P)=>{try{let x=!0;const D="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(D);z.onsuccess=()=>{z.result.close(),x||self.indexedDB.deleteDatabase(D),F(!0)},z.onupgradeneeded=()=>{x=!1},z.onerror=()=>{var q;P((null===(q=z.error)||void 0===q?void 0:q.message)||"")}}catch(x){P(x)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class he extends Error{constructor(P,x,D){super(x),this.code=P,this.customData=D,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(P,x,D){this.service=P,this.serviceName=x,this.errors=D}create(P,...x){const D=x[0]||{},z=`${this.service}/${P}`,q=this.errors[P],de=q?function Qe(F,P){return F.replace(ke,(x,D)=>{const z=P[D];return null!=z?String(z):`<${D}?>`})}(q,D):"Error";return new he(z,`${this.serviceName}: ${de} (${z}).`,D)}}const ke=/\{\$([^}]+)}/g;function Jt(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function k1(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function s1(F,P){if(F===P)return!0;const x=Object.keys(F),D=Object.keys(P);for(const z of x){if(!D.includes(z))return!1;const q=F[z],de=P[z];if(g2(q)&&g2(de)){if(!s1(q,de))return!1}else if(q!==de)return!1}for(const z of D)if(!x.includes(z))return!1;return!0}function g2(F){return null!==F&&"object"==typeof F}function zn(F){const P=[];for(const[x,D]of Object.entries(F))Array.isArray(D)?D.forEach(z=>{P.push(encodeURIComponent(x)+"="+encodeURIComponent(z))}):P.push(encodeURIComponent(x)+"="+encodeURIComponent(D));return P.length?"&"+P.join("&"):""}function ut(F){const P={};return F.replace(/^\?/,"").split("&").forEach(D=>{if(D){const[z,q]=D.split("=");P[decodeURIComponent(z)]=decodeURIComponent(q)}}),P}function Mt(F){const P=F.indexOf("?");if(!P)return"";const x=F.indexOf("#",P);return F.substring(P,x>0?x:void 0)}function jt(F,P){const x=new o1(F,P);return x.subscribe.bind(x)}class o1{constructor(P,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{P(this)}).catch(D=>{this.error(D)})}next(P){this.forEachObserver(x=>{x.next(P)})}error(P){this.forEachObserver(x=>{x.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,x,D){let z;if(void 0===P&&void 0===x&&void 0===D)throw new Error("Missing Observer.");z=function Lt(F,P){if("object"!=typeof F||null===F)return!1;for(const x of P)if(x in F&&"function"==typeof F[x])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:x,complete:D},void 0===z.next&&(z.next=v2),void 0===z.error&&(z.error=v2),void 0===z.complete&&(z.complete=v2);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),q}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,P)}sendOne(P,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{x(this.observers[P])}catch(D){typeof console<"u"&&console.error&&console.error(D)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v2(){}const vn=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,F=>{const P=16*Math.random()|0;return("x"===F?P:3&P|8).toString(16)})},P2=1e3,R2=2,G2=144e5,w1=.5;function c2(F,P=P2,x=R2){const D=P*Math.pow(x,F),z=Math.round(w1*D*(Math.random()-.5)*2);return Math.min(G2,D+z)}function yn(F){return F&&F._delegate?F._delegate:F}},7691:(ht,Se,k)=>{var m=k(7989);let R=null;function T(){return R}class me{}const we=new m.OlP("DocumentToken");var J=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(J||{}),nt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(nt||{});function he(t,e){const n=(0,m.cg1)(t),r=n[m.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===nt.CurrencyDecimal)return n[m.wAp.NumberSymbols][nt.Decimal];if(e===nt.CurrencyGroup)return n[m.wAp.NumberSymbols][nt.Group]}return r}const z=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Vt(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Bs=/\s+/,T4=[];let Ti=(()=>{var t;class e{constructor(r,a,c,u){this._iterableDiffers=r,this._keyValueDiffers=a,this._ngEl=c,this._renderer=u,this.initialClasses=T4,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Bs):T4}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Bs):r}ngDoCheck(){for(const a of this.initialClasses)this._updateState(a,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const a of r)this._updateState(a,!0);else if(null!=r)for(const a of Object.keys(r))this._updateState(a,!!r[a]);this._applyStateDiff()}_updateState(r,a){const c=this.stateMap.get(r);void 0!==c?(c.enabled!==a&&(c.changed=!0,c.enabled=a),c.touched=!0):this.stateMap.set(r,{enabled:a,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const a=r[0],c=r[1];c.changed?(this._toggleClass(a,c.enabled),c.changed=!1):c.touched||(c.enabled&&this._toggleClass(a,!1),this.stateMap.delete(a)),c.touched=!1}}_toggleClass(r,a){(r=r.trim()).length>0&&r.split(Bs).forEach(c=>{a?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class ki{constructor(e,n,r,a){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N4=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,a,c){this._viewContainer=r,this._template=a,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=this._viewContainer;r.forEachOperation((c,u,p)=>{if(null==c.previousIndex)a.createEmbeddedView(this._template,new ki(c.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)a.remove(null===u?void 0:u);else if(null!==u){const y=a.get(u);a.move(y,p),u2(y,c)}});for(let c=0,u=a.length;c<u;c++){const y=a.get(c).context;y.index=c,y.count=u,y.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{u2(a.get(c.currentIndex),c)})}static ngTemplateContextGuard(r,a){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function u2(t,e){t.context.$implicit=e.item}let Pi=(()=>{var t;class e{constructor(r,a){this._viewContainer=r,this._context=new Ml,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){k4("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){k4("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.s_b),m.Y36(m.Rgc))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Ml{constructor(){this.$implicit=null,this.ngIf=null}}function k4(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,m.AaK)(e)}'.`)}let Zs=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=f2}transform(r,a=f2){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const c=this.differ.diff(r),u=a!==this.compareFn;return c&&(this.keyValues=[],c.forEachItem(p=>{this.keyValues.push(function $n(t,e){return{key:t,value:e}}(p.key,p.currentValue))})),(c||u)&&(this.keyValues.sort(a),this.compareFn=a),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.aQg,16))},t.\u0275pipe=m.Yjl({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function f2(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const a=String(n),c=String(r);return a==c?0:a<c?-1:1}let Te=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,a,c){if(!function B1(t){return!(null==t||""===t||t!=t)}(r))return null;c=c||this._locale;try{return function se(t,e,n){return function St(t,e,n,r,a,c,u=!1){let p="",y=!1;if(isFinite(t)){let b=function Ye(t){let r,a,c,u,p,e=Math.abs(t)+"",n=0;for((a=e.indexOf("."))>-1&&(e=e.replace(".","")),(c=e.search(/e/i))>0?(a<0&&(a=c),a+=+e.slice(c+1),e=e.substring(0,c)):a<0&&(a=e.length),c=0;"0"===e.charAt(c);c++);if(c===(p=e.length))r=[0],a=1;else{for(p--;"0"===e.charAt(p);)p--;for(a-=c,r=[],u=0;c<=p;c++,u++)r[u]=Number(e.charAt(c))}return a>22&&(r=r.splice(0,21),n=a-1,a=1),{digits:r,exponent:n,integerLen:a}}(t);u&&(b=function _e(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(b));let H=e.minInt,I=e.minFrac,N=e.maxFrac;if(c){const qe=c.match(z);if(null===qe)throw new Error(`${c} is not a valid digit info`);const Ze=qe[1],ot=qe[3],dt=qe[5];null!=Ze&&(H=Vt(Ze)),null!=ot&&(I=Vt(ot)),null!=dt?N=Vt(dt):null!=ot&&I>N&&(N=I)}!function Oe(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,a=r.length-t.integerLen;const c=Math.min(Math.max(e,a),n);let u=c+t.integerLen,p=r[u];if(u>0){r.splice(Math.max(t.integerLen,u));for(let I=u;I<r.length;I++)r[I]=0}else{a=Math.max(0,a),t.integerLen=1,r.length=Math.max(1,u=c+1),r[0]=0;for(let I=1;I<u;I++)r[I]=0}if(p>=5)if(u-1<0){for(let I=0;I>u;I--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[u-1]++;for(;a<Math.max(0,c);a++)r.push(0);let y=0!==c;const b=e+t.integerLen,H=r.reduceRight(function(I,N,U,oe){return oe[U]=(N+=I)<10?N:N-10,y&&(0===oe[U]&&U>=b?oe.pop():y=!1),N>=10?1:0},0);H&&(r.unshift(H),t.integerLen++)}(b,I,N);let U=b.digits,oe=b.integerLen;const Ce=b.exponent;let Me=[];for(y=U.every(qe=>!qe);oe<H;oe++)U.unshift(0);for(;oe<0;oe++)U.unshift(0);oe>0?Me=U.splice(oe,U.length):(Me=U,U=[0]);const je=[];for(U.length>=e.lgSize&&je.unshift(U.splice(-e.lgSize,U.length).join(""));U.length>e.gSize;)je.unshift(U.splice(-e.gSize,U.length).join(""));U.length&&je.unshift(U.join("")),p=je.join(he(n,r)),Me.length&&(p+=he(n,a)+Me.join("")),Ce&&(p+=he(n,nt.Exponential)+"+"+Ce)}else p=he(n,nt.Infinity);return p=t<0&&!y?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(t,function Y(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),a=r[0],c=r[1],u=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],p=u[0],y=u[1]||"";n.posPre=p.substring(0,p.indexOf("#"));for(let H=0;H<y.length;H++){const I=y.charAt(H);"0"===I?n.minFrac=n.maxFrac=H+1:"#"===I?n.maxFrac=H+1:n.posSuf+=I}const b=p.split(",");if(n.gSize=b[1]?b[1].length:0,n.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,c){const H=a.length-n.posPre.length-n.posSuf.length,I=c.indexOf("#");n.negPre=c.substring(0,I).replace(/'/g,""),n.negSuf=c.slice(I+H).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Ee(t,e){return(0,m.cg1)(t)[m.wAp.NumberFormats][e]}(e,J.Decimal),he(e,nt.MinusSign)),e,nt.Group,nt.Decimal,n)}(function Gn(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),c,a)}catch(u){throw function F1(t,e){return new m.vHH(2100,!1)}()}}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.soG,16))},t.\u0275pipe=m.Yjl({name:"number",type:t,pure:!0,standalone:!0}),e})();let C2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({}),e})();const hr="server";function H1(t){return t===hr}class Mc extends me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class n3 extends Mc{static makeCurrent(){!function ae(t){R||(R=t)}(new n3)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ta(){return $i=$i||document.querySelector("base"),$i?$i.getAttribute("href"):null}();return null==n?null:function Yn(t){na=na||document.createElement("a"),na.setAttribute("href",t);const e=na.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){$i=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Un(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[a,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let na,$i=null,bc=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const e2=new m.OlP("EventManagerPlugins");let Fl=(()=>{var t;class e{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(c=>{c.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,a,c){return this._findPluginFor(a).addEventListener(r,a,c)}getZone(){return this._zone}_findPluginFor(r){let a=this._eventNameToPlugin.get(r);if(a)return a;if(a=this._plugins.find(u=>u.supports(r)),!a)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set(r,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(e2),m.LFG(m.R0b))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();class r3{constructor(e){this._doc=e}}const p1="ng-app-id";let Bl=(()=>{var t;class e{constructor(r,a,c,u={}){this.doc=r,this.appId=a,this.nonce=c,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=H1(u),this.resetHostNodes()}addStyles(r){for(const a of r)1===this.changeUsageCount(a,1)&&this.onStyleAdded(a)}removeStyles(r){for(const a of r)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(a=>a.remove()),r.clear());for(const a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const a of this.getAllStyles())this.addStyleToHost(r,a)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const a of this.hostNodes)this.addStyleToHost(a,r)}onStyleRemoved(r){const a=this.styleRef;a.get(r)?.elements?.forEach(c=>c.remove()),a.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${p1}="${this.appId}"]`);if(r?.length){const a=new Map;return r.forEach(c=>{null!=c.textContent&&a.set(c.textContent,c)}),a}return null}changeUsageCount(r,a){const c=this.styleRef;if(c.has(r)){const u=c.get(r);return u.usage+=a,u.usage}return c.set(r,{usage:a,elements:[]}),a}getStyleElement(r,a){const c=this.styleNodesInDOM,u=c?.get(a);if(u?.parentNode===r)return c.delete(a),u.removeAttribute(p1),u;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=a,this.platformIsServer&&p.setAttribute(p1,this.appId),p}}addStyleToHost(r,a){const c=this.getStyleElement(r,a);r.appendChild(c);const u=this.styleRef,p=u.get(a)?.elements;p?p.push(c):u.set(a,{elements:[c],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(we),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const ai={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},I1=/%COMP%/g,Ar=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Gi(t,e){return e.map(n=>n.replace(I1,t))}let qi=(()=>{var t;class e{constructor(r,a,c,u,p,y,b,H=null){this.eventManager=r,this.sharedStylesHost=a,this.appId=c,this.removeStylesOnCompDestroy=u,this.doc=p,this.platformId=y,this.ngZone=b,this.nonce=H,this.rendererByCompId=new Map,this.platformIsServer=H1(y),this.defaultRenderer=new i3(r,p,b,this.platformIsServer)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===m.ifc.ShadowDom&&(a={...a,encapsulation:m.ifc.Emulated});const c=this.getOrCreateRenderer(r,a);return c instanceof ql?c.applyToHost(r):c instanceof ia&&c.applyStyles(),c}getOrCreateRenderer(r,a){const c=this.rendererByCompId;let u=c.get(a.id);if(!u){const p=this.doc,y=this.ngZone,b=this.eventManager,H=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(a.encapsulation){case m.ifc.Emulated:u=new ql(b,H,a,this.appId,I,p,y,N);break;case m.ifc.ShadowDom:return new e9(b,H,r,a,p,y,this.nonce,N);default:u=new ia(b,H,a,I,p,y,N)}c.set(a.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(Fl),m.LFG(Bl),m.LFG(m.AFp),m.LFG(Ar),m.LFG(we),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();class i3{constructor(e,n,r,a){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ai[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ra(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ra(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new m.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,a){if(a){n=a+":"+n;const c=ai[a];c?e.setAttributeNS(c,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const a=ai[r];a?e.removeAttributeNS(a,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,a){a&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(n,r,a&m.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&m.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=T().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function ra(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class e9 extends i3{constructor(e,n,r,a,c,u,p,y){super(e,c,u,y),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=Gi(a.id,a.styles);for(const H of b){const I=document.createElement("style");p&&I.setAttribute("nonce",p),I.textContent=H,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ia extends i3{constructor(e,n,r,a,c,u,p,y){super(e,c,u,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a,this.styles=y?Gi(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ql extends ia{constructor(e,n,r,a,c,u,p,y){const b=a+"-"+r.id;super(e,n,r,c,u,p,y,b),this.contentAttr=function Hc(t){return"_ngcontent-%COMP%".replace(I1,t)}(b),this.hostAttr=function Gl(t){return"_nghost-%COMP%".replace(I1,t)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Vc=(()=>{var t;class e extends r3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,c){return r.addEventListener(a,c,!1),()=>this.removeEventListener(r,a,c)}removeEventListener(r,a,c){return r.removeEventListener(a,c)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(we))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const Sc=["alt","control","meta","shift"],gr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Zl=(()=>{var t;class e extends r3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,a,c){const u=e.parseEventName(a),p=e.eventCallback(u.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T().onAndCancel(r,u.domEventName,p))}static parseEventName(r){const a=r.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const u=e._normalizeKey(a.pop());let p="",y=a.indexOf("code");if(y>-1&&(a.splice(y,1),p="code."),Sc.forEach(H=>{const I=a.indexOf(H);I>-1&&(a.splice(I,1),p+=H+".")}),p+=u,0!=a.length||0===u.length)return null;const b={};return b.domEventName=c,b.fullKey=p,b}static matchEventFullKeyCode(r,a){let c=gr[r.key]||r.key,u="";return a.indexOf("code.")>-1&&(c=r.code,u="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Sc.forEach(p=>{p!==c&&(0,Wl[p])(r)&&(u+=p+".")}),u+=c,u===a)}static eventCallback(r,a,c){return u=>{e.matchEventFullKeyCode(u,r)&&c.runGuarded(()=>a(u))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(we))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const Ec=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function Ot(){n3.makeCurrent()},multi:!0},{provide:we,useFactory:function o3(){return(0,m.RDi)(document),document},deps:[]}]),oi=new m.OlP(""),_n=[{provide:m.rWj,useClass:class wc{addToWindow(e){m.dqk.getAngularTestability=(r,a=!0)=>{const c=e.findTestabilityInTree(r,a);if(null==c)throw new m.vHH(5103,!1);return c},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(r=>{const a=m.dqk.getAllAngularTestabilities();let c=a.length,u=!1;const p=function(y){u=u||y,c--,0==c&&r(u)};a.forEach(y=>{y.whenStable(p)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?T().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],Tr=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function Ic(){return new m.qLn},deps:[]},{provide:e2,useClass:Vc,multi:!0,deps:[we,m.R0b,m.Lbi]},{provide:e2,useClass:Zl,multi:!0,deps:[we]},qi,Bl,Fl,{provide:m.FYo,useExisting:qi},{provide:class Wn{},useClass:bc,deps:[]},[]];let vr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:m.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(oi,12))},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[...Tr,..._n],imports:[C2,m.hGG]}),e})();typeof window<"u"&&window;let oa=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:function(r){let a=null;return a=r?new(r||t):m.LFG(f3),a},providedIn:"root"}),e})(),f3=(()=>{var t;class e extends oa{constructor(r){super(),this._doc=r}sanitize(r,a){if(null==a)return null;switch(r){case m.q3G.NONE:return a;case m.q3G.HTML:return(0,m.qzn)(a,"HTML")?(0,m.z3N)(a):(0,m.EiD)(this._doc,String(a)).toString();case m.q3G.STYLE:return(0,m.qzn)(a,"Style")?(0,m.z3N)(a):a;case m.q3G.SCRIPT:if((0,m.qzn)(a,"Script"))return(0,m.z3N)(a);throw new m.vHH(5200,!1);case m.q3G.URL:return(0,m.qzn)(a,"URL")?(0,m.z3N)(a):(0,m.mCW)(String(a));case m.q3G.RESOURCE_URL:if((0,m.qzn)(a,"ResourceURL"))return(0,m.z3N)(a);throw new m.vHH(5201,!1);default:throw new m.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,m.JVY)(r)}bypassSecurityTrustStyle(r){return(0,m.L6k)(r)}bypassSecurityTrustScript(r){return(0,m.eBb)(r)}bypassSecurityTrustUrl(r){return(0,m.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,m.pB0)(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(we))},t.\u0275prov=m.Yz7({token:t,factory:function(r){let a=null;return a=r?new r:function u3(t){return new f3(t.get(we))}(m.LFG(m.zs3)),a},providedIn:"root"}),e})();var B8={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},Mh={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},X3={prefix:"fas",iconName:"cubes-stacked",icon:[448,512,[],"e4e6","M192 64v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H224c-17.7 0-32 14.3-32 32zM82.7 207c-15.3 8.8-20.5 28.4-11.7 43.7l32 55.4c8.8 15.3 28.4 20.5 43.7 11.7l55.4-32c15.3-8.8 20.5-28.4 11.7-43.7l-32-55.4c-8.8-15.3-28.4-20.5-43.7-11.7L82.7 207zM288 192c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32H288zm64 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H352zM160 384v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zM32 352c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H32z"]},C5={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},E5={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},wV={prefix:"fas",iconName:"satellite",icon:[512,512,[128752],"f7bf","M233 7c-9.4-9.4-24.6-9.4-33.9 0l-96 96c-9.4 9.4-9.4 24.6 0 33.9l89.4 89.4-15.5 15.5C152.3 230.4 124.9 224 96 224c-31.7 0-61.5 7.7-87.8 21.2c-9 4.7-10.3 16.7-3.1 23.8L112.7 376.7 96.3 393.1c-2.6-.7-5.4-1.1-8.3-1.1c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32c0-2.9-.4-5.6-1.1-8.3l16.4-16.4L242.9 506.9c7.2 7.2 19.2 5.9 23.8-3.1C280.3 477.5 288 447.7 288 416c0-28.9-6.4-56.3-17.8-80.9l15.5-15.5L375 409c9.4 9.4 24.6 9.4 33.9 0l96-96c9.4-9.4 9.4-24.6 0-33.9l-89.4-89.4 55-55c12.5-12.5 12.5-32.8 0-45.3l-48-48c-12.5-12.5-32.8-12.5-45.3 0l-55 55L233 7zm159 351l-72.4-72.4 62.1-62.1L454.1 296 392 358.1zM226.3 192.4L153.9 120 216 57.9l72.4 72.4-62.1 62.1z"]},v={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2l0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5V176c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336V300.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4V304v5.7V336zm32 0V304 278.1c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5V272c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5V432c0 44.2-86 80-192 80S0 476.2 0 432V396.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},UT={prefix:"fas",iconName:"person-rifle",icon:[576,512,[],"e54e","M265.2 192c25.4 0 49.8 7.1 70.8 19.9V512H144V337.7L90.4 428.3c-11.2 19-35.8 25.3-54.8 14.1s-25.3-35.8-14.1-54.8L97.7 258.8c24.5-41.4 69-66.8 117.1-66.8h50.4zM160 80a80 80 0 1 1 160 0A80 80 0 1 1 160 80zM448 0c8.8 0 16 7.2 16 16V132.3c9.6 5.5 16 15.9 16 27.7V269.3l16-5.3V208c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v84.5c0 6.9-4.4 13-10.9 15.2L480 325.3V352h48c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H484l23 92.1c2.5 10.1-5.1 19.9-15.5 19.9H432c-8.8 0-16-7.2-16-16V400H400c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32V160c0-11.8 6.4-22.2 16-27.7V32c-8.8 0-16-7.2-16-16s7.2-16 16-16h16 16z"]},gS={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288H175.5L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7H272.5L349.4 44.6z"]},c7={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},wN={prefix:"fas",iconName:"tree-city",icon:[640,512,[],"e587","M288 48c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48V192h40V120c0-13.3 10.7-24 24-24s24 10.7 24 24v72h24c26.5 0 48 21.5 48 48V464c0 26.5-21.5 48-48 48H432 336c-26.5 0-48-21.5-48-48V48zm64 32v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm16 80c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V176c0-8.8-7.2-16-16-16H368zM352 272v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm176-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H528zM512 368v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H528c-8.8 0-16 7.2-16 16zM224 160c0 6-1 11-2 16c20 14 34 38 34 64c0 45-36 80-80 80H160V480c0 18-15 32-32 32c-18 0-32-14-32-32V320H80c-45 0-80-35-80-80c0-26 13-50 33-64c-1-5-1-10-1-16c0-53 42-96 96-96c53 0 96 43 96 96z"]},RN={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},_k={prefix:"fas",iconName:"carrot",icon:[512,512,[129365],"f787","M346.7 6C337.6 17 320 42.3 320 72c0 40 15.3 55.3 40 80s40 40 80 40c29.7 0 55-17.6 66-26.7c4-3.3 6-8.2 6-13.3s-2-10-6-13.2c-11.4-9.1-38.3-26.8-74-26.8c-32 0-40 8-40 8s8-8 8-40c0-35.7-17.7-62.6-26.8-74C370 2 365.1 0 360 0s-10 2-13.3 6zM244.6 136c-40 0-77.1 18.1-101.7 48.2l60.5 60.5c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0l-55.3-55.3 0 .1L2.2 477.9C-2 487-.1 497.8 7 505s17.9 9 27.1 4.8l134.7-62.4-52.1-52.1c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L199.7 433l100.2-46.4c46.4-21.5 76.2-68 76.2-119.2C376 194.8 317.2 136 244.6 136z"]},zS={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hv(t){return(Hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PS(t,e){return function Kee(t){if(Array.isArray(t))return t}(t)||function Qee(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var u,p,r=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(u=n.next()).done)&&(r.push(u.value),!e||r.length!==e);a=!0);}catch(y){c=!0,p=y}finally{try{!a&&null!=n.return&&n.return()}finally{if(c)throw p}}return r}}(t,e)||vP(t,e)||function Xee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h7(t){return function Zee(t){if(Array.isArray(t))return RS(t)}(t)||function Yee(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||vP(t)||function Jee(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vP(t,e){if(t){if("string"==typeof t)return RS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(t,e)}}function RS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yP=function(){},OS={},CP={},_P=null,MP={mark:yP,measure:yP};try{typeof window<"u"&&(OS=window),typeof document<"u"&&(CP=document),typeof MutationObserver<"u"&&(_P=MutationObserver),typeof performance<"u"&&(MP=performance)}catch{}var Iv,Ev,zv,Lv,xv,wP=(OS.navigator||{}).userAgent,bP=void 0===wP?"":wP,s4=OS,w2=CP,HP=_P,Sv=MP,ws=!!w2.documentElement&&!!w2.head&&"function"==typeof w2.addEventListener&&"function"==typeof w2.createElement,VP=~bP.indexOf("MSIE")||~bP.indexOf("Trident/"),bs="___FONT_AWESOME___",SP="fa",IP="svg-inline--fa",_o="data-fa-i2svg",BS="data-fa-pseudo-element",tte="data-fa-pseudo-element-pending",US="data-prefix",jS="data-icon",EP="fontawesome-i2svg",nte="async",rte=["HTML","HEAD","STYLE","SCRIPT"],zP=function(){try{return!0}catch{return!1}}(),b2="classic",F2="sharp",$S=[b2,F2];function p7(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[b2]}})}var m7=p7((y1(Iv={},b2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),y1(Iv,F2,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Iv)),g7=p7((y1(Ev={},b2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),y1(Ev,F2,{solid:"fass",regular:"fasr",light:"fasl"}),Ev)),v7=p7((y1(zv={},b2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),y1(zv,F2,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),zv)),ite=p7((y1(Lv={},b2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),y1(Lv,F2,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Lv)),ste=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,LP="fa-layers-text",ate=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ote=p7((y1(xv={},b2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),y1(xv,F2,{900:"fass",400:"fasr",300:"fasl"}),xv)),xP=[1,2,3,4,5,6,7,8,9,10],cte=xP.concat([11,12,13,14,15,16,17,18,19,20]),lte=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Mo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},y7=new Set;Object.keys(g7[b2]).map(y7.add.bind(y7)),Object.keys(g7[F2]).map(y7.add.bind(y7));var ute=[].concat($S,h7(y7),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Mo.GROUP,Mo.SWAP_OPACITY,Mo.PRIMARY,Mo.SECONDARY]).concat(xP.map(function(t){return"".concat(t,"x")})).concat(cte.map(function(t){return"w-".concat(t)})),C7=s4.FontAwesomeConfig||{};w2&&"function"==typeof w2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=PS(t,2),r=e[1],a=function dte(t){return""===t||"false"!==t&&("true"===t||t)}(function fte(t){var e=w2.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=a&&(C7[r]=a)});var DP={styleDefault:"solid",familyDefault:"classic",cssPrefix:SP,replacementClass:IP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};C7.familyPrefix&&(C7.cssPrefix=C7.familyPrefix);var b0=tt(tt({},DP),C7);b0.autoReplaceSvg||(b0.observeMutations=!1);var ct={};Object.keys(DP).forEach(function(t){Object.defineProperty(ct,t,{enumerable:!0,set:function(n){b0[t]=n,_7.forEach(function(r){return r(ct)})},get:function(){return b0[t]}})}),Object.defineProperty(ct,"familyPrefix",{enumerable:!0,set:function(e){b0.cssPrefix=e,_7.forEach(function(n){return n(ct)})},get:function(){return b0.cssPrefix}}),s4.FontAwesomeConfig=ct;var _7=[],wi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},gte="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function M7(){for(var t=12,e="";t-- >0;)e+=gte[62*Math.random()|0];return e}function H0(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function GS(t){return t.classList?H0(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function AP(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Dv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function qS(t){return t.size!==wi.size||t.x!==wi.x||t.y!==wi.y||t.rotate!==wi.rotate||t.flipX||t.flipY}var _te=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function TP(){var t=SP,e=IP,n=ct.cssPrefix,r=ct.replacementClass,a=_te;if(n!==t||r!==e){var c=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");a=a.replace(c,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(p,".".concat(r))}return a}var NP=!1;function WS(){ct.autoAddCss&&!NP&&(function mte(t){if(t&&ws){var e=w2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=w2.head.childNodes,r=null,a=n.length-1;a>-1;a--){var c=n[a],u=(c.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=c)}w2.head.insertBefore(e,r)}}(TP()),NP=!0)}var Mte={mixout:function(){return{dom:{css:TP,insertCss:WS}}},hooks:function(){return{beforeDOMElementCreation:function(){WS()},beforeI2svg:function(){WS()}}}},Hs=s4||{};Hs[bs]||(Hs[bs]={}),Hs[bs].styles||(Hs[bs].styles={}),Hs[bs].hooks||(Hs[bs].hooks={}),Hs[bs].shims||(Hs[bs].shims=[]);var Wr=Hs[bs],kP=[],Av=!1;function w7(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,a=t.children,c=void 0===a?[]:a;return"string"==typeof t?AP(t):"<".concat(e," ").concat(function vte(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(AP(t[n]),'" ')},"").trim()}(r),">").concat(c.map(w7).join(""),"</").concat(e,">")}function PP(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}ws&&((Av=(w2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(w2.readyState))||w2.addEventListener("DOMContentLoaded",function t(){w2.removeEventListener("DOMContentLoaded",t),Av=1,kP.map(function(e){return e()})}));var ZS=function(e,n,r,a){var y,b,H,c=Object.keys(e),u=c.length,p=void 0!==a?function(e,n){return function(r,a,c,u){return e.call(n,r,a,c,u)}}(n,a):n;for(void 0===r?(y=1,H=e[c[0]]):(y=0,H=r);y<u;y++)H=p(H,e[b=c[y]],b,e);return H};function KS(t){var e=function Vte(t){for(var e=[],n=0,r=t.length;n<r;){var a=t.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var c=t.charCodeAt(n++);56320==(64512&c)?e.push(((1023&a)<<10)+(1023&c)+65536):(e.push(a),n--)}else e.push(a)}return e}(t);return 1===e.length?e[0].toString(16):null}function RP(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function YS(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,a=void 0!==r&&r,c=RP(e);"function"!=typeof Wr.hooks.addPack||a?Wr.styles[t]=tt(tt({},Wr.styles[t]||{}),c):Wr.hooks.addPack(t,RP(e)),"fas"===t&&YS("fa",e)}var Tv,Nv,kv,V0=Wr.styles,Ite=Wr.shims,Ete=(y1(Tv={},b2,Object.values(v7[b2])),y1(Tv,F2,Object.values(v7[F2])),Tv),QS=null,OP={},FP={},BP={},UP={},jP={},zte=(y1(Nv={},b2,Object.keys(m7[b2])),y1(Nv,F2,Object.keys(m7[F2])),Nv);var $P=function(){var e=function(c){return ZS(V0,function(u,p,y){return u[y]=ZS(p,c,{}),u},{})};OP=e(function(a,c,u){return c[3]&&(a[c[3]]=u),c[2]&&c[2].filter(function(y){return"number"==typeof y}).forEach(function(y){a[y.toString(16)]=u}),a}),FP=e(function(a,c,u){return a[u]=u,c[2]&&c[2].filter(function(y){return"string"==typeof y}).forEach(function(y){a[y]=u}),a}),jP=e(function(a,c,u){var p=c[2];return a[u]=u,p.forEach(function(y){a[y]=u}),a});var n="far"in V0||ct.autoFetchSvg,r=ZS(Ite,function(a,c){var u=c[0],p=c[1],y=c[2];return"far"===p&&!n&&(p="fas"),"string"==typeof u&&(a.names[u]={prefix:p,iconName:y}),"number"==typeof u&&(a.unicodes[u.toString(16)]={prefix:p,iconName:y}),a},{names:{},unicodes:{}});BP=r.names,UP=r.unicodes,QS=Pv(ct.styleDefault,{family:ct.familyDefault})};function JS(t,e){return(OP[t]||{})[e]}function wo(t,e){return(jP[t]||{})[e]}function GP(t){return BP[t]||{prefix:null,iconName:null}}function o4(){return QS}(function pte(t){_7.push(t)})(function(t){QS=Pv(t.styleDefault,{family:ct.familyDefault})}),$P();var XS=function(){return{prefix:null,iconName:null,rest:[]}};function Pv(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?b2:n;return g7[r][t]||g7[r][m7[r][t]]||(t in Wr.styles?t:null)||null}var qP=(y1(kv={},b2,Object.keys(v7[b2])),y1(kv,F2,Object.keys(v7[F2])),kv);function Rv(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,a=void 0!==r&&r,c=(y1(e={},b2,"".concat(ct.cssPrefix,"-").concat(b2)),y1(e,F2,"".concat(ct.cssPrefix,"-").concat(F2)),e),u=null,p=b2;(t.includes(c[b2])||t.some(function(b){return qP[b2].includes(b)}))&&(p=b2),(t.includes(c[F2])||t.some(function(b){return qP[F2].includes(b)}))&&(p=F2);var y=t.reduce(function(b,H){var I=function xte(t,e){var n=e.split("-"),r=n[0],a=n.slice(1).join("-");return r!==t||""===a||function Lte(t){return~ute.indexOf(t)}(a)?null:a}(ct.cssPrefix,H);if(V0[H]?(H=Ete[p].includes(H)?ite[p][H]:H,u=H,b.prefix=H):zte[p].indexOf(H)>-1?(u=H,b.prefix=Pv(H,{family:p})):I?b.iconName=I:H!==ct.replacementClass&&H!==c[b2]&&H!==c[F2]&&b.rest.push(H),!a&&b.prefix&&b.iconName){var N="fa"===u?GP(b.iconName):{},U=wo(b.prefix,b.iconName);N.prefix&&(u=null),b.iconName=N.iconName||U||b.iconName,b.prefix=N.prefix||b.prefix,"far"===b.prefix&&!V0.far&&V0.fas&&!ct.autoFetchSvg&&(b.prefix="fas")}return b},XS());return(t.includes("fa-brands")||t.includes("fab"))&&(y.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(y.prefix="fad"),!y.prefix&&p===F2&&(V0.fass||ct.autoFetchSvg)&&(y.prefix="fass",y.iconName=wo(y.prefix,y.iconName)||y.iconName),("fa"===y.prefix||"fa"===u)&&(y.prefix=o4()||"fas"),y}var Tte=function(){function t(){(function Gee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function qee(t,e,n){e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];var u=a.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(p){n.definitions[p]=tt(tt({},n.definitions[p]||{}),u[p]),YS(p,u[p]);var y=v7[b2][p];y&&YS(y,u[p]),$P()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(function(c){var u=a[c],p=u.prefix,y=u.iconName,b=u.icon,H=b[2];n[p]||(n[p]={}),H.length>0&&H.forEach(function(I){"string"==typeof I&&(n[p][I]=b)}),n[p][y]=b}),n}}]),t}(),WP=[],S0={},I0={},Nte=Object.keys(I0);function eI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(S0[t]||[]).forEach(function(u){e=u.apply(null,[e].concat(r))}),e}function bo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(S0[t]||[]).forEach(function(c){c.apply(null,n)})}function Vs(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return I0[t]?I0[t].apply(null,e):void 0}function tI(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||o4();if(e)return e=wo(n,e)||e,PP(ZP.definitions,n,e)||PP(Wr.styles,n,e)}var ZP=new Tte,Rte={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ws?(bo("beforeI2svg",e),Vs("pseudoElements2svg",e),Vs("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===ct.autoReplaceSvg&&(ct.autoReplaceSvg=!0),ct.observeMutations=!0,function bte(t){ws&&(Av?setTimeout(t,0):kP.push(t))}(function(){Fte({autoReplaceSvgRoot:n}),bo("watch",e)})}},ir={noAuto:function(){ct.autoReplaceSvg=!1,ct.observeMutations=!1,bo("noAuto")},config:ct,dom:Rte,parse:{icon:function(e){if(null===e)return null;if("object"===Hv(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:wo(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Pv(e[0]);return{prefix:r,iconName:wo(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(ct.cssPrefix,"-"))>-1||e.match(ste))){var a=Rv(e.split(" "),{skipLookups:!0});return{prefix:a.prefix||o4(),iconName:wo(a.prefix,a.iconName)||a.iconName}}if("string"==typeof e){var c=o4();return{prefix:c,iconName:wo(c,e)||e}}}},library:ZP,findIconDefinition:tI,toHtml:w7},Fte=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?w2:n;(Object.keys(Wr.styles).length>0||ct.autoFetchSvg)&&ws&&ct.autoReplaceSvg&&ir.dom.i2svg({node:r})};function Ov(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return w7(r)})}}),Object.defineProperty(t,"node",{get:function(){if(ws){var r=w2.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function nI(t){var e=t.icons,n=e.main,r=e.mask,a=t.prefix,c=t.iconName,u=t.transform,p=t.symbol,y=t.title,b=t.maskId,H=t.titleId,I=t.extra,N=t.watchable,U=void 0!==N&&N,oe=r.found?r:n,Ce=oe.width,Me=oe.height,je="fak"===a,qe=[ct.replacementClass,c?"".concat(ct.cssPrefix,"-").concat(c):""].filter(function(ei){return-1===I.classes.indexOf(ei)}).filter(function(ei){return""!==ei||!!ei}).concat(I.classes).join(" "),Ze={children:[],attributes:tt(tt({},I.attributes),{},{"data-prefix":a,"data-icon":c,class:qe,role:I.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Ce," ").concat(Me)})},ot=je&&!~I.classes.indexOf("fa-fw")?{width:"".concat(Ce/Me*16*.0625,"em")}:{};U&&(Ze.attributes[_o]=""),y&&(Ze.children.push({tag:"title",attributes:{id:Ze.attributes["aria-labelledby"]||"title-".concat(H||M7())},children:[y]}),delete Ze.attributes.title);var dt=tt(tt({},Ze),{},{prefix:a,iconName:c,main:n,mask:r,maskId:b,transform:u,symbol:p,styles:tt(tt({},ot),I.styles)}),xt=r.found&&n.found?Vs("generateAbstractMask",dt)||{children:[],attributes:{}}:Vs("generateAbstractIcon",dt)||{children:[],attributes:{}},Xr=xt.attributes;return dt.children=xt.children,dt.attributes=Xr,p?function Ute(t){var n=t.iconName,r=t.children,a=t.attributes,c=t.symbol,u=!0===c?"".concat(t.prefix,"-").concat(ct.cssPrefix,"-").concat(n):c;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:tt(tt({},a),{},{id:u}),children:r}]}]}(dt):function Bte(t){var e=t.children,n=t.main,r=t.mask,a=t.attributes,c=t.styles,u=t.transform;if(qS(u)&&n.found&&!r.found){var b={x:n.width/n.height/2,y:.5};a.style=Dv(tt(tt({},c),{},{"transform-origin":"".concat(b.x+u.x/16,"em ").concat(b.y+u.y/16,"em")}))}return[{tag:"svg",attributes:a,children:e}]}(dt)}function KP(t){var e=t.content,n=t.width,r=t.height,a=t.transform,c=t.title,u=t.extra,p=t.watchable,y=void 0!==p&&p,b=tt(tt(tt({},u.attributes),c?{title:c}:{}),{},{class:u.classes.join(" ")});y&&(b[_o]="");var H=tt({},u.styles);qS(a)&&(H.transform=function Cte(t){var e=t.transform,n=t.width,a=t.height,c=void 0===a?16:a,u=t.startCentered,p=void 0!==u&&u,y="";return y+=p&&VP?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-c/2,"em) "):p?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(y+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:a,startCentered:!0,width:n,height:r}),H["-webkit-transform"]=H.transform);var I=Dv(H);I.length>0&&(b.style=I);var N=[];return N.push({tag:"span",attributes:b,children:[e]}),c&&N.push({tag:"span",attributes:{class:"sr-only"},children:[c]}),N}var rI=Wr.styles;function iI(t){var e=t[0],n=t[1],c=PS(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(c)?{tag:"g",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Mo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Mo.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Mo.PRIMARY),fill:"currentColor",d:c[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:c}}}}var $te={found:!1,width:512,height:512};function sI(t,e){var n=e;return"fa"===e&&null!==ct.styleDefault&&(e=o4()),new Promise(function(r,a){if(Vs("missingIconAbstract"),"fa"===n){var u=GP(t)||{};t=u.iconName||t,e=u.prefix||e}if(t&&e&&rI[e]&&rI[e][t])return r(iI(rI[e][t]));(function Gte(t,e){!zP&&!ct.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(tt(tt({},$te),{},{icon:ct.showMissingIcons&&t&&Vs("missingIconAbstract")||{}}))})}var YP=function(){},aI=ct.measurePerformance&&Sv&&Sv.mark&&Sv.measure?Sv:{mark:YP,measure:YP},b7='FA "6.4.2"',QP=function(e){aI.mark("".concat(b7," ").concat(e," ends")),aI.measure("".concat(b7," ").concat(e),"".concat(b7," ").concat(e," begins"),"".concat(b7," ").concat(e," ends"))},oI={begin:function(e){return aI.mark("".concat(b7," ").concat(e," begins")),function(){return QP(e)}},end:QP},Fv=function(){};function JP(t){return"string"==typeof(t.getAttribute?t.getAttribute(_o):null)}function Yte(t){return w2.createElementNS("http://www.w3.org/2000/svg",t)}function Qte(t){return w2.createElement(t)}function XP(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Yte:Qte:n;if("string"==typeof t)return w2.createTextNode(t);var a=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(u){a.setAttribute(u,t.attributes[u])}),(t.children||[]).forEach(function(u){a.appendChild(XP(u,{ceFn:r}))}),a}var Bv={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(a){n.parentNode.insertBefore(XP(a),n)}),null===n.getAttribute(_o)&&ct.keepOriginalSource){var r=w2.createComment(function Jte(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~GS(n).indexOf(ct.replacementClass))return Bv.replace(e);var a=new RegExp("".concat(ct.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var c=r[0].attributes.class.split(" ").reduce(function(p,y){return y===ct.replacementClass||y.match(a)?p.toSvg.push(y):p.toNode.push(y),p},{toNode:[],toSvg:[]});r[0].attributes.class=c.toSvg.join(" "),0===c.toNode.length?n.removeAttribute("class"):n.setAttribute("class",c.toNode.join(" "))}var u=r.map(function(p){return w7(p)}).join("\n");n.setAttribute(_o,""),n.innerHTML=u}};function eR(t){t()}function tR(t,e){var n="function"==typeof e?e:Fv;if(0===t.length)n();else{var r=eR;ct.mutateApproach===nte&&(r=s4.requestAnimationFrame||eR),r(function(){var a=function Kte(){return!0===ct.autoReplaceSvg?Bv.replace:Bv[ct.autoReplaceSvg]||Bv.replace}(),c=oI.begin("mutate");t.map(a),c(),n()})}}var cI=!1;function nR(){cI=!0}function lI(){cI=!1}var Uv=null;function rR(t){if(HP&&ct.observeMutations){var e=t.treeCallback,n=void 0===e?Fv:e,r=t.nodeCallback,a=void 0===r?Fv:r,c=t.pseudoElementsCallback,u=void 0===c?Fv:c,p=t.observeMutationsRoot,y=void 0===p?w2:p;Uv=new HP(function(b){if(!cI){var H=o4();H0(b).forEach(function(I){if("childList"===I.type&&I.addedNodes.length>0&&!JP(I.addedNodes[0])&&(ct.searchPseudoElements&&u(I.target),n(I.target)),"attributes"===I.type&&I.target.parentNode&&ct.searchPseudoElements&&u(I.target.parentNode),"attributes"===I.type&&JP(I.target)&&~lte.indexOf(I.attributeName))if("class"===I.attributeName&&function Wte(t){var e=t.getAttribute?t.getAttribute(US):null,n=t.getAttribute?t.getAttribute(jS):null;return e&&n}(I.target)){var N=Rv(GS(I.target)),oe=N.iconName;I.target.setAttribute(US,N.prefix||H),oe&&I.target.setAttribute(jS,oe)}else(function Zte(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ct.replacementClass)})(I.target)&&a(I.target)})}}),ws&&Uv.observe(y,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function iR(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function t2e(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",a=Rv(GS(t));return a.prefix||(a.prefix=o4()),e&&n&&(a.prefix=e,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function Dte(t,e){return(FP[t]||{})[e]}(a.prefix,t.innerText)||JS(a.prefix,KS(t.innerText))),!a.iconName&&ct.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=t.firstChild.data)),a}(t),r=n.iconName,a=n.prefix,c=n.rest,u=function n2e(t){var e=H0(t.attributes).reduce(function(a,c){return"class"!==a.name&&"style"!==a.name&&(a[c.name]=c.value),a},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ct.autoA11y&&(n?e["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(r||M7()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),p=eI("parseNodeAttributes",{},t),y=e.styleParser?function e2e(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,a){var c=a.split(":"),u=c[0],p=c.slice(1);return u&&p.length>0&&(r[u]=p.join(":").trim()),r},{})),n}(t):[];return tt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:a,transform:wi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:c,styles:y,attributes:u}},p)}var i2e=Wr.styles;function sR(t){var e="nest"===ct.autoReplaceSvg?iR(t,{styleParser:!1}):iR(t);return~e.extra.classes.indexOf(LP)?Vs("generateLayersText",t,e):Vs("generateSvgReplacementMutation",t,e)}var c4=new Set;function aR(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!ws)return Promise.resolve();var n=w2.documentElement.classList,r=function(I){return n.add("".concat(EP,"-").concat(I))},a=function(I){return n.remove("".concat(EP,"-").concat(I))},c=ct.autoFetchSvg?c4:$S.map(function(H){return"fa-".concat(H)}).concat(Object.keys(i2e));c.includes("fa")||c.push("fa");var u=[".".concat(LP,":not([").concat(_o,"])")].concat(c.map(function(H){return".".concat(H,":not([").concat(_o,"])")})).join(", ");if(0===u.length)return Promise.resolve();var p=[];try{p=H0(t.querySelectorAll(u))}catch{}if(!(p.length>0))return Promise.resolve();r("pending"),a("complete");var y=oI.begin("onTree"),b=p.reduce(function(H,I){try{var N=sR(I);N&&H.push(N)}catch(U){zP||"MissingIcon"===U.name&&console.error(U)}return H},[]);return new Promise(function(H,I){Promise.all(b).then(function(N){tR(N,function(){r("active"),r("complete"),a("pending"),"function"==typeof e&&e(),y(),H()})}).catch(function(N){y(),I(N)})})}function s2e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;sR(t).then(function(n){n&&tR([n],e)})}$S.map(function(t){c4.add("fa-".concat(t))}),Object.keys(m7[b2]).map(c4.add.bind(c4)),Object.keys(m7[F2]).map(c4.add.bind(c4)),c4=h7(c4);var o2e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,a=void 0===r?wi:r,c=n.symbol,u=void 0!==c&&c,p=n.mask,y=void 0===p?null:p,b=n.maskId,H=void 0===b?null:b,I=n.title,N=void 0===I?null:I,U=n.titleId,oe=void 0===U?null:U,Ce=n.classes,Me=void 0===Ce?[]:Ce,je=n.attributes,qe=void 0===je?{}:je,Ze=n.styles,ot=void 0===Ze?{}:Ze;if(e){var dt=e.prefix,xt=e.iconName,D2=e.icon;return Ov(tt({type:"icon"},e),function(){return bo("beforeDOMElementCreation",{iconDefinition:e,params:n}),ct.autoA11y&&(N?qe["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(oe||M7()):(qe["aria-hidden"]="true",qe.focusable="false")),nI({icons:{main:iI(D2),mask:y?iI(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:dt,iconName:xt,transform:tt(tt({},wi),a),symbol:u,title:N,maskId:H,titleId:oe,extra:{attributes:qe,styles:ot,classes:Me}})})}},c2e={mixout:function(){return{icon:(t=o2e,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:tI(e||{}),a=n.mask;return a&&(a=(a||{}).icon?a:tI(a||{})),t(r,tt(tt({},n),{},{mask:a}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=aR,n.nodeCallback=s2e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,c=n.callback;return aR(void 0===r?w2:r,void 0===c?function(){}:c)},e.generateSvgReplacementMutation=function(n,r){var a=r.iconName,c=r.title,u=r.titleId,p=r.prefix,y=r.transform,b=r.symbol,H=r.mask,I=r.maskId,N=r.extra;return new Promise(function(U,oe){Promise.all([sI(a,p),H.iconName?sI(H.iconName,H.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Ce){var Me=PS(Ce,2);U([n,nI({icons:{main:Me[0],mask:Me[1]},prefix:p,iconName:a,transform:y,symbol:b,maskId:I,title:c,titleId:u,extra:N,watchable:!0})])}).catch(oe)})},e.generateAbstractIcon=function(n){var b,r=n.children,a=n.attributes,c=n.main,u=n.transform,y=Dv(n.styles);return y.length>0&&(a.style=y),qS(u)&&(b=Vs("generateAbstractTransformGrouping",{main:c,transform:u,containerWidth:c.width,iconWidth:c.width})),r.push(b||c.icon),{children:r,attributes:a}}}},l2e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.classes,c=void 0===a?[]:a;return Ov({type:"layer"},function(){bo("beforeDOMElementCreation",{assembler:n,params:r});var u=[];return n(function(p){Array.isArray(p)?p.map(function(y){u=u.concat(y.abstract)}):u=u.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(ct.cssPrefix,"-layers")].concat(h7(c)).join(" ")},children:u}]})}}}},u2e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.title,c=void 0===a?null:a,u=r.classes,p=void 0===u?[]:u,y=r.attributes,b=void 0===y?{}:y,H=r.styles,I=void 0===H?{}:H;return Ov({type:"counter",content:n},function(){return bo("beforeDOMElementCreation",{content:n,params:r}),function jte(t){var e=t.content,n=t.title,r=t.extra,a=tt(tt(tt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),c=Dv(r.styles);c.length>0&&(a.style=c);var u=[];return u.push({tag:"span",attributes:a,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}({content:n.toString(),title:c,extra:{attributes:b,styles:I,classes:["".concat(ct.cssPrefix,"-layers-counter")].concat(h7(p))}})})}}}},f2e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.transform,c=void 0===a?wi:a,u=r.title,p=void 0===u?null:u,y=r.classes,b=void 0===y?[]:y,H=r.attributes,I=void 0===H?{}:H,N=r.styles,U=void 0===N?{}:N;return Ov({type:"text",content:n},function(){return bo("beforeDOMElementCreation",{content:n,params:r}),KP({content:n,transform:tt(tt({},wi),c),title:p,extra:{attributes:I,styles:U,classes:["".concat(ct.cssPrefix,"-layers-text")].concat(h7(b))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var a=r.title,c=r.transform,u=r.extra,p=null,y=null;if(VP){var b=parseInt(getComputedStyle(n).fontSize,10),H=n.getBoundingClientRect();p=H.width/b,y=H.height/b}return ct.autoA11y&&!a&&(u.attributes["aria-hidden"]="true"),Promise.resolve([n,KP({content:n.innerHTML,width:p,height:y,transform:c,title:a,extra:u,watchable:!0})])}}},d2e=new RegExp('"',"ug"),oR=[1105920,1112319];function cR(t,e){var n="".concat(tte).concat(e.replace(":","-"));return new Promise(function(r,a){if(null!==t.getAttribute(n))return r();var u=H0(t.children).filter(function(D2){return D2.getAttribute(BS)===e})[0],p=s4.getComputedStyle(t,e),y=p.getPropertyValue("font-family").match(ate),b=p.getPropertyValue("font-weight"),H=p.getPropertyValue("content");if(u&&!y)return t.removeChild(u),r();if(y&&"none"!==H&&""!==H){var I=p.getPropertyValue("content"),N=~["Sharp"].indexOf(y[2])?F2:b2,U=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(y[2])?g7[N][y[2].toLowerCase()]:ote[N][b],oe=function h2e(t){var e=t.replace(d2e,""),n=function Ste(t,e){var a,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(a=t.charCodeAt(e+1))>=56320&&a<=57343?1024*(r-55296)+a-56320+65536:r}(e,0),r=n>=oR[0]&&n<=oR[1],a=2===e.length&&e[0]===e[1];return{value:KS(a?e[0]:e),isSecondary:r||a}}(I),Ce=oe.value,Me=oe.isSecondary,je=y[0].startsWith("FontAwesome"),qe=JS(U,Ce),Ze=qe;if(je){var ot=function Ate(t){var e=UP[t],n=JS("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(Ce);ot.iconName&&ot.prefix&&(qe=ot.iconName,U=ot.prefix)}if(!qe||Me||u&&u.getAttribute(US)===U&&u.getAttribute(jS)===Ze)r();else{t.setAttribute(n,Ze),u&&t.removeChild(u);var dt=function r2e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:wi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),xt=dt.extra;xt.attributes[BS]=e,sI(qe,U).then(function(D2){var Xr=nI(tt(tt({},dt),{},{icons:{main:D2,mask:XS()},prefix:U,iconName:Ze,extra:xt,watchable:!0})),ei=w2.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(ei,t.firstChild):t.appendChild(ei),ei.outerHTML=Xr.map(function(a0e){return w7(a0e)}).join("\n"),t.removeAttribute(n),r()}).catch(a)}}else r()})}function p2e(t){return Promise.all([cR(t,"::before"),cR(t,"::after")])}function m2e(t){return!(t.parentNode===document.head||~rte.indexOf(t.tagName.toUpperCase())||t.getAttribute(BS)||t.parentNode&&"svg"===t.parentNode.tagName)}function lR(t){if(ws)return new Promise(function(e,n){var r=H0(t.querySelectorAll("*")).filter(m2e).map(p2e),a=oI.begin("searchPseudoElements");nR(),Promise.all(r).then(function(){a(),lI(),e()}).catch(function(){a(),lI(),n()})})}var uR=!1,fR=function(e){return e.toLowerCase().split(" ").reduce(function(r,a){var c=a.toLowerCase().split("-"),u=c[0],p=c.slice(1).join("-");if(u&&"h"===p)return r.flipX=!0,r;if(u&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(u){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},uI={x:0,y:0,width:"100%",height:"100%"};function dR(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}var _2e={hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-mask"),c=a?Rv(a.split(" ").map(function(u){return u.trim()})):XS();return c.prefix||(c.prefix=o4()),n.mask=c,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var t,r=n.children,a=n.attributes,c=n.main,u=n.mask,p=n.maskId,H=c.icon,N=u.icon,U=function yte(t){var e=t.transform,r=t.iconWidth,a={transform:"translate(".concat(t.containerWidth/2," 256)")},c="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(c," ").concat(u," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:u.width,iconWidth:c.width}),oe={tag:"rect",attributes:tt(tt({},uI),{},{fill:"white"})},Ce=H.children?{children:H.children.map(dR)}:{},Me={tag:"g",attributes:tt({},U.inner),children:[dR(tt({tag:H.tag,attributes:tt(tt({},H.attributes),U.path)},Ce))]},je={tag:"g",attributes:tt({},U.outer),children:[Me]},qe="mask-".concat(p||M7()),Ze="clip-".concat(p||M7()),ot={tag:"mask",attributes:tt(tt({},uI),{},{id:qe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[oe,je]},dt={tag:"defs",children:[{tag:"clipPath",attributes:{id:Ze},children:(t=N,"g"===t.tag?t.children:[t])},ot]};return r.push(dt,{tag:"rect",attributes:tt({fill:"currentColor","clip-path":"url(#".concat(Ze,")"),mask:"url(#".concat(qe,")")},uI)}),{children:r,attributes:a}}}};!function kte(t,e){var n=e.mixoutsTo;WP=t,S0={},Object.keys(I0).forEach(function(r){-1===Nte.indexOf(r)&&delete I0[r]}),WP.forEach(function(r){var a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(function(u){"function"==typeof a[u]&&(n[u]=a[u]),"object"===Hv(a[u])&&Object.keys(a[u]).forEach(function(p){n[u]||(n[u]={}),n[u][p]=a[u][p]})}),r.hooks){var c=r.hooks();Object.keys(c).forEach(function(u){S0[u]||(S0[u]=[]),S0[u].push(c[u])})}r.provides&&r.provides(I0)})}([Mte,c2e,l2e,u2e,f2e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=lR,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;ct.searchPseudoElements&&lR(void 0===r?w2:r)}}},{mixout:function(){return{dom:{unwatch:function(){nR(),uR=!0}}}},hooks:function(){return{bootstrap:function(){rR(eI("mutationObserverCallbacks",{}))},noAuto:function(){!function Xte(){Uv&&Uv.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;uR?lI():rR(eI("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return fR(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-transform");return a&&(n.transform=fR(a)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,a=n.transform,u=n.iconWidth,p={transform:"translate(".concat(n.containerWidth/2," 256)")},y="translate(".concat(32*a.x,", ").concat(32*a.y,") "),b="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),H="rotate(".concat(a.rotate," 0 0)"),U={outer:p,inner:{transform:"".concat(y," ").concat(b," ").concat(H)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:tt({},U.outer),children:[{tag:"g",attributes:tt({},U.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:tt(tt({},r.icon.attributes),U.path)}]}]}}}},_2e,{provides:function(e){var n=!1;s4.matchMedia&&(n=s4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],a={fill:"currentColor"},c={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:tt(tt({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=tt(tt({},c),{},{attributeName:"opacity"}),p={tag:"circle",attributes:tt(tt({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||p.children.push({tag:"animate",attributes:tt(tt({},c),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:tt(tt({},u),{},{values:"1;0;1;1;0;1;"})}),r.push(p),r.push({tag:"path",attributes:tt(tt({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:tt(tt({},u),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:tt(tt({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:tt(tt({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-symbol");return n.symbol=null!==a&&(""===a||a),n}}}}],{mixoutsTo:ir});var H2e=ir.parse,V2e=ir.icon;const S2e=["*"],z2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let D2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),fI=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const a of r){a.prefix in this.definitions||(this.definitions[a.prefix]={}),this.definitions[a.prefix][a.iconName]=a;for(const c of a.icon[2])"string"==typeof c&&(this.definitions[a.prefix][c]=a)}}addIconPacks(...r){for(const a of r){const c=Object.keys(a).map(u=>a[u]);this.addIcons(...c)}}getIconDefinition(r,a){return r in this.definitions&&a in this.definitions[r]?this.definitions[r][a]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),A2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=m.lG2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[m.TTD]}),e})(),T2e=(()=>{var t;class e{constructor(r,a){this.renderer=r,this.elementRef=a}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.Qsj),m.Y36(m.SBq))},t.\u0275cmp=m.Xpm({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[m.TTD],ngContentSelectors:S2e,decls:1,vars:0,template:function(r,a){1&r&&(m.F$t(),m.Hsn(0))},encapsulation:2}),e})(),hR=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,a,c,u,p){this.sanitizer=r,this.config=a,this.iconLibrary=c,this.stackItem=u,this.classes=[],null!=p&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const c=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=c){const u=this.buildParams();this.renderIcon(c,u)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const a=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in a?a:this.iconLibrary.getIconDefinition(a.prefix,a.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(a),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},a="string"==typeof this.transform?H2e.transform(this.transform):this.transform;return{title:this.title,transform:a,classes:[...z2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,a){const c=V2e(r,a);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(c.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(oa),m.Y36(D2e),m.Y36(fI),m.Y36(A2e,8),m.Y36(T2e,8))},t.\u0275cmp=m.Xpm({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,a){2&r&&(m.Ikx("innerHTML",a.renderedIconHTML,m.oJD),m.uIk("title",a.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[m.TTD],decls:0,vars:0,template:function(r,a){},encapsulation:2}),e})(),pR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({}),e})(),N2e=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=m.lG2({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,a){2&r&&m.ekj("active",a.isActive)},inputs:{tabName:"tabName"}}),e})();const Ho=function(){return{color:"#eee"}},k2e=function(){return["fas","house-chimney"]},P2e=function(){return["fas","earth-americas"]},R2e=function(){return["fas","satellite-dish"]},O2e=function(){return["fas","jet-fighter-up"]},F2e=function(){return["fas","chess-board"]},B2e=function(){return["fas","flask-vial"]},U2e=function(){return["fas","hand-fist"]};let j2e=(()=>{var t;class e{constructor(r){this.renderer=(0,m.f3M)(m.Qsj),r.addIcons(E5,c7,C5,RN,Mh,B8,zS)}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(fI))},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-navbar"]],decls:37,vars:42,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["href","/fleets",1,"dgt-navbar-tab-link"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"]],template:function(r,a){1&r&&(m.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),m._UZ(4,"fa-icon",4),m.TgZ(5,"span",5),m._uU(6,"home"),m.qZA()()(),m.TgZ(7,"li",2)(8,"a",6),m._UZ(9,"fa-icon",4),m.TgZ(10,"span",5),m._uU(11,"planets"),m.qZA()()(),m.TgZ(12,"li",2)(13,"a",7),m._UZ(14,"fa-icon",4),m.TgZ(15,"span",5),m._uU(16,"radar"),m.qZA()()(),m.TgZ(17,"li",2)(18,"a",8),m._UZ(19,"fa-icon",4),m.TgZ(20,"span",5),m._uU(21,"fleets"),m.qZA()()(),m.TgZ(22,"li",2)(23,"a",9),m._UZ(24,"fa-icon",4),m.TgZ(25,"span",5),m._uU(26,"navigation"),m.qZA()()(),m.TgZ(27,"li",2)(28,"a",10),m._UZ(29,"fa-icon",4),m.TgZ(30,"span",5),m._uU(31,"research"),m.qZA()()(),m.TgZ(32,"li",2)(33,"a",11),m._UZ(34,"fa-icon",4),m.TgZ(35,"span",5),m._uU(36,"alliances"),m.qZA()()()()()),2&r&&(m.xp6(2),m.Q6J("tabName","home"),m.xp6(2),m.Akn(m.DdM(28,Ho)),m.Q6J("icon",m.DdM(29,k2e)),m.xp6(3),m.Q6J("tabName","planets"),m.xp6(2),m.Akn(m.DdM(30,Ho)),m.Q6J("icon",m.DdM(31,P2e)),m.xp6(3),m.Q6J("tabName","radar"),m.xp6(2),m.Akn(m.DdM(32,Ho)),m.Q6J("icon",m.DdM(33,R2e)),m.xp6(3),m.Q6J("tabName","fleets"),m.xp6(2),m.Akn(m.DdM(34,Ho)),m.Q6J("icon",m.DdM(35,O2e)),m.xp6(3),m.Q6J("tabName","navigation"),m.xp6(2),m.Akn(m.DdM(36,Ho)),m.Q6J("icon",m.DdM(37,F2e)),m.xp6(3),m.Q6J("tabName","research"),m.xp6(2),m.Akn(m.DdM(38,Ho)),m.Q6J("icon",m.DdM(39,B2e)),m.xp6(3),m.Q6J("tabName","alliances"),m.xp6(2),m.Akn(m.DdM(40,Ho)),m.Q6J("icon",m.DdM(41,U2e)))},dependencies:[hR,N2e],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})(),$2e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[j2e]}),t.\u0275inj=m.cJS({imports:[vr,pR]}),e})();class dI{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class mR{constructor(){this._orbit=0,this._ground=0,this._workers=new dI,this._soldiers=new dI,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class hI{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let G2e=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(we)}extract(){let r=[];return this.document.querySelectorAll("#planetList > #planetList").forEach(a=>{let c=new mR,u=a.querySelectorAll(".resourceLine .left > span"),p=[];u.forEach(b=>{let H=b.textContent.split(/\s+/),I=new hI;I.name=b.parentElement.className.split(/\s+/)[2],I.stored=parseInt(H[0].replace(/,/g,"")),I.production=parseInt(H[1].substring(1,H[1].length-1).replace(/,/g,"")),I.abundance=parseInt(H[2].replace(/,/g,"")),p.push(I)}),c.resources=p;let y=a.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];c.workers.available=parseInt(y.substring(1,y.length).replace(/,/g,"")),c.workers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),c.workers.maximumNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),c.soldiers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),c.name=a.querySelectorAll(".planetName > a")[0].innerHTML,c.location=a.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),c.orbit=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),c.ground=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(c)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class gR{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new dI,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var an=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(an||{});class q2e{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class W2e{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var on=function(t){return t.UNKNOWN="unknown",t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SPACE_TETHER="space tether",t}(on||{});class Z2e{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let K2e=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(we)}extract(){if(this.document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let c,r=new gR,a=this.document.querySelectorAll("#contentBox #planetHeader")[1];switch(a.querySelectorAll(".planetHeadSection .resource > span").length){case 5:c=an.SURFACE;break;case 2:c=an.RESOURCE;break;case 0:c=an.FLEET;break;default:c=an.UNKNOWN}let u=new q2e(r,c);if(c!==an.UNKNOWN){u.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let p=a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";u.planetScan.owner=new Z2e(a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),p.substring(1,p.length-1))}if((c===an.RESOURCE||c===an.SURFACE)&&(u.planetScan.orbit=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),u.planetScan.ground=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),u.planetScan.location=a.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),c===an.RESOURCE&&(a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(p=>{let y=new hI;y.name=p.textContent.trim().toLowerCase(),u.planetScan.resources.push(y)}),a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((p,y)=>{u.planetScan.resources[y].abundance=parseInt(p.textContent.trim())})),c===an.SURFACE){a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(y=>{let b=new hI;b.name=y.textContent.trim().toLowerCase(),u.planetScan.resources.push(b)}),a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((y,b)=>{u.planetScan.resources[b].stored=parseInt(y.textContent.trim().replace(/,/g,""))}),a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((y,b)=>{u.planetScan.resources[b].abundance=parseInt(y.textContent.trim())});let p=a.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];u.planetScan.workers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),u.planetScan.workers.maximumNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),u.planetScan.workers.available=parseInt(p.substring(1,p.length).replace(/,/g,"")),u.planetScan.soldiers=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),a.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(y=>{u.planetScan.structures.push(new W2e(y.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(y.textContent.split(/x\s+/)[0].trim())))}),u.planetScan.structures.forEach(y=>{switch(y.name){case on.OUTPOST:u.planetScan.resources[0].production+=300,u.planetScan.resources[1].production+=200,u.planetScan.resources[2].production+=100;break;case on.METAL_MINE:u.planetScan.resources[0].production+=300*y.quantity;break;case on.MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=200*y.quantity;break;case on.FARM:u.planetScan.resources[2].production+=300*y.quantity;break;case on.SOLAR_GENERATOR:u.planetScan.resources[3].production+=100*y.quantity;break;case on.CORE_METAL_MINE:u.planetScan.resources[0].production+=900*y.quantity;break;case on.CORE_MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=600*y.quantity;break;case on.HYDROPONICS_LAB:u.planetScan.resources[2].production+=900*y.quantity;break;case on.SOLAR_ARRAY:u.planetScan.resources[3].production+=300*y.quantity;break;case on.STRIP_METAL_MINE:u.planetScan.resources[0].production+=9e3*y.quantity;break;case on.STRIP_MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=6e3*y.quantity;break;case on.HYDROPONICS_DOME:u.planetScan.resources[2].production+=9e3*y.quantity;break;case on.SOLAR_STATION:u.planetScan.resources[3].production+=3e3*y.quantity}})}return u.planetScan.resources.forEach(p=>{p.production=Math.ceil(p.production*p.abundance/100)}),u}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Y2e=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(we)}extract(){let r=[];return this.document.querySelectorAll("div.navigation div.planets").forEach(a=>{let c=new mR;c.location=a.querySelector(".coords>span").textContent.trim().split(/\./),r.push(c)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),E0=(()=>{var t;class e{constructor(){this.planetListExtractor=(0,m.f3M)(G2e),this.planetScanExtractor=(0,m.f3M)(K2e),this.navigationSystemPlanetsExtractor=(0,m.f3M)(Y2e)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class Q2e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class J2e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class vR{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class yR{constructor(){this._resources=new J2e,this._workers=new vR,this._soldiers=new vR}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var C1=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(C1||{});let CR=(()=>{var t;class e{constructor(){this.dgAPI=(0,m.f3M)(E0)}extractStats(){let r=new Q2e;return r.stats.set(C1.ALL,new yR),this.dgAPI.planetsSummaries().forEach(a=>{r.stats.has(a.location[0])||r.stats.set(a.location[0],new yR),r.stats.get(C1.ALL).workers.total+=a.workers.currentNumber,r.stats.get(a.location[0]).workers.total+=a.workers.currentNumber,r.stats.get(C1.ALL).workers.maximum+=a.workers.maximumNumber,r.stats.get(a.location[0]).workers.maximum+=a.workers.maximumNumber,r.stats.get(C1.ALL).soldiers.total+=a.soldiers.currentNumber,r.stats.get(a.location[0]).soldiers.total+=a.soldiers.currentNumber,r.stats.get(C1.ALL).resources.ground+=a.ground,r.stats.get(a.location[0]).resources.ground+=a.ground,r.stats.get(C1.ALL).resources.orbit+=a.orbit,r.stats.get(a.location[0]).resources.orbit+=a.orbit,a.resources.forEach(c=>{switch(c.name){case C1.METAL:r.stats.get(C1.ALL).resources.metalStored+=c.stored,r.stats.get(C1.ALL).resources.metalProduction+=c.production,r.stats.get(a.location[0]).resources.metalStored+=c.stored,r.stats.get(a.location[0]).resources.metalProduction+=c.production;break;case C1.MINERAL:r.stats.get(C1.ALL).resources.mineralStored+=c.stored,r.stats.get(C1.ALL).resources.mineralProduction+=c.production,r.stats.get(a.location[0]).resources.mineralStored+=c.stored,r.stats.get(a.location[0]).resources.mineralProduction+=c.production;break;case C1.FOOD:r.stats.get(C1.ALL).resources.foodStored+=c.stored,r.stats.get(C1.ALL).resources.foodProduction+=c.production,r.stats.get(a.location[0]).resources.foodStored+=c.stored,r.stats.get(a.location[0]).resources.foodProduction+=c.production;break;case C1.ENERGY:r.stats.get(C1.ALL).resources.energyStored+=c.stored,r.stats.get(C1.ALL).resources.energyProduction+=c.production,r.stats.get(a.location[0]).resources.energyStored+=c.stored,r.stats.get(a.location[0]).resources.energyProduction+=c.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),X2e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=m.Yjl({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),pI=(()=>{var t;class e{constructor(){this.decimalPipe=(0,m.f3M)(Te)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=m.Yjl({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const e1e=function(t){return{"dgt-stats-totals-last-row":t}},Hr=function(t){return{"dgt-padding-bottom-xs":t}},t1e=function(){return{color:"#ccc"}},n1e=function(){return["fas","coins"]},r1e=function(){return{color:"#ff8484"}},i1e=function(){return["fas","cubes-stacked"]},s1e=function(){return{color:"#7bbd1a"}},a1e=function(){return["fas","carrot"]},o1e=function(){return{color:"#0ca1e1"}},c1e=function(){return["fas","bolt"]},_R=function(){return{color:"#fff"}},l1e=function(){return["fas","tree-city"]},u1e=function(){return["fas","satellite"]},f1e=function(){return{color:"#DF4A4AFF"}},d1e=function(){return["fas","person-rifle"]};function h1e(t,e){if(1&t&&(m.TgZ(0,"tr",4)(1,"th",5),m._uU(2),m.ALo(3,"galaxyNameFormatter"),m.qZA(),m.TgZ(4,"td",6)(5,"div",7),m._UZ(6,"fa-icon",8),m.TgZ(7,"span",9),m._uU(8),m.ALo(9,"number"),m.qZA()()(),m.TgZ(10,"td",10)(11,"div",7)(12,"span",9),m._uU(13),m.ALo(14,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(15,"td",11)(16,"div",12),m._UZ(17,"fa-icon",8),m.TgZ(18,"span",9),m._uU(19),m.ALo(20,"number"),m.qZA()()(),m.TgZ(21,"td",10)(22,"div",12)(23,"span",9),m._uU(24),m.ALo(25,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(26,"td",11)(27,"div",13),m._UZ(28,"fa-icon",8),m.TgZ(29,"span",9),m._uU(30),m.ALo(31,"number"),m.qZA()()(),m.TgZ(32,"td",10)(33,"div",13)(34,"span",9),m._uU(35),m.ALo(36,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(37,"td",11)(38,"div",14),m._UZ(39,"fa-icon",8),m.TgZ(40,"span",9),m._uU(41),m.ALo(42,"number"),m.qZA()()(),m.TgZ(43,"td",15)(44,"div",14)(45,"span",9),m._uU(46),m.ALo(47,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(48,"td",16)(49,"div",17),m._UZ(50,"fa-icon",8),m.TgZ(51,"span",9),m._uU(52),m.ALo(53,"number"),m.qZA()()(),m.TgZ(54,"td",18)(55,"div",19),m._UZ(56,"fa-icon",8),m.TgZ(57,"span",9),m._uU(58),m.ALo(59,"number"),m.qZA()()(),m.TgZ(60,"td",20)(61,"div",21),m._UZ(62,"fa-icon",8),m.TgZ(63,"span",9),m._uU(64),m.ALo(65,"number"),m.qZA()()()()),2&t){const n=e.$implicit,r=e.index,a=m.oxw();m.Q6J("ngClass",m.VKq(84,e1e,r==a.panel.stats.size-1)),m.xp6(1),m.Q6J("ngClass",m.VKq(86,Hr,r==a.panel.stats.size-2)),m.xp6(1),m.Oqu(m.lcZ(3,46,n.key)),m.xp6(2),m.Q6J("ngClass",m.VKq(88,Hr,r==a.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(90,t1e)),m.Q6J("icon",m.DdM(91,n1e)),m.xp6(2),m.Oqu(m.Dn7(9,48,n.value.resources.metalStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(92,Hr,r==a.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(14,52,n.value.resources.metalProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(94,Hr,r==a.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(96,r1e)),m.Q6J("icon",m.DdM(97,i1e)),m.xp6(2),m.Oqu(m.Dn7(20,54,n.value.resources.mineralStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(98,Hr,r==a.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(25,58,n.value.resources.mineralProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(100,Hr,r==a.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(102,s1e)),m.Q6J("icon",m.DdM(103,a1e)),m.xp6(2),m.Oqu(m.Dn7(31,60,n.value.resources.foodStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(104,Hr,r==a.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(36,64,n.value.resources.foodProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(106,Hr,r==a.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(108,o1e)),m.Q6J("icon",m.DdM(109,c1e)),m.xp6(2),m.Oqu(m.Dn7(42,66,n.value.resources.energyStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(110,Hr,r==a.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(47,70,n.value.resources.energyProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(112,Hr,r==a.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(114,_R)),m.Q6J("icon",m.DdM(115,l1e)),m.xp6(2),m.Oqu(m.Dn7(53,72,n.value.resources.ground,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(116,Hr,r==a.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(118,_R)),m.Q6J("icon",m.DdM(119,u1e)),m.xp6(2),m.Oqu(m.Dn7(59,76,n.value.resources.orbit,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(120,Hr,r==a.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(122,f1e)),m.Q6J("icon",m.DdM(123,d1e)),m.xp6(2),m.Oqu(m.Dn7(65,80,n.value.soldiers.total,"1.0","en-US"))}}let p1e=(()=>{var t;class e{constructor(r){this.statsPanelService=(0,m.f3M)(CR),r.addIcons(X3,_k,v,gS,wV,wN,UT)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(fI))},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],[3,"icon"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],[1,"dgt-resource","resource","food"],[1,"dgt-resource","resource","energy"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"]],template:function(r,a){1&r&&(m.TgZ(0,"div",0)(1,"div",1)(2,"table",2),m.YNc(3,h1e,66,124,"tr",3),m.ALo(4,"keyvalue"),m.qZA()()()),2&r&&(m.xp6(3),m.Q6J("ngForOf",m.lcZ(4,1,a.panel.stats)))},dependencies:[Ti,N4,hR,Te,Zs,X2e,pI],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:20px!important;padding:0}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:20px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}"]}),e})(),m1e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[p1e]}),t.\u0275inj=m.cJS({providers:[Te,CR,E0],imports:[vr,pR]}),e})();var g1e=k(7394);class v1e extends g1e.w0{constructor(e,n){super()}schedule(e,n=0){return this}}const jv={setInterval(t,e,...n){const{delegate:r}=jv;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=jv;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var y1e=k(9039);class MR extends v1e{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const a=this.id,c=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(c,a,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,n),this}requestAsyncId(e,n,r=0){return jv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&jv.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let a,r=!1;try{this.work(e)}catch(c){r=!0,a=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y1e.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const mI={now:()=>(mI.delegate||Date).now(),delegate:void 0};class H7{constructor(e,n=H7.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}H7.now=mI.now;class wR extends H7{constructor(e,n=H7.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const bR=new wR(MR);var Vo=k(3018),So=k(2459),z0=k(2096),Tt=k(534);(0,Tt.registerVersion)("firebase","9.23.0","app");var G=k(5861),rt=k(9058),Zr=k(4537),Kr=k(7879);const M1e=(t,e)=>e.some(n=>t instanceof n);let HR,VR;const SR=new WeakMap,gI=new WeakMap,IR=new WeakMap,vI=new WeakMap,yI=new WeakMap;let CI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return gI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||IR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return l4(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function E1e(t){return"function"==typeof t?function I1e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function b1e(){return VR||(VR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(_I(this),e),l4(SR.get(this))}:function(...e){return l4(t.apply(_I(this),e))}:function(e,...n){const r=t.call(_I(this),e,...n);return IR.set(r,e.sort?e.sort():[e]),l4(r)}}(t):(t instanceof IDBTransaction&&function V1e(t){if(gI.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});gI.set(t,e)}(t),M1e(t,function w1e(){return HR||(HR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,CI):t)}function l4(t){if(t instanceof IDBRequest)return function H1e(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(l4(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&SR.set(n,t)}).catch(()=>{}),yI.set(e,t),e}(t);if(vI.has(t))return vI.get(t);const e=E1e(t);return e!==t&&(vI.set(t,e),yI.set(e,t)),e}const _I=t=>yI.get(t),L1e=["get","getKey","getAll","getAllKeys","count"],x1e=["put","add","delete","clear"],MI=new Map;function ER(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(MI.get(e))return MI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=x1e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!L1e.includes(n))return;const c=function(){var u=(0,G.Z)(function*(p,...y){const b=this.transaction(p,a?"readwrite":"readonly");let H=b.store;return r&&(H=H.index(y.shift())),(yield Promise.all([H[n](...y),a&&b.done]))[0]});return function(y){return u.apply(this,arguments)}}();return MI.set(e,c),c}!function S1e(t){CI=t(CI)}(t=>({...t,get:(e,n,r)=>ER(e,n)||t.get(e,n,r),has:(e,n)=>!!ER(e,n)||t.has(e,n)}));const zR="@firebase/installations",wI="0.6.4",LR=1e4,xR=`w:${wI}`,DR="FIS_v2",D1e="https://firebaseinstallations.googleapis.com/v1",A1e=36e5,Ss=new rt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function AR(t){return t instanceof rt.ZR&&t.code.includes("request-failed")}function bI({projectId:t}){return`${D1e}/projects/${t}/installations`}function TR(t){return{token:t.token,requestStatus:2,expiresIn:P1e(t.expiresIn),creationTime:Date.now()}}function HI(t,e){return VI.apply(this,arguments)}function VI(){return(VI=(0,G.Z)(function*(t,e){const r=(yield e.json()).error;return Ss.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function NR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SI(t){return II.apply(this,arguments)}function II(){return(II=(0,G.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function P1e(t){return Number(t.replace("s","000"))}function EI(){return(EI=(0,G.Z)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bI(t),a=NR(t),c=e.getImmediate({optional:!0});if(c){const b=yield c.getHeartbeatsHeader();b&&a.append("x-firebase-client",b)}const p={method:"POST",headers:a,body:JSON.stringify({fid:n,authVersion:DR,appId:t.appId,sdkVersion:xR})},y=yield SI(()=>fetch(r,p));if(y.ok){const b=yield y.json();return{fid:b.fid||n,registrationStatus:2,refreshToken:b.refreshToken,authToken:TR(b.authToken)}}throw yield HI("Create Installation",y)})).apply(this,arguments)}function PR(t){return new Promise(e=>{setTimeout(e,t)})}const B1e=/^[cdef][\w-]{21}$/,zI="";function U1e(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function j1e(t){return function F1e(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return B1e.test(n)?n:zI}catch{return zI}}function L0(t){return`${t.appName}!${t.appId}`}const x0=new Map;function RR(t,e){const n=L0(t);OR(n,e),function q1e(t,e){const n=function FR(){return!Io&&"BroadcastChannel"in self&&(Io=new BroadcastChannel("[Firebase] FID Change"),Io.onmessage=t=>{OR(t.data.key,t.data.fid)}),Io}();n&&n.postMessage({key:t,fid:e}),function BR(){0===x0.size&&Io&&(Io.close(),Io=null)}()}(n,e)}function OR(t,e){const n=x0.get(t);if(n)for(const r of n)r(e)}let Io=null;const W1e="firebase-installations-database",Z1e=1,Eo="firebase-installations-store";let LI=null;function xI(){return LI||(LI=function z1e(t,e,{blocked:n,upgrade:r,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),p=l4(u);return r&&u.addEventListener("upgradeneeded",y=>{r(l4(u.result),y.oldVersion,y.newVersion,l4(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),p.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",()=>a())}).catch(()=>{}),p}(W1e,Z1e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Eo)}})),LI}function $v(t,e){return DI.apply(this,arguments)}function DI(){return(DI=(0,G.Z)(function*(t,e){const n=L0(t),a=(yield xI()).transaction(Eo,"readwrite"),c=a.objectStore(Eo),u=yield c.get(n);return yield c.put(e,n),yield a.done,(!u||u.fid!==e.fid)&&RR(t,e.fid),e})).apply(this,arguments)}function AI(t){return TI.apply(this,arguments)}function TI(){return(TI=(0,G.Z)(function*(t){const e=L0(t),r=(yield xI()).transaction(Eo,"readwrite");yield r.objectStore(Eo).delete(e),yield r.done})).apply(this,arguments)}function V7(t,e){return NI.apply(this,arguments)}function NI(){return(NI=(0,G.Z)(function*(t,e){const n=L0(t),a=(yield xI()).transaction(Eo,"readwrite"),c=a.objectStore(Eo),u=yield c.get(n),p=e(u);return void 0===p?yield c.delete(n):yield c.put(p,n),yield a.done,p&&(!u||u.fid!==p.fid)&&RR(t,p.fid),p})).apply(this,arguments)}function kI(t){return PI.apply(this,arguments)}function PI(){return PI=(0,G.Z)(function*(t){let e;const n=yield V7(t.appConfig,r=>{const a=function K1e(t){return jR(t||{fid:U1e(),registrationStatus:0})}(r),c=function Y1e(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ss.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Q1e(t,e){return RI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:J1e(t)}:{installationEntry:e}}(t,a);return e=c.registrationPromise,c.installationEntry});return n.fid===zI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),PI.apply(this,arguments)}function RI(){return RI=(0,G.Z)(function*(t,e){try{const n=yield function O1e(t,e){return EI.apply(this,arguments)}(t,e);return $v(t.appConfig,n)}catch(n){throw AR(n)&&409===n.customData.serverCode?yield AI(t.appConfig):yield $v(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),RI.apply(this,arguments)}function J1e(t){return OI.apply(this,arguments)}function OI(){return(OI=(0,G.Z)(function*(t){let e=yield UR(t.appConfig);for(;1===e.registrationStatus;)yield PR(100),e=yield UR(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield kI(t);return r||n}return e})).apply(this,arguments)}function UR(t){return V7(t,e=>{if(!e)throw Ss.create("installation-not-found");return jR(e)})}function jR(t){return function X1e(t){return 1===t.registrationStatus&&t.registrationTime+LR<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function FI(){return(FI=(0,G.Z)(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function tne(t,{fid:e}){return`${bI(t)}/${e}/authTokens:generate`}(t,n),a=function kR(t,{refreshToken:e}){const n=NR(t);return n.append("Authorization",function R1e(t){return`${DR} ${t}`}(e)),n}(t,n),c=e.getImmediate({optional:!0});if(c){const b=yield c.getHeartbeatsHeader();b&&a.append("x-firebase-client",b)}const p={method:"POST",headers:a,body:JSON.stringify({installation:{sdkVersion:xR,appId:t.appId}})},y=yield SI(()=>fetch(r,p));if(y.ok)return TR(yield y.json());throw yield HI("Generate Auth Token",y)})).apply(this,arguments)}function BI(t){return UI.apply(this,arguments)}function UI(){return UI=(0,G.Z)(function*(t,e=!1){let n;const r=yield V7(t.appConfig,c=>{if(!GR(c))throw Ss.create("not-registered");const u=c.authToken;if(!e&&function ine(t){return 2===t.requestStatus&&!function sne(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+A1e}(t)}(u))return c;if(1===u.requestStatus)return n=function nne(t,e){return jI.apply(this,arguments)}(t,e),c;{if(!navigator.onLine)throw Ss.create("app-offline");const p=function ane(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(c);return n=function rne(t,e){return $I.apply(this,arguments)}(t,p),p}});return n?yield n:r.authToken}),UI.apply(this,arguments)}function jI(){return(jI=(0,G.Z)(function*(t,e){let n=yield $R(t.appConfig);for(;1===n.authToken.requestStatus;)yield PR(100),n=yield $R(t.appConfig);const r=n.authToken;return 0===r.requestStatus?BI(t,e):r})).apply(this,arguments)}function $R(t){return V7(t,e=>{if(!GR(e))throw Ss.create("not-registered");return function one(t){return 1===t.requestStatus&&t.requestTime+LR<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $I(){return $I=(0,G.Z)(function*(t,e){try{const n=yield function ene(t,e){return FI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield $v(t.appConfig,r),n}catch(n){if(!AR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield $v(t.appConfig,r)}else yield AI(t.appConfig);throw n}}),$I.apply(this,arguments)}function GR(t){return void 0!==t&&2===t.registrationStatus}function GI(){return(GI=(0,G.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield kI(e);return r?r.catch(console.error):BI(e).catch(console.error),n.fid})).apply(this,arguments)}function qI(){return qI=(0,G.Z)(function*(t,e=!1){const n=t;return yield function une(t){return WI.apply(this,arguments)}(n),(yield BI(n,e)).token}),qI.apply(this,arguments)}function WI(){return(WI=(0,G.Z)(function*(t){const{registrationPromise:e}=yield kI(t);e&&(yield e)})).apply(this,arguments)}function YI(t){return Ss.create("missing-app-config-values",{valueName:t})}const qR="installations",mne=t=>{const e=t.getProvider("app").getImmediate(),n=function hne(t){if(!t||!t.options)throw YI("App Configuration");if(!t.name)throw YI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw YI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:(0,Tt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},gne=t=>{const e=t.getProvider("app").getImmediate(),n=(0,Tt._getProvider)(e,qR).getImmediate();return{getId:()=>function cne(t){return GI.apply(this,arguments)}(n),getToken:a=>function lne(t){return qI.apply(this,arguments)}(n,a)}};(function vne(){(0,Tt._registerComponent)(new Zr.wA(qR,mne,"PUBLIC")),(0,Tt._registerComponent)(new Zr.wA("installations-internal",gne,"PRIVATE"))})(),(0,Tt.registerVersion)(zR,wI),(0,Tt.registerVersion)(zR,wI,"esm2017");const QI="@firebase/remote-config",kn=new rt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ene{constructor(e,n,r,a){this.client=e,this.storage=n,this.storageCache=r,this.logger=a}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,a=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${a}.`),a}fetch(e){var n=this;return(0,G.Z)(function*(){const[r,a]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(a&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return a;e.eTag=a&&a.eTag;const c=yield n.client.fetch(e),u=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===c.status&&u.push(n.storage.setLastSuccessfulFetchResponse(c)),yield Promise.all(u),c})()}}function zne(t=navigator){return t.languages&&t.languages[0]||t.language}class Lne{constructor(e,n,r,a,c,u){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=a,this.apiKey=c,this.appId=u}fetch(e){var n=this;return(0,G.Z)(function*(){const[r,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,p={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},y={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:a,app_id:n.appId,language_code:zne()},b={method:"POST",headers:p,body:JSON.stringify(y)},H=fetch(u,b),I=new Promise((je,qe)=>{e.signal.addEventListener(()=>{const Ze=new Error("The operation was aborted.");Ze.name="AbortError",qe(Ze)})});let N;try{yield Promise.race([H,I]),N=yield H}catch(je){let qe="fetch-client-network";throw"AbortError"===je?.name&&(qe="fetch-timeout"),kn.create(qe,{originalErrorMessage:je?.message})}let U=N.status;const oe=N.headers.get("ETag")||void 0;let Ce,Me;if(200===N.status){let je;try{je=yield N.json()}catch(qe){throw kn.create("fetch-client-parse",{originalErrorMessage:qe?.message})}Ce=je.entries,Me=je.state}if("INSTANCE_STATE_UNSPECIFIED"===Me?U=500:"NO_CHANGE"===Me?U=304:("NO_TEMPLATE"===Me||"EMPTY_CONFIG"===Me)&&(Ce={}),304!==U&&200!==U)throw kn.create("fetch-status",{httpStatus:U});return{status:U,eTag:oe,config:Ce}})()}}class Ane{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,G.Z)(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var a=this;return(0,G.Z)(function*(){yield function xne(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(c),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const c=yield a.client.fetch(e);return yield a.storage.deleteThrottleMetadata(),c}catch(c){if(!function Dne(t){if(!(t instanceof rt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c))throw c;const u={throttleEndTimeMillis:Date.now()+(0,rt.$s)(r),backoffCount:r+1};return yield a.storage.setThrottleMetadata(u),a.attemptFetch(e,u)}})()}}class kne{constructor(e,n,r,a,c){this.app=e,this._client=n,this._storageCache=r,this._storage=a,this._logger=c,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qv(t,e){const n=t.target.error||void 0;return kn.create(e,{originalErrorMessage:n&&n?.message})}const zo="app_namespace_store";class Fne{constructor(e,n,r,a=function One(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(qv(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zo,{keyPath:"compositeKey"})}}catch(n){e(kn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=a}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,G.Z)(function*(){const r=yield n.openDbPromise;return new Promise((a,c)=>{const p=r.transaction([zo],"readonly").objectStore(zo),y=n.createCompositeKey(e);try{const b=p.get(y);b.onerror=H=>{c(qv(H,"storage-get"))},b.onsuccess=H=>{const I=H.target.result;a(I?I.value:void 0)}}catch(b){c(kn.create("storage-get",{originalErrorMessage:b?.message}))}})})()}set(e,n){var r=this;return(0,G.Z)(function*(){const a=yield r.openDbPromise;return new Promise((c,u)=>{const y=a.transaction([zo],"readwrite").objectStore(zo),b=r.createCompositeKey(e);try{const H=y.put({compositeKey:b,value:n});H.onerror=I=>{u(qv(I,"storage-set"))},H.onsuccess=()=>{c()}}catch(H){u(kn.create("storage-set",{originalErrorMessage:H?.message}))}})})()}delete(e){var n=this;return(0,G.Z)(function*(){const r=yield n.openDbPromise;return new Promise((a,c)=>{const p=r.transaction([zo],"readwrite").objectStore(zo),y=n.createCompositeKey(e);try{const b=p.delete(y);b.onerror=H=>{c(qv(H,"storage-delete"))},b.onsuccess=()=>{a()}}catch(b){c(kn.create("storage-delete",{originalErrorMessage:b?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Bne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,G.Z)(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),a=e.storage.getActiveConfig(),c=yield n;c&&(e.lastFetchStatus=c);const u=yield r;u&&(e.lastSuccessfulFetchTimestampMillis=u);const p=yield a;p&&(e.activeConfig=p)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function jne(){return nE.apply(this,arguments)}function nE(){return(nE=(0,G.Z)(function*(){if(!(0,rt.hl)())return!1;try{return yield(0,rt.eu)()}catch{return!1}})).apply(this,arguments)}!function Une(){(0,Tt._registerComponent)(new Zr.wA("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!(0,rt.hl)())throw kn.create("indexed-db-unavailable");const{projectId:c,apiKey:u,appId:p}=r.options;if(!c)throw kn.create("registration-project-id");if(!u)throw kn.create("registration-api-key");if(!p)throw kn.create("registration-app-id");const y=new Fne(p,r.name,n=n||"firebase"),b=new Bne(y),H=new Kr.Yd(QI);H.logLevel=Kr.in.ERROR;const I=new Lne(a,Tt.SDK_VERSION,n,c,u,p),N=new Ane(I,y),U=new Ene(N,y,b,H),oe=new kne(r,U,b,y,H);return function Vne(t){const e=(0,rt.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(oe),oe},"PUBLIC").setMultipleInstances(!0)),(0,Tt.registerVersion)(QI,"0.4.4"),(0,Tt.registerVersion)(QI,"0.4.4","esm2017")}();const $ne=(t,e)=>e.some(n=>t instanceof n);let YR,QR;const JR=new WeakMap,rE=new WeakMap,XR=new WeakMap,iE=new WeakMap,sE=new WeakMap;let aE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return rE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||XR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qne(t){return"function"==typeof t?function Yne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qne(){return QR||(QR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(oE(this),e),Is(JR.get(this))}:function(...e){return Is(t.apply(oE(this),e))}:function(e,...n){const r=t.call(oE(this),e,...n);return XR.set(r,e.sort?e.sort():[e]),Is(r)}}(t):(t instanceof IDBTransaction&&function Zne(t){if(rE.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});rE.set(t,e)}(t),$ne(t,function Gne(){return YR||(YR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,aE):t)}function Is(t){if(t instanceof IDBRequest)return function Wne(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(Is(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&JR.set(n,t)}).catch(()=>{}),sE.set(e,t),e}(t);if(iE.has(t))return iE.get(t);const e=Qne(t);return e!==t&&(iE.set(t,e),sE.set(e,t)),e}const oE=t=>sE.get(t);function eO(t,e,{blocked:n,upgrade:r,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),p=Is(u);return r&&u.addEventListener("upgradeneeded",y=>{r(Is(u.result),y.oldVersion,y.newVersion,Is(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),p.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",()=>a())}).catch(()=>{}),p}function cE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Is(n).then(()=>{})}const Jne=["get","getKey","getAll","getAllKeys","count"],Xne=["put","add","delete","clear"],lE=new Map;function tO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(lE.get(e))return lE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Xne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Jne.includes(n))return;const c=function(){var u=(0,G.Z)(function*(p,...y){const b=this.transaction(p,a?"readwrite":"readonly");let H=b.store;return r&&(H=H.index(y.shift())),(yield Promise.all([H[n](...y),a&&b.done]))[0]});return function(y){return u.apply(this,arguments)}}();return lE.set(e,c),c}!function Kne(t){aE=t(aE)}(t=>({...t,get:(e,n,r)=>tO(e,n)||t.get(e,n,r),has:(e,n)=>!!tO(e,n)||t.has(e,n)}));const ere="/firebase-messaging-sw.js",tre="/firebase-cloud-messaging-push-scope",nO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nre="https://fcmregistrations.googleapis.com/v1",rO="google.c.a.c_id",rre="google.c.a.c_l",ire="google.c.a.ts";var Wv=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Wv||{});function Es(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ore(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),a=new Uint8Array(r.length);for(let c=0;c<r.length;++c)a[c]=r.charCodeAt(c);return a}const uE="fcm_token_details_db",cre=5,iO="fcm_token_object_Store";function fE(){return fE=(0,G.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(c=>c.name).includes(uE))return null;let e=null;return(yield eO(uE,cre,{upgrade:(r=(0,G.Z)(function*(a,c,u,p){var y;if(c<2||!a.objectStoreNames.contains(iO))return;const b=p.objectStore(iO),H=yield b.index("fcmSenderId").get(t);if(yield b.clear(),H)if(2===c){const I=H;if(!I.auth||!I.p256dh||!I.endpoint)return;e={token:I.fcmToken,createTime:null!==(y=I.createTime)&&void 0!==y?y:Date.now(),subscriptionOptions:{auth:I.auth,p256dh:I.p256dh,endpoint:I.endpoint,swScope:I.swScope,vapidKey:"string"==typeof I.vapidKey?I.vapidKey:Es(I.vapidKey)}}}else if(3===c){const I=H;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Es(I.auth),p256dh:Es(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Es(I.vapidKey)}}}else if(4===c){const I=H;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Es(I.auth),p256dh:Es(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Es(I.vapidKey)}}}}),function(c,u,p,y){return r.apply(this,arguments)})})).close(),yield cE(uE),yield cE("fcm_vapid_details_db"),yield cE("undefined"),function ure(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),fE.apply(this,arguments)}const fre="firebase-messaging-database",dre=1,Lo="firebase-messaging-store";let dE=null;function hE(){return dE||(dE=eO(fre,dre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Lo)}})),dE}function sO(t){return pE.apply(this,arguments)}function pE(){return pE=(0,G.Z)(function*(t){const e=yE(t),r=yield(yield hE()).transaction(Lo).objectStore(Lo).get(e);if(r)return r;{const a=yield function lre(t){return fE.apply(this,arguments)}(t.appConfig.senderId);if(a)return yield mE(t,a),a}}),pE.apply(this,arguments)}function mE(t,e){return gE.apply(this,arguments)}function gE(){return(gE=(0,G.Z)(function*(t,e){const n=yE(t),a=(yield hE()).transaction(Lo,"readwrite");return yield a.objectStore(Lo).put(e,n),yield a.done,e})).apply(this,arguments)}function vE(){return(vE=(0,G.Z)(function*(t){const e=yE(t),r=(yield hE()).transaction(Lo,"readwrite");yield r.objectStore(Lo).delete(e),yield r.done})).apply(this,arguments)}function yE({appConfig:t}){return t.appId}const q1=new rt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mre(t,e){return CE.apply(this,arguments)}function CE(){return(CE=(0,G.Z)(function*(t,e){const n=yield bE(t),r=oO(e),a={method:"POST",headers:n,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(wE(t.appConfig),a)).json()}catch(u){throw q1.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(c.error)throw q1.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw q1.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function _E(){return(_E=(0,G.Z)(function*(t,e){const n=yield bE(t),r=oO(e.subscriptionOptions),a={method:"PATCH",headers:n,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(`${wE(t.appConfig)}/${e.token}`,a)).json()}catch(u){throw q1.create("token-update-failed",{errorInfo:u?.toString()})}if(c.error)throw q1.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw q1.create("token-update-no-token");return c.token})).apply(this,arguments)}function aO(t,e){return ME.apply(this,arguments)}function ME(){return(ME=(0,G.Z)(function*(t,e){const r={method:"DELETE",headers:yield bE(t)};try{const c=yield(yield fetch(`${wE(t.appConfig)}/${e}`,r)).json();if(c.error)throw q1.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(a){throw q1.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}})).apply(this,arguments)}function wE({projectId:t}){return`${nre}/projects/${t}/registrations`}function bE(t){return HE.apply(this,arguments)}function HE(){return(HE=(0,G.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function oO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const a={web:{endpoint:n,auth:e,p256dh:t}};return r!==nO&&(a.web.applicationPubKey=r),a}const vre=6048e5;function VE(){return VE=(0,G.Z)(function*(t){const e=yield function _re(t,e){return zE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Es(e.getKey("auth")),p256dh:Es(e.getKey("p256dh"))},r=yield sO(t.firebaseDependencies);if(r){if(function Mre(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+vre?function Cre(t,e){return IE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield aO(t.firebaseDependencies,r.token)}catch(a){console.warn(a)}return lO(t.firebaseDependencies,n)}return lO(t.firebaseDependencies,n)}),VE.apply(this,arguments)}function SE(){return SE=(0,G.Z)(function*(t){const e=yield sO(t.firebaseDependencies);e&&(yield aO(t.firebaseDependencies,e.token),yield function hre(t){return vE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),SE.apply(this,arguments)}function IE(){return IE=(0,G.Z)(function*(t,e){try{const n=yield function gre(t,e){return _E.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield mE(t.firebaseDependencies,r),n}catch(n){throw yield function cO(t){return SE.apply(this,arguments)}(t),n}}),IE.apply(this,arguments)}function lO(t,e){return EE.apply(this,arguments)}function EE(){return(EE=(0,G.Z)(function*(t,e){const r={token:yield mre(t,e),createTime:Date.now(),subscriptionOptions:e};return yield mE(t,r),r.token})).apply(this,arguments)}function zE(){return(zE=(0,G.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ore(e)})})).apply(this,arguments)}function uO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function wre(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const a=e.notification.image;a&&(t.notification.image=a);const c=e.notification.icon;c&&(t.notification.icon=c)}(e,t),function bre(t,e){e.data&&(t.data=e.data)}(e,t),function Hre(t,e){var n,r,a,c,u;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const p=null!==(a=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==a?a:null===(c=e.notification)||void 0===c?void 0:c.click_action;p&&(t.fcmOptions.link=p);const y=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;y&&(t.fcmOptions.analyticsLabel=y)}(e,t),e}function fO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function LE(t){return q1.create("missing-app-config-values",{valueName:t})}fO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ire{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=function Sre(t){if(!t||!t.options)throw LE("App Configuration Object");if(!t.name)throw LE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw LE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:a,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function xE(){return(xE=(0,G.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(ere,{scope:tre}),t.swRegistration.update().catch(()=>{})}catch(e){throw q1.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function DE(){return(DE=(0,G.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield function dO(t){return xE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw q1.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function AE(){return(AE=(0,G.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=nO)})).apply(this,arguments)}function TE(){return TE=(0,G.Z)(function*(t,e){if(!navigator)throw q1.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw q1.create("permission-blocked");return yield function zre(t,e){return AE.apply(this,arguments)}(t,e?.vapidKey),yield function Ere(t,e){return DE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function yre(t){return VE.apply(this,arguments)}(t)}),TE.apply(this,arguments)}function NE(){return(NE=(0,G.Z)(function*(t,e,n){const r=function xre(t){switch(t){case Wv.NOTIFICATION_CLICKED:return"notification_open";case Wv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rO],message_name:n[rre],message_time:n[ire],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function kE(){return kE=(0,G.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Wv.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(uO(n)):t.onMessageHandler.next(uO(n)));const r=n.data;(function Vre(t){return"object"==typeof t&&!!t&&rO in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Lre(t,e,n){return NE.apply(this,arguments)}(t,n.messageType,r))}),kE.apply(this,arguments)}const pO="@firebase/messaging",Are=t=>{const e=new Ire(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Dre(t,e){return kE.apply(this,arguments)}(e,n)),e},Tre=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function hO(t,e){return TE.apply(this,arguments)}(e,r)}};function gO(){return PE.apply(this,arguments)}function PE(){return(PE=(0,G.Z)(function*(){try{yield(0,rt.eu)()}catch{return!1}return typeof window<"u"&&(0,rt.hl)()&&(0,rt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nre(){(0,Tt._registerComponent)(new Zr.wA("messaging",Are,"PUBLIC")),(0,Tt._registerComponent)(new Zr.wA("messaging-internal",Tre,"PRIVATE")),(0,Tt.registerVersion)(pO,"0.12.4"),(0,Tt.registerVersion)(pO,"0.12.4","esm2017")}();const Zv="analytics",Rre="firebase_id",Ore="origin",Fre=6e4,Bre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",FE="https://www.googletagmanager.com/gtag/js",L1=new Kr.Yd("@firebase/analytics"),bn=new rt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jre(t){if(!t.startsWith(FE)){const e=bn.create("invalid-gtag-resource",{gtagURL:t});return L1.warn(e.message),""}return t}function vO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function BE(){return(BE=(0,G.Z)(function*(t,e,n,r,a,c){const u=r[a];try{if(u)yield e[u];else{const y=(yield vO(n)).find(b=>b.measurementId===a);y&&(yield e[y.appId])}}catch(p){L1.error(p)}t("config",a,c)})).apply(this,arguments)}function UE(){return(UE=(0,G.Z)(function*(t,e,n,r,a){try{let c=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const p=yield vO(n);for(const y of u){const b=p.find(I=>I.measurementId===y),H=b&&e[b.appId];if(!H){c=[];break}c.push(H)}}0===c.length&&(c=Object.values(e)),yield Promise.all(c),t("event",r,a||{})}catch(c){L1.error(c)}})).apply(this,arguments)}const Jre=30,yO=new class eie{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function tie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function jE(){return(jE=(0,G.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,a={method:"GET",headers:tie(r)},c=Bre.replace("{app-id}",n),u=yield fetch(c,a);if(200!==u.status&&304!==u.status){let p="";try{const y=yield u.json();null!==(e=y.error)&&void 0!==e&&e.message&&(p=y.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()})).apply(this,arguments)}function $E(){return($E=(0,G.Z)(function*(t,e=yO,n){const{appId:r,apiKey:a,measurementId:c}=t.options;if(!r)throw bn.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:r};throw bn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new aie;return setTimeout((0,G.Z)(function*(){p.abort()}),void 0!==n?n:Fre),CO({appId:r,apiKey:a,measurementId:c},u,p,e)})).apply(this,arguments)}function CO(t,e,n){return GE.apply(this,arguments)}function GE(){return GE=(0,G.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=yO){var c;const{appId:u,measurementId:p}=t;try{yield function iie(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(c),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(y){if(p)return L1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:p};throw y}try{const y=yield function nie(t){return jE.apply(this,arguments)}(t);return a.deleteThrottleMetadata(u),y}catch(y){const b=y;if(!function sie(t){if(!(t instanceof rt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(b)){if(a.deleteThrottleMetadata(u),p)return L1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:u,measurementId:p};throw y}const H=503===Number(null===(c=b?.customData)||void 0===c?void 0:c.httpStatus)?(0,rt.$s)(n,a.intervalMillis,Jre):(0,rt.$s)(n,a.intervalMillis),I={throttleEndTimeMillis:Date.now()+H,backoffCount:n+1};return a.setThrottleMetadata(u,I),L1.debug(`Calling attemptFetch again in ${H} millis`),CO(t,I,r,a)}}),GE.apply(this,arguments)}class aie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let qE,XE;function WE(){return(WE=(0,G.Z)(function*(t,e,n,r,a){if(a&&a.global)t("event",n,r);else{const c=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:c}))}})).apply(this,arguments)}function ez(){return(ez=(0,G.Z)(function*(){if(!(0,rt.hl)())return L1.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,rt.eu)()}catch(t){return L1.warn(bn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function tz(){return tz=(0,G.Z)(function*(t,e,n,r,a,c,u){var p;const y=function rie(t){return $E.apply(this,arguments)}(t);y.then(U=>{n[U.measurementId]=U.appId,t.options.measurementId&&U.measurementId!==t.options.measurementId&&L1.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>L1.error(U)),e.push(y);const b=function hie(){return ez.apply(this,arguments)}().then(U=>{if(U)return r.getId()}),[H,I]=yield Promise.all([y,b]);(function Qre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(FE)&&n.src.includes(t))return n;return null})(c)||function Gre(t,e){const n=function $re(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:jre}),r=document.createElement("script"),a=`${FE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}(c,H.measurementId),XE&&(a("consent","default",XE),function _O(t){XE=t}(void 0)),a("js",new Date);const N=null!==(p=u?.config)&&void 0!==p?p:{};return N[Ore]="firebase",N.update=!0,null!=I&&(N[Rre]=I),a("config",H.measurementId,N),qE&&(a("set",qE),function MO(t){qE=t}(void 0)),H.measurementId}),tz.apply(this,arguments)}class mie{constructor(e){this.app=e}_delete(){return delete bi[this.app.options.appId],Promise.resolve()}}let bi={},wO=[];const bO={};let VO,Hi,Kv="dataLayer",nz=!1;function vie(t,e,n){!function gie(){const t=[];if((0,rt.ru)()&&t.push("This is a browser extension environment."),(0,rt.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});L1.warn(n.message)}}();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw bn.create("no-api-key");L1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bi[r])throw bn.create("already-exists",{id:r});if(!nz){!function qre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Kv);const{wrappedGtag:c,gtagCore:u}=function Yre(t,e,n,r,a){let c=function(...u){window[r].push(arguments)};return window[a]&&"function"==typeof window[a]&&(c=window[a]),window[a]=function Kre(t,e,n,r){function c(){return c=(0,G.Z)(function*(u,...p){try{if("event"===u){const[y,b]=p;yield function Zre(t,e,n,r,a){return UE.apply(this,arguments)}(t,e,n,y,b)}else if("config"===u){const[y,b]=p;yield function Wre(t,e,n,r,a,c){return BE.apply(this,arguments)}(t,e,n,r,y,b)}else if("consent"===u){const[y]=p;t("consent","update",y)}else if("get"===u){const[y,b,H]=p;t("get",y,b,H)}else if("set"===u){const[y]=p;t("set",y)}else t(u,...p)}catch(y){L1.error(y)}}),c.apply(this,arguments)}return function a(u){return c.apply(this,arguments)}}(c,t,e,n),{gtagCore:c,wrappedGtag:window[a]}}(bi,wO,bO,Kv,"gtag");Hi=c,VO=u,nz=!0}return bi[r]=function pie(t,e,n,r,a,c,u){return tz.apply(this,arguments)}(t,wO,bO,e,VO,Kv,n),new mie(t)}function Cie(){return rz.apply(this,arguments)}function rz(){return(rz=(0,G.Z)(function*(){if((0,rt.ru)()||!(0,rt.zI)()||!(0,rt.hl)())return!1;try{return yield(0,rt.eu)()}catch{return!1}})).apply(this,arguments)}const SO="@firebase/analytics";!function Mie(){(0,Tt._registerComponent)(new Zr.wA(Zv,(e,{options:n})=>vie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),(0,Tt._registerComponent)(new Zr.wA("analytics-internal",function t(e){try{const n=e.getProvider(Zv).getImmediate();return{logEvent:(r,a,c)=>function _ie(t,e,n,r){t=(0,rt.m9)(t),function oie(t,e,n,r,a){return WE.apply(this,arguments)}(Hi,bi[t.app.options.appId],e,n,r).catch(a=>L1.error(a))}(n,r,a,c)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),(0,Tt.registerVersion)(SO,"0.10.0"),(0,Tt.registerVersion)(SO,"0.10.0","esm2017")}();const Hie=new class bie extends wR{}(class wie extends MR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}});var EO=k(4674),u4=k(9360),xo=k(8251),zO=k(2737),S7=k(5137),D0=k(3093);const I7=new m.GfV("7.6.1"),sz="__angularfire_symbol__analyticsIsSupportedValue",az="__angularfire_symbol__analyticsIsSupported",oz="__angularfire_symbol__remoteConfigIsSupportedValue",cz="__angularfire_symbol__remoteConfigIsSupported",lz="__angularfire_symbol__messagingIsSupportedValue",uz="__angularfire_symbol__messagingIsSupported";function dz(t,e,n){if(e){if(1===e.length)return e[0];const c=e.filter(u=>u.app===n);if(1===c.length)return c[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[az]||(globalThis[az]=Cie().then(t=>globalThis[sz]=t).catch(()=>globalThis[sz]=!1)),globalThis[uz]||(globalThis[uz]=gO().then(t=>globalThis[lz]=t).catch(()=>globalThis[lz]=!1)),globalThis[cz]||(globalThis[cz]=jne().then(t=>globalThis[oz]=t).catch(()=>globalThis[oz]=!1));const hz=(t,e)=>{const n=e?[e]:(0,Tt.getApps)(),r=[];return n.forEach(a=>{a.container.getProvider(t).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};function A0(){}class LO{constructor(e,n=Hie){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const a=this.zone;return this.delegate.schedule(function(u){a.runGuarded(()=>{e.apply(this,[u])})},n,r)}}class Sie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",A0,{},A0,A0)),n.pipe(function Vie(t,e,n){const r=(0,EO.m)(t)||e||n?{next:t,error:e,complete:n}:t;return r?(0,u4.e)((a,c)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let p=!0;a.subscribe((0,xo.x)(c,y=>{var b;null===(b=r.next)||void 0===b||b.call(r,y),c.next(y)},()=>{var y;p=!1,null===(y=r.complete)||void 0===y||y.call(r),c.complete()},y=>{var b;p=!1,null===(b=r.error)||void 0===b||b.call(r,y),c.error(y)},()=>{var y,b;p&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(b=r.finalize)||void 0===b||b.call(r)}))}):zO.y}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let T0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new LO(Zone.current)),this.insideAngular=n.run(()=>new LO(Zone.current,bR)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(m.R0b))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Do(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ao(t){return Do().ngZone.run(()=>t())}function sr(t){return Do(),function Eie(t){return function(n){return(n=n.lift(new Sie(t.ngZone))).pipe((0,S7.R)(t.outsideAngular),(0,D0.Q)(t.insideAngular))}}(Do())(t)}const zie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ao(()=>t.apply(void 0,r))},ar=(t,e)=>function(){let n;const r=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof r[c]&&(e&&(n||(n=Ao(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",A0,{},A0,A0)))),r[c]=zie(r[c],n));const a=function Iie(t){return Do().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(a instanceof Vo.y){const c=Do();return a.pipe((0,S7.R)(c.outsideAngular),(0,D0.Q)(c.insideAngular))}return Ao(()=>a)}return a instanceof Vo.y?a.pipe(sr):a instanceof Promise?Ao(()=>new Promise((c,u)=>a.then(p=>Ao(()=>c(p)),p=>Ao(()=>u(p))))):"function"==typeof a&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),a.apply(this,arguments)}:Ao(()=>a)};var Lie=k(2372),xO=k(4564);function DO(...t){return function xie(){return(0,Lie.J)(1)}()((0,So.D)(t,(0,xO.yG)(t)))}function pz(...t){const e=(0,xO.yG)(t);return(0,u4.e)((n,r)=>{(e?DO(t,n,e):DO(t,n)).subscribe(r)})}function mz(){return(0,u4.e)((t,e)=>{let n,r=!1;t.subscribe((0,xo.x)(e,a=>{const c=n;n=a,r&&e.next([c,a]),r=!0}))})}var Hn=k(7398);function gz(t,e){return(0,u4.e)(function Die(t,e,n,r,a){return(c,u)=>{let p=n,y=e,b=0;c.subscribe((0,xo.x)(u,H=>{const I=b++;y=p?t(y,H,I):(p=!0,H),r&&u.next(y)},a&&(()=>{p&&u.next(y),u.complete()})))}}(t,e,arguments.length>=2,!0))}var Aie=k(3997);function Yv(t,e){return(0,u4.e)((n,r)=>{let a=0;n.subscribe((0,xo.x)(r,c=>t.call(e,c,a++)&&r.next(c)))})}var We,Vr=k(6304),Tie=(k(6365),k(3106)),Nie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yr={},vz=vz||{},zt=Nie||self;function Qv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function E7(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var yz="closure_uid_"+(1e9*Math.random()>>>0),Pie=0;function Rie(t,e,n){return t.call.apply(t.bind,arguments)}function Oie(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),t.apply(e,a)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rie:Oie).apply(null,arguments)}function Jv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function x1(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,a,c){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[a].apply(r,u)}}function f4(){this.s=this.s,this.o=this.o}f4.prototype.s=!1,f4.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kie(t){Object.prototype.hasOwnProperty.call(t,yz)&&t[yz]||(t[yz]=++Pie)}(this)},f4.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Cz(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function TO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qv(r)){const a=t.length||0,c=r.length||0;t.length=a+c;for(let u=0;u<c;u++)t[a+u]=r[u]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var Bie=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{zt.addEventListener("test",()=>{},e),zt.removeEventListener("test",()=>{},e)}catch{}return t}();function z7(t){return/^[\s\xa0]*$/.test(t)}function Xv(){var t=zt.navigator;return t&&(t=t.userAgent)?t:""}function Vi(t){return-1!=Xv().indexOf(t)}function _z(t){return _z[" "](t),t}_z[" "]=function(){};var wz,t,jie=Vi("Opera"),N0=Vi("Trident")||Vi("MSIE"),NO=Vi("Edge"),Mz=NO||N0,kO=Vi("Gecko")&&!(-1!=Xv().toLowerCase().indexOf("webkit")&&!Vi("Edge"))&&!(Vi("Trident")||Vi("MSIE"))&&!Vi("Edge"),$ie=-1!=Xv().toLowerCase().indexOf("webkit")&&!Vi("Edge");function PO(){var t=zt.document;return t?t.documentMode:void 0}e:{var bz="",Hz=(t=Xv(),kO?/rv:([^\);]+)(\)|;)/.exec(t):NO?/Edge\/([\d\.]+)/.exec(t):N0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$ie?/WebKit\/(\S+)/.exec(t):jie?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Hz&&(bz=Hz?Hz[1]:""),N0){var Vz=PO();if(null!=Vz&&Vz>parseFloat(bz)){wz=String(Vz);break e}}wz=bz}var Gie=zt.document&&N0&&(PO()||parseInt(wz,10))||void 0;function L7(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kO){e:{try{_z(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qie[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&L7.$.h.call(this)}}x1(L7,ln);var qie={2:"touch",3:"pen",4:"mouse"};L7.prototype.h=function(){L7.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var x7="closure_listenable_"+(1e6*Math.random()|0),Wie=0;function Zie(t,e,n,r,a){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=a,this.key=++Wie,this.fa=this.ia=!1}function ey(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Iz(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function OO(t){const e={};for(const n in t)e[n]=t[n];return e}const FO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BO(t,e){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)t[n]=r[n];for(let c=0;c<FO.length;c++)n=FO[c],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ty(t){this.src=t,this.g={},this.h=0}function Ez(t,e){var n=e.type;if(n in t.g){var c,r=t.g[n],a=AO(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(ey(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function zz(t,e,n,r){for(var a=0;a<t.length;++a){var c=t[a];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==r)return a}return-1}ty.prototype.add=function(t,e,n,r,a){var c=t.toString();(t=this.g[c])||(t=this.g[c]=[],this.h++);var u=zz(t,e,r,a);return-1<u?(e=t[u],n||(e.ia=!1)):((e=new Zie(e,this.src,c,!!r,a)).ia=n,t.push(e)),e};var Lz="closure_lm_"+(1e6*Math.random()|0),xz={};function UO(t,e,n,r,a){if(r&&r.once)return $O(t,e,n,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)UO(t,e[c],n,r,a);return null}return n=Nz(n),t&&t[x7]?t.O(e,n,E7(r)?!!r.capture:!!r,a):jO(t,e,n,!1,r,a)}function jO(t,e,n,r,a,c){if(!e)throw Error("Invalid event type");var u=E7(a)?!!a.capture:!!a,p=Az(t);if(p||(t[Lz]=p=new ty(t)),(n=p.add(e,n,r,u,c)).proxy)return n;if(r=function Yie(){const e=Qie;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Bie||(a=u),void 0===a&&(a=!1),t.addEventListener(e.toString(),r,a);else if(t.attachEvent)t.attachEvent(qO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $O(t,e,n,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)$O(t,e[c],n,r,a);return null}return n=Nz(n),t&&t[x7]?t.P(e,n,E7(r)?!!r.capture:!!r,a):jO(t,e,n,!0,r,a)}function GO(t,e,n,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)GO(t,e[c],n,r,a);else r=E7(r)?!!r.capture:!!r,n=Nz(n),t&&t[x7]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=zz(c=t.g[e],n,r,a))&&(ey(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete t.g[e],t.h--))):t&&(t=Az(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zz(e,n,r,a)),(n=-1<t?e[t]:null)&&Dz(n))}function Dz(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[x7])Ez(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Az(e))?(Ez(n,t),0==n.h&&(n.src=null,e[Lz]=null)):ey(t)}}}function qO(t){return t in xz?xz[t]:xz[t]="on"+t}function Qie(t,e){if(t.fa)t=!0;else{e=new L7(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Dz(t),t=n.call(r,e)}return t}function Az(t){return(t=t[Lz])instanceof ty?t:null}var Tz="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nz(t){return"function"==typeof t?t:(t[Tz]||(t[Tz]=function(e){return t.handleEvent(e)}),t[Tz])}function D1(){f4.call(this),this.i=new ty(this),this.S=this,this.J=null}function W1(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var a=e;BO(e=new ln(r,t),a)}if(a=!0,n)for(var c=n.length-1;0<=c;c--){var u=e.g=n[c];a=ny(u,r,!0,e)&&a}if(a=ny(u=e.g=t,r,!0,e)&&a,a=ny(u,r,!1,e)&&a,n)for(c=0;c<n.length;c++)a=ny(u=e.g=n[c],r,!1,e)&&a}function ny(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.fa&&u.capture==n){var p=u.listener,y=u.la||u.src;u.ia&&Ez(t.i,u),a=!1!==p.call(y,r)&&a}}return a&&!r.defaultPrevented}x1(D1,f4),D1.prototype[x7]=!0,D1.prototype.removeEventListener=function(t,e,n,r){GO(this,t,e,n,r)},D1.prototype.N=function(){if(D1.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ey(n[r]);delete t.g[e],t.h--}}this.J=null},D1.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},D1.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var kz=zt.JSON.stringify;function Xie(){var t=Pz;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var WO=new class Jie{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new tse,t=>t.reset());class tse{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nse(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rse(t){zt.setTimeout(()=>{throw t},0)}let D7,A7=!1,Pz=new class ese{constructor(){this.h=this.g=null}add(e,n){const r=WO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},ZO=()=>{const t=zt.Promise.resolve(void 0);D7=()=>{t.then(ise)}};var ise=()=>{for(var t;t=Xie();){try{t.h.call(t.g)}catch(n){rse(n)}var e=WO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}A7=!1};function ry(t,e){D1.call(this),this.h=t||1,this.g=e||zt,this.j=cn(this.qb,this),this.l=Date.now()}function Rz(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Oz(t,e,n){if("function"==typeof t)n&&(t=cn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cn(t.handleEvent,t)}return 2147483647<Number(e)?-1:zt.setTimeout(t,e||0)}function KO(t){t.g=Oz(()=>{t.g=null,t.i&&(t.i=!1,KO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}x1(ry,D1),(We=ry.prototype).ga=!1,We.T=null,We.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),W1(this,"tick"),this.ga&&(Rz(this),this.start()))}},We.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.N=function(){ry.$.N.call(this),Rz(this),delete this.g};class sse extends f4{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KO(this)}N(){super.N(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function T7(t){f4.call(this),this.h=t,this.g={}}x1(T7,f4);var YO=[];function QO(t,e,n,r){Array.isArray(n)||(n&&(YO[0]=n.toString()),n=YO);for(var a=0;a<n.length;a++){var c=UO(e,n[a],r||t.handleEvent,!1,t.h||t);if(!c)break;t.g[c.key]=c}}function JO(t){Iz(t.g,function(e,n){this.g.hasOwnProperty(n)&&Dz(e)},t),t.g={}}function iy(){this.g=!0}function k0(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lse(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<a.length;u++)a[u]=""}}}return kz(n)}catch{return e}}(t,n)+(r?" "+r:"")})}T7.prototype.N=function(){T7.$.N.call(this),JO(this)},T7.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iy.prototype.Ea=function(){this.g=!1},iy.prototype.info=function(){};var To={},XO=null;function sy(){return XO=XO||new D1}function eF(t){ln.call(this,To.Ta,t)}function N7(t){const e=sy();W1(e,new eF(e))}function tF(t,e){ln.call(this,To.STAT_EVENT,t),this.stat=e}function Vn(t){const e=sy();W1(e,new tF(e,t))}function nF(t,e){ln.call(this,To.Ua,t),this.size=e}function k7(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){t()},e)}To.Ta="serverreachability",x1(eF,ln),To.STAT_EVENT="statevent",x1(tF,ln),To.Ua="timingevent",x1(nF,ln);var ay={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fz(){}function sF(){}Fz.prototype.h=null;var jz,P7={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bz(){ln.call(this,"d")}function Uz(){ln.call(this,"c")}function oy(){}function R7(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new T7(this),this.P=use,this.V=new ry(t=Mz?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aF}function aF(){this.i=null,this.g="",this.h=!1}x1(Bz,ln),x1(Uz,ln),x1(oy,Fz),oy.prototype.g=function(){return new XMLHttpRequest},oy.prototype.i=function(){return{}},jz=new oy;var use=45e3,$z={},cy={};function Gz(t,e,n){t.L=1,t.v=dy(zs(e)),t.s=n,t.S=!0,oF(t,null)}function oF(t,e){t.G=Date.now(),O7(t),t.A=zs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),vF(n.i,"t",r),t.C=0,n=t.l.J,t.h=new aF,t.g=BF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new sse(cn(t.Pa,t,t.g),t.O)),QO(t.U,t.g,"readystatechange",t.nb),e=t.I?OO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),N7(),function ase(t,e,n,r,a,c){t.info(function(){if(t.g)if(c)for(var u="",p=c.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var H=b[0];b=b[1];var I=H.split("_");u=2<=I.length&&"type"==I[1]?u+(H+"=")+b+"&":u+(H+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+n+"\n"+u})}(t.j,t.u,t.A,t.m,t.W,t.s)}function cF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function lF(t,e,n){let a,r=!0;for(;!t.J&&t.C<n.length;){if(a=fse(t,n),a==cy){4==e&&(t.o=4,Vn(14),r=!1),k0(t.j,t.m,null,"[Incomplete Response]");break}if(a==$z){t.o=4,Vn(15),k0(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}k0(t.j,t.m,a,null),qz(t,a)}cF(t)&&a!=cy&&a!=$z&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xz(e),e.M=!0,Vn(11))):(k0(t.j,t.m,n,"[Invalid Chunked Response]"),No(t),F7(t))}function fse(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?cy:(n=Number(e.substring(n,r)),isNaN(n)?$z:(r+=1)+n>e.length?cy:(e=e.slice(r,r+n),t.C=r+n,e))}function O7(t){t.Y=Date.now()+t.P,uF(t,t.P)}function uF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=k7(cn(t.lb,t),e)}function ly(t){t.B&&(zt.clearTimeout(t.B),t.B=null)}function F7(t){0==t.l.H||t.J||PF(t.l,t)}function No(t){ly(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Rz(t.V),JO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function qz(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Wz(n.i,t)))if(!t.K&&Wz(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;yy(n),gy(n)}Jz(n),Vn(18)}}else n.Fa=a[1],0<n.Fa-n.V&&37500>a[2]&&n.G&&0==n.A&&!n.v&&(n.v=k7(cn(n.ib,n),6e3));if(1>=_F(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Po(n,11)}else if((t.K||n.g==t)&&yy(n),!z7(e))for(a=n.Ja.g.parse(e),e=0;e<a.length;e++){let b=a[e];if(n.V=b[0],b=b[1],2==n.H)if("c"==b[0]){n.K=b[1],n.pa=b[2];const H=b[3];null!=H&&(n.ra=H,n.l.info("VER="+n.ra));const I=b[4];null!=I&&(n.Ga=I,n.l.info("SVER="+n.Ga));const N=b[5];null!=N&&"number"==typeof N&&0<N&&(n.L=r=1.5*N,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const U=t.g;if(U){const oe=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var c=r.i;c.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Zz(c,c.h),c.h=null))}if(r.F){const Ce=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(r.Da=Ce,H2(r.I,r.F,Ce))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var u=t;if((r=n).wa=FF(r,r.J?r.pa:null,r.Y),u.K){MF(r.i,u);var p=u,y=r.L;y&&p.setTimeout(y),p.B&&(ly(p),O7(p)),r.g=u}else NF(r);0<n.j.length&&vy(n)}else"stop"!=b[0]&&"close"!=b[0]||Po(n,7);else 3==n.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Po(n,7):Qz(n):"noop"!=b[0]&&n.h&&n.h.Aa(b),n.A=0)}N7()}catch{}}function fF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Qv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function hse(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function dse(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Qv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),a=r.length,c=0;c<a;c++)e.call(void 0,r[c],n&&n[c],t)}(We=R7.prototype).setTimeout=function(t){this.P=t},We.nb=function(t){t=t.target;const e=this.M;e&&3==Si(t)?e.l():this.Pa(t)},We.Pa=function(t){try{if(t==this.g)e:{const H=Si(this.g);var e=this.g.Ia();if(this.g.da(),!(3>H)&&(3!=H||Mz||this.g&&(this.h.h||this.g.ja()||zF(this.g)))){this.J||4!=H||7==e||N7(),ly(this);var n=this.g.da();this.ca=n;t:if(cF(this)){var r=zF(this.g);t="";var a=r.length,c=4==Si(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){No(this),F7(this);var u="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==n,function ose(t,e,n,r,a,c,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+n+"\n"+c+" "+u})}(this.j,this.u,this.A,this.m,this.W,H,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z7(p)){var b=p;break t}}b=null}if(!(n=b)){this.i=!1,this.o=3,Vn(12),No(this),F7(this);break e}k0(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qz(this,n)}this.S?(lF(this,H,u),Mz&&this.i&&3==H&&(QO(this.U,this.V,"tick",this.mb),this.V.start())):(k0(this.j,this.m,u,null),qz(this,u)),4==H&&No(this),this.i&&!this.J&&(4==H?PF(this.l,this):(this.i=!1,O7(this)))}else(function xse(t){const e={};t=(t.g&&2<=Si(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(z7(t[r]))continue;var n=nse(t[r]);const a=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[a]||[];e[a]=c,c.push(n)}!function Kie(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<u.indexOf("Unknown SID")?(this.o=3,Vn(12)):(this.o=0,Vn(13)),No(this),F7(this)}}}catch{}},We.mb=function(){if(this.g){var t=Si(this.g),e=this.g.ja();this.C<e.length&&(ly(this),lF(this,t,e),this.i&&4!=t&&O7(this))}},We.cancel=function(){this.J=!0,No(this)},We.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function cse(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(N7(),Vn(17)),No(this),this.o=2,F7(this)):uF(this,this.Y-t)};var dF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ko){this.h=t.h,uy(this,t.j),this.s=t.s,this.g=t.g,fy(this,t.m),this.l=t.l;var e=t.i,n=new j7;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hF(this,n),this.o=t.o}else t&&(e=String(t).match(dF))?(this.h=!1,uy(this,e[1]||"",!0),this.s=B7(e[2]||""),this.g=B7(e[3]||"",!0),fy(this,e[4]),this.l=B7(e[5]||"",!0),hF(this,e[6]||"",!0),this.o=B7(e[7]||"")):(this.h=!1,this.i=new j7(null,this.h))}function zs(t){return new ko(t)}function uy(t,e,n){t.j=n?B7(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hF(t,e,n){e instanceof j7?(t.i=e,function _se(t,e){e&&!t.j&&(d4(t),t.i=null,t.g.forEach(function(n,r){var a=r.toLowerCase();r!=a&&(mF(this,r),vF(this,a,n))},t)),t.j=e}(t.i,t.h)):(n||(e=U7(e,yse)),t.i=new j7(e,t.h))}function H2(t,e,n){t.i.set(e,n)}function dy(t){return H2(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function B7(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function U7(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mse),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mse(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(U7(e,pF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(U7(e,pF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(U7(n,"/"==n.charAt(0)?vse:gse,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",U7(n,Cse)),t.join("")};var pF=/[#\/\?@]/g,gse=/[#\?:]/g,vse=/[#\?]/g,yse=/[#\?@]/g,Cse=/#/g;function j7(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function d4(t){t.g||(t.g=new Map,t.h=0,t.i&&function pse(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),a=null;if(0<=r){var c=t[n].substring(0,r);a=t[n].substring(r+1)}else c=t[n];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function mF(t,e){d4(t),e=P0(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gF(t,e){return d4(t),e=P0(t,e),t.g.has(e)}function vF(t,e,n){mF(t,e),0<n.length&&(t.i=null,t.g.set(P0(t,e),Cz(n)),t.h+=n.length)}function P0(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yF(t){this.l=t||wse,t=zt.PerformanceNavigationTiming?0<(t=zt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=j7.prototype).add=function(t,e){d4(this),this.i=null,t=P0(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},We.forEach=function(t,e){d4(this),this.g.forEach(function(n,r){n.forEach(function(a){t.call(e,a,r,this)},this)},this)},We.ta=function(){d4(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const a=t[r];for(let c=0;c<a.length;c++)n.push(e[r])}return n},We.Z=function(t){d4(this);let e=[];if("string"==typeof t)gF(this,t)&&(e=e.concat(this.g.get(P0(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},We.set=function(t,e){return d4(this),this.i=null,gF(this,t=P0(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},We.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const c=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var a=c;""!==u[r]&&(a+="="+encodeURIComponent(String(u[r]))),t.push(a)}}return this.i=t.join("&")};var wse=10;function CF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _F(t){return t.h?1:t.g?t.g.size:0}function Wz(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Zz(t,e){t.g?t.g.add(e):t.h=e}function MF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function wF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Cz(t.i)}yF.prototype.cancel=function(){if(this.i=wF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var bse=class{stringify(t){return zt.JSON.stringify(t,void 0)}parse(t){return zt.JSON.parse(t,void 0)}};function Hse(){this.g=new bse}function Vse(t,e,n){const r=n||"";try{fF(t,function(a,c){let u=a;E7(a)&&(u=kz(a)),e.push(r+c+"="+encodeURIComponent(u))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function hy(t,e,n,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch{}}function $7(t){this.l=t.fc||null,this.j=t.ob||!1}function py(t,e){D1.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Kz,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}x1($7,Fz),$7.prototype.g=function(){return new py(this.l,this.j)},$7.prototype.i=function(t){return function(){return t}}({}),x1(py,D1);var Kz=0;function bF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function G7(t){t.readyState=4,t.l=null,t.j=null,t.A=null,q7(t)}function q7(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(We=py.prototype).open=function(t,e){if(this.readyState!=Kz)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,q7(this)},We.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,G7(this)),this.readyState=Kz},We.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,q7(this)),this.g&&(this.readyState=3,q7(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},We.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?G7(this):q7(this),3==this.readyState&&bF(this)}},We.Za=function(t){this.g&&(this.response=this.responseText=t,G7(this))},We.Ya=function(t){this.g&&(this.response=t,G7(this))},We.ka=function(){this.g&&G7(this)},We.setRequestHeader=function(t,e){this.v.append(t,e)},We.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(py.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ise=zt.JSON.parse;function B2(t){D1.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HF,this.L=this.M=!1}x1(B2,D1);var HF="",Ese=/^https?$/i,zse=["POST","PUT"];function VF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,SF(t),my(t)}function SF(t){t.F||(t.F=!0,W1(t,"complete"),W1(t,"error"))}function IF(t){if(t.h&&typeof vz<"u"&&(!t.C[1]||4!=Si(t)||2!=t.da()))if(t.v&&4==Si(t))Oz(t.La,0,t);else if(W1(t,"readystatechange"),4==Si(t)){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var a=String(t.I).match(dF)[1]||null;!a&&zt.self&&zt.self.location&&(a=zt.self.location.protocol.slice(0,-1)),r=!Ese.test(a?a.toLowerCase():"")}n=r}if(n)W1(t,"complete"),W1(t,"success");else{t.m=6;try{var c=2<Si(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.da()+"]",SF(t)}}finally{my(t)}}}function my(t,e){if(t.g){EF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||W1(t,"ready");try{n.onreadystatechange=r}catch{}}}function EF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(zt.clearTimeout(t.A),t.A=null)}function Si(t){return t.g?t.g.readyState:0}function zF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case HF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function LF(t){let e="";return Iz(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Yz(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):H2(t,e,n))}function W7(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xF(t){this.Ga=0,this.j=[],this.l=new iy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=W7("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=W7("baseRetryDelayMs",5e3,t),this.hb=W7("retryDelaySeedMs",1e4,t),this.eb=W7("forwardChannelMaxRetries",2,t),this.xa=W7("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yF(t&&t.concurrentRequestLimit),this.Ja=new Hse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qz(t){if(DF(t),3==t.H){var e=t.W++,n=zs(t.I);if(H2(n,"SID",t.K),H2(n,"RID",e),H2(n,"TYPE","terminate"),Z7(t,n),(e=new R7(t,t.l,e)).L=2,e.v=dy(zs(n)),n=!1,zt.navigator&&zt.navigator.sendBeacon)try{n=zt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&zt.Image&&((new Image).src=e.v,n=!0),n||(e.g=BF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),O7(e)}OF(t)}function gy(t){t.g&&(Xz(t),t.g.cancel(),t.g=null)}function DF(t){gy(t),t.u&&(zt.clearTimeout(t.u),t.u=null),yy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&zt.clearTimeout(t.m),t.m=null)}function vy(t){if(!CF(t.i)&&!t.m){t.m=!0;var e=t.Na;D7||ZO(),A7||(D7(),A7=!0),Pz.add(e,t),t.C=0}}function AF(t,e){var n;n=e?e.m:t.W++;const r=zs(t.I);H2(r,"SID",t.K),H2(r,"RID",n),H2(r,"AID",t.V),Z7(t,r),t.o&&t.s&&Yz(r,t.o,t.s),n=new R7(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=TF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Zz(t.i,n),Gz(n,r,e)}function Z7(t,e){t.na&&Iz(t.na,function(n,r){H2(e,r,n)}),t.h&&fF({},function(n,r){H2(e,r,n)})}function TF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?cn(t.h.Va,t.h,t):null;e:{var a=t.j;let c=-1;for(;;){const u=["count="+n];-1==c?0<n?(c=a[0].g,u.push("ofs="+c)):c=0:u.push("ofs="+c);let p=!0;for(let y=0;y<n;y++){let b=a[y].g;const H=a[y].map;if(b-=c,0>b)c=Math.max(0,a[y].g-100),p=!1;else try{Vse(H,u,"req"+b+"_")}catch{r&&r(H)}}if(p){r=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function NF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;D7||ZO(),A7||(D7(),A7=!0),Pz.add(e,t),t.A=0}}function Jz(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=k7(cn(t.Ma,t),RF(t,t.A)),t.A++,0))}function Xz(t){null!=t.B&&(zt.clearTimeout(t.B),t.B=null)}function kF(t){t.g=new R7(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=zs(t.wa);H2(e,"RID","rpc"),H2(e,"SID",t.K),H2(e,"AID",t.V),H2(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&H2(e,"TO",t.qa),H2(e,"TYPE","xmlhttp"),Z7(t,e),t.o&&t.s&&Yz(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=dy(zs(e)),n.s=null,n.S=!0,oF(n,t)}function yy(t){null!=t.v&&(zt.clearTimeout(t.v),t.v=null)}function PF(t,e){var n=null;if(t.g==e){yy(t),Xz(t),t.g=null;var r=2}else{if(!Wz(t.i,e))return;n=e.F,MF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var a=t.C;W1(r=sy(),new nF(r,n)),vy(t)}else NF(t);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==r&&function Dse(t,e){return!(_F(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=k7(cn(t.Na,t,e),RF(t,t.C)),t.C++,0)))}(t,e)||2==r&&Jz(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),a){case 1:Po(t,5);break;case 4:Po(t,10);break;case 3:Po(t,6);break;default:Po(t,2)}}function RF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Po(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=cn(t.pb,t);n||(n=new ko("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||uy(n,"https"),dy(n)),function Sse(t,e){const n=new iy;if(zt.Image){const r=new Image;r.onload=Jv(hy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jv(hy,n,r,"TestLoadImage: error",!1,e),r.onabort=Jv(hy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jv(hy,n,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Vn(2);t.H=0,t.h&&t.h.za(e),OF(t),DF(t)}function OF(t){if(t.H=0,t.ma=[],t.h){const e=wF(t.i);(0!=e.length||0!=t.j.length)&&(TO(t.ma,e),TO(t.ma,t.j),t.i.i.length=0,Cz(t.j),t.j.length=0),t.h.ya()}}function FF(t,e,n){var r=n instanceof ko?zs(n):new ko(n);if(""!=r.g)e&&(r.g=e+"."+r.g),fy(r,r.m);else{var a=zt.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ko(null);r&&uy(c,r),e&&(c.g=e),a&&fy(c,a),n&&(c.l=n),r=c}return e=t.Da,(n=t.F)&&e&&H2(r,n,e),H2(r,"VER",t.ra),Z7(t,r),r}function BF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new B2(n&&t.Ha&&!t.va?new $7({ob:!0}):t.va)).Oa(t.J),e}function UF(){}function Cy(){if(N0&&!(10<=Number(Gie)))throw Error("Environmental error: no available transport.")}function or(t,e){D1.call(this),this.g=new xF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!z7(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!z7(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new R0(this)}function jF(t){Bz.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $F(){Uz.call(this),this.status=1}function R0(t){this.g=t}function Qr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eL(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)r[a]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=t.g[3],u=(e=t.g[0])+(c^(n=t.g[1])&((a=t.g[2])^c))+r[0]+3614090360&4294967295;u=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=n+(u<<7&4294967295|u>>>25))+((u=c+(a^e&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=a+(n^c&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^a&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(a^c))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=c+(a^e&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=a+(n^c&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^a&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(a^c))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=c+(a^e&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=a+(n^c&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^a&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(a^c))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=c+(a^e&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=a+(n^c&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^a&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^c&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^a&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=a+(e^n&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(a^c))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(a^c&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^a&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=a+(e^n&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(a^c))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(a^c&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^a&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=a+(e^n&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(a^c))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(a^c&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^a&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=a+(e^n&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(a^c))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(n^a^c)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=a+(c^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=n+(a^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^a^c)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=a+(c^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=n+(a^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^a^c)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=a+(c^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=n+(a^c^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^a^c)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=a+(c^e^n)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=n+(a^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(a^(n|~c))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~a))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=a+(e^(c|~n))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(a|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(a^(n|~c))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~a))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=a+(e^(c|~n))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(a|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(a^(n|~c))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~a))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=a+(e^(c|~n))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(a|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((c=(e=n+((u=e+(a^(n|~c))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~a))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((a=c+((u=a+(e^(c|~n))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(a+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+a&4294967295,t.g[3]=t.g[3]+c&4294967295}function r2(t,e){this.h=e;for(var n=[],r=!0,a=t.length-1;0<=a;a--){var c=0|t[a];r&&c==e||(n[a]=c,r=!1)}this.g=n}(We=B2.prototype).Oa=function(t){this.M=t},We.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jz.g(),this.C=function iF(t){return t.h||(t.h=t.i())}(this.u?this.u:jz),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(c){return void VF(this,c)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())n.set(c,r.get(c))}r=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),a=zt.FormData&&t instanceof zt.FormData,!(0<=AO(zse,e))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of n)this.g.setRequestHeader(c,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EF(this),0<this.B&&((this.L=function Lse(t){return N0&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=Oz(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(c){VF(this,c)}},We.ua=function(){typeof vz<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,W1(this,"timeout"),this.abort(8))},We.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,W1(this,"complete"),W1(this,"abort"),my(this))},We.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),my(this,!0)),B2.$.N.call(this)},We.La=function(){this.s||(this.G||this.v||this.l?IF(this):this.kb())},We.kb=function(){IF(this)},We.isActive=function(){return!!this.g},We.da=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},We.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},We.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ise(e)}},We.Ia=function(){return this.m},We.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=xF.prototype).ra=8,We.H=1,We.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const a=new R7(this,this.l,t);let c=this.s;if(this.U&&(c?(c=OO(c),BO(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TF(this,a,e),H2(n=zs(this.I),"RID",t),H2(n,"CVER",22),this.F&&H2(n,"X-HTTP-Session-Id",this.F),Z7(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(LF(c)))+"&"+e:this.o&&Yz(n,this.o,c)),Zz(this.i,a),this.bb&&H2(n,"TYPE","init"),this.P?(H2(n,"$req",e),H2(n,"SID","null"),a.aa=!0,Gz(a,n,null)):Gz(a,n,e),this.H=2}}else 3==this.H&&(t?AF(this,t):0==this.j.length||CF(this.i)||AF(this))},We.Ma=function(){if(this.u=null,kF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=k7(cn(this.jb,this),t)}},We.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vn(10),gy(this),kF(this))},We.ib=function(){null!=this.v&&(this.v=null,gy(this),Jz(this),Vn(19))},We.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Vn(2)):(this.l.info("Failed to ping google.com"),Vn(1))},We.isActive=function(){return!!this.h&&this.h.isActive(this)},(We=UF.prototype).Ba=function(){},We.Aa=function(){},We.za=function(){},We.ya=function(){},We.isActive=function(){return!0},We.Va=function(){},Cy.prototype.g=function(t,e){return new or(t,e)},x1(or,D1),or.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Vn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FF(t,null,t.Y),vy(t)},or.prototype.close=function(){Qz(this.g)},or.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=kz(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&vy(e)},or.prototype.N=function(){this.g.h=null,delete this.j,Qz(this.g),delete this.g,or.$.N.call(this)},x1(jF,Bz),x1($F,Uz),x1(R0,UF),R0.prototype.Ba=function(){W1(this.g,"a")},R0.prototype.Aa=function(t){W1(this.g,new jF(t))},R0.prototype.za=function(t){W1(this.g,new $F)},R0.prototype.ya=function(){W1(this.g,"b")},x1(Qr,function Ase(){this.blockSize=-1}),Qr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=n;)eL(this,t,c),c+=this.blockSize;if("string"==typeof t){for(;c<e;)if(r[a++]=t.charCodeAt(c++),a==this.blockSize){eL(this,r),a=0;break}}else for(;c<e;)if(r[a++]=t[c++],a==this.blockSize){eL(this,r),a=0;break}}this.h=a,this.i+=e},Qr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Tse={};function tL(t){return-128<=t&&128>t?function Uie(t,e){var n=Tse;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new r2([0|e],0>e?-1:0)}):new r2([0|t],0>t?-1:0)}function Ii(t){if(isNaN(t)||!isFinite(t))return O0;if(0>t)return Z1(Ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=nL;return new r2(e,0)}var nL=4294967296,O0=tL(0),rL=tL(1),qF=tL(16777216);function Ls(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Sr(t){return-1==t.h}function Z1(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new r2(n,~t.h).add(rL)}function _y(t,e){return t.add(Z1(e))}function My(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function K7(t,e){this.g=t,this.h=e}function wy(t,e){if(Ls(e))throw Error("division by zero");if(Ls(t))return new K7(O0,O0);if(Sr(t))return e=wy(Z1(t),e),new K7(Z1(e.g),Z1(e.h));if(Sr(e))return e=wy(t,Z1(e)),new K7(Z1(e.g),e.h);if(30<t.g.length){if(Sr(t)||Sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=rL,r=e;0>=r.X(t);)n=WF(n),r=WF(r);var a=F0(n,1),c=F0(r,1);for(r=F0(r,2),n=F0(n,2);!Ls(r);){var u=c.add(r);0>=u.X(t)&&(a=a.add(n),c=u),r=F0(r,1),n=F0(n,1)}return e=_y(t,a.R(e)),new K7(a,e)}for(a=O0;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(c=Ii(n)).R(e);Sr(u)||0<u.X(t);)u=(c=Ii(n-=r)).R(e);Ls(c)&&(c=rL),a=a.add(c),t=_y(t,u)}return new K7(a,t)}function WF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new r2(n,t.h)}function F0(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,a=[],c=0;c<r;c++)a[c]=0<e?t.D(c+n)>>>e|t.D(c+n+1)<<32-e:t.D(c+n);return new r2(a,t.h)}(We=r2.prototype).ea=function(){if(Sr(this))return-Z1(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:nL+r)*e,e*=nL}return t},We.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ls(this))return"0";if(Sr(this))return"-"+Z1(this).toString(t);for(var e=Ii(Math.pow(t,6)),n=this,r="";;){var a=wy(n,e).g,c=((0<(n=_y(n,a.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ls(n=a))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},We.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},We.X=function(t){return Sr(t=_y(this,t))?-1:Ls(t)?0:1},We.abs=function(){return Sr(this)?Z1(this):this},We.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,a=0;a<=e;a++){var c=r+(65535&this.D(a))+(65535&t.D(a)),u=(c>>>16)+(this.D(a)>>>16)+(t.D(a)>>>16);r=u>>>16,n[a]=(u&=65535)<<16|(c&=65535)}return new r2(n,-2147483648&n[n.length-1]?-1:0)},We.R=function(t){if(Ls(this)||Ls(t))return O0;if(Sr(this))return Sr(t)?Z1(this).R(Z1(t)):Z1(Z1(this).R(t));if(Sr(t))return Z1(this.R(Z1(t)));if(0>this.X(qF)&&0>t.X(qF))return Ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<t.g.length;a++){var c=this.D(r)>>>16,u=65535&this.D(r),p=t.D(a)>>>16,y=65535&t.D(a);n[2*r+2*a]+=u*y,My(n,2*r+2*a),n[2*r+2*a+1]+=c*y,My(n,2*r+2*a+1),n[2*r+2*a+1]+=u*p,My(n,2*r+2*a+1),n[2*r+2*a+2]+=c*p,My(n,2*r+2*a+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new r2(n,0)},We.gb=function(t){return wy(this,t).h},We.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new r2(n,this.h&t.h)},We.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new r2(n,this.h|t.h)},We.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new r2(n,this.h^t.h)},Cy.prototype.createWebChannel=Cy.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,ay.NO_ERROR=0,ay.TIMEOUT=8,ay.HTTP_ERROR=6,rF.COMPLETE="complete",sF.EventType=P7,P7.OPEN="a",P7.CLOSE="b",P7.ERROR="c",P7.MESSAGE="d",D1.prototype.listen=D1.prototype.O,B2.prototype.listenOnce=B2.prototype.P,B2.prototype.getLastError=B2.prototype.Sa,B2.prototype.getLastErrorCode=B2.prototype.Ia,B2.prototype.getStatus=B2.prototype.da,B2.prototype.getResponseJson=B2.prototype.Wa,B2.prototype.getResponseText=B2.prototype.ja,B2.prototype.send=B2.prototype.ha,B2.prototype.setWithCredentials=B2.prototype.Oa,Qr.prototype.digest=Qr.prototype.l,Qr.prototype.reset=Qr.prototype.reset,Qr.prototype.update=Qr.prototype.j,r2.prototype.add=r2.prototype.add,r2.prototype.multiply=r2.prototype.R,r2.prototype.modulo=r2.prototype.gb,r2.prototype.compare=r2.prototype.X,r2.prototype.toNumber=r2.prototype.ea,r2.prototype.toString=r2.prototype.toString,r2.prototype.getBits=r2.prototype.D,r2.fromNumber=Ii,r2.fromString=function GF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Z1(GF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ii(Math.pow(e,8)),r=O0,a=0;a<t.length;a+=8){var c=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+c),e);8>c?(c=Ii(Math.pow(e,c)),r=r.R(c).add(Ii(u))):r=(r=r.R(n)).add(Ii(u))}return r};var Nse=Yr.createWebChannelTransport=function(){return new Cy},kse=Yr.getStatEventTarget=function(){return sy()},iL=Yr.ErrorCode=ay,Pse=Yr.EventType=rF,Rse=Yr.Event=To,ZF=Yr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ose=Yr.FetchXmlHttpFactory=$7,by=Yr.WebChannel=sF,Fse=Yr.XhrIo=B2,Bse=Yr.Md5=Qr,B0=Yr.Integer=r2;const KF="@firebase/firestore";class A1{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A1.UNAUTHENTICATED=new A1(null),A1.GOOGLE_CREDENTIALS=new A1("google-credentials-uid"),A1.FIRST_PARTY=new A1("first-party-uid"),A1.MOCK_USER=new A1("mock-user");let U0="9.23.0";const h4=new Kr.Yd("@firebase/firestore");function sL(){return h4.logLevel}function Ie(t,...e){if(h4.logLevel<=Kr.in.DEBUG){const n=e.map(aL);h4.debug(`Firestore (${U0}): ${t}`,...n)}}function Y2(t,...e){if(h4.logLevel<=Kr.in.ERROR){const n=e.map(aL);h4.error(`Firestore (${U0}): ${t}`,...n)}}function Ir(t,...e){if(h4.logLevel<=Kr.in.WARN){const n=e.map(aL);h4.warn(`Firestore (${U0}): ${t}`,...n)}}function aL(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Xe(t="Unexpected state"){const e=`FIRESTORE (${U0}) INTERNAL ASSERTION FAILED: `+t;throw Y2(e),new Error(e)}function lt(t,e){t||Xe()}function Ge(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends rt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _1{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class YF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $se{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(A1.UNAUTHENTICATED))}shutdown(){}}class Gse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qse{constructor(e){this.t=e,this.currentUser=A1.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let a=this.i;const c=b=>this.i!==a?(a=this.i,n(b)):Promise.resolve();let u=new _1;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _1,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const b=u;e.enqueueRetryable((0,G.Z)(function*(){yield b.promise,yield c(r.currentUser)}))},y=b=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _1)}},0),p()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new YF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new A1(e)}}class Wse{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=A1.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Zse{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Wse(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(A1.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kse{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=c=>{null!=c.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.T;return this.T=c.token,Ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const a=c=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lt("string"==typeof n.token),this.T=n.token,new QF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class JF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const a=Yse(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%62))}return r}}function Et(t,e){return t<e?-1:t>e?1:0}function j0(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}function XF(t){return t+"\0"}class L2{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return L2.fromMillis(Date.now())}static fromDate(e){return L2.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new L2(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new L2(0,0))}static max(){return new ft(new L2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Y7{constructor(e,n,r){void 0===n?n=0:n>e.length&&Xe(),void 0===r?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Y7.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Y7?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const c=e.get(a),u=n.get(a);if(c<u)return-1;if(c>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wt extends Y7{construct(e,n,r){return new Wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const Qse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class U2 extends Y7{construct(e,n,r){return new U2(e,n,r)}static isValidIdentifier(e){return Qse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),U2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new U2(["__name__"])}static fromServerFormat(e){const n=[];let r="",a=0;const c=()=>{if(0===r.length)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const p=e[a];if("\\"===p){if(a+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,a+=2}else"`"===p?(u=!u,a++):"."!==p||u?(r+=p,a++):(c(),a++)}if(c(),u)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new U2(n)}static emptyPath(){return new U2([])}}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Wt.fromString(e))}static fromName(e){return new Ue(Wt.fromString(e).popFirst(5))}static empty(){return new Ue(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Wt(e.slice()))}}class Hy{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function oL(t){return t.fields.find(e=>2===e.kind)}function Ro(t){return t.fields.filter(e=>2!==e.kind)}Hy.UNKNOWN_ID=-1;class Vy{constructor(e,n){this.fieldPath=e,this.kind=n}}class Q7{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Q7(0,cr.min())}}function eB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ft.fromTimestamp(1e9===r?new L2(n+1,0):new L2(n,r));return new cr(a,Ue.empty(),e)}function tB(t){return new cr(t.readTime,t.key,-1)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(ft.min(),Ue.empty(),-1)}static max(){return new cr(ft.max(),Ue.empty(),-1)}}function cL(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ue.comparator(t.documentKey,e.documentKey),0!==n?n:Et(t.largestBatchId,e.largestBatchId))}const nB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function p4(t){return lL.apply(this,arguments)}function lL(){return lL=(0,G.Z)(function*(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==nB)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}),lL.apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let a=0,c=0,u=!1;e.forEach(p=>{++a,p.next(()=>{++c,u&&c===a&&n()},y=>r(y))}),u=!0,c===a&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(a=>a?Q.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,c)=>{r.push(n.call(this,a,c))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,a)=>{const c=e.length,u=new Array(c);let p=0;for(let y=0;y<c;y++){const b=y;n(e[b]).next(H=>{u[b]=H,++p,p===c&&r(u)},H=>a(H))}})}static doWhile(e,n){return new Q((r,a)=>{const c=()=>{!0===e()?n().next(()=>{c()},a):r()};c()})}}class Sy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new _1,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new J7(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const a=uL(r.target.error);this.v.reject(new J7(e,a))}}static open(e,n,r,a){try{return new Sy(n,e.transaction(a,r))}catch(c){throw new J7(n,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new t3e(n)}}class Jr{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===Jr.S((0,rt.z$)())&&Y2("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),Oo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,rt.hl)())return!1;if(Jr.C())return!0;const e=(0,rt.z$)(),n=Jr.S(e),r=0<n&&n<10,a=Jr.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,G.Z)(function*(){return n.db||(Ie("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,a)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{a(new J7(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const p=u.target.error;a("VersionError"===p.name?new ye(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new ye(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new J7(e,p))},c.onupgradeneeded=u=>{Ie("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',u.oldVersion),n.V.O(u.target.result,c.transaction,u.oldVersion,n.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,a){var c=this;return(0,G.Z)(function*(){const u="readonly"===n;let p=0;for(;;){++p;try{c.db=yield c.$(e);const y=Sy.open(c.db,e,u?"readonly":"readwrite",r),b=a(y).next(H=>(y.P(),H)).catch(H=>(y.abort(H),Q.reject(H))).toPromise();return b.catch(()=>{}),yield y.R,b}catch(y){const b=y,H="FirebaseError"!==b.name&&p<3;if(Ie("SimpleDb","Transaction failed with error:",b.message,"Retrying:",H),c.close(),!H)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class e3e{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Oo(this.L.delete())}}class J7 extends ye{constructor(e,n){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function m4(t){return"IndexedDbTransactionError"===t.name}class t3e{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Ie("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Oo(r)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),Oo(this.store.add(e))}get(e){return Oo(this.store.get(e)).next(n=>(void 0===n&&(n=null),Ie("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),Oo(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),Oo(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const a=this.cursor(r),c=[];return this.W(a,(u,p)=>{c.push(p)}).next(()=>c)}{const a=this.store.getAll(r.range);return new Q((c,u)=>{a.onerror=p=>{u(p.target.error)},a.onsuccess=p=>{c(p.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Q((a,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{a(u.target.result)}})}J(e,n){Ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const a=this.cursor(r);return this.W(a,(c,u,p)=>p.delete())}X(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.W(a,n)}Z(e){const n=this.cursor({});return new Q((r,a)=>{n.onerror=c=>{const u=uL(c.target.error);a(u)},n.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}W(e,n){const r=[];return new Q((a,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void a();const y=new e3e(p),b=n(p.primaryKey,p.value,y);if(b instanceof Q){const H=b.catch(I=>(y.done(),Q.reject(I)));r.push(H)}y.isDone?a():null===y.K?p.continue():p.continue(y.K)}}).next(()=>Q.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Oo(t){return new Q((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const a=uL(r.target.error);n(a)}})}let iB=!1;function uL(t){const e=Jr.S((0,rt.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iB||(iB=!0,setTimeout(()=>{throw r},0)),r}}return t}class n3e{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Ie("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,G.Z)(function*(){n.task=null;try{Ie("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){m4(r)?Ie("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield p4(r)}yield n.et(6e4)}))}}class r3e{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,G.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let a=n,c=!0;return Q.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Ie("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,a).next(p=>{a-=p,r.add(u)});c=!1})).next(()=>n-a)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(a,c)).next(p=>(Ie("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,n,p))).next(()=>u.size)}))}rt(e,n){let r=e;return n.changes.forEach((a,c)=>{const u=tB(c);cL(u,r)>0&&(r=u)}),new cr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let lr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>r.writeSequenceNumber(a))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function X7(t){return null==t}function ef(t){return 0===t&&1/t==-1/0}function sB(t){return"number"==typeof t&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function un(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aB(e)),e=i3e(t.get(n),e);return aB(e)}function i3e(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const c=t.charAt(a);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function aB(t){return t+"\x01\x01"}function Ei(t){const e=t.length;if(lt(e>=2),2===e)return lt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wt.emptyPath();const n=e-2,r=[];let a="";for(let c=0;c<e;){const u=t.indexOf("\x01",c);switch((u<0||u>n)&&Xe(),t.charAt(u+1)){case"\x01":const p=t.substring(c,u);let y;0===a.length?y=p:(a+=p,y=a,a=""),r.push(y);break;case"\x10":a+=t.substring(c,u),a+="\0";break;case"\x11":a+=t.substring(c,u+1);break;default:Xe()}c=u+2}return new Wt(r)}const oB=["userId","batchId"];function Iy(t,e){return[t,un(e)]}function cB(t,e,n){return[t,un(e),n]}const s3e={},a3e=["prefixPath","collectionGroup","readTime","documentId"],o3e=["prefixPath","collectionGroup","documentId"],c3e=["collectionGroup","readTime","prefixPath","documentId"],l3e=["canonicalId","targetId"],u3e=["targetId","path"],f3e=["path","targetId"],d3e=["collectionId","parent"],h3e=["indexId","uid"],p3e=["uid","sequenceNumber"],m3e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g3e=["indexId","uid","orderedDocumentKey"],v3e=["userId","collectionPath","documentId"],y3e=["userId","collectionPath","largestBatchId"],C3e=["userId","collectionGroup","largestBatchId"],lB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_3e=[...lB,"documentOverlays"],uB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fB=uB,M3e=[...fB,"indexConfiguration","indexState","indexEntries"];class fL extends rB{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function T1(t,e){const n=Ge(t);return Jr.M(n.ht,e)}function dB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function g4(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class h2{constructor(e,n){this.comparator=e,this.root=n||K1.EMPTY}insert(e,n){return new h2(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,K1.BLACK,null,null))}remove(e){return new h2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,K1.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ey(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ey(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ey(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ey(this.root,e,this.comparator,!0)}}class Ey{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class K1{constructor(e,n,r,a,c){this.key=e,this.value=n,this.color=r??K1.RED,this.left=a??K1.EMPTY,this.right=c??K1.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,c){return new K1(e??this.key,n??this.value,r??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,r),null):0===c?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return K1.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(e,a.key)){if(a.right.isEmpty())return K1.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,K1.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,K1.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}K1.EMPTY=null,K1.RED=!0,K1.BLACK=!1,K1.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(t,e,n,r,a){return this}insert(t,e,n){return new K1(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class V2{constructor(e){this.comparator=e,this.data=new h2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pB(this.data.getIterator())}getIteratorFrom(e){return new pB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof V2)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new V2(this.comparator);return n.data=e,n}}class pB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $0(t){return t.hasNext()?t.getNext():void 0}class Pn{constructor(e){this.fields=e,e.sort(U2.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new V2(U2.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return j0(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class mB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class M1{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mB("Invalid base64 string: "+a):a}}(e);return new M1(n)}static fromUint8Array(e){const n=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new M1(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}M1.EMPTY_BYTE_STRING=new M1("");const b3e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function v4(t){if(lt(!!t),"string"==typeof t){let e=0;const n=b3e.exec(t);if(lt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:j2(t.seconds),nanos:j2(t.nanos)}}function j2(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function xs(t){return"string"==typeof t?M1.fromBase64String(t):M1.fromUint8Array(t)}function zy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ly(t){const e=t.mapValue.fields.__previous_value__;return zy(e)?Ly(e):e}function tf(t){const e=v4(t.mapValue.fields.__local_write_time__.timestampValue);return new L2(e.seconds,e.nanos)}class H3e{constructor(e,n,r,a,c,u,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=b}}class y4{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new y4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof y4&&e.projectId===this.projectId&&e.database===this.database}}const C4={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xy={nullValue:"NULL_VALUE"};function _4(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zy(t)?4:CB(t)?9007199254740991:10:Xe()}function zi(t,e){if(t===e)return!0;const n=_4(t);if(n!==_4(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tf(t).isEqual(tf(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=v4(r.timestampValue),u=v4(a.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return a=e,xs(t.bytesValue).isEqual(xs(a.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return j2(r.geoPointValue.latitude)===j2(a.geoPointValue.latitude)&&j2(r.geoPointValue.longitude)===j2(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return j2(r.integerValue)===j2(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=j2(r.doubleValue),u=j2(a.doubleValue);return c===u?ef(c)===ef(u):isNaN(c)&&isNaN(u)}return!1}(t,e);case 9:return j0(t.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:return function(r,a){const c=r.mapValue.fields||{},u=a.mapValue.fields||{};if(dB(c)!==dB(u))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===u[p]||!zi(c[p],u[p])))return!1;return!0}(t,e);default:return Xe()}var a}function nf(t,e){return void 0!==(t.values||[]).find(n=>zi(n,e))}function M4(t,e){if(t===e)return 0;const n=_4(t),r=_4(e);if(n!==r)return Et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return function(a,c){const u=j2(a.integerValue||a.doubleValue),p=j2(c.integerValue||c.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(t,e);case 3:return gB(t.timestampValue,e.timestampValue);case 4:return gB(tf(t),tf(e));case 5:return Et(t.stringValue,e.stringValue);case 6:return function(a,c){const u=xs(a),p=xs(c);return u.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const u=a.split("/"),p=c.split("/");for(let y=0;y<u.length&&y<p.length;y++){const b=Et(u[y],p[y]);if(0!==b)return b}return Et(u.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const u=Et(j2(a.latitude),j2(c.latitude));return 0!==u?u:Et(j2(a.longitude),j2(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,c){const u=a.values||[],p=c.values||[];for(let y=0;y<u.length&&y<p.length;++y){const b=M4(u[y],p[y]);if(b)return b}return Et(u.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===C4.mapValue&&c===C4.mapValue)return 0;if(a===C4.mapValue)return 1;if(c===C4.mapValue)return-1;const u=a.fields||{},p=Object.keys(u),y=c.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let H=0;H<p.length&&H<b.length;++H){const I=Et(p[H],b[H]);if(0!==I)return I;const N=M4(u[p[H]],y[b[H]]);if(0!==N)return N}return Et(p.length,b.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function gB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Et(t,e);const n=v4(t),r=v4(e),a=Et(n.seconds,r.seconds);return 0!==a?a:Et(n.nanos,r.nanos)}function G0(t){return dL(t)}function dL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const a=v4(r);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xs(t.bytesValue).toBase64():"referenceValue"in t?Ue.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let a="[",c=!0;for(const u of r.values||[])c?c=!1:a+=",",a+=dL(u);return a+"]"}(t.arrayValue):"mapValue"in t?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",u=!0;for(const p of a)u?u=!1:c+=",",c+=`${p}:${dL(r.fields[p])}`;return c+"}"}(t.mapValue):Xe();var e}function Fo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hL(t){return!!t&&"integerValue"in t}function rf(t){return!!t&&"arrayValue"in t}function vB(t){return!!t&&"nullValue"in t}function yB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ay(t){return!!t&&"mapValue"in t}function sf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return g4(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function V3e(t){return"nullValue"in t?xy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fo(y4.empty(),Ue.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Xe()}function S3e(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fo(y4.empty(),Ue.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?C4:Xe()}function _B(t,e){const n=M4(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function MB(t,e){const n=M4(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Y1{constructor(e){this.value=e}static empty(){return new Y1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ay(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sf(n)}setAll(e){let n=U2.emptyPath(),r={},a=[];e.forEach((u,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,a),r={},a=[],n=p.popLast()}u?r[p.lastSegment()]=sf(u):a.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,a)}delete(e){const n=this.field(e.popLast());Ay(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Ay(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){g4(n,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new Y1(sf(this.value))}}function wB(t){const e=[];return g4(t.fields,(n,r)=>{const a=new U2([n]);if(Ay(r)){const c=wB(r.mapValue).fields;if(0===c.length)e.push(a);else for(const u of c)e.push(a.child(u))}else e.push(a)}),new Pn(e)}class S2{constructor(e,n,r,a,c,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new S2(e,0,ft.min(),ft.min(),ft.min(),Y1.empty(),0)}static newFoundDocument(e,n,r,a){return new S2(e,1,n,ft.min(),r,a,0)}static newNoDocument(e,n){return new S2(e,2,n,ft.min(),ft.min(),Y1.empty(),0)}static newUnknownDocument(e,n){return new S2(e,3,n,ft.min(),ft.min(),Y1.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Y1.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Y1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof S2&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new S2(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class w4{constructor(e,n){this.position=e,this.inclusive=n}}function bB(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const c=e[a],u=t.position[a];if(r=c.field.isKeyField()?Ue.comparator(Ue.fromName(u.referenceValue),n.key):M4(u,n.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function HB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zi(t.position[n],e.position[n]))return!1;return!0}class q0{constructor(e,n="asc"){this.field=e,this.dir=n}}function I3e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class VB{}class Gt extends VB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new E3e(e,n,r):"array-contains"===n?new x3e(e,r):"in"===n?new xB(e,r):"not-in"===n?new D3e(e,r):"array-contains-any"===n?new A3e(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new z3e(e,r):new L3e(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(M4(n,this.value)):null!==n&&_4(this.value)===_4(n)&&this.matchesComparison(M4(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class s2 extends VB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new s2(e,n)}matches(e){return W0(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function W0(t){return"and"===t.op}function pL(t){return"or"===t.op}function mL(t){return SB(t)&&W0(t)}function SB(t){for(const e of t.filters)if(e instanceof s2)return!1;return!0}function gL(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+G0(t.value);if(mL(t))return t.filters.map(e=>gL(e)).join(",");{const e=t.filters.map(n=>gL(n)).join(",");return`${t.op}(${e})`}}function IB(t,e){return t instanceof Gt?(n=t,(r=e)instanceof Gt&&n.op===r.op&&n.field.isEqual(r.field)&&zi(n.value,r.value)):t instanceof s2?function(n,r){return r instanceof s2&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((a,c,u)=>a&&IB(c,r.filters[u]),!0)}(t,e):void Xe();var n,r}function EB(t,e){const n=t.filters.concat(e);return s2.create(n,t.op)}function zB(t){return t instanceof Gt?`${(e=t).field.canonicalString()} ${e.op} ${G0(e.value)}`:t instanceof s2?function(e){return e.op.toString()+" {"+e.getFilters().map(zB).join(" ,")+"}"}(t):"Filter";var e}class E3e extends Gt{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class z3e extends Gt{constructor(e,n){super(e,"in",n),this.keys=LB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L3e extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=LB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class x3e extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rf(n)&&nf(n.arrayValue,this.value)}}class xB extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&nf(this.value.arrayValue,n)}}class D3e extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!nf(this.value.arrayValue,n)}}class A3e extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nf(this.value.arrayValue,r))}}class T3e{constructor(e,n=null,r=[],a=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=u,this.endAt=p,this.dt=null}}function vL(t,e=null,n=[],r=[],a=null,c=null,u=null){return new T3e(t,e,n,r,a,c,u)}function Bo(t){const e=Ge(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),X7(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>G0(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>G0(r)).join(",")),e.dt=n}return e.dt}function af(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I3e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HB(t.startAt,e.startAt)&&HB(t.endAt,e.endAt)}function Ty(t){return Ue.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Ny(t,e){return t.filters.filter(n=>n instanceof Gt&&n.field.isEqual(e))}function DB(t,e,n){let r=xy,a=!0;for(const c of Ny(t,e)){let u=xy,p=!0;switch(c.op){case"<":case"<=":u=V3e(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,p=!1;break;case"!=":case"not-in":u=xy}_B({value:r,inclusive:a},{value:u,inclusive:p})<0&&(r=u,a=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];_B({value:r,inclusive:a},{value:u,inclusive:n.inclusive})<0&&(r=u,a=n.inclusive);break}return{value:r,inclusive:a}}function AB(t,e,n){let r=C4,a=!0;for(const c of Ny(t,e)){let u=C4,p=!0;switch(c.op){case">=":case">":u=S3e(c.value),p=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,p=!1;break;case"!=":case"not-in":u=C4}MB({value:r,inclusive:a},{value:u,inclusive:p})>0&&(r=u,a=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];MB({value:r,inclusive:a},{value:u,inclusive:n.inclusive})>0&&(r=u,a=n.inclusive);break}return{value:r,inclusive:a}}class Ds{constructor(e,n=null,r=[],a=[],c=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=y,this.wt=null,this._t=null}}function TB(t,e,n,r,a,c,u,p){return new Ds(t,e,n,r,a,c,u,p)}function Z0(t){return new Ds(t)}function NB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function yL(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ky(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function CL(t){return null!==t.collectionGroup}function Uo(t){const e=Ge(t);if(null===e.wt){e.wt=[];const n=ky(e),r=yL(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new q0(n)),e.wt.push(new q0(U2.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new q0(U2.keyField(),c))}}}return e.wt}function Sn(t){const e=Ge(t);if(!e._t)if("F"===e.limitType)e._t=vL(e.path,e.collectionGroup,Uo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of Uo(e))n.push(new q0(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new w4(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new w4(e.startAt.position,e.startAt.inclusive):null;e._t=vL(e.path,e.collectionGroup,n,e.filters,e.limit,r,a)}return e._t}function _L(t,e){e.getFirstInequalityField(),ky(t);const n=t.filters.concat([e]);return new Ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Py(t,e,n){return new Ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return af(Sn(t),Sn(e))&&t.limitType===e.limitType}function kB(t){return`${Bo(Sn(t))}|lt:${t.limitType}`}function ML(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>zB(r)).join(", ")}]`),X7(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>G0(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>G0(r)).join(",")),`Target(${n})`}(Sn(t))}; limitType=${t.limitType})`}function lf(t,e){return e.isFoundDocument()&&function(n,r){const a=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ue.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,r){for(const a of Uo(n))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(t,e)&&function(n,r){for(const a of n.filters)if(!a.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(a,c,u){const p=bB(a,c,u);return a.inclusive?p<=0:p<0}(n.startAt,Uo(n),r)||n.endAt&&!function(a,c,u){const p=bB(a,c,u);return a.inclusive?p>=0:p>0}(n.endAt,Uo(n),r)));var n,r}function PB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RB(t){return(e,n)=>{let r=!1;for(const a of Uo(t)){const c=N3e(a,e,n);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function N3e(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(a,c,u){const p=c.data.field(a),y=u.data.field(a);return null!==p&&null!==y?M4(p,y):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){g4(this.inner,(n,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return hB(this.inner)}size(){return this.innerSize}}const k3e=new h2(Ue.comparator);function Rn(){return k3e}const OB=new h2(Ue.comparator);function uf(...t){let e=OB;for(const n of t)e=e.insert(n.key,n);return e}function FB(t){let e=OB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Li(){return ff()}function BB(){return ff()}function ff(){return new As(t=>t.toString(),(t,e)=>t.isEqual(e))}const P3e=new h2(Ue.comparator),R3e=new V2(Ue.comparator);function Nt(...t){let e=R3e;for(const n of t)e=e.add(n);return e}const O3e=new V2(Et);function wL(){return O3e}function UB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function jB(t){return{integerValue:""+t}}function $B(t,e){return sB(e)?jB(e):UB(t,e)}class Ry{constructor(){this._=void 0}}function F3e(t,e,n){return t instanceof K0?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&zy(a)&&(a=Ly(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(n,e):t instanceof jo?qB(t,e):t instanceof $o?WB(t,e):function(r,a){const c=GB(r,a),u=ZB(c)+ZB(r.gt);return hL(c)&&hL(r.gt)?jB(u):UB(r.serializer,u)}(t,e)}function B3e(t,e,n){return t instanceof jo?qB(t,e):t instanceof $o?WB(t,e):n}function GB(t,e){return t instanceof Y0?hL(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class K0 extends Ry{}class jo extends Ry{constructor(e){super(),this.elements=e}}function qB(t,e){const n=KB(e);for(const r of t.elements)n.some(a=>zi(a,r))||n.push(r);return{arrayValue:{values:n}}}class $o extends Ry{constructor(e){super(),this.elements=e}}function WB(t,e){let n=KB(e);for(const r of t.elements)n=n.filter(a=>!zi(a,r));return{arrayValue:{values:n}}}class Y0 extends Ry{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ZB(t){return j2(t.integerValue||t.doubleValue)}function KB(t){return rf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class df{constructor(e,n){this.field=e,this.transform=n}}class j3e{constructor(e,n){this.version=e,this.transformResults=n}}class x2{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new x2}static exists(e){return new x2(void 0,e)}static updateTime(e){return new x2(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oy(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Fy{}function YB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new J0(t.key,x2.none()):new Q0(t.key,t.data,x2.none());{const n=t.data,r=Y1.empty();let a=new V2(U2.comparator);for(let c of e.fields)if(!a.has(c)){let u=n.field(c);null===u&&c.length>1&&(c=c.popLast(),u=n.field(c)),null===u?r.delete(c):r.set(c,u),a=a.add(c)}return new Ts(t.key,r,new Pn(a.toArray()),x2.none())}}function $3e(t,e,n){t instanceof Q0?function(r,a,c){const u=r.value.clone(),p=XB(r.fieldTransforms,a,c.transformResults);u.setAll(p),a.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Ts?function(r,a,c){if(!Oy(r.precondition,a))return void a.convertToUnknownDocument(c.version);const u=XB(r.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(JB(r)),p.setAll(u),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function hf(t,e,n,r){return t instanceof Q0?function(a,c,u,p){if(!Oy(a.precondition,c))return u;const y=a.value.clone(),b=eU(a.fieldTransforms,p,c);return y.setAll(b),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ts?function(a,c,u,p){if(!Oy(a.precondition,c))return u;const y=eU(a.fieldTransforms,p,c),b=c.data;return b.setAll(JB(a)),b.setAll(y),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),null===u?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(H=>H.field))}(t,e,n,r):(u=n,Oy(t.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u);var c,u}function G3e(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),c=GB(r.transform,a||null);null!=c&&(null===n&&(n=Y1.empty()),n.set(r.field,c))}return n||null}function QB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&j0(n,r,(a,c)=>function U3e(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof jo&&r instanceof jo||n instanceof $o&&r instanceof $o?j0(n.elements,r.elements,zi):n instanceof Y0&&r instanceof Y0?zi(n.gt,r.gt):n instanceof K0&&r instanceof K0);var n,r}(a,c))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Q0 extends Fy{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ts extends Fy{constructor(e,n,r,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XB(t,e,n){const r=new Map;lt(t.length===n.length);for(let a=0;a<n.length;a++){const c=t[a],u=c.transform,p=e.data.field(c.field);r.set(c.field,B3e(u,p,n[a]))}return r}function eU(t,e,n){const r=new Map;for(const a of t){const c=a.transform,u=n.data.field(a.field);r.set(a.field,F3e(c,u,e))}return r}class J0 extends Fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bL extends Fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HL{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&$3e(c,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BB();return this.mutations.forEach(a=>{const c=e.get(a.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(a.key)?null:p;const y=YB(u,p);null!==y&&r.set(a.key,y),u.isValidDocument()||u.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nt())}isEqual(e){return this.batchId===e.batchId&&j0(this.mutations,e.mutations,(n,r)=>QB(n,r))&&j0(this.baseMutations,e.baseMutations,(n,r)=>QB(n,r))}}class VL{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){lt(e.mutations.length===r.length);let a=P3e;const c=e.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,r[u].version);return new VL(e,n,r,a)}}class SL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class W3e{constructor(e,n){this.count=e,this.unchangedNames=n}}var i1,Zt;function tU(t){switch(t){default:return Xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function nU(t){if(void 0===t)return Y2("GRPC error has no .code"),ne.UNKNOWN;switch(t){case i1.OK:return ne.OK;case i1.CANCELLED:return ne.CANCELLED;case i1.UNKNOWN:return ne.UNKNOWN;case i1.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case i1.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case i1.INTERNAL:return ne.INTERNAL;case i1.UNAVAILABLE:return ne.UNAVAILABLE;case i1.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case i1.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case i1.NOT_FOUND:return ne.NOT_FOUND;case i1.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case i1.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case i1.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case i1.ABORTED:return ne.ABORTED;case i1.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case i1.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case i1.DATA_LOSS:return ne.DATA_LOSS;default:return Xe()}}(Zt=i1||(i1={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class IL{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return By}static getOrCreateInstance(){return null===By&&(By=new IL),By}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let By=null;function rU(){return new TextEncoder}const Z3e=new B0([4294967295,4294967295],0);function iU(t){const e=rU().encode(t),n=new Bse;return n.update(e),new Uint8Array(n.digest())}function sU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new B0([n,r],0),new B0([a,c],0)]}class EL{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pf(`Invalid padding: ${n}`);if(r<0)throw new pf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new pf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new pf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=B0.fromNumber(this.It)}Et(e,n,r){let a=e.add(n.multiply(B0.fromNumber(r)));return 1===a.compare(Z3e)&&(a=new B0([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=iU(e),[r,a]=sU(n);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,a,c);if(!this.At(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new EL(c,a,n);return r.forEach(p=>u.insert(p)),u}insert(e){if(0===this.It)return;const n=iU(e),[r,a]=sU(n);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,a,c);this.Rt(u)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mf{constructor(e,n,r,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mf(ft.min(),a,new h2(Et),Rn(),Nt())}}class gf{constructor(e,n,r,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,Nt(),Nt(),Nt())}}class Uy{constructor(e,n,r,a){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=a}}class aU{constructor(e,n){this.targetId=e,this.Vt=n}}class oU{constructor(e,n,r=M1.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class cU{constructor(){this.St=0,this.Dt=uU(),this.Ct=M1.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Nt(),n=Nt(),r=Nt();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Xe()}}),new gf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=uU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class K3e{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Rn(),this.zt=lU(),this.Wt=new h2(Et)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,a)=>{this.te(a)&&n(a)})}ne(e){var n;const r=e.targetId,a=e.Vt.count,c=this.se(r);if(c){const u=c.target;if(Ty(u))if(0===a){const p=new Ue(u.path);this.Yt(r,p,S2.newNoDocument(p,ft.min()))}else lt(1===a);else{const p=this.ie(r);if(p!==a){const y=this.re(e,p);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=IL.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(b,H,I){var N,U,oe,Ce,Me,je;const qe={localCacheCount:H,existenceFilterCount:I.count},Ze=I.unchangedNames;return Ze&&(qe.bloomFilter={applied:0===b,hashCount:null!==(N=Ze?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(Ce=null===(oe=null===(U=Ze?.bits)||void 0===U?void 0:U.bitmap)||void 0===oe?void 0:oe.length)&&void 0!==Ce?Ce:0,padding:null!==(je=null===(Me=Ze?.bits)||void 0===Me?void 0:Me.padding)&&void 0!==je?je:0}),qe}(y,p,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:a}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:u=0},hashCount:p=0}=r;let y,b;try{y=xs(c).toUint8Array()}catch(H){if(H instanceof mB)return Ir("Decoding the base64 bloom filter in existence filter failed ("+H.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw H}try{b=new EL(y,u,p)}catch(H){return Ir(H instanceof pf?"BloomFilter error: ":"Applying bloom filter failed: ",H),1}return 0===b.It?1:a!==n-this.oe(e.targetId,b)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let a=0;return r.forEach(c=>{const u=this.Gt.ue(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;n.vt(p)||(this.Yt(e,c,null),a++)}),a}ce(e){const n=new Map;this.Qt.forEach((c,u)=>{const p=this.se(u);if(p){if(c.current&&Ty(p.target)){const y=new Ue(p.target.path);null!==this.jt.get(y)||this.ae(u,y)||this.Yt(u,y,S2.newNoDocument(y,e))}c.Mt&&(n.set(u,c.Ot()),c.Ft())}});let r=Nt();this.zt.forEach((c,u)=>{let p=!0;u.forEachWhile(y=>{const b=this.se(y);return!b||"TargetPurposeLimboResolution"===b.purpose||(p=!1,!1)}),p&&(r=r.add(c))}),this.jt.forEach((c,u)=>u.setReadTime(e));const a=new mf(e,n,this.Wt,this.jt,r);return this.jt=Rn(),this.zt=lU(),this.Wt=new h2(Et),a}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,n)?a.Bt(n,1):a.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new cU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new V2(Et),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function lU(){return new h2(Ue.comparator)}function uU(){return new h2(Ue.comparator)}const Y3e={asc:"ASCENDING",desc:"DESCENDING"},Q3e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J3e={and:"AND",or:"OR"};class X3e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zL(t,e){return t.useProto3Json||X7(e)?e:{value:e}}function X0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e4e(t,e){return X0(t,e.toTimestamp())}function Q2(t){return lt(!!t),ft.fromTimestamp(function(e){const n=v4(e);return new L2(n.seconds,n.nanos)}(t))}function LL(t,e){return(n=t,new Wt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function dU(t){const e=Wt.fromString(t);return lt(MU(e)),e}function vf(t,e){return LL(t.databaseId,e.path)}function xi(t,e){const n=dU(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(pU(n))}function xL(t,e){return LL(t.databaseId,e)}function hU(t){const e=dU(t);return 4===e.length?Wt.emptyPath():pU(e)}function yf(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pU(t){return lt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function mU(t,e,n){return{name:vf(t,e),fields:n.value.mapValue.fields}}function gU(t,e,n){const r=xi(t,e.name),a=Q2(e.updateTime),c=e.createTime?Q2(e.createTime):ft.min(),u=new Y1({mapValue:{fields:e.fields}}),p=S2.newFoundDocument(r,a,c,u);return n&&p.setHasCommittedMutations(),n?p.setHasCommittedMutations():p}function Cf(t,e){let n;if(e instanceof Q0)n={update:mU(t,e.key,e.value)};else if(e instanceof J0)n={delete:vf(t,e.key)};else if(e instanceof Ts)n={update:mU(t,e.key,e.data),updateMask:c4e(e.fieldMask)};else{if(!(e instanceof bL))return Xe();n={verify:vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const u=c.transform;if(u instanceof K0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof jo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $o)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Y0)return{fieldPath:c.field.canonicalString(),increment:u.gt};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:e4e(t,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Xe()),n;var a}function DL(t,e){const n=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?x2.updateTime(Q2(a.updateTime)):void 0!==a.exists?x2.exists(a.exists):x2.none():x2.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,u){let p=null;"setToServerValue"in u?(lt("REQUEST_TIME"===u.setToServerValue),p=new K0):"appendMissingElements"in u?p=new jo(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new $o(u.removeAllFromArray.values||[]):"increment"in u?p=new Y0(c,u.increment):Xe();const y=U2.fromServerFormat(u.fieldPath);return new df(y,p)}(t,a)):[];var a;if(e.update){const a=xi(t,e.update.name),c=new Y1({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Pn((e.updateMask.fieldPaths||[]).map(b=>U2.fromServerFormat(b)));return new Ts(a,c,u,n,r)}return new Q0(a,c,n,r)}if(e.delete){const a=xi(t,e.delete);return new J0(a,n)}if(e.verify){const a=xi(t,e.verify);return new bL(a,n)}return Xe()}function vU(t,e){return{documents:[xL(t,e.path)]}}function AL(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=xL(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xL(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(y){if(0!==y.length)return _U(s2.create(y,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(y){if(0!==y.length)return y.map(b=>{return{field:b4((H=b).field),direction:s4e(H.dir)};var H})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=zL(t,e.limit);var p,y;return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(n.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),n}function yU(t){let e=hU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){lt(1===r);const H=n.from[0];H.allDescendants?a=H.collectionId:e=e.child(H.collectionId)}let c=[];n.where&&(c=function(H){const I=CU(H);return I instanceof s2&&mL(I)?I.getFilters():[I]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(H=>{return new q0(el((I=H).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let p=null;n.limit&&(p=function(H){let I;return I="object"==typeof H?H.value:H,X7(I)?null:I}(n.limit));let y=null;var H;n.startAt&&(y=new w4((H=n.startAt).values||[],!!H.before));let b=null;return n.endAt&&(b=function(H){return new w4(H.values||[],!H.before)}(n.endAt)),TB(e,a,u,c,p,"F",y,b)}function CU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=el(e.unaryFilter.field);return Gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=el(e.unaryFilter.field);return Gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=el(e.unaryFilter.field);return Gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(e.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):void 0!==t.fieldFilter?Gt.create(el((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return s2.create(e.compositeFilter.filters.map(n=>CU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(t):Xe();var e}function s4e(t){return Y3e[t]}function a4e(t){return Q3e[t]}function o4e(t){return J3e[t]}function b4(t){return{fieldPath:t.canonicalString()}}function el(t){return U2.fromServerFormat(t.fieldPath)}function _U(t){return t instanceof Gt?function(e){if("=="===e.op){if(yB(e.value))return{unaryFilter:{field:b4(e.field),op:"IS_NAN"}};if(vB(e.value))return{unaryFilter:{field:b4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yB(e.value))return{unaryFilter:{field:b4(e.field),op:"IS_NOT_NAN"}};if(vB(e.value))return{unaryFilter:{field:b4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:b4(e.field),op:a4e(e.op),value:e.value}}}(t):t instanceof s2?function(e){const n=e.getFilters().map(r=>_U(r));return 1===n.length?n[0]:{compositeFilter:{op:o4e(e.op),filters:n}}}(t):Xe()}function c4e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ns{constructor(e,n,r,a,c=ft.min(),u=ft.min(),p=M1.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wU{constructor(e){this.fe=e}}function bU(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:vf(a=t.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:X0(a,c.version.toTimestamp()),createTime:X0(a,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Go(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:n.path.toArray(),version:Go(e.version)}}var a,c;return r}function jy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Go(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qo(t){const e=new L2(t.seconds,t.nanoseconds);return ft.fromTimestamp(e)}function Wo(t,e){const n=(e.baseMutations||[]).map(c=>DL(t.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>DL(t.fe,c)),a=L2.fromMillis(e.localWriteTimeMs);return new HL(e.batchId,a,n,r)}function _f(t){const e=qo(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?qo(t.lastLimboFreeSnapshotVersion):ft.min();let r;var a;return void 0!==t.query.documents?(lt(1===(a=t.query).documents.length),r=Sn(Z0(hU(a.documents[0])))):r=Sn(yU(t.query)),new Ns(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,M1.fromBase64String(t.resumeToken))}function HU(t,e){const n=Go(e.snapshotVersion),r=Go(e.lastLimboFreeSnapshotVersion);let a;a=Ty(e.target)?vU(t.fe,e.target):AL(t.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bo(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function TL(t){const e=yU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Py(e,e.limit,"L"):e}function NL(t,e){return new SL(e.largestBatchId,DL(t.fe,e.overlayMutation))}function VU(t,e){const n=e.path.lastSegment();return[t,un(e.path.popLast()),n]}function SU(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Go(r.readTime),documentKey:un(r.documentKey.path),largestBatchId:r.largestBatchId}}class u4e{getBundleMetadata(e,n){return IU(e).get(n).next(r=>{if(r)return{id:(a=r).bundleId,createTime:qo(a.createTime),version:a.version};var a})}saveBundleMetadata(e,n){return IU(e).put({bundleId:(r=n).id,createTime:Go(Q2(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return EU(e).get(n).next(r=>{if(r)return{name:(a=r).name,query:TL(a.bundledQuery),readTime:qo(a.readTime)};var a})}saveNamedQuery(e,n){return EU(e).put({name:(r=n).name,readTime:Go(Q2(r.readTime)),bundledQuery:r.bundledQuery});var r}}function IU(t){return T1(t,"bundles")}function EU(t){return T1(t,"namedQueries")}class $y{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new $y(e,n.uid||"")}getOverlay(e,n){return Mf(e).get(VU(this.userId,n)).next(r=>r?NL(this.serializer,r):null)}getOverlays(e,n){const r=Li();return Q.forEach(n,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,n,r){const a=[];return r.forEach((c,u)=>{const p=new SL(n,u);a.push(this.we(e,p))}),Q.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach(u=>a.add(un(u.getCollectionPath())));const c=[];return a.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(Mf(e).J("collectionPathOverlayIndex",p))}),Q.waitFor(c)}getOverlaysForCollection(e,n,r){const a=Li(),c=un(n),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Mf(e).j("collectionPathOverlayIndex",u).next(p=>{for(const y of p){const b=NL(this.serializer,y);a.set(b.getKey(),b)}return a})}getOverlaysForCollectionGroup(e,n,r,a){const c=Li();let u;const p=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Mf(e).X({index:"collectionGroupOverlayIndex",range:p},(y,b,H)=>{const I=NL(this.serializer,b);c.size()<a||I.largestBatchId===u?(c.set(I.getKey(),I),u=I.largestBatchId):H.done()}).next(()=>c)}we(e,n){return Mf(e).put(function(r,a,c){const[u,p,y]=VU(a,c.mutation.key);return{userId:a,collectionPath:p,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Cf(r.fe,c.mutation)}}(this.serializer,this.userId,n))}}function Mf(t){return T1(t,"documentOverlays")}class Zo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(j2(e.integerValue));else if("doubleValue"in e){const r=j2(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ef(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(xs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?CB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Xe()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const a of Object.keys(r))this.Te(a,n),this.me(r[a],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const a of r)this.me(a,n)}ve(e,n){this.ye(n,37),Ue.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function f4e(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function zU(t){const e=64-function(n){let r=0;for(let a=0;a<8;++a){const c=f4e(255&n[a]);if(r+=c,8!==c)break}return r}(t);return Math.ceil(e/8)}Zo.Ve=new Zo;class d4e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const a=n.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const a=n.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const n=this.Fe(e),r=zU(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}Le(e){const n=this.Fe(e),r=zU(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class h4e{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class p4e{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class wf{constructor(){this.je=new d4e,this.ze=new h4e(this.je),this.We=new p4e(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ko{constructor(e,n,r,a){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=a}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ko(this.indexId,this.documentKey,this.arrayValue,r)}}function H4(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=LU(t.arrayValue,e.arrayValue),0!==n?n:(n=LU(t.directionalValue,e.directionalValue),0!==n?n:Ue.comparator(t.documentKey,e.documentKey)))}function LU(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class m4e{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){lt(e.collectionGroup===this.collectionId);const n=oL(e);if(void 0!==n&&!this.en(n))return!1;const r=Ro(e);let a=new Set,c=0,u=0;for(;c<r.length&&this.en(r[c]);++c)a=a.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const p=r[c];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[u++],p))return!1}++c}for(;c<r.length;++c)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[c]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function xU(t){var e,n;if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt){if(t instanceof xB){const a=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>Gt.create(t.field,"==",c)))||[];return s2.create(a,"or")}return t}const r=t.filters.map(a=>xU(a));return s2.create(r,t.op)}function g4e(t){if(0===t.getFilters().length)return[];const e=RL(xU(t));return lt(DU(e)),kL(e)||PL(e)?[e]:e.getFilters()}function kL(t){return t instanceof Gt}function PL(t){return t instanceof s2&&mL(t)}function DU(t){return kL(t)||PL(t)||function(e){if(e instanceof s2&&pL(e)){for(const n of e.getFilters())if(!kL(n)&&!PL(n))return!1;return!0}return!1}(t)}function RL(t){if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt)return t;if(1===t.filters.length)return RL(t.filters[0]);const e=t.filters.map(r=>RL(r));let n=s2.create(e,t.op);return n=Gy(n),DU(n)?n:(lt(n instanceof s2),lt(W0(n)),lt(n.filters.length>1),n.filters.reduce((r,a)=>OL(r,a)))}function OL(t,e){let n;return lt(t instanceof Gt||t instanceof s2),lt(e instanceof Gt||e instanceof s2),n=t instanceof Gt?e instanceof Gt?s2.create([t,e],"and"):AU(t,e):e instanceof Gt?AU(e,t):function(r,a){if(lt(r.filters.length>0&&a.filters.length>0),W0(r)&&W0(a))return EB(r,a.getFilters());const c=pL(r)?r:a,u=pL(r)?a:r,p=c.filters.map(y=>OL(y,u));return s2.create(p,"or")}(t,e),Gy(n)}function AU(t,e){if(W0(e))return EB(e,t.getFilters());{const n=e.filters.map(r=>OL(t,r));return s2.create(n,"or")}}function Gy(t){if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt)return t;const e=t.getFilters();if(1===e.length)return Gy(e[0]);if(SB(t))return t;const n=e.map(a=>Gy(a)),r=[];return n.forEach(a=>{a instanceof Gt?r.push(a):a instanceof s2&&(a.op===t.op?r.push(...a.filters):r.push(a))}),1===r.length?r[0]:s2.create(r,t.op)}class v4e{constructor(){this.rn=new FL}addToCollectionParentIndex(e,n){return this.rn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(cr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class FL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new V2(Wt.comparator),c=!a.has(r);return this.index[n]=a.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new V2(Wt.comparator)).toArray()}}const qy=new Uint8Array(0);class y4e{constructor(e,n){this.user=e,this.databaseId=n,this.on=new FL,this.un=new As(r=>Bo(r),(r,a)=>af(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const c={collectionId:r,parent:un(a)};return TU(e).put(c)}return Q.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[XF(n),""],!1,!0);return TU(e).j(a).next(c=>{for(const u of c){if(u.collectionId!==n)break;r.push(Ei(u.parent))}return r})}addFieldIndex(e,n){const r=Wy(e),a={indexId:(u=n).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete a.indexId;const c=r.add(a);if(n.indexState){const u=Hf(e);return c.next(p=>{u.put(SU(p,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const r=Wy(e),a=Hf(e),c=bf(e);return r.delete(n.indexId).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=bf(e);let a=!0;const c=new Map;return Q.forEach(this.cn(n),u=>this.an(e,u).next(p=>{a&&(a=!!p),c.set(u,p)})).next(()=>{if(a){let u=Nt();const p=[];return Q.forEach(c,(y,b)=>{var H;Ie("IndexedDbIndexManager",`Using index ${H=y,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(Ze=>`${Ze.fieldPath}:${Ze.kind}`).join(",")}`} to execute ${Bo(n)}`);const I=function(Ze,ot){const dt=oL(ot);if(void 0===dt)return null;for(const xt of Ny(Ze,dt.fieldPath))switch(xt.op){case"array-contains-any":return xt.value.arrayValue.values||[];case"array-contains":return[xt.value]}return null}(b,y),N=function(Ze,ot){const dt=new Map;for(const xt of Ro(ot))for(const D2 of Ny(Ze,xt.fieldPath))switch(D2.op){case"==":case"in":dt.set(xt.fieldPath.canonicalString(),D2.value);break;case"not-in":case"!=":return dt.set(xt.fieldPath.canonicalString(),D2.value),Array.from(dt.values())}return null}(b,y),U=function(Ze,ot){const dt=[];let xt=!0;for(const D2 of Ro(ot)){const Xr=0===D2.kind?DB(Ze,D2.fieldPath,Ze.startAt):AB(Ze,D2.fieldPath,Ze.startAt);dt.push(Xr.value),xt&&(xt=Xr.inclusive)}return new w4(dt,xt)}(b,y),oe=function(Ze,ot){const dt=[];let xt=!0;for(const D2 of Ro(ot)){const Xr=0===D2.kind?AB(Ze,D2.fieldPath,Ze.endAt):DB(Ze,D2.fieldPath,Ze.endAt);dt.push(Xr.value),xt&&(xt=Xr.inclusive)}return new w4(dt,xt)}(b,y),Ce=this.hn(y,b,U),Me=this.hn(y,b,oe),je=this.ln(y,b,N),qe=this.fn(y.indexId,I,Ce,U.inclusive,Me,oe.inclusive,je);return Q.forEach(qe,Ze=>r.H(Ze,n.limit).next(ot=>{ot.forEach(dt=>{const xt=Ue.fromSegments(dt.documentKey);u.has(xt)||(u=u.add(xt),p.push(xt))})}))}).next(()=>p)}return Q.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:g4e(s2.create(e.filters,"and")).map(r=>vL(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,a,c,u,p){const y=(null!=n?n.length:1)*Math.max(r.length,c.length),b=y/(null!=n?n.length:1),H=[];for(let I=0;I<y;++I){const N=n?this.dn(n[I/b]):qy,U=this.wn(e,N,r[I%b],a),oe=this._n(e,N,c[I%b],u),Ce=p.map(Me=>this.wn(e,N,Me,!0));H.push(...this.createRange(U,oe,Ce))}return H}wn(e,n,r,a){const c=new Ko(e,Ue.empty(),n,r);return a?c:c.Je()}_n(e,n,r,a){const c=new Ko(e,Ue.empty(),n,r);return a?c.Je():c}an(e,n){const r=new m4e(n),a=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let u=null;for(const p of c)r.tn(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,n){let r=2;const a=this.cn(n);return Q.forEach(a,c=>this.an(e,c).next(u=>{u?0!==r&&u.fields.length<function(p){let y=new V2(U2.comparator),b=!1;for(const H of p.filters)for(const I of H.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?b=!0:y=y.add(I.field));for(const H of p.orderBy)H.field.isKeyField()||(y=y.add(H.field));return y.size+(b?1:0)}(c)&&(r=1):r=0})).next(()=>null!==n.limit&&a.length>1&&2===r?1:r)}mn(e,n){const r=new wf;for(const a of Ro(e)){const c=n.data.field(a.fieldPath);if(null==c)return null;const u=r.He(a.kind);Zo.Ve._e(c,u)}return r.Qe()}dn(e){const n=new wf;return Zo.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new wf;return Zo.Ve._e(Fo(this.databaseId,n),r.He(function(a){const c=Ro(a);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let a=[];a.push(new wf);let c=0;for(const u of Ro(e)){const p=r[c++];for(const y of a)if(this.yn(n,u.fieldPath)&&rf(p))a=this.pn(a,u,p);else{const b=y.He(u.kind);Zo.Ve._e(p,b)}}return this.In(a)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const a=[...e],c=[];for(const u of r.arrayValue.values||[])for(const p of a){const y=new wf;y.seed(p.Qe()),Zo.Ve._e(u,y.He(n.kind)),c.push(y)}return c}yn(e,n){return!!e.filters.find(r=>r instanceof Gt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Wy(e),a=Hf(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(c=>{const u=[];return Q.forEach(c,p=>a.get([p.indexId,this.uid]).next(y=>{u.push(function(b,H){const I=H?new Q7(H.sequenceNumber,new cr(qo(H.readTime),new Ue(Ei(H.documentKey)),H.largestBatchId)):Q7.empty(),N=b.fields.map(([U,oe])=>new Vy(U2.fromServerFormat(U),oe));return new Hy(b.indexId,b.collectionGroup,N,I)}(p,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,a)=>{const c=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Et(r.collectionGroup,a.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const a=Wy(e),c=Hf(e);return this.Tn(e).next(u=>a.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(p=>Q.forEach(p,y=>c.put(SU(y.indexId,this.user,u,r)))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,(a,c)=>{const u=r.get(a.collectionGroup);return(u?Q.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next(p=>(r.set(a.collectionGroup,p),Q.forEach(p,y=>this.En(e,a,y).next(b=>{const H=this.An(c,y);return b.isEqual(H)?Q.resolve():this.vn(e,c,y,b,H)}))))})}Rn(e,n,r,a){return bf(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,a){return bf(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const a=bf(e);let c=new V2(H4);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(u,p)=>{c=c.add(new Ko(r.indexId,n,p.arrayValue,p.directionalValue))}).next(()=>c)}An(e,n){let r=new V2(H4);const a=this.mn(n,e);if(null==a)return r;const c=oL(n);if(null!=c){const u=e.data.field(c.fieldPath);if(rf(u))for(const p of u.arrayValue.values||[])r=r.add(new Ko(n.indexId,e.key,this.dn(p),a))}else r=r.add(new Ko(n.indexId,e.key,qy,a));return r}vn(e,n,r,a,c){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const u=[];return function(p,y,b,H,I){const N=p.getIterator(),U=y.getIterator();let oe=$0(N),Ce=$0(U);for(;oe||Ce;){let Me=!1,je=!1;if(oe&&Ce){const qe=b(oe,Ce);qe<0?je=!0:qe>0&&(Me=!0)}else null!=oe?je=!0:Me=!0;Me?(H(Ce),Ce=$0(U)):je?(I(oe),oe=$0(N)):(oe=$0(N),Ce=$0(U))}}(a,c,H4,p=>{u.push(this.Rn(e,n,r,p))},p=>{u.push(this.Pn(e,n,r,p))}),Q.waitFor(u)}Tn(e){let n=1;return Hf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,c)=>{c.done(),n=a.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((u,p)=>H4(u,p)).filter((u,p,y)=>!p||0!==H4(u,y[p-1]));const a=[];a.push(e);for(const u of r){const p=H4(u,e),y=H4(u,n);if(0===p)a[0]=e.Je();else if(p>0&&y<0)a.push(u),a.push(u.Je());else if(y>0)break}a.push(n);const c=[];for(let u=0;u<a.length;u+=2){if(this.bn(a[u],a[u+1]))return[];c.push(IDBKeyRange.bound([a[u].indexId,this.uid,a[u].arrayValue,a[u].directionalValue,qy,[]],[a[u+1].indexId,this.uid,a[u+1].arrayValue,a[u+1].directionalValue,qy,[]]))}return c}bn(e,n){return H4(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(NU)}getMinOffset(e,n){return Q.mapArray(this.cn(n),r=>this.an(e,r).next(a=>a||Xe())).next(NU)}}function TU(t){return T1(t,"collectionParents")}function bf(t){return T1(t,"indexEntries")}function Wy(t){return T1(t,"indexConfiguration")}function Hf(t){return T1(t,"indexState")}function NU(t){lt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;cL(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new cr(e.readTime,e.documentKey,n)}const kU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PU(t,e,n){const r=t.store("mutations"),a=t.store("documentMutations"),c=[],u=IDBKeyRange.only(n.batchId);let p=0;const y=r.X({range:u},(H,I,N)=>(p++,N.delete()));c.push(y.next(()=>{lt(1===p)}));const b=[];for(const H of n.mutations){const I=cB(e,H.key.path,n.batchId);c.push(a.delete(I)),b.push(H.key)}return Q.waitFor(c).next(()=>b)}function Zy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xe();e=t.noDocument}return JSON.stringify(e).length}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Ky{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Vn={}}static de(e,n,r,a){lt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Ky(c,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return V4(e).X({index:"userMutationsIndex",range:r},(a,c,u)=>{n=!1,u.done()}).next(()=>n)}addMutationBatch(e,n,r,a){const c=tl(e),u=V4(e);return u.add({}).next(p=>{lt("number"==typeof p);const y=new HL(p,n,r,a),b=function(N,U,oe){const Ce=oe.baseMutations.map(je=>Cf(N.fe,je)),Me=oe.mutations.map(je=>Cf(N.fe,je));return{userId:U,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:Ce,mutations:Me}}(this.serializer,this.userId,y),H=[];let I=new V2((N,U)=>Et(N.canonicalString(),U.canonicalString()));for(const N of a){const U=cB(this.userId,N.key.path,p);I=I.add(N.key.path.popLast()),H.push(u.put(b)),H.push(c.put(U,s3e))}return I.forEach(N=>{H.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.Vn[p]=y.keys()}),Q.waitFor(H).next(()=>y)})}lookupMutationBatch(e,n){return V4(e).get(n).next(r=>r?(lt(r.userId===this.userId),Wo(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?Q.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const a=r.keys();return this.Vn[n]=a,a}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return V4(e).X({index:"userMutationsIndex",range:a},(u,p,y)=>{p.userId===this.userId&&(lt(p.batchId>=r),c=Wo(this.serializer,p)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return V4(e).X({index:"userMutationsIndex",range:n,reverse:!0},(a,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return V4(e).j("userMutationsIndex",n).next(r=>r.map(a=>Wo(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Iy(this.userId,n.path),a=IDBKeyRange.lowerBound(r),c=[];return tl(e).X({range:a},(u,p,y)=>{const[b,H,I]=u,N=Ei(H);if(b===this.userId&&n.path.isEqual(N))return V4(e).get(I).next(U=>{if(!U)throw Xe();lt(U.userId===this.userId),c.push(Wo(this.serializer,U))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new V2(Et);const a=[];return n.forEach(c=>{const u=Iy(this.userId,c.path),p=IDBKeyRange.lowerBound(u),y=tl(e).X({range:p},(b,H,I)=>{const[N,U,oe]=b,Ce=Ei(U);N===this.userId&&c.path.isEqual(Ce)?r=r.add(oe):I.done()});a.push(y)}),Q.waitFor(a).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,c=Iy(this.userId,r),u=IDBKeyRange.lowerBound(c);let p=new V2(Et);return tl(e).X({range:u},(y,b,H)=>{const[I,N,U]=y,oe=Ei(N);I===this.userId&&r.isPrefixOf(oe)?oe.length===a&&(p=p.add(U)):H.done()}).next(()=>this.Dn(e,p))}Dn(e,n){const r=[],a=[];return n.forEach(c=>{a.push(V4(e).get(c).next(u=>{if(null===u)throw Xe();lt(u.userId===this.userId),r.push(Wo(this.serializer,u))}))}),Q.waitFor(a).next(()=>r)}removeMutationBatch(e,n){return PU(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Q.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound([this.userId]),a=[];return tl(e).X({range:r},(c,u,p)=>{if(c[0]===this.userId){const y=Ei(c[1]);a.push(y)}else p.done()}).next(()=>{lt(0===a.length)})})}containsKey(e,n){return RU(e,this.userId,n)}xn(e){return OU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RU(t,e,n){const r=Iy(e,n.path),a=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return tl(t).X({range:c,Y:!0},(p,y,b)=>{const[H,I,N]=p;H===e&&I===a&&(u=!0),b.done()}).next(()=>u)}function V4(t){return T1(t,"mutations")}function tl(t){return T1(t,"documentMutations")}function OU(t){return T1(t,"mutationQueues")}class Yo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Yo(0)}static Mn(){return new Yo(-1)}}class C4e{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new Yo(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>ft.fromTimestamp(new L2(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.On(e,a)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>nl(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(lt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let a=0;const c=[];return nl(e).X((u,p)=>{const y=_f(p);y.sequenceNumber<=n&&null===r.get(y.targetId)&&(a++,c.push(this.removeTargetData(e,y)))}).next(()=>Q.waitFor(c)).next(()=>a)}forEachTarget(e,n){return nl(e).X((r,a)=>{const c=_f(a);n(c)})}$n(e){return FU(e).get("targetGlobalKey").next(n=>(lt(null!==n),n))}On(e,n){return FU(e).put("targetGlobalKey",n)}Fn(e,n){return nl(e).put(HU(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Bo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return nl(e).X({range:a,index:"queryTargetsIndex"},(u,p,y)=>{const b=_f(p);af(n,b.target)&&(c=b,y.done())}).next(()=>c)}addMatchingKeys(e,n,r){const a=[],c=S4(e);return n.forEach(u=>{const p=un(u.path);a.push(c.put({targetId:r,path:p})),a.push(this.referenceDelegate.addReference(e,r,u))}),Q.waitFor(a)}removeMatchingKeys(e,n,r){const a=S4(e);return Q.forEach(n,c=>{const u=un(c.path);return Q.waitFor([a.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,n){const r=S4(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=S4(e);let c=Nt();return a.X({range:r,Y:!0},(u,p,y)=>{const b=Ei(u[1]),H=new Ue(b);c=c.add(H)}).next(()=>c)}containsKey(e,n){const r=un(n.path),a=IDBKeyRange.bound([r],[XF(r)],!1,!0);let c=0;return S4(e).X({index:"documentTargetsIndex",Y:!0,range:a},([u,p],y,b)=>{0!==u&&(c++,b.done())}).next(()=>c>0)}le(e,n){return nl(e).get(n).next(r=>r?_f(r):null)}}function nl(t){return T1(t,"targets")}function FU(t){return T1(t,"targetGlobal")}function S4(t){return T1(t,"targetDocuments")}function BU([t,e],[n,r]){const a=Et(t,n);return 0===a?Et(e,r):a}class _4e{constructor(e){this.Ln=e,this.buffer=new V2(BU),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,G.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){m4(r)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield p4(r)}yield n.Qn(3e5)}))}}class M4e{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Q.resolve(lr.ct);const r=new _4e(n);return this.jn.forEachTarget(e,a=>r.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>r.Kn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(kU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kU):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,a,c,u,p,y,b;const H=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),a=this.params.maximumSequenceNumbersToCollect):a=I,u=Date.now(),this.nthSequenceNumber(e,a))).next(I=>(r=I,p=Date.now(),this.removeTargets(e,r,n))).next(I=>(c=I,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(b=Date.now(),sL()<=Kr.in.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-H}ms\n\tDetermined least recently used ${a} in `+(p-u)+`ms\n\tRemoved ${c} targets in `+(y-p)+`ms\n\tRemoved ${I} documents in `+(b-y)+`ms\nTotal Duration: ${b-H}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:I})))}}class w4e{constructor(e,n){this.db=e,this.garbageCollector=function jU(t,e){return new M4e(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,a)=>n(a))}addReference(e,n,r){return Yy(e,r)}removeReference(e,n,r){return Yy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Yy(e,n)}Xn(e,n){return function(r,a){let c=!1;return OU(r).Z(u=>RU(r,u,a).next(p=>(p&&(c=!0),Q.resolve(!p)))).next(()=>c)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(u,p)=>{if(p<=n){const y=this.Xn(e,u).next(b=>{if(!b)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,ft.min()),S4(e).delete([0,un(u.path)])))});a.push(y)}}).next(()=>Q.waitFor(a)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Yy(e,n)}Yn(e,n){const r=S4(e);let a,c=lr.ct;return r.X({index:"documentTargetsIndex"},([u,p],{path:y,sequenceNumber:b})=>{0===u?(c!==lr.ct&&n(new Ue(Ei(a)),c),c=b,a=y):c=lr.ct}).next(()=>{c!==lr.ct&&n(new Ue(Ei(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yy(t,e){return S4(t).put((r=t.currentSequenceNumber,{targetId:0,path:un(e.path),sequenceNumber:r}));var r}class $U{constructor(){this.changes=new As(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,S2.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b4e{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Qo(e).put(r)}removeEntry(e,n,r){return Qo(e).delete(function(a,c){const u=a.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],jy(c),u[u.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=S2.newInvalidDocument(n);return Qo(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vf(n))},(a,c)=>{r=this.ts(n,c)}).next(()=>r)}es(e,n){let r={size:0,document:S2.newInvalidDocument(n)};return Qo(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vf(n))},(a,c)=>{r={document:this.ts(n,c),size:Zy(c)}}).next(()=>r)}getEntries(e,n){let r=Rn();return this.ns(e,n,(a,c)=>{const u=this.ts(a,c);r=r.insert(a,u)}).next(()=>r)}ss(e,n){let r=Rn(),a=new h2(Ue.comparator);return this.ns(e,n,(c,u)=>{const p=this.ts(c,u);r=r.insert(c,p),a=a.insert(c,Zy(u))}).next(()=>({documents:r,rs:a}))}ns(e,n,r){if(n.isEmpty())return Q.resolve();let a=new V2(ZU);n.forEach(y=>a=a.add(y));const c=IDBKeyRange.bound(Vf(a.first()),Vf(a.last())),u=a.getIterator();let p=u.getNext();return Qo(e).X({index:"documentKeyIndex",range:c},(y,b,H)=>{const I=Ue.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&ZU(p,I)<0;)r(p,null),p=u.getNext();p&&p.isEqual(I)&&(r(p,b),p=u.hasNext()?u.getNext():null),p?H.G(Vf(p)):H.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,n,r,a){const c=n.path,u=[c.popLast().toArray(),c.lastSegment(),jy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qo(e).j(IDBKeyRange.bound(u,p,!0)).next(y=>{let b=Rn();for(const H of y){const I=this.ts(Ue.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);I.isFoundDocument()&&(lf(n,I)||a.has(I.key))&&(b=b.insert(I.key,I))}return b})}getAllFromCollectionGroup(e,n,r,a){let c=Rn();const u=WU(n,r),p=WU(n,cr.max());return Qo(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(y,b,H)=>{const I=this.ts(Ue.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);c=c.insert(I.key,I),c.size===a&&H.done()}).next(()=>c)}newChangeBuffer(e){return new H4e(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return qU(e).get("remoteDocumentGlobalKey").next(n=>(lt(!!n),n))}Zn(e,n){return qU(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function l4e(t,e){let n;if(e.document)n=gU(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ue.fromSegments(e.noDocument.path),a=qo(e.noDocument.readTime);n=S2.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=Ue.fromSegments(e.unknownDocument.path),a=qo(e.unknownDocument.version);n=S2.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime(function(r){const a=new L2(r[0],r[1]);return ft.fromTimestamp(a)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ft.min()))return r}return S2.newInvalidDocument(e)}}function GU(t){return new b4e(t)}class H4e extends $U{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new As(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const n=[];let r=0,a=new V2((c,u)=>Et(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const p=this.us.get(c);if(n.push(this.os.removeEntry(e,c,p.readTime)),u.isValidDocument()){const y=bU(this.os.serializer,u);a=a.add(c.path.popLast());const b=Zy(y);r+=b-p.size,n.push(this.os.addEntry(e,c,y))}else if(r-=p.size,this.trackRemovals){const y=bU(this.os.serializer,u.convertToNoDocument(ft.min()));n.push(this.os.addEntry(e,c,y))}}),a.forEach(c=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.os.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:a})=>(a.forEach((c,u)=>{this.us.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function qU(t){return T1(t,"remoteDocumentGlobal")}function Qo(t){return T1(t,"remoteDocumentsV14")}function Vf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WU(t,e){const n=e.documentKey.path.toArray();return[t,jy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ZU(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let c=0;c<n.length-2&&c<r.length-2;++c)if(a=Et(n[c],r[c]),a)return a;return a=Et(n.length,r.length),a||(a=Et(n[n.length-2],r[r.length-2]),a||Et(n[n.length-1],r[r.length-1]))}class V4e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class KU{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(null!==r&&hf(r.mutation,a,Pn.empty(),L2.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Nt()){const a=Li();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(c=>{let u=uf();return c.forEach((p,y)=>{u=u.insert(p,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Nt()))}populateOverlays(e,n,r){const a=[];return r.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((u,p)=>{n.set(u,p)})})}computeViews(e,n,r,a){let c=Rn();const u=ff(),p=ff();return n.forEach((y,b)=>{const H=r.get(b.key);a.has(b.key)&&(void 0===H||H.mutation instanceof Ts)?c=c.insert(b.key,b):void 0!==H?(u.set(b.key,H.mutation.getFieldMask()),hf(H.mutation,b,H.mutation.getFieldMask(),L2.now())):u.set(b.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((b,H)=>u.set(b,H)),n.forEach((b,H)=>{var I;return p.set(b,new V4e(H,null!==(I=u.get(b))&&void 0!==I?I:null))}),p))}recalculateAndSaveOverlays(e,n){const r=ff();let a=new h2((u,p)=>u-p),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const p of u)p.keys().forEach(y=>{const b=n.get(y);if(null===b)return;let H=r.get(y)||Pn.empty();H=p.applyToLocalView(b,H),r.set(y,H);const I=(a.get(p.batchId)||Nt()).add(y);a=a.insert(p.batchId,I)})}).next(()=>{const u=[],p=a.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),b=y.key,H=y.value,I=BB();H.forEach(N=>{if(!c.has(N)){const U=YB(n.get(N),r.get(N));null!==U&&I.set(N,U),c=c.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,I))}return Q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Ue.isDocumentKey((a=n).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):CL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var a}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-c.size):Q.resolve(Li());let p=-1,y=c;return u.next(b=>Q.forEach(b,(H,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),c.get(H)?Q.resolve():this.remoteDocumentCache.getEntry(e,H).next(N=>{y=y.insert(H,N)}))).next(()=>this.populateOverlays(e,b,c)).next(()=>this.computeViews(e,y,b,Nt())).next(H=>({batchId:p,changes:FB(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let a=uf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const a=n.collectionGroup;let c=uf();return this.indexManager.getCollectionParents(e,a).next(u=>Q.forEach(u,p=>{const y=(b=n,H=p.child(a),new Ds(H,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,H;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(b=>{b.forEach((H,I)=>{c=c.insert(H,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a))).next(c=>{a.forEach((p,y)=>{const b=y.getKey();null===c.get(b)&&(c=c.insert(b,S2.newInvalidDocument(b)))});let u=uf();return c.forEach((p,y)=>{const b=a.get(p);void 0!==b&&hf(b.mutation,y,Pn.empty(),L2.now()),lf(n,y)&&(u=u.insert(p,y))}),u})}}class S4e{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Q2(r.createTime)}),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:TL(r.bundledQuery),readTime:Q2(r.readTime)}),Q.resolve();var r}}class I4e{constructor(){this.overlays=new h2(Ue.comparator),this.ls=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Li();return Q.forEach(n,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,c)=>{this.we(e,n,c)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.ls.get(r);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const a=Li(),c=n.length+1,u=new Ue(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===c&&y.largestBatchId>r&&a.set(y.getKey(),y)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let c=new h2((b,H)=>b-H);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>r){let H=c.get(b.largestBatchId);null===H&&(H=Li(),c=c.insert(b.largestBatchId,H)),H.set(b.getKey(),b)}}const p=Li(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,H)=>p.set(b,H)),!(p.size()>=a)););return Q.resolve(p)}we(e,n,r){const a=this.overlays.get(r.key);if(null!==a){const u=this.ls.get(a.largestBatchId).delete(r.key);this.ls.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new SL(n,r));let c=this.ls.get(n);void 0===c&&(c=Nt(),this.ls.set(n,c)),this.ls.set(n,c.add(r.key))}}class BL{constructor(){this.fs=new V2(N1.ds),this.ws=new V2(N1._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new N1(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new N1(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ue(new Wt([])),r=new N1(n,e),a=new N1(n,e+1),c=[];return this.ws.forEachInRange([r,a],u=>{this.ys(u),c.push(u.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ue(new Wt([])),r=new N1(n,e),a=new N1(n,e+1);let c=Nt();return this.ws.forEachInRange([r,a],u=>{c=c.add(u.key)}),c}containsKey(e){const n=new N1(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class N1{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ue.comparator(e.key,n.key)||Et(e.As,n.As)}static _s(e,n){return Et(e.As,n.As)||Ue.comparator(e.key,n.key)}}class E4e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new V2(N1.ds)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,a){const c=this.vs;this.vs++;const u=new HL(c,n,r,a);this.mutationQueue.push(u);for(const p of a)this.Rs=this.Rs.add(new N1(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,n){return Q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const a=this.bs(n+1),c=a<0?0:a;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new N1(n,0),a=new N1(n,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,a],u=>{const p=this.Ps(u.As);c.push(p)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new V2(Et);return n.forEach(a=>{const c=new N1(a,0),u=new N1(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,u],p=>{r=r.add(p.As)})}),Q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let c=r;Ue.isDocumentKey(c)||(c=c.child(""));const u=new N1(new Ue(c),0);let p=new V2(Et);return this.Rs.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===a&&(p=p.add(y.As)),!0)},u),Q.resolve(this.Vs(p))}Vs(e){const n=[];return e.forEach(r=>{const a=this.Ps(r);null!==a&&n.push(a)}),n}removeMutationBatch(e,n){lt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Q.forEach(n.mutations,a=>{const c=new N1(a.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new N1(n,0),a=this.Rs.firstAfterOrEqual(r);return Q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return Q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class z4e{constructor(e){this.Ds=e,this.docs=new h2(Ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),c=a?a.size:0,u=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():S2.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.mutableCopy():S2.newInvalidDocument(a))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let c=Rn();const u=n.path,p=new Ue(u.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:b,value:{document:H}}=y.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||cL(tB(H),r)<=0||(a.has(H.key)||lf(n,H))&&(c=c.insert(H.key,H.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(e,n,r,a){Xe()}Cs(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L4e(this)}getSize(e){return Q.resolve(this.size)}}class L4e extends $U{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.os.addEntry(e,a)):this.os.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class x4e{constructor(e){this.persistence=e,this.xs=new As(n=>Bo(n),af),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Ns=0,this.ks=new BL,this.targetCount=0,this.Ms=Yo.kn()}forEachTarget(e,n){return this.xs.forEach((r,a)=>n(a)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Fn(n),Q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let a=0;const c=[];return this.xs.forEach((u,p)=>{p.sequenceNumber<=n&&null===r.get(p.targetId)&&(this.xs.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),Q.waitFor(c).next(()=>a)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(u=>{c.push(a.markPotentiallyOrphaned(e,u))}),Q.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.ks.containsKey(n))}}class UL{constructor(e,n){this.$s={},this.overlays={},this.Os=new lr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new x4e(this),this.indexManager=new v4e,this.remoteDocumentCache=new z4e(r=>this.referenceDelegate.Ls(r)),this.serializer=new wU(n),this.qs=new S4e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I4e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new E4e(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const a=new D4e(this.Os.next());return this.referenceDelegate.Us(),r(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,n){return Q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class D4e extends rB{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Qs=new BL,this.js=null}static zs(e){return new Qy(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(a=>this.Ws.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Ws,r=>{const a=Ue.fromPath(r);return this.Hs(e,a).next(c=>{c||n.removeEntry(a,ft.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Q.or([()=>Q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class A4e{constructor(e){this.serializer=e}O(e,n,r,a){const c=new Sy("createOrUpgrade",n);var p;r<1&&a>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oB,{unique:!0}),p.createObjectStore("documentMutations"),YU(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=Q.resolve();return r<3&&a>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),YU(e)),u=u.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ft.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(c))),r<4&&a>=4&&(0!==r&&(u=u.next(()=>function(p,y){return y.store("mutations").j().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oB,{unique:!0});const H=y.store("mutations"),I=b.map(N=>H.put(N));return Q.waitFor(I)})}(e,c))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&a>=5&&(u=u.next(()=>this.Ys(c))),r<6&&a>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&a>=7&&(u=u.next(()=>this.Zs(c))),r<8&&a>=8&&(u=u.next(()=>this.ti(e,c))),r<9&&a>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&a>=10&&(u=u.next(()=>this.ei(c))),r<11&&a>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&a>=12&&(u=u.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:v3e});y.createIndex("collectionPathOverlayIndex",y3e,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",C3e,{unique:!1})}(e)})),r<13&&a>=13&&(u=u.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:a3e});y.createIndex("documentKeyIndex",o3e),y.createIndex("collectionGroupIndex",c3e)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(u=u.next(()=>this.si(e,c))),r<15&&a>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:h3e}).createIndex("sequenceNumberIndex",p3e,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:m3e}).createIndex("documentKeyIndex",g3e,{unique:!1})}(e))),u}Xs(e){let n=0;return e.store("remoteDocuments").X((r,a)=>{n+=Zy(a)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(a=>Q.forEach(a,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(p=>Q.forEach(p,y=>{lt(y.userId===c.userId);const b=Wo(this.serializer,y);return PU(e,c.userId,b).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return r.X((u,p)=>{const y=new Wt(u),b=[0,un(y)];c.push(n.get(b).next(H=>H?Q.resolve():n.put({targetId:0,path:un(y),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Q.waitFor(c))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:d3e});const r=n.store("collectionParents"),a=new FL,c=u=>{if(a.add(u)){const p=u.lastSegment(),y=u.popLast();return r.put({collectionId:p,parent:un(y)})}};return n.store("remoteDocuments").X({Y:!0},(u,p)=>{const y=new Wt(u);return c(y.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([u,p,y],b)=>{const H=Ei(p);return c(H.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,a)=>{const c=_f(a),u=HU(this.serializer,c);return n.put(u)})}ni(e,n){const r=n.store("remoteDocuments"),a=[];return r.X((c,u)=>{const p=n.store("remoteDocumentsV14"),y=(b=u,b.document?new Ue(Wt.fromString(b.document.name).popFirst(5)):b.noDocument?Ue.fromSegments(b.noDocument.path):b.unknownDocument?Ue.fromSegments(b.unknownDocument.path):Xe()).path.toArray();var b;const H={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(p.put(H))}).next(()=>Q.waitFor(a))}si(e,n){const r=n.store("mutations"),a=GU(this.serializer),c=new UL(Qy.zs,this.serializer.fe);return r.j().next(u=>{const p=new Map;return u.forEach(y=>{var b;let H=null!==(b=p.get(y.userId))&&void 0!==b?b:Nt();Wo(this.serializer,y).keys().forEach(I=>H=H.add(I)),p.set(y.userId,H)}),Q.forEach(p,(y,b)=>{const H=new A1(b),I=$y.de(this.serializer,H),N=c.getIndexManager(H),U=Ky.de(H,this.serializer,N,c.referenceDelegate);return new KU(a,U,I,N).recalculateAndSaveOverlaysForDocumentKeys(new fL(n,lr.ct),y).next()})})}}function YU(t){t.createObjectStore("targetDocuments",{keyPath:u3e}).createIndex("documentTargetsIndex",f3e,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",l3e,{unique:!0}),t.createObjectStore("targetGlobal")}const jL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $L{constructor(e,n,r,a,c,u,p,y,b,H,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=c,this.window=u,this.document=p,this.ri=b,this.oi=H,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=N=>Promise.resolve(),!$L.D())throw new ye(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new w4e(this,a),this.di=n+"main",this.serializer=new wU(y),this.wi=new Jr(this.di,this.ui,new A4e(this.serializer)),this.Bs=new C4e(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GU(this.serializer),this.qs=new u4e,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===H&&Y2("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(ne.FAILED_PRECONDITION,jL);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new lr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,G.Z)(function*(a){if(n.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,G.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,G.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(m4(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Sf(e).get("owner").next(n=>Q.resolve(this.Ri(n)))}Pi(e){return Xy(e).delete(this.clientId)}bi(){var e=this;return(0,G.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=T1(r,"clientMetadata");return a.j().next(c=>{const u=e.Si(c,18e5),p=c.filter(y=>-1===u.indexOf(y));return Q.forEach(p,y=>a.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Q.resolve(!0):Sf(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new ye(ne.FAILED_PRECONDITION,jL);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xy(e).j().next(r=>void 0===this.Si(r,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Ie("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,G.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new fL(n,lr.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Xy(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return Ky.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y4e(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return $y.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Ie("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===n?"readonly":"readwrite",c=15===(u=this.ui)?M3e:14===u?fB:13===u?uB:12===u?_3e:11===u?lB:void Xe();var u;let p;return this.wi.runTransaction(e,a,c,y=>(p=new fL(y,this.Os?this.Os.next():lr.ct),"readwrite-primary"===n?this.Ti(p).next(b=>!!b||this.Ei(p)).next(b=>{if(!b)throw Y2(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ye(ne.FAILED_PRECONDITION,nB);return r(p)}).next(b=>this.vi(p).next(()=>b)):this.Oi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Oi(e){return Sf(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ye(ne.FAILED_PRECONDITION,jL)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sf(e).put("owner",n)}static D(){return Jr.D()}Ai(e){const n=Sf(e);return n.get("owner").next(r=>this.Ri(r)?(Ie("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Q.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(Y2(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,rt.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Y2("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Y2("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sf(t){return T1(t,"owner")}function Xy(t){return T1(t,"clientMetadata")}function GL(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class qL{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=a}static Li(e,n){let r=Nt(),a=Nt();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new qL(e,n.fromCache,r,a)}}class QU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,a){return this.Ki(e,n).next(c=>c||this.Gi(e,n,a,r)).next(c=>c||this.Qi(e,n))}Ki(e,n){if(NB(n))return Q.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==n.limit&&1===a&&(n=Py(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=Nt(...c);return this.Ui.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const b=this.ji(n,p);return this.zi(n,b,u,y.readTime)?this.Ki(e,Py(n,null,"F")):this.Wi(e,b,n,y)}))})))}Gi(e,n,r,a){return NB(n)||a.isEqual(ft.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(c=>{const u=this.ji(n,c);return this.zi(n,u,r,a)?this.Qi(e,n):(sL()<=Kr.in.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ML(n)),this.Wi(e,u,n,eB(a,-1)))})}ji(e,n){let r=new V2(RB(e));return n.forEach((a,c)=>{lf(e,c)&&(r=r.add(c))}),r}zi(e,n,r,a){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,n){return sL()<=Kr.in.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",ML(n)),this.Ui.getDocumentsMatchingQuery(e,n,cr.min())}Wi(e,n,r,a){return this.Ui.getDocumentsMatchingQuery(e,r,a).next(c=>(n.forEach(u=>{c=c.insert(u.key,u)}),c))}}class T4e{constructor(e,n,r,a){this.persistence=e,this.Hi=n,this.serializer=a,this.Ji=new h2(Et),this.Yi=new As(c=>Bo(c),af),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function JU(t,e,n,r){return new T4e(t,e,n,r)}function XU(t,e){return WL.apply(this,arguments)}function WL(){return WL=(0,G.Z)(function*(t,e){const n=Ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(c=>(a=c,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],p=[];let y=Nt();for(const b of a){u.push(b.batchId);for(const H of b.mutations)y=y.add(H.key)}for(const b of c){p.push(b.batchId);for(const H of b.mutations)y=y.add(H.key)}return n.localDocuments.getDocuments(r,y).next(b=>({er:b,removedBatchIds:u,addedBatchIds:p}))})})}),WL.apply(this,arguments)}function ej(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function tj(t,e,n){let r=Nt(),a=Nt();return n.forEach(c=>r=r.add(c)),e.getEntries(t,r).next(c=>{let u=Rn();return n.forEach((p,y)=>{const b=c.get(p);y.isFoundDocument()!==b.isFoundDocument()&&(a=a.add(p)),y.isNoDocument()&&y.version.isEqual(ft.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!b.isValidDocument()||y.version.compareTo(b.version)>0||0===y.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):Ie("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",y.version)}),{nr:u,sr:a}})}function P4e(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rl(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Bs.getTargetData(r,e).next(c=>c?(a=c,Q.resolve(a)):n.Bs.allocateTargetId(r).next(u=>(a=new Ns(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ji.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function il(t,e,n){return ZL.apply(this,arguments)}function ZL(){return ZL=(0,G.Z)(function*(t,e,n){const r=Ge(t),a=r.Ji.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!m4(u))throw u;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(a.target)}),ZL.apply(this,arguments)}function eC(t,e,n){const r=Ge(t);let a=ft.min(),c=Nt();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,y,b){const H=Ge(p),I=H.Yi.get(b);return void 0!==I?Q.resolve(H.Ji.get(I)):H.Bs.getTargetData(y,b)}(r,u,Sn(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,p.targetId).next(y=>{c=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,n?a:ft.min(),n?c:Nt())).next(p=>(ij(r,PB(e),p),{documents:p,ir:c})))}function nj(t,e){const n=Ge(t),r=Ge(n.Bs),a=n.Ji.get(e);return a?Promise.resolve(a.target):n.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(u=>u?u.target:null))}function rj(t,e){const n=Ge(t),r=n.Xi.get(e)||ft.min();return n.persistence.runTransaction("Get new document changes","readonly",a=>n.Zi.getAllFromCollectionGroup(a,e,eB(r,-1),Number.MAX_SAFE_INTEGER)).then(a=>(ij(n,e,a),a))}function ij(t,e,n){let r=t.Xi.get(e)||ft.min();n.forEach((a,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),t.Xi.set(e,r)}function KL(){return KL=(0,G.Z)(function*(t,e,n,r){const a=Ge(t);let c=Nt(),u=Rn();for(const b of n){const H=e.rr(b.metadata.name);b.document&&(c=c.add(H));const I=e.ur(b);I.setReadTime(e.cr(b.metadata.readTime)),u=u.insert(H,I)}const p=a.Zi.newChangeBuffer({trackRemovals:!0}),y=yield rl(a,(b=r,Sn(Z0(Wt.fromString(`__bundle__/docs/${b}`)))));var b;return a.persistence.runTransaction("Apply bundle documents","readwrite",b=>tj(b,p,u).next(H=>(p.apply(b),H)).next(H=>a.Bs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>a.Bs.addMatchingKeys(b,c,y.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(b,H.nr,H.sr)).next(()=>H.nr)))}),KL.apply(this,arguments)}function O4e(t,e){return YL.apply(this,arguments)}function YL(){return YL=(0,G.Z)(function*(t,e,n=Nt()){const r=yield rl(t,Sn(TL(e.bundledQuery))),a=Ge(t);return a.persistence.runTransaction("Save named query","readwrite",c=>{const u=Q2(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return a.qs.saveNamedQuery(c,e);const p=r.withResumeToken(M1.EMPTY_BYTE_STRING,u);return a.Ji=a.Ji.insert(p.targetId,p),a.Bs.updateTargetData(c,p).next(()=>a.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>a.Bs.addMatchingKeys(c,n,r.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),YL.apply(this,arguments)}function sj(t,e){return`firestore_clients_${t}_${e}`}function aj(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function QL(t,e){return`firestore_targets_${t}_${e}`}class tC{constructor(e,n,r,a){this.user=e,this.batchId=n,this.state=r,this.error=a}static ar(e,n,r){const a=JSON.parse(r);let c,u="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return u&&a.error&&(u="string"==typeof a.error.message&&"string"==typeof a.error.code,u&&(c=new ye(a.error.code,a.error.message))),u?new tC(e,n,a.state,c):(Y2("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class If{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let a,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new ye(r.error.code,r.error.message))),c?new If(e,r.state,a):(Y2("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nC{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let a="object"==typeof r&&r.activeTargetIds instanceof Array,c=wL();for(let u=0;a&&u<r.activeTargetIds.length;++u)a=sB(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return a?new nC(e,c):(Y2("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class JL{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new JL(n.clientId,n.onlineState):(Y2("SharedClientState",`Failed to parse online state: ${e}`),null)}}class XL{constructor(){this.activeTargetIds=wL()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ex{constructor(e,n,r,a,c){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new h2(Et),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=sj(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new XL),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,G.Z)(function*(){const n=yield e.syncEngine.$i();for(const a of n){if(a===e.wr)continue;const c=e.getItem(sj(e.persistenceKey,a));if(c){const u=nC.ar(a,c);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const a=e.br(r);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,a)=>{a.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(QL(this.persistenceKey,e));if(r){const a=If.ar(e,r);a&&(n=a.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(QL(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(a=>{this.Cr(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Ie("SharedClientState","READ",e,n),n}setItem(e,n){Ie("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Ie("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Y2("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,G.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const a=n.Or(r.key);return n.Fr(a,null)}{const a=n.Br(r.key,r.newValue);if(a)return n.Fr(a.clientId,a)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const a=n.Lr(r.key,r.newValue);if(a)return n.qr(a)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const a=n.Ur(r.key,r.newValue);if(a)return n.Kr(a)}}else if(r.key===n.vr){if(null!==r.newValue){const a=n.br(r.newValue);if(a)return n.Vr(a)}}else if(r.key===n.Ir){const a=function(c){let u=lr.ct;if(null!=c)try{const p=JSON.parse(c);lt("number"==typeof p),u=p}catch(p){Y2("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);a!==lr.ct&&n.sequenceNumberHandler(a)}else if(r.key===n.Rr){const a=n.Gr(r.newValue);yield Promise.all(a.map(c=>n.syncEngine.Qr(c)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const a=new tC(this.currentUser,e,n,r),c=aj(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const n=aj(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const a=QL(this.persistenceKey,e),c=new If(e,n,r);this.setItem(a,c.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return nC.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),a=Number(r[1]);return tC.ar(new A1(void 0!==r[2]?r[2]:null),a,n)}Ur(e,n){const r=this.Ar.exec(e),a=Number(r[1]);return If.ar(a,n)}br(e){return JL.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,G.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(r),u=[],p=[];return c.forEach(y=>{a.has(y)||u.push(y)}),a.forEach(y=>{c.has(y)||p.push(y)}),this.syncEngine.Wr(u,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=wL();return e.forEach((r,a)=>{n=n.unionWith(a.activeTargetIds)}),n}}class oj{constructor(){this.Hr=new XL,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new XL,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class F4e{Yr(e){}shutdown(){}}class cj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rC=null;function tx(){return null===rC?rC=268435456+Math.round(2147483648*Math.random()):rC++,"0x"+rC.toString(16)}const B4e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U4e{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const dn="WebChannelConnection";class j4e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,a,c){const u=tx(),p=this.To(e,n);Ie("RestConnection",`Sending RPC '${e}' ${u}:`,p,r);const y={};return this.Eo(y,a,c),this.Ao(e,p,y,r).then(b=>(Ie("RestConnection",`Received RPC '${e}' ${u}: `,b),b),b=>{throw Ir("RestConnection",`RPC '${e}' ${u} failed with error: `,b,"url: ",p,"request:",r),b})}vo(e,n,r,a,c,u){return this.Io(e,n,r,a,c)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+U0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),r&&r.headers.forEach((a,c)=>e[c]=a)}To(e,n){return`${this.mo}/v1/${n}:${B4e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,a){const c=tx();return new Promise((u,p)=>{const y=new Fse;y.setWithCredentials(!0),y.listenOnce(Pse.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case iL.NO_ERROR:const H=y.getResponseJson();Ie(dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(H)),u(H);break;case iL.TIMEOUT:Ie(dn,`RPC '${e}' ${c} timed out`),p(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case iL.HTTP_ERROR:const I=y.getStatus();if(Ie(dn,`RPC '${e}' ${c} failed with status:`,I,"response text:",y.getResponseText()),I>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const oe=function(Ce){const Me=Ce.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Me)>=0?Me:ne.UNKNOWN}(U.status);p(new ye(oe,U.message))}else p(new ye(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ie(dn,`RPC '${e}' ${c} completed.`)}});const b=JSON.stringify(a);Ie(dn,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",b,r,15)})}Ro(e,n,r){const a=tx(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Nse(),p=kse(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.xmlHttpFactory=new Ose({})),this.Eo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const H=c.join("");Ie(dn,`Creating RPC '${e}' stream ${a}: ${H}`,y);const I=u.createWebChannel(H,y);let N=!1,U=!1;const oe=new U4e({ro:Me=>{U?Ie(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,Me):(N||(Ie(dn,`Opening RPC '${e}' stream ${a} transport.`),I.open(),N=!0),Ie(dn,`RPC '${e}' stream ${a} sending:`,Me),I.send(Me))},oo:()=>I.close()}),Ce=(Me,je,qe)=>{Me.listen(je,Ze=>{try{qe(Ze)}catch(ot){setTimeout(()=>{throw ot},0)}})};return Ce(I,by.EventType.OPEN,()=>{U||Ie(dn,`RPC '${e}' stream ${a} transport opened.`)}),Ce(I,by.EventType.CLOSE,()=>{U||(U=!0,Ie(dn,`RPC '${e}' stream ${a} transport closed`),oe.wo())}),Ce(I,by.EventType.ERROR,Me=>{U||(U=!0,Ir(dn,`RPC '${e}' stream ${a} transport errored:`,Me),oe.wo(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),Ce(I,by.EventType.MESSAGE,Me=>{var je;if(!U){const qe=Me.data[0];lt(!!qe);const ot=qe.error||(null===(je=qe[0])||void 0===je?void 0:je.error);if(ot){Ie(dn,`RPC '${e}' stream ${a} received error:`,ot);const dt=ot.status;let xt=function(Xr){const ei=i1[Xr];if(void 0!==ei)return nU(ei)}(dt),D2=ot.message;void 0===xt&&(xt=ne.INTERNAL,D2="Unknown error status: "+dt+" with message "+ot.message),U=!0,oe.wo(new ye(xt,D2)),I.close()}else Ie(dn,`RPC '${e}' stream ${a} received:`,qe),oe._o(qe)}}),Ce(p,Rse.STAT_EVENT,Me=>{Me.stat===ZF.PROXY?Ie(dn,`RPC '${e}' stream ${a} detected buffering proxy`):Me.stat===ZF.NOPROXY&&Ie(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{oe.fo()},0),oe}}function lj(){return typeof window<"u"?window:null}function iC(){return typeof document<"u"?document:null}function Ef(t){return new X3e(t,!0)}class nx{constructor(e,n,r=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),a=Math.max(0,n-r);a>0&&Ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class uj{constructor(e,n,r,a,c,u,p,y){this.ii=e,this.$o=r,this.Oo=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new nx(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,G.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,G.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,G.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Y2(n.toString()),Y2("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Fo===n&&this.Zo(r,a)},r=>{e(()=>{const a=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(a)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{r(()=>this.tu(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,G.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $4e extends uj{constructor(e,n,r,a,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=c}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function n4e(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Xe(),a=e.targetChange.targetIds||[],c=function(y,b){return y.useProto3Json?(lt(void 0===b||"string"==typeof b),M1.fromBase64String(b||"")):(lt(void 0===b||b instanceof Uint8Array),M1.fromUint8Array(b||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(y){const b=void 0===y.code?ne.UNKNOWN:nU(y.code);return new ye(b,y.message||"")}(u);n=new oU(r,a,c,p||null)}else if("documentChange"in e){const r=e.documentChange,a=xi(t,r.document.name),c=Q2(r.document.updateTime),u=r.document.createTime?Q2(r.document.createTime):ft.min(),p=new Y1({mapValue:{fields:r.document.fields}}),y=S2.newFoundDocument(a,c,u,p);n=new Uy(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,a=xi(t,r.document),c=r.readTime?Q2(r.readTime):ft.min(),u=S2.newNoDocument(a,c);n=new Uy([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,a=xi(t,r.document);n=new Uy([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:a=0,unchangedNames:c}=r,u=new W3e(a,c);n=new aU(r.targetId,u)}}var y;return n}(this.serializer,e),r=function(a){if(!("targetChange"in a))return ft.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ft.min():c.readTime?Q2(c.readTime):ft.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=yf(this.serializer),n.addTarget=function(a,c){let u;const p=c.target;if(u=Ty(p)?{documents:vU(a,p)}:{query:AL(a,p)},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=fU(a,c.resumeToken);const y=zL(a,c.expectedCount);null!==y&&(u.expectedCount=y)}else if(c.snapshotVersion.compareTo(ft.min())>0){u.readTime=X0(a,c.snapshotVersion.toTimestamp());const y=zL(a,c.expectedCount);null!==y&&(u.expectedCount=y)}return u}(this.serializer,e);const r=function i4e(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=yf(this.serializer),n.removeTarget=e,this.Wo(n)}}class G4e extends uj{constructor(e,n,r,a,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function r4e(t,e){return t&&t.length>0?(lt(void 0!==e),t.map(n=>function(r,a){let c=Q2(r.updateTime?r.updateTime:a);return c.isEqual(ft.min())&&(c=Q2(a)),new j3e(c,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Q2(e.commitTime);return this.listener.cu(r,n)}return lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=yf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Cf(this.serializer,r))};this.Wo(n)}}class q4e extends class{}{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,n,r,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ne.UNKNOWN,a.toString())})}vo(e,n,r,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.vo(e,n,r,c,u,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ne.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class Z4e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Y2(n),this.mu=!1):Ie("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class K4e{constructor(e,n,r,a,c){var u=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(p=>{r.enqueueAndForget((0,G.Z)(function*(){var y;I4(u)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,G.Z)(function*(b){const H=Ge(b);H.vu.add(4),yield sl(H),H.bu.set("Unknown"),H.vu.delete(4),yield zf(H)}),function(b){return y.apply(this,arguments)})(u))}))}),this.bu=new Z4e(r,a)}}function zf(t){return ix.apply(this,arguments)}function ix(){return ix=(0,G.Z)(function*(t){if(I4(t))for(const e of t.Ru)yield e(!0)}),ix.apply(this,arguments)}function sl(t){return sx.apply(this,arguments)}function sx(){return sx=(0,G.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),sx.apply(this,arguments)}function sC(t,e){const n=Ge(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),cx(n)?ox(n):ol(n).Ko()&&ax(n,e))}function Lf(t,e){const n=Ge(t),r=ol(n);n.Au.delete(e),r.Ko()&&fj(n,e),0===n.Au.size&&(r.Ko()?r.jo():I4(n)&&n.bu.set("Unknown"))}function ax(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).su(e)}function fj(t,e){t.Vu.qt(e),ol(t).iu(e)}function ox(t){t.Vu=new K3e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.bu.gu()}function cx(t){return I4(t)&&!ol(t).Uo()&&t.Au.size>0}function I4(t){return 0===Ge(t).vu.size}function dj(t){t.Vu=void 0}function Y4e(t){return lx.apply(this,arguments)}function lx(){return lx=(0,G.Z)(function*(t){t.Au.forEach((e,n)=>{ax(t,e)})}),lx.apply(this,arguments)}function Q4e(t,e){return ux.apply(this,arguments)}function ux(){return ux=(0,G.Z)(function*(t,e){dj(t),cx(t)?(t.bu.Iu(e),ox(t)):t.bu.set("Unknown")}),ux.apply(this,arguments)}function J4e(t,e,n){return fx.apply(this,arguments)}function fx(){return fx=(0,G.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof oU&&2===e.state&&e.cause)try{yield(r=(0,G.Z)(function*(a,c){const u=c.cause;for(const p of c.targetIds)a.Au.has(p)&&(yield a.remoteSyncer.rejectListen(p,u),a.Au.delete(p),a.Vu.removeTarget(p))}),function(a,c){return r.apply(this,arguments)})(t,e)}catch(r){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield aC(t,r)}else if(e instanceof Uy?t.Vu.Ht(e):e instanceof aU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ft.min()))try{const r=yield ej(t.localStore);n.compareTo(r)>=0&&(yield function(a,c){const u=a.Vu.ce(c);return u.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=a.Au.get(y);b&&a.Au.set(y,b.withResumeToken(p.resumeToken,c))}}),u.targetMismatches.forEach((p,y)=>{const b=a.Au.get(p);if(!b)return;a.Au.set(p,b.withResumeToken(M1.EMPTY_BYTE_STRING,b.snapshotVersion)),fj(a,p);const H=new Ns(b.target,p,y,b.sequenceNumber);ax(a,H)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n))}catch(r){Ie("RemoteStore","Failed to raise snapshot:",r),yield aC(t,r)}var r}),fx.apply(this,arguments)}function aC(t,e,n){return dx.apply(this,arguments)}function dx(){return dx=(0,G.Z)(function*(t,e,n){if(!m4(e))throw e;t.vu.add(1),yield sl(t),t.bu.set("Offline"),n||(n=()=>ej(t.localStore)),t.asyncQueue.enqueueRetryable((0,G.Z)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield zf(t)}))}),dx.apply(this,arguments)}function hj(t,e){return e().catch(n=>aC(t,n,e))}function al(t){return hx.apply(this,arguments)}function hx(){return hx=(0,G.Z)(function*(t){const e=Ge(t),n=E4(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;X4e(e);)try{const a=yield P4e(e.localStore,r);if(null===a){0===e.Eu.length&&n.jo();break}r=a.batchId,eae(e,a)}catch(a){yield aC(e,a)}pj(e)&&mj(e)}),hx.apply(this,arguments)}function X4e(t){return I4(t)&&t.Eu.length<10}function eae(t,e){t.Eu.push(e);const n=E4(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function pj(t){return I4(t)&&!E4(t).Uo()&&t.Eu.length>0}function mj(t){E4(t).start()}function tae(t){return px.apply(this,arguments)}function px(){return px=(0,G.Z)(function*(t){E4(t).hu()}),px.apply(this,arguments)}function nae(t){return mx.apply(this,arguments)}function mx(){return mx=(0,G.Z)(function*(t){const e=E4(t);for(const n of t.Eu)e.uu(n.mutations)}),mx.apply(this,arguments)}function rae(t,e,n){return gx.apply(this,arguments)}function gx(){return gx=(0,G.Z)(function*(t,e,n){const r=t.Eu.shift(),a=VL.from(r,e,n);yield hj(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),yield al(t)}),gx.apply(this,arguments)}function iae(t,e){return vx.apply(this,arguments)}function vx(){return vx=(0,G.Z)(function*(t,e){var n;e&&E4(t).ou&&(yield(n=(0,G.Z)(function*(r,a){if(tU(c=a.code)&&c!==ne.ABORTED){const u=r.Eu.shift();E4(r).Qo(),yield hj(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,a)),yield al(r)}var c}),function(r,a){return n.apply(this,arguments)})(t,e)),pj(t)&&mj(t)}),vx.apply(this,arguments)}function gj(t,e){return yx.apply(this,arguments)}function yx(){return yx=(0,G.Z)(function*(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const r=I4(n);n.vu.add(3),yield sl(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield zf(n)}),yx.apply(this,arguments)}function Cx(t,e){return _x.apply(this,arguments)}function _x(){return _x=(0,G.Z)(function*(t,e){const n=Ge(t);e?(n.vu.delete(2),yield zf(n)):e||(n.vu.add(2),yield sl(n),n.bu.set("Unknown"))}),_x.apply(this,arguments)}function ol(t){return t.Su||(t.Su=function(e,n,r){const a=Ge(e);return a.fu(),new $4e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{uo:Y4e.bind(null,t),ao:Q4e.bind(null,t),nu:J4e.bind(null,t)}),t.Ru.push(function(){var e=(0,G.Z)(function*(n){n?(t.Su.Qo(),cx(t)?ox(t):t.bu.set("Unknown")):(yield t.Su.stop(),dj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function E4(t){return t.Du||(t.Du=function(e,n,r){const a=Ge(e);return a.fu(),new G4e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{uo:tae.bind(null,t),ao:iae.bind(null,t),au:nae.bind(null,t),cu:rae.bind(null,t)}),t.Ru.push(function(){var e=(0,G.Z)(function*(n){n?(t.Du.Qo(),yield al(t)):(yield t.Du.stop(),t.Eu.length>0&&(Ie("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Mx{constructor(e,n,r,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new _1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,a,c){const u=Date.now()+r,p=new Mx(e,n,u,a,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cl(t,e){if(Y2("AsyncQueue",`${e}: ${t}`),m4(t))return new ye(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class ll{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=uf(),this.sortedSet=new h2(this.comparator)}static emptySet(e){return new ll(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class vj{constructor(){this.Cu=new h2(Ue.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ul{constructor(e,n,r,a,c,u,p,y,b){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=b}static fromInitialDocuments(e,n,r,a,c){const u=[];return n.forEach(p=>{u.push({type:0,doc:p})}),new ul(e,n,ll.emptySet(n),u,r,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class sae{constructor(){this.Nu=void 0,this.listeners=[]}}class aae{constructor(){this.queries=new As(e=>kB(e),cf),this.onlineState="Unknown",this.ku=new Set}}function wx(t,e){return bx.apply(this,arguments)}function bx(){return bx=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.query;let a=!1,c=n.queries.get(r);if(c||(a=!0,c=new sae),a)try{c.Nu=yield n.onListen(r)}catch(u){const p=cl(u,`Initialization of query '${ML(e.query)}' failed`);return void e.onError(p)}n.queries.set(r,c),c.listeners.push(e),e.Mu(n.onlineState),c.Nu&&e.$u(c.Nu)&&Sx(n)}),bx.apply(this,arguments)}function Hx(t,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.query;let a=!1;const c=n.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),a=0===c.listeners.length)}if(a)return n.queries.delete(r),n.onUnlisten(r)}),Vx.apply(this,arguments)}function oae(t,e){const n=Ge(t);let r=!1;for(const a of e){const u=n.queries.get(a.query);if(u){for(const p of u.listeners)p.$u(a)&&(r=!0);u.Nu=a}}r&&Sx(n)}function cae(t,e,n){const r=Ge(t),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(n);r.queries.delete(e)}function Sx(t){t.ku.forEach(e=>{e.next()})}class Ix{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class lae{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class yj{constructor(e){this.serializer=e}rr(e){return xi(this.serializer,e)}ur(e){return e.metadata.exists?gU(this.serializer,e.document,!1):S2.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Q2(e)}}class uae{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Cj(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Wt.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new yj(this.serializer);for(const a of e)if(a.metadata.queries){const c=r.rr(a.metadata.name);for(const u of a.metadata.queries){const p=(n.get(u)||Nt()).add(c);n.set(u,p)}}return n}complete(){var e=this;return(0,G.Z)(function*(){const n=yield function R4e(t,e,n,r){return KL.apply(this,arguments)}(e.localStore,new yj(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const a of e.queries)yield O4e(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function Cj(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class _j{constructor(e){this.key=e}}class Mj{constructor(e){this.key=e}}class wj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Nt(),this.mutatedKeys=Nt(),this.tc=RB(e),this.ec=new ll(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new vj,a=n?n.ec:this.ec;let c=n?n.mutatedKeys:this.mutatedKeys,u=a,p=!1;const y="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,b="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((H,I)=>{const N=a.get(H),U=lf(this.query,I)?I:null,oe=!!N&&this.mutatedKeys.has(N.key),Ce=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Me=!1;N&&U?N.data.isEqual(U.data)?oe!==Ce&&(r.track({type:3,doc:U}),Me=!0):this.rc(N,U)||(r.track({type:2,doc:U}),Me=!0,(y&&this.tc(U,y)>0||b&&this.tc(U,b)<0)&&(p=!0)):!N&&U?(r.track({type:0,doc:U}),Me=!0):N&&!U&&(r.track({type:1,doc:N}),Me=!0,(y||b)&&(p=!0)),Me&&(U?(u=u.add(U),c=Ce?c.add(H):c.delete(H)):(u=u.delete(H),c=c.delete(H)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const H="F"===this.query.limitType?u.last():u.first();u=u.delete(H.key),c=c.delete(H.key),r.track({type:1,doc:H})}return{ec:u,ic:r,zi:p,mutatedKeys:c}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((b,H)=>function(I,N){const U=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return U(I)-U(N)}(b.type,H.type)||this.tc(b.doc,H.doc)),this.oc(r);const u=n?this.uc():[],p=0===this.Zu.size&&this.current?1:0,y=p!==this.Xu;return this.Xu=p,0!==c.length||y?{snapshot:new ul(this.query,e.ec,a,c,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Nt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Mj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new _j(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Nt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ul.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dae{constructor(e){this.key=e,this.fc=!1}}class hae{constructor(e,n,r,a,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new As(p=>kB(p),cf),this._c=new Map,this.mc=new Set,this.gc=new h2(Ue.comparator),this.yc=new Map,this.Ic=new BL,this.Tc={},this.Ec=new Map,this.Ac=Yo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function pae(t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,G.Z)(function*(t,e){const n=Qx(t);let r,a;const c=n.wc.get(e);if(c)r=c.targetId,n.sharedClientState.addLocalQueryTarget(r),a=c.view.lc();else{const u=yield rl(n.localStore,Sn(e)),p=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,a=yield zx(n,e,r,"current"===p,u.resumeToken),n.isPrimaryClient&&sC(n.remoteStore,u)}return a}),Ex.apply(this,arguments)}function zx(t,e,n,r,a){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,G.Z)(function*(t,e,n,r,a){t.Rc=(I,N,U)=>{return(oe=(0,G.Z)(function*(Ce,Me,je,qe){let Ze=Me.view.sc(je);Ze.zi&&(Ze=yield eC(Ce.localStore,Me.query,!1).then(({documents:xt})=>Me.view.sc(xt,Ze)));const ot=qe&&qe.targetChanges.get(Me.targetId),dt=Me.view.applyChanges(Ze,Ce.isPrimaryClient,ot);return Fx(Ce,Me.targetId,dt.cc),dt.snapshot}),function(Ce,Me,je,qe){return oe.apply(this,arguments)})(t,I,N,U);var oe};const c=yield eC(t.localStore,e,!0),u=new wj(e,c.ir),p=u.sc(c.documents),y=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,a),b=u.applyChanges(p,t.isPrimaryClient,y);Fx(t,n,b.cc);const H=new fae(e,n,u);return t.wc.set(e,H),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),b.snapshot}),Lx.apply(this,arguments)}function mae(t,e){return xx.apply(this,arguments)}function xx(){return xx=(0,G.Z)(function*(t,e){const n=Ge(t),r=n.wc.get(e),a=n._c.get(r.targetId);if(a.length>1)return n._c.set(r.targetId,a.filter(c=>!cf(c,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield il(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Lf(n.remoteStore,r.targetId),fl(n,r.targetId)}).catch(p4))):(fl(n,r.targetId),yield il(n.localStore,r.targetId,!0))}),xx.apply(this,arguments)}function Dx(){return Dx=(0,G.Z)(function*(t,e,n){const r=Jx(t);try{const a=yield function(c,u){const p=Ge(c),y=L2.now(),b=u.reduce((N,U)=>N.add(U.key),Nt());let H,I;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=Rn(),oe=Nt();return p.Zi.getEntries(N,b).next(Ce=>{U=Ce,U.forEach((Me,je)=>{je.isValidDocument()||(oe=oe.add(Me))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,U)).next(Ce=>{H=Ce;const Me=[];for(const je of u){const qe=G3e(je,H.get(je.key).overlayedDocument);null!=qe&&Me.push(new Ts(je.key,qe,wB(qe.value.mapValue),x2.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,Me,u)}).next(Ce=>{I=Ce;const Me=Ce.applyToLocalDocumentSet(H,oe);return p.documentOverlayCache.saveOverlays(N,Ce.batchId,Me)})}).then(()=>({batchId:I.batchId,changes:FB(H)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,u,p){let y=c.Tc[c.currentUser.toKey()];y||(y=new h2(Et)),y=y.insert(u,p),c.Tc[c.currentUser.toKey()]=y}(r,a.batchId,n),yield ks(r,a.changes),yield al(r.remoteStore)}catch(a){const c=cl(a,"Failed to persist write");n.reject(c)}}),Dx.apply(this,arguments)}function bj(t,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,G.Z)(function*(t,e){const n=Ge(t);try{const r=yield function k4e(t,e){const n=Ge(t),r=e.snapshotVersion;let a=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=n.Zi.newChangeBuffer({trackRemovals:!0});a=n.Ji;const p=[];e.targetChanges.forEach((H,I)=>{const N=a.get(I);if(!N)return;p.push(n.Bs.removeMatchingKeys(c,H.removedDocuments,I).next(()=>n.Bs.addMatchingKeys(c,H.addedDocuments,I)));let U=N.withSequenceNumber(c.currentSequenceNumber);var oe,Ce,Me;null!==e.targetMismatches.get(I)?U=U.withResumeToken(M1.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):H.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(H.resumeToken,r)),a=a.insert(I,U),Ce=U,Me=H,(0===(oe=N).resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&p.push(n.Bs.updateTargetData(c,U))});let y=Rn(),b=Nt();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,H))}),p.push(tj(c,u,e.documentUpdates).next(H=>{y=H.nr,b=H.sr})),!r.isEqual(ft.min())){const H=n.Bs.getLastRemoteSnapshotVersion(c).next(I=>n.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(H)}return Q.waitFor(p).next(()=>u.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,b)).next(()=>y)}).then(c=>(n.Ji=a,c))}(n.localStore,e);e.targetChanges.forEach((a,c)=>{const u=n.yc.get(c);u&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.fc=!0:a.modifiedDocuments.size>0?lt(u.fc):a.removedDocuments.size>0&&(lt(u.fc),u.fc=!1))}),yield ks(n,r,e)}catch(r){yield p4(r)}}),Ax.apply(this,arguments)}function Hj(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const a=[];r.wc.forEach((c,u)=>{const p=u.view.Mu(e);p.snapshot&&a.push(p.snapshot)}),function(c,u){const p=Ge(c);p.onlineState=u;let y=!1;p.queries.forEach((b,H)=>{for(const I of H.listeners)I.Mu(u)&&(y=!0)}),y&&Sx(p)}(r.eventManager,e),a.length&&r.dc.nu(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vae(t,e,n){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,G.Z)(function*(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.yc.get(e),c=a&&a.key;if(c){let u=new h2(Ue.comparator);u=u.insert(c,S2.newNoDocument(c,ft.min()));const p=Nt().add(c),y=new mf(ft.min(),new Map,new h2(Et),u,p);yield bj(r,y),r.gc=r.gc.remove(c),r.yc.delete(e),Bx(r)}else yield il(r.localStore,e,!1).then(()=>fl(r,e,n)).catch(p4)}),Tx.apply(this,arguments)}function yae(t,e){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.batch.batchId;try{const a=yield function N4e(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=n.Zi.newChangeBuffer({trackRemovals:!0});return function(u,p,y,b){const H=y.batch,I=H.keys();let N=Q.resolve();return I.forEach(U=>{N=N.next(()=>b.getEntry(p,U)).next(oe=>{const Ce=y.docVersions.get(U);lt(null!==Ce),oe.version.compareTo(Ce)<0&&(H.applyToRemoteDocument(oe,y),oe.isValidDocument()&&(oe.setReadTime(y.commitVersion),b.addEntry(oe)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(p,H))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=Nt();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(p=p.add(u.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}(n.localStore,e);Ox(n,r,null),Rx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ks(n,a)}catch(a){yield p4(a)}}),Nx.apply(this,arguments)}function Cae(t,e,n){return kx.apply(this,arguments)}function kx(){return kx=(0,G.Z)(function*(t,e,n){const r=Ge(t);try{const a=yield function(c,u){const p=Ge(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.mutationQueue.lookupMutationBatch(y,u).next(H=>(lt(null!==H),b=H.keys(),p.mutationQueue.removeMutationBatch(y,H))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>p.localDocuments.getDocuments(y,b))})}(r.localStore,e);Ox(r,e,n),Rx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ks(r,a)}catch(a){yield p4(a)}}),kx.apply(this,arguments)}function Px(){return Px=(0,G.Z)(function*(t,e){const n=Ge(t);I4(n.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const u=Ge(c);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(n.localStore);if(-1===r)return void e.resolve();const a=n.Ec.get(r)||[];a.push(e),n.Ec.set(r,a)}catch(r){const a=cl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Px.apply(this,arguments)}function Rx(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Ox(t,e,n){const r=Ge(t);let a=r.Tc[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),r.Tc[r.currentUser.toKey()]=a}}function fl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Vj(t,r)})}function Vj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Lf(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Bx(t))}function Fx(t,e,n){for(const r of n)r instanceof _j?(t.Ic.addReference(r.key,e),Mae(t,r)):r instanceof Mj?(Ie("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Vj(t,r.key)):Xe()}function Mae(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Ie("SyncEngine","New document in limbo: "+n),t.mc.add(r),Bx(t))}function Bx(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ue(Wt.fromString(e)),r=t.Ac.next();t.yc.set(r,new dae(n)),t.gc=t.gc.insert(n,r),sC(t.remoteStore,new Ns(Sn(Z0(n.path)),r,"TargetPurposeLimboResolution",lr.ct))}}function ks(t,e,n){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,G.Z)(function*(t,e,n){const r=Ge(t),a=[],c=[],u=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,y)=>{u.push(r.Rc(y,e,n).then(b=>{if((b||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b?.fromCache?"not-current":"current"),b){a.push(b);const H=qL.Li(y.targetId,b);c.push(H)}}))}),yield Promise.all(u),r.dc.nu(a),yield(p=(0,G.Z)(function*(y,b){const H=Ge(y);try{yield H.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(b,N=>Q.forEach(N.Fi,U=>H.persistence.referenceDelegate.addReference(I,N.targetId,U)).next(()=>Q.forEach(N.Bi,U=>H.persistence.referenceDelegate.removeReference(I,N.targetId,U)))))}catch(I){if(!m4(I))throw I;Ie("LocalStore","Failed to update sequence numbers: "+I)}for(const I of b){const N=I.targetId;if(!I.fromCache){const U=H.Ji.get(N),Ce=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);H.Ji=H.Ji.insert(N,Ce)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,c))}),Ux.apply(this,arguments)}function wae(t,e){return jx.apply(this,arguments)}function jx(){return jx=(0,G.Z)(function*(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const r=yield XU(n.localStore,e);n.currentUser=e,(a=n).Ec.forEach(u=>{u.forEach(p=>{p.reject(new ye(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ks(n,r.er)}var a}),jx.apply(this,arguments)}function bae(t,e){const n=Ge(t),r=n.yc.get(e);if(r&&r.fc)return Nt().add(r.key);{let a=Nt();const c=n._c.get(e);if(!c)return a;for(const u of c){const p=n.wc.get(u);a=a.unionWith(p.view.nc)}return a}}function Hae(t,e){return $x.apply(this,arguments)}function $x(){return $x=(0,G.Z)(function*(t,e){const n=Ge(t),r=yield eC(n.localStore,e.query,!0),a=e.view.hc(r);return n.isPrimaryClient&&Fx(n,e.targetId,a.cc),a}),$x.apply(this,arguments)}function Vae(t,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,G.Z)(function*(t,e){const n=Ge(t);return rj(n.localStore,e).then(r=>ks(n,r))}),Gx.apply(this,arguments)}function Sae(t,e,n,r){return qx.apply(this,arguments)}function qx(){return qx=(0,G.Z)(function*(t,e,n,r){const a=Ge(t),c=yield function(u,p){const y=Ge(u),b=Ge(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",H=>b.Sn(H,p).next(I=>I?y.localDocuments.getDocuments(H,I):Q.resolve(null)))}(a.localStore,e);var p;null!==c?("pending"===n?yield al(a.remoteStore):"acknowledged"===n||"rejected"===n?(Ox(a,e,r||null),Rx(a,e),p=e,Ge(Ge(a.localStore).mutationQueue).Cn(p)):Xe(),yield ks(a,c)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)}),qx.apply(this,arguments)}function Wx(){return Wx=(0,G.Z)(function*(t,e){const n=Ge(t);if(Qx(n),Jx(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),a=yield Sj(n,r.toArray());n.vc=!0,yield Cx(n.remoteStore,!0);for(const c of a)sC(n.remoteStore,c)}else if(!1===e&&!1!==n.vc){const r=[];let a=Promise.resolve();n._c.forEach((c,u)=>{n.sharedClientState.isLocalQueryTarget(u)?r.push(u):a=a.then(()=>(fl(n,u),il(n.localStore,u,!0))),Lf(n.remoteStore,u)}),yield a,yield Sj(n,r),function(c){const u=Ge(c);u.yc.forEach((p,y)=>{Lf(u.remoteStore,y)}),u.Ic.Ts(),u.yc=new Map,u.gc=new h2(Ue.comparator)}(n),n.vc=!1,yield Cx(n.remoteStore,!1)}}),Wx.apply(this,arguments)}function Sj(t,e,n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,G.Z)(function*(t,e,n){const r=Ge(t),a=[],c=[];for(const u of e){let p;const y=r._c.get(u);if(y&&0!==y.length){p=yield rl(r.localStore,Sn(y[0]));for(const b of y){const H=r.wc.get(b),I=yield Hae(r,H);I.snapshot&&c.push(I.snapshot)}}else{const b=yield nj(r.localStore,u);p=yield rl(r.localStore,b),yield zx(r,Ij(b),u,!1,p.resumeToken)}a.push(p)}return r.dc.nu(c),a}),Zx.apply(this,arguments)}function Ij(t){return TB(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Eae(t){const e=Ge(t);return Ge(Ge(e.localStore).persistence).$i()}function zae(t,e,n,r){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,G.Z)(function*(t,e,n,r){const a=Ge(t);if(a.vc)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const u=yield rj(a.localStore,PB(c[0])),p=mf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,M1.EMPTY_BYTE_STRING);yield ks(a,u,p);break}case"rejected":yield il(a.localStore,e,!0),fl(a,e,r);break;default:Xe()}}),Kx.apply(this,arguments)}function Lae(t,e,n){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,G.Z)(function*(t,e,n){const r=Qx(t);if(r.vc){for(const a of e){if(r._c.has(a)){Ie("SyncEngine","Adding an already active target "+a);continue}const c=yield nj(r.localStore,a),u=yield rl(r.localStore,c);yield zx(r,Ij(c),u.targetId,!1,u.resumeToken),sC(r.remoteStore,u)}for(const a of n)r._c.has(a)&&(yield il(r.localStore,a,!1).then(()=>{Lf(r.remoteStore,a),fl(r,a)}).catch(p4))}}),Yx.apply(this,arguments)}function Qx(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vae.bind(null,e),e.dc.nu=oae.bind(null,e.eventManager),e.dc.Pc=cae.bind(null,e.eventManager),e}function Jx(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cae.bind(null,e),e}class xf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,G.Z)(function*(){n.serializer=Ef(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JU(this.persistence,new QU,e.initialUser,this.serializer)}createPersistence(e){return new UL(Qy.zs,this.serializer)}createSharedClientState(e){return new oj}terminate(){var e=this;return(0,G.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xx extends xf{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,G.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield Jx(r.Vc.syncEngine),yield al(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return JU(this.persistence,new QU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new UU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new r3e(n,this.persistence);return new n3e(e.asyncQueue,r)}createPersistence(e){const n=GL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new $L(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,lj(),iC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oj}}class Ej extends Xx{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,G.Z)(function*(){yield n().call(r,e);const a=r.Vc.syncEngine;r.sharedClientState instanceof ex&&(r.sharedClientState.syncEngine={jr:Sae.bind(null,a),zr:zae.bind(null,a),Wr:Lae.bind(null,a),$i:Eae.bind(null,a),Qr:Vae.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,G.Z)(function*(u){yield function Iae(t,e){return Wx.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=lj();if(!ex.D(n))throw new ye(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=GL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ex(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class dl{initialize(e,n){var r=this;return(0,G.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>Hj(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=wae.bind(null,r.syncEngine),yield Cx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aae}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=new j4e(e.databaseInfo);return new q4e(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,a=e.asyncQueue,c=p=>Hj(this.syncEngine,p,0),u=cj.D()?new cj:new F4e,new K4e(n,r,a,c,u);var n,r,a,c,u}createSyncEngine(e,n){return function(r,a,c,u,p,y,b){const H=new hae(r,a,c,u,p,y);return b&&(H.vc=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,G.Z)(function*(n){const r=Ge(n);Ie("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield sl(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function zj(t,e=10240){let n=0;return{read:()=>(0,G.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,G.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class oC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Y2("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Aae{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new _1,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,G.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,G.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,G.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),a=Number(r);isNaN(a)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(a);return new lae(JSON.parse(c),n.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,G.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,G.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,G.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Tae{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,G.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new ye(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,G.Z)(function*(c,u){const p=Ge(c),y=yf(p.serializer)+"/documents",b={documents:u.map(U=>vf(p.serializer,U))},H=yield p.vo("BatchGetDocuments",y,b,u.length),I=new Map;H.forEach(U=>{const oe=function t4e(t,e){return"found"in e?function(n,r){lt(!!r.found);const a=xi(n,r.found.name),c=Q2(r.found.updateTime),u=r.found.createTime?Q2(r.found.createTime):ft.min(),p=new Y1({mapValue:{fields:r.found.fields}});return S2.newFoundDocument(a,c,u,p)}(t,e):"missing"in e?function(n,r){lt(!!r.missing),lt(!!r.readTime);const a=xi(n,r.missing),c=Q2(r.readTime);return S2.newNoDocument(a,c)}(t,e):Xe()}(p.serializer,U);I.set(oe.key.toString(),oe)});const N=[];return u.forEach(U=>{const oe=I.get(U.toString());lt(!!oe),N.push(oe)}),N}),function(c,u){return a.apply(this,arguments)})(n.datastore,e);var a;return r.forEach(a=>n.recordVersion(a)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new J0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,G.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,a)=>{const c=Ue.fromPath(a);e.mutations.push(new bL(c,e.precondition(c)))}),yield(r=(0,G.Z)(function*(a,c){const u=Ge(a),p=yf(u.serializer)+"/documents",y={writes:c.map(b=>Cf(u.serializer,b))};yield u.Io("Commit",p,y)}),function(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Xe();n=ft.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ye(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ft.min())?x2.exists(!1):x2.updateTime(n):x2.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ft.min()))throw new ye(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return x2.updateTime(n)}return x2.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nae{constructor(e,n,r,a,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=a,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new nx(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,G.Z)(function*(){const n=new Tae(e.datastore),r=e.qc(n);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const n=this.updateFunction(e);return!X7(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!tU(n)}return!1}}class kae{constructor(e,n,r,a){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=A1.UNAUTHENTICATED,this.clientId=JF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,G.Z)(function*(p){Ie("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ie("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,G.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const a=cl(r,"Failed to shutdown persistence");n.reject(a)}})),n.promise}}function cC(t,e){return eD.apply(this,arguments)}function eD(){return eD=(0,G.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var a=(0,G.Z)(function*(c){r.isEqual(c)||(yield XU(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),eD.apply(this,arguments)}function tD(t,e){return nD.apply(this,arguments)}function nD(){return nD=(0,G.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield rD(t);Ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(a=>gj(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,c)=>gj(e.remoteStore,c)),t._onlineComponents=e}),nD.apply(this,arguments)}function Lj(t){return"FirebaseError"===t.name?t.code===ne.FAILED_PRECONDITION||t.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function rD(t){return iD.apply(this,arguments)}function iD(){return iD=(0,G.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Lj(n))throw n;Ir("Error using user provided cache. Falling back to memory cache: "+n),yield cC(t,new xf)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield cC(t,new xf);return t._offlineComponents}),iD.apply(this,arguments)}function lC(t){return sD.apply(this,arguments)}function sD(){return sD=(0,G.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield tD(t,t._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield tD(t,new dl))),t._onlineComponents}),sD.apply(this,arguments)}function xj(t){return rD(t).then(e=>e.persistence)}function uC(t){return rD(t).then(e=>e.localStore)}function Dj(t){return lC(t).then(e=>e.remoteStore)}function aD(t){return lC(t).then(e=>e.syncEngine)}function hl(t){return oD.apply(this,arguments)}function oD(){return oD=(0,G.Z)(function*(t){const e=yield lC(t),n=e.eventManager;return n.onListen=pae.bind(null,e.syncEngine),n.onUnlisten=mae.bind(null,e.syncEngine),n}),oD.apply(this,arguments)}function Tj(t,e,n={}){const r=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(a,c,u,p,y){const b=new oC({next:I=>{c.enqueueAndForget(()=>Hx(a,H));const N=I.docs.has(u);!N&&I.fromCache?y.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&p&&"server"===p.source?y.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),H=new Ix(Z0(u.path),b,{includeMetadataChanges:!0,Ku:!0});return wx(a,H)}(yield hl(t),t.asyncQueue,e,n,r)})),r.promise}function Nj(t,e,n={}){const r=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(a,c,u,p,y){const b=new oC({next:I=>{c.enqueueAndForget(()=>Hx(a,H)),I.fromCache&&"server"===p.source?y.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),H=new Ix(u,b,{includeMetadataChanges:!0,Ku:!0});return wx(a,H)}(yield hl(t),t.asyncQueue,e,n,r)})),r.promise}function kj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Pj=new Map;function cD(t,e,n){if(!n)throw new ye(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rj(t,e,n,r){if(!0===e&&!0===r)throw new ye(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Oj(t){if(!Ue.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fj(t){if(Ue.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fC(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Xe()}function qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fC(t);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bj(t,e){if(e<=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Uj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new $se;switch(n.type){case"firstParty":return new Zse(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Pj.get(e);n&&(Ie("ComponentProvider","Removing Datastore"),Pj.delete(e),n.terminate())}(this),Promise.resolve()}}function jj(t,e,n,r={}){var a;const c=(t=qt(t,Df))._getSettings(),u=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&Ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),r.mockUserToken){let p,y;if("string"==typeof r.mockUserToken)p=r.mockUserToken,y=A1.MOCK_USER;else{p=(0,rt.Sg)(r.mockUserToken,null===(a=t._app)||void 0===a?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new A1(b)}t._authCredentials=new Gse(new YF(p,y))}}class I2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new I2(this.firestore,e,this._key)}}class Q1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Q1(this.firestore,e,this._query)}}class Di extends Q1{constructor(e,n,r){super(e,n,Z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new I2(this.firestore,null,new Ue(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function lD(t,e,...n){if(t=(0,rt.m9)(t),cD("collection","path",e),t instanceof Df){const r=Wt.fromString(e,...n);return Fj(r),new Di(t,null,r)}{if(!(t instanceof I2||t instanceof Di))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return Fj(r),new Di(t.firestore,null,r)}}function dC(t,e,...n){if(t=(0,rt.m9)(t),1===arguments.length&&(e=JF.A()),cD("doc","path",e),t instanceof Df){const r=Wt.fromString(e,...n);return Oj(r),new I2(t,null,new Ue(r))}{if(!(t instanceof I2||t instanceof Di))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return Oj(r),new I2(t.firestore,t instanceof Di?t.converter:null,new Ue(r))}}function $j(t,e){return t=(0,rt.m9)(t),e=(0,rt.m9)(e),(t instanceof I2||t instanceof Di)&&(e instanceof I2||e instanceof Di)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function uD(t,e){return t=(0,rt.m9)(t),e=(0,rt.m9)(e),t instanceof Q1&&e instanceof Q1&&t.firestore===e.firestore&&cf(t._query,e._query)&&t.converter===e.converter}class qae{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new nx(this,"async_queue_retry"),this.Xc=()=>{const n=iC();n&&Ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=iC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=iC();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _1;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,G.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!m4(n))throw n;Ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Y2("INTERNAL UNHANDLED ERROR: ",function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const a=Mx.createAndSchedule(this,e,n,r,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,G.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function fD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(t)}class Wae{constructor(){this._progressObserver={},this._taskCompletionResolver=new _1,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class E2 extends Df{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new qae,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gj(this),this._firestoreClient.terminate()}}function Kae(t,e){const n="object"==typeof t?t:(0,Tt.getApp)(),r="string"==typeof t?t:e||"(default)",a=(0,Tt._getProvider)(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const c=(0,rt.P0)("firestore");c&&jj(a,...c)}return a}function J2(t){return t._firestoreClient||Gj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gj(t){var e,n,r;const a=t._freezeSettings(),c=(p=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new H3e(t._databaseId,p,t._persistenceKey,(b=a).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,kj(b.experimentalLongPollingOptions),b.useFetchStreams));var p,b;t._firestoreClient=new kae(t._authCredentials,t._appCheckCredentials,t._queue,c),null!==(n=a.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=a.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function qj(t,e,n){const r=new _1;return t.asyncQueue.enqueue((0,G.Z)(function*(){try{yield cC(t,n),yield tD(t,e),r.resolve()}catch(a){const c=a;if(!Lj(c))throw c;Ir("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function Wj(t){if(t._initialized||t._terminated)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ai(M1.fromBase64String(e))}catch(n){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ai(M1.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ps{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new U2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jo{constructor(e){this._methodName=e}}class hC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}const soe=/^__.*__$/;class aoe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Q0(e,this.data,n,this.fieldTransforms)}}class Zj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class pC{constructor(e,n,r,a,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new pC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),a=this.aa({path:r,la:!1});return a.fa(e),a}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),a=this.aa({path:r,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Kj(this.ca)&&soe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ooe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}ya(e,n,r,a=!1){return new pC({ca:e,methodName:n,ga:r,path:U2.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xo(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new ooe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mC(t,e,n,r,a,c={}){const u=t.ya(c.merge||c.mergeFields?2:0,e,n,a);mD("Data must be an object, but it was:",u,r);const p=Jj(r,u);let y,b;if(c.merge)y=new Pn(u.fieldMask),b=u.fieldTransforms;else if(c.mergeFields){const H=[];for(const I of c.mergeFields){const N=Nf(e,I,n);if(!u.contains(N))throw new ye(ne.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);e$(H,N)||H.push(N)}y=new Pn(H),b=u.fieldTransforms.filter(I=>y.covers(I.field))}else y=null,b=u.fieldTransforms;return new aoe(new Y1(p),y,b)}class Tf extends Jo{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function Yj(t,e,n){return new pC({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dD extends Jo{_toFieldTransform(e){return new df(e.path,new K0)}isEqual(e){return e instanceof dD}}class coe extends Jo{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Yj(this,e,!0),r=this.pa.map(c=>ec(c,n)),a=new jo(r);return new df(e.path,a)}isEqual(e){return this===e}}class loe extends Jo{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Yj(this,e,!0),r=this.pa.map(c=>ec(c,n)),a=new $o(r);return new df(e.path,a)}isEqual(e){return this===e}}class uoe extends Jo{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Y0(e.serializer,$B(e.serializer,this.Ia));return new df(e.path,n)}isEqual(e){return this===e}}function hD(t,e,n,r){const a=t.ya(1,e,n);mD("Data must be an object, but it was:",a,r);const c=[],u=Y1.empty();g4(r,(y,b)=>{const H=gC(e,y,n);b=(0,rt.m9)(b);const I=a.da(H);if(b instanceof Tf)c.push(H);else{const N=ec(b,I);null!=N&&(c.push(H),u.set(H,N))}});const p=new Pn(c);return new Zj(u,p,a.fieldTransforms)}function pD(t,e,n,r,a,c){const u=t.ya(1,e,n),p=[Nf(e,r,n)],y=[a];if(c.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(Nf(e,c[N])),y.push(c[N+1]);const b=[],H=Y1.empty();for(let N=p.length-1;N>=0;--N)if(!e$(b,p[N])){const U=p[N];let oe=y[N];oe=(0,rt.m9)(oe);const Ce=u.da(U);if(oe instanceof Tf)b.push(U);else{const Me=ec(oe,Ce);null!=Me&&(b.push(U),H.set(U,Me))}}const I=new Pn(b);return new Zj(H,I,u.fieldTransforms)}function Qj(t,e,n,r=!1){return ec(n,t.ya(r?4:3,e))}function ec(t,e){if(Xj(t=(0,rt.m9)(t)))return mD("Unsupported field value:",e,t),Jj(t,e);if(t instanceof Jo)return function(n,r){if(!Kj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const a=[];let c=0;for(const u of n){let p=ec(u,r.wa(c));null==p&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(t,e)}return function(n,r){if(null===(n=(0,rt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return $B(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const a=L2.fromDate(n);return{timestampValue:X0(r.serializer,a)}}if(n instanceof L2){const a=new L2(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:X0(r.serializer,a)}}if(n instanceof hC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ai)return{bytesValue:fU(r.serializer,n._byteString)};if(n instanceof I2){const a=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(a))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:LL(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${fC(n)}`)}(t,e)}function Jj(t,e){const n={};return hB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):g4(t,(r,a)=>{const c=ec(a,e.ha(r));null!=c&&(n[r]=c)}),{mapValue:{fields:n}}}function Xj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof L2||t instanceof hC||t instanceof Ai||t instanceof I2||t instanceof Jo)}function mD(t,e,n){if(!Xj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fC(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Nf(t,e,n){if((e=(0,rt.m9)(e))instanceof Ps)return e._internalPath;if("string"==typeof e)return gC(t,e);throw vC("Field path arguments must be of type string or ",t,!1,void 0,n)}const foe=new RegExp("[~\\*/\\[\\]]");function gC(t,e,n){if(e.search(foe)>=0)throw vC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ps(...e.split("."))._internalPath}catch{throw vC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vC(t,e,n,r,a){const c=r&&!r.isEmpty(),u=void 0!==a;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${r}`),u&&(y+=` in document ${a}`),y+=")"),new ye(ne.INVALID_ARGUMENT,p+t+y)}function e$(t,e){return t.some(n=>n.isEqual(e))}class kf{constructor(e,n,r,a,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new I2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new doe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class doe extends kf{data(){return super.data()}}function yC(t,e){return"string"==typeof e?gC(t,e):e instanceof Ps?e._internalPath:e._delegate._internalPath}function t$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gD{}class Pf extends gD{}function Rs(t,e,...n){let r=[];e instanceof gD&&r.push(e),r=r.concat(n),function(a){const c=a.filter(p=>p instanceof pl).length,u=a.filter(p=>p instanceof Rf).length;if(c>1||c>0&&u>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Rf extends Pf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rf(e,n,r)}_apply(e){const n=this._parse(e);return o$(e._query,n),new Q1(e.firestore,e.converter,_L(e._query,n))}_parse(e){const n=Xo(e.firestore);return function(a,c,u,p,y,b,H){let I;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){a$(H,b);const N=[];for(const U of H)N.push(s$(p,a,U));I={arrayValue:{values:N}}}else I=s$(p,a,H)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||a$(H,b),I=Qj(u,"where",H,"in"===b||"not-in"===b);return Gt.create(y,b,I)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function n$(t,e,n){const r=e,a=yC("where",t);return Rf._create(a,r,n)}class pl extends gD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pl(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:s2.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,a){let c=r;const u=a.getFlattenedFilters();for(const p of u)o$(c,p),c=_L(c,p)}(e._query,n),new Q1(e.firestore,e.converter,_L(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vD extends Pf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vD(e,n)}_apply(e){const n=function(r,a,c){if(null!==r.startAt)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new q0(a,c);return function(p,y){if(null===yL(p)){const b=ky(p);null!==b&&c$(0,b,y.field)}}(r,u),u}(e._query,this._field,this._direction);return new Q1(e.firestore,e.converter,function(r,a){const c=r.explicitOrderBy.concat([a]);return new Ds(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class CC extends Pf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new CC(e,n,r)}_apply(e){return new Q1(e.firestore,e.converter,Py(e._query,this._limit,this._limitType))}}function r$(t){return Bj("limit",t),CC._create("limit",t,"F")}class _C extends Pf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new _C(e,n,r)}_apply(e){const n=i$(e,this.type,this._docOrFields,this._inclusive);return new Q1(e.firestore,e.converter,(a=n,new Ds((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class MC extends Pf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new MC(e,n,r)}_apply(e){const n=i$(e,this.type,this._docOrFields,this._inclusive);return new Q1(e.firestore,e.converter,(a=n,new Ds((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function i$(t,e,n,r){if(n[0]=(0,rt.m9)(n[0]),n[0]instanceof kf)return function(a,c,u,p,y){if(!p)throw new ye(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const H of Uo(a))if(H.field.isKeyField())b.push(Fo(c,p.key));else{const I=p.data.field(H.field);if(zy(I))throw new ye(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+H.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const N=H.field.canonicalString();throw new ye(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}b.push(I)}return new w4(b,y)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Xo(t.firestore);return function(c,u,p,y,b,H){const I=c.explicitOrderBy;if(b.length>I.length)throw new ye(ne.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let U=0;U<b.length;U++){const oe=b[U];if(I[U].field.isKeyField()){if("string"!=typeof oe)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof oe}`);if(!CL(c)&&-1!==oe.indexOf("/"))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${oe}' contains a slash.`);const Ce=c.path.child(Wt.fromString(oe));if(!Ue.isDocumentKey(Ce))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ce}' is not because it contains an odd number of segments.`);const Me=new Ue(Ce);N.push(Fo(u,Me))}else{const Ce=Qj(p,y,oe);N.push(Ce)}}return new w4(N,H)}(t._query,t.firestore._databaseId,a,e,n,r)}}function s$(t,e,n){if("string"==typeof(n=(0,rt.m9)(n))){if(""===n)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CL(e)&&-1!==n.indexOf("/"))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Wt.fromString(n));if(!Ue.isDocumentKey(r))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fo(t,new Ue(r))}if(n instanceof I2)return Fo(t,n._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fC(n)}.`)}function a$(t,e){if(!Array.isArray(t)||0===t.length)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o$(t,e){if(e.isInequality()){const r=ky(t),a=e.field;if(null!==r&&!r.isEqual(a))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${a.toString()}'`);const c=yL(t);null!==c&&c$(0,a,c)}const n=function(r,a){for(const c of r)for(const u of c.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ye(ne.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function c$(t,e,n){if(!n.isEqual(e))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class yD{convertValue(e,n="none"){switch(_4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return j2(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return g4(e,(a,c)=>{r[a]=this.convertValue(c,n)}),r}convertGeoPoint(e){return new hC(j2(e.latitude),j2(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ly(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tf(e));default:return null}}convertTimestamp(e){const n=v4(e);return new L2(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wt.fromString(e);lt(MU(r));const a=new y4(r.get(1),r.get(3)),c=new Ue(r.popFirst(5));return a.isEqual(n)||Y2(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function wC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Coe extends yD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new I2(this.firestore,null,n)}}class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Os extends kf{constructor(e,n,r,a,c,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Of extends Os{data(e={}){return super.data(e)}}class z4{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new tc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Of(this._firestore,this._userDataWriter,r.key,r,new tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Of(r._firestore,r._userDataWriter,u.doc.key,u.doc,new tc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||3!==u.type).map(u=>{const p=new Of(r._firestore,r._userDataWriter,u.doc.key,u.doc,new tc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==u.type&&(y=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),1!==u.type&&(c=c.add(u.doc),b=c.indexOf(u.doc.key)),{type:Moe(u.type),doc:p,oldIndex:y,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Moe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function u$(t,e){return t instanceof Os&&e instanceof Os?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof z4&&e instanceof z4&&t._firestore===e._firestore&&uD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class L4 extends yD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new I2(this.firestore,null,n)}}function f$(t,e,n){t=qt(t,I2);const r=qt(t.firestore,E2),a=wC(t.converter,e,n);return ml(r,[mC(Xo(r),"setDoc",t._key,a,null!==t.converter,n).toMutation(t._key,x2.none())])}function d$(t,e,n,...r){t=qt(t,I2);const a=qt(t.firestore,E2),c=Xo(a);let u;return u="string"==typeof(e=(0,rt.m9)(e))||e instanceof Ps?pD(c,"updateDoc",t._key,e,n,r):hD(c,"updateDoc",t._key,e),ml(a,[u.toMutation(t._key,x2.exists(!0))])}function CD(t,...e){var n,r,a;t=(0,rt.m9)(t);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||fD(e[u])||(c=e[u],u++);const p={includeMetadataChanges:c.includeMetadataChanges};if(fD(e[u])){const I=e[u];e[u]=null===(n=I.next)||void 0===n?void 0:n.bind(I),e[u+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[u+2]=null===(a=I.complete)||void 0===a?void 0:a.bind(I)}let y,b,H;if(t instanceof I2)b=qt(t.firestore,E2),H=Z0(t._key.path),y={next:I=>{e[u]&&e[u](_D(b,t,I))},error:e[u+1],complete:e[u+2]};else{const I=qt(t,Q1);b=qt(I.firestore,E2),H=I._query;const N=new L4(b);y={next:U=>{e[u]&&e[u](new z4(b,N,I,U))},error:e[u+1],complete:e[u+2]},t$(t._query)}return function(I,N,U,oe){const Ce=new oC(oe),Me=new Ix(N,Ce,U);return I.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return wx(yield hl(I),Me)})),()=>{Ce.Dc(),I.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return Hx(yield hl(I),Me)}))}}(J2(b),H,p,y)}function ml(t,e){return function(n,r){const a=new _1;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function gae(t,e,n){return Dx.apply(this,arguments)}(yield aD(n),r,a)})),a.promise}(J2(t),e)}function _D(t,e,n){const r=n.docs.get(e._key),a=new L4(t);return new Os(t,a,e._key,r,new tc(n.hasPendingWrites,n.fromCache),e.converter)}const Ooe={maxAttempts:5};class h${constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xo(e)}set(e,n,r){this._verifyNotCommitted();const a=x4(e,this._firestore),c=wC(a.converter,n,r),u=mC(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,r);return this._mutations.push(u.toMutation(a._key,x2.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const c=x4(e,this._firestore);let u;return u="string"==typeof(n=(0,rt.m9)(n))||n instanceof Ps?pD(this._dataReader,"WriteBatch.update",c._key,n,r,a):hD(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,x2.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=x4(e,this._firestore);return this._mutations=this._mutations.concat(new J0(n._key,x2.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function x4(t,e){if((t=(0,rt.m9)(t)).firestore!==e)throw new ye(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Foe extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Xo(e)}get(e){const n=x4(e,this._firestore),r=new Coe(this._firestore);return this._transaction.lookup([n._key]).then(a=>{if(!a||1!==a.length)return Xe();const c=a[0];if(c.isFoundDocument())return new kf(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new kf(this._firestore,r,n._key,null,n.converter);throw Xe()})}set(e,n,r){const a=x4(e,this._firestore),c=wC(a.converter,n,r),u=mC(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,r);return this._transaction.set(a._key,u),this}update(e,n,r,...a){const c=x4(e,this._firestore);let u;return u="string"==typeof(n=(0,rt.m9)(n))||n instanceof Ps?pD(this._dataReader,"Transaction.update",c._key,n,r,a):hD(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this}delete(e){const n=x4(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=x4(e,this._firestore),r=new L4(this._firestore);return super.get(e).then(a=>new Os(this._firestore,r,n._key,a._document,new tc(!1,!1),n.converter))}}function MD(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function m$(){if(typeof Uint8Array>"u")throw new ye("unimplemented","Uint8Arrays are not available in this environment.")}function g$(){if(!function w3e(){return typeof atob<"u"}())throw new ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){U0=Tt.SDK_VERSION,(0,Tt._registerComponent)(new Zr.wA("firestore",(n,{instanceIdentifier:r,options:a})=>{const c=n.getProvider("app").getImmediate(),u=new E2(new qse(n.getProvider("auth-internal")),new Kse(n.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new y4(p.options.projectId,y)}(c,r),c);return a=Object.assign({useFetchStreams:e},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),(0,Tt.registerVersion)(KF,"3.13.0",t),(0,Tt.registerVersion)(KF,"3.13.0","esm2017")}();class Ff{constructor(e){this._delegate=e}static fromBase64String(e){return g$(),new Ff(Ai.fromBase64String(e))}static fromUint8Array(e){return m$(),new Ff(Ai.fromUint8Array(e))}toBase64(){return g$(),this._delegate.toBase64()}toUint8Array(){return m$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wD(t){return function Koe(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Yoe{enableIndexedDbPersistence(e,n){return function Yae(t,e){Wj(t=qt(t,E2));const n=J2(t);if(n._uninitializedComponentsProvider)throw new ye(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Ir("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),a=new dl;return qj(n,a,new Xx(a,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Qae(t){Wj(t=qt(t,E2));const e=J2(t);if(e._uninitializedComponentsProvider)throw new ye(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Ir("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new dl;return qj(e,r,new Ej(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Jae(t){if(t._initialized&&!t._terminated)throw new ye(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _1;return t._queue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{yield(n=(0,G.Z)(function*(r){if(!Jr.D())return Promise.resolve();const a=r+"main";yield Jr.delete(a)}),function(r){return n.apply(this,arguments)})(GL(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class v${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof y4||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ir("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){jj(this._delegate,e,n,r)}enableNetwork(){return function eoe(t){return function Pae(t){return t.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield xj(t),n=yield Dj(t);return e.setNetworkEnabled(!0),function(r){const a=Ge(r);return a.vu.delete(0),zf(a)}(n)}))}(J2(t=qt(t,E2)))}(this._delegate)}disableNetwork(){return function toe(t){return function Rae(t){return t.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield xj(t),n=yield Dj(t);return e.setNetworkEnabled(!1),(r=(0,G.Z)(function*(a){const c=Ge(a);c.vu.add(0),yield sl(c),c.bu.set("Offline")}),function(a){return r.apply(this,arguments)})(n);var r}))}(J2(t=qt(t,E2)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Rj("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Xae(t){return function(e){const n=new _1;return e.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function _ae(t,e){return Px.apply(this,arguments)}(yield aD(e),n)})),n.promise}(J2(t=qt(t,E2)))}(this._delegate)}onSnapshotsInSync(e){return function Loe(t,e){return function Bae(t,e){const n=new oC(e);return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield hl(t),a=n,Ge(r).ku.add(a),void a.next();var r,a})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield hl(t),a=n,void Ge(r).ku.delete(a);var r,a}))}}(J2(t=qt(t,E2)),fD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gl(this,lD(this._delegate,e))}catch(n){throw In(n,"collection()","Firestore.collection()")}}doc(e){try{return new Er(this,dC(this._delegate,e))}catch(n){throw In(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new En(this,function Gae(t,e){if(t=qt(t,Df),cD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Q1(t,null,(n=e,new Ds(Wt.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw In(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Boe(t,e,n){t=qt(t,E2);const r=Object.assign(Object.assign({},Ooe),n);return function(a){if(a.maxAttempts<1)throw new ye(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,c,u){const p=new _1;return a.asyncQueue.enqueueAndForget((0,G.Z)(function*(){const y=yield function Aj(t){return lC(t).then(e=>e.datastore)}(a);new Nae(a.asyncQueue,y,u,c,p).run()})),p.promise}(J2(t),a=>e(new Foe(t,a)),r)}(this._delegate,n=>e(new y$(this,n)))}batch(){return J2(this._delegate),new C$(new h$(this._delegate,e=>ml(this._delegate,e)))}loadBundle(e){return function noe(t,e){const n=J2(t=qt(t,E2)),r=new Wae;return function Uae(t,e,n,r){const a=function(c,u){let p;return p="string"==typeof c?rU().encode(c):c,y=function(y,b){if(y instanceof Uint8Array)return zj(y,b);if(y instanceof ArrayBuffer)return zj(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new Aae(y,u);var y}(n,Ef(e));t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){!function xae(t,e,n){const r=Ge(t);var a;(a=(0,G.Z)(function*(c,u,p){try{const y=yield u.getMetadata();if(yield function(N,U){const oe=Ge(N),Ce=Q2(U.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",Me=>oe.qs.getBundleMetadata(Me,U.id)).then(Me=>!!Me&&Me.createTime.compareTo(Ce)>=0)}(c.localStore,y))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(N=y).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);p._updateProgress(Cj(y));const b=new uae(y,c.localStore,u.serializer);let H=yield u.bc();for(;H;){const N=yield b.zu(H);N&&p._updateProgress(N),H=yield u.bc()}const I=yield b.complete();return yield ks(c,I.Ju,void 0),yield function(N,U){const oe=Ge(N);return oe.persistence.runTransaction("Save bundle","readwrite",Ce=>oe.qs.saveBundleMetadata(Ce,U))}(c.localStore,y),p._completeWith(I.progress),Promise.resolve(I.Hu)}catch(y){return Ir("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var N}),function(c,u,p){return a.apply(this,arguments)})(r,e,n).then(a=>{r.sharedClientState.notifyBundleLoaded(a)})}(yield aD(t),a,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function roe(t,e){return function jae(t,e){return t.asyncQueue.enqueue((0,G.Z)(function*(){return function(n,r){const a=Ge(n);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,r))}(yield uC(t),e)}))}(J2(t=qt(t,E2)),e).then(n=>n?new Q1(t,null,n.query):null)}(this._delegate,e).then(n=>n?new En(this,n):null)}}class bC extends yD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ff(new Ai(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Er.forKey(n,this.firestore,null)}}class y${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new bC(e)}get(e){const n=rc(e);return this._delegate.get(n).then(r=>new Bf(this._firestore,new Os(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const a=rc(e);return r?(MD("Transaction.set",r),this._delegate.set(a,n,r)):this._delegate.set(a,n),this}update(e,n,r,...a){const c=rc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...a),this}delete(e){const n=rc(e);return this._delegate.delete(n),this}}class C${constructor(e){this._delegate=e}set(e,n,r){const a=rc(e);return r?(MD("WriteBatch.set",r),this._delegate.set(a,n,r)):this._delegate.set(a,n),this}update(e,n,r,...a){const c=rc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...a),this}delete(e){const n=rc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class nc{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Of(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=nc.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let c=a.get(n);return c||(c=new nc(e,new bC(e),n),a.set(n,c)),c}}nc.INSTANCES=new WeakMap;class Er{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new bC(e)}static forPath(e,n,r){if(e.length%2!=0)throw new ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Er(n,new I2(n._delegate,r,new Ue(e)))}static forKey(e,n,r){return new Er(n,new I2(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gl(this.firestore,lD(this._delegate,e))}catch(n){throw In(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rt.m9)(e))instanceof I2&&$j(this._delegate,e)}set(e,n){n=MD("DocumentReference.set",n);try{return n?f$(this._delegate,e,n):f$(this._delegate,e)}catch(r){throw In(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?d$(this._delegate,e):d$(this._delegate,e,n,...r)}catch(a){throw In(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Eoe(t){return ml(qt(t.firestore,E2),[new J0(t._key,x2.none())])}(this._delegate)}onSnapshot(...e){const n=_$(e),r=M$(e,a=>new Bf(this.firestore,new Os(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return CD(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function boe(t){t=qt(t,I2);const e=qt(t.firestore,E2),n=J2(e),r=new L4(e);return function Oae(t,e){const n=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(r=(0,G.Z)(function*(a,c,u){try{const p=yield function(y,b){const H=Ge(y);return H.persistence.runTransaction("read document","readonly",I=>H.localDocuments.getDocument(I,b))}(a,c);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new ye(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=cl(p,`Failed to get document '${c} from cache`);u.reject(y)}}),function(a,c,u){return r.apply(this,arguments)})(yield uC(t),e,n);var r})),n.promise}(n,t._key).then(a=>new Os(e,r,t._key,a,new tc(null!==a&&a.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function Hoe(t){t=qt(t,I2);const e=qt(t.firestore,E2);return Tj(J2(e),t._key,{source:"server"}).then(n=>_D(e,t,n))}(this._delegate):function woe(t){t=qt(t,I2);const e=qt(t.firestore,E2);return Tj(J2(e),t._key).then(n=>_D(e,t,n))}(this._delegate),n.then(r=>new Bf(this.firestore,new Os(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Er(this.firestore,this._delegate.withConverter(e?nc.getInstance(this.firestore,e):null))}}function In(t,e,n){return t.message=t.message.replace(e,n),t}function _$(t){for(const e of t)if("object"==typeof e&&!wD(e))return e;return{}}function M$(t,e){var n,r;let a;return a=wD(t[0])?t[0]:wD(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(n=a.error)||void 0===n?void 0:n.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class Bf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Er(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return u$(this._delegate,e._delegate)}}class Uf extends Bf{data(e){const n=this._delegate.data(e);return function jse(t,e){t||Xe()}(void 0!==n),n}}class En{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new bC(e)}where(e,n,r){try{return new En(this.firestore,Rs(this._delegate,n$(e,n,r)))}catch(a){throw In(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new En(this.firestore,Rs(this._delegate,function hoe(t,e="asc"){const n=e,r=yC("orderBy",t);return vD._create(r,n)}(e,n)))}catch(r){throw In(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new En(this.firestore,Rs(this._delegate,r$(e)))}catch(n){throw In(n,"limit()","Query.limit()")}}limitToLast(e){try{return new En(this.firestore,Rs(this._delegate,function poe(t){return Bj("limitToLast",t),CC._create("limitToLast",t,"L")}(e)))}catch(n){throw In(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new En(this.firestore,Rs(this._delegate,function moe(...t){return _C._create("startAt",t,!0)}(...e)))}catch(n){throw In(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new En(this.firestore,Rs(this._delegate,function goe(...t){return _C._create("startAfter",t,!1)}(...e)))}catch(n){throw In(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new En(this.firestore,Rs(this._delegate,function voe(...t){return MC._create("endBefore",t,!1)}(...e)))}catch(n){throw In(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new En(this.firestore,Rs(this._delegate,function yoe(...t){return MC._create("endAt",t,!0)}(...e)))}catch(n){throw In(n,"endAt()","Query.endAt()")}}isEqual(e){return uD(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function Soe(t){t=qt(t,Q1);const e=qt(t.firestore,E2),n=J2(e),r=new L4(e);return function Fae(t,e){const n=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(r=(0,G.Z)(function*(a,c,u){try{const p=yield eC(a,c,!0),y=new wj(c,p.ir),b=y.sc(p.documents),H=y.applyChanges(b,!1);u.resolve(H.snapshot)}catch(p){const y=cl(p,`Failed to execute query '${c} against cache`);u.reject(y)}}),function(a,c,u){return r.apply(this,arguments)})(yield uC(t),e,n);var r})),n.promise}(n,t._query).then(a=>new z4(e,r,t,a))}(this._delegate):"server"===e?.source?function Ioe(t){t=qt(t,Q1);const e=qt(t.firestore,E2),n=J2(e),r=new L4(e);return Nj(n,t._query,{source:"server"}).then(a=>new z4(e,r,t,a))}(this._delegate):function Voe(t){t=qt(t,Q1);const e=qt(t.firestore,E2),n=J2(e),r=new L4(e);return t$(t._query),Nj(n,t._query).then(a=>new z4(e,r,t,a))}(this._delegate),n.then(r=>new bD(this.firestore,new z4(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=_$(e),r=M$(e,a=>new bD(this.firestore,new z4(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return CD(this._delegate,n,r)}withConverter(e){return new En(this.firestore,this._delegate.withConverter(e?nc.getInstance(this.firestore,e):null))}}class Joe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Uf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bD{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new En(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Uf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Joe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Uf(this._firestore,r))})}isEqual(e){return u$(this._delegate,e._delegate)}}class gl extends En{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Er(this.firestore,e):null}doc(e){try{return new Er(this.firestore,void 0===e?dC(this._delegate):dC(this._delegate,e))}catch(n){throw In(n,"doc()","CollectionReference.doc()")}}add(e){return function zoe(t,e){const n=qt(t.firestore,E2),r=dC(t),a=wC(t.converter,e);return ml(n,[mC(Xo(t.firestore),"addDoc",r._key,a,null!==t.converter,{}).toMutation(r._key,x2.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Er(this.firestore,n))}isEqual(e){return $j(this._delegate,e._delegate)}withConverter(e){return new gl(this.firestore,this._delegate.withConverter(e?nc.getInstance(this.firestore,e):null))}}function rc(t){return qt(t,I2)}class HD{constructor(...e){this._delegate=new Ps(...e)}static documentId(){return new HD(U2.keyField().canonicalString())}isEqual(e){return(e=(0,rt.m9)(e))instanceof Ps&&this._delegate._internalPath.isEqual(e._internalPath)}}class ic{constructor(e){this._delegate=e}static serverTimestamp(){const e=function joe(){return new dD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ic(e)}static delete(){const e=function Uoe(){return new Tf("deleteField")}();return e._methodName="FieldValue.delete",new ic(e)}static arrayUnion(...e){const n=function $oe(...t){return new coe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new ic(n)}static arrayRemove(...e){const n=function Goe(...t){return new loe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new ic(n)}static increment(e){const n=function qoe(t){return new uoe("increment",t)}(e);return n._methodName="FieldValue.increment",new ic(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Xoe={Firestore:v$,GeoPoint:hC,Timestamp:L2,Blob:Ff,Transaction:y$,WriteBatch:C$,DocumentReference:Er,DocumentSnapshot:Bf,Query:En,QueryDocumentSnapshot:Uf,QuerySnapshot:bD,CollectionReference:gl,FieldPath:HD,FieldValue:ic,setLogLevel:function Qoe(t){!function Use(t){h4.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function tce(t){(function ece(t,e){t.INTERNAL.registerComponent(new Zr.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),a=n.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps(Object.assign({},Xoe)))})(t,(e,n)=>new v$(e,n,new Yoe)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(Tie.Z);var w$=k(8645),nce=k(3019),D4=k(4664);class rce extends w$.x{constructor(e=1/0,n=1/0,r=mI){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:u}=this;n||(r.push(e),!a&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const u=n.now();let p=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)p=y;p&&r.splice(0,p+1)}}}var ice=k(3020);function b$(t,e,n){let r,a=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:n}=t):r=t??1/0,(0,ice.B)({connector:()=>new rce(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}const H$=(0,k(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var ace=k(6232);function lce(t=uce){return(0,u4.e)((e,n)=>{let r=!1;e.subscribe((0,xo.x)(n,a=>{r=!0,n.next(a)},()=>r?n.complete():n.error(t())))})}function uce(){return new H$}function V$(t,e){return(0,EO.m)(e)?(0,D4.w)(()=>t,e):(0,D4.w)(()=>t)}class vl{constructor(e){return e}}class HC{constructor(){return(0,Tt.getApps)()}}const VD=new m.OlP("angularfire2._apps"),hce={provide:vl,useFactory:function dce(t){return t&&1===t.length?t[0]:new vl((0,Tt.getApp)())},deps:[[new m.FiY,VD]]},pce={provide:HC,deps:[[new m.FiY,VD]]};function mce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vl(r)}}let gce=(()=>{class t{constructor(n){(0,Tt.registerVersion)("angularfire",I7.full,"core"),(0,Tt.registerVersion)("angularfire",I7.full,"app"),(0,Tt.registerVersion)("angular",m.q4F.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(m.Lbi))},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[hce,pce]}),t})();function SD(t,...e){return{ngModule:gce,providers:[{provide:VD,useFactory:mce(t),multi:!0,deps:[m.R0b,m.zs3,T0,...e]}]}}const ID=ar(Tt.getApp,!0),vce=ar(Tt.initializeApp,!0),ED=new Map,S$={activated:!1,tokenObservers:[]},yce={initialized:!1,enabled:!1};function $2(t){return ED.get(t)||Object.assign({},S$)}function VC(){return yce}const zD="https://content-firebaseappcheck.googleapis.com/v1",wce="exchangeDebugToken",I$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Hce{constructor(e,n,r,a,c){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,G.Z)(function*(){n.stop();try{n.pending=new rt.BH,yield function Vce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new rt.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const J1=new rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SC(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function LD(t){if(!$2(t).activated)throw J1.create("use-before-activation",{appName:t.name})}function xD(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),a=Math.floor((e-3600*n*24-3600*r)/60),c=e-3600*n*24-3600*r-60*a;let u="";return n&&(u+=IC(n)+"d:"),r&&(u+=IC(r)+"h:"),u+=IC(a)+"m:"+IC(c)+"s",u}function IC(t){return 0===t?"00":t>=10?t.toString():"0"+t}function EC(t,e){return DD.apply(this,arguments)}function DD(){return DD=(0,G.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){const I=yield a.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const c={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(t,c)}catch(I){throw J1.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==u.status)throw J1.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(I){throw J1.create("fetch-parse-error",{originalErrorMessage:I?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw J1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),H=Date.now();return{token:p.token,expireTimeMillis:H+b,issuedAtTimeMillis:H}}),DD.apply(this,arguments)}function E$(t,e){const{projectId:n,appId:r,apiKey:a}=t.options;return{url:`${zD}/projects/${n}/apps/${r}:${wce}?key=${a}`,body:{debug_token:e}}}const zce="firebase-app-check-database",Lce=1,jf="firebase-app-check-store",z$="debug-token";let zC=null;function L$(){return zC||(zC=new Promise((t,e)=>{try{const n=indexedDB.open(zce,Lce);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var a;e(J1.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(jf,{keyPath:"compositeKey"})}}catch(n){e(J1.create("storage-open",{originalErrorMessage:n?.message}))}}),zC)}function x$(t,e){return AD.apply(this,arguments)}function AD(){return AD=(0,G.Z)(function*(t,e){const r=(yield L$()).transaction(jf,"readwrite"),c=r.objectStore(jf).put({compositeKey:t,value:e});return new Promise((u,p)=>{c.onsuccess=y=>{u()},r.onerror=y=>{var b;p(J1.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),AD.apply(this,arguments)}function D$(t){return TD.apply(this,arguments)}function TD(){return TD=(0,G.Z)(function*(t){const n=(yield L$()).transaction(jf,"readonly"),a=n.objectStore(jf).get(t);return new Promise((c,u)=>{a.onsuccess=p=>{const y=p.target.result;c(y?y.value:void 0)},n.onerror=p=>{var y;u(J1.create("storage-get",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),TD.apply(this,arguments)}function A$(t){return`${t.options.appId}-${t.name}`}const $f=new Kr.Yd("@firebase/app-check");function ND(){return ND=(0,G.Z)(function*(t){if((0,rt.hl)()){let e;try{e=yield function xce(t){return D$(A$(t))}(t)}catch(n){$f.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),ND.apply(this,arguments)}function kD(t,e){return(0,rt.hl)()?function Dce(t,e){return x$(A$(t),e)}(t,e).catch(n=>{$f.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function PD(){return PD=(0,G.Z)(function*(){let t;try{t=yield function Tce(){return D$(z$)}()}catch{}if(t)return t;{const e=(0,rt.k$)();return function Ace(t){return x$(z$,t)}(e).catch(n=>$f.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),PD.apply(this,arguments)}function RD(){return VC().enabled}function OD(){return FD.apply(this,arguments)}function FD(){return FD=(0,G.Z)(function*(){const t=VC();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),FD.apply(this,arguments)}const Rce={error:"UNKNOWN_ERROR"};function Oce(t){return rt.US.encodeString(JSON.stringify(t),!1)}function LC(t){return BD.apply(this,arguments)}function BD(){return BD=(0,G.Z)(function*(t,e=!1){const n=t.app;LD(n);const r=$2(n);let c,a=r.token;if(a&&!yl(a)&&(r.token=void 0,a=void 0),!a){const y=yield r.cachedTokenPromise;y&&(yl(y)?a=y:yield kD(n,void 0))}if(!e&&a&&yl(a))return{token:a.token};let p,u=!1;if(RD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=EC(E$(n,yield OD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield kD(n,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),a=yield $2(n).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?$f.warn(y.message):$f.error(y),c=y}return a?c?p=yl(a)?{token:a.token,internalError:c}:P$(c):(p={token:a.token},r.token=a,yield kD(n,a)):p=P$(c),u&&k$(n,p),p}),BD.apply(this,arguments)}function UD(){return UD=(0,G.Z)(function*(t){const e=t.app;LD(e);const{provider:n}=$2(e);if(RD()){const r=yield OD(),{token:a}=yield EC(E$(e,r),t.heartbeatServiceProvider);return{token:a}}{const{token:r}=yield n.getToken();return{token:r}}}),UD.apply(this,arguments)}function jD(t,e,n,r){const{app:a}=t,c=$2(a);if(c.tokenObservers=[...c.tokenObservers,{next:n,error:r,type:e}],c.token&&yl(c.token)){const p=c.token;Promise.resolve().then(()=>{n({token:p.token}),N$(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>N$(t))}function $D(t,e){const n=$2(t),r=n.tokenObservers.filter(a=>a.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function N$(t){const{app:e}=t,n=$2(e);let r=n.tokenRefresher;r||(r=function Fce(t){const{app:e}=t;return new Hce((0,G.Z)(function*(){let r;if(r=$2(e).token?yield LC(t,!0):yield LC(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$2(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},I$.RETRIAL_MIN_WAIT,I$.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function k$(t,e){const n=$2(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function yl(t){return t.expireTimeMillis-Date.now()>0}function P$(t){return{token:Oce(Rce),error:t}}class Bce{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$2(this.app);for(const n of e)$D(this.app,n.next);return Promise.resolve()}}function Zce(t,e){const n=new rt.BH;$2(t).reCAPTCHAState={initialized:n};const a=function R$(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),c=SC(!1);return c?xC(t,e,c,a,n):function Qce(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const u=SC(!1);if(!u)throw new Error("no recaptcha");xC(t,e,u,a,n)}),n.promise}function xC(t,e,n,r,a){n.ready(()=>{(function Yce(t,e,n,r){const a=n.render(r,{sitekey:e,size:"invisible",callback:()=>{$2(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{$2(t).reCAPTCHAState.succeeded=!1}}),c=$2(t);c.reCAPTCHAState=Object.assign(Object.assign({},c.reCAPTCHAState),{widgetId:a})})(t,e,n,r),a.resolve(n)})}function GD(){return GD=(0,G.Z)(function*(t){LD(t);const n=yield $2(t).reCAPTCHAState.initialized.promise;return new Promise((r,a)=>{const c=$2(t).reCAPTCHAState;n.ready(()=>{r(n.execute(c.widgetId,{action:"fire_app_check"}))})})}),GD.apply(this,arguments)}class Gf{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return(0,G.Z)(function*(){var n,r,a;!function j$(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw J1.create("throttled",{time:xD(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const c=yield function O$(t){return GD.apply(this,arguments)}(e._app).catch(p=>{throw J1.create("recaptcha-error")});if(null===(n=$2(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw J1.create("recaptcha-error");let u;try{u=yield EC(function Ice(t,e){const{projectId:n,appId:r,apiKey:a}=t.options;return{url:`${zD}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${a}`,body:{recaptcha_v3_token:e}}}(e._app,c),e._heartbeatServiceProvider)}catch(p){throw null!==(r=p.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function U$(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=(0,rt.$s)(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(a=p.customData)||void 0===a?void 0:a.httpStatus),e._throttleData),J1.create("throttled",{time:xD(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):p}return e._throttleData=null,u})()}initialize(e){this._app=e,this._heartbeatServiceProvider=(0,Tt._getProvider)(e,"heartbeat"),Zce(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Gf&&this._siteKey===e._siteKey}}function Xce(t=(0,Tt.getApp)(),e){t=(0,rt.m9)(t);const n=(0,Tt._getProvider)(t,"app-check");if(VC().initialized||function Pce(){const t=(0,rt.Rd)(),e=VC();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new rt.BH;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function kce(){return PD.apply(this,arguments)}())}(),RD()&&OD().then(a=>console.log(`App Check debug token: ${a}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const a=n.getImmediate(),c=n.getOptions();if(c.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&c.provider.isEqual(e.provider))return a;throw J1.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function e6e(t,e,n){const r=function Cce(t,e){return ED.set(t,e),ED.get(t)}(t,Object.assign({},S$));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Nce(t){return ND.apply(this,arguments)}(t).then(a=>(a&&yl(a)&&(r.token=a,k$(t,{token:a.token})),a)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),$2(t).isTokenAutoRefreshEnabled&&jD(r,"INTERNAL",()=>{}),r}const $$="app-check-internal";!function n6e(){(0,Tt._registerComponent)(new Zr.wA("app-check",t=>function Uce(t,e){return new Bce(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($$).initialize()})),(0,Tt._registerComponent)(new Zr.wA($$,t=>function jce(t){return{getToken:e=>LC(t,e),getLimitedUseToken:()=>function T$(t){return UD.apply(this,arguments)}(t),addTokenListener:e=>jD(t,"INTERNAL",e),removeTokenListener:e=>$D(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Tt.registerVersion)("@firebase/app-check","0.8.0")}();const G$="app-check";class WD{constructor(e){return e}}class qf{constructor(){return hz(G$)}}const ZD=new m.OlP("angularfire2.app-check-instances"),i6e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function s6e(t){return(e,n,r)=>{var a;!H1(r)&&((0,m.X6Q)()||i6e)&&(null!==(a=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==a||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const c=e.runOutsideAngular(()=>t(n));return new WD(c)}}const a6e={provide:qf,deps:[[new m.FiY,ZD]]},o6e={provide:WD,useFactory:function r6e(t,e){const n=dz(G$,t,e);return n&&new WD(n)},deps:[[new m.FiY,ZD],vl,m.Lbi]};let c6e=(()=>{class t{constructor(){(0,Tt.registerVersion)("angularfire",I7.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[o6e,a6e]}),t})();function KD(t,...e){return{ngModule:c6e,providers:[{provide:ZD,useFactory:s6e(t),multi:!0,deps:[m.R0b,m.zs3,m.Lbi,T0,HC,...e]}]}}const YD=ar(Xce,!0);var q$=k(7142);const W$=new m.OlP("angularfire2.auth.use-emulator"),Z$=new m.OlP("angularfire2.auth.settings"),K$=new m.OlP("angularfire2.auth.tenant-id"),Y$=new m.OlP("angularfire2.auth.langugage-code"),Q$=new m.OlP("angularfire2.auth.use-device-language"),J$=new m.OlP("angularfire.auth.persistence"),X$=(t,e,n,r,a,c,u,p)=>(0,Vr.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const y=e.runOutsideAngular(()=>t.auth());if(n&&y.useEmulator(...n),r&&(y.tenantId=r),y.languageCode=a,c&&y.useDeviceLanguage(),u)for(const[b,H]of Object.entries(u))y.settings[b]=H;return p&&y.setPersistence(p),y},[n,r,a,c,u,p]);let eG=(()=>{class t{constructor(n,r,a,c,u,p,y,b,H,I,N,U){const oe=new w$.x,Ce=(0,z0.of)(void 0).pipe((0,D0.Q)(u.outsideAngular),(0,D4.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,Hn.U)(()=>(0,Vr.on)(n,c,r)),(0,Hn.U)(Me=>X$(Me,c,p,b,H,I,y,N)),b$({bufferSize:1,refCount:!1}));if(H1(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z0.of)(null);else{Ce.pipe(function fce(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yv((a,c)=>t(a,c,r)):zO.y,function oce(t){return t<=0?()=>ace.E:(0,u4.e)((e,n)=>{let r=0;e.subscribe((0,xo.x)(n,a=>{++r<=t&&(n.next(a),t<=r&&n.complete())}))})}(1),n?function cce(t){return(0,u4.e)((e,n)=>{let r=!1;e.subscribe((0,xo.x)(n,a=>{r=!0,n.next(a)},()=>{r||n.next(t),n.complete()}))})}(e):lce(()=>new H$))}()).subscribe();const je=Ce.pipe((0,D4.w)(ot=>ot.getRedirectResult().then(dt=>dt,()=>null)),sr,b$({bufferSize:1,refCount:!1})),qe=Ce.pipe((0,D4.w)(ot=>new Vo.y(dt=>({unsubscribe:c.runOutsideAngular(()=>ot.onAuthStateChanged(xt=>dt.next(xt),xt=>dt.error(xt),()=>dt.complete()))})))),Ze=Ce.pipe((0,D4.w)(ot=>new Vo.y(dt=>({unsubscribe:c.runOutsideAngular(()=>ot.onIdTokenChanged(xt=>dt.next(xt),xt=>dt.error(xt),()=>dt.complete()))}))));this.authState=je.pipe(V$(qe),(0,S7.R)(u.outsideAngular),(0,D0.Q)(u.insideAngular)),this.user=je.pipe(V$(Ze),(0,S7.R)(u.outsideAngular),(0,D0.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,D4.w)(ot=>ot?(0,So.D)(ot.getIdToken()):(0,z0.of)(null))),this.idTokenResult=this.user.pipe((0,D4.w)(ot=>ot?(0,So.D)(ot.getIdTokenResult()):(0,z0.of)(null))),this.credential=(0,nce.T)(je,oe,this.authState.pipe(Yv(ot=>!ot))).pipe((0,Hn.U)(ot=>ot?.user?ot:null),(0,S7.R)(u.outsideAngular),(0,D0.Q)(u.insideAngular))}return(0,Vr.pX)(this,Ce,c,{spy:{apply:(Me,je,qe)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&qe.then(Ze=>oe.next(Ze))}}})}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(Vr.Dh),m.LFG(Vr.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(T0),m.LFG(W$,8),m.LFG(Z$,8),m.LFG(K$,8),m.LFG(Y$,8),m.LFG(Q$,8),m.LFG(J$,8),m.LFG(qf,8))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function tG(t,e){return function u6e(t,e=bR){return new Vo.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function QD(t,e){return tG(t,e).pipe((0,Hn.U)(n=>({payload:n,type:"query"})))}function DC(t,e){return QD(t,e).pipe(pz(void 0),mz(),(0,Hn.U)(([n,r])=>{const a=r.payload.docChanges(),c=a.map(u=>({type:u.type,payload:u}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const y=a.find(H=>H.doc.ref.isEqual(u.ref)),b=n?.payload.docs.find(H=>H.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||c.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),c}))}function nG(t,e,n){return DC(t,n).pipe(gz((r,a)=>function d6e(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function h6e(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return JD(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return JD(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JD(t,e.oldIndex,1)}return t}(t,r))}),t}(r,a.map(c=>c.payload),e),[]),(0,Aie.x)(),(0,Hn.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function JD(t,e,n,...r){const a=t.slice();return a.splice(e,n,...r),a}function rG(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class iG{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=DC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,Hn.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),n.pipe(pz(void 0),mz(),Yv(([r,a])=>a.length>0||!r),(0,Hn.U)(([r,a])=>a),sr)}auditTrail(e){return this.stateChanges(e).pipe(gz((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=rG(e);return nG(this.query,n,this.afs.schedulers.outsideAngular).pipe(sr)}valueChanges(e={}){return QD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Hn.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),sr)}get(e){return(0,So.D)(this.query.get(e)).pipe(sr)}add(e){return this.ref.add(e)}doc(e){return new sG(this.ref.doc(e),this.afs)}}class sG{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:a,query:c}=aG(r,n);return new iG(a,c,this.afs)}snapshotChanges(){return function f6e(t,e){return tG(t,e).pipe(pz(void 0),mz(),(0,Hn.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(sr)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Hn.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,So.D)(this.ref.get(e)).pipe(sr)}}class p6e{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?DC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Hn.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Yv(n=>n.length>0),sr):DC(this.query,this.afs.schedulers.outsideAngular).pipe(sr)}auditTrail(e){return this.stateChanges(e).pipe(gz((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=rG(e);return nG(this.query,n,this.afs.schedulers.outsideAngular).pipe(sr)}valueChanges(e={}){return QD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Hn.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),sr)}get(e){return(0,So.D)(this.query.get(e)).pipe(sr)}}const m6e=new m.OlP("angularfire2.enableFirestorePersistence"),g6e=new m.OlP("angularfire2.firestore.persistenceSettings"),v6e=new m.OlP("angularfire2.firestore.settings"),y6e=new m.OlP("angularfire2.firestore.use-emulator");function aG(t,e=(n=>n)){return{query:e(t),ref:t}}let oG=(()=>{class t{constructor(n,r,a,c,u,p,y,b,H,I,N,U,oe,Ce,Me,je,qe){this.schedulers=y;const Ze=(0,Vr.on)(n,p,r),ot=H;I&&X$(Ze,p,N,oe,Ce,Me,U,je),[this.firestore,this.persistenceEnabled$]=(0,Vr.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const dt=p.runOutsideAngular(()=>Ze.firestore());if(c&&dt.settings(c),ot&&dt.useEmulator(...ot),a&&!H1(u)){const xt=()=>{try{return(0,So.D)(dt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(D2){return typeof console<"u"&&console.warn(D2),(0,z0.of)(!1)}};return[dt,p.runOutsideAngular(xt)]}return[dt,(0,z0.of)(!1)]},[c,ot,a])}collection(n,r){let a;a="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:u}=aG(a,r),p=this.schedulers.ngZone.run(()=>c);return new iG(p,u,this)}collectionGroup(n,r){const a=r||(u=>u),c=this.firestore.collectionGroup(n);return new p6e(a(c),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const a=this.schedulers.ngZone.run(()=>r);return new sG(a,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(Vr.Dh),m.LFG(Vr.xv,8),m.LFG(m6e,8),m.LFG(v6e,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(T0),m.LFG(g6e,8),m.LFG(y6e,8),m.LFG(eG,8),m.LFG(W$,8),m.LFG(Z$,8),m.LFG(K$,8),m.LFG(Y$,8),m.LFG(Q$,8),m.LFG(J$,8),m.LFG(qf,8))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),cG=(()=>{var t;class e{constructor(){this.firestore=(0,m.f3M)(oG),this.dgAPI=(0,m.f3M)(E0)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){this.firestore.collection("scans",a=>a.where("location","==",r.planetScan.location).limit(1)).get().subscribe(a=>{let c=Object.assign(new gR,a.docChanges().map(u=>u.doc.data())[0]);c.location=r.planetScan.location,c.turn=r.planetScan.turn,c.owner=r.planetScan.owner,(r.type==an.RESOURCE||r.type==an.SURFACE)&&(c.orbit=r.planetScan.orbit,c.ground=r.planetScan.ground),r.type==an.RESOURCE&&(c.resources.length>0?c.resources.forEach((u,p)=>{u.abundance=r.planetScan.resources[p].abundance,u.name=r.planetScan.resources[p].name}):c.resources=r.planetScan.resources),r.type==an.SURFACE&&(c.resources=r.planetScan.resources,c.workers=r.planetScan.workers,c.soldiers=r.planetScan.soldiers,c.structures=r.planetScan.structures),r.type==an.FLEET&&(c.fleets=r.planetScan.fleets),0==a.size?this.firestore.collection("scans").add(JSON.parse(JSON.stringify(c))):this.firestore.collection("scans").doc(a.docs[0].id).set(JSON.parse(JSON.stringify(c)))})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Wf=k(6878);function C6e(t){return new Vo.y(function(e){return{unsubscribe:(0,Wf.x)(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class AC{constructor(e){return e}}class uG{constructor(){return hz("auth")}}const XD=new m.OlP("angularfire2.auth-instances");function w6e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new AC(r)}}const b6e={provide:uG,deps:[[new m.FiY,XD]]},H6e={provide:AC,useFactory:function M6e(t,e){const n=dz("auth",t,e);return n&&new AC(n)},deps:[[new m.FiY,XD],vl]};let V6e=(()=>{class t{constructor(){(0,Tt.registerVersion)("angularfire",I7.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[H6e,b6e]}),t})();function eA(t,...e){return{ngModule:V6e,providers:[{provide:XD,useFactory:w6e(t),multi:!0,deps:[m.R0b,m.zs3,T0,HC,[new m.FiY,qf],...e]}]}}const S6e=ar(C6e,!0),tA=ar(Wf.o,!0),I6e=ar(Wf.a9,!0),E6e=ar(Wf.c,!0);var z6e={includeMetadataChanges:!1};function k6e(t,e){return void 0===e&&(e={}),function N6e(t){return function nA(t,e){return void 0===e&&(e=z6e),new Vo.y(function(n){return{unsubscribe:CD(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}(t,{includeMetadataChanges:!0}).pipe((0,Hn.U)(function(e){return e.docs}))}(t).pipe((0,Hn.U)(function(n){return n.map(function(r){return function fG(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class TC{constructor(e){return e}}const mG="firestore",sA=new m.OlP("angularfire2.firestore-instances");function O6e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new TC(r)}}const F6e={provide:class P6e{constructor(){return hz(mG)}},deps:[[new m.FiY,sA]]},B6e={provide:TC,useFactory:function R6e(t,e){const n=dz(mG,t,e);return n&&new TC(n)},deps:[[new m.FiY,sA],vl]};let U6e=(()=>{class t{constructor(){(0,Tt.registerVersion)("angularfire",I7.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[B6e,F6e]}),t})();function aA(t,...e){return{ngModule:U6e,providers:[{provide:sA,useFactory:O6e(t),multi:!0,deps:[m.R0b,m.zs3,T0,HC,[new m.FiY,uG],[new m.FiY,qf],...e]}]}}const j6e=ar(k6e,!0),$6e=ar(lD,!0),oA=ar(Kae,!0),G6e=ar(r$,!0),q6e=ar(Rs,!0),W6e=ar(n$,!0);let Cl=(()=>{var t;class e{constructor(){this.auth=(0,m.f3M)(AC),this.firestore=(0,m.f3M)(TC),this.authState$=S6e(this.auth),this._loggedStatus=new m.vpe,this.id=Math.random(),this.authStateSubscription=this.authState$.subscribe(r=>{if(null!=r){const a=$6e(this.firestore,"valid-users");j6e(q6e(a,W6e("email","==",r.email),G6e(1))).subscribe(c=>{1==c.length&&(Object.assign({email:"",enabled:!1},c.map(p=>p)[0]).enabled?(localStorage.setItem("user",JSON.stringify(r)),this._loggedStatus.emit(!0)):this.signOut(!1).catch(p=>{console.log(p.message)}))})}else localStorage.removeItem("user"),this._loggedStatus.emit(!1)})}ngOnDestroy(){this.authStateSubscription.unsubscribe()}signIn(r,a){I6e(this.auth,r,a).catch(c=>{window.alert(c.message)})}signInWithGoogle(){E6e(this.auth,new Wf.V).catch(r=>{window.alert(r.message)})}signOut(r){var a=this;return(0,G.Z)(function*(){yield a.auth.signOut(),localStorage.removeItem("user"),a._loggedStatus.emit(!1),r&&location.reload()})()}get loggedStatus(){return this._loggedStatus}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Z6e(t,e){1&t&&(m.TgZ(0,"p",1),m._uU(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),m.qZA())}let K6e=(()=>{var t;class e{constructor(){this.scansService=(0,m.f3M)(cG),this.authService=(0,m.f3M)(Cl),this.active=!1}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{if(r){let a=this.scansService.extractScan();null!=a&&this.scansService.updateScan(a),this.active=!0}else this.active=!1})}ngOnDestroy(){this.authService.loggedStatus.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,a){1&r&&m.YNc(0,Z6e,2,0,"p",0),2&r&&m.Q6J("ngIf",a.active)},dependencies:[Pi]}),e})();const A4={firebase:{apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6LfICx0oAAAAAEd5kbT41ZHF2Zbgba9ocRB7guP6"}}};var Y6e=q$.Z.initializeApp;let Q6e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[K6e]}),t.\u0275inj=m.cJS({providers:[{provide:Vr.Dh,useValue:A4.firebase},cG,Cl,E0],imports:[vr,SD(()=>Y6e(A4.firebase)),eA(()=>tA()),aA(()=>oA()),KD(()=>YD(ID(),{provider:new Gf(A4.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),gG=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(we),this.resourceProductionFormatterPipe=(0,m.f3M)(pI),this.decimalPipe=(0,m.f3M)(Te),this.dgAPI=(0,m.f3M)(E0),this.firestore=(0,m.f3M)(oG)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let a=r.map(c=>c.location.join("."));this.firestore.collection("scans",c=>c.where("location","in",a)).get().subscribe(c=>{let p=Object.assign([],c.docChanges().map(y=>y.doc.data())).reduce((y,b)=>y.set(b.location,b),new Map);this.document.querySelectorAll("div.navigation div.planets").forEach(y=>{let b=y.querySelector("div.coords > span").textContent.trim(),H=p.get(b);if(H){y.querySelector(".dgt-navigation-scan-turn .dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(H.turn,"1.0","en_US"),H.resources.forEach(N=>{y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+N.name+" .abundance").textContent=N.abundance.toString()+"%",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+N.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(N.production).trim()});let I=H.structures.map(N=>N.name);if(I.includes(on.JUMP_GATE)){let N=document.createElement("span");N.classList.add("dgt-navigation-scan-jg"),N.textContent="JG",y.querySelector(".coords").append(N)}if(I.includes(on.HYPERSPACE_BEACON)){let N=document.createElement("span");N.classList.add("dgt-navigation-scan-hb"),N.textContent="HB",y.querySelector(".coords").append(N)}if(H.workers.currentNumber>0||H.soldiers>0){y.querySelector(".dgt-navigation-scan-population .dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(H.workers.currentNumber,"1.0","en_US"),y.querySelector(".dgt-navigation-scan-population .dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(H.soldiers,"1.0","en_US");let N=H.workers.currentNumber/15+H.soldiers/2*3+1;y.querySelector(".dgt-navigation-scan-invasion-value").textContent=this.decimalPipe.transform(Math.ceil(N),"1.0","en_US"),y.querySelector(".dgt-navigation-scan-population").style.display="",y.querySelector(".dgt-navigation-scan-invasion-data").style.display=""}}else y.querySelector(".dgt-navigation-scan-turn .dgt-navigation-scan-turn-value").textContent="N/A",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.metal .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.mineral .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.food .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.energy .abundance").textContent="-"})})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function J6e(t,e){1&t&&(m.TgZ(0,"p",1),m._uU(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),m.qZA())}let X6e=(()=>{var t;class e{constructor(){this.authService=(0,m.f3M)(Cl),this.scansService=(0,m.f3M)(gG),this.active=!1,console.log("authService in scan - "+this.authService.id)}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{if(r){let a=this.scansService.extractSummaries();a.length>0&&this.scansService.fillScans(a),this.active=!0}else this.active=!1})}ngOnDestroy(){this.authService.loggedStatus.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,a){1&r&&m.YNc(0,J6e,2,0,"p",0),2&r&&m.Q6J("ngIf",a.active)},dependencies:[Pi]}),e})();var e0e=q$.Z.initializeApp;let t0e=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[X6e]}),t.\u0275inj=m.cJS({providers:[{provide:Vr.Dh,useValue:A4.firebase},Te,pI,gG,E0,Cl],imports:[vr,SD(()=>e0e(A4.firebase)),eA(()=>tA()),aA(()=>oA()),KD(()=>YD(ID(),{provider:new Gf(A4.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function n0e(t,e){if(1&t){const n=m.EpF();m.TgZ(0,"div",2)(1,"span"),m._uU(2,"DarkGalaxy Tools Login"),m.qZA(),m._UZ(3,"input",3,4)(5,"input",5,6),m.TgZ(7,"button",7),m.NdJ("click",function(){m.CHM(n);const a=m.MAs(4),c=m.MAs(6),u=m.oxw();return m.KtG(u.authService.signIn(a.value,c.value))}),m._uU(8,"Login"),m.qZA(),m.TgZ(9,"button",7),m.NdJ("click",function(){m.CHM(n);const a=m.oxw();return m.KtG(a.authService.signInWithGoogle())}),m._uU(10,"Login with Google"),m.qZA()()}}function r0e(t,e){if(1&t){const n=m.EpF();m.TgZ(0,"div",8)(1,"button",7),m.NdJ("click",function(){m.CHM(n);const a=m.oxw();return m.KtG(a.authService.signOut(!0))}),m._uU(2,"Logout"),m.qZA()()}}let i0e=(()=>{var t;class e{constructor(){this.authService=(0,m.f3M)(Cl),this.localStorage=localStorage,console.log("authService in login - "+this.authService.id)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["type","text","placeholder","email","required",""],["userName",""],["type","password","placeholder","password","required",""],["userPassword",""],[3,"click"],["id","dgt-logout",1,"logout"]],template:function(r,a){1&r&&(m.YNc(0,n0e,11,0,"div",0),m.YNc(1,r0e,3,0,"div",1)),2&r&&(m.Q6J("ngIf",null==a.localStorage.getItem("user")),m.xp6(1),m.Q6J("ngIf",null!=a.localStorage.getItem("user")))},dependencies:[Pi],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;padding:10px;position:relative}.login[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:block;border-radius:3px;font-size:14px;background:#fff;width:50%;border:0;padding:5px 5px 5px 10px;margin:5px 0}.logout[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{cursor:pointer;color:#fff;font-size:16px;width:80px;border:0;padding:5px 0;margin-top:5px;margin-right:10px;border-radius:3px;background-color:#f45b69;transition:background-color .3s}.logout[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover, .login[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#f24353}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}"]}),e})(),s0e=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[i0e]}),t.\u0275inj=m.cJS({providers:[Cl],imports:[vr,SD(()=>vce(A4.firebase)),eA(()=>tA()),aA(()=>oA()),KD(()=>YD(ID(),{provider:new Gf(A4.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Zf=Ec();let Fs=window.location.pathname.split(/\//g);Zf.bootstrapModule(s0e).catch(t=>console.error(t)),Zf.bootstrapModule($2e).catch(t=>console.error(t)),"planets"===Fs[1]&&Zf.bootstrapModule(m1e).catch(t=>console.error(t)),"planet"===Fs[1]&&"comms"===(5===Fs.length&&Fs[3])&&Zf.bootstrapModule(Q6e).catch(t=>console.error(t)),"navigation"===Fs[1]&&6===Fs.length&&!isNaN(+Fs[2])&&!isNaN(+Fs[3])&&!isNaN(+Fs[4])&&Zf.bootstrapModule(t0e).catch(t=>console.error(t))},3018:(ht,Se,k)=>{k.d(Se,{y:()=>O});var m=k(1887),R=k(7394),T=k(4850),ae=k(2737);var xe=k(2653),Pe=k(4674),ze=k(1441);let O=(()=>{class He{constructor(le){le&&(this._subscribe=le)}lift(le){const be=new He;return be.source=this,be.operator=le,be}subscribe(le,be,Ae){const Ke=function Re(He){return He&&He instanceof m.Lv||function re(He){return He&&(0,Pe.m)(He.next)&&(0,Pe.m)(He.error)&&(0,Pe.m)(He.complete)}(He)&&(0,R.Nn)(He)}(le)?le:new m.Hp(le,be,Ae);return(0,ze.x)(()=>{const{operator:Je,source:Z}=this;Ke.add(Je?Je.call(Ke,Z):Z?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(le){try{return this._subscribe(le)}catch(be){le.error(be)}}forEach(le,be){return new(be=B(be))((Ae,Ke)=>{const Je=new m.Hp({next:Z=>{try{le(Z)}catch(ue){Ke(ue),Je.unsubscribe()}},error:Ke,complete:Ae});this.subscribe(Je)})}_subscribe(le){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(le)}[T.L](){return this}pipe(...le){return function we(He){return 0===He.length?ae.y:1===He.length?He[0]:function(le){return He.reduce((be,Ae)=>Ae(be),le)}}(le)(this)}toPromise(le){return new(le=B(le))((be,Ae)=>{let Ke;this.subscribe(Je=>Ke=Je,Je=>Ae(Je),()=>be(Ke))})}}return He.create=st=>new He(st),He})();function B(He){var st;return null!==(st=He??xe.config.Promise)&&void 0!==st?st:Promise}},8645:(ht,Se,k)=>{k.d(Se,{x:()=>xe});var m=k(3018),R=k(7394);const ae=(0,k(2306).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(9039),we=k(1441);let xe=(()=>{class ze extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const re=new Pe(this,this);return re.operator=B,re}_throwIfClosed(){if(this.closed)throw new ae}next(B){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(B)}})}error(B){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:re}=this;for(;re.length;)re.shift().error(B)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:re,isStopped:Re,observers:He}=this;return re||Re?R.Lc:(this.currentObservers=null,He.push(B),new R.w0(()=>{this.currentObservers=null,(0,me.P)(He,B)}))}_checkFinalizedStatuses(B){const{hasError:re,thrownError:Re,isStopped:He}=this;re?B.error(Re):He&&B.complete()}asObservable(){const B=new m.y;return B.source=this,B}}return ze.create=(O,B)=>new Pe(O,B),ze})();class Pe extends xe{constructor(O,B){super(),this.destination=O,this.source=B}next(O){var B,re;null===(re=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===re||re.call(B,O)}error(O){var B,re;null===(re=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===re||re.call(B,O)}complete(){var O,B;null===(B=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===B||B.call(O)}_subscribe(O){var B,re;return null!==(re=null===(B=this.source)||void 0===B?void 0:B.subscribe(O))&&void 0!==re?re:R.Lc}}},1887:(ht,Se,k)=>{k.d(Se,{Hp:()=>le,Lv:()=>re});var m=k(4674),R=k(7394),T=k(2653),ae=k(3894);function me(){}const we=ze("C",void 0,void 0);function ze(Z,ue,J){return{kind:Z,value:ue,error:J}}var O=k(7599),B=k(1441);class re extends R.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,R.Nn)(ue)&&ue.add(this)):this.destination=Je}static create(ue,J,pe){return new le(ue,J,pe)}next(ue){this.isStopped?Ke(function Pe(Z){return ze("N",Z,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?Ke(function xe(Z){return ze("E",void 0,Z)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?Ke(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function He(Z,ue){return Re.call(Z,ue)}class st{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:J}=this;if(J.next)try{J.next(ue)}catch(pe){be(pe)}}error(ue){const{partialObserver:J}=this;if(J.error)try{J.error(ue)}catch(pe){be(pe)}else be(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(J){be(J)}}}class le extends re{constructor(ue,J,pe){let Le;if(super(),(0,m.m)(ue)||!ue)Le={next:ue??void 0,error:J??void 0,complete:pe??void 0};else{let K;this&&T.config.useDeprecatedNextContext?(K=Object.create(ue),K.unsubscribe=()=>this.unsubscribe(),Le={next:ue.next&&He(ue.next,K),error:ue.error&&He(ue.error,K),complete:ue.complete&&He(ue.complete,K)}):Le=ue}this.destination=new st(Le)}}function be(Z){T.config.useDeprecatedSynchronousErrorHandling?(0,B.O)(Z):(0,ae.h)(Z)}function Ke(Z,ue){const{onStoppedNotification:J}=T.config;J&&O.z.setTimeout(()=>J(Z,ue))}const Je={closed:!0,next:me,error:function Ae(Z){throw Z},complete:me}},7394:(ht,Se,k)=>{k.d(Se,{Lc:()=>we,w0:()=>me,Nn:()=>xe});var m=k(4674);const T=(0,k(2306).d)(ze=>function(B){ze(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((re,Re)=>`${Re+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ae=k(9039);class me{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const He of B)He.remove(this);else B.remove(this);const{initialTeardown:re}=this;if((0,m.m)(re))try{re()}catch(He){O=He instanceof T?He.errors:[He]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const He of Re)try{Pe(He)}catch(st){O=O??[],st instanceof T?O=[...O,...st.errors]:O.push(st)}}if(O)throw new T(O)}}add(O){var B;if(O&&O!==this)if(this.closed)Pe(O);else{if(O instanceof me){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(O)}}_hasParent(O){const{_parentage:B}=this;return B===O||Array.isArray(B)&&B.includes(O)}_addParent(O){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(O),B):B?[B,O]:O}_removeParent(O){const{_parentage:B}=this;B===O?this._parentage=null:Array.isArray(B)&&(0,ae.P)(B,O)}remove(O){const{_finalizers:B}=this;B&&(0,ae.P)(B,O),O instanceof me&&O._removeParent(this)}}me.EMPTY=(()=>{const ze=new me;return ze.closed=!0,ze})();const we=me.EMPTY;function xe(ze){return ze instanceof me||ze&&"closed"in ze&&(0,m.m)(ze.remove)&&(0,m.m)(ze.add)&&(0,m.m)(ze.unsubscribe)}function Pe(ze){(0,m.m)(ze)?ze():ze.unsubscribe()}},2653:(ht,Se,k)=>{k.d(Se,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,Se,k)=>{k.d(Se,{E:()=>R});const R=new(k(3018).y)(me=>me.complete())},2459:(ht,Se,k)=>{k.d(Se,{D:()=>ue});var m=k(4829),R=k(3093),T=k(5137),we=k(3018),Pe=k(4971),ze=k(4674),O=k(7103);function re(J,pe){if(!J)throw new Error("Iterable cannot be null");return new we.y(Le=>{(0,O.f)(Le,pe,()=>{const K=J[Symbol.asyncIterator]();(0,O.f)(Le,pe,()=>{K.next().then(et=>{et.done?Le.complete():Le.next(et.value)})},0,!0)})})}var Re=k(8382),He=k(4026),st=k(4266),le=k(3664),be=k(5726),Ae=k(9853),Ke=k(541);function ue(J,pe){return pe?function Z(J,pe){if(null!=J){if((0,Re.c)(J))return function ae(J,pe){return(0,m.Xf)(J).pipe((0,T.R)(pe),(0,R.Q)(pe))}(J,pe);if((0,st.z)(J))return function xe(J,pe){return new we.y(Le=>{let K=0;return pe.schedule(function(){K===J.length?Le.complete():(Le.next(J[K++]),Le.closed||this.schedule())})})}(J,pe);if((0,He.t)(J))return function me(J,pe){return(0,m.Xf)(J).pipe((0,T.R)(pe),(0,R.Q)(pe))}(J,pe);if((0,be.D)(J))return re(J,pe);if((0,le.T)(J))return function B(J,pe){return new we.y(Le=>{let K;return(0,O.f)(Le,pe,()=>{K=J[Pe.h](),(0,O.f)(Le,pe,()=>{let et,nt;try{({value:et,done:nt}=K.next())}catch(Dt){return void Le.error(Dt)}nt?Le.complete():Le.next(et)},0,!0)}),()=>(0,ze.m)(K?.return)&&K.return()})}(J,pe);if((0,Ke.L)(J))return function Je(J,pe){return re((0,Ke.Q)(J),pe)}(J,pe)}throw(0,Ae.z)(J)}(J,pe):(0,m.Xf)(J)}},4829:(ht,Se,k)=>{k.d(Se,{Xf:()=>Re});var m=k(7582),R=k(4266),T=k(4026),ae=k(3018),me=k(8382),we=k(5726),xe=k(9853),Pe=k(3664),ze=k(541),O=k(4674),B=k(3894),re=k(4850);function Re(Z){if(Z instanceof ae.y)return Z;if(null!=Z){if((0,me.c)(Z))return function He(Z){return new ae.y(ue=>{const J=Z[re.L]();if((0,O.m)(J.subscribe))return J.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Z);if((0,R.z)(Z))return function st(Z){return new ae.y(ue=>{for(let J=0;J<Z.length&&!ue.closed;J++)ue.next(Z[J]);ue.complete()})}(Z);if((0,T.t)(Z))return function le(Z){return new ae.y(ue=>{Z.then(J=>{ue.closed||(ue.next(J),ue.complete())},J=>ue.error(J)).then(null,B.h)})}(Z);if((0,we.D)(Z))return Ae(Z);if((0,Pe.T)(Z))return function be(Z){return new ae.y(ue=>{for(const J of Z)if(ue.next(J),ue.closed)return;ue.complete()})}(Z);if((0,ze.L)(Z))return function Ke(Z){return Ae((0,ze.Q)(Z))}(Z)}throw(0,xe.z)(Z)}function Ae(Z){return new ae.y(ue=>{(function Je(Z,ue){var J,pe,Le,K;return(0,m.mG)(this,void 0,void 0,function*(){try{for(J=(0,m.KL)(Z);!(pe=yield J.next()).done;)if(ue.next(pe.value),ue.closed)return}catch(et){Le={error:et}}finally{try{pe&&!pe.done&&(K=J.return)&&(yield K.call(J))}finally{if(Le)throw Le.error}}ue.complete()})})(Z,ue).catch(J=>ue.error(J))})}},3019:(ht,Se,k)=>{k.d(Se,{T:()=>we});var m=k(2372),R=k(4829),T=k(6232),ae=k(4564),me=k(2459);function we(...xe){const Pe=(0,ae.yG)(xe),ze=(0,ae._6)(xe,1/0),O=xe;return O.length?1===O.length?(0,R.Xf)(O[0]):(0,m.J)(ze)((0,me.D)(O,Pe)):T.E}},2096:(ht,Se,k)=>{k.d(Se,{of:()=>T});var m=k(4564),R=k(2459);function T(...ae){const me=(0,m.yG)(ae);return(0,R.D)(ae,me)}},8251:(ht,Se,k)=>{k.d(Se,{x:()=>R});var m=k(1887);function R(ae,me,we,xe,Pe){return new T(ae,me,we,xe,Pe)}class T extends m.Lv{constructor(me,we,xe,Pe,ze,O){super(me),this.onFinalize=ze,this.shouldUnsubscribe=O,this._next=we?function(B){try{we(B)}catch(re){me.error(re)}}:super._next,this._error=Pe?function(B){try{Pe(B)}catch(re){me.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(B){me.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},3997:(ht,Se,k)=>{k.d(Se,{x:()=>ae});var m=k(2737),R=k(9360),T=k(8251);function ae(we,xe=m.y){return we=we??me,(0,R.e)((Pe,ze)=>{let O,B=!0;Pe.subscribe((0,T.x)(ze,re=>{const Re=xe(re);(B||!we(O,Re))&&(B=!1,O=Re,ze.next(re))}))})}function me(we,xe){return we===xe}},7398:(ht,Se,k)=>{k.d(Se,{U:()=>T});var m=k(9360),R=k(8251);function T(ae,me){return(0,m.e)((we,xe)=>{let Pe=0;we.subscribe((0,R.x)(xe,ze=>{xe.next(ae.call(me,ze,Pe++))}))})}},2372:(ht,Se,k)=>{k.d(Se,{J:()=>O});var m=k(7398),R=k(4829),T=k(9360),ae=k(7103),me=k(8251),xe=k(4674);function Pe(B,re,Re=1/0){return(0,xe.m)(re)?Pe((He,st)=>(0,m.U)((le,be)=>re(He,le,st,be))((0,R.Xf)(B(He,st))),Re):("number"==typeof re&&(Re=re),(0,T.e)((He,st)=>function we(B,re,Re,He,st,le,be,Ae){const Ke=[];let Je=0,Z=0,ue=!1;const J=()=>{ue&&!Ke.length&&!Je&&re.complete()},pe=K=>Je<He?Le(K):Ke.push(K),Le=K=>{le&&re.next(K),Je++;let et=!1;(0,R.Xf)(Re(K,Z++)).subscribe((0,me.x)(re,nt=>{st?.(nt),le?pe(nt):re.next(nt)},()=>{et=!0},void 0,()=>{if(et)try{for(Je--;Ke.length&&Je<He;){const nt=Ke.shift();be?(0,ae.f)(re,be,()=>Le(nt)):Le(nt)}J()}catch(nt){re.error(nt)}}))};return B.subscribe((0,me.x)(re,pe,()=>{ue=!0,J()})),()=>{Ae?.()}}(He,st,B,Re)))}var ze=k(2737);function O(B=1/0){return Pe(ze.y,B)}},3093:(ht,Se,k)=>{k.d(Se,{Q:()=>ae});var m=k(7103),R=k(9360),T=k(8251);function ae(me,we=0){return(0,R.e)((xe,Pe)=>{xe.subscribe((0,T.x)(Pe,ze=>(0,m.f)(Pe,me,()=>Pe.next(ze),we),()=>(0,m.f)(Pe,me,()=>Pe.complete(),we),ze=>(0,m.f)(Pe,me,()=>Pe.error(ze),we)))})}},3020:(ht,Se,k)=>{k.d(Se,{B:()=>me});var m=k(4829),R=k(8645),T=k(1887),ae=k(9360);function me(xe={}){const{connector:Pe=(()=>new R.x),resetOnError:ze=!0,resetOnComplete:O=!0,resetOnRefCountZero:B=!0}=xe;return re=>{let Re,He,st,le=0,be=!1,Ae=!1;const Ke=()=>{He?.unsubscribe(),He=void 0},Je=()=>{Ke(),Re=st=void 0,be=Ae=!1},Z=()=>{const ue=Re;Je(),ue?.unsubscribe()};return(0,ae.e)((ue,J)=>{le++,!Ae&&!be&&Ke();const pe=st=st??Pe();J.add(()=>{le--,0===le&&!Ae&&!be&&(He=we(Z,B))}),pe.subscribe(J),!Re&&le>0&&(Re=new T.Hp({next:Le=>pe.next(Le),error:Le=>{Ae=!0,Ke(),He=we(Je,ze,Le),pe.error(Le)},complete:()=>{be=!0,Ke(),He=we(Je,O),pe.complete()}}),(0,m.Xf)(ue).subscribe(Re))})(re)}}function we(xe,Pe,...ze){if(!0===Pe)return void xe();if(!1===Pe)return;const O=new T.Hp({next:()=>{O.unsubscribe(),xe()}});return(0,m.Xf)(Pe(...ze)).subscribe(O)}},5137:(ht,Se,k)=>{k.d(Se,{R:()=>R});var m=k(9360);function R(T,ae=0){return(0,m.e)((me,we)=>{we.add(T.schedule(()=>me.subscribe(we),ae))})}},4664:(ht,Se,k)=>{k.d(Se,{w:()=>ae});var m=k(4829),R=k(9360),T=k(8251);function ae(me,we){return(0,R.e)((xe,Pe)=>{let ze=null,O=0,B=!1;const re=()=>B&&!ze&&Pe.complete();xe.subscribe((0,T.x)(Pe,Re=>{ze?.unsubscribe();let He=0;const st=O++;(0,m.Xf)(me(Re,st)).subscribe(ze=(0,T.x)(Pe,le=>Pe.next(we?we(Re,le,st,He++):le),()=>{ze=null,re()}))},()=>{B=!0,re()}))})}},7599:(ht,Se,k)=>{k.d(Se,{z:()=>m});const m={setTimeout(R,T,...ae){const{delegate:me}=m;return me?.setTimeout?me.setTimeout(R,T,...ae):setTimeout(R,T,...ae)},clearTimeout(R){const{delegate:T}=m;return(T?.clearTimeout||clearTimeout)(R)},delegate:void 0}},4971:(ht,Se,k)=>{k.d(Se,{h:()=>R});const R=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,Se,k)=>{k.d(Se,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ht,Se,k)=>{k.d(Se,{_6:()=>we,yG:()=>me});var m=k(4674);function T(xe){return xe[xe.length-1]}function me(xe){return function R(xe){return xe&&(0,m.m)(xe.schedule)}(T(xe))?xe.pop():void 0}function we(xe,Pe){return"number"==typeof T(xe)?xe.pop():Pe}},9039:(ht,Se,k)=>{function m(R,T){if(R){const ae=R.indexOf(T);0<=ae&&R.splice(ae,1)}}k.d(Se,{P:()=>m})},2306:(ht,Se,k)=>{function m(R){const ae=R(me=>{Error.call(me),me.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(Se,{d:()=>m})},1441:(ht,Se,k)=>{k.d(Se,{O:()=>ae,x:()=>T});var m=k(2653);let R=null;function T(me){if(m.config.useDeprecatedSynchronousErrorHandling){const we=!R;if(we&&(R={errorThrown:!1,error:null}),me(),we){const{errorThrown:xe,error:Pe}=R;if(R=null,xe)throw Pe}}else me()}function ae(me){m.config.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=me)}},7103:(ht,Se,k)=>{function m(R,T,ae,me=0,we=!1){const xe=T.schedule(function(){ae(),we?R.add(this.schedule(null,me)):this.unsubscribe()},me);if(R.add(xe),!we)return xe}k.d(Se,{f:()=>m})},2737:(ht,Se,k)=>{function m(R){return R}k.d(Se,{y:()=>m})},4266:(ht,Se,k)=>{k.d(Se,{z:()=>m});const m=R=>R&&"number"==typeof R.length&&"function"!=typeof R},5726:(ht,Se,k)=>{k.d(Se,{D:()=>R});var m=k(4674);function R(T){return Symbol.asyncIterator&&(0,m.m)(T?.[Symbol.asyncIterator])}},4674:(ht,Se,k)=>{function m(R){return"function"==typeof R}k.d(Se,{m:()=>m})},8382:(ht,Se,k)=>{k.d(Se,{c:()=>T});var m=k(4850),R=k(4674);function T(ae){return(0,R.m)(ae[m.L])}},3664:(ht,Se,k)=>{k.d(Se,{T:()=>T});var m=k(4971),R=k(4674);function T(ae){return(0,R.m)(ae?.[m.h])}},4026:(ht,Se,k)=>{k.d(Se,{t:()=>R});var m=k(4674);function R(T){return(0,m.m)(T?.then)}},541:(ht,Se,k)=>{k.d(Se,{L:()=>ae,Q:()=>T});var m=k(7582),R=k(4674);function T(me){return(0,m.FC)(this,arguments,function*(){const xe=me.getReader();try{for(;;){const{value:Pe,done:ze}=yield(0,m.qq)(xe.read());if(ze)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Pe)}}finally{xe.releaseLock()}})}function ae(me){return(0,R.m)(me?.getReader)}},9360:(ht,Se,k)=>{k.d(Se,{e:()=>T});var m=k(4674);function T(ae){return me=>{if(function R(ae){return(0,m.m)(ae?.lift)}(me))return me.lift(function(we){try{return ae(we,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3894:(ht,Se,k)=>{k.d(Se,{h:()=>T});var m=k(2653),R=k(7599);function T(ae){R.z.setTimeout(()=>{const{onUnhandledError:me}=m.config;if(!me)throw ae;me(ae)})}},9853:(ht,Se,k)=>{function m(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>m})},7989:(ht,Se,k)=>{k.d(Se,{AFp:()=>dd,hGG:()=>eS,Ojb:()=>G_,sBO:()=>OV,EJc:()=>oV,SBq:()=>P3,qLn:()=>hs,vpe:()=>br,OlP:()=>Yt,zs3:()=>er,ZZ4:()=>J5,aQg:()=>X5,soG:()=>g0,h0i:()=>_s,R0b:()=>z1,FiY:()=>rs,Lbi:()=>Y8,g9A:()=>K8,Qsj:()=>iM,FYo:()=>_d,JOm:()=>r6,q3G:()=>ls,Rgc:()=>ho,dDg:()=>IV,eoX:()=>Bg,q4F:()=>Md,GfV:()=>iu,s_b:()=>l0,ifc:()=>_e,Lck:()=>Yb,eFA:()=>Gg,f3M:()=>$e,X6Q:()=>RV,_c5:()=>XV,rg0:()=>Xf,zSh:()=>q8,wAp:()=>Q3,vHH:()=>Z,lri:()=>Og,rWj:()=>Fg,JZr:()=>Je,EiD:()=>g6,mCW:()=>Fa,qzn:()=>x3,JVY:()=>y_,pB0:()=>M_,eBb:()=>__,L6k:()=>C_,LAX:()=>k8,cg1:()=>e0,kL8:()=>Fp,dqk:()=>Lt,QGY:()=>q6,F4k:()=>qh,RDi:()=>d_,AaK:()=>re,z3N:()=>Cr,TTD:()=>_c,xp6:()=>pu,uIk:()=>Iu,ekj:()=>Zu,Xpm:()=>Us,lG2:()=>Gs,Yz7:()=>bt,cJS:()=>p2,oAB:()=>U4,Yjl:()=>qs,Y36:()=>O3,_UZ:()=>G6,qZA:()=>$6,TgZ:()=>j6,EpF:()=>Gh,Ikx:()=>X6,LFG:()=>Ne,$8M:()=>hi,NdJ:()=>W6,oxw:()=>Jh,ALo:()=>Rm,lcZ:()=>Om,Dn7:()=>Fm,Hsn:()=>ep,F$t:()=>Xh,Q6J:()=>ku,DdM:()=>zm,VKq:()=>Lm,MAs:()=>U6,KtG:()=>o3,CHM:()=>Ic,oJD:()=>rd,Akn:()=>nr,YNc:()=>Oh,_uU:()=>wp,Oqu:()=>Xu});var m=k(8645),R=k(7394);class T extends m.x{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const o=super._subscribe(s);return!o.closed&&s.next(this._value),o}getValue(){const{hasError:s,thrownError:o,_value:l}=this;if(s)throw o;return this._throwIfClosed(),l}next(s){super.next(this._value=s)}}var ae=k(3018),me=k(3019),we=k(2096),xe=k(3020),Pe=k(4664),ze=k(3997);function O(i){for(let s in i)if(i[s]===O)return s;throw Error("Could not find renamed property on target object.")}function re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Re(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const He=O({__forward_ref__:O});function st(i){return i.__forward_ref__=st,i.toString=function(){return re(this())},i}function le(i){return function be(i){return"function"==typeof i&&i.hasOwnProperty(He)&&i.__forward_ref__===st}(i)?i():i}function Ae(i){return i&&!!i.\u0275providers}const Je="https://g.co/ng/security#xss";class Z extends Error{constructor(s,o){super(function ue(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function J(i){return"string"==typeof i?i:null==i?"":String(i)}function nt(i,s){throw new Z(-201,!1)}function Qe(i,s){null==i&&function ke(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function bt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function p2(i){return{providers:i.providers||[],imports:i.imports||[]}}function m2(i){return z2(i,s1)||z2(i,a1)}function z2(i,s){return i.hasOwnProperty(s)?i[s]:null}function P1(i){return i&&(i.hasOwnProperty(g2)||i.hasOwnProperty(zn))?i[g2]:null}const s1=O({\u0275prov:O}),g2=O({\u0275inj:O}),a1=O({ngInjectableDef:O}),zn=O({ngInjectorDef:O});var ut=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(ut||{});let Mt;function jt(i){const s=Mt;return Mt=i,s}function o1(i,s,o){const l=m2(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&ut.Optional?null:void 0!==s?s:void nt(re(i))}const Lt=globalThis,c2={},Bn="__NG_DI_FLAG__",O1="ngTempTokenPath",F=/\n/gm,x="__source";let D;function q(i){const s=D;return D=i,s}function de(i,s=ut.Default){if(void 0===D)throw new Z(-203,!1);return null===D?o1(i,void 0,s):D.get(i,s&ut.Optional?null:void 0,s)}function Ne(i,s=ut.Default){return(function Ct(){return Mt}()||de)(le(i),s)}function $e(i,s=ut.Default){return Ne(i,Ft(s))}function Ft(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function vt(i){const s=[];for(let o=0;o<i.length;o++){const l=le(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Z(900,!1);let f,d=ut.Default;for(let v=0;v<l.length;v++){const C=l[v],w=St(C);"number"==typeof w?-1===w?f=C.token:d|=w:f=C}s.push(Ne(f,d))}else s.push(Ne(l))}return s}function Xt(i,s){return i[Bn]=s,i.prototype[Bn]=s,i}function St(i){return i[Bn]}function se(i){return{toString:i}.toString()}var Y=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Y||{}),_e=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(_e||{});const Ye={},Oe=[],Vt=O({\u0275cmp:O}),Bt=O({\u0275dir:O}),A2=O({\u0275pipe:O}),l2=O({\u0275mod:O}),e1=O({\u0275fac:O}),Un=O({__NG_ELEMENT_ID__:O}),Bs=O({__NG_ENV_ID__:O});function T4(i,s,o){let l=i.length;for(;;){const f=i.indexOf(s,o);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const d=s.length;if(f+d===l||i.charCodeAt(f+d)<=32)return f}o=f+1}}function Ti(i,s,o){let l=0;for(;l<o.length;){const f=o[l];if("number"==typeof f){if(0!==f)break;l++;const d=o[l++],v=o[l++],C=o[l++];i.setAttribute(s,v,C,d)}else{const d=f,v=o[++l];Ni(d)?i.setProperty(s,d,v):i.setAttribute(s,d,v),l++}}return l}function jn(i){return 3===i||4===i||6===i}function Ni(i){return 64===i.charCodeAt(0)}function ki(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?o=f:0===o||N4(i,o,f,null,-1===o||2===o?s[++l]:null)}}return i}function N4(i,s,o,l,f){let d=0,v=i.length;if(-1===s)v=-1;else for(;d<i.length;){const C=i[d++];if("number"==typeof C){if(C===s){v=-1;break}if(C>s){v=d-1;break}}}for(;d<i.length;){const C=i[d];if("number"==typeof C)break;if(C===o){if(null===l)return void(null!==f&&(i[d+1]=f));if(l===i[d+1])return void(i[d+2]=f)}d++,null!==l&&d++,null!==f&&d++}-1!==v&&(i.splice(v,0,s),d=v+1),i.splice(d++,0,o),null!==l&&i.splice(d++,0,l),null!==f&&i.splice(d++,0,f)}const u2="ng-template";function _l(i,s,o){let l=0,f=!0;for(;l<i.length;){let d=i[l++];if("string"==typeof d&&f){const v=i[l++];if(o&&"class"===d&&-1!==T4(v.toLowerCase(),s,0))return!0}else{if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}"number"==typeof d&&(f=!1)}}return!1}function Pi(i){return 4===i.type&&i.value!==u2}function Ml(i,s,o){return s===(4!==i.type||o?i.value:u2)}function k4(i,s,o){let l=4;const f=i.attrs||[],d=function Ri(i){for(let s=0;s<i.length;s++)if(jn(i[s]))return s;return i.length}(f);let v=!1;for(let C=0;C<s.length;C++){const w=s[C];if("number"!=typeof w){if(!v)if(4&l){if(l=2|1&l,""!==w&&!Ml(i,w,o)||""===w&&1===s.length){if(b1(l))return!1;v=!0}}else{const V=8&l?w:s[++C];if(8&l&&null!==i.attrs){if(!_l(i.attrs,V,o)){if(b1(l))return!1;v=!0}continue}const A=P4(8&l?"class":w,f,Pi(i),o);if(-1===A){if(b1(l))return!1;v=!0;continue}if(""!==V){let j;j=A>d?"":f[A+1].toLowerCase();const W=8&l?j:null;if(W&&-1!==T4(W,V,0)||2&l&&V!==j){if(b1(l))return!1;v=!0}}}}else{if(!v&&!b1(l)&&!b1(w))return!1;if(v&&b1(w))continue;v=!1,l=w|1&l}}return b1(l)||v}function b1(i){return 0==(1&i)}function P4(i,s,o,l){if(null===s)return-1;let f=0;if(l||!o){let d=!1;for(;f<s.length;){const v=s[f];if(v===i)return f;if(3===v||6===v)d=!0;else{if(1===v||2===v){let C=s[++f];for(;"string"==typeof C;)C=s[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=d?1:2}return-1}return function O4(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function R4(i,s,o=!1){for(let l=0;l<s.length;l++)if(k4(i,s[l],o))return!0;return!1}function sc(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let f=0;f<i.length;f++)if(i[f]!==l[f])continue e;return!0}}return!1}function ac(i,s){return i?":not("+s.trim()+")":s}function oc(i){let s=i[0],o=1,l=2,f="",d=!1;for(;o<i.length;){let v=i[o];if("string"==typeof v)if(2&l){const C=i[++o];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?f+="."+v:4&l&&(f+=" "+v);else""!==f&&!b1(v)&&(s+=ac(d,f),f=""),l=v,d=d||!b1(l);o++}return""!==f&&(s+=ac(d,f)),s}function Us(i){return se(()=>{const s=cc(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||_e.Emulated,styles:i.styles||Oe,_:null,schemas:i.schemas||null,tView:null,id:""};Ws(o);const l=i.dependencies;return o.directiveDefs=dr(l,!1),o.pipeDefs=dr(l,!0),o.id=function Zs(i){let s=0;const o=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const f of o)s=Math.imul(31,s)+f.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function js(i){return Pt(i)||q2(i)}function B4(i){return null!==i}function U4(i){return se(()=>({type:i.type,bootstrap:i.bootstrap||Oe,declarations:i.declarations||Oe,imports:i.imports||Oe,exports:i.exports||Oe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function $s(i,s){if(null==i)return Ye;const o={};for(const l in i)if(i.hasOwnProperty(l)){let f=i[l],d=f;Array.isArray(f)&&(d=f[1],f=f[0]),o[f]=l,s&&(s[f]=d)}return o}function Gs(i){return se(()=>{const s=cc(i);return Ws(s),s})}function qs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Pt(i){return i[Vt]||null}function q2(i){return i[Bt]||null}function W2(i){return i[A2]||null}function cc(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Ye,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Oe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$s(i.inputs,s),outputs:$s(i.outputs)}}function Ws(i){i.features?.forEach(s=>s(i))}function dr(i,s){if(!i)return null;const o=s?W2:js;return()=>("function"==typeof i?i():i).map(l=>o(l)).filter(B4)}const f2=0,Te=1,wt=2,n2=3,B1=4,Gn=5,u1=6,Lr=7,C2=8,qn=9,hr=10,pt=11,Fi=12,bl=13,H1=14,T2=15,ti=16,U1=17,V1=18,pr=19,lc=20,xr=21,Wn=22,$4=23,Cn=24,Rt=25,q4=1,Bi=2,f1=7,ni=9,N2=11;function S1(i){return Array.isArray(i)&&"object"==typeof i[q4]}function h1(i){return Array.isArray(i)&&!0===i[q4]}function W4(i){return 0!=(4&i.flags)}function Zn(i){return i.componentOffset>-1}function ji(i){return 1==(1&i.flags)}function X1(i){return!!i.template}function ri(i){return 0!=(512&i[wt])}function Kn(i,s){return i.hasOwnProperty(e1)?i[e1]:null}let Qs=Lt.WeakRef??class Qf{constructor(s){this.ref=s}deref(){return this.ref}},Jf=0,Ln=null,Dr=!1;function Z2(i){const s=Ln;return Ln=i,s}class Tl{constructor(){this.id=Jf++,this.ref=function pc(i){return new Qs(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,o]of this.producers){const l=o.producerNode.deref();if(null!=l&&o.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(s),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Dr;Dr=!0;try{for(const[o,l]of this.consumers){const f=l.consumerNode.deref();null!=f&&f.trackingVersion===l.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),f?.producers.delete(this.id))}}finally{Dr=s}}producerAccessed(){if(Dr)throw new Error("");if(null===Ln)return;let s=Ln.producers.get(this.id);void 0===s?(s={consumerNode:Ln.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ln.trackingVersion},Ln.producers.set(this.id,s),this.consumers.set(Ln.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Ln.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ln?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Xs=null;function Xf(i){const s=Z2(null);try{return i()}finally{Z2(s)}}const Pl=()=>{};class Rl extends Tl{constructor(s,o,l){super(),this.watch=s,this.schedule=o,this.dirty=!1,this.cleanupFn=Pl,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Z2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Pl,this.watch(this.registerOnCleanup)}finally{Z2(s)}}cleanup(){this.cleanupFn()}}class Cc{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function _c(){return si}function si(i){return i.type.prototype.ngOnChanges&&(i.setInput=t3),Ol}function Ol(){const i=n3(this),s=i?.current;if(s){const o=i.previous;if(o===Ye)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function t3(i,s,o,l){const f=this.declaredInputs[o],d=n3(i)||function $i(i,s){return i[Mc]=s}(i,{previous:Ye,current:null}),v=d.current||(d.current={}),C=d.previous,w=C[f];v[f]=new Cc(w&&w.currentValue,s,C===Ye),i[l]=s}_c.ngInherit=!0;const Mc="__ngSimpleChanges__";function n3(i){return i[Mc]||null}const Yn=function(i,s,o){};function e2(i){for(;Array.isArray(i);)i=i[f2];return i}function r3(i,s){return e2(s[i])}function p1(i,s){return e2(s[i.index])}function ai(i,s){return i.data[s]}function I1(i,s){return i[s]}function t1(i,s){const o=s[i];return S1(o)?o:o[f2]}function Ar(i,s){return null==s?null:i[s]}function Hc(i){i[U1]=0}function Gl(i){1024&i[wt]||(i[wt]|=1024,qi(i,1))}function Gi(i){1024&i[wt]&&(i[wt]&=-1025,qi(i,-1))}function qi(i,s){let o=i[n2];if(null===o)return;o[Gn]+=s;let l=o;for(o=o[n2];null!==o&&(1===s&&1===l[Gn]||-1===s&&0===l[Gn]);)o[Gn]+=s,l=o,o=o[n2]}const yt={lFrame:Jl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sc(){return yt.bindingsEnabled}function gr(){return null!==yt.skipHydrationRootTNode}function ve(){return yt.lFrame.lView}function Ot(){return yt.lFrame.tView}function Ic(i){return yt.lFrame.contextLView=i,i[C2]}function o3(i){return yt.lFrame.contextLView=null,i}function O2(){let i=Ec();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ec(){return yt.lFrame.currentTNode}function _n(i,s){const o=yt.lFrame;o.currentTNode=i,o.isParent=s}function Tr(){return yt.lFrame.isParent}function vr(){yt.lFrame.isParent=!1}function n1(){const i=yt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function j1(){return yt.lFrame.bindingIndex++}function Mn(i){const s=yt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Lc(i,s){const o=yt.lFrame;o.bindingIndex=o.bindingRootIndex=i,aa(s)}function aa(i){yt.lFrame.currentDirectiveIndex=i}function Ac(i){yt.lFrame.currentQueryIndex=i}function n9(i){const s=i[Te];return 2===s.type?s.declTNode:1===s.type?i[u1]:null}function Yl(i,s,o){if(o&ut.SkipSelf){let f=s,d=i;for(;!(f=f.parent,null!==f||o&ut.Host||(f=n9(d),null===f||(d=d[H1],10&f.type))););if(null===f)return!1;s=f,i=d}const l=yt.lFrame=Ql();return l.currentTNode=s,l.lView=i,!0}function Zi(i){const s=Ql(),o=i[Te];yt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Ql(){const i=yt.lFrame,s=null===i?null:i.child;return null===s?Jl(i):s}function Jl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function oa(){const i=yt.lFrame;return yt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const u3=oa;function f3(){const i=oa();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function E1(){return yt.lFrame.selectedIndex}function ci(i){yt.lFrame.selectedIndex=i}function o2(){const i=yt.lFrame;return ai(i.tView,i.selectedIndex)}let d3=!0;function h3(){return d3}function Dn(i){d3=i}function li(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:V,ngOnDestroy:E}=d;v&&(i.contentHooks??=[]).push(-o,v),C&&((i.contentHooks??=[]).push(o,C),(i.contentCheckHooks??=[]).push(o,C)),w&&(i.viewHooks??=[]).push(-o,w),V&&((i.viewHooks??=[]).push(o,V),(i.viewCheckHooks??=[]).push(o,V)),null!=E&&(i.destroyHooks??=[]).push(o,E)}}function Nr(i,s,o){p3(i,s,3,o)}function ui(i,s,o,l){(3&i[wt])===o&&p3(i,s,o,l)}function ca(i,s){let o=i[wt];(3&o)===s&&(o&=8191,o+=1,i[wt]=o)}function p3(i,s,o,l){const d=l??-1,v=s.length-1;let C=0;for(let w=void 0!==l?65535&i[U1]:0;w<v;w++)if("number"==typeof s[w+1]){if(C=s[w],null!=l&&C>=l)break}else s[w]<0&&(i[U1]+=65536),(C<d||-1==d)&&(kr(i,o,s,w),i[U1]=(4294901760&i[U1])+w+2),w++}function Pc(i,s){Yn(4,i,s);const o=Z2(null);try{s.call(i)}finally{Z2(o),Yn(5,i,s)}}function kr(i,s,o,l){const f=o[l]<0,d=o[l+1],C=i[f?-o[l]:o[l]];f?i[wt]>>13<i[U1]>>16&&(3&i[wt])===s&&(i[wt]+=8192,Pc(C,d)):Pc(C,d)}const Qn=-1;class Ki{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Qi(i){return i!==Qn}function Ji(i){return 32767&i}function Pr(i,s){let o=function m3(i){return i>>16}(i),l=s;for(;o>0;)l=l[H1],o--;return l}let la=!0;function An(i){const s=la;return la=i,s}const Fc=255,g3=5;let ua=0;const en={};function fi(i,s){const o=fa(i,s);if(-1!==o)return o;const l=s[Te];l.firstCreatePass&&(i.injectorIndex=s.length,v3(l.data,i),v3(s,null),v3(l.blueprint,null));const f=y3(i,s),d=i.injectorIndex;if(Qi(f)){const v=Ji(f),C=Pr(f,s),w=C[Te].data;for(let V=0;V<8;V++)s[d+V]=C[v+V]|w[v+V]}return s[d+8]=f,d}function v3(i,s){i.push(0,0,0,0,0,0,0,0,s)}function fa(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function y3(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,f=s;for(;null!==f;){if(l=va(f),null===l)return Qn;if(o++,f=f[H1],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return Qn}function C3(i,s,o){!function s8(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Un)&&(l=o[Un]),null==l&&(l=o[Un]=ua++);const f=l&Fc;s.data[i+(f>>g3)]|=1<<f}(i,s,o)}function Bc(i,s,o){if(o&ut.Optional||void 0!==i)return i;nt()}function ha(i,s,o,l){if(o&ut.Optional&&void 0===l&&(l=null),!(o&(ut.Self|ut.Host))){const f=i[qn],d=jt(void 0);try{return f?f.get(s,l,o&ut.Optional):o1(s,l,o&ut.Optional)}finally{jt(d)}}return Bc(l,0,o)}function _3(i,s,o,l=ut.Default,f){if(null!==i){if(2048&s[wt]&&!(l&ut.Self)){const v=function o8(i,s,o,l,f){let d=i,v=s;for(;null!==d&&null!==v&&2048&v[wt]&&!(512&v[wt]);){const C=pa(d,v,o,l|ut.Self,en);if(C!==en)return C;let w=d.parent;if(!w){const V=v[lc];if(V){const E=V.get(o,en,l);if(E!==en)return E}w=va(v),v=v[H1]}d=w}return f}(i,s,o,l,en);if(v!==en)return v}const d=pa(i,s,o,l,en);if(d!==en)return d}return ha(s,o,l,f)}function pa(i,s,o,l,f){const d=function ma(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Un)?i[Un]:void 0;return"number"==typeof s?s>=0?s&Fc:Uc:s}(o);if("function"==typeof d){if(!Yl(s,i,l))return l&ut.Host?Bc(f,0,l):ha(s,o,l,f);try{let v;if(v=d(l),null!=v||l&ut.Optional)return v;nt()}finally{u3()}}else if("number"==typeof d){let v=null,C=fa(i,s),w=Qn,V=l&ut.Host?s[T2][u1]:null;for((-1===C||l&ut.SkipSelf)&&(w=-1===C?y3(i,s):s[C+8],w!==Qn&&w3(l,!1)?(v=s[Te],C=Ji(w),s=Pr(w,s)):C=-1);-1!==C;){const E=s[Te];if(M3(d,C,E.data)){const A=a8(C,s,o,v,l,V);if(A!==en)return A}w=s[C+8],w!==Qn&&w3(l,s[Te].data[C+8]===V)&&M3(d,C,s)?(v=E,C=Ji(w),s=Pr(w,s)):C=-1}}return f}function a8(i,s,o,l,f,d){const v=s[Te],C=v.data[i+8],E=function di(i,s,o,l,f){const d=i.providerIndexes,v=s.data,C=1048575&d,w=i.directiveStart,E=d>>20,j=f?C+E:i.directiveEnd;for(let W=l?C:C+E;W<j;W++){const ce=v[W];if(W<w&&o===ce||W>=w&&ce.type===o)return W}if(f){const W=v[w];if(W&&X1(W)&&W.type===o)return w}return null}(C,v,o,null==l?Zn(C)&&la:l!=v&&0!=(3&C.type),f&ut.Host&&d===C);return null!==E?yr(s,v,E,C):en}function yr(i,s,o,l){let f=i[o];const d=s.data;if(function e8(i){return i instanceof Ki}(f)){const v=f;v.resolving&&function Le(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Z(-200,`Circular dependency in DI detected for ${i}${o}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():J(i)}(d[o]));const C=An(v.canSeeViewProviders);v.resolving=!0;const V=v.injectImpl?jt(v.injectImpl):null;Yl(i,l,ut.Default);try{f=i[o]=v.factory(void 0,d,i,l),s.firstCreatePass&&o>=l.directiveStart&&function Xl(i,s,o){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:d}=s.type.prototype;if(l){const v=si(s);(o.preOrderHooks??=[]).push(i,v),(o.preOrderCheckHooks??=[]).push(i,v)}f&&(o.preOrderHooks??=[]).push(0-i,f),d&&((o.preOrderHooks??=[]).push(i,d),(o.preOrderCheckHooks??=[]).push(i,d))}(o,d[o],s)}finally{null!==V&&jt(V),An(C),v.resolving=!1,u3()}}return f}function M3(i,s,o){return!!(o[s+(i>>g3)]&1<<i)}function w3(i,s){return!(i&ut.Self||i&ut.Host&&s)}class r1{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return _3(this._tNode,this._lView,s,Ft(l),o)}}function Uc(){return new r1(O2(),ve())}function va(i){const s=i[Te],o=s.type;return 2===o?s.declTNode:1===o?i[u1]:null}function hi(i){return function da(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let f=0;for(;f<l;){const d=o[f];if(jn(d))break;if(0===d)f+=2;else if("number"==typeof d)for(f++;f<l&&"string"==typeof o[f];)f++;else{if(d===s)return o[f+1];f+=2}}}return null}(O2(),i)}const Or="__parameters__";function gi(i,s,o){return se(()=>{const l=function ya(i){return function(...o){if(i){const l=i(...o);for(const f in l)this[f]=l[f]}}}(s);function f(...d){if(this instanceof f)return l.apply(this,d),this;const v=new f(...d);return C.annotation=v,C;function C(w,V,E){const A=w.hasOwnProperty(Or)?w[Or]:Object.defineProperty(w,Or,{value:[]})[Or];for(;A.length<=E;)A.push(null);return(A[E]=A[E]||[]).push(v),w}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}function Fr(i,s){i.forEach(o=>Array.isArray(o)?Fr(o,s):s(o))}function _a(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function H3(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ts(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function m1(i,s,o){let l=Jn(i,s);return l>=0?i[1|l]=o:(l=~l,function d8(i,s,o,l){let f=i.length;if(f==s)i.push(o,l);else if(1===f)i.push(l,i[0]),i[0]=o;else{for(f--,i.push(i[f-1],i[f]);f>s;)i[f]=i[f-2],f--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function wa(i,s){const o=Jn(i,s);if(o>=0)return i[1|o]}function Jn(i,s){return function ba(i,s,o){let l=0,f=i.length>>o;for(;f!==l;){const d=l+(f-l>>1),v=i[d<<o];if(s===v)return d<<o;v>s?f=d:l=d+1}return~(f<<o)}(i,s,1)}const rs=Xt(gi("Optional"),8),Sa=Xt(gi("SkipSelf"),4);function n6(i){return 128==(128&i.flags)}var r6=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(r6||{});const _8=new Map;let $C=0;const w8="__ngContext__";function g1(i,s){S1(s)?(i[w8]=s[pr],function qC(i){_8.set(i[pr],i)}(s)):i[w8]=s}let V8;function s6(i,s){return V8(i,s)}function ka(i){const s=i[n2];return h1(s)?s[n2]:s}function S9(i){return E9(i[Fi])}function I9(i){return E9(i[B1])}function E9(i){for(;null!==i&&!h1(i);)i=i[B1];return i}function as(i,s,o,l,f){if(null!=l){let d,v=!1;h1(l)?d=l:S1(l)&&(v=!0,l=l[f2]);const C=e2(l);0===i&&null!==o?null==f?T9(s,o,C):os(s,o,C,f||null,!0):1===i&&null!==o?os(s,o,C,f||null,!0):2===i?function Pa(i,s,o){const l=u6(i,s);l&&function k9(i,s,o,l){i.removeChild(s,o,l)}(i,l,s,o)}(s,C,v):3===i&&s.destroyNode(C),null!=d&&function o_(i,s,o,l,f){const d=o[f1];d!==e2(o)&&as(s,i,l,d,f);for(let C=N2;C<o.length;C++){const w=o[C];Ra(w[Te],w,i,s,l,d)}}(s,i,d,o,f)}}function o6(i,s,o){return i.createElement(s,o)}function I8(i,s){const o=i[ni],l=o.indexOf(s);Gi(s),o.splice(l,1)}function c6(i,s){if(i.length<=N2)return;const o=N2+s,l=i[o];if(l){const f=l[ti];null!==f&&f!==i&&I8(f,l),s>0&&(i[o-1][B1]=l[B1]);const d=H3(i,N2+s);!function t_(i,s){Ra(i,s,s[pt],2,null,null),s[f2]=null,s[u1]=null}(l[Te],l);const v=d[V1];null!==v&&v.detachView(d[Te]),l[n2]=null,l[B1]=null,l[wt]&=-129}return l}function l6(i,s){if(!(256&s[wt])){const o=s[pt];s[$4]?.destroy(),s[Cn]?.destroy(),o.destroyNode&&Ra(i,s,o,3,null,null),function r_(i){let s=i[Fi];if(!s)return E8(i[Te],i);for(;s;){let o=null;if(S1(s))o=s[Fi];else{const l=s[N2];l&&(o=l)}if(!o){for(;s&&!s[B1]&&s!==i;)S1(s)&&E8(s[Te],s),s=s[n2];null===s&&(s=i),S1(s)&&E8(s[Te],s),o=s&&s[B1]}s=o}}(s)}}function E8(i,s){if(!(256&s[wt])){s[wt]&=-129,s[wt]|=256,function s_(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const f=s[o[l]];if(!(f instanceof Ki)){const d=o[l+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const C=f[d[v]],w=d[v+1];Yn(4,C,w);try{w.call(C)}finally{Yn(5,C,w)}}else{Yn(4,f,d);try{d.call(f)}finally{Yn(5,f,d)}}}}}(i,s),function D9(i,s){const o=i.cleanup,l=s[Lr];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const v=o[d+3];v>=0?l[v]():l[-v].unsubscribe(),d+=2}else o[d].call(l[o[d+1]]);null!==l&&(s[Lr]=null);const f=s[xr];if(null!==f){s[xr]=null;for(let d=0;d<f.length;d++)(0,f[d])()}}(i,s),1===s[Te].type&&s[pt].destroy();const o=s[ti];if(null!==o&&h1(s[n2])){o!==s[n2]&&I8(o,s);const l=s[V1];null!==l&&l.detachView(i)}!function WC(i){_8.delete(i[pr])}(s)}}function z8(i,s,o){return function A9(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[f2];{const{componentOffset:f}=l;if(f>-1){const{encapsulation:d}=i.data[l.directiveStart+f];if(d===_e.None||d===_e.Emulated)return null}return p1(l,o)}}(i,s.parent,o)}function os(i,s,o,l,f){i.insertBefore(s,o,l,f)}function T9(i,s,o){i.appendChild(s,o)}function N9(i,s,o,l,f){null!==l?os(i,s,o,l,f):T9(i,s,o)}function u6(i,s){return i.parentNode(s)}function R9(i,s,o){return O9(i,s,o)}let f6,h6,p6,Oa,O9=function L8(i,s,o){return 40&i.type?p1(i,o):null};function d6(i,s,o,l){const f=z8(i,l,s),d=s[pt],C=R9(l.parent||s[u1],l,s);if(null!=f)if(Array.isArray(o))for(let w=0;w<o.length;w++)N9(d,f,o[w],C,!1);else N9(d,f,o,C,!1);void 0!==f6&&f6(d,l,s,o,f)}function z3(i,s){if(null!==s){const o=s.type;if(3&o)return p1(s,i);if(4&o)return x8(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return z3(i,l);{const f=i[s.index];return h1(f)?x8(-1,f):e2(f)}}if(32&o)return s6(s,i)()||e2(i[s.index]);{const l=B9(i,s);return null!==l?Array.isArray(l)?l[0]:z3(ka(i[T2]),l):z3(i,s.next)}}return null}function B9(i,s){return null!==s?i[T2][u1].projection[s.projection]:null}function x8(i,s){const o=N2+i+1;if(o<s.length){const l=s[o],f=l[Te].firstChild;if(null!==f)return z3(l,f)}return s[f1]}function D8(i,s,o,l,f,d,v){for(;null!=o;){const C=l[o.index],w=o.type;if(v&&0===s&&(C&&g1(e2(C),l),o.flags|=2),32!=(32&o.flags))if(8&w)D8(i,s,o.child,l,f,d,!1),as(s,i,f,C,d);else if(32&w){const V=s6(o,l);let E;for(;E=V();)as(s,i,f,E,d);as(s,i,f,C,d)}else 16&w?j9(i,s,l,o,f,d):as(s,i,f,C,d);o=v?o.projectionNext:o.next}}function Ra(i,s,o,l,f,d){D8(o,l,i.firstChild,s,f,d,!1)}function j9(i,s,o,l,f,d){const v=o[T2],w=v[u1].projection[l.projection];if(Array.isArray(w))for(let V=0;V<w.length;V++)as(s,i,f,w[V],d);else{let V=w;const E=v[n2];n6(l)&&(V.flags|=128),D8(i,s,V,E,f,d,!0)}}function G9(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function q9(i,s,o){const{mergedAttrs:l,classes:f,styles:d}=o;null!==l&&Ti(i,s,l),null!==f&&G9(i,s,f),null!==d&&function $9(i,s,o){i.setAttribute(s,"style",o)}(i,s,d)}function cs(i){return function A8(){if(void 0===h6&&(h6=null,Lt.trustedTypes))try{h6=Lt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return h6}()?.createHTML(i)||i}function d_(i){p6=i}function L3(){if(void 0!==p6)return p6;if(typeof document<"u")return document;throw new Z(210,!1)}function W9(i){return function T8(){if(void 0===Oa&&(Oa=null,Lt.trustedTypes))try{Oa=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Oa}()?.createHTML(i)||i}class yi{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class h_ extends yi{getTypeName(){return"HTML"}}class p_ extends yi{getTypeName(){return"Style"}}class m_ extends yi{getTypeName(){return"Script"}}class K9 extends yi{getTypeName(){return"URL"}}class g_ extends yi{getTypeName(){return"ResourceURL"}}function Cr(i){return i instanceof yi?i.changingThisBreaksApplicationSecurity:i}function x3(i,s){const o=function v_(i){return i instanceof yi&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${Je})`)}return o===s}function y_(i){return new h_(i)}function C_(i){return new p_(i)}function __(i){return new m_(i)}function k8(i){return new K9(i)}function M_(i){return new g_(i)}class Q9{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(cs(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class w_{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=cs(s),o}}const H_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fa(i){return(i=String(i)).match(H_)?i:"unsafe:"+i}function Ur(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function D3(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const J9=Ur("area,br,col,hr,img,wbr"),X9=Ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ed=Ur("rp,rt"),P8=D3(J9,D3(X9,Ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),D3(ed,Ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),D3(ed,X9)),R8=Ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),td=D3(R8,Ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nd=Ur("script,style,template");class I_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!P8.hasOwnProperty(o))return this.sanitizedSomething=!0,!nd.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let f=0;f<l.length;f++){const d=l.item(f),v=d.name,C=v.toLowerCase();if(!td.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let w=d.value;R8[C]&&(w=Fa(w)),this.buf.push(" ",v,'="',O8(w),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();P8.hasOwnProperty(o)&&!J9.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(O8(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const E_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,z_=/([^\#-~ |!])/g;function O8(i){return i.replace(/&/g,"&amp;").replace(E_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(z_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let m6;function g6(i,s){let o=null;try{m6=m6||function Y9(i){const s=new w_(i);return function b_(){try{return!!(new window.DOMParser).parseFromString(cs(""),"text/html")}catch{return!1}}()?new Q9(s):s}(i);let l=s?String(s):"";o=m6.getInertBodyElement(l);let f=5,d=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=d,d=o.innerHTML,o=m6.getInertBodyElement(l)}while(l!==d);return cs((new I_).sanitizeChildren(F8(o)||o))}finally{if(o){const l=F8(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function F8(i){return"content"in i&&function L_(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var ls=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(ls||{});function rd(i){const s=function Ba(){const i=ve();return i&&i[hr].sanitizer}();return s?W9(s.sanitize(ls.HTML,i)||""):x3(i,"HTML")?W9(Cr(i)):g6(L3(),J(i))}class Yt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=bt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ua=new Yt("ENVIRONMENT_INITIALIZER"),ad=new Yt("INJECTOR",-1),od=new Yt("INJECTOR_DEF_TYPES");class v6{get(s,o=c2){if(o===c2){const l=new Error(`NullInjectorError: No provider for ${re(s)}!`);throw l.name="NullInjectorError",l}return o}}function k_(...i){return{\u0275providers:U8(0,i),\u0275fromNgModule:!0}}function U8(i,...s){const o=[],l=new Set;let f;const d=v=>{o.push(v)};return Fr(s,v=>{const C=v;us(C,d,[],l)&&(f||=[],f.push(C))}),void 0!==f&&ld(f,d),o}function ld(i,s){for(let o=0;o<i.length;o++){const{ngModule:l,providers:f}=i[o];j8(f,d=>{s(d,l)})}}function us(i,s,o,l){if(!(i=le(i)))return!1;let f=null,d=P1(i);const v=!d&&Pt(i);if(d||v){if(v&&!v.standalone)return!1;f=i}else{const w=i.ngModule;if(d=P1(w),!d)return!1;f=w}const C=l.has(f);if(v){if(C)return!1;if(l.add(f),v.dependencies){const w="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const V of w)us(V,s,o,l)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let V;l.add(f);try{Fr(d.imports,E=>{us(E,s,o,l)&&(V||=[],V.push(E))})}finally{}void 0!==V&&ld(V,s)}if(!C){const V=Kn(f)||(()=>new f);s({provide:f,useFactory:V,deps:Oe},f),s({provide:od,useValue:f,multi:!0},f),s({provide:Ua,useValue:()=>Ne(f),multi:!0},f)}const w=d.providers;if(null!=w&&!C){const V=i;j8(w,E=>{s(E,V)})}}}return f!==i&&void 0!==i.providers}function j8(i,s){for(let o of i)Ae(o)&&(o=o.\u0275providers),Array.isArray(o)?j8(o,s):s(o)}const P_=O({provide:String,useValue:O});function $8(i){return null!==i&&"object"==typeof i&&P_ in i}function fs(i){return"function"==typeof i}const q8=new Yt("Set Injector scope."),y6={},O_={};let W8;function ja(){return void 0===W8&&(W8=new v6),W8}class jr{}class C6 extends jr{get destroyed(){return this._destroyed}constructor(s,o,l,f){super(),this.parent=o,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Z8(s,v=>this.processProvider(v)),this.records.set(ad,A3(void 0,this)),f.has("environment")&&this.records.set(jr,A3(void 0,this));const d=this.records.get(q8);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(od.multi,Oe,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=q(this),l=jt(void 0);try{return s()}finally{q(o),jt(l)}}get(s,o=c2,l=ut.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Bs))return s[Bs](this);l=Ft(l);const d=q(this),v=jt(void 0);try{if(!(l&ut.SkipSelf)){let w=this.records.get(s);if(void 0===w){const V=function j_(i){return"function"==typeof i||"object"==typeof i&&i instanceof Yt}(s)&&m2(s);w=V&&this.injectableDefInScope(V)?A3(_6(s),y6):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&ut.Self?ja():this.parent).get(s,o=l&ut.Optional&&o===c2?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[O1]=C[O1]||[]).unshift(re(s)),d)throw C;return function c1(i,s,o,l){const f=i[O1];throw s[x]&&f.unshift(s[x]),i.message=function zr(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let f=re(s);if(Array.isArray(s))f=s.map(re).join(" -> ");else if("object"==typeof s){let d=[];for(let v in s)if(s.hasOwnProperty(v)){let C=s[v];d.push(v+":"+("string"==typeof C?JSON.stringify(C):re(C)))}f=`{${d.join(", ")}}`}return`${o}${l?"("+l+")":""}[${f}]: ${i.replace(F,"\n  ")}`}("\n"+i.message,f,o,l),i.ngTokenPath=f,i[O1]=null,i}(C,s,"R3InjectorError",this.source)}throw C}finally{jt(v),q(d)}}resolveInjectorInitializers(){const s=q(this),o=jt(void 0);try{const f=this.get(Ua.multi,Oe,ut.Self);for(const d of f)d()}finally{q(s),jt(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(re(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(s){let o=fs(s=le(s))?s:le(s&&s.provide);const l=function B_(i){return $8(i)?A3(void 0,i.useValue):A3(function fd(i,s,o){let l;if(fs(i)){const f=le(i);return Kn(f)||_6(f)}if($8(i))l=()=>le(i.useValue);else if(function G8(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...vt(i.deps||[]));else if(function ud(i){return!(!i||!i.useExisting)}(i))l=()=>Ne(le(i.useExisting));else{const f=le(i&&(i.useClass||i.provide));if(!function U_(i){return!!i.deps}(i))return Kn(f)||_6(f);l=()=>new f(...vt(i.deps))}return l}(i),y6)}(s);if(fs(s)||!0!==s.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=A3(void 0,y6,!0),f.factory=()=>vt(f.multi),this.records.set(o,f)),o=s,f.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===y6&&(o.value=O_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function M6(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=le(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function _6(i){const s=m2(i),o=null!==s?s.factory:Kn(i);if(null!==o)return o;if(i instanceof Yt)throw new Z(204,!1);if(i instanceof Function)return function F_(i){const s=i.length;if(s>0)throw ts(s,"?"),new Z(204,!1);const o=function k1(i){return i&&(i[s1]||i[a1])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Z(204,!1)}function A3(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Z8(i,s){for(const o of i)Array.isArray(o)?Z8(o,s):o&&Ae(o)?Z8(o.\u0275providers,s):s(o)}const dd=new Yt("AppId",{providedIn:"root",factory:()=>$_}),$_="ng",K8=new Yt("Platform Initializer"),Y8=new Yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),G_=new Yt("CSP nonce",{providedIn:"root",factory:()=>L3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pd=(i,s,o)=>null;function tu(i,s,o=!1){return pd(i,s,o)}class eM{}class yd{}class tM{resolveComponentFactory(s){throw function S6(i){const s=Error(`No component factory found for ${re(i)}.`);return s.ngComponent=i,s}(s)}}let Ka=(()=>{class s{}return s.NULL=new tM,s})();function nM(){return k3(O2(),ve())}function k3(i,s){return new P3(p1(i,s))}let P3=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=nM,s})();class _d{}let iM=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function sM(){const i=ve(),o=t1(O2().index,i);return(S1(o)?o:i)[pt]}(),s})(),aM=(()=>{var i;class s{}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>null}),s})();class iu{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Md=new iu("16.2.1"),su={};function Vd(i,s=null,o=null,l){const f=Sd(i,s,o,l);return f.resolveInjectorInitializers(),f}function Sd(i,s=null,o=null,l,f=new Set){const d=[o||Oe,k_(i)];return l=l||("object"==typeof i?void 0:re(i)),new C6(d,s||ja(),l||null,f)}let er=(()=>{var i;class s{static create(l,f){if(Array.isArray(l))return Vd({name:""},f,l,"");{const d=l.name??"";return Vd({name:d},l.parent,l.providers,d)}}}return(i=s).THROW_IF_NOT_FOUND=c2,i.NULL=new v6,i.\u0275prov=bt({token:i,providedIn:"any",factory:()=>Ne(ad)}),i.__NG_ELEMENT_ID__=-1,s})();let lu=(()=>{var i;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Z(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const l of this.callbacks)l.invoke()}finally{this.runningCallbacks=!1;for(const l of this.deferredCallbacks)this.callbacks.add(l);this.deferredCallbacks.clear()}}register(l){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(l)}unregister(l){this.callbacks.delete(l),this.deferredCallbacks.delete(l)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>new i}),s})();function Ya(i){for(;i;){i[wt]|=64;const s=ka(i);if(ri(i)&&!s)return i;i=s}return null}function uu(i){return i.ngOriginalError}class hs{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&uu(s);for(;o&&uu(o);)o=uu(o);return o||null}}const fu=new Yt("",{providedIn:"root",factory:()=>!1});class kd extends Tl{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Ya(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,o,l){const f=Z2(this);this.trackingVersion++;try{s(o,l)}finally{Z2(f)}}destroy(){this.trackingVersion++}}let E6=null;function du(){return E6??=new kd,E6}function Pd(i,s){return i[s]??du()}function hu(i,s){const o=du();o.hasReadASignal&&(i[s]=E6,o.lView=i,E6=new kd)}const It={};function pu(i){Rd(Ot(),ve(),E1()+i,!1)}function Rd(i,s,o,l){if(!l)if(3==(3&s[wt])){const d=i.preOrderCheckHooks;null!==d&&Nr(s,d,o)}else{const d=i.preOrderHooks;null!==d&&ui(s,d,0,o)}ci(o)}function O3(i,s=ut.Default){const o=ve();return null===o?Ne(i,s):_3(O2(),o,le(i),s)}function Qa(i,s,o,l,f,d,v,C,w,V,E){const A=s.blueprint.slice();return A[f2]=f,A[wt]=140|l,(null!==V||i&&2048&i[wt])&&(A[wt]|=2048),Hc(A),A[n2]=A[H1]=i,A[C2]=o,A[hr]=v||i&&i[hr],A[pt]=C||i&&i[pt],A[qn]=w||i&&i[qn]||null,A[u1]=d,A[pr]=function GC(){return $C++}(),A[Wn]=E,A[lc]=V,A[T2]=2==s.type?i[T2]:A,A}function F3(i,s,o,l,f){let d=i.data[s];if(null===d)d=function mu(i,s,o,l,f){const d=Ec(),v=Tr(),w=i.data[s]=function EM(i,s,o,l,f,d){let v=s?s.injectorIndex:-1,C=0;return gr()&&(C|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,o,s,l,f);return null===i.firstChild&&(i.firstChild=w),null!==d&&(v?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w,w.prev=d)),w}(i,s,o,l,f),function zc(){return yt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=l,d.attrs=f;const v=function oi(){const i=yt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return _n(d,!0),d}function Ja(i,s,o,l){if(0===o)return-1;const f=s.length;for(let d=0;d<o;d++)s.push(l),i.blueprint.push(l),i.data.push(null);return f}function Od(i,s,o,l,f){const d=Pd(s,$4),v=E1(),C=2&l;try{if(ci(-1),C&&s.length>Rt&&Rd(i,s,Rt,!1),Yn(C?2:0,f),C)d.runInContext(o,l,f);else{const V=Z2(null);try{o(l,f)}finally{Z2(V)}}}finally{C&&null===s[$4]&&hu(s,$4),ci(v),Yn(C?3:1,f)}}function z6(i,s,o){if(W4(s)){const l=Z2(null);try{const d=s.directiveEnd;for(let v=s.directiveStart;v<d;v++){const C=i.data[v];C.contentQueries&&C.contentQueries(1,o[v],v)}}finally{Z2(l)}}}function gu(i,s,o){Sc()&&(function DM(i,s,o,l){const f=o.directiveStart,d=o.directiveEnd;Zn(o)&&function kM(i,s,o){const l=p1(s,i),f=Fd(o);let v=16;o.signals?v=4096:o.onPush&&(v=64);const C=D6(i,Qa(i,f,null,v,l,s,null,i[hr].rendererFactory.createRenderer(l,o),null,null,null));i[s.index]=C}(s,o,i.data[f+o.componentOffset]),i.firstCreatePass||fi(o,s),g1(l,s);const v=o.initialInputs;for(let C=f;C<d;C++){const w=i.data[C],V=yr(s,i,C,o);g1(V,s),null!==v&&PM(0,C-f,V,w,0,v),X1(w)&&(t1(o.index,s)[C2]=yr(s,i,C,o))}}(i,s,o,p1(o,s)),64==(64&o.flags)&&Zd(i,s,o))}function vu(i,s,o=p1){const l=s.localNames;if(null!==l){let f=s.index+1;for(let d=0;d<l.length;d+=2){const v=l[d+1],C=-1===v?o(s,i):i[v];i[f++]=C}}}function Fd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=L6(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function L6(i,s,o,l,f,d,v,C,w,V,E){const A=Rt+l,j=A+f,W=function bM(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:It);return o}(A,j),ce="function"==typeof V?V():V;return W[Te]={type:i,blueprint:W,template:o,queries:null,viewQuery:C,declTNode:s,data:W.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:w,consts:ce,incompleteFirstPass:!1,ssrId:E}}let Ud=i=>null;function jd(i,s,o,l){for(let f in i)if(i.hasOwnProperty(f)){o=null===o?{}:o;const d=i[f];null===l?yu(o,s,f,d):l.hasOwnProperty(f)&&yu(o,s,l[f],d)}return o}function yu(i,s,o,l){i.hasOwnProperty(o)?i[o].push(s,l):i[o]=[s,l]}function wn(i,s,o,l,f,d,v,C){const w=p1(s,o);let E,V=s.inputs;!C&&null!=V&&(E=V[l])?(bu(i,o,E,l,f),Zn(s)&&function Gd(i,s){const o=t1(s,i);16&o[wt]||(o[wt]|=64)}(o,s.index)):3&s.type&&(l=function $d(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),f=null!=v?v(f,s.value||"",l):f,d.setProperty(w,l,f))}function x6(i,s,o,l){if(Sc()){const f=null===l?null:{"":-1},d=function AM(i,s){const o=i.directiveRegistry;let l=null,f=null;if(o)for(let d=0;d<o.length;d++){const v=o[d];if(R4(s,v.selectors,!1))if(l||(l=[]),X1(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),l.unshift(...C,v),Cu(i,s,C.length)}else l.unshift(v),Cu(i,s,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,l,f),l.push(v)}return null===l?null:[l,f]}(i,o);let v,C;null===d?v=C=null:[v,C]=d,null!==v&&qd(i,s,o,v,f,C),f&&function TM(i,s,o){if(s){const l=i.localNames=[];for(let f=0;f<s.length;f+=2){const d=o[s[f+1]];if(null==d)throw new Z(-301,!1);l.push(s[f],d)}}}(o,l,f)}o.mergedAttrs=ki(o.mergedAttrs,o.attrs)}function qd(i,s,o,l,f,d){for(let V=0;V<l.length;V++)C3(fi(o,s),i,l[V].type);!function NM(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,l.length);for(let V=0;V<l.length;V++){const E=l[V];E.providersResolver&&E.providersResolver(E)}let v=!1,C=!1,w=Ja(i,s,l.length,null);for(let V=0;V<l.length;V++){const E=l[V];o.mergedAttrs=ki(o.mergedAttrs,E.hostAttrs),Qd(i,o,s,w,E),Yd(w,E,f),null!==E.contentQueries&&(o.flags|=4),(null!==E.hostBindings||null!==E.hostAttrs||0!==E.hostVars)&&(o.flags|=64);const A=E.type.prototype;!v&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((i.preOrderHooks??=[]).push(o.index),v=!0),!C&&(A.ngOnChanges||A.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(o.index),C=!0),w++}!function zM(i,s,o){const f=s.directiveEnd,d=i.data,v=s.attrs,C=[];let w=null,V=null;for(let E=s.directiveStart;E<f;E++){const A=d[E],j=o?o.get(A):null,ce=j?j.outputs:null;w=jd(A.inputs,E,w,j?j.inputs:null),V=jd(A.outputs,E,V,ce);const Ve=null===w||null===v||Pi(s)?null:RM(w,E,v);C.push(Ve)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=w,s.outputs=V}(i,o,d)}function Zd(i,s,o){const l=o.directiveStart,f=o.directiveEnd,d=o.index,v=function FC(){return yt.lFrame.currentDirectiveIndex}();try{ci(d);for(let C=l;C<f;C++){const w=i.data[C],V=s[C];aa(C),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Kd(w,V)}}finally{ci(-1),aa(v)}}function Kd(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Cu(i,s,o){s.componentOffset=o,(i.components??=[]).push(s.index)}function Yd(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;X1(s)&&(o[""]=i)}}function Qd(i,s,o,l,f){i.data[l]=f;const d=f.factory||(f.factory=Kn(f.type)),v=new Ki(d,X1(f),O3);i.blueprint[l]=v,o[l]=v,function xM(i,s,o,l,f){const d=f.hostBindings;if(d){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const C=~s.index;(function Wd(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=C&&v.push(C),v.push(o,l,d)}}(i,s,l,Ja(i,o,f.hostVars,It),f)}function tr(i,s,o,l,f,d){const v=p1(i,s);!function _u(i,s,o,l,f,d,v){if(null==d)i.removeAttribute(s,f,o);else{const C=null==v?J(d):v(d,l||"",f);i.setAttribute(s,f,C,o)}}(s[pt],v,d,i.value,o,l,f)}function PM(i,s,o,l,f,d){const v=d[s];if(null!==v)for(let C=0;C<v.length;)Jd(l,o,v[C++],v[C++],v[C++])}function Jd(i,s,o,l,f){const d=Z2(null);try{const v=i.inputTransforms;null!==v&&v.hasOwnProperty(l)&&(f=v[l].call(s,f)),null!==i.setInput?i.setInput(s,f,o,l):s[l]=f}finally{Z2(d)}}function RM(i,s,o){let l=null,f=0;for(;f<o.length;){const d=o[f];if(0!==d)if(5!==d){if("number"==typeof d)break;if(i.hasOwnProperty(d)){null===l&&(l=[]);const v=i[d];for(let C=0;C<v.length;C+=2)if(v[C]===s){l.push(d,v[C+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return l}function Xd(i,s,o,l){return[i,!0,!1,s,null,0,l,o,null,null,null]}function Mu(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l+1];if(-1!==d){const v=i.data[d];Ac(o[l]),v.contentQueries(2,s[d],d)}}}function D6(i,s){return i[Fi]?i[bl][B1]=s:i[Fi]=s,i[bl]=s,s}function wu(i,s,o){Ac(0);const l=Z2(null);try{s(i,o)}finally{Z2(l)}}function rh(i,s){const o=i[qn],l=o?o.get(hs,null):null;l&&l.handleError(s)}function bu(i,s,o,l,f){for(let d=0;d<o.length;){const v=o[d++],C=o[d++];Jd(i.data[v],s[v],l,C,f)}}function OM(i,s){const o=t1(s,i),l=o[Te];!function ih(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])}(l,o);const f=o[f2];null!==f&&null===o[Wn]&&(o[Wn]=tu(f,o[qn])),Hu(l,o,o[C2])}function Hu(i,s,o){Zi(s);try{const l=i.viewQuery;null!==l&&wu(1,l,o);const f=i.template;null!==f&&Od(i,s,f,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Mu(i,s),i.staticViewQueries&&wu(2,i.viewQuery,o);const d=i.components;null!==d&&function FM(i,s){for(let o=0;o<s.length;o++)OM(i,s[o])}(s,d)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[wt]&=-5,f3()}}let sh=(()=>{var i;class s{constructor(){this.all=new Set,this.queue=new Map}create(l,f,d){const v=typeof Zone>"u"?null:Zone.current,C=new Rl(l,E=>{this.all.has(E)&&this.queue.set(E,v)},d);let w;this.all.add(C),C.notify();const V=()=>{C.cleanup(),w?.(),this.all.delete(C),this.queue.delete(C)};return w=f?.onDestroy(V),{destroy:V}}flush(){if(0!==this.queue.size)for(const[l,f]of this.queue)this.queue.delete(l),f?f.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>new i}),s})();function A6(i,s,o){let l=o?i.styles:null,f=o?i.classes:null,d=0;if(null!==s)for(let v=0;v<s.length;v++){const C=s[v];"number"==typeof C?d=C:1==d?f=Re(f,C):2==d&&(l=Re(l,C+": "+s[++v]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=f:i.classesWithoutHost=f}function ps(i,s,o,l,f=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&l.push(e2(d)),h1(d)){for(let C=N2;C<d.length;C++){const w=d[C],V=w[Te].firstChild;null!==V&&ps(w[Te],w,V,l)}d[f1]!==d[f2]&&l.push(d[f1])}const v=o.type;if(8&v)ps(i,s,o.child,l);else if(32&v){const C=s6(o,s);let w;for(;w=C();)l.push(w)}else if(16&v){const C=B9(s,o);if(Array.isArray(C))l.push(...C);else{const w=ka(s[T2]);ps(w[Te],w,C,l,!0)}}o=f?o.projectionNext:o.next}return l}function T6(i,s,o,l=!0){const f=s[hr],d=f.rendererFactory,v=f.afterRenderEventManager;d.begin?.(),v?.begin();try{ch(i,s,i.template,o)}catch(w){throw l&&rh(s,w),w}finally{d.end?.(),f.effectManager?.flush(),v?.end()}}function ch(i,s,o,l){const f=s[wt];if(256!=(256&f)){s[hr].effectManager?.flush(),Zi(s);try{Hc(s),function Wi(i){return yt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Od(i,s,o,2,l);const v=3==(3&f);if(v){const V=i.preOrderCheckHooks;null!==V&&Nr(s,V,null)}else{const V=i.preOrderHooks;null!==V&&ui(s,V,0,null),ca(s,0)}if(function uh(i){for(let s=S9(i);null!==s;s=I9(s)){if(!s[Bi])continue;const o=s[ni];for(let l=0;l<o.length;l++){Gl(o[l])}}}(s),lh(s,2),null!==i.contentQueries&&Mu(i,s),v){const V=i.contentCheckHooks;null!==V&&Nr(s,V)}else{const V=i.contentHooks;null!==V&&ui(s,V,1),ca(s,1)}!function wM(i,s){const o=i.hostBindingOpCodes;if(null===o)return;const l=Pd(s,Cn);try{for(let f=0;f<o.length;f++){const d=o[f];if(d<0)ci(~d);else{const v=d,C=o[++f],w=o[++f];Lc(C,v),l.runInContext(w,2,s[v])}}}finally{null===s[Cn]&&hu(s,Cn),ci(-1)}}(i,s);const C=i.components;null!==C&&dh(s,C,0);const w=i.viewQuery;if(null!==w&&wu(2,w,l),v){const V=i.viewCheckHooks;null!==V&&Nr(s,V)}else{const V=i.viewHooks;null!==V&&ui(s,V,2),ca(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[wt]&=-73,Gi(s)}finally{f3()}}}function lh(i,s){for(let o=S9(i);null!==o;o=I9(o))for(let l=N2;l<o.length;l++)fh(o[l],s)}function BM(i,s,o){fh(t1(s,i),o)}function fh(i,s){if(!function jl(i){return 128==(128&i[wt])}(i))return;const o=i[Te];if(80&i[wt]&&0===s||1024&i[wt]||2===s)ch(o,i,o.template,i[C2]);else if(i[Gn]>0){lh(i,1);const f=i[Te].components;null!==f&&dh(i,f,1)}}function dh(i,s,o){for(let l=0;l<s.length;l++)BM(i,s[l],o)}class Xa{get rootNodes(){const s=this._lView,o=s[Te];return ps(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[C2]}set context(s){this._lView[C2]=s}get destroyed(){return 256==(256&this._lView[wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[n2];if(h1(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(c6(s,l),H3(o,l))}this._attachedToViewContainer=!1}l6(this._lView[Te],this._lView)}onDestroy(s){!function i3(i,s){if(256==(256&i[wt]))throw new Z(911,!1);null===i[xr]&&(i[xr]=[]),i[xr].push(s)}(this._lView,s)}markForCheck(){Ya(this._cdRefInjectingView||this._lView)}detach(){this._lView[wt]&=-129}reattach(){this._lView[wt]|=128}detectChanges(){T6(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function n_(i,s){Ra(i,s,s[pt],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=s}}class UM extends Xa{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;T6(s[Te],s,s[C2],!1)}checkNoChanges(){}get context(){return null}}class hh extends Ka{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Pt(s);return new eo(o,this.ngModule)}}function ph(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class mh{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=Ft(l);const f=this.injector.get(s,su,l);return f!==su||o===su?f:this.parentInjector.get(s,o,l)}}class eo extends yd{get inputs(){const s=this.componentDef,o=s.inputTransforms,l=ph(s.inputs);if(null!==o)for(const f of l)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return l}get outputs(){return ph(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Kf(i){return i.map(oc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,f){let d=(f=f||this.ngModule)instanceof jr?f:f?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const v=d?new mh(s,d):s,C=v.get(_d,null);if(null===C)throw new Z(407,!1);const A={rendererFactory:C,sanitizer:v.get(aM,null),effectManager:v.get(sh,null),afterRenderEventManager:v.get(lu,null)},j=C.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ce=l?function Bd(i,s,o,l){const d=l.get(fu,!1)||o===_e.ShadowDom,v=i.selectRootElement(s,d);return function HM(i){Ud(i)}(v),v}(j,l,this.componentDef.encapsulation,v):o6(j,W,function jM(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),at=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ge=null;null!==ce&&(ge=tu(ce,v,!0));const _t=L6(0,null,null,1,0,null,null,null,null,null,null),At=Qa(null,_t,null,at,null,null,A,j,v,null,ge);let t2,G1;Zi(At);try{const qr=this.componentDef;let i4,a7=null;qr.findHostDirectiveDefs?(i4=[],a7=new Map,qr.findHostDirectiveDefs(qr,i4,a7),i4.push(qr)):i4=[qr];const yv=function $M(i,s){const o=i[Te],l=Rt;return i[l]=s,F3(o,l,2,"#host",null)}(At,ce),dS=function GM(i,s,o,l,f,d,v){const C=f[Te];!function vh(i,s,o,l){for(const f of i)s.mergedAttrs=ki(s.mergedAttrs,f.hostAttrs);null!==s.mergedAttrs&&(A6(s,s.mergedAttrs,!0),null!==o&&q9(l,o,s))}(l,i,s,v);let w=null;null!==s&&(w=tu(s,f[qn]));const V=d.rendererFactory.createRenderer(s,o);let E=16;o.signals?E=4096:o.onPush&&(E=64);const A=Qa(f,Fd(o),null,E,f[i.index],i,d,V,null,null,w);return C.firstCreatePass&&Cu(C,i,l.length-1),D6(f,A),f[i.index]=A}(yv,ce,qr,i4,At,A,j);G1=ai(_t,Rt),ce&&function WM(i,s,o,l){if(l)Ti(i,o,["ng-version",Md.full]);else{const{attrs:f,classes:d}=function F1(i){const s=[],o=[];let l=1,f=2;for(;l<i.length;){let d=i[l];if("string"==typeof d)2===f?""!==d&&s.push(d,i[++l]):8===f&&o.push(d);else{if(!b1(f))break;f=d}l++}return{attrs:s,classes:o}}(s.selectors[0]);f&&Ti(i,o,f),d&&d.length>0&&G9(i,o,d.join(" "))}}(j,qr,ce,l),void 0!==o&&function yh(i,s,o){const l=i.projection=[];for(let f=0;f<s.length;f++){const d=o[f];l.push(null!=d?Array.from(d):null)}}(G1,this.ngContentSelectors,o),t2=function qM(i,s,o,l,f,d){const v=O2(),C=f[Te],w=p1(v,f);qd(C,f,v,o,null,l);for(let E=0;E<o.length;E++)g1(yr(f,C,v.directiveStart+E,v),f);Zd(C,f,v),w&&g1(w,f);const V=yr(f,C,v.directiveStart+v.componentOffset,v);if(i[C2]=f[C2]=V,null!==d)for(const E of d)E(V,s);return z6(C,v,i),V}(dS,qr,i4,a7,At,[ZM]),Hu(_t,At,null)}finally{f3()}return new gh(this.componentType,t2,k3(G1,At),At,G1)}}class gh extends eM{constructor(s,o,l,f,d){super(),this.location=l,this._rootLView=f,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new UM(f),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const d=this._rootLView;bu(d[Te],d,f,s,o),this.previousInputValues.set(s,o),Ya(t1(this._tNode.index,d))}}get injector(){return new r1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function ZM(){const i=O2();li(ve()[Te],i)}function k6(i){return!!Su(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Su(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Mr(i,s,o){return i[s]=o}function v1(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function P6(i,s,o,l,f){const d=function ms(i,s,o,l){const f=v1(i,s,o);return v1(i,s+1,l)||f}(i,s,o,l);return v1(i,s+2,f)||d}function Iu(i,s,o,l){const f=ve();return v1(f,j1(),s)&&(Ot(),tr(o2(),f,i,s,o,l)),Iu}function Oh(i,s,o,l,f,d,v,C){const w=ve(),V=Ot(),E=i+Rt,A=V.firstCreatePass?function Cw(i,s,o,l,f,d,v,C,w){const V=s.consts,E=F3(s,i,4,v||null,Ar(V,C));x6(s,o,E,Ar(V,w)),li(s,E);const A=E.tView=L6(2,E,l,f,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V,null);return null!==s.queries&&(s.queries.template(s,E),A.queries=s.queries.embeddedTView(E)),E}(E,V,w,s,o,l,f,d,v):V.data[E];_n(A,!1);const j=Nu(V,w,A,i);h3()&&d6(V,w,j,A),g1(j,w),D6(w,w[E]=Xd(j,w,j,A)),ji(A)&&gu(V,w,A),null!=v&&vu(w,A,C)}let Nu=function Fh(i,s,o,l){return Dn(!0),s[pt].createComment("")};function U6(i){return I1(function c3(){return yt.lFrame.contextLView}(),Rt+i)}function ku(i,s,o){const l=ve();return v1(l,j1(),s)&&wn(Ot(),o2(),l,i,s,l[pt],o,!1),ku}function Pu(i,s,o,l,f){const v=f?"class":"style";bu(i,o,s.inputs[v],v,l)}function j6(i,s,o,l){const f=ve(),d=Ot(),v=Rt+i,C=f[pt],w=d.firstCreatePass?function bw(i,s,o,l,f,d){const v=s.consts,w=F3(s,i,2,l,Ar(v,f));return x6(s,o,w,Ar(v,d)),null!==w.attrs&&A6(w,w.attrs,!1),null!==w.mergedAttrs&&A6(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(v,d,f,s,o,l):d.data[v],V=Bh(d,f,w,C,s,i);f[v]=V;const E=ji(w);return _n(w,!0),q9(C,V,w),32!=(32&w.flags)&&h3()&&d6(d,f,V,w),0===function ia(){return yt.lFrame.elementDepthCount}()&&g1(V,f),function ql(){yt.lFrame.elementDepthCount++}(),E&&(gu(d,f,w),z6(d,w,f)),null!==l&&vu(f,w),j6}function $6(){let i=O2();Tr()?vr():(i=i.parent,_n(i,!1));const s=i;(function Wl(i){return yt.skipHydrationRootTNode===i})(s)&&function _2(){yt.skipHydrationRootTNode=null}(),function Vc(){yt.lFrame.elementDepthCount--}();const o=Ot();return o.firstCreatePass&&(li(o,i),W4(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Rc(i){return 0!=(8&i.flags)}(s)&&Pu(o,s,ve(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function r8(i){return 0!=(16&i.flags)}(s)&&Pu(o,s,ve(),s.stylesWithoutHost,!1),$6}function G6(i,s,o,l){return j6(i,s,o,l),$6(),G6}let Bh=(i,s,o,l,f,d)=>(Dn(!0),o6(l,f,function kc(){return yt.lFrame.currentNamespace}()));function Gh(){return ve()}function q6(i){return!!i&&"function"==typeof i.then}function qh(i){return!!i&&"function"==typeof i.subscribe}function W6(i,s,o,l){const f=ve(),d=Ot(),v=O2();return function Kh(i,s,o,l,f,d,v){const C=ji(l),V=i.firstCreatePass&&function th(i){return i.cleanup||(i.cleanup=[])}(i),E=s[C2],A=function eh(i){return i[Lr]||(i[Lr]=[])}(s);let j=!0;if(3&l.type||v){const Ve=p1(l,s),Be=v?v(Ve):Ve,at=A.length,ge=v?At=>v(e2(At[l.index])):l.index;let _t=null;if(!v&&C&&(_t=function Zh(i,s,o,l){const f=i.cleanup;if(null!=f)for(let d=0;d<f.length-1;d+=2){const v=f[d];if(v===o&&f[d+1]===l){const C=s[Lr],w=f[d+2];return C.length>w?C[w]:null}"string"==typeof v&&(d+=2)}return null}(i,s,f,l.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=d,_t.__ngLastListenerFn__=d,j=!1;else{d=Qh(l,s,E,d,!1);const At=o.listen(Be,f,d);A.push(d,At),V&&V.push(f,ge,at,at+1)}}else d=Qh(l,s,E,d,!1);const W=l.outputs;let ce;if(j&&null!==W&&(ce=W[f])){const Ve=ce.length;if(Ve)for(let Be=0;Be<Ve;Be+=2){const t2=s[ce[Be]][ce[Be+1]].subscribe(d),G1=A.length;A.push(d,t2),V&&V.push(f,l.index,G1,-(G1+1))}}}(d,f,f[pt],v,i,s,l),W6}function Yh(i,s,o,l){try{return Yn(6,s,o),!1!==o(l)}catch(f){return rh(i,f),!1}finally{Yn(7,s,o)}}function Qh(i,s,o,l,f){return function d(v){if(v===Function)return l;Ya(i.componentOffset>-1?t1(i.index,s):s);let w=Yh(s,o,l,v),V=d.__ngNextListenerFn__;for(;V;)w=Yh(s,o,V,v)&&w,V=V.__ngNextListenerFn__;return f&&!1===w&&v.preventDefault(),w}}function Jh(i=1){return function Tc(i){return(yt.lFrame.contextLView=function r9(i,s){for(;i>0;)s=s[H1],i--;return s}(i,yt.lFrame.contextLView))[C2]}(i)}function Iw(i,s){let o=null;const l=function wl(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(i);for(let f=0;f<s.length;f++){const d=s[f];if("*"!==d){if(null===l?R4(i,d,!0):sc(l,d))return f}else o=f}return o}function Xh(i){const s=ve()[T2][u1];if(!s.projection){const l=s.projection=ts(i?i.length:1,null),f=l.slice();let d=s.child;for(;null!==d;){const v=i?Iw(d,i):0;null!==v&&(f[v]?f[v].projectionNext=d:l[v]=d,f[v]=d),d=d.next}}}function ep(i,s=0,o){const l=ve(),f=Ot(),d=F3(f,Rt+i,16,null,o||null);null===d.projection&&(d.projection=s),vr(),(!l[Wn]||gr())&&32!=(32&d.flags)&&function a_(i,s,o){j9(s[pt],0,s,o,z8(i,o,s),R9(o.parent||s[u1],o,s))}(f,l,d)}function K6(i,s){return i<<17|s<<2}function Ci(i){return i>>17&32767}function ju(i){return 2|i}function _i(i){return(131068&i)>>2}function $u(i,s){return-131069&i|s<<2}function Gu(i){return 1|i}function lp(i,s,o,l,f){const d=i[o+1],v=null===s;let C=l?Ci(d):_i(d),w=!1;for(;0!==C&&(!1===w||v);){const E=i[C+1];Lw(i[C],s)&&(w=!0,i[C+1]=l?Gu(E):ju(E)),C=l?Ci(E):_i(E)}w&&(i[o+1]=l?ju(d):Gu(d))}function Lw(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Jn(i,s)>=0}const k2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function up(i){return i.substring(k2.key,k2.keyEnd)}function xw(i){return i.substring(k2.value,k2.valueEnd)}function dp(i,s){const o=k2.textEnd;let l=k2.key=vs(i,s,o);return o===l?-1:(l=k2.keyEnd=function pp(i,s,o){let l;for(;s<o&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,o),l=mp(i,l,o),l=k2.value=vs(i,l,o),l=k2.valueEnd=function Nw(i,s,o){let l=-1,f=-1,d=-1,v=s,C=v;for(;v<o;){const w=i.charCodeAt(v++);if(59===w)return C;34===w||39===w?C=v=Wu(i,w,v,o):s===v-4&&85===d&&82===f&&76===l&&40===w?C=v=Wu(i,41,v,o):w>32&&(C=v),d=f,f=l,l=-33&w}return C}(i,l,o),mp(i,l,o))}function vs(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function mp(i,s,o,l){return(s=vs(i,s,o))<o&&s++,s}function Wu(i,s,o,l){let f=-1,d=o;for(;d<l;){const v=i.charCodeAt(d++);if(v==s&&92!==f)return d;f=92==v&&92===f?0:v}throw new Error}function Zu(i,s){return function Nn(i,s,o,l){const f=ve(),d=Ot(),v=Mn(2);d.firstUpdatePass&&vp(d,i,v,l),s!==It&&v1(f,v,s)&&Cp(d,d.data[E1()],f,f[pt],i,f[v+1]=function _p(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=re(Cr(i)))),i}(s,o),l,v)}(i,s,null,!0),Zu}function nr(i){!function rr(i,s,o,l){const f=Ot(),d=Mn(2);f.firstUpdatePass&&vp(f,null,d,l);const v=ve();if(o!==It&&v1(v,d,o)){const C=f.data[E1()];if(Mp(C,l)&&!Yu(f,d)){let w=l?C.classesWithoutHost:C.stylesWithoutHost;null!==w&&(o=Re(w,o||"")),Pu(f,C,v,o,l)}else!function Uw(i,s,o,l,f,d,v,C){f===It&&(f=Oe);let w=0,V=0,E=0<f.length?f[0]:null,A=0<d.length?d[0]:null;for(;null!==E||null!==A;){const j=w<f.length?f[w+1]:void 0,W=V<d.length?d[V+1]:void 0;let Ve,ce=null;E===A?(w+=2,V+=2,j!==W&&(ce=A,Ve=W)):null===A||null!==E&&E<A?(w+=2,ce=E):(V+=2,ce=A,Ve=W),null!==ce&&Cp(i,s,o,l,ce,Ve,v,C),E=w<f.length?f[w]:null,A=V<d.length?d[V]:null}}(f,C,v,v[pt],v[d+1],v[d+1]=function Fw(i,s,o){if(null==o||""===o)return Oe;const l=[],f=Cr(o);if(Array.isArray(f))for(let d=0;d<f.length;d++)i(l,f[d],!0);else if("object"==typeof f)for(const d in f)f.hasOwnProperty(d)&&i(l,d,f[d]);else"string"==typeof f&&s(l,f);return l}(i,s,o),l,d)}}(Q6,Ku,i,!1)}function Ku(i,s){for(let o=function Aw(i){return function hp(i){k2.key=0,k2.keyEnd=0,k2.value=0,k2.valueEnd=0,k2.textEnd=i.length}(i),dp(i,vs(i,0,k2.textEnd))}(s);o>=0;o=dp(s,o))Q6(i,up(s),xw(s))}function Yu(i,s){return s>=i.expandoStartIndex}function vp(i,s,o,l){const f=i.data;if(null===f[o+1]){const d=f[E1()],v=Yu(i,o);Mp(d,l)&&null===s&&!v&&(s=!1),s=function yp(i,s,o,l){const f=function xc(i){const s=yt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let d=l?s.residualClasses:s.residualStyles;if(null===f)0===(l?s.classBindings:s.styleBindings)&&(o=so(o=Y6(null,i,s,o,l),s.attrs,l),d=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==f)if(o=Y6(f,i,s,o,l),null===d){let w=function Pw(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==_i(l))return i[Ci(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=Y6(null,i,s,w[1],l),w=so(w,s.attrs,l),function Rw(i,s,o,l){i[Ci(o?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else d=function Ow(i,s,o){let l;const f=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<f;d++)l=so(l,i[d].hostAttrs,o);return so(l,s.attrs,o)}(i,s,l)}return void 0!==d&&(l?s.residualClasses=d:s.residualStyles=d),o}(f,d,s,l),function zw(i,s,o,l,f,d){let v=d?s.classBindings:s.styleBindings,C=Ci(v),w=_i(v);i[l]=o;let E,V=!1;if(Array.isArray(o)?(E=o[1],(null===E||Jn(o,E)>0)&&(V=!0)):E=o,f)if(0!==w){const j=Ci(i[C+1]);i[l+1]=K6(j,C),0!==j&&(i[j+1]=$u(i[j+1],l)),i[C+1]=function Ew(i,s){return 131071&i|s<<17}(i[C+1],l)}else i[l+1]=K6(C,0),0!==C&&(i[C+1]=$u(i[C+1],l)),C=l;else i[l+1]=K6(w,0),0===C?C=l:i[w+1]=$u(i[w+1],l),w=l;V&&(i[l+1]=ju(i[l+1])),lp(i,E,l,!0),lp(i,E,l,!1),function qu(i,s,o,l,f){const d=f?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&Jn(d,s)>=0&&(o[l+1]=Gu(o[l+1]))}(s,E,i,l,d),v=K6(C,w),d?s.classBindings=v:s.styleBindings=v}(f,d,s,o,v,l)}}function Y6(i,s,o,l,f){let d=null;const v=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<v&&(d=s[C],l=so(l,d.hostAttrs,f),d!==i);)C++;return null!==i&&(o.directiveStylingLast=C),l}function so(i,s,o){const l=o?1:2;let f=-1;if(null!==s)for(let d=0;d<s.length;d++){const v=s[d];"number"==typeof v?f=v:f===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),m1(i,v,!!o||s[++d]))}return void 0===i?null:i}function Q6(i,s,o){m1(i,s,Cr(o))}function Cp(i,s,o,l,f,d,v,C){if(!(3&s.type))return;const w=i.data,V=w[C+1],E=function cp(i){return 1==(1&i)}(V)?Qu(w,s,o,f,_i(V),v):void 0;J6(E)||(J6(d)||function op(i){return 2==(2&i)}(V)&&(d=Qu(w,null,o,f,C,v)),function c_(i,s,o,l,f){if(s)f?i.addClass(o,l):i.removeClass(o,l);else{let d=-1===l.indexOf("-")?void 0:r6.DashCase;null==f?i.removeStyle(o,l,d):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),d|=r6.Important),i.setStyle(o,l,f,d))}}(l,v,r3(E1(),o),f,d))}function Qu(i,s,o,l,f,d){const v=null===s;let C;for(;f>0;){const w=i[f],V=Array.isArray(w),E=V?w[1]:w,A=null===E;let j=o[f+1];j===It&&(j=A?Oe:void 0);let W=A?wa(j,l):E===l?j:void 0;if(V&&!J6(W)&&(W=wa(w,l)),J6(W)&&(C=W,v))return C;const ce=i[f+1];f=v?Ci(ce):_i(ce)}if(null!==s){let w=d?s.residualClasses:s.residualStyles;null!=w&&(C=wa(w,l))}return C}function J6(i){return void 0!==i}function Mp(i,s){return 0!=(i.flags&(s?8:16))}function wp(i,s=""){const o=ve(),l=Ot(),f=i+Rt,d=l.firstCreatePass?F3(l,f,1,s,null):l.data[f],v=Ju(l,o,d,s,i);o[f]=v,h3()&&d6(l,o,v,d),_n(d,!1)}let Ju=(i,s,o,l,f)=>(Dn(!0),function a6(i,s){return i.createText(s)}(s[pt],l));function Xu(i){return ao("",i,""),Xu}function ao(i,s,o){const l=ve(),f=function U3(i,s,o,l){return v1(i,j1(),o)?s+J(o)+l:It}(l,i,s,o);return f!==It&&function _r(i,s,o){const l=r3(s,i);!function z9(i,s,o){i.setValue(s,o)}(i[pt],l,o)}(l,E1(),f),ao}function X6(i,s,o){const l=ve();return v1(l,j1(),s)&&wn(Ot(),o2(),l,i,s,l[pt],o,!0),X6}const ys=void 0;var ob=["en",[["a","p"],["AM","PM"],ys],[["AM","PM"],ys,ys],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ys,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ys,"{1} 'at' {0}",ys],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Cs={};function e0(i){const s=function i5(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Bp(s);if(o)return o;const l=s.split("-")[0];if(o=Bp(l),o)return o;if("en"===l)return ob;throw new Z(701,!1)}function Fp(i){return e0(i)[Q3.PluralCase]}function Bp(i){return i in Cs||(Cs[i]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[i]),Cs[i]}var Q3=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Q3||{});const J3="en-US";let s5=J3;class _s{}class Kb{}function Yb(i,s){return new m5(i,s??null,[])}class m5 extends _s{constructor(s,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hh(this);const f=function l1(i,s){const o=i[l2]||null;if(!o&&!0===s)throw new Error(`Type ${re(i)} does not have '\u0275mod' property.`);return o}(s);this._bootstrapComponents=function $r(i){return i instanceof Function?i():i}(f.bootstrap),this._r3Injector=Sd(s,o,[{provide:_s,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver},...l],re(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class g5 extends Kb{constructor(s){super(),this.moduleType=s}create(s){return new m5(this.moduleType,s,[])}}function zm(i,s,o){const l=n1()+i,f=ve();return f[l]===It?Mr(f,l,o?s.call(o):s()):function to(i,s){return i[s]}(f,l)}function Lm(i,s,o,l){return Am(ve(),n1(),i,s,o,l)}function t4(i,s){const o=i[s];return o===It?void 0:o}function Am(i,s,o,l,f,d){const v=s+o;return v1(i,v,f)?Mr(i,v+1,d?l.call(d,f):l(f)):t4(i,v+1)}function Rm(i,s){const o=Ot();let l;const f=i+Rt;o.firstCreatePass?(l=function pH(i,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(i===l.name)return l}}(s,o.pipeRegistry),o.data[f]=l,l.onDestroy&&(o.destroyHooks??=[]).push(f,l.onDestroy)):l=o.data[f];const d=l.factory||(l.factory=Kn(l.type)),C=jt(O3);try{const w=An(!1),V=d();return An(w),function ww(i,s,o,l){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=l}(o,ve(),f,V),V}finally{jt(C)}}function Om(i,s,o){const l=i+Rt,f=ve(),d=I1(f,l);return fo(f,l)?Am(f,n1(),s,d.transform,o,d):d.transform(o)}function Fm(i,s,o,l,f){const d=i+Rt,v=ve(),C=I1(v,d);return fo(v,d)?function Nm(i,s,o,l,f,d,v,C){const w=s+o;return P6(i,w,f,d,v)?Mr(i,w+3,C?l.call(C,f,d,v):l(f,d,v)):t4(i,w+3)}(v,n1(),s,C.transform,o,l,f,C):C.transform(o,l,f)}function fo(i,s){return i[Te].data[s].pure}function _5(i){return s=>{setTimeout(i,void 0,s)}}const br=class CH extends m.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let f=s,d=o||(()=>null),v=l;if(s&&"object"==typeof s){const w=s;f=w.next?.bind(w),d=w.error?.bind(w),v=w.complete?.bind(w)}this.__isAsync&&(d=_5(d),f&&(f=_5(f)),v&&(v=_5(v)));const C=super.subscribe({next:f,error:d,complete:v});return s instanceof R.w0&&s.add(C),C}};function bH(i,s,o,l=!0){const f=s[Te];if(function x9(i,s,o,l){const f=N2+l,d=o.length;l>0&&(o[f-1][B1]=s),l<d-N2?(s[B1]=o[f],_a(o,N2+l,s)):(o.push(s),s[B1]=null),s[n2]=o;const v=s[ti];null!==v&&o!==v&&function i_(i,s){const o=i[ni];s[T2]!==s[n2][n2][T2]&&(i[Bi]=!0),null===o?i[ni]=[s]:o.push(s)}(v,s);const C=s[V1];null!==C&&C.insertView(i),s[wt]|=128}(f,s,i,o),l){const d=x8(o,i),v=s[pt],C=u6(v,i[f1]);null!==C&&function L9(i,s,o,l,f,d){l[f2]=f,l[u1]=s,Ra(i,l,o,1,f,d)}(f,i[u1],v,s,C,d)}}let ho=(()=>{class s{}return s.__NG_ELEMENT_ID__=SH,s})();const Bm=ho,VH=class extends Bm{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,l){const f=function MH(i,s,o,l){const f=s.tView,C=Qa(i,f,o,4096&i[wt]?4096:16,null,s,null,null,null,l?.injector??null,l?.hydrationInfo??null);C[ti]=i[s.index];const V=i[V1];return null!==V&&(C[V1]=V.createEmbeddedView(f)),Hu(f,C,o),C}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:l});return new Xa(f)}};function SH(){return function po(i,s){return 4&i.type?new VH(s,i,k3(i,s)):null}(O2(),ve())}let l0=(()=>{class s{}return s.__NG_ELEMENT_ID__=xH,s})();function xH(){return function Zm(i,s){let o;const l=s[i.index];return h1(l)?o=l:(o=Xd(l,s,null,i),s[i.index]=o,D6(s,o)),Km(o,s,i,l),new qm(o,i,s)}(O2(),ve())}const Gm=l0,qm=class extends Gm{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return k3(this._hostTNode,this._hostLView)}get injector(){return new r1(this._hostTNode,this._hostLView)}get parentInjector(){const s=y3(this._hostTNode,this._hostLView);if(Qi(s)){const o=Pr(s,this._hostLView),l=Ji(s);return new r1(o[Te].data[l+8],o)}return new r1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Wm(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-N2}createEmbeddedView(s,o,l){let f,d;"number"==typeof l?f=l:null!=l&&(f=l.index,d=l.injector);const C=s.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(C,f,false),C}createComponent(s,o,l,f,d){const v=s&&!function es(i){return"function"==typeof i}(s);let C;if(v)C=o;else{const Ve=o||{};C=Ve.index,l=Ve.injector,f=Ve.projectableNodes,d=Ve.environmentInjector||Ve.ngModuleRef}const w=v?s:new eo(Pt(s)),V=l||this.parentInjector;if(!d&&null==w.ngModule){const Be=(v?V:this.parentInjector).get(jr,null);Be&&(d=Be)}Pt(w.componentType??{});const W=w.create(V,f,null,d);return this.insertImpl(W.hostView,C,false),W}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,l){const f=s._lView;if(function $l(i){return h1(i[n2])}(f)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const V=f[n2],E=new qm(V,V[u1],V[n2]);E.detach(E.indexOf(s))}}const v=this._adjustIndex(o),C=this._lContainer;return bH(C,f,v,!l),s.attachToViewContainerRef(),_a(u0(C),v,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Wm(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=c6(this._lContainer,o);l&&(H3(u0(this._lContainer),o),l6(l[Te],l))}detach(s){const o=this._adjustIndex(s,-1),l=c6(this._lContainer,o);return l&&null!=H3(u0(this._lContainer),o)?new Xa(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function Wm(i){return i[8]}function u0(i){return i[8]||(i[8]=[])}let Km=function Ym(i,s,o,l){if(i[f1])return;let f;f=8&o.type?e2(l):function DH(i,s){const o=i[pt],l=o.createComment(""),f=p1(s,i);return os(o,u6(o,f),l,function P9(i,s){return i.nextSibling(s)}(o,f),!1),l}(s,o),i[f1]=f};const iV=new Yt("Application Initializer");let N5=(()=>{var i;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f}),this.appInits=$e(iV,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const d of this.appInits){const v=d();if(q6(v))l.push(v);else if(qh(v)){const C=new Promise((w,V)=>{v.subscribe({complete:w,error:V})});l.push(C)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{f()}).catch(d=>{this.reject(d)}),0===l.length&&f(),this.initialized=!0}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();const g0=new Yt("LocaleId",{providedIn:"root",factory:()=>$e(g0,ut.Optional|ut.SkipSelf)||function aV(){return typeof $localize<"u"&&$localize.locale||J3}()}),oV=new Yt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lV=(()=>{var i;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function Ag(...i){}class z1{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new br(!1),this.onMicrotaskEmpty=new br(!1),this.onStable=new br(!1),this.onError=new br(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&o,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function bV(){const i="function"==typeof Lt.requestAnimationFrame;let s=Lt[i?"requestAnimationFrame":"setTimeout"],o=Lt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function VV(i){const s=()=>{!function Ng(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Lt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,F5(i),i.isCheckStableRunning=!0,O5(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),F5(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,f,d,v,C)=>{try{return kg(i),o.invokeTask(f,d,v,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),Pg(i)}},onInvoke:(o,l,f,d,v,C,w)=>{try{return kg(i),o.invoke(f,d,v,C,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),Pg(i)}},onHasTask:(o,l,f,d)=>{o.hasTask(f,d),l===f&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,F5(i),O5(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,l,f,d)=>(o.handleError(f,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!z1.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(z1.isInAngularZone())throw new Z(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,f){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+f,s,HV,Ag,Ag);try{return d.runTask(v,o,l)}finally{d.cancelTask(v)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const HV={};function O5(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function F5(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function kg(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Pg(i){i._nesting--,O5(i)}class SV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new br,this.onMicrotaskEmpty=new br,this.onStable=new br,this.onError=new br}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,f){return s.apply(o,l)}}const B5=new Yt("",{providedIn:"root",factory:Rg});function Rg(){const i=$e(z1);let s=!0;const o=new ae.y(f=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{f.next(s),f.complete()})}),l=new ae.y(f=>{let d;i.runOutsideAngular(()=>{d=i.onStable.subscribe(()=>{z1.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,f.next(!0))})})});const v=i.onUnstable.subscribe(()=>{z1.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{f.next(!1)}))});return()=>{d.unsubscribe(),v.unsubscribe()}});return(0,me.T)(o,l.pipe((0,xe.B)()))}const Og=new Yt(""),Fg=new Yt("");let U5,IV=(()=>{var i;class s{constructor(l,f,d){this._ngZone=l,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,U5||(function EV(i){U5=i}(d),d.addToWindow(f)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{z1.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,d){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==v),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:v,updateCb:d})}whenStable(l,f,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,f,d){return[]}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(z1),Ne(Bg),Ne(Fg))},i.\u0275prov=bt({token:i,factory:i.\u0275fac}),s})(),Bg=(()=>{var i;class s{constructor(){this._applications=new Map}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return U5?.findTestabilityInTree(this,l,f)??null}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})(),Gr=null;const Ug=new Yt("AllowMultipleToken"),j5=new Yt("PlatformDestroyListeners"),$5=new Yt("appBootstrapListener");function Gg(i,s,o=[]){const l=`Platform: ${s}`,f=new Yt(l);return(d=[])=>{let v=y0();if(!v||v.injector.get(Ug,!1)){const C=[...o,...d,{provide:f,useValue:!0}];i?i(C):function AV(i){if(Gr&&!Gr.get(Ug,!1))throw new Z(400,!1);(function jg(){!function ea(i){Xs=i}(()=>{throw new Z(600,!1)})})(),Gr=i;const s=i.get(Wg);(function $g(i){i.get(K8,null)?.forEach(o=>o())})(i)}(function qg(i=[],s){return er.create({name:s,providers:[{provide:q8,useValue:"platform"},{provide:j5,useValue:new Set([()=>Gr=null])},...i]})}(C,l))}return function G5(i){const s=y0();if(!s)throw new Z(401,!1);return s}()}}function y0(){return Gr?.get(Wg)??null}let Wg=(()=>{var i;class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const d=function NV(i="zone.js",s){return"noop"===i?new SV:"zone.js"===i?new z1(s):i}(f?.ngZone,function Zg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return d.run(()=>{const v=function Qb(i,s,o){return new m5(i,s,o)}(l.moduleType,this.injector,function Jg(i){return[{provide:z1,useFactory:i},{provide:Ua,multi:!0,useFactory:()=>{const s=$e(PV,{optional:!0});return()=>s.initialize()}},{provide:Qg,useFactory:kV},{provide:B5,useFactory:Rg}]}(()=>d)),C=v.injector.get(hs,null);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:V=>{C.handleError(V)}});v.onDestroy(()=>{C0(this._modules,v),w.unsubscribe()})}),function Kg(i,s,o){try{const l=o();return q6(l)?l.catch(f=>{throw s.runOutsideAngular(()=>i.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(C,d,()=>{const w=v.injector.get(N5);return w.runInitializers(),w.donePromise.then(()=>(function jp(i){Qe(i,"Expected localeId to be defined"),"string"==typeof i&&(s5=i.toLowerCase().replace(/_/g,"-"))}(v.injector.get(g0,J3)||J3),this._moduleDoBootstrap(v),v))})})}bootstrapModule(l,f=[]){const d=q5({},f);return function zV(i,s,o){const l=new g5(o);return Promise.resolve(l)}(0,0,l).then(v=>this.bootstrapModuleFactory(v,d))}_moduleDoBootstrap(l){const f=l.injector.get(yo);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>f.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Z(-403,!1);l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(j5,null);l&&(l.forEach(f=>f()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(er))},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();function q5(i,s){return Array.isArray(s)?s.reduce(q5,i):{...i,...s}}let yo=(()=>{var i;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$e(Qg),this.zoneIsStable=$e(B5),this.componentTypes=[],this.components=[],this.isStable=$e(lV).hasPendingTasks.pipe((0,Pe.w)(l=>l?(0,we.of)(!1):this.zoneIsStable),(0,ze.x)(),(0,xe.B)()),this._injector=$e(jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,f){const d=l instanceof yd;if(!this._injector.get(N5).done)throw!d&&function Oi(i){const s=Pt(i)||q2(i)||W2(i);return null!==s&&s.standalone}(l),new Z(405,!1);let C;C=d?l:this._injector.get(Ka).resolveComponentFactory(l),this.componentTypes.push(C.componentType);const w=function xV(i){return i.isBoundToModule}(C)?void 0:this._injector.get(_s),E=C.create(er.NULL,[],f||C.selector,w),A=E.location.nativeElement,j=E.injector.get(Og,null);return j?.registerApplication(A),E.onDestroy(()=>{this.detachView(E.hostView),C0(this.components,E),j?.unregisterApplication(A)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;C0(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const f=this._injector.get($5,[]);f.push(...this._bootstrapListeners),f.forEach(d=>d(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>C0(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Z(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function C0(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}const Qg=new Yt("",{providedIn:"root",factory:()=>$e(hs).handleError.bind(void 0)});function kV(){const i=$e(z1),s=$e(hs);return o=>i.runOutsideAngular(()=>s.handleError(o))}let PV=(()=>{var i;class s{constructor(){this.zone=$e(z1),this.applicationRef=$e(yo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function RV(){return!1}let OV=(()=>{class s{}return s.__NG_ELEMENT_ID__=FV,s})();function FV(i){return function BV(i,s,o){if(Zn(i)&&!o){const l=t1(i.index,s);return new Xa(l,l)}return 47&i.type?new Xa(s[T2],s):null}(O2(),ve(),16==(16&i))}class rv{constructor(){}supports(s){return k6(s)}create(s){return new WV(s)}}const iv=(i,s)=>s;class WV{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||iv}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,f=0,d=null;for(;o||l;){const v=!l||o&&o.currentIndex<av(l,f,d)?o:l,C=av(v,f,d),w=v.currentIndex;if(v===l)f--,l=l._nextRemoved;else if(o=o._next,null==v.previousIndex)f++;else{d||(d=[]);const V=C-f,E=w-f;if(V!=E){for(let j=0;j<V;j++){const W=j<d.length?d[j]:d[j]=0,ce=W+j;E<=ce&&ce<V&&(d[j]=W+1)}d[v.previousIndex]=E-V}}C!==w&&s(v,C,w)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!k6(s))throw new Z(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,d,v,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)d=s[C],v=this._trackByFn(C,d),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,d,v,C)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,v,C),l=!0),o=o._next}else f=0,function Ih(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,C=>{v=this._trackByFn(f,C),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,C,v,f)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,v,f),l=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,f){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,f)):s=this._addAfter(new sv(o,l),d,f),s}_verifyReinsertion(s,o,l,f){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==d?s=this._reinsertAfter(d,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,d=s._nextRemoved;return null===f?this._removalsHead=d:f._nextRemoved=d,null===d?this._removalsTail=f:d._prevRemoved=f,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const f=null===o?this._itHead:o._next;return s._next=f,s._prev=o,null===f?this._itTail=s:f._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Q5),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q5),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class sv{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZV{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class Q5{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new ZV,this.map.set(o,l)),l.add(s)}get(s,o){const f=this.map.get(s);return f?f.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function av(i,s,o){const l=i.previousIndex;if(null===l)return l;let f=0;return o&&l<o.length&&(f=o[l]),l+s+f}class ov{constructor(){}supports(s){return s instanceof Map||Su(s)}create(){return new KV}}class KV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Su(s)))throw new Z(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(f,l);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,o);const d=f._prev,v=f._next;return d&&(d._next=v),v&&(v._prev=d),f._next=null,f._prev=null,f}const l=new cv(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class cv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lv(){return new J5([new rv])}let J5=(()=>{var i;class s{constructor(l){this.factories=l}static create(l,f){if(null!=f){const d=f.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:f=>s.create(l,f||lv()),deps:[[s,new Sa,new rs]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(null!=f)return f;throw new Z(901,!1)}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:lv}),s})();function uv(){return new X5([new ov])}let X5=(()=>{var i;class s{constructor(l){this.factories=l}static create(l,f){if(f){const d=f.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:f=>s.create(l,f||uv()),deps:[[s,new Sa,new rs]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(f)return f;throw new Z(901,!1)}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:uv}),s})();const XV=Gg(null,"core",[]);let eS=(()=>{var i;class s{constructor(l){}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(yo))},i.\u0275mod=U4({type:i}),i.\u0275inj=p2({}),s})()},3106:(ht,Se,k)=>{k.d(Se,{Z:()=>st});var m=k(9058),R=k(4537),T=k(534),ae=k(7879);class me{constructor(be,Ae){this._delegate=be,this.firebase=Ae,(0,T._addComponent)(be,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(be,Ae=T._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(be);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ke=Je.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Ae})}_removeServiceInstance(be,Ae=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ae)}_addComponent(be){(0,T._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,T._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function ze(){const le=function Pe(le){const be={},Ae={__esModule:!0,initializeApp:function Z(Le,K={}){const et=T.initializeApp(Le,K);if((0,m.r3)(be,et.name))return be[et.name];const nt=new le(et,Ae);return be[et.name]=nt,nt},app:Je,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function J(Le){const K=Le.name,et=K.replace("-compat","");if(T._registerComponent(Le)&&"PUBLIC"===Le.type){const nt=(Dt=Je())=>{if("function"!=typeof Dt[et])throw xe.create("invalid-app-argument",{appName:K});return Dt[et]()};void 0!==Le.serviceProps&&(0,m.ZB)(nt,Le.serviceProps),Ae[et]=nt,le.prototype[et]=function(...Dt){return this._getService.bind(this,K).apply(this,Le.multipleInstances?Dt:[])}}return"PUBLIC"===Le.type?Ae[et]:null},removeApp:function Ke(Le){delete be[Le]},useAsService:function pe(Le,K){return"serverAuth"===K?null:K},modularAPIs:T}};function Je(Le){if(!(0,m.r3)(be,Le=Le||T._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Le});return be[Le]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ue(){return Object.keys(be).map(Le=>be[Le])}}),Je.App=le,Ae}(me);return le.INTERNAL=Object.assign(Object.assign({},le.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function be(Ae){(0,m.ZB)(le,Ae)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),le}(),B=new ae.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const le=self.firebase.SDK_VERSION;le&&le.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const st=O;!function He(le){(0,T.registerVersion)("@firebase/app-compat","0.2.13",le)}()},534:(ht,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>mn,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>o1,_addOrOverwriteComponent:()=>R1,_apps:()=>Ct,_clearComponents:()=>$t,_components:()=>jt,_getProvider:()=>v2,_registerComponent:()=>Lt,_removeServiceInstance:()=>Fn,deleteApp:()=>R2,getApp:()=>vn,getApps:()=>P2,initializeApp:()=>gn,onLog:()=>c2,registerVersion:()=>w1,setLogLevel:()=>Bn});var m=k(5861),R=k(4537),T=k(7879),ae=k(9058);const me=(se,Y)=>Y.some(_e=>se instanceof _e);let we,xe;const O=new WeakMap,B=new WeakMap,re=new WeakMap,Re=new WeakMap,He=new WeakMap;let be={get(se,Y,_e){if(se instanceof IDBTransaction){if("done"===Y)return B.get(se);if("objectStoreNames"===Y)return se.objectStoreNames||re.get(se);if("store"===Y)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Z(se[Y])},set:(se,Y,_e)=>(se[Y]=_e,!0),has:(se,Y)=>se instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in se};function Je(se){return"function"==typeof se?function Ke(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...Y){return se.apply(ue(this),Y),Z(O.get(this))}:function(...Y){return Z(se.apply(ue(this),Y))}:function(Y,..._e){const Ye=se.call(ue(this),Y,..._e);return re.set(Ye,Y.sort?Y.sort():[Y]),Z(Ye)}}(se):(se instanceof IDBTransaction&&function le(se){if(B.has(se))return;const Y=new Promise((_e,Ye)=>{const Oe=()=>{se.removeEventListener("complete",Vt),se.removeEventListener("error",Bt),se.removeEventListener("abort",Bt)},Vt=()=>{_e(),Oe()},Bt=()=>{Ye(se.error||new DOMException("AbortError","AbortError")),Oe()};se.addEventListener("complete",Vt),se.addEventListener("error",Bt),se.addEventListener("abort",Bt)});B.set(se,Y)}(se),me(se,function Pe(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,be):se)}function Z(se){if(se instanceof IDBRequest)return function st(se){const Y=new Promise((_e,Ye)=>{const Oe=()=>{se.removeEventListener("success",Vt),se.removeEventListener("error",Bt)},Vt=()=>{_e(Z(se.result)),Oe()},Bt=()=>{Ye(se.error),Oe()};se.addEventListener("success",Vt),se.addEventListener("error",Bt)});return Y.then(_e=>{_e instanceof IDBCursor&&O.set(_e,se)}).catch(()=>{}),He.set(Y,se),Y}(se);if(Re.has(se))return Re.get(se);const Y=Je(se);return Y!==se&&(Re.set(se,Y),He.set(Y,se)),Y}const ue=se=>He.get(se),Le=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],et=new Map;function nt(se,Y){if(!(se instanceof IDBDatabase)||Y in se||"string"!=typeof Y)return;if(et.get(Y))return et.get(Y);const _e=Y.replace(/FromIndex$/,""),Ye=Y!==_e,Oe=K.includes(_e);if(!(_e in(Ye?IDBIndex:IDBObjectStore).prototype)||!Oe&&!Le.includes(_e))return;const Vt=function(){var Bt=(0,m.Z)(function*(A2,...l2){const e1=this.transaction(A2,Oe?"readwrite":"readonly");let Un=e1.store;return Ye&&(Un=Un.index(l2.shift())),(yield Promise.all([Un[_e](...l2),Oe&&e1.done]))[0]});return function(l2){return Bt.apply(this,arguments)}}();return et.set(Y,Vt),Vt}!function Ae(se){be=se(be)}(se=>({...se,get:(Y,_e,Ye)=>nt(Y,_e)||se.get(Y,_e,Ye),has:(Y,_e)=>!!nt(Y,_e)||se.has(Y,_e)}));class Dt{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function X2(se){const Y=se.getComponent();return"VERSION"===Y?.type}(_e)){const Ye=_e.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(_e=>_e).join(" ")}}const hn="@firebase/app",a2=new T.Yd("@firebase/app"),ut="[DEFAULT]",Mt={[hn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,jt=new Map;function o1(se,Y){try{se.container.addComponent(Y)}catch(_e){a2.debug(`Component ${Y.name} failed to register with FirebaseApp ${se.name}`,_e)}}function R1(se,Y){se.container.addOrOverwriteComponent(Y)}function Lt(se){const Y=se.name;if(jt.has(Y))return a2.debug(`There were multiple attempts to register component ${Y}.`),!1;jt.set(Y,se);for(const _e of Ct.values())o1(_e,se);return!0}function v2(se,Y){const _e=se.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),se.container.getProvider(Y)}function Fn(se,Y,_e=ut){v2(se,Y).clearInstance(_e)}function $t(){jt.clear()}const Ht=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class y2{constructor(Y,_e,Ye){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const mn="9.23.0";function gn(se,Y={}){let _e=se;"object"!=typeof Y&&(Y={name:Y});const Ye=Object.assign({name:ut,automaticDataCollectionEnabled:!1},Y),Oe=Ye.name;if("string"!=typeof Oe||!Oe)throw Ht.create("bad-app-name",{appName:String(Oe)});if(_e||(_e=(0,ae.aH)()),!_e)throw Ht.create("no-options");const Vt=Ct.get(Oe);if(Vt){if((0,ae.vZ)(_e,Vt.options)&&(0,ae.vZ)(Ye,Vt.config))return Vt;throw Ht.create("duplicate-app",{appName:Oe})}const Bt=new R.H0(Oe);for(const l2 of jt.values())Bt.addComponent(l2);const A2=new y2(_e,Ye,Bt);return Ct.set(Oe,A2),A2}function vn(se=ut){const Y=Ct.get(se);if(!Y&&se===ut&&(0,ae.aH)())return gn();if(!Y)throw Ht.create("no-app",{appName:se});return Y}function P2(){return Array.from(Ct.values())}function R2(se){return G2.apply(this,arguments)}function G2(){return(G2=(0,m.Z)(function*(se){const Y=se.name;Ct.has(Y)&&(Ct.delete(Y),yield Promise.all(se.container.getProviders().map(_e=>_e.delete())),se.isDeleted=!0)})).apply(this,arguments)}function w1(se,Y,_e){var Ye;let Oe=null!==(Ye=Mt[se])&&void 0!==Ye?Ye:se;_e&&(Oe+=`-${_e}`);const Vt=Oe.match(/\s|\//),Bt=Y.match(/\s|\//);if(Vt||Bt){const A2=[`Unable to register library "${Oe}" with version "${Y}":`];return Vt&&A2.push(`library name "${Oe}" contains illegal characters (whitespace or "/")`),Vt&&Bt&&A2.push("and"),Bt&&A2.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void a2.warn(A2.join(" "))}Lt(new R.wA(`${Oe}-version`,()=>({library:Oe,version:Y}),"VERSION"))}function c2(se,Y){if(null!==se&&"function"!=typeof se)throw Ht.create("invalid-log-argument");(0,T.Am)(se,Y)}function Bn(se){(0,T.Ub)(se)}const O1="firebase-heartbeat-database",yn=1,F="firebase-heartbeat-store";let P=null;function x(){return P||(P=function J(se,Y,{blocked:_e,upgrade:Ye,blocking:Oe,terminated:Vt}={}){const Bt=indexedDB.open(se,Y),A2=Z(Bt);return Ye&&Bt.addEventListener("upgradeneeded",l2=>{Ye(Z(Bt.result),l2.oldVersion,l2.newVersion,Z(Bt.transaction),l2)}),_e&&Bt.addEventListener("blocked",l2=>_e(l2.oldVersion,l2.newVersion,l2)),A2.then(l2=>{Vt&&l2.addEventListener("close",()=>Vt()),Oe&&l2.addEventListener("versionchange",e1=>Oe(e1.oldVersion,e1.newVersion,e1))}).catch(()=>{}),A2}(O1,yn,{upgrade:(se,Y)=>{0===Y&&se.createObjectStore(F)}}).catch(se=>{throw Ht.create("idb-open",{originalErrorMessage:se.message})})),P}function z(){return(z=(0,m.Z)(function*(se){try{return yield(yield x()).transaction(F).objectStore(F).get(Ne(se))}catch(Y){if(Y instanceof ae.ZR)a2.warn(Y.message);else{const _e=Ht.create("idb-get",{originalErrorMessage:Y?.message});a2.warn(_e.message)}}})).apply(this,arguments)}function q(se,Y){return de.apply(this,arguments)}function de(){return(de=(0,m.Z)(function*(se,Y){try{const Ye=(yield x()).transaction(F,"readwrite");yield Ye.objectStore(F).put(Y,Ne(se)),yield Ye.done}catch(_e){if(_e instanceof ae.ZR)a2.warn(_e.message);else{const Ye=Ht.create("idb-set",{originalErrorMessage:_e?.message});a2.warn(Ye.message)}}})).apply(this,arguments)}function Ne(se){return`${se.name}!${se.options.appId}`}class Ft{constructor(Y){this.container=Y,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new St(_e),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var Y=this;return(0,m.Z)(function*(){const Ye=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Oe=vt();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==Oe&&!Y._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Oe))return Y._heartbeatsCache.heartbeats.push({date:Oe,agent:Ye}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Vt=>{const Bt=new Date(Vt.date).valueOf();return Date.now()-Bt<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,m.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const _e=vt(),{heartbeatsToSend:Ye,unsentEntries:Oe}=function Xt(se,Y=1024){const _e=[];let Ye=se.slice();for(const Oe of se){const Vt=_e.find(Bt=>Bt.agent===Oe.agent);if(Vt){if(Vt.dates.push(Oe.date),c1(_e)>Y){Vt.dates.pop();break}}else if(_e.push({agent:Oe.agent,dates:[Oe.date]}),c1(_e)>Y){_e.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:_e,unsentEntries:Ye}}(Y._heartbeatsCache.heartbeats),Vt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ye}));return Y._heartbeatsCache.lastSentHeartbeatDate=_e,Oe.length>0?(Y._heartbeatsCache.heartbeats=Oe,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Vt})()}}function vt(){return(new Date).toISOString().substring(0,10)}class St{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,m.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function D(se){return z.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var _e=this;return(0,m.Z)(function*(){var Ye;if(yield _e._canUseIndexedDBPromise){const Vt=yield _e.read();return q(_e.app,{lastSentHeartbeatDate:null!==(Ye=Y.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Vt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var _e=this;return(0,m.Z)(function*(){var Ye;if(yield _e._canUseIndexedDBPromise){const Vt=yield _e.read();return q(_e.app,{lastSentHeartbeatDate:null!==(Ye=Y.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Y.heartbeats]})}})()}}function c1(se){return(0,ae.L)(JSON.stringify({version:2,heartbeats:se})).length}!function zr(se){Lt(new R.wA("platform-logger",Y=>new Dt(Y),"PRIVATE")),Lt(new R.wA("heartbeat",Y=>new Ft(Y),"PRIVATE")),w1(hn,"0.9.13",se),w1(hn,"0.9.13","esm2017"),w1("fire-js","")}("")},4537:(ht,Se,k)=>{k.d(Se,{H0:()=>Pe,wA:()=>T});var m=k(5861),R=k(9058);class T{constructor(O,B,re){this.name=O,this.instanceFactory=B,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const ae="[DEFAULT]";class me{constructor(O,B){this.name=O,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const B=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(B)){const re=new R.BH;if(this.instancesDeferred.set(B,re),this.isInitialized(B)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:B});Re&&re.resolve(Re)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(O){var B;const re=this.normalizeInstanceIdentifier(O?.identifier),Re=null!==(B=O?.optional)&&void 0!==B&&B;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(He){if(Re)return null;throw He}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function xe(ze){return"EAGER"===ze.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[B,re]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(B);try{const He=this.getOrInitializeService({instanceIdentifier:Re});re.resolve(He)}catch{}}}}clearInstance(O=ae){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,m.Z)(function*(){const B=Array.from(O.instances.values());yield Promise.all([...B.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...B.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=ae){return this.instances.has(O)}getOptions(O=ae){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:B={}}=O,re=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:re,options:B});for(const[He,st]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(He)&&st.resolve(Re);return Re}onInit(O,B){var re;const Re=this.normalizeInstanceIdentifier(B),He=null!==(re=this.onInitCallbacks.get(Re))&&void 0!==re?re:new Set;He.add(O),this.onInitCallbacks.set(Re,He);const st=this.instances.get(Re);return st&&O(st,Re),()=>{He.delete(O)}}invokeOnInitCallbacks(O,B){const re=this.onInitCallbacks.get(B);if(re)for(const Re of re)try{Re(O,B)}catch{}}getOrInitializeService({instanceIdentifier:O,options:B={}}){let re=this.instances.get(O);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=O,ze===ae?void 0:ze),options:B}),this.instances.set(O,re),this.instancesOptions.set(O,B),this.invokeOnInitCallbacks(re,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,re)}catch{}var ze;return re||null}normalizeInstanceIdentifier(O=ae){return this.component?this.component.multipleInstances?O:ae:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const B=this.getProvider(O.name);if(B.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);B.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const B=new me(O,this);return this.providers.set(O,B),B}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,Se,k)=>{k.d(Se,{Am:()=>ze,Ub:()=>Pe,Yd:()=>xe,in:()=>R});const m=[];var R=function(O){return O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",O}(R||{});const T={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},ae=R.INFO,me={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},we=(O,B,...re)=>{if(B<O.logLevel)return;const Re=(new Date).toISOString(),He=me[B];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[He](`[${Re}]  ${O.name}:`,...re)};class xe{constructor(B){this.name=B,this._logLevel=ae,this._logHandler=we,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in R))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?T[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...B),this._logHandler(this,R.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...B),this._logHandler(this,R.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,R.INFO,...B),this._logHandler(this,R.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,R.WARN,...B),this._logHandler(this,R.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...B),this._logHandler(this,R.ERROR,...B)}}function Pe(O){m.forEach(B=>{B.setLogLevel(O)})}function ze(O,B){for(const re of m){let Re=null;B&&B.level&&(Re=T[B.level]),re.userLogHandler=null===O?null:(He,st,...le)=>{const be=le.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");st>=(Re??He.logLevel)&&O({level:R[st].toLowerCase(),message:be,args:le,type:He.name})}}}},7142:(ht,Se,k)=>{k.d(Se,{Z:()=>m.Z});var m=k(3106);m.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(ht,Se,k)=>{k.r(Se);var m=k(5861),R=k(3106),T=k(6878),ae=k(9058),xe=(k(534),k(7879),k(4537));function Pe(){return window}function B(){return B=(0,m.Z)(function*(x,D,z){var q;const{BuildInfo:de}=Pe();(0,T.as)(D.sessionId,"AuthEvent did not contain a session ID");const Ne=yield function Ae(x){return Ke.apply(this,arguments)}(D.sessionId),gt={};return(0,T.at)()?gt.ibi=de.packageName:(0,T.au)()?gt.apn=de.packageName:(0,T.av)(x,"operation-not-supported-in-this-environment"),de.displayName&&(gt.appDisplayName=de.displayName),gt.sessionId=Ne,(0,T.aw)(x,z,D.type,void 0,null!==(q=D.eventId)&&void 0!==q?q:void 0,gt)}),B.apply(this,arguments)}function Re(){return(Re=(0,m.Z)(function*(x){const{BuildInfo:D}=Pe(),z={};(0,T.at)()?z.iosBundleId=D.packageName:(0,T.au)()?z.androidPackageName=D.packageName:(0,T.av)(x,"operation-not-supported-in-this-environment"),yield(0,T.ax)(x,z)})).apply(this,arguments)}function le(){return(le=(0,m.Z)(function*(x,D,z){const{cordova:q}=Pe();let de=()=>{};try{yield new Promise((Ne,gt)=>{let $e=null;function Ft(){var St;Ne();const c1=null===(St=q.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof c1&&c1(),"function"==typeof z?.close&&z.close()}function vt(){$e||($e=window.setTimeout(()=>{gt((0,T.az)(x,"redirect-cancelled-by-user"))},2e3))}function Xt(){"visible"===document?.visibilityState&&vt()}D.addPassiveListener(Ft),document.addEventListener("resume",vt,!1),(0,T.au)()&&document.addEventListener("visibilitychange",Xt,!1),de=()=>{D.removePassiveListener(Ft),document.removeEventListener("resume",vt,!1),document.removeEventListener("visibilitychange",Xt,!1),$e&&window.clearTimeout($e)}})}finally{de()}})).apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(function*(x){const D=function Je(x){if((0,T.as)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const D=new ArrayBuffer(x.length),z=new Uint8Array(D);for(let q=0;q<x.length;q++)z[q]=x.charCodeAt(q);return z}(x),z=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(z)).map(de=>de.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ue extends T.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(D)),super.onEvent(D)}initialized(){var D=this;return(0,m.Z)(function*(){yield D.initPromise})()}}function Le(x){return K.apply(this,arguments)}function K(){return(K=(0,m.Z)(function*(x){const D=yield Dt()._get(X2(x));return D&&(yield Dt()._remove(X2(x))),D})).apply(this,arguments)}function nt(){const x=[];for(let z=0;z<20;z++){const q=Math.floor(62*Math.random());x.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(q))}return x.join("")}function Dt(){return(0,T.aC)(T.b)}function X2(x){return(0,T.aD)("authEvent",x.config.apiKey,x.name)}function a2(x){if(!x?.includes("?"))return{};const[D,...z]=x.split("?");return(0,ae.zd)(z.join("?"))}const te=class ur{constructor(){this._redirectPersistence=T.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=T.aE,this._overrideRedirectResult=T.aF}_initialize(D){var z=this;return(0,m.Z)(function*(){const q=D._key();let de=z.eventManagers.get(q);return de||(de=new ue(D),z.eventManagers.set(q,de),z.attachCallbackListeners(D,de)),de})()}_openPopup(D){(0,T.av)(D,"operation-not-supported-in-this-environment")}_openRedirect(D,z,q,de){var Ne=this;return(0,m.Z)(function*(){!function be(x){var D,z,q,de,Ne,gt,$e,Ft,vt,Xt;const St=Pe();(0,T.aA)("function"==typeof(null===(D=St?.universalLinks)||void 0===D?void 0:D.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,T.aA)(typeof(null===(z=St?.BuildInfo)||void 0===z?void 0:z.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,T.aA)("function"==typeof(null===(Ne=null===(de=null===(q=St?.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ne?void 0:Ne.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.aA)("function"==typeof(null===(Ft=null===($e=null===(gt=St?.cordova)||void 0===gt?void 0:gt.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===Ft?void 0:Ft.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.aA)("function"==typeof(null===(Xt=null===(vt=St?.cordova)||void 0===vt?void 0:vt.InAppBrowser)||void 0===Xt?void 0:Xt.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const gt=yield Ne._initialize(D);yield gt.initialized(),gt.resetRedirect(),(0,T.aG)(),yield Ne._originValidation(D);const $e=function J(x,D,z=null){return{type:D,eventId:z,urlResponse:null,sessionId:nt(),postBody:null,tenantId:x.tenantId,error:(0,T.az)(x,"no-auth-event")}}(D,q,de);yield function pe(x,D){return Dt()._set(X2(x),D)}(D,$e);const Ft=yield function O(x,D,z){return B.apply(this,arguments)}(D,$e,z),vt=yield function He(x){const{cordova:D}=Pe();return new Promise(z=>{D.plugins.browsertab.isAvailable(q=>{let de=null;q?D.plugins.browsertab.openUrl(x):de=D.InAppBrowser.open(x,(0,T.ay)()?"_blank":"_system","location=yes"),z(de)})})}(Ft);return function st(x,D,z){return le.apply(this,arguments)}(D,gt,vt)})()}_isIframeWebStorageSupported(D,z){throw new Error("Method not implemented.")}_originValidation(D){const z=D._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function re(x){return Re.apply(this,arguments)}(D)),this.originValidationPromises[z]}attachCallbackListeners(D,z){const{universalLinks:q,handleOpenURL:de,BuildInfo:Ne}=Pe(),gt=setTimeout((0,m.Z)(function*(){yield Le(D),z.onEvent(ie())}),500),$e=function(){var Xt=(0,m.Z)(function*(St){clearTimeout(gt);const c1=yield Le(D);let zr=null;c1&&St?.url&&(zr=function et(x,D){var z,q;const de=function On(x){const D=a2(x),z=D.link?decodeURIComponent(D.link):void 0,q=a2(z).link,de=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return a2(de).link||de||q||z||x}(D);if(de.includes("/__/auth/callback")){const Ne=a2(de),gt=Ne.firebaseError?function hn(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Ne.firebaseError)):null,$e=null===(q=null===(z=gt?.code)||void 0===z?void 0:z.split("auth/"))||void 0===q?void 0:q[1],Ft=$e?(0,T.az)($e):null;return Ft?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:de,postBody:null}}return null}(c1,St.url)),z.onEvent(zr||ie())});return function(c1){return Xt.apply(this,arguments)}}();typeof q<"u"&&"function"==typeof q.subscribe&&q.subscribe(null,$e);const Ft=de,vt=`${Ne.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var Xt=(0,m.Z)(function*(St){if(St.toLowerCase().startsWith(vt)&&$e({url:St}),"function"==typeof Ft)try{Ft(St)}catch(c1){console.error(c1)}});return function(St){return Xt.apply(this,arguments)}}()}};function ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,T.az)("no-auth-event")}}function Qe(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Qt(x=(0,ae.z$)()){return!("file:"!==Qe()&&"ionic:"!==Qe()&&"capacitor:"!==Qe()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function p2(){try{const x=self.localStorage,D=T.aL();if(x)return x.setItem(D,"1"),x.removeItem(D),!function Kt(x=(0,ae.z$)()){return function Ut(){return(0,ae.w1)()&&11===document?.documentMode}()||function bt(x=(0,ae.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,ae.hl)()}catch{return m2()&&(0,ae.hl)()}return!1}function m2(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jt(){return(function ke(){return"http:"===Qe()||"https:"===Qe()}()||(0,ae.ru)()||Qt())&&!function mt(){return(0,ae.b$)()||(0,ae.UG)()}()&&p2()&&!m2()}function z2(){return Qt()&&typeof document<"u"}function P1(){return(P1=(0,m.Z)(function*(){return!!z2()&&new Promise(x=>{const D=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(D),x(!0)})})})).apply(this,arguments)}const g2={LOCAL:"local",NONE:"none",SESSION:"session"},a1=T.aA,zn="persistence";function Mt(x){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(x){yield x._initializationPromise;const D=o1(),z=T.aD(zn,x.config.apiKey,x.name);D&&D.setItem(z,x._getPersistence())})).apply(this,arguments)}function o1(){var x;try{return(null===(x=function s1(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const R1=T.aA;class Lt{constructor(){this.browserResolver=T.aC(T.k),this.cordovaResolver=T.aC(te),this.underlyingResolver=null,this._redirectPersistence=T.a,this._completeRedirectFn=T.aE,this._overrideRedirectResult=T.aF}_initialize(D){var z=this;return(0,m.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,z,q,de){var Ne=this;return(0,m.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openPopup(D,z,q,de)})()}_openRedirect(D,z,q,de){var Ne=this;return(0,m.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openRedirect(D,z,q,de)})()}_isIframeWebStorageSupported(D,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,z)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return z2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return R1(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,m.Z)(function*(){if(D.underlyingResolver)return;const z=yield function k1(){return P1.apply(this,arguments)}();D.underlyingResolver=z?D.cordovaResolver:D.browserResolver})()}}function v2(x){return x.unwrap()}function $t(x){return Ht(x)}function Ht(x){const{_tokenResponse:D}=x instanceof ae.ZR?x.customData:x;if(!D)return null;if(!(x instanceof ae.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return T.P.credentialFromResult(x);const z=D.providerId;if(!z||z===T.p.PASSWORD)return null;let q;switch(z){case T.p.GOOGLE:q=T.V;break;case T.p.FACEBOOK:q=T.U;break;case T.p.GITHUB:q=T.W;break;case T.p.TWITTER:q=T.Z;break;default:const{oauthIdToken:de,oauthAccessToken:Ne,oauthTokenSecret:gt,pendingToken:$e,nonce:Ft}=D;return Ne||gt||de||$e?$e?z.startsWith("saml.")?T.aO._create(z,$e):T.L._fromParams({providerId:z,signInMethod:z,pendingToken:$e,idToken:de,accessToken:Ne}):new T.X(z).credential({idToken:de,accessToken:Ne,rawNonce:Ft}):null}return x instanceof ae.ZR?q.credentialFromError(x):q.credentialFromResult(x)}function y2(x,D){return D.catch(z=>{throw z instanceof ae.ZR&&function fr(x,D){var z;const q=null===(z=D.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===D?.code)D.resolver=new vn(x,T.aq(x,D));else if(q){const de=Ht(D),Ne=D;de&&(Ne.credential=de,Ne.tenantId=q.tenantId||void 0,Ne.email=q.email||void 0,Ne.phoneNumber=q.phoneNumber||void 0)}}(x,z),z}).then(z=>{const de=z.user;return{operationType:z.operationType,credential:$t(z),additionalUserInfo:T.ao(z),user:P2.getOrCreate(de)}})}function mn(x,D){return gn.apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(x,D){const z=yield D;return{verificationId:z.verificationId,confirm:q=>y2(x,z.confirm(q))}})).apply(this,arguments)}class vn{constructor(D,z){this.resolver=z,this.auth=function Fn(x){return x.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return y2(v2(this.auth),this.resolver.resolveSignIn(D))}}class P2{constructor(D){this._delegate=D,this.multiFactor=T.ar(D)}static getOrCreate(D){return P2.USER_MAP.has(D)||P2.USER_MAP.set(D,new P2(D)),P2.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var z=this;return(0,m.Z)(function*(){return y2(z.auth,T.a0(z._delegate,D))})()}linkWithPhoneNumber(D,z){var q=this;return(0,m.Z)(function*(){return mn(q.auth,T.l(q._delegate,D,z))})()}linkWithPopup(D){var z=this;return(0,m.Z)(function*(){return y2(z.auth,T.d(z._delegate,D,Lt))})()}linkWithRedirect(D){var z=this;return(0,m.Z)(function*(){return yield Mt(T.aH(z.auth)),T.g(z._delegate,D,Lt)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var z=this;return(0,m.Z)(function*(){return y2(z.auth,T.a1(z._delegate,D))})()}reauthenticateWithPhoneNumber(D,z){return mn(this.auth,T.r(this._delegate,D,z))}reauthenticateWithPopup(D){return y2(this.auth,T.e(this._delegate,D,Lt))}reauthenticateWithRedirect(D){var z=this;return(0,m.Z)(function*(){return yield Mt(T.aH(z.auth)),T.h(z._delegate,D,Lt)})()}sendEmailVerification(D){return T.ae(this._delegate,D)}unlink(D){var z=this;return(0,m.Z)(function*(){return yield T.an(z._delegate,D),z})()}updateEmail(D){return T.aj(this._delegate,D)}updatePassword(D){return T.ak(this._delegate,D)}updatePhoneNumber(D){return T.u(this._delegate,D)}updateProfile(D){return T.ai(this._delegate,D)}verifyBeforeUpdateEmail(D,z){return T.af(this._delegate,D,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}P2.USER_MAP=new WeakMap;const R2=T.aA;let G2=(()=>{class x{constructor(z,q){if(this.app=z,q.isInitialized())return this._delegate=q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:de}=z.options;R2(de,"invalid-api-key",{appName:z.name}),R2(de,"invalid-api-key",{appName:z.name});const Ne=typeof window<"u"?Lt:void 0;this._delegate=q.initialize({options:{persistence:c2(de,z.name),popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(T.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?P2.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,q){T.I(this._delegate,z,q)}applyActionCode(z){return T.a5(this._delegate,z)}checkActionCode(z){return T.a6(this._delegate,z)}confirmPasswordReset(z,q){return T.a4(this._delegate,z,q)}createUserWithEmailAndPassword(z,q){var de=this;return(0,m.Z)(function*(){return y2(de._delegate,T.a8(de._delegate,z,q))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return T.ad(this._delegate,z)}isSignInWithEmailLink(z){return T.ab(this._delegate,z)}getRedirectResult(){var z=this;return(0,m.Z)(function*(){R2(Jt(),z._delegate,"operation-not-supported-in-this-environment");const q=yield T.j(z._delegate,Lt);return q?y2(z._delegate,Promise.resolve(q)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function fe(x,D){(0,T.aH)(x)._logFramework(D)}(this._delegate,z)}onAuthStateChanged(z,q,de){const{next:Ne,error:gt,complete:$e}=w1(z,q,de);return this._delegate.onAuthStateChanged(Ne,gt,$e)}onIdTokenChanged(z,q,de){const{next:Ne,error:gt,complete:$e}=w1(z,q,de);return this._delegate.onIdTokenChanged(Ne,gt,$e)}sendSignInLinkToEmail(z,q){return T.aa(this._delegate,z,q)}sendPasswordResetEmail(z,q){return T.a3(this._delegate,z,q||void 0)}setPersistence(z){var q=this;return(0,m.Z)(function*(){let de;switch(function ut(x,D){a1(Object.values(g2).includes(D),x,"invalid-persistence-type"),(0,ae.b$)()?a1(D!==g2.SESSION,x,"unsupported-persistence-type"):(0,ae.UG)()?a1(D===g2.NONE,x,"unsupported-persistence-type"):m2()?a1(D===g2.NONE||D===g2.LOCAL&&(0,ae.hl)(),x,"unsupported-persistence-type"):a1(D===g2.NONE||p2(),x,"unsupported-persistence-type")}(q._delegate,z),z){case g2.SESSION:de=T.a;break;case g2.LOCAL:de=(yield T.aC(T.i)._isAvailable())?T.i:T.b;break;case g2.NONE:de=T.N;break;default:return T.av("argument-error",{appName:q._delegate.name})}return q._delegate.setPersistence(de)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return y2(this._delegate,T._(this._delegate))}signInWithCredential(z){return y2(this._delegate,T.$(this._delegate,z))}signInWithCustomToken(z){return y2(this._delegate,T.a2(this._delegate,z))}signInWithEmailAndPassword(z,q){return y2(this._delegate,T.a9(this._delegate,z,q))}signInWithEmailLink(z,q){return y2(this._delegate,T.ac(this._delegate,z,q))}signInWithPhoneNumber(z,q){return mn(this._delegate,T.s(this._delegate,z,q))}signInWithPopup(z){var q=this;return(0,m.Z)(function*(){return R2(Jt(),q._delegate,"operation-not-supported-in-this-environment"),y2(q._delegate,T.c(q._delegate,z,Lt))})()}signInWithRedirect(z){var q=this;return(0,m.Z)(function*(){return R2(Jt(),q._delegate,"operation-not-supported-in-this-environment"),yield Mt(q._delegate),T.f(q._delegate,z,Lt)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return T.a7(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=g2,x})();function w1(x,D,z){let q=x;"function"!=typeof x&&({next:q,error:D,complete:z}=x);const de=q;return{next:gt=>de(gt&&P2.getOrCreate(gt)),error:D,complete:z}}function c2(x,D){const z=function jt(x,D){const z=o1();if(!z)return[];const q=T.aD(zn,x,D);switch(z.getItem(q)){case g2.NONE:return[T.N];case g2.LOCAL:return[T.i,T.a];case g2.SESSION:return[T.a];default:return[]}}(x,D);if(typeof self<"u"&&!z.includes(T.i)&&z.push(T.i),typeof window<"u")for(const q of[T.b,T.a])z.includes(q)||z.push(q);return z.includes(T.N)||z.push(T.N),z}class Bn{constructor(){this.providerId="phone",this._delegate=new T.P(v2(R.Z.auth()))}static credential(D,z){return T.P.credential(D,z)}verifyPhoneNumber(D,z){return this._delegate.verifyPhoneNumber(D,z)}unwrap(){return this._delegate}}Bn.PHONE_SIGN_IN_METHOD=T.P.PHONE_SIGN_IN_METHOD,Bn.PROVIDER_ID=T.P.PROVIDER_ID;const O1=T.aA;class yn{constructor(D,z,q=R.Z.app()){var de;O1(null===(de=q.options)||void 0===de?void 0:de.apiKey,"invalid-api-key",{appName:q.name}),this._delegate=new T.R(D,z,q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function P(x){x.INTERNAL.registerComponent(new xe.wA("auth-compat",D=>{const z=D.getProvider("app-compat").getImmediate(),q=D.getProvider("auth");return new G2(z,q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:T.A.EMAIL_SIGNIN,PASSWORD_RESET:T.A.PASSWORD_RESET,RECOVER_EMAIL:T.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:T.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:T.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:T.A.VERIFY_EMAIL}},EmailAuthProvider:T.Q,FacebookAuthProvider:T.U,GithubAuthProvider:T.W,GoogleAuthProvider:T.V,OAuthProvider:T.X,SAMLAuthProvider:T.Y,PhoneAuthProvider:Bn,PhoneMultiFactorGenerator:T.m,RecaptchaVerifier:yn,TwitterAuthProvider:T.Z,Auth:G2,AuthCredential:T.J,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.2")}(R.Z)},5861:(ht,Se,k)=>{function m(T,ae,me,we,xe,Pe,ze){try{var O=T[Pe](ze),B=O.value}catch(re){return void me(re)}O.done?ae(B):Promise.resolve(B).then(we,xe)}function R(T){return function(){var ae=this,me=arguments;return new Promise(function(we,xe){var Pe=T.apply(ae,me);function ze(B){m(Pe,we,xe,ze,O,"next",B)}function O(B){m(Pe,we,xe,ze,O,"throw",B)}ze(void 0)})}}k.d(Se,{Z:()=>R})},7582:(ht,Se,k)=>{function ae(te,ie){var fe={};for(var X in te)Object.prototype.hasOwnProperty.call(te,X)&&ie.indexOf(X)<0&&(fe[X]=te[X]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(X=Object.getOwnPropertySymbols(te);he<X.length;he++)ie.indexOf(X[he])<0&&Object.prototype.propertyIsEnumerable.call(te,X[he])&&(fe[X[he]]=te[X[he]])}return fe}function re(te,ie,fe,X){return new(fe||(fe=Promise))(function(Ee,Qe){function ke(Ut){try{mt(X.next(Ut))}catch(bt){Qe(bt)}}function Qt(Ut){try{mt(X.throw(Ut))}catch(bt){Qe(bt)}}function mt(Ut){Ut.done?Ee(Ut.value):function he(Ee){return Ee instanceof fe?Ee:new fe(function(Qe){Qe(Ee)})}(Ut.value).then(ke,Qt)}mt((X=X.apply(te,ie||[])).next())})}function Z(te){return this instanceof Z?(this.v=te,this):new Z(te)}function ue(te,ie,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=fe.apply(te,ie||[]),Ee=[];return he={},Qe("next"),Qe("throw"),Qe("return"),he[Symbol.asyncIterator]=function(){return this},he;function Qe(Kt){X[Kt]&&(he[Kt]=function(p2){return new Promise(function(m2,Jt){Ee.push([Kt,p2,m2,Jt])>1||ke(Kt,p2)})})}function ke(Kt,p2){try{!function Qt(Kt){Kt.value instanceof Z?Promise.resolve(Kt.value.v).then(mt,Ut):bt(Ee[0][2],Kt)}(X[Kt](p2))}catch(m2){bt(Ee[0][3],m2)}}function mt(Kt){ke("next",Kt)}function Ut(Kt){ke("throw",Kt)}function bt(Kt,p2){Kt(p2),Ee.shift(),Ee.length&&ke(Ee[0][0],Ee[0][1])}}function pe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ie=te[Symbol.asyncIterator];return ie?ie.call(te):(te=function le(te){var ie="function"==typeof Symbol&&Symbol.iterator,fe=ie&&te[ie],X=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&X>=te.length&&(te=void 0),{value:te&&te[X++],done:!te}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},X("next"),X("throw"),X("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function X(Ee){fe[Ee]=te[Ee]&&function(Qe){return new Promise(function(ke,Qt){!function he(Ee,Qe,ke,Qt){Promise.resolve(Qt).then(function(mt){Ee({value:mt,done:ke})},Qe)}(ke,Qt,(Qe=te[Ee](Qe)).done,Qe.value)})}}}k.d(Se,{FC:()=>ue,KL:()=>pe,_T:()=>ae,mG:()=>re,qq:()=>Z}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=7691)}]);